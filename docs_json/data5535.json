{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.09560"}, {"@name": "filename", "#text": "14541_001025066.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL ESCOLA DE ENGENHARIA\nPROGRAMA DE P\u00d3S-GRADUA\u00c7\u00c3O EM ENGENHARIA EL\u00c9TRICA\nVIYILS SANGREGORIO SOTO\nAN\u00c1LISE DO IMPACTO DA COMUNICA\u00c7\u00c3O EM REDES WIRELESSHART NO DESEMPENHO DE SISTEMAS DE CONTROLE\nVIYILS SANGREGORIO SOTO\nAN\u00c1LISE DO IMPACTO DA COMUNICA\u00c7\u00c3O EM REDES WIRELESSHART NO DESEMPENHO DE SISTEMAS DE CONTROLE\nDisserta\u00e7\u00e3o de mestrado submetida ao Programa de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia El\u00e9trica, da Universidade Federal do Rio Grande do Sul, como requisito parcial \u00e0 obten\u00e7\u00e3o do t\u00edtulo de Mestre em Engenharia El\u00e9trica.\n\u00c1rea de concentra\u00e7\u00e3o: Controle e automa\u00e7\u00e3o\nLinha de pesquisa: Sistemas de Automa\u00e7\u00e3o\nORIENTADOR: Dr. Carlos Eduardo Pereira\nVIYILS SANGREGORIO SOTO\nAN\u00c1LISE DO IMPACTO DA COMUNICA\u00c7\u00c3O EM REDES WIRELESSHART NO DESEMPENHO DE SISTEMAS DE CONTROLE\nEsta disserta\u00e7\u00e3o foi julgada adequada para a obten\u00e7\u00e3o do t\u00edtulo de Mestre em Engenharia El\u00e9trica e aprovada em sua forma final pelo Orientador e pela Banca Examinadora.\nOrientador:____________________________________________\nProf. Dr. Carlos Eduardo Pereira, UFRGS\nDoutor pela Universidade de Stuttgart - Stuttgart, Alemanha\nBanca Examinadora:\nProf. Dr. Dr. Jo\u00e3o C\u00e9sar Netto - PPGC-UFRGS\nDoutor pela Universidade Universite Catholique de Louvain, Louvain-la-Neuve, B\u00e9lgica\nProf. Dr. Renato Ventura Bayan Henriques - PPGEE-UFRGS\nDoutor pela Universidade Universidade Federal de Minas Gerais, UFMG, Brasil.\nProf. Dr. - Walter Fetter Lages - PPGEE-UFRGS\nDoutor pelo Instituto Tecnol\u00f3gico de Aeron\u00e1utica S\u00e3o Jos\u00e9 dos campos, ITA, Brasil\nCoordenador do PPGEE:_______________________________\nProf. Dr. Valner Jo\u00e3o Brusamarello\nDEDICAT\u00d3RIA\nPara que pudesse chegar at\u00e9 aqui, muitos foram os momentos em que tive de me privar da companhia daqueles sem os quais eu jamais teria alcan\u00e7ado este instante. Por isso, fica aqui o resultado destes \u00faltimos anos dedicados \u00e0 minha fam\u00edlia, que mesmo muito distantes e com as cada vez mais raras visitas, estiveram sempre comigo. Em especial ao meu pai, Vigilio que sempre esteve comigo em todos os momentos da minha vida, com a minha m\u00e3e Diana. \u00c0 minha namorada Nancy Milena Zapata, que sempre me deu muita for\u00e7a e presenciou, mais de perto o final de toda esta trajet\u00f3ria.\nAGRADECIMENTOS\nInicialmente meus agradecimentos ao Professor Carlos Eduardo Pereira, pelo apoio e pela oportunidade de trabalho nesta \u00e1rea e pela ajuda e acompanhamento constante que fez poss\u00edvel o desenvolvimento da minha pesquisa.\nAos meus amigos, Rosa Jim\u00e9nez, Sergio Martinez, pelo apoio em todas as circunst\u00e2ncias encontradas ao longo do mestrado. Em especial a minha amiga Andrea Gonz\u00e1les pelas longas horas de estudo mesmo quando as noites n\u00e3o eram suficientes.\nA meus colegas, Camilo Alberto, Gustavo Camilo e Mario pelos gratos momentos compartilhados ao longo destes anos.\nAo meu grande amigo Jamith, por sua amizade incondicional.\n\u00c0 Rochele Albuquerque, por toda a ajuda brindada e sua amizade incondicional.\nFinalmente agrade\u00e7o a meus, colegas, Ivan Muller e Jean Michel Winter, pelo auxilio e pela participa\u00e7\u00e3o nas atividades desenvolvidas.\nLembrando que a vida \u00e9 realmente indescrit\u00edvel! Quando pensamos que tudo est\u00e1 bem. L\u00e1 vem as lembran\u00e7as, as saudades. Para todos meus amigos, Gazzu, Katheryn, e Sheva que sempre me ajudaram a lembrar as coisas simples e boas da vida, mesmo quando as noites voavam em nossas tert\u00falias noturnas.\n\u00c0 minha fam\u00edlia que com seu carinho incondicional me deu o incentivo ao longo desta jornada e a for\u00e7a necess\u00e1ria para superar os obst\u00e1culos. \u00c0 Katia quem me ajudou muito e me aconselhou nos momentos mais dif\u00edceis no Brasil.\nRESUMO\nEste trabalho analisa o uso do protocolo I/re/essHART para a implementa\u00e7\u00e3o de sistemas de controle em la\u00e7o fechado. S\u00e3o discutidas poss\u00edveis arquiteturas de implementa\u00e7\u00e3o de la\u00e7os de controle, as quais se diferem basicamente pelo local na arquitetura do sistema de controle em rede em que o controlador ser\u00e1 executado. Optou-se pela an\u00e1lise do comportamento do protocolo I//'e/ess\u00ed IART numa arquitetura que considera o m\u00f3dulo de controle localizado num dispositivo host, o qual se comunica via HART-UDP com o gateway da rede. Para a an\u00e1lise da proposta desta disserta\u00e7\u00e3o foram descritos os mecanismos necess\u00e1rios para a realiza\u00e7\u00e3o do la\u00e7o de controle sobre uma rede I/re/essHART real, em um ambiente que apresenta todas as caracter\u00edsticas de uma instala\u00e7\u00e3o industrial. Os resultados obtidos mostram que, com a arquitetura proposta, o la\u00e7o de controle apresenta lat\u00eancias n\u00e3o determin\u00edsticas. Para a realiza\u00e7\u00e3o deste trabalho, foram apresentados dois estudos de caso: (i) o controle de uma v\u00e1lvula comumente utilizada na ind\u00fastria de petr\u00f3leo; (ii) e um processo simulado, que considera um controlador baseado em eventos, onde o sinal de controle \u00e9 calculado de acordo com os tempos de comunica\u00e7\u00e3o permitidos pela rede entre o controlador e o processo. Os resultados obtidos mostram que \u00e9 poss\u00edvel efetuar controle apesar dos atrasos ocasionados pela rede, desde que sejam levados em conta estes atrasos no c\u00e1lculo do sinal de controle, podendo assim mostrar h\u00e1 degrada\u00e7\u00e3o no desempenho do sistema sob controle.\nPalavras-chave: WirelessHART, HART-over-UDP, Controle em rede, Redes sem fio industriais.\nABSTRACT\nThis work analyzes the use of }F/re/essHART protocol for the implementation of closed-loop control systems. It discusses possible architectures for implementing control loops, which differ by the location where the controller is executing. For the performance evaluation of the n'/re/ewHART protocol behavior, an architecture that considers the control module located in a device, which communicates via Hart-UDP with the network gateway. The Experimental evaluations presented in this dissertation were performed in a setting that has all the characteristics of an industrial installation. The results showed that in the proposed architecture, the control loop has not deterministic latencies. Two case studies were carried on: (i) the control of a valve commonly used in oil and gas industrial applications; (ii) and a simulated process that considers an event-based controller where the control signal is calculated according to the communication time allowed by the network between the controller and the process. The results show that it is possible to perform control despite network delays, when taking into account the delays in the calculation of the control signal.\nKeywords: Electrical Engineering, Signal Processing, Automation and Control, Electronic Instrumentation.\n1\n2\n3\n4\nSUM\u00c1RIO\nintrodu\u00e7\u00e3o.......................................\n1.1\tObjetivos Do Trabalho.......................\n1.2\tOrganiza\u00e7\u00e3o Do Texto........................\nfundamenta\u00e7\u00e3o te\u00f3rica.......................\n2.1\tRedes Sem Fio Para Comunica\u00e7\u00e3o Industrial...\n2.2\tO Protocolo WirelessHART....................\n2.2.1\tTipos de Dispositivos da Rede................\n2.2.2\tCamadas do Protocolo WH......................\n2.3\tComandos utilizados.........................\n2.3.1\tComando 130 - Escritura da vari\u00e1vel de processo .\n2.3.2\tComando 131- Leitura da vari\u00e1vel de processo.\n2.4\tSistemas De Controle.............................\n2.4.1\tM\u00e9tricas de Desempenho de Sistemas de Controle\n2.4.2\tParadigmas Time-Triggered e Event-Triggered..\nsistemas de controle em rede................\n3.1\tModelamento de sistemas de controle em rede ...\n3.1.1\tArquiteturas de Sistemas de Controle em Rede.\n3.2\tPrincipais Efeitos Introduzidos pela Rede...\n3.2.1\n3.2.2\n3.2.3\n3.2.4\n3.3\tConsidera\u00e7\u00f5es Finais Do Capitulo...............\nan\u00e1lise do estado da arte.......................\n4.1\tRefer\u00eancias de Sistemas de Controle em Rede.....\n4.1.1\tReferencias de sistemas de controle distribu\u00eddo.\n4.1.2\tReferencias de Wireless Network Control Systems.\n4.2\tM\u00e9tricas Temporais de Protocolos de Comunica\u00e7\u00e3o\n4.3\n4.4\nAtrasos em Malhas de Controle..........................\nEstabilidade com Atrasos em NCS........................\nPerda de Pacotes em NCS................................\nPer\u00edodos de Amostragem e Atrasos em Sistemas de Controle\nTrabalhos Relacionados com Desempenho de Redes...................\nAn\u00e1lise de Sistemas de Controle sobre Rede WH....................\n4.4.1\tC ontrole no gateway.........................................\n4.5 Considera\u00e7\u00f5es Finais do Capitulo.................................\n4.5.1\tImplementa\u00e7\u00e3o de sistemas de controle sobre rede.............\ncontrole sobre redes wirelesshart com o algoritmo de\n15\n17\n18\n19\n19\n21\n22\n23\n30\n30\n31\n31\n32\n35\n37\n37\n40\n42\n42\n46\n48\n48\n52\n54\n54\n55\n56\n57\n58\n60\n62\n63\n65\n5\ncontrole localizado no host\n5.1\n5.2\n5.3\n5.4\nIntrodu\u00e7\u00e3o.....................\nPoss\u00edveis Fontes de Atrasos em NCS\nCen\u00e1rio NCS em WH..............\nMetodologia Proposta...........\n5.4.1 F erramenta HARTControl....\n5.5 Simulador Planta...............\n67\n67\n68\n71\n72\n73\n5.6\tAnalise da Metodologia Proposta..............................78\n5.6.1 WirelessHART Modo Burst.................................81\n5.7 Considera\u00e7\u00f5es Finais do Capitulo.............................83\n6\tINFLU\u00caNCIA da COMUNICA\u00c7\u00c3O via WIRELESSHART EM SISTEMAS\nDE CONTROLE.......................................................84\n6.1 Defini\u00e7\u00e3o dos Experimentos e os Objetivos..........................84\n6.1.1\tM\u00e9tricas de Desempenho........................................84\n6.1.2\tEquipamentos Utilizados.......................................85\n6.1.3\tExperimento 1.................................................86\n6.1.4\tExperimento 2.................................................86\nRESULTADOS EXPERIMENTAIS..........................................88\n6.2.1\tExperimento 1.................................................88\n6.2.2\tExperimento 2.................................................93\n6.3\tAvalia\u00e7\u00e3o do Desempenho em Fun\u00e7\u00e3o da din\u00e2mica do sistema de Controle .... 100\n6.4\tComparativo de Implementa\u00e7\u00f5es de Controle........................103\n6.4.1\tControle local...............................................103\n6.5\tConsidera\u00e7\u00f5es Finais Do Capitulo.................................105\n7\tCONCLUS\u00d5ES.......................................................106\n7.1\tSugest\u00f5es para trabalhos futuros.................................107\nREFER\u00caNCIAS............................................................108\nLISTA DE ILUSTRA\u00c7\u00d5ES\nFigura 1 Evolu\u00e7\u00e3o das arquiteturas de controle, desde os sistemas centralizados aos sistemas de controle em rede. (REHG et al., 1999)................................15\nFigura 2 Esquema de uma rede t\u00edpica WirelessHART (CHEN; NIXON; MOK, 2010)........21\nFigura 3 Camadas do protocolo WH baseado em (CHEN; NIXON; MOK, 2010).............24\nFigura 4 Estrutura do DLPDU do protocolo WirelessHART (CHEN; NIXON; MOK, 2010)............................................................................25\nFigura 5 Estrutura de um Superframe (HART COMMUNICATION FOUNDATION, 2010a)...........................................................................26\nFigura 6 Estrutura de um\tSlot (HART COMMUNICATION FOUNDATION, 2010a).............27\nFigura 7 Exemplo de uma rede mesh representada por um grafo (HAN et al., 2011)...28\nFigura 8 Diferentes tipos de roteamento por grafos (HAN et al., 2011)............29\nFigura 9 Resposta t\u00edpica ao salto unit\u00e1rio num sistema de segunda ordem..........34\nFigura 10 NCS com atrasos de transmiss\u00e3o por\t(HESPANHA, 2007)....................38\nFigura 11 Detalhe do funcionamento do m\u00f3dulo\tsensor (ZHU; YANG, 2008)............38\nFigura 12 Detalhe do funcionamento do m\u00f3dulo\tcontrolador (ZHU; YANG, 2008).......39\nFigura 13 Detalhe do funcionamento do m\u00f3dulo\tatuador (ZHU; YANG, 2008)...........40\nFigura 14 Estrutura direta de NCS (TIPSUWAN; CHOW, 2003).........................41\nFigura 15 Estrutura indireta de NCS (TIPSUWAN; CHOW, 2003).......................42\nFigura 16 Analise dos atrasos. Baseado em (LIAN; MOYNE; TILBURY, 2001)...........43\nFigura 17 Diagramas de tempo para os atrasos da comunica\u00e7\u00e3o (JIANG et al., 2008).44\nFigura 18 Sistema de controle via redes com seus respectivos atrasos de tempo....45\nFigura 19 NCS com planta e controlador LTI.......................................46\nFigura 20 Arquiteturas NCS, com um canal de realimenta\u00e7\u00e3o (HESPANHA, 2007).......46\nFigura 21 Sistema de controle amostrado (OGATA, 1996)............................49\nFigura 22 Desempenho do controle em fun\u00e7\u00e3o do per\u00edodo de amostragem..............50\nFigura 23 Sistema de controle em malha fechada com atrasos.......................50\nFigura 24 Resposta em frequ\u00eancia do sistema com atrasos..........................51\nFigura 25 Efeitos dos atrasos nos sistemas de controle...........................52\nFigura 26 Tempo morto entre o sensor e a execu\u00e7\u00e3o da tarefa de controle (S= sensor,\nC=controlador, A=atuador)........................................................68\nFigura 27 Efeitos do Jitter em controle acionado por eventos (S= sensor, C=controlador, A=atuador).......................................................................69\nFigura 28 Efeito do jitter em tarefas Time Driven (S= sensor, C=controlador, A=atuador). .................................................................................70 Figura 29 Atrasos causados pela falta de sincroniza\u00e7\u00e3o dos rel\u00f3gios (S=sensor,\nFigura 35 Interface da ferramenta HC................................................76\nFigura 36 Fluxograma gen\u00e9rico das fun\u00e7\u00f5es dos comandos executados pela thread comunica\u00e7\u00e3o.........................................................................76\nFigura 37 Estrutura do simulador da planta..........................................78\nFigura 38 Rede WH com rotas diretas para o GTW......................................79\nFigura 39 Representa\u00e7\u00e3o dos enlaces entre os vizinhos de cada FD....................80\nFigura 40 Tempo de transmiss\u00e3o de mensagens.........................................80\nFigura 41 Configura\u00e7\u00e3o do Modo Burst................................................81\nFigura 42 Superframe com links de transmiss\u00e3o.......................................83\nFigura 43 Arquitetura da comunica\u00e7\u00e3o entre o m\u00f3dulo controlador e o processo........84\nFigura 44 Smart wireless GTW 1420A - Emerson........................................85\nFigura 45 Prot\u00f3tipos WH compat\u00edveis com o protocolo.................................85\nFigura 46 Atuador utilizado nos experimentos........................................85\nFigura 47 Conex\u00e3o do computador, GTW e os FDs.......................................86\nFigura 48 Conex\u00e3o do computador, GTW e FD...........................................87\nFigura 49 Atrasos presentes na Arquitetura Proposta.................................88\nFigura 50 Histograma dos atrasos t1 + t2............................................89\nFigura 51 Atrasos t1 + t2...........................................................90\nFigura 52 Instantes de tempo rk.....................................................90\nFigura 53 Histograma de atrasos no la\u00e7o de controle completo rk.....................91\nFigura 54 Atrasos no la\u00e7o de controle x/<...........................................91\nFigura 55 Jitter t/&lt;do la\u00e7o completo de controle...................................92\nFigura 56 Reposta temporal da posi\u00e7\u00e3o do atuador....................................92\nFigura 57 Configura\u00e7\u00e3o do la\u00e7o de controle em rede..................................95\nFigura 58 Representa\u00e7\u00e3o da simula\u00e7\u00e3o do controle no True-Time.......................96\nFigura 59 Simula\u00e7\u00e3o de um WNCS no True-Time.........................................97\nFigura 60 Resposta temporal do processo simulado em True-Time.......................98\nFigura 61 Sinal de controle gerado pelo algoritmo de Karl-Erik \u00c2rz\u00e9n no processo simulado............................................................................98\nFigura 62 Resposta Temporal da planta simulada com a rede real WH...................99\nFigura 63 Jitter do software da planta simulada.....................................100\nFigura 64 Histograma do Jitter da planta...........................................100\nFigura 65 Resposta temporal e sinal de controle do sistema de primeira ordem com\nT = 666.6...........................................................................101\nFigura 66 Resposta temporal e sinal de controle do sistema de primeira ordem com\nT = 333.3...........................................................................102\nFigura 67 Resposta temporal e sinal de controle do sistema de primeira ordem com\nT = 303.03..........................................................................102\nFigura 68 Resposta temporal e sinal de controle do sistema de primeira ordem com\nT = 285.714.........................................................................103\nFigura 69 Conex\u00e3o Logica do controle local.........................................104\nFigura 70 Resposta temporal do processo do experimento 2, com controle local.......104\nFigura 71 Jitter do per\u00edodo do la\u00e7o sistema de controle local......................105\nLISTA DE TABELAS\nTabela 1 Dados\tda\trequisi\u00e7\u00e3o do comando 130................................30\nTabela 2 Dados\tde\tresposta do comando\t130..................................30\nTabela 3 Fun\u00e7\u00f5es implementadas no comando 130...........................................30\nTabela 4 Dados\tde\tresposta do comando\t131..................................31\nTabela 5 Status\tdo comando 131..........................................................31\nTabela 6 Influencia dos atrasos na margem de fase do sistema............................51\nTabela 7 Trabalhos relacionados.........................................................64\nTabela 8 Sequ\u00eancia dos time slot........................................................81\nTabela 9 Links para o dispositivo 1, Experimento do Modo Burst..........................82\nTabela 10\tN\u00famero de slots atribu\u00eddos de acordo ao tempo de Burst.......................82\nTabela 11\tResumo estat\u00edstico dos atrasos t1 + t2 em ms.................................89\nTabela 12\tResumo estat\u00edstico dos atrasos do la\u00e7o rk....................................90\nTabela 13\tPseudo C\u00f3digo do Algoritmo de \u00c2RZ\u00c9N Implementado.............................94\nTabela 14\tPar\u00e2metros do Controlador por eventos........................................94\nTabela 15\tDesempenho do sistema de controle atrav\u00e9s da rede simulada (True-Time).......99\nTabela 16\tDesempenho do sistema de controle atrav\u00e9s da rede WH.........................99\nTabela 17 Estad\u00edsticas das m\u00e9tricas de desempenho comparando a constante de tempo do\nsistema............................................................................101\nLISTA DE ABREVIATURAS\nA/D: Analog-Digita\nAP: Access Point\nCSMA/CD Carrier Sense Multiple Access with Collision Detection\nD/A: Digital-Analog\nDLPDU: Data Link Protocol Data Unit\nDSSS: Direct-Sequence Spread Spectrum\nET: Event-Triggered\nFD: Field Device\nHCF: Hart Communication Foundation\nISM: Industrial, Scientific and Medical\nLLC: Logical Link Control\nLTI: Linear time invariant\nMAC: Media Access Control\nMIMO: Multiple-input Multiple-output\nNM: Network Manager\nNCS: Networked Control System\nPLC: Programmable Logic Controller\nPPGEE: Programa de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia El\u00e9trica\nRCI: Redes de comunica\u00e7\u00e3o Industrial\nSISO: Single Input Single Output\nTDMA: Time Division Multiple Access\nTT: Time-Triggered\nUDP: User Datagram Protocol\nWNCS: Wireless Networked Control Systems\nWH: Wireless HART\nW SN: Wireless Sensor Network\n1 INTRODU\u00c7\u00c3O\nNa d\u00e9cada de 90, o mundo come\u00e7ou a presenciar enormes avan\u00e7os na \u00e1rea tecnol\u00f3gica, em que os circuitos eletr\u00f4nicos passaram a proporcionar maior efici\u00eancia, maior velocidade, mais funcionalidades, maior confiabilidade, menor consumo, menor ocupa\u00e7\u00e3o de espa\u00e7o f\u00edsico e ainda, com redu\u00e7\u00f5es de custos. (SMAR EQUIPAMENTOS INDUSTRIAIS LTDA, 2011) .\nNa Figura 1, observa-se a evolu\u00e7\u00e3o das arquiteturas de controle desde os sistemas centralizados, passando pelos distribu\u00eddos e culminando com o controle em rede.\nSistemas de controle em Rede.\nSistemas centralizados Sistemas de controle distribu\u00eddo.\nNetwork Switch\nControllers and Field Devices\nTCP/IP (Ethernet)\n\nJ\nFigura 1 Evolu\u00e7\u00e3o das arquiteturas de controle, desde os sistemas centralizados aos sistemas de controle em rede. (REHG et al., 1999).\nCom o incremento da complexidade dos processos industriais nas \u00faltimas d\u00e9cadas e, por conseguinte, do n\u00famero de cabos nos sistemas de automa\u00e7\u00e3o, a viabilidade de sistemas cabeados est\u00e1 comprometida devido ao incremento dos custos de aquisi\u00e7\u00e3o, instala\u00e7\u00e3o e manuten\u00e7\u00e3o. Na busca de maior efici\u00eancia e visando a redu\u00e7\u00e3o do n\u00famero de cabos necess\u00e1rios para ligar os pontos de interesses num la\u00e7o de controle (controlador, sensor e atuador) foram desenvolvidos novos protocolos de comunica\u00e7\u00e3o sem fio, como por exemplo ^irelessHART, ISA100.11a e ZigBee PRO (SONG, 2008). Estes novos protocolos apresentam vantagens quando comparados aos dispositivos cabeados. Entre as quais, destacam-se: facilidade de instala\u00e7\u00e3o, menores custos de instala\u00e7\u00e3o e baixa manuten\u00e7\u00e3o. Estas vantagens incentivaram a implementa\u00e7\u00e3o destes protocolos principalmente em aplica\u00e7\u00f5es de monitoramento na ind\u00fastria, como tem-se evidenciado nos \u00faltimos anos (SONG, 2008).\nsetor, e aumentou-se o uso destas redes, que incialmente foram utilizadas apenas nas tarefas de supervis\u00e3o de processos. Neste contexto, surge o seguinte questionamento: \u00e9 poss\u00edvel substituir todos os fios de uma planta industrial, e al\u00e9m do monitoramento, criar malhas de controle? Alguns autores como (SONG et al., 2006) acreditam na efic\u00e1cia da implanta\u00e7\u00e3o de redes sem fio para controle industrial, apresentando estudos que comprovam a viabilidade destes sistemas.\nA introdu\u00e7\u00e3o de redes de comunica\u00e7\u00e3o na ind\u00fastria, relacionadas com a \u00e1rea do controle em rede, criou uma nova \u00e1rea chamada \u201csistema de controle em rede\u201d, ou, em ingl\u00eas, Networked Control System (NCS). Como o nome j\u00e1 indica, s\u00e3o sistemas de controle distribu\u00eddos, onde os sensores, atuadores e controladores est\u00e3o alocados fisicamente em locais separados e s\u00e3o conectados atrav\u00e9s de uma rede de comunica\u00e7\u00e3o industrial (CALVO, 2005). A introdu\u00e7\u00e3o de arquiteturas NCS melhora a efici\u00eancia, flexibilidade e confiabilidade das aplica\u00e7\u00f5es de controle atrav\u00e9s de fia\u00e7\u00e3o reduzida e intelig\u00eancia distribu\u00edda al\u00e9m de reduzir os tempos e custos de instala\u00e7\u00e3o, reconfigura\u00e7\u00e3o e manuten\u00e7\u00e3o.\nAo contr\u00e1rio dos sistemas de controle discreto convencionais, em sistemas de controle em rede, o mesmo meio de comunica\u00e7\u00e3o \u00e9 utilizado para estabelecer v\u00e1rias malhas de controle, al\u00e9m de ser utilizado para outras tarefas independentes. Por\u00e9m, o fato de utilizar uma liga\u00e7\u00e3o em rede n\u00e3o exclusiva para fechar um la\u00e7o de controle, implica em uma s\u00e9rie de inconvenientes inerentes aos NCS que podem influenciar negativamente no monitoramento de vari\u00e1veis de interesse, prejudicando a tomada de decis\u00e3o pelos algoritmos de controle e a respectiva atua\u00e7\u00e3o.\nO primeiro problema caracter\u00edstico de tais sistemas \u00e9 que o compartilhamento do meio de comunica\u00e7\u00e3o para a liga\u00e7\u00e3o dos pontos de interesse (sensor, controlador e atuador) e os n\u00f3s da rede reduz a largura de banda dispon\u00edvel para cada dispositivo no instante da transmiss\u00e3o, especialmente quanto maior for o n\u00famero de dispositivos que competem para a utiliza\u00e7\u00e3o do meio compartilhado. O fato de o meio de comunica\u00e7\u00e3o n\u00e3o estar sempre dispon\u00edvel, pode, em alguns casos, impossibilitar a transmiss\u00e3o completa da informa\u00e7\u00e3o por unidade de tempo desej\u00e1vel, o que implica na limita\u00e7\u00e3o da frequ\u00eancia de amostragem e, por sua vez, na determina\u00e7\u00e3o do limite inferior do per\u00edodo de amostragem da vari\u00e1vel de interesse. No entanto num meio de comunica\u00e7\u00e3o compartilhado, nem sempre \u00e9 poss\u00edvel atingir a frequ\u00eancia de amostragem necess\u00e1ria para que todas as informa\u00e7\u00f5es sejam transmitidas, e, neste caso, \u00e9 preciso conceber uma estrutura de controle adequada a esta situa\u00e7\u00e3o, e deste modo garantir o desempenho do sistema.\nA segunda desvantagem, \u00e9 que o compartilhamento do meio de induz atrasos na comunica\u00e7\u00e3o e que obviamente, estes atrasos ter\u00e3o uma influ\u00eancia negativa sobre o desempenho do sistema de controle.\nO terceiro problema \u00e9 a falta de sincroniza\u00e7\u00e3o entre as bases de tempo da rede, as tarefas executadas nos m\u00f3dulos (controlador, sensor e atuador), e os diferentes m\u00f3dulos da rede. Em um sistema de controle discreto convencional presume-se que a amostragem da vari\u00e1vel de interesse, o c\u00e1lculo das a\u00e7\u00f5es de controle e sua aplica\u00e7\u00e3o no processo controlado est\u00e3o sincronizadas. Como nem sempre existe uma maneira de sincronizar as duas extremidades de forma permanente, n\u00e3o \u00e9 poss\u00edvel garantir que os eventos estejam perfeitamente sincronizados. Em condi\u00e7\u00f5es normais essa falta de sincroniza\u00e7\u00e3o n\u00e3o afetaria o sistema de forma significativa, mas quando s\u00e3o combinadas com os resultados de atraso aleat\u00f3rio, a perda e reutiliza\u00e7\u00e3o da informa\u00e7\u00e3o pode ser significativa para efeitos de controle.\nExistem basicamente duas formas de resolver estes inconvenientes. A primeira forma seria melhorar o desempenho do meio de comunica\u00e7\u00e3o em comum aumentando sua largura de banda dispon\u00edvel e, por conseguinte, reduzindo o seu impacto sobre o sistema sob controle. A segunda, e um outro ponto de vista, \u00e9 supor que o meio de comunica\u00e7\u00e3o existente imp\u00f5e limita\u00e7\u00f5es e que \u00e9 poss\u00edvel superar sua influ\u00eancia, atrav\u00e9s da concep\u00e7\u00e3o de estruturas de controle apropriados (CALVO, 2005).\n1.1 Objetivos Do Trabalho\nEste trabalho prop\u00f5e a abordagem dos seguintes temas: i) a descri\u00e7\u00e3o do problema de NCS, relacionando os par\u00e2metros que permitam avaliar a influ\u00eancia do meio de comunica\u00e7\u00e3o em um sistema de controle em rede; ii) identifica\u00e7\u00e3o e, se \u00e9 necess\u00e1rio, desenvolvimento de ferramentas para realizar controle usando redes WH; iii) an\u00e1lise de como a comunica\u00e7\u00e3o em redes WH impacta sistemas de controle; iv) efeitos da varia\u00e7\u00e3o dos atrasos temporais em sistemas de controle baseados neste tipo de rede; v) implementa\u00e7\u00e3o de um controlador por eventos para compensar os atrasos sofridos na comunica\u00e7\u00e3o via rede WH.\n1.2\tOrganiza\u00e7\u00e3o Do Texto\nO trabalho est\u00e1 organizado da seguinte forma: no Capitulo 2 s\u00e3o apresentados os conceitos gerais utilizados na disserta\u00e7\u00e3o: redes sem fio, o protocolo WH, conceitos sobre sistemas de controle e redes de comunica\u00e7\u00e3o. O Cap\u00edtulo 3 aborda a modelagem de sistemas de controle sobre redes e descreve os principais efeitos introduzidos pelas redes de comunica\u00e7\u00e3o. No Cap\u00edtulo 4 \u00e9 feita uma an\u00e1lise de trabalhos relacionados \u00e0s metodologias e m\u00e9tricas para an\u00e1lise de desempenho de sistemas de controle em rede. O Cap\u00edtulo 5 descreve a proposta de implementa\u00e7\u00e3o para avalia\u00e7\u00e3o de desempenho do sistema oferecendo suporte a aplica\u00e7\u00f5es de controle, incluindo a descri\u00e7\u00e3o das ferramentas desenvolvidas e os equipamentos utilizados para a implementa\u00e7\u00e3o dos estudos de caso. No Cap\u00edtulo 6 \u00e9 apresentada a arquitetura proposta, os experimentos definidos para a an\u00e1lise como seus objetivos, as simula\u00e7\u00f5es da arquitetura proposta realizadas na ferramenta True-Time para o Matlab e todos os resultados obtido atrav\u00e9s dos experimentos. O trabalho \u00e9 finalizado com as conclus\u00f5es, perspectivas da disserta\u00e7\u00e3o e trabalhos futuros no Cap\u00edtulo 7.\n2\tFUNDAMENTA\u00c7\u00c3O TE\u00d3RICA\nNeste capitulo \u00e9 apresentada uma breve revis\u00e3o sobre alguns conceitos fundamentais necess\u00e1rios para o entendimento deste trabalho. Inicialmente \u00e9 descrito o conceito de redes de sem fio para comunica\u00e7\u00e3o industrial. Em seguida, \u00e9 explicado o protocolo WH que \u00e9 utilizado para analisar o impacto de uma rede sem fio em sistemas de controle, e, finalmente s\u00e3o apresentadas as m\u00e9tricas de desempenho para sistemas de controle.\n2.1 Redes Sem Fio Para Comunica\u00e7\u00e3o Industrial\nO crescimento na utiliza\u00e7\u00e3o de sistemas computacionais distribu\u00eddos para automa\u00e7\u00e3o industrial possibilitou desenvolver melhorias para atender as necessidades de comunica\u00e7\u00e3o entre diversos dispositivos e, inclusive, de diferentes fabricantes (protocolos abertos). Conforme (WINTER, 2010), a utiliza\u00e7\u00e3o de redes que permitam a comunica\u00e7\u00e3o r\u00e1pida e confi\u00e1vel entre equipamentos e o uso de mecanismos padronizados \u00e9, na atualidade, fator relevante no conceito de produtividade industrial.\nOs protocolos de comunica\u00e7\u00e3o devem satisfazer alguns requisitos para que sejam adequados para aplica\u00e7\u00f5es em ambientes industriais, tais como, determinismo, confiabilidade, seguran\u00e7a e robustez do protocolo. Um dos grandes desafios da comunica\u00e7\u00e3o sem fio reside na susceptibilidade aos fen\u00f4menos que ocorrem na propaga\u00e7\u00e3o de ondas eletromagn\u00e9ticas (OEM), tais como interfer\u00eancias, reflex\u00f5es, difra\u00e7\u00f5es, desvanecimentos e problemas de coexist\u00eancia com outros protocolos de comunica\u00e7\u00e3o que interferem nos enlaces de comunica\u00e7\u00e3o baseados em RF (r\u00e1dio frequ\u00eancia). A literatura apresenta diversas t\u00e9cnicas que podem ser empregadas com o objetivo de atingir um alto n\u00edvel de confiabilidade das redes sem fio.\nExemplo disto s\u00e3o as redes WH que utilizam os dispositivos de campo (FD- Field Devices) os quais s\u00e3o unidades aut\u00f4nomas constitu\u00eddas por um micro controlador, uma fonte de energia (uma bateria, em geral), um transceptor de RF e um elemento sensor. Os transceptores implementam t\u00e9cnicas de espalhamento espectral a fim de reduzir o consumo de energia e aumentar a robustez de enlace, reduzindo a perda de dados. O emprego destas t\u00e9cnicas ligado a t\u00e9cnicas de saltos entre canais utilizada em redes como os WH, permitem \u00e0s redes sem fio um alto grau de robustez, necess\u00e1rio para a coexist\u00eancia dos protocolos em ambiente industrial.\nCusto e tempo s\u00e3o reduzidos, porque n\u00e3o \u00e9 necess\u00e1ria a instala\u00e7\u00e3o de cabos. A maioria dos dispositivos WH s\u00e3o operados por bateria, logo, a instala\u00e7\u00e3o e requisitos de servi\u00e7o s\u00e3o menores dos que os custos de instala\u00e7\u00e3o das redes cabeadas.\nDevido \u00e0s limita\u00e7\u00f5es de dura\u00e7\u00e3o da bateria, os n\u00f3s de uma rede sem fio industrial s\u00e3o constru\u00eddos visando economia de energia, e sempre que poss\u00edvel assumem um modo de baixo consumo (mais conhecido como modo \"dormir\", ou, em ingl\u00eas \"sleep\"). Em alguns protocolos, como no WH, todos os dispositivos da rede em malha s\u00e3o roteadores de forma que uma falha isolada n\u00e3o degrada de forma significativa o comportamento da rede. Deste modo, a rede de comunica\u00e7\u00e3o sem fio industrial tem capacidade de autorestaura\u00e7\u00e3o, ou seja, se um n\u00f3 falhar, a rede encontra novos caminhos de comunica\u00e7\u00e3o para os pacotes de dados em outra rota. Assim, a rede ir\u00e1 subsistir mesmo que um n\u00f3 individual perca a capacidade de comunica\u00e7\u00e3o. O diagn\u00f3stico, autoconfigura\u00e7\u00e3o, auto-organiza\u00e7\u00e3o, autorestaura\u00e7\u00e3o e reparo, s\u00e3o propriedades que t\u00eam sido desenvolvidas para esta rede com o objetivo de aumentar sua robustez.\nA perda de dados causada pela falha de algum n\u00f3 sensor pode ser considerada normal para a maioria dos sistemas de rede, mas em aplica\u00e7\u00f5es como controle industrial, tais falhas s\u00e3o inaceit\u00e1veis devido aos riscos que podem gerar. Dispositivos sem fio para utiliza\u00e7\u00e3o em ambientes industriais devem ser projetados para funcionamento sem interrup\u00e7\u00e3o por diversos anos, especialmente quando s\u00e3o utilizados em processos automatizados cont\u00ednuos (GUTIERREZ et al., 2011). Neste contexto, a utiliza\u00e7\u00e3o de redes de sensores sem fio em aplica\u00e7\u00f5es industriais deve prever mecanismos para garantir confiabilidade na comunica\u00e7\u00e3o dos dados e robustez para manuten\u00e7\u00e3o da rede ativa, mesmo quando \u00e9 implementada em ambientes fabris (GUNGOR; HANCKE, 2009).\nCom o objetivo de atender esta nova \u00e1rea importante para a automa\u00e7\u00e3o industrial, muitos protocolos de comunica\u00e7\u00e3o industrial sem fio foram desenvolvidos nos \u00faltimos anos e aprovados pela IEC (GALLOWAY; HANCKE, 2013), como o WH, ISA 100.11 e WIA-PA (Wireless Networks for Industrial Automation - Process Automation) nos padr\u00f5es 62591, 62734 e 62601 respectivamente. Em (NOGUEIRA, 2009) e (DJIEV, 2003) sao analisadas as caracter\u00edsticas, vantagens e desvantagens de outro protocolo, o ZigBee PRO desenvolvido para aplica\u00e7\u00f5es industriais, que implementa a camada f\u00edsica do padr\u00e3o IEEE 802.15.4 e modifica a funcionalidade da camada de acesso ao meio original deste padr\u00e3o.\n2.2 O Protocolo lI7/?/f7/f.S'.S'HART\nO WH \u00e9 um protocolo desenvolvido pela Hart Communications Foundation (HCF) para uso em aplica\u00e7\u00f5es de monitoramento e controle de processos industriais. Como j\u00e1 indicado em seu nome, o protocolo WH \u00e9 uma extens\u00e3o do protocolo HART, o qual propicia uma rede segura com as seguintes caracter\u00edsticas:\n\u2022 Camada F\u00edsica: IEEE 802.15.4, na faixa Industrial, Scientific andMedical (ISM) de\n2,4\tGHz;\n\u2022 Camada de Rede: topologia em malha e roteamento est\u00e1tico por grafos. Os elementos que constituem uma rede WH mesh s\u00e3o apresentados na Figura 2.\n\u2022 Saltos de canais TDMA, CSMA-CA em conex\u00f5es compartilhadas ass\u00edncronas.\nPonto de' l\nGerenciador da rede, Gateway \u25a0\nDispositivo\nDispositivo de Campo\nDispositivo de Campo\nDispositivo de Campo\nDispositivo de Campo\nFigura 2 Esquema de uma rede t\u00edpica Rzre/e.s.sHART\n(CHEN; NIXON; MOK, 2010).\n2.2.1\tTipos de Dispositivos da Rede\nUma rede WH inclui os seguintes tipos de dispositivos (SMAR, 2010):\nWH Gateway (GTW) - genericamente, o GTW WH \u00e9 a unidade centralizadora que incorpora as funcionalidades de Gerenciador de Rede (Network Manager), Gerenciador de Seguran\u00e7a (Secur/ty Manager), Ponto de Acesso (Access Po/nt) e do GTW em si.\nAccess Point - \u00e9 o transceptor WH instalado no GTW, que permite acesso deste \u00e0 rede mesh.\nGerenciador de rede ou Network Manager (NM) - distribui, entre outras responsabilidades, a identidade da rede, publicando sua exist\u00eancia; confere chaves de seguran\u00e7a individuais aos instrumentos; atribui uma banda de comunica\u00e7\u00e3o a eles; gerencia rotas na comunica\u00e7\u00e3o entre eles. \u00c9 uma aplica\u00e7\u00e3o que pode ser incorporada ao GTW WH.\nGerenciador de Seguran\u00e7a - \u00e9 uma aplica\u00e7\u00e3o normalmente incorporada no GTW WH, respons\u00e1vel pela gera\u00e7\u00e3o e atribui\u00e7\u00e3o das chaves criptogr\u00e1ficas utilizadas no protocolo.\nAdaptador WH - \u00e9 um instrumento \u201cponte\u201d, capaz de disponibilizar dados de um instrumento de campo HART 4-20 mA (com fio) ao hospedeiro via WH (sem fio), permitindo ent\u00e3o que um instrumento de campo convencional HART fa\u00e7a parte de uma rede WH.\nDispositivos de campo ou Field Devices (FD) - Os dispositivos de campo s\u00e3o conectados ao processo para realizar tarefas de medi\u00e7\u00e3o e controle. O FD \u00e9 um produtor e consumidor de pacotes WH e possui capacidade de roteamento para os outros dispositivos da rede. Todos os dispositivos de campo WH devem apresentar uma porta de manuten\u00e7\u00e3o que \u00e9 usado para provisionamento e diagn\u00f3sticos locais.\nOs dispositivos de campo s\u00e3o utilizados em uma vasta gama de aplica\u00e7\u00f5es de monitoramento e controle. Alguns exemplos: controle e monitoramento de n\u00edvel, n\u00edveis de emiss\u00f5es e qualidade da \u00e1gua, monitoramento de equipamento de sa\u00fade, entre outros. Os dispositivos de campo podem medir n\u00edveis de temperatura, press\u00e3o, fluxo, pH, densidade, n\u00edveis de emiss\u00f5es, vibra\u00e7\u00e3o, etc., e tamb\u00e9m podem estar conectados aos elementos finais de atua\u00e7\u00e3o, tais como v\u00e1lvulas, agitadores, ventiladores e transportadores.\nroteamento. No entanto, pode ser necess\u00e1rio por exemplo, para estender o alcance da rede ou melhorar um enlace deficiente.\nHandheld - S\u00e3o dispositivos port\u00e1teis utilizados na instala\u00e7\u00e3o e manuten\u00e7\u00e3o de dispositivos de rede. S\u00e3o equipamentos port\u00e1teis operados pelos funcion\u00e1rios da planta.\nQuatro dispositivos s\u00e3o fundamentais para o estabelecimento da rede WH: o gerenciador de rede, o GTW, o ponto de acesso, e os dispositivos de campo. Cada um destes elementos tem uma caracter\u00edstica espec\u00edfica no funcionamento da rede, como foi mencionado anteriormente. Em primeiro lugar est\u00e1 o gerenciador de rede, o qual \u00e9 respons\u00e1vel pela configura\u00e7\u00e3o, agendamento e gerenciamento das tabelas de roteamento de mensagens da rede atrav\u00e9s do GTW que est\u00e1 ligado aos dispositivos de campo mediante pontos de aceso.\n2.2.2\tCamadas do Protocolo WH\nNa Figura 3 observa-se a arquitetura do protocolo WH de acordo com o modelo ISO/OSI (Open System Interconnection), o qual inclui cinco camadas das sete do modelo: camada f\u00edsica, camada de enlace, camada de rede, camada de transporte e camada de aplica\u00e7\u00e3o. (CHEN; NIXON; MOK, 2010).\nCamada F\u00edsica\nA camada f\u00edsica do Protocolo de comunica\u00e7\u00e3o sem fio WH est\u00e1 baseada no padr\u00e3o IEEE 802.15.4-2006, e utiliza 15 dos16 canais (11 ao 25) na faixa de frequ\u00eancias ISM de 2,4 a 2,485 MHz, com intervalos de 5 MHz entre cada canal. Em alguns pa\u00edses o canal 26 \u00e9 um canal proibido, n\u00e3o sendo, portanto, utilizado pelo WH. Os dispositivos WH devem possuir uma pot\u00eancia transmiss\u00e3o program\u00e1vel de -10, 0, 10 dBm (pelo menos) e uma sensibilidade de -85 dBm, fornecendo uma taxa de dados bruta de 250 kbit/s.\nCamada de Enlace\nNa camada de enlace encontram-se os meios necess\u00e1rios para a transmiss\u00e3o dos dados entre os dispositivos da rede. Os quadros de tempo s\u00e3o respons\u00e1veis pela transfer\u00eancia segura dos pacotes entre dois n\u00f3s da rede. A camada de enlace est\u00e1 dividida em duas subcamadas: LLC (Logical Link Control e Medium Access Control) e MAC. Na Subcamada LLC est\u00e3o definidos os quadros, os endere\u00e7os dos dispositivos e os servi\u00e7os de seguran\u00e7a da rede para garantir a integridade da informa\u00e7\u00e3o enviada (HART COMMUNICATION FOUNDATION, 2007).\nO enquadramento da DLPDU (Data Link Protocol Data Unit), mostrado na Figura 4, \u00e9 constitu\u00eddo pelos seguintes campos:\n\u2022\tUm byte com o valor fixo 0x41;\n\u2022\tUm byte especificador de endere\u00e7o;\n\u2022\tUm byte com o n\u00famero sequencial;\n\u2022\tDois bytes referentes ao identificador de rede;\n\u2022\tEndere\u00e7os de destino e origem: podem ser 2 ou 8 bytes, conforme o identificador utilizado (UID ou nickname);\n\u2022\tUm byte especificador da DLLPDU;\n\u2022\tO payload DLL;\n\u2022\tO c\u00f3digo de integridade de mensagens (MIC), em quatro bytes;\n\u2022\tDois bytes de CRC16 ITU-T;\nO tamanho total do pacote pode chegar a 127 bytes.\nFigura 3 Camadas do protocolo WH baseado em (CHEN; NIXON; MOK, 2010).\nExistem 5 tipos diferentes de DLPDU (WINTER, 2010), baseados neste formato, que s\u00e3o:\nACK(Acknowledgementy. representa a resposta de n\u00edvel imediato para receber transmiss\u00f5es DLPDU de outras fontes. O ACK cont\u00e9m o c\u00f3digo de resposta que indica se o dispositivo receptor aceitou a DLPDU.\nAdvertise (an\u00fancio): fornece informa\u00e7\u00e3o para os dispositivos vizinhos que podem agregarse \u00e0 rede. \u00c9 utilizado para convidar novos dispositivos a associarem-se \u00e0 rede. Quando um dispositivo deseja associar-se a rede ele checa por este tipo de DLPDU e usa as informa\u00e7\u00f5es no payload para sincronizar-se com a rede e iniciar o processo de agrega\u00e7\u00e3o.\nData: dados de requisi\u00e7\u00f5es e respostas a comados ou de publica\u00e7\u00e3o de vari\u00e1veis de processo de um n\u00f3 da rede.\nDisconnect: o DLPDU de desconex\u00e3o \u00e9 gerado por um dispositivo que est\u00e1 deixando a rede. Implica que o dispositivo n\u00e3o estar\u00e1 mais dispon\u00edvel para comunica\u00e7\u00e3o e pode ser removido da lista de vizinhos. Todas as conex\u00f5es estabelecidas com os vizinhos deste dispositivo s\u00e3o apagadas.\nKeep Alive: respons\u00e1vel pela manuten\u00e7\u00e3o de conex\u00e3o entre dispositivos vizinhos. Opayload para este tipo de DLPDU \u00e9 vazio e \u00e9 utilizado para manuten\u00e7\u00e3o da rede. Al\u00e9m disso, na descoberta de um vizinho, o dispositivo deve emitir periodicamente DLPDUs do tipo Keep Alive para o GTW.\nFigura 4 Estrutura do DLPDU do protocolo K/re/ewHART (CHEN; NIXON; MOK, 2010).\nSubcamada de controle de acesso ao meio MAC: Nesta subcamada s\u00e3o coordenados os instantes de tempo em que cada um dos dispositivos tem dispon\u00edvel para transmitir ou receber mensagens (HART COMMUNICATION FOUNDATION, 2010a). Na camada de enlace do protocolo HW s\u00e3o usados dois m\u00e9todos: o primeiro \u00e9 baseado em TDMA (Time Division Multiple Access') para garantir uma comunica\u00e7\u00e3o determin\u00edstica sem colis\u00f5es e o segundo, o CSMA (Carrier Sensor Multiple Access'), onde o acesso \u00e9 disputado probabilisticamente pelos n\u00f3s da rede.\nO TDMA utiliza time slot (slots de tempo) de tempo de 10 ms para realizar as comunica\u00e7\u00f5es entre os dispositivos. Estes slots formam os superframes (grupo de slot), com caracter\u00edsticas tais como o n\u00famero absoluto de slot, denominado Absolute Slot Number (ASN), e os saltos de canais, os quais s\u00e3o realizados entre cada slot para diminuir o efeito da interfer\u00eancia causado por outras redes sem fio. A subcamada MAC \u00e9 respons\u00e1vel pela propaga\u00e7\u00e3o dos DLPDUs, e possui tabelas de vizinhos, superframes, links e grafos que configuram a comunica\u00e7\u00e3o entre os dispositivos e seus vizinhos. Estas tabelas s\u00e3o criadas e mantidas pelo gerenciador de rede.\nOs superframes consistem numa sequ\u00eancia de slot que se repetem de forma peri\u00f3dica. Destaca-se que o per\u00edodo do superframe depende de quantos slot constituem o mesmo. Na Figura 5 observa-se um superframe formado por 21 slot no qual o per\u00edodo completo do ciclo seria de 210 ms. Cada slot de um superframe est\u00e1 enumerado com seu respectivo ASN (HART COMMUNICATION FOUNDATION, 2010a).\nTimeslot\nFigura 5 Estrutura de um Superframe (HART COMMUNICATION FOUNDATION, 2010a).\nOs slot dos superframes t\u00eam uma dura\u00e7\u00e3o e n\u00famero de slot fixos, formando um ciclo repetitivo que garante o determinismo da rede. Dentro de cada slot de tempo est\u00e1 especificado o momento no qual come\u00e7a a transmiss\u00e3o das mensagens, em um instante predeterminado dentro do slot. Antes de come\u00e7ar a transmiss\u00e3o da mensagem os dispositivos que est\u00e3o se comunicando devem configurar os canais de escuta da mensagem adequadamente, para a recep\u00e7\u00e3o de pacotes, considerando que o canal que recebe o pacote deve come\u00e7ar a escuta das mensagens antes do tempo predeterminado no slot. Depois de receber a transmiss\u00e3o, o dispositivo emite uma resposta ACK, indicando se recebeu de forma correta os dados. A Figura 6 apresenta a forma como \u00e9 estruturado de forma completa o slot do protocolo WH.\nFigura 6 Estrutura de um Slot (HART COMMUNICATION FOUNDATION, 2010a).\nCamada de Rede\nA camada de rede do protocolo WH suporta topologias variadas, incluindo malhas (\"mesh\") e mais de uma t\u00e9cnica de roteamento. Dentro dos dispositivos de uma rede mesh, cada n\u00f3 deve poder encaminhar pacotes.\nA norma WH da HCF define quatro tipos de roteamento, descritos nas subse\u00e7\u00f5es a seguir.\nRoteamento por proxy\nEste tipo de roteamento \u00e9 utilizado para o ingresso de novos dispositivos a uma rede WH. Depois de ingressar na rede existente os dispositivos s\u00e3o denominados proxys, e funcionam como intermedi\u00e1rios entre o NM e os novos dispositivos que podem ser adicionados posteriormente \u00e0 rede.\nRoteamento por fonte\nO algoritmo do roteamento \u00e9 definido na origem, ou seja, no NM de rede. Desta forma, o n\u00f3 remetente recebe a sequ\u00eancia completa de n\u00f3s pelos quais o pacote deve ser caminhado. No WH, mais de uma forma de roteamento \u00e9 poss\u00edvel. No roteamento por fonte, o remetente explicitamente lista a rota no cabe\u00e7alho do pacote, identificando cada n\u00f3 pelo seu endere\u00e7o (no m\u00e1ximo oito n\u00f3s). O processo de envio de pacote se inicia com o n\u00f3 de origem, que fica respons\u00e1vel por buscar em sua tabela de rotas, caminhos que tenham como destino o n\u00f3 desejado. Uma vez definida a rota, ela \u00e9 gravada no cabe\u00e7alho da mensagem e transmitida para o primeiro n\u00f3 da rota. O n\u00f3, ao receber a mensagem, primeiramente verifica na rota gravada na mensagem se ele \u00e9 o destino da mensagem. Caso seja, o processo \u00e9 encerrado, pois a mensagem chegou em seu destino. Caso contr\u00e1rio, o n\u00f3 passa a mensagem para o pr\u00f3ximo n\u00f3 da rota (JOHNSON; MALTZ, 1996).\nRoteamento por Grafos\nUm grafo representado pela equa\u00e7\u00e3o (1), \u00e9 formado por um conjunto de v\u00e9rtices \"V\" e um conjunto de arestas \"E\" que ligam pares de v\u00e9rtices distintos (somente uma aresta ligar\u00e1 qualquer par de v\u00e9rtices). Numa rede WH os v\u00e9rtices representam os dispositivos ou n\u00f3s da rede, e as arestas s\u00e3o as liga\u00e7\u00f5es ou links entre dois dispositivos.\nG = (V.E)\t(1)\nA Figura 7 apresenta uma rede mesh representada por grafo.\nFigura 7 Exemplo de uma rede mesh representada por um grafo (HAN et al., 2011).\nO m\u00e9todo de roteamento por grafos cria uma cole\u00e7\u00e3o de caminhos entre os n\u00f3s da rede, como observa-se na Figura 7 (linhas entre n\u00f3s), que s\u00e3o utilizados para o envio de um pacote da sua origem at\u00e9 o destino. Da mesma forma que o m\u00e9todo de roteamento por fonte \u00e9 adicionado no cabe\u00e7alho do pacote um identificador do grafo, ou Graph id.\nO sistema de roteamento por grafos apresenta uma particularidade que permite adicionar diversos caminhos para o envio de uma mensagem. Deste modo caso um dos dispositivos n\u00e3o esteja dispon\u00edvel, a mensagem pode ser encaminha por outro. Na Figura 8 s\u00e3o apresentados diferentes de roteamento por grafos. \u00c9 poss\u00edvel observar que se pode chegar por diferentes caminhos num mesmo n\u00f3, caracterizando redund\u00e2ncia de caminhos.\nNestes grafos, a redund\u00e2ncia \u00e9 feita de modo a cada dispositivo receber suas mensagens atrav\u00e9s de dois ou mais caminhos (grafos de broadcast e downlink), ou enviar seus pacotes atrav\u00e9s de dois ou mais caminhos (grafo de uplink). A liga\u00e7\u00e3o entre os APs e o gateway \u00e9 considerada confi\u00e1vel e n\u00e3o necessita de redund\u00e2ncia. Neste tipo de roteamento, os dispositivos intermedi\u00e1rios encaminham os pacotes utilizando o primeiro link de transmiss\u00e3o dispon\u00edvel com qualquer um dos pr\u00f3ximos vizinhos, em qualquer um dos superframes.\nFigura 8 Diferentes tipos de roteamento por grafos (HAN et al., 2011).\nRoteamento por superframes\nNeste caso os nodos intermedi\u00e1rios s\u00e3o configurados com os links necess\u00e1rios com os vizinhos do superframe at\u00e9 o destinat\u00e1rio final. Os dispositivos WH n\u00e3o precisam ter informa\u00e7\u00f5es sobre as rotas: o encaminhamento das mensagens \u00e9 feito atrav\u00e9s dos links inclu\u00eddos dentro do superframe.\nCamada de Aplica\u00e7\u00e3o\nos diversos comandos dispon\u00edveis, alguns s\u00e3o necess\u00e1rios para o desenvolvimento deste trabalho e s\u00e3o descritos a seguir.\n2.3 Comandos utilizados\nAtrav\u00e9s da interface com o GTW e utilizando os comandos definidos na camada de aplica\u00e7\u00e3o, \u00e9 poss\u00edvel obter informa\u00e7\u00f5es dos dispositivos na rede sem fio. Um exemplo disso \u00e9 apresentado em (WINTER, 2013) que utilizou o protocolo HART-IP para obter informa\u00e7\u00f5es sobre a rede tais como dados de vizinhan\u00e7a dos dispositivos presentes na rede. Os comandos s\u00e3o encapsulados sobre UDP para trocar informa\u00e7\u00f5es com o GTW. Da mesma forma, a aplica\u00e7\u00e3o host desenvolvida nesta disserta\u00e7\u00e3o \u00e9 totalmente dependente do uso dos comandos para poder fechar um la\u00e7o de controle. Para o desenvolvimento deste trabalho, foram utilizados os comandos 130 e 131 para leitura e escritura das vari\u00e1veis de processos.\n2.3.1\tComando 130 - Escritura da vari\u00e1vel de processo\nO comando 130 realiza a escrita do valor da vari\u00e1vel de processo mediante a aplica\u00e7\u00e3o desenvolvida. Dados da requisi\u00e7\u00e3o s\u00e3o apresentados nas tabelas 1,2,3.\nTabela 1 Dados da requisi\u00e7\u00e3o do comando 130.\nByte\tDescri\u00e7\u00e3o\n0-1\tComando - Especificado na Tabela\n2-3\tPosi\u00e7\u00e3o desejada do atuador\nTabela 2 Dados de resposta do comando 130.\nByte\tDescri\u00e7\u00e3o\n0 - 1 2 - 3\tComando - Especificado na Tabela Posi\u00e7\u00e3o desejada\nTabela 3 Fun\u00e7\u00f5es implementadas no comando 130.\nBits\tSignificado\n0\tOpen\n1\tClose\n2\tStop\n3\tESD\n4\tPosicionamento\n5\tSpare\n6\tPreset FC closure\n7\tPreset FC opening\n8\tClear alarms\n9 - 15\tReservado\n2.3.2\tComando 131- Leitura da vari\u00e1vel de processo\nEste comando realiza a leitura da posi\u00e7\u00e3o, o torque e o status do dispositivo, conforme a tabela 4.\nTabela 4 Dados de resposta do comando 131.\nByte\tDescri\u00e7\u00e3o\n0 - 1\tStatus do atuador - Especificado na Tabela 5\n2 - 3\tAlarmes\n4 - 5\tPosi\u00e7\u00e3o atual (expresso em percentual inteiro)\n6 - 7\tTorque atual\nO status do dispositivo retornado no comando 131 \u00e9 expressado em 16 Bits seguindo a defini\u00e7\u00e3o a seguir na Tabela 5.\nTabela 5 Status do comando 131.\nBits\tSignificado\n0\tModo de opera\u00e7\u00e3o local\n1\tModo de opera\u00e7\u00e3o remoto\n2\tPosi\u00e7\u00e3o aberta\n3\tPosi\u00e7\u00e3o fechada\n4\tMovimento de abertura (abrindo)\n5\tMovimento de fechamento (fechando)\n6\tMotor energizado\n7\tFalta de fase\n8\tSobreaquecimento do motor\n9\tAtuador sem programa\u00e7\u00e3o\n10\tParada local acionada\n11-15\tReservado\n2.4\tSistemas De Controle\nAtualmente, as t\u00e9cnicas de controle de sistemas podem ser classificadas em dois grandes grupos, cl\u00e1ssico e moderna. As t\u00e9cnicas de controle cl\u00e1ssica est\u00e3o baseadas na an\u00e1lise de frequ\u00eancias e amplitudes dos sistemas, avaliando suas condi\u00e7\u00f5es de estabilidade atrav\u00e9s de descri\u00e7\u00f5es entre entrada-sa\u00edda (fun\u00e7\u00f5es de transfer\u00eancia).\nO controle cl\u00e1ssico fornece os fundamentos para a an\u00e1lise de estabilidade, tais como os conceitos de margem de ganho e margem de fase, que foram propostos para avaliar a estabilidade relativa de sistemas SISO (Single-InputSingle-Output). Toda a an\u00e1lise e projeto de um controlador \u00e9 feita a partir de um modelo aproximado do sistema real, linear e invariante no tempo (caso n\u00e3o seja linear, s\u00e3o necess\u00e1rias estrat\u00e9gias de lineariza\u00e7\u00e3o). Enquanto nas t\u00e9cnicas de controle moderno prop\u00f5e-se an\u00e1lises temporais a partir de modelos matem\u00e1ticos, obtidos, atrav\u00e9s de equa\u00e7\u00f5es\ndiferenciais, utilizando o conceito de estados para descrever o comportamento do sistema, com a possibilidade de criar controladores n\u00e3o lineares e multivari\u00e1veis (OGATA, 2010).\n2.4.1\tM\u00e9tricas de Desempenho de Sistemas de Controle\nPara analisar as especifica\u00e7\u00f5es de desempenho \u00e9 necess\u00e1rio avaliar as propriedades quantitativas e qualitativas do sistema. As propriedades quantitativas s\u00e3o relacionadas com a obten\u00e7\u00e3o da solu\u00e7\u00e3o do sistema de equa\u00e7\u00f5es que representa o comportamento din\u00e2mico do modelo matem\u00e1tico do sistema de controle. Enquanto as propriedades qualitativas, tamb\u00e9m chamadas propriedades do controle, s\u00e3o relacionadas a estabilidade, controlabilidade, observabilidade do sistema (KENNEDY; KOLUMB\u00c1N, 1999).\nEspec/f/ca\u00e7\u00f5es de Desempenho da Resposta Trans/t\u00f3r/a\nEm problemas pr\u00e1ticos, os requisitos de desempenho s\u00e3o especificados em termos da resposta do sistema de controle, onde comumente, considera-se sinais de entrada padr\u00e3o dos tipos, degrau, rampa, acelera\u00e7\u00e3o, impulso e sen\u00f3ides. Em geral o desempenho de um sistema \u00e9 avaliado pela reposta completa do sistema a uma entrada do tipo degrau unit\u00e1rio, pois a resposta de um sistema a uma entrada deste tipo tem uma rela\u00e7\u00e3o estreita com o desempenho em condi\u00e7\u00f5es de funcionamento.\nA resposta completa y(t) de um sistema de controle \u00e9 constitu\u00edda por duas partes: a resposta natural ytr(t) e a resposta em regime permanente yss(t). A Resposta transit\u00f3ria diz respeito \u00e0 forma como o sistema se comportou ap\u00f3s a aplica\u00e7\u00e3o de uma nova entrada (se houve oscila\u00e7\u00e3o, se a resposta foi lenta demais, etc.) at\u00e9 atingir o estado final. A resposta em regime permanente caracteriza a sa\u00edda do sistema quando o tempo tende para infinito. Geralmente os seguintes par\u00e2metros s\u00e3o definidos como as m\u00e9tricas para avalia\u00e7\u00e3o de desempenho, considerando a resposta ao degrau (OGATA, 2010):\nTempo de subida (zr): \u00e9 o tempo requerido para que a resposta do sistema se elevar de um valor inicial 0, 5, 10 % at\u00e9 90, 95 ou 100 % do seu valor em regime permanente.\nTempo Pico (rp): \u00e9 o tempo necess\u00e1rio para que a resposta atinja o m\u00e1ximo valor da resposta transit\u00f3ria.\nTempo de estabiliza\u00e7\u00e3o ou acomoda\u00e7\u00e3o (Ts): \u00e9 o tempo que a resposta transit\u00f3ria leva para ficar muito pr\u00f3xima do valor final (normalmente 5% ou 2% do valor final). Este tempo est\u00e1 relacionado com as constantes de tempo do sistema de controle.\nTempo de atraso (Td): \u00e9 o tempo que a resposta transit\u00f3ria leva para chegar a 50% do valor final.\nOs par\u00e2metros definidos acima s\u00e3o apresentados na Figura 9. Em muitas aplica\u00e7\u00f5es, algumas caracter\u00edsticas como sobrepassos muito grandes s\u00e3o inaceit\u00e1veis, assim como um grande valor de sobrepasso indica menor estabilidade relativa, isto \u00e9, mais pr\u00f3ximo de apresentar um comportamento inst\u00e1vel. (GOMES DA SILVA. JR; BAZANELLA, 2006).\nRestri\u00e7\u00f5es temporais de Sistemas de Controle\nO desempenho estabelecido para um sistema de controle demanda um determinado comportamento ao longo do tempo do fluxo de informa\u00e7\u00f5es e do processamento dos algoritmos de controle do sistema. Tal comportamento implica em v\u00e1rias restri\u00e7\u00f5es tempor\u00e1rias que devem ser atendidas para que o desempenho desejado do sistema seja alcan\u00e7ado (NETO, 2007). Desta forma, conhecer os requisitos temporais necess\u00e1rios para que o sistema de controle alcance os requisitos de projeto \u00e9 de vital import\u00e2ncia. Estes requisitos implicam especificar, verificar e implementar sistemas ou programas que, mesmo com recursos limitados, apresentam comportamentos previs\u00edveis, atendendo \u00e0s restri\u00e7\u00f5es temporais para alcan\u00e7ar o desempenho do sistema. (JOSEPH; PANDYA, 1985).\nFigura 9 Resposta t\u00edpica ao salto unit\u00e1rio num sistema de segunda ordem.\nAplica\u00e7\u00f5es de tempo real s\u00e3o caracterizadas por restri\u00e7\u00f5es temporais que devem ser respeitadas para que se tenha o comportamento temporal desejado ou necess\u00e1rio. \u00c9 assim que entra em considera\u00e7\u00e3o o conceito de tarefa, que \u00e9 uma das abstra\u00e7\u00f5es b\u00e1sicas do chamado problema de escalonamento de tarefas num sistema computacional ou de mensagens numa rede. As tarefas ou processos formam as unidades de processamento sequencial que concorrem sobre um ou mais recursos computacionais de um sistema. Toda tarefa de tempo real tipicamente est\u00e1 sujeita a prazos, ou, em ingl\u00eas \u201cdeadlines\".\nAs restri\u00e7\u00f5es temporais mais importantes para sistemas em tempo real s\u00e3o: periodicidade, jitter, tempo de resposta do processo de aplica\u00e7\u00e3o e sincroniza\u00e7\u00e3o.\nOutras restri\u00e7\u00f5es temporais s\u00e3o importantes na defini\u00e7\u00e3o do comportamento temporal (FARINES; FRAGA; R\u00d4MULO, 2000).\nTempo de computa\u00e7\u00e3o (Computation Time): \u00e9 o tempo necess\u00e1rio para a execu\u00e7\u00e3o completa da tarefa.\nTempo de t\u00e9rmino (Completion Time) \u00e9 o instante de tempo em que se completa a execu\u00e7\u00e3o da tarefa.\nTempo de chegada (Arrival Time): o tempo de chegada de uma tarefa \u00e9 o instante em que o escalonador toma conhecimento de uma ativa\u00e7\u00e3o dessa tarefa.\nEm tarefas peri\u00f3dicas, o tempo de chegada coincide sempre com o in\u00edcio do per\u00edodo da ativa\u00e7\u00e3o. As tarefas aperi\u00f3dicas apresentam o tempo de chegada coincidindo com o tempo da requisi\u00e7\u00e3o do processamento aperi\u00f3dico.\nTempo de libera\u00e7\u00e3o (Release Time) o tempo de libera\u00e7\u00e3o de uma tarefa coincide com o instante de sua inclus\u00e3o na fila de tarefas prontas (ready tasks') do sistema operacional.\n2.4.2\tParadigmas Time-Triggered e Event-Triggered\nA troca de mensagens entre dispositivos de uma RCI (Rede de comunica\u00e7\u00e3o industrial) pode ser classificada em duas categorias, de acordo com a caracter\u00edstica da informa\u00e7\u00e3o. Estas s\u00e3o: Event-Triggered (ET) ou Time-Triggered (TT) Cada uma destas estrat\u00e9gias apresenta vantagens e desvantagens em sistemas de controle em rede. Para estas diferentes caracter\u00edsticas, distintas estrat\u00e9gias de acesso ao meio s\u00e3o utilizadas.\nUma t\u00edpica rede WH consiste num conjunto de sensores, atuadores e uma aplica\u00e7\u00e3o que calcula o sinal de controle. Neste cen\u00e1rio a execu\u00e7\u00e3o da malha de controle \u00e9 dividida em tr\u00eas etapas: recupera\u00e7\u00e3o de dados pelos sensores, computa\u00e7\u00e3o do sinal de controle pelo controlador e disposi\u00e7\u00e3o dos comandos de controle para os atuadores. Al\u00e9m disso, assume-se que o c\u00e1lculo do controlador acontece em apenas um dispositivo que recupera toda a informa\u00e7\u00e3o medida pelos sensores, calcula as entradas para todos os atuadores, e divulga estes novos comandos para os n\u00f3s do atuador. Este cen\u00e1rio t\u00edpico de uma rede WH correspondente a um sistema decentralizado de controle ET (MAZO; TABUADA, 2011), embora o protocolo WH utiliza pol\u00edticas de escalonamento baseadas em TDMA, garantindo previsibilidade e determinismo da comunica\u00e7\u00e3o, da mesma forma que as arquiteturas TT.\nParadigma Event-Triggered (ET)\nET os canais de realimenta\u00e7\u00e3o da rede transmitem de forma espor\u00e1dica, ou seja, apenas no momento que se faz necess\u00e1rio transmitir alguma informa\u00e7\u00e3o. Nesta estrat\u00e9gia, um sensor transmite quando o valor da vari\u00e1vel \u00e9 modificado, ou seja, que a vari\u00e1vel medida excedeu um limite especificado. Em particular, isto significa que somente ser\u00e1 transmitida a informa\u00e7\u00e3o de um sensor Si quando o valor do sensor no instante Si(t) \u00e9 maior do que um valor delta comparado com o valor no instante Si(t \u2014 1), ou seja, se Si(t) \u2014 Si(t \u2014 1) > delta ent\u00e3o o valor \u00e9 transmitido, caso contr\u00e1rio n\u00e3o \u00e9 feita a transmiss\u00e3o. Entretanto, neste caso, pode ocorrer uma disputa pelo acesso ao meio entre dois (ou mais) componentes que necessitem transmitir mensagens em instantes de tempo muito pr\u00f3ximos, o que pode causar um aumento consider\u00e1vel no tempo de transmiss\u00e3o da mensagem. Exemplos deste tipo de pol\u00edtica s\u00e3o os protocolos CAN, Ethernet (ALBERT, 2004).\nParadigma Time-Triggered (TT)\nEm sistemas TT A competi\u00e7\u00e3o entre os componentes da rede pelo uso do meio de transmiss\u00e3o \u00e9 evitada atrav\u00e9s de pol\u00edticas de escalonamento baseadas no m\u00e9todo TDMA.\nNos \u00faltimos anos, v\u00e1rios protocolos de comunica\u00e7\u00e3o t\u00eam aparecido e anunciam prover um servi\u00e7o de sincroniza\u00e7\u00e3o de rel\u00f3gio necess\u00e1rio \u00e0 arquitetura TT. Pode-se citar, como exemplos (KOPETZ; BAUER, 2003), (OBERMAISSER, 2004), (ALESSANDRO et al., 2009):\n-\tTTP/C;\n-\tTT-CAN;\n-\tTTP/A;\n-\tFlexRay;\n-Spider;\n-\tTT-ETHERNET;\n-\tSafeBus;\n-WirelessHART;\nAlgumas das vantagens das arquiteturas TT s\u00e3o as garantias temporais oferecidas, baixo jitter e comportamento previs\u00edvel. Por outro lado, altera\u00e7\u00f5es na topologia da rede ou no escalonamento das mensagens s\u00e3o dificultadas. (KOPETZ; GR\u00dcNTEIDI, 1993).\n3\tSISTEMAS DE CONTROLE EM REDE\nApesar dos sistemas de controle baseados em rede (NCS, Networked Control Systems) constitu\u00edrem uma \u00e1rea relativamente nova, j\u00e1 existem importantes trabalhos pr\u00e9vios e, por conseguinte, existe uma literatura muito ampla. Com a inten\u00e7\u00e3o de ilustrar o tema, foram revisados diversos trabalhos relacionados ao tema.\nA se\u00e7\u00e3o 3.1 faz men\u00e7\u00e3o ao modelamento do problema dos NCS (Real time control of Networked Control Systems), levando em considera\u00e7\u00e3o, principalmente, o artigo (ZHU; YANG, 2008), a estabilidade incluindo o modelo de NCS e as m\u00e9tricas temporais de protocolos de comunica\u00e7\u00e3o. Finalmente na se\u00e7\u00e3o 3.2 s\u00e3o mostrados os efeitos da rede de comunica\u00e7\u00e3o sobre os sistemas de controle.\n3.1\tModelamento de sistemas de controle em rede\nComo j\u00e1 mencionado anteriormente, os NCS t\u00eam como caracter\u00edstica a exist\u00eancia de um meio de comunica\u00e7\u00e3o compartilhado entre o n\u00f3 de controle e a planta, separando com isto os controladores dos processos. Para a an\u00e1lises de NCS \u00e9 comum, muitas vezes considerar um simples canal de realimenta\u00e7\u00e3o \u201cfeedback\u201d, porque esta arquitetura ainda captura muitas caracter\u00edsticas principais dos NCS, tais como as limita\u00e7\u00f5es da largura de banda, atrasos de comunica\u00e7\u00e3o vari\u00e1veis e perda de pacotes.\nEm (HESPANHA, 2007), encontra-se a arquitetura geral mais simples para a an\u00e1lise de NCS. Nesta representa\u00e7\u00e3o (Ver Figura 10), observa-se os elementos caracter\u00edsticos destes sistemas: uma planta Gp, um m\u00f3dulo de controle Gc , uma rede de comunica\u00e7\u00e3o de dados, um m\u00f3dulo de atua\u00e7\u00e3o e um outro de medi\u00e7\u00e3o.\nCom a inser\u00e7\u00e3o das redes nos sistemas de controle e as limita\u00e7\u00f5es do meio de comunica\u00e7\u00e3o, entra em considera\u00e7\u00e3o os efeitos da rede sobre o sistema de controle. Em (JIANG et al., 2008) os autores apresentam uma perspectiva mais ampla sobre como pode ser vista na Figura 10, na qual observa-se al\u00e9m do descrito por (HESPANHA, 2007) dois atrasos importantes, xca e tsc, onde o primeiro \u00e9 um atraso de atua\u00e7\u00e3o e o segundo um atraso de medi\u00e7\u00e3o. O atraso chamado tsc corresponde ao intervalo de tempo necess\u00e1rio para que a medida feita chegue no controlador e o atraso xca corresponde ao intervalo necess\u00e1rio para que o sinal de controle chegue at\u00e9 o atuador, somado ao tempo de processamento que leva o controlador a gerar o sinal de controle tc .\nFigura 10 NCS com atrasos de transmiss\u00e3o por (HESPANHA, 2007) .\nDescreve-se a din\u00e2mica da planta Gp, da seguinte forma:\n^P(y')\tApXp(t) + BpUp(t), yp(Q Cp(t)Xp(t')\t(3)\nEm que xp(t) \u00e9 o vetor de estado da planta e up(t) e yp(t) s\u00e3o os vetores de entrada e sa\u00edda, respetivamente. Ap, Bp e Cp s\u00e3o matrizes constantes de dimens\u00f5es apropriadas.\nO sinal yp(t) \u00e9 amostrado periodicamente pelo m\u00f3dulo sensor. A Figura 11, apresenta detalhadamente o funcionamento deste m\u00f3dulo. Conforme est\u00e1 na figura, os pacotes s\u00e3o enviados pela rede a cada instante ikh, e, estes pacotes cont\u00e9m o valor do estado da planta nos instantes ikh.\nEscreve-se ent\u00e3o:\nys(ikh) = yP(\u00edkh)\n(4)\nFigura 11 Detalhe do funcionamento do m\u00f3dulo sensor (ZHU; YANG, 2008).\nA din\u00e2mica do m\u00f3dulo de controle Gc, pode ser descrita da seguinte forma:\nxc(t) = Acxc(t) + Bcuc(t),\tyc(t) = Ccxc(t - tc) + Dcuc(t - tc)\n(5)\nOnde xc(t) \u00e9 o vetor de estados do controlador, uc(t) \u00e9 o vetor de entrada e yc(t) \u00e9 o vetor de sa\u00edda. Ac , Bc, Cc s\u00e3o matrizes constantes de dimens\u00f5es apropriadas.\nOs pacotes enviados pelo sensor chegam ao controlador com um atraso de tempo Tkc. O m\u00f3dulo controlador \u00e9 composto por tr\u00eas elementos b\u00e1sicos: um elemento que recebe pacotes de dados de uma rede de comunica\u00e7\u00e3o, uma unidade de processamento de dados e um elemento capaz de enviar pacotes de dados atrav\u00e9s de uma rede de comunica\u00e7\u00e3o.\nA Figura 12 apresenta em detalhes o funcionamento do m\u00f3dulo controlador. O elemento de recep\u00e7\u00e3o interpreta o pacote recebido pela rede e envia o sinal uc(t) para a unidade de processamento.\nEscreve-se ent\u00e3o:\nuc(t) = us(ikh + zskC)\ttE[ikh + rskc ,ik+ih + Tskc+1 ]\t(6)\nLogo ap\u00f3s o processamento, o sinal de controle yc(t) \u00e9 encapsulado em pacotes de dados e enviado pela rede. A equa\u00e7\u00e3o relacionada ao sistema da Figura 12 \u00e9:\nya(ikh + Tk + Tk) = yc(ikh + Tskc +\t(7)\nOs pacotes enviados pelo m\u00f3dulo de controle chegam ao m\u00f3dulo de atua\u00e7\u00e3o ap\u00f3s um atraso de tempo Tka. O m\u00f3dulo de atua\u00e7\u00e3o \u00e9 composto por dois elementos b\u00e1sicos: uma unidade que recebe pacotes de dados de uma rede de comunica\u00e7\u00e3o e um elemento de atua\u00e7\u00e3o que aplica um sinal de entrada para o processo.\nup(t) = ua(ikh + Tk +zk + Tka),\nt e [ikh + zk ,ik+ih + zk+i ]\n(8)\nFigura 12 Detalhe do funcionamento do m\u00f3dulo controlador (ZHU; YANG, 2008).\nOnde zk = zkc + Tk + zka\n(9)\nCombinado as equa\u00e7\u00f5es (3) e (4) tem-se: ys(ikh) = Cpxp (ikh) uma vez que us(ikh + t^c) = ys(ikh), ent\u00e3o: us(ikh + TskC) = Cpxp (ikh).\nFigura 13 Detalhe do funcionamento do m\u00f3dulo atuador (ZHU; YANG, 2008).\nUtilizando a equa\u00e7\u00e3o (6), conclui-se:\nUtilizando a equa\u00e7\u00e3o (6), conclui-se:\nU-c\u00edQ = Cpxp(ikh)\tte[ikh + T^c ,ik+1h + Tskc+1 ]\t(10)\nCombinando as equa\u00e7\u00f5es (5) e (7) tem-se:\nyattkh + rskc + tf) = Ccxc(ikh + Tskc) + Dcuc(ikh + TskC)\t(11)\nUma vez que:\nUattkh + rskc + TCk + Tcka) = yattkh + Tsk + xck)\t(12)\nPode-se escrever que:\nua(ikh + Tsk +^k + Tcka) = Ccxc(ikh + Tskc) + DcCpxp(ikh)\t(13)\nCcxc(ikh + zk ) + DcCpxp(ikh')\t(14)\nOnde Tk denota o intervalo de tempo desde o instante ikh quando o sensor amostra os dados da planta at\u00e9 o instante em que o atuador recebe o sinal de controle, isto \u00e9 Tk = Tkc + Tk + Tk\u00b0-\n3.1.1\tArquiteturas de Sistemas de Controle em Rede\nlimita\u00e7\u00f5es associadas com o meio compartilhado de comunica\u00e7\u00e3o. Assim, dependendo da estrutura, existem dois tipos de principais de NCS abordados a seguir; NCS de estrutura direta e estrutura indireta ou hier\u00e1rquica (TIPSUWAN; CHOW, 2003).\nEstrutura Direta\nNa configura\u00e7\u00e3o de estrutura direta, o conjunto formado pela planta, sensores e atuadores est\u00e1 em uma localiza\u00e7\u00e3o diferente daquela do controlador. Entretanto, os dois sistemas se comunicam diretamente atrav\u00e9s de uma rede, por onde se d\u00e1 o fechamento do la\u00e7o de controle. A Figura 14 ilustra um exemplo deste tipo de configura\u00e7\u00e3o.\nFigura 14 Estrutura direta de NCS (TIPSUWAN; CHOW, 2003).\nComo pode ser observado atrav\u00e9s da Figura 14, o controlador recebe os dados com informa\u00e7\u00f5es da planta atrav\u00e9s de pacotes enviados pela rede. Neste ponto, o controlador ir\u00e1 processar o pacote recebido, calcular o sinal de controle, construir um pacote com a informa\u00e7\u00e3o calculada e, finalmente, enviar de volta \u00e0 planta o sinal de controle.\nEstrutura Indireta\nS\u00e3o usados sensores da planta remota para, calcular um novo ponto de refer\u00eancia, o qual \u00e9 enviado novamente atrav\u00e9s da rede para o sistema remoto. O sistema remoto, de posse dessa nova informa\u00e7\u00e3o, ir\u00e1 realizar as tarefas em la\u00e7o fechado localmente para atender as novas especifica\u00e7\u00f5es enviadas pelo controlador principal. Um dos objetivos deste tipo de arquitetura \u00e9 a redu\u00e7\u00e3o do trafego de rede, uma vez que a periodicidade de envio de mensagens dos sensores para o controlador principal \u00e9 reduzida se comparada \u00e0quela do la\u00e7o de controle local. A estrutura indireta para sistemas NCS \u00e9 mostrada pela Figura 15.\nFigura 15 Estrutura indireta de NCS (TIPSUWAN; CHOW, 2003).\nDentro da estrutura hier\u00e1rquica pode-se considerar que o controlador local pode ser de la\u00e7o fechado ou de la\u00e7o aberto. Os sistemas de controle local com la\u00e7o fechado s\u00e3o utilizados para o controle de grandes plantas industriais, onde h\u00e1 grande n\u00famero de processos de controle (ou seja, grande n\u00famero de malhas de controle). \u00c9 desej\u00e1vel, em muitas ocasi\u00f5es, ter-se um controle centralizado, onde os operadores da planta tem acesso a todos os processos integrados do sistema, em vez de um subsistema de controle em la\u00e7o local pequeno, fisicamente separado. A presen\u00e7a de medi\u00e7\u00f5es remotas \u00e9 necess\u00e1ria neste caso, mesmo com a possibilidade de derivar a parte da tarefa de controle para o sistema local.\n3.2\tPrincipais Efeitos Introduzidos pela Rede\nOs atrasos nas malhas de controle podem deixar a planta inst\u00e1vel e em caso extremo podem levar a situa\u00e7\u00f5es perigosas. Por estas raz\u00f5es, \u00e9 de grande import\u00e2ncia para o estudo da planta a ser controlada, o tipo de atrasos que est\u00e1 apresenta. As poss\u00edveis causas de atrasos em um sistema de controle podem ser muitas. Entretanto, s\u00e3o efeitos inerentes \u00e0 rede de comunica\u00e7\u00e3o utilizada.\n3.2.1\tAtrasos em Malhas de Controle\nA rede pode introduzir n\u00edveis n\u00e3o confi\u00e1veis ou n\u00e3o determin\u00edsticos de servi\u00e7o em termos de atrasos, jitter e perdas (SOUCEK; T. SAUTER, 2004). Para o estudo destes atrasos, causados pela rede sobre os NCS, o modelamento destes torna-se importante. Trabalhos relacionados s\u00e3o apresentados na se\u00e7\u00e3o 4.2.\nFigura 16 Analise dos atrasos. Baseado em (LIAN; MOYNE; TILBURY, 2001).\nO Tpre \u00e9 o tempo necess\u00e1rio para o dispositivo transmissor obter dados do sensor e transform\u00e1-los em um formato apropriado para envio pela rede. Este tempo depende de cada dispositivo, e depende do hardware. O Twait \u00e9 o tempo necess\u00e1rio para que o dispositivo receba permiss\u00e3o para acessar a rede de comunica\u00e7\u00e3o e iniciar a transmiss\u00e3o. Este tempo e vari\u00e1vel e dependente da estrat\u00e9gia de acesso ao meio utilizada pelo protocolo de comunica\u00e7\u00e3o. O Tpos \u00e9 o tempo necess\u00e1rio pelo receptor para decodificar a mensagem recebida pelo barramento e processar a nova informa\u00e7\u00e3o dispon\u00edvel (MICHELIN, 2014). E o Ttx \u00e9 o Tempo de transmiss\u00e3o no canal de comunica\u00e7\u00e3o e depende da taxa de transmiss\u00e3o, do tamanho da mensagem e da dist\u00e2ncia entre dois dispositivos.\nAtrasos devido ao tr\u00e1fego da comunica\u00e7\u00e3o\nNesta subse\u00e7\u00e3o s\u00e3o apresentadas as considera\u00e7\u00f5es dos atrasos para a an\u00e1lise de NCS proposto em (HESPANHA, 2007). Na arquitetura apresentada na Figura 10, observa-se dois n\u00f3s importantes: o n\u00f3 sensor e o n\u00f3 atuador, onde o n\u00f3 sensor, \u00e9 formado por um amostrador e um elemento que envia os dados atrav\u00e9s da rede. Os dados da planta s\u00e3o amostrados a cada \u00edkh onde h \u00e9 o periodo de amostragem e ik s\u00e3o n\u00famero inteiros positivos. A cada per\u00edodo de amostragem, o dado estar\u00e1 dispon\u00edvel para o m\u00f3dulo de controle ap\u00f3s um atraso de tempo t kc. Posteriormente, o modulo de controle realiza o c\u00e1lculo do valor da sa\u00edda e estar\u00e1 dispon\u00edvel para o modulo de atua\u00e7\u00e3o.\n= TSk+'Ck+ tf?\t(15)\n(GUPTA; CHO, 2010), e fazem parte de uma \u00e1rea de estudo importante para os sistemas de controle em rede.\nFigura 17 Diagramas de tempo para os atrasos da comunica\u00e7\u00e3o (JIANG et al., 2008).\nDe uma outra forma, a arquitetura utilizada por (JIANG et al., 2008) e apresentada na Figura 10 para o estudo de NCS, pode ser compreendida conforme a\num destes tempos para NCS, onde o n\u00f3 sensor cont\u00e9m uma tarefa peri\u00f3dica, do tipo time-driven, com um tempo de execu\u00e7\u00e3o de zk que executa uma amostra do processo efetuando a convers\u00e3o anal\u00f3gico-digital (A/D) e envia esta informa\u00e7\u00e3o na forma de mensagem com um tempo de transmiss\u00e3o de t\u00a3c ao n\u00f3 controlador. O n\u00f3 controlador cont\u00e9m uma tarefa event-driven que \u00e9 ativada quando uma amostra do processo chega na forma de mensagem sob a rede. Esta tarefa compreende no algoritmo de controle com tempo de execu\u00e7\u00e3o Tk que ap\u00f3s sua execu\u00e7\u00e3o envia uma mensagem com o sinal de controle com um tempo de transmiss\u00e3o de r\u00a3a ao n\u00f3 atuador. O n\u00f3 atuador \u00e9 do tipo event-driven, onde cont\u00e9m uma tarefa que \u00e9 ativada por uma mensagem vinda do n\u00f3 controlador, com o sinal de controle que executa uma convers\u00e3o digital anal\u00f3gico (D/A), cujo tempo de comuta\u00e7\u00e3o \u00e9 dado por t\u00a3.\nri\nSensor ts\nk_____4\nr\ti\nAtuador ta\nL_______________J\nControlador tc\nFigura 18 Sistema de controle via redes com seus respectivos atrasos de tempo.\nEm um NCS, o atraso entre a amostragem e atua\u00e7\u00e3o na planta f\u00edsica \u00e9 tido como o atraso total de controle zk e compreende a soma de todos dos atrasos referentes aos tempos de processamento dos n\u00f3s e aos tempos de transmiss\u00e3o das mensagens, incluindo entre estes, os n\u00f3s da rede como \u00e9 mostrado na figura os atrasos s\u00e3o:\n3.2.2\tEstabilidade com Atrasos em NCS\nO artigo de (HESPANHA, 2007) utiliza o modelo apresentado na Figura 19 para a avalia\u00e7\u00e3o dos efeitos de amostragem e de atraso sobre a estabilidade dos NCSs. O sistema LTI (Linear Time-Invarianf) encapsula a planta e o controlador linear \u00e9 invariante no tempo, modelado pelo sistema de tempo cont\u00ednuo a seguir:\nx = Ax + By, y = Cx\t(17)\nFigura 19 NCS com planta e controlador LTI.\nO autor prop\u00f5e tr\u00eas modelos com um canal de realimenta\u00e7\u00e3o para avaliar um NCS. No primeiro modelo, o sinal y pode ser considerado como um vetor de medi\u00e7\u00f5es do sensor, e y como a entrada cont\u00ednua ao controlador colocado com os atuadores (SAHAI, 2001), como \u00e9 apresentado na Figura 20 (a). Alternativamente, pode ser visto y como a entrada dos atuadores e y como o sinal de controle calculado por um controlador colocado com os sensores, como na Figura 20 (b). Nos dois casos, x(t) incluiria os estados da planta e do controlador. O diagrama de blocos da Figura 20 tamb\u00e9m capta o caso de um controlador est\u00e1tico que n\u00e3o \u00e9 colocado com os sensores nem com os atuadores, conforme pode ser visto na Figura 20 (c).\nFigura 20 Arquiteturas NCS, com um canal de realimenta\u00e7\u00e3o (HESPANHA, 2007).\nNo modelo de um canal de realimenta\u00e7\u00e3o apresentado na Figura 19, o sinal y(t) \u00e9 amostrado em { tk : k E N } e as amostras yk = y(tk), Vk E N s\u00e3o enviadas atrav\u00e9s da rede. O per\u00edodo de amostragem tk deve garantir a estabilidade do sistema.\nNuma rede com atrasos mas sem perdas de pacotes de dados, tem-se:\n&amp;\t= vk e N\n(18)\nPor\u00e9m, as amostras s\u00f3 chegam no destino depois de um atraso (possivelmente vari\u00e1vel) de\nTk > 0. Nessas ocasi\u00f5es y(t) ser\u00e1:\n&amp;-i \u00ed e [ Wk + y\tte [tfc,tfc + Tk+1)\nOnde assume-se que o atraso \u00e9 menor que o intervalo de amostragem, ou seja, tfc + Tk &lt;tfc+i,\tVk e N\nCom\t\u25a0= x(tfc), Vk e N e levando em conta (17) e (19b), pode-se concluir que:\n*k+i = e^+i-'^ + e^+i-t*-W (TjByk-i + r (tk+i - tfc - Tk)Bjzk Onde T(s) := JQse^zdz, Vk e K.\nPara realizar a an\u00e1lise dos NCS, primeiro \u00e9 definido um modelo de espa\u00e7o de estados discreto aumentado apresentado em (22).\nz'fc := [*(tj' /fc-iL\tVk eN\nVk e N (a)\n(b)\n(19)\n(20)\n(21)\n(22)\nDe (19a) e (21) pode-se concluir,\nZfc+i := $(tfc+i - tfc, Tk)zk,\tVkeN\nOnde,\n0(a,b) \u25a0=\ne^a + r (a-b)BC\nc\ne^(a-\u00c8) r (b)B\n0\nVa, e K\n(23)\n(24)\n\nNa aus\u00eancia de atraso, ou seja, quando = 0, Vk e N, o estado zfc n\u00e3o precisa incluir yfc-i ent\u00e3o, a fun\u00e7\u00e3o O apresentada em (24) pode definir-se, como em (25)\nO(a,0): = e^a r (a)BC, Va > 0\t(25)\nQuando a planta (17) \u00e9 inst\u00e1vel em malha aberta, (23) \u00e9 geralmente inst\u00e1vel, caso o intervalo entre os tempos de amostragem seja muito grande. Em vista disso, o objetivo principal tem sido dedicar-se a encontrar os limites superiores de tfc+i \u2014\t,Va e N nos quais pode ser garantida a\nestabilidade. Este limite superior do intervalo de amostragem ou m\u00e1ximo tfc+i \u2014 tfc , \u00e9 \u00e0s vezes chamados maximum allowable transfer interval (MATI) (WALSH; BUSHNELL, 1999).\nultimo intervalo dependendo do atraso poderia ter-se um ou nenhum da mesma forma. Deste modo, derivar a equa\u00e7\u00e3o (23) fica muito dif\u00edcil. Assim todos os resultados revisados nesta se\u00e7\u00e3o baseiam-se em uma redu\u00e7\u00e3o dos NCS a alguma forma de sistema de tempo discreto, como (23); por simplicidade, portanto, ir\u00e1 assumir implicitamente atrasos menores do que um intervalo de amostragem, o seja Tk &lt;tk.\n3.2.3\tPerda de Pacotes em NCS\nTodas as aplica\u00e7\u00f5es de NCS dependem fortemente das caracter\u00edsticas do canal de comunica\u00e7\u00e3o. O problema da perda de pacotes nas comunica\u00e7\u00f5es sem fio \u00e9 de particular relev\u00e2ncia quando a rede \u00e9 inserida no contexto de um sistema de controle.\nAs perdas de pacotes numa rede podem ocorrer por diversos motivos tais como: erros durante a transmiss\u00e3o de mensagens, falhas em dispositivos e colis\u00e3o de pacotes (ZHANG; S.; PHILLIPS, 2001). At\u00e9 mesmo uma mensagem que sofra algum atraso bastante acentuado pode ser considerada como uma perda de pacote porque pode acontecer que, uma vez que a mensagem chegou no seu destino, esta pode n\u00e3o ter mais valor algum. \u00c9 poss\u00edvel perder dados na comunica\u00e7\u00e3o: do sensor para o controlador e a partir do controlador para o atuador. Se os pacotes s\u00e3o perdidos no primeiro percurso, o controlador n\u00e3o tem a realimenta\u00e7\u00e3o do processo e o sinal de controle ser\u00e1 calculado tendo em conta esta falta de informa\u00e7\u00e3o, na tentativa de estimar os dados perdidos (ALT, 2003).\n3.2.4\tPer\u00edodos de Amostragem e Atrasos em Sistemas de Controle\nA escolha do per\u00edodo de amostragem, assim como atrasos causados pelo sistema de comunica\u00e7\u00e3o influ\u00eancia de forma direta o desempenho de sistemas de controle, afetando de forma significativa a funcionalidade do sistema controlado. O per\u00edodo de amostragem depende das caracter\u00edsticas da aplica\u00e7\u00e3o de controle e com base nessas caracter\u00edsticas e poss\u00edvel definir o protocolo de rede adequado para poder suprir essas condi\u00e7\u00f5es. Deve se levar em conta que cada protocolo de rede tem suas caracter\u00edsticas intr\u00ednsecas, o que permite avaliar se ser\u00e1 adequado para a aplica\u00e7\u00e3o.\nImpacto da varia\u00e7\u00e3o do per\u00edodo de amostragem sobre o desempenho de sistemas de controle\nSILVA. JR; BAZANELLA, 2006), que definem como regra geral (para um grande n\u00famero de casos), que o per\u00edodo de amostragem deve ser tal que ocorram ao menos cinco amostras da sa\u00edda por constante de tempo dominante.\nFigura 21 Sistema de controle amostrado (OGATA, 1996).\nAtrav\u00e9s de um modelo de segunda ordem, pode-se avaliar o impacto da amostragem sobre malhas de controle com o uso do modelo apresentado acima. Para exemplificar, foi considerado o sistema a seguir.\n100\ns(s+10)\n(26)\nNa Figura 22, \u00e9 apresentada a resposta ao degrau deste sistema admitindo tr\u00eas valores distintos de amostragem, T= {0,1; 0,05; 0,02}s. As respostas do sistema considerando estas tr\u00eas situa\u00e7\u00f5es s\u00e3o comparadas com a resposta do sistema funcionando em malha fechada sem a utiliza\u00e7\u00e3o do elemento amostrador-retenedor, conforme pode-se observar na Figura 22.\nA an\u00e1lise da Figura 22 leva a conclus\u00e3o que o efeito dos per\u00edodos de amostragem maiores em um sistema de controle em malha-fechada conforme o apresentado, implica em maiores oscila\u00e7\u00f5es do sinal de sa\u00edda do sistema. Tal fen\u00f4meno se explica, porque a inclus\u00e3o do elemento de amostragem e reten\u00e7\u00e3o com per\u00edodo igual a T segundos, traz consigo somente o acr\u00e9scimo de \u2014 radianos na fase da fun\u00e7\u00e3o de transfer\u00eancia do sistema de malha-aberta na frequ\u00eancia de w rad/s, mantendo inalterada sua magnitude:\n^G(s)Zoh \u2014\nOH\nzG(s)\u201cT\n|zG(s)ZoJ \u2014 |zG(s)|\nI\t~\n-----Amostragem 0.1\nAmostragem 0.06\nAmostragem 0.02\n-----TransferFcn\nTempo [s]\n0,1\t0,2\t03\t04\t0.6\t06\t07\t08\t09\nFigura 22 Desempenho do controle em fun\u00e7\u00e3o do per\u00edodo de amostragem.\nEfeitos dos atrasos nas malhas de controle\nOs atrasos nas malhas de controle degradam o desempenho em sistemas de controle. Para o estudo destes atrasos, pode considerar-se o sistema da Figura 23, onde ica e tsc s\u00e3o os atrasos induzidos pela rede de comunica\u00e7\u00e3o compartilhada.\nFigura 23 Sistema de controle em malha fechada com atrasos.\nExistem diferentes tipos de atrasos adicionados por uma rede em NCS tais como atrasos constantes e atrasos aleat\u00f3rios. V\u00e1rios estudos sobre sistemas com atrasos constantes j\u00e1 foram realizados, tais como os apresentados por (ZHANG; BRANICKY; PHILLIPS, 2000), que visam estabelecer um crit\u00e9rio de estabilidade para garantir o funcionamento do sistema dentro de certas condi\u00e7\u00f5es. Para sistemas com atrasos aleat\u00f3rios s\u00e3o necess\u00e1rios algoritmos sofisticados, baseados na an\u00e1lise de estabilidade estoc\u00e1stica, como os apresentados por (HESPANHA, 2007).\nem frequ\u00eancia do sistema sob a influ\u00eancia dos atrasos. A figura apresenta o sistema original em azul e o sistema sob a influ\u00eancia com dois atrasos, em vermelho 0,05s e verde, com 0,1s.\nFigura 24 Resposta em frequ\u00eancia do sistema com atrasos.\nNeste exemplo pode-se avaliar a estabilidade do sistema levando em considera\u00e7\u00e3o a margem de ganho e a margem de fase do sistema. A margem de ganho \u00e9 definida como a diferen\u00e7a entre a refer\u00eancia (0 dB) e o ganho da fun\u00e7\u00e3o na frequ\u00eancia cuja fase \u00e9 +180 graus (frequ\u00eancia critica ). A margem de fase \u00e9 definida como a diferen\u00e7a entre a fase da fun\u00e7\u00e3o do sistema na frequ\u00eancia de ganho m0 dB = 0 dB e a fase correspondente \u00e0 frequ\u00eancia cr\u00edtica, na fase + 180 graus, que leva o sistema realimentado \u00e0 instabilidade.\nNa Figura 24 \u00e9 apresentado o sistema original (em azul) e o sistema sob a influ\u00eancia de dois atrasos (em vermelho, 0,05 s e verde, com 0,1 s). Como pode-se perceber, o sistema com maior atraso possui menor margem de fase. Ver Tabela 6.\nTabela 6 Influencia dos atrasos na margem de fase do sistema.\nAtraso\tMargem de fase (MF \u00b0)\n0\t58\n0,05\t33\n0,1\t20\nNa resposta temporal do sistema apresentado na Figura 25 tamb\u00e9m se observa incremento de tempos de acomoda\u00e7\u00e3o e maior sobrepasso.\nSa\u00edda do Sistema yfi)\n\u25a0Transfer sem atraso\n- TF con atraso\nAmplitude do Sistema y (t)\nTempo [s]\nFigura 25 Efeitos dos atrasos nos sistemas de controle.\n3.3\tConsidera\u00e7\u00f5es Finais Do Capitulo\nNeste capitulo foram apresentados os t\u00f3picos principais sobre NCS. Procurou-se investigar um modelo para representar o problema de NCS com redes sem fio e as poss\u00edveis arquiteturas que poderiam ser implementadas. Foram consideradas tr\u00eas bases de tempo diferentes que reagem no la\u00e7o de controle: as bases de tempo do atuador, do controlador e do sensor. Na teoria dos sistemas de controle em rede, o per\u00edodo \"T\" \u00e9 definido como o tempo que a rede de comunica\u00e7\u00e3o necessita para escrever e ler dados do sistema. Na pr\u00e1tica, devido a exist\u00eancia de diferentes frequ\u00eancias de opera\u00e7\u00e3o em cada um dos n\u00f3s na arquitetura de NCS, s\u00e3o gerados atrasos adicionais que s\u00e3o considerados no per\u00edodo de amostragem completo.\nAs RCI introduzem alguns efeitos inerentes \u00e0 rede: atrasos significativos ao sistema de controle e perda de pacotes. Os atrasos podem levar a instabilidade da planta e criar situa\u00e7\u00f5es perigosas, por este motivo, investiga-se uma forma de modelar os atrasos presentes num la\u00e7o completo de controle Tk baseado em (HESPANHA, 2007). Referentes \u00e0 perda de pacotes existem algumas metodologias presentes na literatura, mas para a rede WH utilizada nesta disserta\u00e7\u00e3o, utilizou-se as conclus\u00f5es de (WINTER, 2013), que mostrou uma confiabilidade de 100%, ou seja,\nfoi garantida a entrega de dados dentro dos requisitos temporais estabelecidos para uma rede WH em cen\u00e1rios com condi\u00e7\u00f5es reais de propaga\u00e7\u00e3o de sinais de r\u00e1dio frequ\u00eancia. Isto mostra que no caso de se utilizar os mesmos requisitos temporais, n\u00e3o \u00e9 necess\u00e1ria nenhuma t\u00e9cnica para compensar a perda de pacotes, mas sim para os atrasos presentes no la\u00e7o. Finalmente \u00e9 mostrado atrav\u00e9s de uma simula\u00e7\u00e3o feita no Matlab, os efeitos da escolha do per\u00edodo de amostragem e dos atrasos num sistema de controle.\n4\tAN\u00c1LISE DO ESTADO DA ARTE\nNeste cap\u00edtulo s\u00e3o apresentados estudos sobre NCS e trabalhos relevantes que levam em conta a influ\u00eancia direta da rede no comportamento de sistemas de controle, quando \u00e9 utilizado um meio de comunica\u00e7\u00e3o compartilhado. Atualmente, n\u00e3o s\u00e3o encontrados muitos trabalhos na literatura que fazem uso espec\u00edfico do protocolo WH, e na maioria, s\u00e3o baseados em analises de sistemas e redes simuladas. Desta forma, trabalhos importantes sobre NCS que fa\u00e7am uso de outros protocolos de comunica\u00e7\u00e3o s\u00e3o apresentados como base, assim como trabalhos importantes referentes ao protocolo WH que possuam simula\u00e7\u00f5es ou implementa\u00e7\u00e3o f\u00edsica do sistema para a respectiva an\u00e1lise. Os trabalhos relacionados ao estudo de WCNS (Wireless Networked Control Systems) encontrados na literatura podem ser em geral classificados em duas categorias: metodologias de projetos de controle em rede e metodologias temporais de protocolos de comunica\u00e7\u00e3o. Finalmente, mas n\u00e3o menos importantes, s\u00e3o apresentados alguns trabalhos sobre o desempenho de redes sem fio.\n4.1\tRefer\u00eancias de Sistemas de Controle em Rede\nAs primeiras refer\u00eancias do problema de NCS, foram publicadas em (HALEVI; RAY, 1988), (HALEVI; RAY, 1990), (RAY, 1989) e (RAY; HALEVI, 1988), que descrevem os problemas de NCS, atrav\u00e9s de modelos discretos e variantes no tempo, os quais permitem garantir estabilidade. Tamb\u00e9m \u00e9 apresentada a possibilidade de utilizar diferentes frequ\u00eancias de amostragem no controlador e na planta, considerando um sistema de controle multifrequ\u00eancia.\nUma segunda s\u00e9rie de artigos apresentados em (LUCK; RAY, 1990), (LUCK; RAY, 1994), (RAY, 1994) abordam o problema do ponto de vista estoc\u00e1stico, empregando uma an\u00e1lise estat\u00edstica dos atrasos induzidos pela rede, o que permitiu a cria\u00e7\u00e3o de uma lei de controle que considera os atrasos. Esta metodologia utiliza informa\u00e7\u00e3o probabil\u00edstica para o funcionamento dos sistemas, utilizando um observador e um preditor para estimar os estados e calcular o controle. Esta linha de pesquisa constitui um aporte muito importante para o NCS, embora n\u00e3o seja a linha de pesquisa desta disserta\u00e7\u00e3o.\nconsiderados sensores que trabalham por temporiza\u00e7\u00e3o assim como controladores e atuadores por eventos, de tal forma, que o tempo de transmiss\u00e3o n\u00e3o \u00e9 constante.\n4.1.1\tReferencias de sistemas de controle distribu\u00eddo\nOutra linha de pesquisa relacionada com o presente trabalho s\u00e3o os sistemas de controle distribu\u00eddos. Este tipo de sistema \u00e9 caracter\u00edstico porque, ao contr\u00e1rio dos sistemas de controle convencionais, o elemento que desempenha a tarefa de controle n\u00e3o est\u00e1 localizado num \u00fanico ponto da malha de controle. Em geral, estes sistemas precisam de algum tipo de comunica\u00e7\u00e3o entre os dispositivos que integram a tarefa de controle. Comparado a sistemas de controle centralizados, tais estruturas de controle fornecem maior confiabilidade, flexibilidade e facilidade de manuten\u00e7\u00e3o. Os NCS podem ser considerados como parte deste grupo de sistemas de controle no momento.\nDe acordo com (LUGLI; SANTOS, 2011) a r\u00e1pida evolu\u00e7\u00e3o da eletr\u00f4nica e da engenharia de software e a miniaturiza\u00e7\u00e3o de componentes s\u00e3o os principais fatores e os meios para o desenvolvimento dos sistemas de automa\u00e7\u00e3o distribu\u00eddos com redes de campo industrial, entre estes, os novos protocolos sem fio, tais como WH e ISA100.11a. A diversidade de metodologias para sistemas de controle em rede encontradas na literatura \u00e9 bastante extensa. Entre alguns trabalhos recentes dedicados a sistemas de controle distribu\u00eddo e agentes de controle em tempo real destacam-se as seguintes refer\u00eancias: (CERVIN et al., 2003) , (YEPEZ; MARTI; FUENTES, 2002), (ARZEN et al., 2000). No entanto, nos \u00faltimos anos, o uso de equipamentos sem fio para monitoramento vem aumentando de forma consider\u00e1vel (SONG, 2008), com a iniciativa do setor industrial de utilizar as redes sem fio para controle. Autores da \u00e1rea como (SONG et al., 2006), (PAJIC et al., 2011) prop\u00f5em o uso de redes sem fio para controle.\nEm (MURRAY; ASTROM; BOYD, 1987), s\u00e3o definidos os sistemas de controle em rede como o futuro dos sistemas de controle. O uso de sistemas de comunica\u00e7\u00e3o compartilhados na implementa\u00e7\u00e3o de sistemas de controle traz novos desafios devido ao fato de que n\u00e3o existe um canal ideal de comunica\u00e7\u00e3o (HESPANHA, 2007). Existem v\u00e1rios aspectos principais, mostrados a seguir, que diferenciam o controle tradicional (que possui um canal ideal) do controle baseado em rede, com canal real. Dentre os principais que devem ser considerados est\u00e3o: canais de banda limitada, amostragem e lat\u00eancias, perda de pacotes e as diferentes arquiteturas de sistemas em redes.\net al., 2010). Estes trabalhos, que s\u00e3o base para esta disserta\u00e7\u00e3o, descrevem a arquitetura WH assim como os desafios para a implementa\u00e7\u00e3o da mesma em sistemas de controle. Com estas novas alternativas para os sistemas de controle industrial, a pesquisa em NCS est\u00e1 em franca ascens\u00e3o. Prova disso s\u00e3o os diversos trabalhos recentes, como o apresentado em (ZHANG; GAO; KAYNAK, 2013) que aborda os diversos desafios devido \u00e0s imperfei\u00e7\u00f5es induzida pela rede. Considerando tais imperfei\u00e7\u00f5es, v\u00e1rias restri\u00e7\u00f5es devem ser consideradas na an\u00e1lise e projeto de NCS. Neste artigo, os autores apresentam as principais metodologias sugeridas na literatura para lidar com as restri\u00e7\u00f5es t\u00edpicas induzidas pela rede, ou seja, os atrasos, perdas de pacotes, intervalos de transmiss\u00e3o que variam no tempo e a quantiza\u00e7\u00e3o de dados. Posteriormente foram desenvolvidos novos trabalhos sobre metodologias para sistemas de controle em rede, os quais se complementam e trazem uma grande variedade de metodologias para modelagem, an\u00e1lise e s\u00edntese de controladores para NCS, onde cada m\u00e9todo proposto considera um certo conjunto dos efeitos introduzidos pelo meio de comunica\u00e7\u00e3o.\n4.1.2\tReferencias de Wireless Network Control Systems\nPor exemplo, em (XIN et al., 2014), apresenta dois crit\u00e9rios para encontrar a localiza\u00e7\u00e3o \u00f3tima do controlador (OCL) em WNCS baseados na estrat\u00e9gia de controle linear-quadratic-Gaussian. Os crit\u00e9rios propostos no trabalho s\u00e3o aplic\u00e1veis \u00e0s redes One-hop eMulti-hop. Em redes One-hop, o controlador pode ser colocado do lado do sensor ou do lado do atuador. Para redes Multi-hop, onde o controlador pode estar localizado em qualquer um dos sensores, dispositivos de campo, ou atuadores, obt\u00eam-se a condi\u00e7\u00e3o necess\u00e1ria e suficiente na qual o sistema em la\u00e7o fechado garante estabilidade. Com base nestes resultados, o problema de OCL \u00e9 convertido num problema de optimiza\u00e7\u00e3o com um espa\u00e7o de solu\u00e7\u00e3o finita, que pode ser resolvido de forma eficiente. Os resultados num\u00e9ricos apresentam uma rela\u00e7\u00e3o direita entre a capacidade de recep\u00e7\u00e3o de pacotes dos n\u00f3s (sensor, atuador e cada um dos elementos da rede) e a localiza\u00e7\u00e3o \u00f3tima do controlador.\nEm (DEMIREL, 2015), \u00e9 apresentada uma importante an\u00e1lise sobre o desempenho de sistemas de controle em rede com redes sem fio. O trabalho apresenta novas pol\u00edticas para o envio de pacotes entre o controlador e o sensor considerando redes sem fio Multi-hop. Neste trabalho o autor apresenta conclus\u00f5es sobre o uso de padr\u00f5es sem fio industriais WH e ISA100.11), considerando os controladores cl\u00e1ssicos e os controladores baseados em eventos, encontrando nestes \u00faltimos, melhores resultados. O trabalho tamb\u00e9m apresenta um estudo importante para\nWNCS com atrasos vari\u00e1veis, mostrando mediante um caso particular de um motor CC os resultados de suas t\u00e9cnicas propostas para \u00e0 an\u00e1lise.\n4.2\tM\u00e9tricas Temporais de Protocolos de Comunica\u00e7\u00e3o\nPara a an\u00e1lise do desempenho de protocolos de comunica\u00e7\u00e3o s\u00e3o utilizadas m\u00e9tricas, como por exemplo, a taxa de utiliza\u00e7\u00e3o da banda dispon\u00edvel, pior tempo de resposta (WCRT - Worst Case Response Time), tempo de lat\u00eancia, perda de pacotes e jitter na transmiss\u00e3o de mensagens sob diferentes condi\u00e7\u00f5es de trafego e topologias de rede.\nExistem diversos trabalhos que abordam esta quest\u00e3o tentando aproximar o uso de protocolos de comunica\u00e7\u00e3o em NCS. Por exemplo, em (SANTOS; ATAIDE; VASQUES, 2003), foi realizada uma compara\u00e7\u00e3o entres as propriedades temporais das redes de controle CAN e Ethernet. Basicamente, foi avaliada a capacidade para suportar sistemas controlados por computador, atrav\u00e9s do c\u00e1lculo do tempo de resposta das mensagens no pior caso. Um pequeno exemplo de um NCS \u00e9 ent\u00e3o utilizado para comparar a capacidade destas redes de controle para satisfazer os requisitos da aplica\u00e7\u00e3o utilizada. Neste trabalho, \u00e9 apresentado o impacto que um sistema de controle sofre ao definir um protocolo com a MAC determin\u00edstica ou n\u00e3o para a rede de comunica\u00e7\u00e3o. Os resultados das simula\u00e7\u00f5es mostram que a rede CAN (Controller Area Network) apresenta boas propriedades para a transmiss\u00e3o de mensagens em tempo real, em fun\u00e7\u00e3o de sua caracter\u00edstica determin\u00edstica e atribui\u00e7\u00e3o de prioridades sobre as mensagens, que d\u00e1 flexibilidade para atribuir maior prioridade a mensagens cr\u00edticas. Os resultados para a rede Ethernet com protocolo de acesso ao meio probabil\u00edstico CSMA/CD (Carrier SenseMultiple Access with Collision Detection), apesar de n\u00e3o ser adequada com rela\u00e7\u00e3o ao determinismo de transmiss\u00e3o de mensagens, pode ser compensada ao utilizar-se taxas de transmiss\u00e3o mais elevadas ou baixa ocupa\u00e7\u00e3o de rede.\nUma vez que o padr\u00e3o WH foi ratificado em setembro de 2007, o escalonamento em redes WH foi investigado em alguns trabalhos recentes. Diversos trabalhos t\u00eam proposto algoritmos de escalonamento para convergecast assumindo modelos simplificados de rede, tais como: o modelo linear apresentado em (ZHANG; SOLDATI; JOHANSSON, 2009) e redes em \u00e1rvores (P. SOLDATI, 2009), (ZHANG et al., 2010). Para topologia em \u00e1rvore, assume-se que a profundidade da \u00e1rvore n\u00e3o \u00e9 maior do que o n\u00famero de canais. Nestes trabalhos n\u00e3o foram considerados fluxos em tempo real com diferentes prioridades e programa\u00e7\u00e3o de transmiss\u00e3o baseada em prioridade.\ncomunica\u00e7\u00e3o, saltos de canais e lista de canais proibidos. Estas caracter\u00edsticas \u00fanicas introduzem novos desafios nas an\u00e1lises dos atrasos fim-a-fim para efetuar controle ou monitoramento numa rede WH. Em (SAIFULLAH et al., 2011), foi explorado o problema da lat\u00eancia nos algoritmos de escalonamento. O objetivo do trabalho \u00e9 avaliar o tempo de lat\u00eancia fim-a-fim durante a transmiss\u00e3o de mensagens numa rede WH que usa uma pol\u00edtica de escalonamento baseado na atribui\u00e7\u00e3o de prioridades fixas. Para isto os autores utilizaram uma rede real desenvolvida em (LOUIS, 2011) para os testes. Os experimentos mostram que o atraso estimado com as simula\u00e7\u00f5es e os resultados encontrados com a plataforma de testes s\u00e3o altamente eficazes em termos de taxa de aceita\u00e7\u00e3o sob v\u00e1rias pol\u00edticas de escalonamento de prioridade fixa.\nEm um outro trabalho apresentado por (SAIFULLAH et al., 2014) foram pesquisados os efeitos da limita\u00e7\u00e3o de banda da rede com diversos la\u00e7os de controle. A escolha da frequ\u00eancia do la\u00e7o de controle nas redes WH apresenta quatro m\u00e9todos para resolver o problema existente devido \u00e0 restri\u00e7\u00e3o do atraso m\u00e1ximo da rede. Os algoritmos de solu\u00e7\u00e3o apresentados no trabalho s\u00e3o: o m\u00e9todo do sub-gradiente, o m\u00e9todo greedy heuristic, o algoritmo de otimiza\u00e7\u00e3o com restri\u00e7\u00f5es com busca simulated annealing (SA) baseado em penalidade, e a sele\u00e7\u00e3o da frequ\u00eancia de amostragem como um problema de otimiza\u00e7\u00e3o convexa diferen\u00e7\u00e1vel, que fornece uma solu\u00e7\u00e3o de forma fechada por meio de um m\u00e9todo de descida do gradiente. Para a avali\u00e7\u00e3o dos resultados \u00e9 utilizada a uma rede real (LOUIS, 2011) e os resultados mostram que o metodo de descida apresenta um maior tempo de execu\u00e7\u00e3o assim como maior custo no algoritmo de controle. Os metodos SA e greedy heuristic representam os extremos opostos entre o custo do controle e o tempo de execu\u00e7\u00e3o, enquanto o m\u00e9todo de descida do gradiente apresenta um equil\u00edbrio entre o custo do controle e o tempo de execu\u00e7\u00e3o.\n4.3\tTrabalhos Relacionados com Desempenho de Redes\nApesar dos benef\u00edcios diretos das redes sem fio, uma rede WH apresenta uma s\u00e9rie de desafios t\u00e9cnicos (confiabilidade, robustez, consumo de energia, toler\u00e2ncia a falhas, atrasos constantes). Sendo assim, a demanda para o desenvolvimento de ferramentas para avaliar e garantir confiabilidade em malhas de controle torna-se iminente (SANTOS etal., 2014).\ncabeadas. Outros erros de comunica\u00e7\u00e3o ocorrem devido a atenua\u00e7\u00e3o do sinal (influenciada pela dist\u00e2ncia entre o transmissor e receptor) e o problema de m\u00faltiplos caminhos (devido \u00e0 reflex\u00e3o, difra\u00e7\u00e3o e espalhamento do sinal transmitido) (DI MARCO et al., 2014).\nExistem trabalhos importantes sobre a confiabilidade de redes WH, entre eles, (PETERSEN; CARLSEN, 2009) onde uma rede WH foi testada utilizando 9 n\u00f3s e 1 GTW sob condi\u00e7\u00e3o de coexist\u00eancia com o padr\u00e3o IEEE 802.11. Neste trabalho tr\u00eas canais foram utilizados simultaneamente (1,6 e 11), deixando apenas 3 canais WH livres de interfer\u00eancia. No pior caso, foram observados uma m\u00e9dia de perda de pacotes de 27% aproximadamente dentro do per\u00edodo em que foi inserida interfer\u00eancia na rede WH. Outra situa\u00e7\u00e3o empregada foi a gera\u00e7\u00e3o de interfer\u00eancia por meio de um chirp jamming (linear or nonlinear frequency modulation interference) com o transmissor interferente posicionado a uma dist\u00e2ncia inferior a um metro do GTW WH, transmitindo em per\u00edodos de 10 ms. Neste cen\u00e1rio, a rede WH apresentou total degrada\u00e7\u00e3o, n\u00e3o havendo nenhuma recep\u00e7\u00e3o de dados no GTW e resultando em uma confiabilidade de 0%. Por\u00e9m, este \u00faltimo caso \u00e9 improv\u00e1vel dentro de um cen\u00e1rio real, onde a concorr\u00eancia de redes sem fio seria invi\u00e1vel.\nEm (SHAH, 2009), os autores desenvolveram um ambiente de simula\u00e7\u00e3o que permite modelar redes WH para avalia\u00e7\u00e3o do desempenho de m\u00e9todos de escalonamento para aplica\u00e7\u00f5es de controle, mediante testes com diversos tamanhos da rede considerando a distribui\u00e7\u00e3o geogr\u00e1fica da mesma. Desta forma \u00e9 poss\u00edvel avaliar o desempenho de uma implementa\u00e7\u00e3o real de um sistema e escolher o melhor algoritmo de escalonamento para o processo desejado avaliando os n\u00f3s presentes na rede.\nEm (NOBRE, 2011), descreve-se a implementa\u00e7\u00e3o de um m\u00f3dulo de simula\u00e7\u00e3o para redes WH, utilizando o simulador de redes NS-3. No trabalho, s\u00e3o avaliadas a probabilidade de perda de pacotes (Packet Error Rate - PER), a probabilidade de que uma informa\u00e7\u00e3o produzida seja recebida no destino e a dura\u00e7\u00e3o da bateria nas esta\u00e7\u00f5es. Os resultados mostram que dentre as topologias utilizadas para teste (estrela, linear e cluster), a topologia linear mostrou-se mais suscet\u00edvel a ru\u00eddos no canal, mas sua probabilidade de sucesso foi mais acentuada que as demais, ou seja, com a implementa\u00e7\u00e3o de trabalhos que minimizem este impacto, est\u00e1 topologia pode ser uma boa alternativa. Essa proposta tamb\u00e9m n\u00e3o possibilita obter conclus\u00f5es aprofundadas sobre redes sem fios reais.\nA literatura apresenta muitas pesquisas e resultados envolvendo a an\u00e1lise de alguns par\u00e2metros relacionados ao desempenho de redes IEEE 802.15.4 em rela\u00e7\u00e3o a outros padr\u00f5es que\noperam na mesma faixa de frequ\u00eancia. Os resultados de desempenho s\u00e3o variados e isso se deve principalmente \u00e0 dificuldade de caracterizar nos modelos de testes utilizados todos os par\u00e2metros envolvidos em um sistema de comunica\u00e7\u00e3o sem fio real. Em (WINTER, 2013) \u00e9 proposta a avalia\u00e7\u00e3o do desempenho do protocolo WH em condi\u00e7\u00f5es de coexist\u00eancia com outros padr\u00f5es que utilizam a mesma faixa de frequ\u00eancia do espectro. Os resultados demonstram que a rede WH \u00e9 prejudicada sob certas condi\u00e7\u00f5es de coexist\u00eancia variando a intensidade da degrada\u00e7\u00e3o em fun\u00e7\u00e3o do tamanho dos pacotes e do n\u00edvel de ocupa\u00e7\u00e3o dos elementos interferentes. No entanto, apesar das perdas registradas, o n\u00edvel de confiabilidade do protocolo sempre se manteve em 100%, ou seja, garantiu a entrega de dados dentro dos requisitos temporais propostos.\n4.4\tAn\u00e1lise de Sistemas de Controle sobre Rede WH\nSistemas controlados em rede constituem um conjunto de t\u00f3picos de pesquisa em ascens\u00e3o. Este aumento est\u00e1 diretamente relacionado ao crescente desenvolvimento das redes de comunica\u00e7\u00e3o em diversas aplica\u00e7\u00f5es industriais, particularmente nos campos de fabrica\u00e7\u00e3o de produtos e nos processos complexos ou sistemas de controle distribu\u00eddos, como o setor de petr\u00f3leo e g\u00e1s. A avalia\u00e7\u00e3o dos atrasos e da confiabilidade das redes para efetuar controle \u00e9 indispens\u00e1vel para a ind\u00fastria. Os estudos atuais est\u00e3o centrados no problema mais importante em NCS, que s\u00e3o os atrasos gerados pela comunica\u00e7\u00e3o.\nPode-se classificar as aplica\u00e7\u00f5es rodando em uma planta de processo em 3 grupos: as aplica\u00e7\u00f5es de classe C, para monitoramento, da classe B para controle e da classe A, para a seguran\u00e7a. A classe B tamb\u00e9m pode ser dividida em controle de supervis\u00e3o, controle de malha aberta, controle de la\u00e7o fechado e controle cr\u00edtico. Esta disserta\u00e7\u00e3o trata de aplica\u00e7\u00f5es de controle de la\u00e7o fechado (HAN S. , et al., 2010).\nExiste uma outra \u00e1rea de pesquisa, com \u00e2mbito de aplica\u00e7\u00e3o mais vasto e que \u00e9 dedicada a sistemas de controle em rede em tempo real, para aplica\u00e7\u00f5es cr\u00edticas de controle dentro da classe A, ou em ingl\u00eas, Real-Time Networked Control Systems ou Time-sensitive Networked Control Systems (ZHEN; CHOW, 2006b) e (ZHEN; CHOW, 2006a). Nas aplica\u00e7\u00f5es desenvolvidas para sistemas de controle em rede em tempo real h\u00e1 necessidades temporais, sem as quais os resultados n\u00e3o s\u00e3o considerados corretos. Em Real-Time Networked Control Systems o mais importante n\u00e3o \u00e9 apenas que o valor calculado esteja correto, mas tamb\u00e9m o instante de tempo em que os dados calculados est\u00e3o dispon\u00edveis, logo, o algoritmo de controle pode ser considerado dentro de tais sistemas. Para isto, deve se considerar a sincroniza\u00e7\u00e3o entre os elementos de c\u00e1lculo fisicamente\nseparados, que s\u00e3o de grande import\u00e2ncia quando um meio de comunica\u00e7\u00e3o compartilhada est\u00e1 presente.\nV\u00e1rios trabalhos recentes em pesquisa sobre WNCS para redes WH podem ser ressaltados tais como (DE BIABSI; SNICKARS; LANDERNAS, 2008a). Neste trabalho foi desenvolvida a simula\u00e7\u00e3o de uma rede WH e aplicados a sistemas de controle em rede com o simulador True-Time. A camada de acesso ao meio do protocolo foi implementada em C++, e mostra o impacto da dessincronia dos rel\u00f3gios no desempenho de sistemas de controle quando comparado ao caso onde n\u00e3o existe sincronia entre o controlador e rede sem fio. Mas nem sempre isto \u00e9 poss\u00edvel, o trabalho mostra que mediante um controlador de previs\u00e3o pode-se reduzir significativamente o problema causado pela dessincronia dos rel\u00f3gios. Um segundo trabalho importante relacionado de (DE BIABSI; SNICKARS; LANDERNAS, 2008b) apresenta um comparativo entre o desempenho de redes WH e redes ZigBee utilizando o mesmo ambiente simulado e um n\u00famero fixo de pacotes perdidos para a an\u00e1lise. Este trabalho constitui uma base para um estudo mais aprofundado do uso do WH para controle de processos em malha fechada. No trabalho, \u00e9 analisado o comportamento de dois motores CC com taxas de amostragem de 50 ms ou menos, comprovando a viabilidade do controle em rede.\nEm (FERRRARI, 2013), tamb\u00e9m foi implementada uma ferramenta de simula\u00e7\u00e3o para redes sem fio WH. Assim como os outros trabalhos recentes, este n\u00e3o possibilita aos interessados obter conclus\u00f5es sobre o desempenho de uma rede real sobre sistemas de controle. Os mesmos est\u00e3o sujeitos \u00e0s funcionalidades do simulador True-Time para avaliar os problemas referentes aos NCS, tais como a coexist\u00eancia num ambiente industrial e estabilidade da rede. Nos resultados mostrados no trabalho, encontrou-se a distribui\u00e7\u00e3o temporal dos per\u00edodos de envio de mensagens no la\u00e7o de controle atrav\u00e9s da rede, procurando caracterizar o determinismo da comunica\u00e7\u00e3o. Como resultado, pode-se observar a degrada\u00e7\u00e3o de desempenho quando sofre maior interfer\u00eancia, assim como um comparativo nas mesmas condi\u00e7\u00f5es entre uma rede WH e uma IEE 802.15.4, apresentando a an\u00e1lise da distribui\u00e7\u00e3o temporal dos per\u00edodos das mensagens de controle e observando, inclusive, a degrada\u00e7\u00e3o de desempenho com o aumento do tr\u00e1fego de dados.\nEm (SANTOS et al., 2014), \u00e9 apresentada uma avalia\u00e7\u00e3o a qual permite analisar o comportamento de uma rede WH em processos de controle do n\u00edvel de \u00e1gua em sistemas de tanques acoplados. Neste trabalho, o autor prop\u00f5e utilizar componentes comercias com o objetivo de desmistificar a utiliza\u00e7\u00e3o tecnologias sem fio em malhas de controle industriais. Os resultados do trabalho mostram la\u00e7os de controle est\u00e1veis para intervalos de amostragem entre 1 e 8 s, revelando que \u00e9 poss\u00edvel fazer um sistema de controle com equipamentos industriais sem fio, embora com limita\u00e7\u00f5es referentes \u00e0 taxa de transmiss\u00e3o de dados.\nEm (HORVATH; YAMPOLSKIY; KOUTSOUKOS, 2015), \u00e9 abordado o problema de NCS como uma importante classe de Sistemas Cyber f\u00edsicos (CPS, Cyber-physical systems), abordando o problema como um processo f\u00edsico controlado atrav\u00e9s de redes de sensores, atuadores e controladores. Neste trabalho, prop\u00f5e-se um simulador capaz de representar uma rede mesh sem fio, centralizada, capacidade de tempo real, que inclui um modelo real da camada f\u00edsica. Os resultados s\u00e3o avaliados por um simulador para NCS baseado em redes WH programado em SimPy que difere dos simuladores especializados em redes como NS-2 e OMNet++, pois este pode monitorar e avaliar numericamente os resultados da simula\u00e7\u00e3o. Os autores testaram o simulador mediante um sistema MIMO (multiple-input multiple-output) com um controlador preditivo, com as sa\u00eddas do sistema para um intervalo de controle de 100 ms, considerando atrasos insignificantes.\nPara a presente disserta\u00e7\u00e3o, foram utilizados os equipamentos desenvolvidos em (MULLER etal., 2010) para realizar um NCS, utilizando uma rede WH que usa um GTW comercial. Embora existam limita\u00e7\u00f5es referentes \u00e0 taxa de transmiss\u00e3o e altas taxas de lat\u00eancia, o controle foi realizado com um controlador por eventos mediante o princ\u00edpio mostrado pelo (DURAND; MARCHAND, 2009). A abordagem \u00e9 a melhor alternativa conforme o cen\u00e1rio t\u00edpico de uma rede e suas caracter\u00edsticas decentralizada de controle ET (MAZO; TABUADA, 2011).\n4.4.1\tControle no gateway\nPara avaliar vantagens da aloca\u00e7\u00e3o do m\u00f3dulo de controle dentro do gateway \u00e9 necess\u00e1rio modificar o gerenciador da rede utilizado nesta disserta\u00e7\u00e3o. Para satisfazer isto encontra-se na literatura trabalhos como o apresentado por (HAN et al., 2011). Este trabalho procura satisfazer os requisitos para comunica\u00e7\u00e3o em tempo real, propondo algoritmos de roteamento que buscam construir grafos confi\u00e1veis de uplink, downlink e broadcast para atender os espec\u00edficos das redes WH. Nos resultados, os autores mostram uma rela\u00e7\u00e3o entre o n\u00famero de n\u00f3s da rede e a lat\u00eancia, uma an\u00e1lise de roteamento e confiabilidade da rede.\nExistem diversas metodologias associadas aos algoritmos de roteamento e escalonamento para redes WH. Em (NOBRE; SILVA; GUEDES, 2015) s\u00e3o apresentados um conjunto de todos os trabalhos mais relevantes. Atrav\u00e9s das discuss\u00f5es de temas de roteamento, pode-se verificar que este \u00e9 um campo amplo, em que a variedade dos algoritmos e solu\u00e7\u00f5es est\u00e1 crescendo junto com o n\u00famero de aplica\u00e7\u00f5es onde o protocolo WH \u00e9 aplicado. Por exemplo: aplica\u00e7\u00f5es de monitoramento pode usar redes em malha, a fim de melhorar a sua confiabilidade atrav\u00e9s do uso de redund\u00e2ncia espacial (v\u00e1rios caminhos), e aplica\u00e7\u00f5es de controle pode usar a redund\u00e2ncia temporal (v\u00e1rias c\u00f3pias dos dados transmitidos). Para outras aplica\u00e7\u00f5es, h\u00e1 tamb\u00e9m a possibilidade de utilizar uma solu\u00e7\u00e3o h\u00edbrida.\nUm exemplo \u00e9 a disserta\u00e7\u00e3o de mestrado de (PESONEN, 2010) onde foi implementada uma rede WH atrav\u00e9s de um Tmote sky, ou modulo sensor sem fio. Como resultado da implementa\u00e7\u00e3o onde foi priorizado a redund\u00e2ncia temporal, os tempos de lat\u00eancia no la\u00e7o de controle s\u00e3o menores comparados aos oferecidos pelo gateway da Emerson utilizado nesta disserta\u00e7\u00e3o. Em contraste outras t\u00e9cnicas para compensar a perda de pacotes devem ser desenvolvidas. Neste caso o controle foi efetuado mediante um controlador LQR com um filtro de Kalman como estimador de estados.\n4.5\tConsidera\u00e7\u00f5es Finais do Capitulo\nNeste capitulo \u00e9 apresentada a revis\u00e3o da literatura envolvendo o estado da arte dos trabalhos de sistemas de controle em rede. Para o desenvolvimento desta disserta\u00e7\u00e3o procurou-se investigar os diferentes aspectos dos NCS tais como, compensa\u00e7\u00e3o de atrasos, estabilidade, perda de pacotes, com o fim de mostrar as diversas t\u00e9cnicas existentes para tratar cada um destes problemas, tanto para redes cabeadas como para redes sem fio. Em seguida, s\u00e3o investigados trabalhos que abordam as m\u00e9tricas temporais para RCI com o objetivo de indagar sobre a origem dos atrasos presentes em NCS e a influ\u00eancia dos algoritmos de escalonamento e a limita\u00e7\u00e3o de banda do protocolo empregado. A teoria de WNCS al\u00e9m dos efeitos inerentes \u00e0 rede, aborda um outro problema: a confiabilidade de uma rede sem fio. Por isso foram investigados alguns trabalhos que analisam a coexist\u00eancia de redes WH em diferentes \u00e2mbitos. Tamb\u00e9m foram analisados trabalhos de sistemas de controle em redes WH onde se evidencia que, na maioria dos trabalhos relevantes, s\u00e3o utilizados simuladores de rede, excetuando o trabalho (SANTOS et al., 2014).\natrav\u00e9s de um software hospedeiro, conforme \u00e9 descrito em 4.5.1, e cujo detalhamento ser\u00e1 apresentado no pr\u00f3ximo capitulo com suas respectivas justificativas.\nTabela 7 Trabalhos relacionados\nCen\u00e1rio\tCaracter\u00edsticas\tConclus\u00f5es\tReferencia\nZigbee, WirelessHart\tC\u00e1lculos te\u00f3ricos mediantes\tos modelos matem\u00e1ticos\tda rede e dos sistemas.\t1.\tA melhor estrat\u00e9gia para a arquitetura orientada a eventos \u00e9 usar o n\u00famero m\u00e1ximo de retransmiss\u00f5es. 2.\tO desempenho de controle tamb\u00e9m melhora como o n\u00famero de tentativas de retransmiss\u00e3o. 3.\tPara a arquitetura orientada a tempo. Aumentar o n\u00famero de retransmiss\u00f5es para al\u00e9m de um ponto \u00f3timo piora o desempenho do controle.\t(DEMIREL, 2015)\nCAN e Ethernet\tSimula\u00e7\u00f5es\t1.\tOs resultados das simula\u00e7\u00f5es mostram que a rede CAN apresenta boas propriedades para a transmiss\u00e3o de mensagens em tempo real, em fun\u00e7\u00e3o de sua caracter\u00edstica determin\u00edstica e atribui\u00e7\u00e3o de prioridades sobre as mensagens, que d\u00e1 flexibilidade para atribuir prioridade mais alta a mensagens cr\u00edticas. 2.\tOs resultados para a rede Ethernet com protocolo de acesso ao meio probabil\u00edstico CSMA/CD (Carrier Sense Multiple Access with Collision Detection), apesar de n\u00e3o ser adequada com rela\u00e7\u00e3o ao determinismo de transmiss\u00e3o de mensagens, pode ser compensada ao utilizar-se taxas de transmiss\u00e3o mais elevadas.\t(SANTOS; ATAIDE; VASQUES, 2003)\nWirelessHART\tSimula\u00e7\u00f5es\te plataforma de teste com rede real\t1. Os experimentos mostram que o atraso estimado com as simula\u00e7\u00f5es e os resultados encontrados com a plataforma de testes s\u00e3o altamente eficazes em termos de taxa de aceita\u00e7\u00e3o sob v\u00e1rias pol\u00edticas de escalonamento de prioridade fixa.\t(SAIFULLAH et al., 2011)\nWirelessHART\tSimula\u00e7\u00f5es em NS- 3\t1.\tOs resultados mostram que a perda de pacotes para as topologias utilizadas (estrela, linear e cluster), a topologia linear se mostrou a mais suscet\u00edvel a ru\u00eddos no canal, uma vez que para os piores casos, a sua queda na probabilidade de sucesso foi mais acentuada que as demais. 2.\tPara topologias lineares \u00e9 necess\u00e1rio minimizar o impacto do ru\u00eddo na perda de pactos. 3.\tA topologia estrela apresento menor porcentagem de perda de capotes\t(NOBRE, 2011)\nWirelessHART\tWNCS in TrueTime, Simula\u00e7\u00f5es\t1.\tA simula\u00e7\u00e3o mostra que existe melhor desempenho no sistema de controle quando estiverem sincronizados o controlador e a rede sem fio. 2.\tQuando n\u00e3o \u00e9 poss\u00edvel a sincronia dos rel\u00f3gios, pode-se reduzir os efeitos mediante um controlador de previs\u00e3o.\t(DE\tBIABSI; SNICKARS; LANDERNAS, 2008a)\nH'/re/essHART. e ZigBee\tWNCS in TrueTime, Simula\u00e7\u00f5es\t1. E poss\u00edvel efetuar controle em redes WH e ZigBee com taxas de amostragem de 50 ms ou menos.\t(DE\tBIABSI; SNICKARS; LANDERNAS, 2008b)\nHirelessHART\tWNCS in TrueTime, Simula\u00e7\u00f5es\t1.\tComo resultado, pode-se observar a degrada\u00e7\u00e3o de desempenho no sistema de controle quando sofre maior interfer\u00eancia. 2.\tNum comparativo nas mesmas condi\u00e7\u00f5es entre uma rede WH e uma IEE 802.15.4, apresentando a an\u00e1lise da distribui\u00e7\u00e3o temporal dos per\u00edodos das mensagens de controle e observando, inclusive, a degrada\u00e7\u00e3o de desempenho com o aumento do tr\u00e1fego de dados.\tEm (FERRRARI, 2013)\nHirelessHART\tRede\treal, plataforma de teste\t1. Os resultados do trabalho mostram la\u00e7os de controle est\u00e1veis para intervalos de amostragem entre 1 e 8 s, e assim mostra que \u00e9 poss\u00edvel fazer um sistema de controle com equipamentos industriais sem fio, embora haja limita\u00e7\u00f5es referentes \u00e0 taxa de transmiss\u00e3o de dados.\t(SANTOS et al., 2014)\nHirelessHART\tSimulador\tpara NCS baseado em redes\tWH programado\tem SimPy\t1. Os autores testaram o simulador mediante um sistema MIMO (Multiple-input multipleoutput) com um controlador preditivo e apresentou as sa\u00eddas do sistema para um intervalo de controle de 100 ms considerando atrasos insignificantes\t(HORVATH; YAMPOLSKIY; KOUTSOUKOS, 2015)\nPela an\u00e1lise dos estudos pr\u00e9vios sobre NCS, percebe-se que a maioria dos trabalhos que tratam de WNCS s\u00e3o realizados em plataformas simuladas mediante modelos das redes. E que, s\u00f3 dois utilizam plataformas reais de teste, e nenhum deles aborda o uso de um controlador baseado em eventos em uma rede real para efetuar controle, como ser\u00e1 exposto nesta disserta\u00e7\u00e3o.\n4.5.1\tImplementa\u00e7\u00e3o de sistemas de controle sobre rede\nPara esta disserta\u00e7\u00e3o, inicialmente foi desenvolvida uma ferramenta em C# que se comunica com uma rede WH que permite criar malhas de controle sobre cada um dos n\u00f3s participantes da rede, e assim poder analisar o desempenho de um sistema de controle sobre uma rede real. Para o estudo, foram utilizadas as ferramentas providas pelo laborat\u00f3rio LASCAR da UFRGS que ser\u00e3o descritas na subse\u00e7\u00e3o 5.6. Para esta an\u00e1lise foi elaborada uma rede, constitu\u00edda por i) um GTW, comercial da marca Emerson modelo 1420A, ii) quatro FDs WH desenvolvidos nos projetos relacionados do laborat\u00f3rio, iii) uma conex\u00e3o ethernet UDP entre o computador e o GTW, iv) um atuador para v\u00e1lvulas da COESTER com interface WH.\nDiferentemente dos trabalhos relacionados mencionados nas se\u00e7\u00f5es 4.1 e 4.4, este trabalho apresenta as ferramentas necess\u00e1rias para efetuar o controle num ambiente real com uma rede WH usando um GTW comercial.\n5\tcontrole sobre redes wirelesshart com o algoritmo de controle localizado no host\nDurante muitos anos, o foco principal no uso de redes de comunica\u00e7\u00e3o sem fio em aplica\u00e7\u00f5es industriais foi o monitoramento de processos. Agora que as redes sem fio est\u00e3o estabelecidas na ind\u00fastria, o controle sem fio torna-se objeto de pesquisa para uso em controle (WILLIG; MATHEUS; WOLISZ, 2005) (TILBURY; MOYNE, 2007). O r\u00e1pido progresso na tecnologia das redes sem fio est\u00e1 removendo a barreira de ado\u00e7\u00e3o que limitava a sua implementa\u00e7\u00e3o. Por\u00e9m, a quest\u00e3o \u00e9: quando as redes sem fio v\u00e3o substituir os sistemas cabeados? Conforme a tend\u00eancia, encontram-se na literatura diversas pesquisas na \u00e1rea do controle sem fio, como as mencionadas no cap\u00edtulo 4.\nEste cap\u00edtulo tem como objetivo mostrar uma vis\u00e3o de como efetuar controle sobre redes WH atrav\u00e9s de um software host. Apresentando as ferramentas desenvolvidas para a realiza\u00e7\u00e3o desta disserta\u00e7\u00e3o, a estrutura do host desenvolvido (HARTControl, HC), e de forma sucinta, o protocolo de comunica\u00e7\u00e3o utilizado para a comunica\u00e7\u00e3o entre a ferramenta host e o GTW da rede.\n5.1 Introdu\u00e7\u00e3o\nO escalonamento das mensagens trocadas entre os n\u00f3s da rede (controlador, sensor, atuador) \u00e9 de fundamental import\u00e2ncia em sistemas de controle em rede, uma vez que \u00e9 respons\u00e1vel direto por garantir um limite de tempo m\u00e1ximo entre os instantes em que a sa\u00edda da planta y(t) \u00e9 amostrada at\u00e9 a atualiza\u00e7\u00e3o da sa\u00edda do atuador y(t). O principal respons\u00e1vel por influenciar a dura\u00e7\u00e3o deste intervalo de tempo \u00e9 a camada MAC utilizada para a arbitragem do acesso ao meio. De acordo com (ALBERT, 2004), o maior problema referente ao atraso presente no la\u00e7o de controle acontece quando este tempo n\u00e3o \u00e9 determin\u00edstico. Quando este intervalo \u00e9 fixo e n\u00e3o apresenta jitter, pode-se elaborar mais facilmente leis de controle que considerem este atraso. Numa rede WH o escalonamento das comunica\u00e7\u00f5es \u00e9 realizado centralizadamente pelo NM. Para que o escalonamento seja feito de forma \u00f3tima, o NM precisa de informa\u00e7\u00f5es sobre a rede, sobre os requisitos de comunica\u00e7\u00e3o e sobre a capacidade dos dispositivos na rede. Ao passo que estas informa\u00e7\u00f5es s\u00e3o obtidas e atualizadas, o NM ajusta o escalonamento para se adequar aos requisitos que analisa da rede. E desta forma o escalonador utiliza as informa\u00e7\u00f5es obtidas para ajustar o escalonamento.\nA heur\u00edstica utilizada pelo escalonador poderia ser modificada visando aspectos mais cr\u00edticos conforme a necessidade, tais como lat\u00eancia, robustez a ru\u00eddos e redund\u00e2ncia, ao inv\u00e9s de se\nbasear apenas em minimiza\u00e7\u00e3o do tempo e da utiliza\u00e7\u00e3o de canais. Mas, em ambientes fabris com alta presen\u00e7a de interfer\u00eancia \u00e9 necess\u00e1rio um alto grau de robustez, que tem como consequ\u00eancia um alto grau de lat\u00eancia na transmiss\u00e3o de dados atrav\u00e9s da rede. Esta disserta\u00e7\u00e3o considera este cen\u00e1rio e prop\u00f5e uma solu\u00e7\u00e3o para uma arquitetura considerando altos \u00edndices de lat\u00eancia.\n5.2\tPoss\u00edveis Fontes de Atrasos em NCS\nAs poss\u00edveis causas de atraso em um sistema de controle podem ser muitas e constituem o principal desafio em NCS. Algumas das poss\u00edveis fontes que podem afetar um sistema s\u00e3o listadas: atrasos intr\u00ednsecos; tempo morto devido ao escalonamento; atrasos da comunica\u00e7\u00e3o; jitter; falta de sincronia dos rel\u00f3gios.\nA primeira causa \u00e9 um fator intr\u00ednseco do sistema tomado em considera\u00e7\u00e3o. De fato, nem todas as plantas que precisam de aplica\u00e7\u00f5es de controle s\u00e3o caracterizadas por uma resposta instant\u00e2nea (isto \u00e9 muitas vezes um atraso de transporte, por exemplo, entre uma rea\u00e7\u00e3o qu\u00edmica e o sensor). Al\u00e9m disso, o esquema de escalonamento usado para executar as diversas tarefas respons\u00e1veis da computa\u00e7\u00e3o da malha de controle, tem que ser levado em conta. Por exemplo, se um sensor faz a medi\u00e7\u00e3o no instante Tr e o controlador \u00e9 executado, instante T2, um tempo morto (dead time) igual a T2 \u2014 Tr \u00e9 introduzido, ver Figura 26. Considerando-se o caso em que o acionamento n\u00e3o \u00e9 imediato e em seguida um longo tempo morto tem que ser considerado (na Figura 26), neste caso, o atraso introduzido ser\u00e1 T3 \u2014T-^.\nTempo Morto\nS\tC\tA\nt.\tt\tt\nFigura 26 Tempo morto entre o sensor e a execu\u00e7\u00e3o da tarefa de controle (S= sensor, C=controlador, A=atuador).\nasseguram um atraso determin\u00edstico, o uso de CSMA n\u00e3o. Usando este m\u00e9todo, quando ocorre uma colis\u00e3o, n\u00e3o h\u00e1 nenhuma garantia de ter um tempo limitado antes de concluir a transmiss\u00e3o, nem a certeza absoluta de uma transmiss\u00e3o bem-sucedida. O n\u00famero m\u00e1ximo de retransmiss\u00f5es e o n\u00famero de dispositivos que podem acessar a rede ao mesmo tempo, afetar\u00e3o fortemente o comportamento de um protocolo baseado em CSMA.\nA presen\u00e7a de jitter no tempo de execu\u00e7\u00e3o da tarefa que calcula o valor do sinal de controle influencia no comportamento de uma malha de controle. Por exemplo no caso de um controle acionado por eventos, um jitter (em vermelho na Figura 27) na execu\u00e7\u00e3o da tarefa de controle, provoca um atraso igual ao jitter em si. Onde o atraso introduzido pelo jitter \u00e9 dado por (28).\nD = (74 - Ta) - (T2 - 71)\t(28)\nFigura 27 Efeitos do Jitter em controle acionado por eventos (S= sensor, C=controlador, A=atuador).\nNo caso de tarefas time-driven, o problema poderia ser cr\u00edtico. Por exemplo (ver Figura 28), se a tarefa do atuador, executada em T3 \u00e9 executada muito pr\u00f3ximo do final da tarefa do controlador executada em T2, ent\u00e3o, um pequeno jitter (em vermelho) poderia causar um atraso extra na atua\u00e7\u00e3o de todo um per\u00edodo H. O sinal de controle n\u00e3o pode ser acionado durante a execu\u00e7\u00e3o da tarefa na primeira tentativa de atua\u00e7\u00e3o em T3, uma vez que n\u00e3o estava pronta a tarefa anterior (tarefa do controlador) quando a tarefa de atua\u00e7\u00e3o tinha que ser executada. A tarefa de atua\u00e7\u00e3o poderia ser executada no pr\u00f3ximo intervalo de atua\u00e7\u00e3o T4, mas no caso time-driven a tarefa de atua\u00e7\u00e3o ser\u00e1 executada s\u00f3 na pr\u00f3xima tentativa de execu\u00e7\u00e3o da tarefa de atua\u00e7\u00e3o em T5 .\nPr\u00f3ximo intervalo de execu\u00e7\u00e3o no caso EV\nH\nPr\u00f3ximo intervalo de execu\u00e7\u00e3o no caso TT\nFigura 28 Efeito do jitter em tarefas Time Driven (S= sensor, C=controlador, A=atuador).\nPor \u00faltimo, mas n\u00e3o menos importante, a falta de sincronia dos rel\u00f3gios tem que ser analisada. Tipicamente, num la\u00e7o de controle, h\u00e1 pelo menos um sensor, um controlador e um atuador. Por exemplo, considere o seguinte cen\u00e1rio: o sensor envia a medi\u00e7\u00e3o atrav\u00e9s de uma rede via 485 a uma placa de E/S, o controlador recebe os dados deste utilizando um protocolo diferente, como o WH, por exemplo. Ap\u00f3s o c\u00e1lculo, o sinal de controle tem que ser enviado para o atuador atrav\u00e9s da mesma rede sem fio usada pelo sensor. \u00c9 f\u00e1cil de imaginar que, utilizando-se dois protocolos de rede diferentes, nenhuma sincroniza\u00e7\u00e3o entre o controlador e o resto do sistema est\u00e1 garantida. Assim, se tarefas peri\u00f3dicas s\u00e3o usadas para executar a detec\u00e7\u00e3o, a atua\u00e7\u00e3o e o c\u00e1lculo do controle, ocorrem pela falta de sincroniza\u00e7\u00e3o dos rel\u00f3gios, tempos mortos adicionais que s\u00e3o introduzidos no la\u00e7o de controle.\nComo \u00e9 poss\u00edvel notar a partir da Figura 29, se os rel\u00f3gios n\u00e3o est\u00e3o em sincronia, considerando o controlador como uma tarefa peri\u00f3dica que \u00e9 executada nos instantes T2 e T4, este n\u00e3o pode calcular o valor do sinal de controle quando uma nova medida n\u00e3o est\u00e1 pronta, ou est\u00e1, mas com um atraso extra.\nFigura 29 Atrasos causados pela falta de sincroniza\u00e7\u00e3o dos rel\u00f3gios (S=sensor, C=controlador, A=atuador).\nusa a medi\u00e7\u00e3o feita no instante T1 e n\u00e3o vai ser acionado antes do instante T6. O atraso total, neste caso, ir\u00e1 ser igual a L = T6-T1 Como \u00e9 descrito em (29).\nD = (T6-T1) = H + L\t(29)\nDesta forma, devido \u00e0 implementa\u00e7\u00e3o de tarefas peri\u00f3dicas \u00e9 introduzido um atraso D no la\u00e7o de controle.\n5.3 Cen\u00e1rio NCS em WH\nA representa\u00e7\u00e3o de como pode ser implementado um la\u00e7o de controle fechado atrav\u00e9s de uma rede WH pode ser vista na Figura 30. Nesta estrutura, a rede WH \u00e9 utilizada para enviar os sinais de controle e atua\u00e7\u00e3o entre os n\u00f3s da rede.\nDispositivos de campo WH - FD\nGateway\nAtuador - V\u00e1lvula\nFigura 30 Cen\u00e1rio t\u00edpico de uma rede WH\nO cen\u00e1rio descrito pela norma WH corresponde a um cen\u00e1rio decentralizado de controle baseado em eventos, ou em ingl\u00eas, decentralized event-triggered control. Neste cen\u00e1rio, h\u00e1 tr\u00eas locais poss\u00edveis para a aloca\u00e7\u00e3o do m\u00f3dulo de controle: no host, no GTW, e nos FDs (HAN S. , et al., 2010). Nesta disserta\u00e7\u00e3o optou-se por alocar o modulo controlador no host pelos argumentos expostos em 5.1. Neste caso \u00e9 considerado um sistema de controle constitu\u00eddo por um conjunto de sensores e atuadores sem fio e um n\u00f3 de computa\u00e7\u00e3o encarregado de calcular o sinal de controle\ncom as medi\u00e7\u00f5es obtidas a partir dos n\u00f3s. Desta forma pode-se modelar a execu\u00e7\u00e3o da malha de controle em tr\u00eas etapas: a recupera\u00e7\u00e3o de dados a partir de sensores, computa\u00e7\u00e3o do sinal de controle e disposi\u00e7\u00e3o dos comandos de controle para os atuadores. Al\u00e9m disso, assume-se que o c\u00e1lculo do controlador acontece em apenas um dispositivo que recupera toda a informa\u00e7\u00e3o dos sensores, calcula as entradas para todos os atuadores, e divulga estes novos comandos para os n\u00f3s do atuador.\nPara a implementa\u00e7\u00e3o desta estrat\u00e9gia decentralizada de controle foi desenvolvida uma ferramenta host descrita em 5.4.1, onde foi alocado o m\u00f3dulo controlador que calcula o sinal de controle mediante a execu\u00e7\u00e3o de tarefa do tipo event-driven que espera os dados do n\u00f3 sensor para calcular o valor do sinal de controle e enviar para o atuador. Esta estrat\u00e9gia tem como objetivo minimizar o impacto da falta de sincroniza\u00e7\u00e3o entre as diferentes tarefas existentes no cen\u00e1rio, e assim n\u00e3o criar atrasos adicionais al\u00e9m dos inerentes da arquitetura proposta.\n5.4\tMetodologia Proposta\nPara o desenvolvimento da proposta foram utilizados dois protocolos de comunica\u00e7\u00e3o: o primeiro, o WH, descrito em 2.2, e segundo, o protocolo HART-over-UDP/IP, descrito em (WINTER, 2010), para efetuar a comunica\u00e7\u00e3o entre controlador e GTW atrav\u00e9s de sockets UDP. Para isto, uma porta de transmiss\u00e3o \u00e9 utilizada para criar um canal de comunica\u00e7\u00e3o entre a ferramenta host e o GTW da rede. A ferramenta host desenvolvida para esta disserta\u00e7\u00e3o cont\u00e9m as fun\u00e7\u00f5es de cada um dos comandos implementados, e estes ficam numa thread dentro de um la\u00e7o infinito, na ocasi\u00e3o do estabelecimento da comunica\u00e7\u00e3o entre a ferramenta host e o GTW.\nA ferramenta host desenvolvida solicita os dados do sensor atrav\u00e9s do comando de leitura da vari\u00e1vel de processo descrito no protocolo WH. Este dado \u00e9 encaminhado para o cache do GTW, e, posteriormente, encaminhado para o host. O dado de controle \u00e9 calculado e enviado para o GTW no comando de escrita da vari\u00e1vel de processo, e encaminhado para o atuador. Na sequ\u00eancia, a resposta do comando e a resposta gerada pelo atuador \u00e9 encaminhada para o host.\nA Figura 31, apresenta as camadas de rede com os protocolos utilizados.\nFigura 31 Configura\u00e7\u00e3o logica da metodologia proposta\nNesta disserta\u00e7\u00e3o foram desenvolvidas duas ferramentas para a an\u00e1lise dos dois estudos de caso descritos em 6.1. A primeira ferramenta, o host tem por fun\u00e7\u00e3o a integra\u00e7\u00e3o entre a interface gr\u00e1fica criada, o algoritmo de controle utilizado e a comunica\u00e7\u00e3o com o GTW. A outra ferramenta, o \u201cSimuladorPlanta\u201d cont\u00e9m uma thread para a simula\u00e7\u00e3o da planta utilizada como estudo de caso.\n5.4.1\tFerramenta HARTControl\nA norma WH permite a cria\u00e7\u00e3o de aplica\u00e7\u00f5es host que possam se comunicar com o GTW mediante o protocolo HART-over-UDP (HART CONMUNICATION FOUNDATION, 2010b). O software HARTControl (HC) permite a conex\u00e3o com o GTW da rede via HART-over-UDP conforme os requisitos da norma, e permite realizar la\u00e7os de controle com qualquer um dos r\u00e1dios presentes na rede.\nComo observa-se na Figura 32, a ferramenta foi criada em linguagem C#, e pode ter acesso a diferentes informa\u00e7\u00f5es da rede para permitir o envio dos dados aos dispositivos de campo, assim como a obten\u00e7\u00e3o das informa\u00e7\u00f5es necess\u00e1rias do processo para poder calcular os valores de cada la\u00e7o de controle. O software estabelece a conex\u00e3o com o GTW da rede WH atrav\u00e9s de um endere\u00e7o IP, atribu\u00eddo previamente na configura\u00e7\u00e3o do GTW para a conex\u00e3o UDP, e assim, o software tem acesso \u00e0s informa\u00e7\u00f5es dos FD presentes na rede.\nPara o desenvolvimento do software HC foram implementados os comandos necess\u00e1rios para a realiza\u00e7\u00e3o do controle em rede (leitura e escrita da vari\u00e1vel de processo), e as fun\u00e7\u00f5es para a conex\u00e3o e funcionamento do HC (n\u00f3s da rede, nicknames dos FD) numa biblioteca em C.\nO host propicia uma interface amig\u00e1vel para o usu\u00e1rio e assim poder ser utilizado em processos reais, onde o usu\u00e1rio pode modificar os par\u00e2metros do algoritmo de controle implementado de acordo com os requisitos de cada processo (ver Figura 35).\nFigura 32 Ambiente de desenvolvimento da ferramenta HC.\nCom o objetivo de resolver as caracter\u00edsticas do cen\u00e1rio de controle alocado no host numa rede WH optou-se pela implementa\u00e7\u00e3o de threads aninhadas e assim poder executar as tarefas de controle cada vez que \u00e9 obtido o dado do sensor. Desta forma, o programa est\u00e1 dividido em tr\u00eas threads, que s\u00e3o:\nBgthread: gerenciamento da interface de usu\u00e1rio. Solicita o valor do sensor ao FD e encaminha para o controlador, executando os comandos WH previamente dispon\u00edveis na biblioteca.\nControlador: esta thread utiliza os dados proporcionados pela Bgthread obtidos da rede. Uma vez que o dado do sensor est\u00e1 dispon\u00edvel, o sinal de controle \u00e9 calculado e enviado para o dispositivo de campo. Seu ciclo de execu\u00e7\u00e3o \u00e9 livre e executado de forma sequencial, quando o sinal do sensor estiver dispon\u00edvel. Implicitamente \u00e9 temporizado pela recep\u00e7\u00e3o do dado do sensor.\nComunica\u00e7\u00e3o: tem por finalidade o interc\u00e2mbio de dados entre a Bgthread e o GTW.\nO fluxo dos sinais de controle e do sensor s\u00e3o apresentados na Figura 33. Ao ser inicializado o software, a primeira a\u00e7\u00e3o \u00e9 estabelecer a comunica\u00e7\u00e3o com o GTW da rede e obter os dados; em seguida, \u00e9 solicitado ao FD o valor do sensor no instante tts (tempo de transmiss\u00e3o do sensor), que s\u00e3o recebidos no programa controlador no instante trs (tempo de recep\u00e7\u00e3o do valor do sensor). O controlador processa o c\u00e1lculo de controle e transmite o sinal de controle para o atuador no instante ttc (tempo de transmiss\u00e3o do sinal de controle), que por sua vez, \u00e9 recebido pelo FD no instante trc (tempo de recep\u00e7\u00e3o do sinal de controle).\n34.\nFigura 33 Representa\u00e7\u00e3o das threads da ferramenta host HC .\nO fluxograma gen\u00e9rico do funcionamento da thread do controlador \u00e9 apresentado na Figura\nFigura 34 Fluxograma gen\u00e9rico da thread do controlador.\nFigura 35 Interface da ferramenta HC.\nO gerenciamento e funcionamento da ferramenta host \u00e9 realizado pela thread Bgthread que gerencia todas a tarefas da ferramenta atrav\u00e9s da execu\u00e7\u00e3o de comandos. Estas tarefas s\u00e3o executadas atrav\u00e9s da thread de comunica\u00e7\u00e3o enquanto a Bgthread visualiza as informa\u00e7\u00f5es na\ninterface, como pode-se ver na Figura 35. O fluxograma gen\u00e9rico das fun\u00e7\u00f5es dos comandos\nexecutados pela thread de comunica\u00e7\u00e3o \u00e9 ilustrado na Figura 36.\n|\t| Tarefas\nIn\u00edcio\nEvento\nDecis\u00e3o\nFim evento\nComandos:\n130,131...\nVerifica o tamanho;\nVerifica o c\u00f3digo de resposta do dispositivo\nFigura 36 Fluxograma gen\u00e9rico das fun\u00e7\u00f5es dos comandos executados pela thread comunica\u00e7\u00e3o.\nA verifica\u00e7\u00e3o da chegada de um novo sinal de controle \u00e9 feita de forma peri\u00f3dica pela Bgthread, e uma vez \u00e9 confirmada a chegada de um novo dado do FD correspondente ao sensor, este passa para a thread do controlador.\n5.5\tSimulador Planta\nO software Simulador Planta tem como objetivo a simula\u00e7\u00e3o da planta que ser\u00e1 utilizada para valida\u00e7\u00e3o da arquitetura proposta e a avalia\u00e7\u00e3o do desempenho do controlador baseado em eventos. Com o intuito de representar um processo real da maneira mais fidedigna poss\u00edvel, a planta foi implementada numa thread que calcula de forma peri\u00f3dica o estado do modelo a partir do \u00faltimos valores de controle recebido. E avalia de forma peri\u00f3dica a chegada de um novo sinal de controle e envia para a planta da mesma forma envia a sa\u00edda da planta quando esta \u00e9 solicitada pela aplica\u00e7\u00e3o host. O valor da planta \u00e9 calculado mediante integra\u00e7\u00e3o num\u00e9rica do modelo espa\u00e7o de estados (ver equa\u00e7\u00e3o 32), sob a suposi\u00e7\u00e3o de que todas as condi\u00e7\u00f5es inicias do sistema s\u00e3o nulas.\nO algoritmo deste software est\u00e1 descrito de forma simplificada na representa\u00e7\u00e3o gr\u00e1fica na Figura 37, e o procedimento para a realizar a integra\u00e7\u00e3o num\u00e9rica do sistema LTI definidos pelas equa\u00e7\u00f5es diferenciais em (30), onde y e x s\u00e3o a sa\u00edda e a entrada do sistema, respectivamente. A fun\u00e7\u00e3o de transfer\u00eancia \u00e9 dada por (31).\na0yn + a1y(n-1) + \u2014+ an-1y + an-1y = b0xm + b1x(m-1) + \u2014+ bm-1x + bm-1x (30)\ny(s) _ boxm+b1x(m-1) +\u2014+bm-1x+bm-1x\nx(s)\taoyn+a1y(n-1)+-+an-1y+an-1y\nA partir da representa\u00e7\u00e3o de um sistema no espa\u00e7o de estados, conforme a equa\u00e7\u00e3o (3), uma representa\u00e7\u00e3o equivalente \u00e9 apresentada em (32) e (33)\nx1\nx2\nx3\n-x4-\n0\t1\t0\t0\t\tx1i\t\t0\n0\t0\t1\t0\t\tx2\t+\t0\n0\t0\t0\t1\t\tx3\t\t0\n\u2014a0\t\u2014a1\t\u2014a2\t\u2014a3-\t\t-x4-\t\t1\n(32)\nY = [b0 b1 b2\n0]\nx1~\nx2\nx3 -x4-\n(33)\nU\nde\nFigura 37 Estrutura do simulador da planta.\n5.6\tAnalise da Metodologia Proposta\nO correto escalonamento das mensagens entre dispositivos de automa\u00e7\u00e3o (sensores, atuadores e controladores) \u00e9 de fundamental import\u00e2ncia em NCS, j\u00e1 que \u00e9 respons\u00e1vel direto por garantir que os requisitos temporais impostos (tempo de amostragem dos sensores, tempo de resposta m\u00e1ximo do la\u00e7o de controle, etc.) sejam respeitados. Todas as atividades correspondes ao escalonamento de mensagens est\u00e3o impl\u00edcitas no NM.\nA Figura 38 apresenta a topologia da rede do experimento realizado, e a vizinhan\u00e7a de cada um dos dispositivos presentes no experimento realizado \u00e9 ilustrada na Figura 39. Este experimento foi realizado em um ambiente onde existem outros dispositivos operando na mesma faixa do espectro de RF do protocolo WH, al\u00e9m de obst\u00e1culos (paredes, vidros).\nA partir dos dados coletados durante o funcionamento da rede \u00e9 poss\u00edvel determinar o encaminhamento din\u00e2mico de pacotes entre os dispositivos da mesma assim como o movimento de cada pacote de um dispositivo para outro (salto de comunica\u00e7\u00e3o), como mostrado na Figura 39. Durante o experimento, foi observada a troca de mensagens entre os dispositivos intermedi\u00e1rios e as mensagens enviadas diretamente ao GTW.\nFigura 38 Rede WH com rotas diretas para o GTW.\nNesta an\u00e1lise foram coletados dados de tempo do encaminhamento de mensagens entre os dispositivos i) \u201c1 e 2 e o \u201d e o GTW \u201c3 e 2 e o GTW\u201d. O tempo de transmiss\u00e3o considerado nestas an\u00e1lises \u00e9 o tempo de transmiss\u00e3o desde o n\u00f3 de origem at\u00e9 o GTW e o envio de confirma\u00e7\u00e3o de recebimento da mensagem.\nO tempo m\u00e9dio de percurso do pacote em i) foi de 1,52s, sendo que tempos m\u00e1ximos e m\u00ednimos registrados ficaram entre 2,88s e 110ms respectivamente. O tempo m\u00e9dio no caso ii) foi de 1,3s, sendo que os tempos m\u00e1ximos e m\u00ednimos registrados ficaram entre 2,21s e 110ms respectivamente. Os resultados s\u00e3o apresentados na Figura 40 para um total de 20 amostras. O NM utilizado no experimento usa o mecanismo de roteamento baseado em superframes.\nEste teste revelou uma grande varia\u00e7\u00e3o no tempo de entrega dos pacotes entre os dispositivos em que o n\u00f3 de origem e de destino n\u00e3o s\u00e3o vizinhos diretos. Atualmente n\u00e3o h\u00e1 mecanismos de compensa\u00e7\u00e3o din\u00e2mica de atraso no WH principalmente porque cada n\u00f3 \u00e9 um dispositivo roteador independente. Tamb\u00e9m \u00e9 importante notar que as medi\u00e7\u00f5es foram realizadas\ncom a potencial ocorr\u00eancia de interfer\u00eancias externas e fen\u00f4menos de RF (reflex\u00f5es, desvanecimento, etc.), uma vez que o experimento foi realizado em um lugar n\u00e3o ideal.\nFigura 39 Representa\u00e7\u00e3o dos enlaces entre os vizinhos de cada FD.\nA principal vantagem do uso de roteamento por superframes \u00e9 que existe melhor trato do tr\u00e1fego da rede, assim mitigando os problemas de lat\u00eancia. O algoritmo de roteamento por\nsuperframes usa o primeiro link dispon\u00edvel no superframe para o envio de uma mensagem ao dispositivo seguinte. No entanto, este procedimento n\u00e3o garante a melhor entrega de pacotes ao dispositivo de destino quando s\u00e3o considerados v\u00e1rios saltos.\nTempo de transmiss\u00e3o dos pacotes com dois saltos de comunica\u00e7\u00e3o\nAmostra\nTabela 8 Sequ\u00eancia dos time slot.\nPrioridade\t\u201cpara\u201d\t\u201cde\u201d\tSequencia.\tPayload\nPdata\t5\t7\tn-2\tCmd 781, bc=1, rc=0, varValue=30\nPdata\t7\t5\tn-1\t\nPdata\t1\t7\tn\tCmd 781, bc=3, rc=0, nick=6\nPdata\t7\t1\tn+1\t\nPdata\t1\t5\tn+2\tCmd 1, bc=1, rc=0, varValue=30\nPdata\t5\t1\tn+3\t\nOs dados temporais foram registados de modo a obter o tempo de encaminhamento de envio e recep\u00e7\u00e3o de mensagens de cada FD, com o tempo de transmiss\u00e3o de pacotes variando de 110 ms para 2,8s em uma comunica\u00e7\u00e3o com dois saltos. Outra an\u00e1lise importante \u00e9 sobre a estrat\u00e9gia utilizada para roteamento de mensagens pelo NM do experimento. Os resultados apresentados revelam que a estrat\u00e9gia adotada pelo NM comercial empregado em particular, n\u00e3o garante o melhor agendamento para uma transmiss\u00e3o de pacotes, uma quest\u00e3o importante sobre as necessidades determin\u00edsticas. Uma poss\u00edvel melhoria do algoritmo de roteamento seria selecionar-se o link com o melhor caminho para o envio do pacote. O experimento realizado mostra que existe uma alta varia\u00e7\u00e3o entre os tempos necess\u00e1rios para a entrega de pacotes entre os n\u00f3s que n\u00e3o s\u00e3o diretamente vizinhos.\n5.6.1\tfre/essHART Modo Burst\nOs FDs WH podem ser configurados para operar no modo Burst. Enquanto um FD est\u00e1 no modo Burst, ele ir\u00e1 publicar dados/mensagens com o modo de configura\u00e7\u00e3o estabelecido, at\u00e9 receber um comando para modificar o tempo de publica\u00e7\u00e3o para um valor diferente. Na Figura 41 \u00e9 mostrado que, inicialmente, \u00e9 necess\u00e1ria a configura\u00e7\u00e3o do dispositivo para que este passe a publicar as mensagens periodicamente, ou seja, o modo Burst.\nPublica\u00e7\u00e3o de Dados\nFigura 41 Configura\u00e7\u00e3o do Modo Burst.\nA configura\u00e7\u00e3o pode ser feita de acordo com as necessidades do sistema. A distribui\u00e7\u00e3o dos links de transmiss\u00e3o atribu\u00eddos ao FD para a o envio de dados \u00e9 gerenciada pelo NM, que deve garantir os requerimentos de servi\u00e7os e tempos necess\u00e1rios.\nPara poder analisar o comportamento da influ\u00eancia do modo Burst escolhido e analisar seu impacto no atraso em um la\u00e7o de controle \u00e9 necess\u00e1rio obter os links de uma rede. Isto \u00e9 feito mediante um experimento simples, como se ilustra na Tabela 9, onde pode-se verificar os links para os dispositivos de campo operando no modo Burst.\nNa tabela \u00e9 poss\u00edvel observar-se que o \u00edndice link 0 corresponde ao superframe ID 1, que est\u00e1 no Slot 200 e que corresponde ao FD com NickName 63870.\nTabela 9 Links para o dispositivo 1, Experimento do Modo Burst.\n\u00cdndice Link\tSuperframe ID\tTime Slot\tCH OFFset\tNickName\tOption\tType\n0\t1\t200\t3\t63870\tRx\tBroad\n1\t0\t800\t1\t1\tTx\tNormal\n2\t0\t1\t0\t1\tTx/Rx\tDiscovery\n3\t4\t116\t2\t63870\tTx\tBroad\n4\t0\t217\t4\t1\tTx\tNormal\n5\t1\t228\t3\t65519\tTx\tJoin\n6\t1\t230\t2\t63870\tRx\tBroad\n7\t0\t350\t4\t65519\tRx\tJoin\n8\t0\t400\t7\t1\tTx\tNormal\n9\t0\t730\t8\t1\tTx\tNormal\n10\t0\t346\t7\t1\tTx\tNormal\nNeste experimento, verifica-se que o NM est\u00e1 usando 3 superframes, e nestes \u00e9 poss\u00edvel apurar quantos timeslost foram alocados para a transmiss\u00e3o (Tx) para cada FD. Seleciona-se um dos dispositivos da rede e a an\u00e1lise da sequ\u00eancia de links atribu\u00eddos a ele \u00e9 feita. A Tabela 10 apresenta o n\u00famero de slot atribu\u00eddos para diferentes tempos de Burst configurados.\nTabela 10 N\u00famero de slots atribu\u00eddos de acordo ao tempo de Burst.\nBurst Time\t16 s\t4 s 2 s 1 s\nN\u00famero de time slot 4 5 16 30\nNeste caso o superframe ID 0, o qual representa comunica\u00e7\u00e3o \u201cNormal\u201d est\u00e1 composto por 1024 slot, para um total de 10,24s. Se o FD tem 5 slot dispon\u00edveis para o envio da vari\u00e1vel de processo, isto representa 5 oportunidades do envio da vari\u00e1vel de processo. Quando se configura o tempo de Burst de 16s, percece-se que o NM aloca 4 links para transmiss\u00e3o \u201cTx\u201d. Para a configura\u00e7\u00e3o de 4s, s\u00e3o alocados 5 links, e assim por diante, conforme pode ser visto na Tabela 10.\nPercebe-se que o NM aloca uma maior quantidade de links ao dispositivo de campo para que seja poss\u00edvel cumprir com o deadline para a transmiss\u00e3o de mensagens.\nA Figura 42, ilustra o Superframe com 1024 slot e a distribui\u00e7\u00e3o dos links de transmiss\u00e3o atribu\u00eddos.\ncycle n\tcycle n+1\tcycle n+2\n1024 slots\t1024 slots\t1024 slots\n<\t>\t\t\n\t\t\n10,24 s&lt;\t\tLinks 30,72 s\t\nFigura 42 Superframe com links de transmiss\u00e3o.\nUm maior n\u00famero de links de transmiss\u00e3o implica uma maior oportunidade de transmitir os dados solicitados a cada dispositivo de campo. Deste modo, com o objetivo de incrementar a velocidade de resposta dos dados solicitados, neste trabalho foi adotada a maior taxa de transmiss\u00e3o permitida pelo GTW Emerson 1420A, que corresponde ao per\u00edodo de Burst m\u00ednimo de 1s.\n5.7\tConsidera\u00e7\u00f5es Finais do Capitulo\nNa literatura de NCS observa-se diversas possibilidades de implementa\u00e7\u00e3o de um sistema de controle em rede sem fio. Conforme as caracter\u00edsticas do protocolo WH, nesta disserta\u00e7\u00e3o \u00e9 proposta uma arquitetura que implementa o m\u00f3dulo de controle sobre o host para aplica\u00e7\u00f5es em la\u00e7o fechado considerando um controlador que compensa as limita\u00e7\u00f5es temporais oferecidas pelo cen\u00e1rio WH.\nAs poss\u00edveis causas de atraso em um sistema de controle podem ser muitas e constituem o principal desafio em NCS. Como todas as atividades correspondes ao escalonamento de mensagens da rede empregada est\u00e3o impl\u00edcitas no NM utilizado numa rede WH, um experimento realizado em laborat\u00f3rio para analisar o roteamento de mensagens \u00e9 apresentado para an\u00e1lise da proposta desta disserta\u00e7\u00e3o. Finalmente, visando analisar o impacto dos atrasos introduzidos pela arquitetura proposta num laco fechado de controle, s\u00e3o criadas duas ferramentas: uma interface de usu\u00e1rio, que tamb\u00e9m executa o algoritmo de controle proposto, e outra para a simula\u00e7\u00e3o de um processo industrial.\n6 INFLU\u00caNCIA DA COMUNICA\u00c7\u00c3O VIA WIRELESSHART EM SISTEMAS DE CONTROLE\nEste cap\u00edtulo apresenta a descri\u00e7\u00e3o dos experimentos propostos para validar a proposta desta disserta\u00e7\u00e3o. Apresenta-se o simulador de sistemas de controle em rede desenvolvido na ferramenta True-Time, um plug-in para o Matlab. Ao final s\u00e3o apresentados os resultados obtidos.\n6.1\tDefini\u00e7\u00e3o dos Experimentos e os Objetivos\nA Figura 43 ilustra o diagrama de blocos para circuito de controle por meio do host HC atrav\u00e9s da rede. Nele \u00e9 poss\u00edvel apreciar o cen\u00e1rio para esta plataforma de teste.\n\nControlador\nHost HC\nFigura 43 Arquitetura da comunica\u00e7\u00e3o entre o m\u00f3dulo controlador e o processo.\nPara o estudo da arquitetura proposta no capitulo 5, s\u00e3o definidas as m\u00e9tricas de avalia\u00e7\u00e3o, os equipamentos utilizados e os experimentos definidos. Cada um destes t\u00f3picos ser\u00e1 detalhado a seguir.\n6.1.1\tM\u00e9tricas de Desempenho\nA avalia\u00e7\u00e3o dos resultados obtidos com os experimentos \u00e9 realizada atrav\u00e9s de algumas m\u00e9tricas das \u00e1reas de comunica\u00e7\u00e3o e controle, definidas em 2.4.1,\n\u2022\tJitter\n\u2022\tTempo Pico (rp)\n\u2022\tM\u00e1ximo Sobrepasso (Mp)\n\u2022\tTempo de estabiliza\u00e7\u00e3o a acomoda\u00e7\u00e3o (Ts)\n\u2022\tAtraso no la\u00e7o de controle (rfc)\n6.1.2\tEquipamentos Utilizados\nPara realizar os experimentos foram utilizados os seguintes dispositivos apresentados abaixo:\nGTW WH\nModelo Rosemount - Emerson Process Management, ver Figura 44;\n\u2022\tModelo: 1420A;\nFigura 44 Smart wireless GTW 1420A - Emerson.\nR\u00e1dio prot\u00f3tipo\nO modulo de comunica\u00e7\u00e3o para v\u00e1lvulas utilizadas para a implementa\u00e7\u00e3o possui um firmware desenvolvido para o padr\u00e3o WH (MULLER etal., 2010) (ver a Figura 45).\nFigura 45 Prot\u00f3tipos WH compat\u00edveis com o protocolo.\nAtuador\nAtuador CSR 06/12/25 M da empresa Coester com torque at\u00e9 650 Nm (ver a Figura\n46).\nFigura 46 Atuador utilizado nos experimentos.\n6.1.3\tExperimento 1\nO primeiro experimento tem como objetivo avaliar o desempenho da rede, quando o la\u00e7o de controle \u00e9 fechado atrav\u00e9s da rede de comunica\u00e7\u00e3o e como planta \u00e9 utilizada um atuador. Para isto s\u00e3o feitas medidas a fim de observar o comportamento do tr\u00e1fego de mensagens numa rede implementada em laborat\u00f3rio, com o intuito de simular as condi\u00e7\u00f5es de um ambiente industrial.\nPara este experimento ser\u00e1 utilizado um atuador da empresa Coester como parte da planta, enquanto o conjunto sensor, atuador ser\u00e1 executado pelo FD ligado \u00e0 v\u00e1lvula, e o algoritmo de controle ser\u00e1 executado pelo software HC. A Figura 47 ilustra a configura\u00e7\u00e3o deste experimento, onde a rede WH foi configurada com quatro FDs como observa-se na Figura 47. O FD, que est\u00e1 ligado ao atuador, foi configurado com modo burst de um segundo de atualiza\u00e7\u00e3o.\nFigura 47 Conex\u00e3o do computador, GTW e os FDs.\nNeste experimento o atuador - v\u00e1lvula est\u00e1 ligado no FD de n\u00famero 4. A troca de dados entre o host e o FD \u00e9 realizada atrav\u00e9s do GTW da rede, que escolhe o caminho adequado de acordo com as especifica\u00e7\u00f5es do NM. Desta forma os poss\u00edveis caminhos para comunica\u00e7\u00e3o do host e o FD n\u00famero 4 s\u00e3o: GTW-4, GTW-1-3-4, GTW-1-4, GTW-2-4, GTW-1-2-4.\n6.1.4\tExperimento 2\nproposto por (DURAND; MARCHAND, 2009) executado pelo software HC, enquanto a planta simulada est\u00e1 num la\u00e7o infinito no software Simulador Planta, com per\u00edodo de amostragem de 100 ms. Para este experimento \u00e9 utilizada a mesma rede proposta no experimento 1. A Figura 48 ilustra a configura\u00e7\u00e3o deste experimento. O conjunto sensor atuador \u00e9 executado pelo FD que se comunica com a planta simulada. Os sensores s\u00e3o time-driven, realizando amostragens do processo em intervalos constantes de 50 ms. Tanto controlador quanto atuador s\u00e3o sistemas event-driven, executando seus algoritmos apenas quando uma mensagem \u00e9 recebida. O controlador \u00e9 totalmente ass\u00edncrono com rela\u00e7\u00e3o \u00e0 simula\u00e7\u00e3o da planta.\nDispositivos de campo WH - FD\nComputador - Aplica\u00e7\u00e3o Host\nControlador baseado proposta \u00c2RZEN\nX\nX\nX\nX\nEventos\n/ / / / / \u00ed / / / \u2713 '\ns z z z z z\nz z z\nX\nX\nX\n7\n\\ \\\n\\\n\\ \\\n\\ \\z\nFD 4\nX\nX\nX\nComputador - Aplica\u00e7\u00e3o Simulador planta Sistema de primeira ordem\nFigura 48 Conex\u00e3o do computador, GTW e FD.\nNa implementa\u00e7\u00e3o deste experimento, a aplica\u00e7\u00e3o HC e a planta comunicam-se com o GTW da rede de forma direta, mas n\u00e3o intercambiam informa\u00e7\u00f5es entre eles. O interc\u00e2mbio de dados entre a aplica\u00e7\u00e3o HC e a planta simulada \u00e9 realizada atrav\u00e9s da rede WH onde o FD n\u00famero (4) quatro \u00e9 utilizado como n\u00f3 por onde passam os dados. Neste experimento o caminho do percurso dos dados \u00e9 gerenciado pelo NM.\n6.2 RESULTADOS EXPERIMENTAIS\nOs experimentos foram realizados conforme os cen\u00e1rios propostos na se\u00e7\u00e3o 6.1. Os resultados s\u00e3o organizados da seguinte forma: i) atrasos da rede e os resultados do experimento 1; e ii) resultados para o experimento 2.\n6.2.1\tExperimento 1\nOs atrasos presentes na arquitetura proposta nesta disserta\u00e7\u00e3o podem-se dividir em tr\u00eas atrasos de uma forma alternativa, que permitam avaliar o desempenho da rede no la\u00e7o de controle como se ilustra na Figura 49. O primeiro atraso refere-se ao atraso durante o tempo de execu\u00e7\u00e3o das tarefas da aplica\u00e7\u00e3o HC; o segundo atraso t2, \u00e9 induzido pela comunica\u00e7\u00e3o entre o software HC e o GTW; e o \u00faltimo atraso t3 \u00e9 causado pela rede sem fio WH.\nAfim de analisar a influ\u00eancia dos atrasos e t2 um experimento foi feito utilizando a ferramenta HC desenvolvida, e, para isto utilizou-se o comando 3 que permite obter a informa\u00e7\u00e3o da vari\u00e1vel de processo guardada no GTW. Para o experimento, o comando foi executado 1000 vezes. O primeiro resultado apresentado \u00e9 o histograma da Figura 50, correspondente ao tempo de computa\u00e7\u00e3o do host HC e o tempo de comunica\u00e7\u00e3o entre o PC onde \u00e9 executado o host e o GTW ?! e t2. Analisando-se o histograma apresentado na Figura 50, pode-se notar que as maiores concentra\u00e7\u00f5es dos valores dos per\u00edodos destes atrasos est\u00e3o no intervalo entre 1,8 ms e 2 ms, e correspondem a cerca do 80% dos per\u00edodos dos atrasos verificados neste cen\u00e1rio.\nFigura 49 Atrasos presentes na Arquitetura Proposta.\nFoi obtido um atraso m\u00e9dio de 1,6 ms com um jitter de 0,5 ms. Na Tabela 11 \u00e9 apresentado um resumo estat\u00edstico sobre a dispers\u00e3o dos dados do experimento.\nFrequ\u00eancia\n% acumulado\n350\nAtrasos [ms]\n120.00%\n100.00%\n80.00%\n60.00%\n40.00%\n20.00%\n0.00%\nFigura 50 Histograma dos atrasos t1 + t2.\nA coluna \u201cM\u00e1ximo\u201d representa o m\u00e1ximo per\u00edodo encontrado no experimento realizado para os atrasos + t2, a coluna \u201cM\u00ednimo\u201d representa o m\u00ednimo per\u00edodo entre a comunica\u00e7\u00e3o e o tempo de c\u00e1lculo entre a ferramenta HC e o GTW. A coluna \u201cM\u00e9dia\u201d representa a m\u00e9dia aritm\u00e9tica das mil amostras consideradas, e as colunas \u201cDesvio padr\u00e3o\u201d e \u201cVari\u00e2ncia\u201d representam o desvio padr\u00e3o e a vari\u00e2ncia de todos os dados verificados ao longo do experimento.\nTabela 11 Resumo estat\u00edstico dos atrasos Tj + t2 em ms.\nM\u00e1ximo M\u00ednimo M\u00e9dia Desvio Padr\u00e3o Vari\u00e2ncia\n3,5\t0,9\t1,64547\t0,236168226\t0,055831262\nEm um outro experimento, utilizando a ferramenta HC sem implementar thread encontrou-se um atraso m\u00e9dio de 2,73 ms com um jitter de 0,73 ms, evidenciando desta forma tempos melhores na implementa\u00e7\u00e3o em thread.\nSegundo (NILSSON, 1998) qualquer atraso computacional tc do controlador est\u00e1 inclu\u00eddo dentro dos atrasos tsc (atraso sensor-controlador) ou tca (atraso controlador-atuador) e, considerando-se o desvio padr\u00e3o e a vari\u00e2ncia dos dados, pode-se considerar + t2 de forma geral como um atraso de cerca de 1,6ms. Os atrasos na comunica\u00e7\u00e3o entre a troca de mensagens do sensor para controlador e do controlador para o atuador Tk = tsc + tca incluem os atrasos + t2 e T3.\nComo pode-se observar, n\u00e3o h\u00e1 uma grande altera\u00e7\u00e3o no per\u00edodo das mensagens de controle, sendo que a grande maioria (por volta de 70%), possuem per\u00edodo no intervalo entre 1,5 e 2 ms. A Figura 51 mostra o tempo medido para 1000 amostras.\n4.00\n0.00\n<\u2014*\nrj in oo -' 'C Od T) oo o 'C Od cf r' o 'C x -\u25a0 -r\tC1 cl 'n oo -\u25a0 -r e. rj in oo\ncj ci cl cc cc cc cc \u25a0xf Tr in irrin 'rr'C 'jj\tr~ \u00e7- r~ \u00e7- oc oo oc oo e. e.\nAmostra\nFigura 51 Atrasos Tj + t2.\nNa Figura 54 s\u00e3o ilustrados os atrasos totais coletados conforme a Figura 52. Neste caso, foi realizado um simples controle de posi\u00e7\u00e3o do atuador, posicionado ao atuador em um valor desej\u00e1vel.\nHost HC\nV\ncts\t\t\t\ntrs\t\u2014 SC Tk\tTs Tk\t\t\t\u25ba\n\t\u25c4\t\t\t\n\u00bfte\tTC\t\t\n\t-ca\t\t\n\tTk\t\t\t*\u2022\ntrc\t\t\t\n\t\u25c4\t\t\t\nFigura 52 Instantes de tempo Tf\nV\u00e1lvula\n\nAnalisando-se o histograma apresentado na Figura 53, pode-se notar que a maior concentra\u00e7\u00e3o dos valores dos per\u00edodos do la\u00e7o de controle se d\u00e1 entre 10 e 12,5s, e corresponde \u00e0 aproximadamente 80% das amostras verificadas. O resumo estat\u00edstico do experimento \u00e9 apresentado na Tabela 12.\nTabela 12 Resumo estat\u00edstico dos atrasos do la\u00e7o Tk.\nM\u00e1ximo M\u00ednimo Media Desvio Padr\u00e3o Vari\u00e2ncia\n15.3900\t6.2700\t9.5600\t2.170858\t4.717342\n450\n\u00ab\t400\n350 E&lt;8300\n-= -\u00fc\n250\ni&lt;01\n200 \u2019\u25a1 o\n150\n100 01\n50 0\n120.00%\n100.00%\n80.00%\n60.00%\n40.00%\n20.00%\n0.00%\nLO b T\u20141\tlo o lo m rxj t\u2014i\tO lo ro lo vi\tLD CD LO T\u20141 T\u20141\tLO LO T\u20141\tCD LO b (N\tcxi\tlo r-- lo o uS\too\tm rsl\trsi\n\t\t\tPeriodo [s]\t\t\t\u25a0 % acumulado\nFigura 53 Histograma de atrasos no la\u00e7o de controle completo Tk.\nA Figura 54 ilustra os tempos medidos do la\u00e7o de controle completo rk (equa\u00e7\u00e3o 35) posicionando o atuador, para um total de 1000 amostras, neste experimento foi observado um tempo de atraso m\u00e9dio de 9,56s e um jitter m\u00e9dio de 1,57 s apresentado na Figura 55.\n(35)\nTk = isc + iCA = Ti + t2 + t3\n00\nxH^tr^OrCLDCDCNLOOOx\u2014l^tr^Om<DCDCNLOOOvl^tr^Om<DCDCNLOOOx\u20141 m\u00edDOrniDCDmiDCDmiDCDmLDCDrxjiDCDrxjiDCDrxjiDCDrxjLOCDrxjLOCD X\u2014lx\u2014lx\u2014lx\u2014ICNCNCXimmm^t^t^tLOLOLOLDLDLDr^r^r^OOOOOOCDCDCD\nAmostra\nFigura 54 Atrasos no la\u00e7o de controle Tk.\nAqui, o objetivo \u00e9 avaliar o comportamento do sistema em malha fechada utilizando o um controlador discreto e o atuador (v\u00e1lvula).\nET, executando-se apenas quando uma mensagem e recebida, optou-se pela implementa\u00e7\u00e3o de um controlador ET para o experimento 2.\n14.0\nFigura 55 Jitter do la\u00e7o completo de controle.\nLevando-se em conta a proposta, foi realizado o posicionamento sobre a v\u00e1lvula. Os resultados deste experimento podem ser visualizados na Figura 56, onde \u00e9 mostrada a posi\u00e7\u00e3o do atuador em fun\u00e7\u00e3o do tempo. Para este experimento, o valor setpoint foi de 70% da abertura da v\u00e1lvula.\n\u2022 \u2022 Posi\u00e7\u00e3o enviada\nPosi\u00e7\u00e3o do atuador-----------Setpoint\ncaracter\u00edsticas, optou-se pela implementa\u00e7\u00e3o de um controlador baseado em eventos e a sua implementa\u00e7\u00e3o ser\u00e1 detalhada no experimento 2.\n6.2.2\tExperimento 2\nPara a valida\u00e7\u00e3o deste experimento ser\u00e1 apresentado i) O projeto de algoritmo de controle para sistemas com atrasos de comunica\u00e7\u00e3o na rede; ii) a simula\u00e7\u00e3o do controlador com a ferramenta True-Time numa rede sem fio IEEE 802.15.4 (camada f\u00edsica do WH); e iii) a implementa\u00e7\u00e3o do controlador proposto.\nProjeto de Algoritmo de controle para sistemas com atraso na comunica\u00e7\u00e3o\nO maior problema referente aos sistemas de controle em redes sem fio \u00e9 quando os atrasos presentes no la\u00e7o s\u00e3o variantes no tempo. Se os atrasos fossem sempre constantes, poder-se-ia elaborar facilmente leis de controle que considerassem estes atrasos. Neste contexto seria importante discernir que, para aplica\u00e7\u00f5es cr\u00edticas de controle, \u00e9 necess\u00e1rio um protocolo de comunica\u00e7\u00e3o que possa garantir determinismo na transmiss\u00e3o das mensagens.\nPartindo do princ\u00edpio de que a planta, apresentada na Figura 10, tem sa\u00edda y(t) escalar, haver\u00e1 uma \u00fanica sequ\u00eancia t\u00bf de instantes de amostragem. Portanto, \u00e9 poss\u00edvel concluir que se tem um sistema de tempo discreto, em que o intervalo entre os instantes de amostragem ti+1 e t\u00bf \u00e9 vari\u00e1vel. Partindo disto, uma alternativa simples \u00e9, usar uma lei de controle de tempo cont\u00ednuo e, em seguida discretiz\u00e1-la, utilizando qualquer t\u00e9cnica convencional (por exemplo, o m\u00e9todo de Euler, a regra trapezoidal ou o m\u00e9todo de Tustin) (\u00c2RZEN, 1999). Neste logica deve considerar-se que os par\u00e2metros do controlador discreto dependem do intervalo de amostragem t\u00bf, e estes par\u00e2metros s\u00f3 ser\u00e3o modificados quando forem tomadas novas amostras em ti+1.\nA fim de compensar os atrasos introduzidos pela rede, est\u00e1 disserta\u00e7\u00e3o implementa o m\u00e9todo de (\u00c2RZEN, 1999) onde o evento para o c\u00e1lculo do sinal de controle \u00e9 dado pelo per\u00edodo de amostragem permitido pela rede sem fio WH.\nA equa\u00e7\u00e3o que descreve o controlador no plano s \u00e9 dada por (36):\nU(s) = K ( E(s) + E(s) + TdsE(s)}\t(36)\nU\u201e(s) = K (j3 Ysp(s') - Y(s))\nUd(s) =\t(yYsp(s) - HX))\n1 +\"\u00d1\u201c\n(37)\n(38)\n(39)\nO controlador discreto PID \u00e9 finalmente obtido pela discretiza\u00e7\u00e3o de (37), (38) e (39) e o pseudoc\u00f3digo \u00e9 mostrado na Tabela 13. A discretiza\u00e7\u00e3o da parte proporcional \u00e9 f\u00e1cil porque s\u00f3 \u00e9 a substitui\u00e7\u00e3o pela vers\u00e3o amostrada; enquanto no termo Ut \u00e9 utilizado o m\u00e9todo forward diferences (m\u00e9todo de Euler). O motivo para esta escolha \u00e9 que \u00e9 poss\u00edvel pr\u00e9-calcular a parte do intervalo ti+1 j\u00e1 em t\u00bf. Isto reduz os c\u00e1lculos que precisam ser realizados entre a amostragem do sinal de medi\u00e7\u00e3o Y e a gera\u00e7\u00e3o do sinal de controle U, reduzindo assim o tempo de computo necess\u00e1rio para a execu\u00e7\u00e3o do algoritmo. O termo Ud \u00e9 discretizado mediante o m\u00e9todo backward difference (m\u00e9todo diferencial) devido a que esta aproxima\u00e7\u00e3o de Ud \u00e9 est\u00e1vel para todos os valores de Td.\nTabela 13 Pseudo C\u00f3digo do Algoritmo de \u00c2RZ\u00c9N Implementado.\nfunction u=control_input_generator(ysp,y)\ne = (Ysp-y);\n// Calculate control signal\nUp = K*( Beta * Ysp - y );\nUd = Td/(N*hact + Td)*Dold - K*Td*N/(N*hact + Td)*(y - Yold);\nUi = \u00a1old;\n// Control singal\nu = Up + Ui + Ud;\n//Update\nYold = y;\nDold = Ud;\nIold = Iold + K*hact / Ti*(Ysp-y);\nOs dados considerados no algoritmo implementado s\u00e3o mostrados na Tabela 14.\nTabela 14 Par\u00e2metros do Controlador por eventos.\nPar\u00e2metros Valor\nKp\t5\nTi\t20\nTd\t1\nN\t50\nBeta\t0.4\nSimula\u00e7\u00f5es na ferramenta True-Time\n802.15.4.\tPara isto foi criada a rede sem fio, uma planta, um controlador baseado em eventos conforme a descrito na se\u00e7\u00e3o Projeto de Algoritmo de controle para sistemas com atraso na comunica\u00e7\u00e3oO e uma fun\u00e7\u00e3o que simula um alto tr\u00e1fego da rede para criar atrasos aleat\u00f3rios. A configura\u00e7\u00e3o desta implementa\u00e7\u00e3o \u00e9 ilustrada na Figura 57. O padr\u00e3o 802.15.4 utilizado nesta simula\u00e7\u00e3o n\u00e3o \u00e9 muito diferente do WH; o padr\u00e3o WH utiliza a camada f\u00edsica e a subcamada LLC do padr\u00e3o 802.15.4, enquanto a subcamada MAC em WH \u00e9 do tipo TDMA. No padr\u00e3o 802.15.4 a camada MAC \u00e9 do tipo CSMA-CA, tamb\u00e9m empregada no WH, quando os enlaces s\u00e3o compartilhados. No WH, a camada de aplica\u00e7\u00e3o e de rede est\u00e3o orientadas para a otimiza\u00e7\u00e3o de energia e redund\u00e2ncia de rede enquanto o padr\u00e3o 802.15.4 n\u00e3o possui camada de rede.\nFigura 57 Configura\u00e7\u00e3o do la\u00e7o de controle em rede.\nPara a simula\u00e7\u00e3o, os elementos do la\u00e7o de controle (sensor, controlador, atuador) s\u00e3o implementados em n\u00f3s inteligentes. Nesta simula\u00e7\u00e3o o sensor amostra a sa\u00edda da planta y(t) com um per\u00edodo nominal configurado. Este novo valor estar\u00e1 dispon\u00edvel para ser enviado ao controlador, logo depois de ser executada a tarefa de amostragem do sensor num tempo logico de Cls. O dado \u00e9 enviado ao n\u00f3 controlador atrav\u00e9s da rede onde \u00e9 invocada a fun\u00e7\u00e3o de controlador logo depois de um tempo ILC para assim calcular o valor do sinal de controle e logo \u00e9 enviado para o atuador,\ndepois de um tempo l\u00f3gico Clc. O valor do sinal de controle u(i) \u00e9 calculado de acordo com o algoritmo baseado em eventos de Karl-Erik \u00c2rz\u00e9n, levando em conta o valor do set-point Ysp (i).\nO diagrama em blocos do estudo de caso criado usando as ferramentas Simulink e TrueTime, apresentado na Figura 58. Aqui pode-se ver componentes que representam o comportamento da rede sem fio, a planta, o controlador e um bloco de fun\u00e7\u00e3o para simular os atrasos. A fun\u00e7\u00e3o Sensor/Atuador foi criada baseada no bloco True-Time kernel e da mesma forma o controlador. Todas as informa\u00e7\u00f5es entre os n\u00f3s s\u00e3o enviadas atrav\u00e9s da rede.\nComo pode-se visualizar na Figura 60 , devido aos atrasos aleat\u00f3rios o controlador baseado em eventos calcula o sinal de controle de acordo com o atraso do la\u00e7o. Desta forma o desempenho para cada per\u00edodo \u00e9 totalmente diferente e depende dos atrasos presentes no la\u00e7o.\nFigura 58 Representa\u00e7\u00e3o da simula\u00e7\u00e3o do controle no True-Time.\nNesta primeira simula\u00e7\u00e3o, \u00e9 apresentado o resultado para um servo motor com fun\u00e7\u00e3o de transfer\u00eancia apresentada na equa\u00e7\u00e3o (40) (ver Figura 59).\ns2+s\nFigura 59 Simula\u00e7\u00e3o de um WNCS no True-Time.\nSimula\u00e7\u00e3o do Estudo de caso (True-Time)\n\t\t\u2014 Ysp, Y\t\t\t\t\t\t\nA \t\tA 1 \\\t\t\t\tl\\ ' '\t\t\n\t1 1\t\\ 1\t\ti\t1 1\t1 4\t\t\\ 1\tl\\ 1 \\ ' 1 \\l 1\tv\u2014 1 .1\t\n\t( 1\t1 1\tl 1\t1 1\t\u00ed 1\t1 1\t1 ...1\t\t1 1\n\t1 1\t1\t 1 1\t1 j\t1 1\t1\t J J\t\tI\t 1 ...i\t\t1 1\t1 1 ..1\t\n\t\u00ed 1\t1 -\tl I\t'/\u25a0 l/\\ ~\t1 1\t1 ' -\t1\t 1 1\t1\n!7\t\tn - w \t\t\t\u201d\t\tV \" \t\t\tV\n1\tn ii\t\t\n<\u2022 _\t\u201d1*\t G 1. r\t \t\t...1\t...\t\t\nrt\t:\tI1 II\t; ,\t11 11 11\t11 \u00ed \u00ed\tj!\t\u00ed \u00ed \u00a1i\th i\tA\nr\tO ri\t\u00ed\\\t11 \u00bf TI----!\tI''-\t; j l|,r-\t/ T--- J -\ti l\ti i d\tr L\t\tL.\t|\u00a1\t!f\t\t\u00a11 !' 11 i *\u00a1 L 1 j\tIL\tk\tI \\\n\ti ri J\t1/\tn 'ALr\t\t\tr 14 \u2022\t, i 1 - ' 1 U\t1 1 1\t1 1 \t\t1 s 1\nl^r\t]j\tV\ti\t.\tif i\to ir\ti\t\t\tp\t\tt 1 14\nu i\t\u201c\t1\t\t\nTempo em s\nConsidera-se o princ\u00edpio definido em (GOMES DA SILVA. JR; BAZANELLA, 2006), que definem como regra para um grande n\u00famero de casos, que o per\u00edodo de amostragem deve ser tal que ocorram ao menos cinco amostras da sa\u00edda por constante de tempo dominante e que na presente proposta o per\u00edodo de amostragem est\u00e1 dado pelo atraso xk. O estudo de caso escolhido para a avaliar o desempenho de aplica\u00e7\u00f5es de controle em rede WH foi um sistema de primeira ordem com o objetivo de apreciar a rela\u00e7\u00e3o direta entre a degrada\u00e7\u00e3o de desempenho e a constante de tempo dominante do sistema t .\n0.01 s + 0.01\nCom o objetivo de ilustrar a influ\u00eancia do controlador e do barramento na din\u00e2mica do sistema, foi realizada a simula\u00e7\u00e3o do modelo da equa\u00e7\u00e3o (39) em malha fechada. Para a implementa\u00e7\u00e3o deste cen\u00e1rio foi implementado um controlador baseado em eventos para a simula\u00e7\u00e3o conforme a discretiza\u00e7\u00e3o proposta por (DURAND; MARCHAND, 2009) ao algoritmo de (\u00c2RZ\u00c9N, 1999). A Figura 60 ilustra a resposta temporal da planta simulada para seguimento de refer\u00eancia. A Figura 61 apresenta o sinal de controle.\n/\t\t\\\t\t\t\t\t\t\t\t\n1 1 1 Amplitude\t/ .....,/\t\t\\ \\\t\t\t\t\t\t\t\t\n\tI 1\t\t\\\t \\\t/ /\tX X\t\t\t\t\t\t\n\t1\t\\ \\\t/ /\tx\t\t\t\t\t\t\n\t\t\t\\\t\t\t\t\t\t\t\t\n/\t\t\t\t\t\t\t\t\t\t\n/\t\t\t\t\t\t\t\t\t\t\n/\t\t\t\t\t\t\t\t\t\tTempo em s\t\nFigura 60 Resposta temporal do processo simulado em True-Time.\nFigura 61 Sinal de controle gerado pelo algoritmo de Karl-Erik \u00c2rz\u00e9n no processo simulado.\nResultados do Experimento 2\nNa sequ\u00eancia, s\u00e3o apresentados os tempos mensurados, as curvas de resposta do controle e a resposta temporal do experimento 2.\nO principal objetivo do experimento 2 \u00e9 observar a influ\u00eancia do tr\u00e1fego da comunica\u00e7\u00e3o num processo cont\u00ednuo simulado utilizado o controlador baseado em eventos proposto por (DURAND; MARCHAND, 2009) e executado pelo software HC. Na Figura 62, percebe-se, claramente o de acomoda\u00e7\u00e3o de 150s. O sinal de controle (laranja) \u00e9 gerado pelo controlador cada vez que a rede permite uma nova leitura do n\u00f3 sensor. Nesse instante \u00e9 calculado o novo sinal de controle e \u00e9 enviado para o atuador.\nSaida da planta y(t)\tSinal de controle u(i)\n4\nFigura 62 Resposta Temporal da planta simulada com a rede real WH.\nComo pode-se ver na Figura 62 o sinal de controle, gerado pelo algoritmo de controle s\u00f3 muda quando se tem uma nova medida do valor do sensor. Neste experimento o sinal de controle \u00e9 calculado s\u00f3 se a diferen\u00e7a entre o erro atual (ver equa\u00e7\u00e3o 40) e o erro da itera\u00e7\u00e3o anterior \u00e9 maior que um elim.\ne = ysp - y\n(40)\nNas Tabelas 15 e 16 s\u00e3o apresentados os indicadores de desempenho com a rede simulada em simulink na ferramenta True-Time comparando-se com a rede real. Observa-se que existem diferen\u00e7as apreci\u00e1veis mesmo quando os controladores implementados s\u00e3o iguais. A rela\u00e7\u00e3o entre os tempos de acomoda\u00e7\u00e3o da rede simulada e a rede real \u00e9 de 2,09, isto devido \u00e0s diferencias entre modelos simulados e modelos reais de implementa\u00e7\u00f5es, principal contribui\u00e7\u00e3o desta disserta\u00e7\u00e3o.\nTabela 15 Desempenho do sistema de controle atrav\u00e9s da rede simulada (True-Time).\n__________M\u00e9trica__________Tempo\nOvershoot (MP)\t57\nTemo de acomoda\u00e7\u00e3o (Segundos)\t160\nTempo de subida (Segundos)\t13\nTempo de pico (Segundo)23\nTabela 16 Desempenho do sistema de controle atrav\u00e9s da rede WH.\n__________M\u00e9trica__________Tempo\nOvershoot (MP)\t27\nTemo de acomoda\u00e7\u00e3o (Segundos)\t335\nTempo de subida (Segundos)\t50\nTempo de pico (Segundo)79\nNa Figura 63 \u00e9 apresentado o jitter do software da planta para um total de 1500 amostras e na Figura 64 \u00e9 mostrado o respectivo histograma dos tempos mensurados.\nFigura 63 Jitter do software da planta simulada.\nEste software executa de forma peri\u00f3dica a simula\u00e7\u00e3o da planta da equa\u00e7\u00e3o (39), o envio do sinal do sensor quando este for solicitado pelo controlador e espera pela chegada do valor do sinal de controle, instante em que atualiza a entrada da planta.\n120.00%\n100.00%\n80.00%\n60.00%\n40.00%\n20.00%\n0.00%\nFigura 64 Histograma do Jitter da planta.\n6.3\tAvalia\u00e7\u00e3o do Desempenho em Fun\u00e7\u00e3o da din\u00e2mica do sistema de Controle\nOs resultados para t = { 666.6; 333.3 ; 303.03; 285.714 } s\u00e3o apresentados nas\nFigura 65, Figura 66, Figura 67 e Figura 68 respectivamente. Nas Figuras observa-se a deteriora\u00e7\u00e3o\ndo desempenho na medida que diminui a constante de tempo do sistema simulado (Ver Tabela 17).\nTabela 17 Estad\u00edsticas das m\u00e9tricas de desempenho comparando a constante de tempo do sistema.\nM\u00e9trica\tT = 666.6\tT = 333.3\tT = 303.3\tT = 285.714\nOvershoot (MP)\t30\t34\t43.8\t45\nTemo de acomoda\u00e7\u00e3o (Segundos)\t200\t240\t250\t250\nTempo de subida (Segundos)\t68.7\t72.1\t43.5\t45.8\nTempo de pico (Segundo)\t23\t57\t52\t53.3\nFigura 65 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 666. 6.\nFigura 66 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 333. 3.\nFigura 67 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 303. 03.\nFigura 68 Resposta temporal e sinal de controle do sistema de primeira ordem com t = 285. 714.\nA instabilidade do sistema a ser controlado depende da constante de tempo do mesmo, devido basicamente a que quando o sistema \u00e9 mais r\u00e1pido \u00e9 necess\u00e1ria uma maior frequ\u00eancia de atualiza\u00e7\u00e3o do sinal de controle. Neste experimento observa-se a perda de desempenho do sistema quando a din\u00e2mica do sistema fica mais r\u00e1pida. Para a presente proposta, esta perda de desempenho se acentua quando t &lt;335.\n6.4\tComparativo de Implementa\u00e7\u00f5es de Controle\nCom o objetivo de mostrar as diferen\u00e7as de desempenho entre as diversas implementa\u00e7\u00f5es em sistemas de controle, s\u00e3o ilustradas a seguir, implementa\u00e7\u00f5es de controle local do estudo de caso apresentado no experimento 2 (controle no gateway).\n6.4.1\tControle local\nNesta se\u00e7\u00e3o ser\u00e1 apresentado o desempenho do controle local, sem a rede, entre a aplica\u00e7\u00e3o host e a planta simulada. Para isto, \u00e9 utilizada a planta simulada do experimento 2 e o controlador utilizado no experimento 1. O objetivo deste experimento \u00e9 analisar o desempenho do controle local sem uma rede, numa implementa\u00e7\u00e3o de software e comparar com os resultados obtidos nas implementa\u00e7\u00f5es utilizando a rede.\nFigura 69 Conex\u00e3o Logica do controle local.\nA implementa\u00e7\u00e3o foi estruturada contendo o sistema de controle e o controlador no mesmo computador, sendo o controlador executado sequencialmente, comportando-se como um sistema de controle discreto convencional. O sistema apresenta a curva de resposta indicada na Figura 70 para uma entrada degrau.\nAmplitude\nFigura 70 Resposta temporal do processo do experimento 2, com controle local.\nO pequeno jitter introduzido deve-se \u00e0s varia\u00e7\u00f5es de processamento do computador\n400\n05\nJitter do perido ms\nFigura 71 Jitter do per\u00edodo do la\u00e7o sistema de controle local.\n6.5\tConsidera\u00e7\u00f5es Finais Do Capitulo\nNas se\u00e7\u00f5es anteriores formas descritas as diversas partes dos experimentos realizados. O A arquitetura proposta com o atuador e com o controlador que considera as lat\u00eancias e o sistema simulado. A partir dos resultados, apresentados por meio de gr\u00e1ficos das curvas de resposta dos sistemas foi contatada a rela\u00e7\u00e3o entre a constante de tempo do sistema e o desempenho e sua estabilidade.\nNos experimentos para a avali\u00e7\u00e3o da arquitetura proposta, evidencia-se os efeitos inerentes de WNCS. Os resultados mostram no primer experimento tempo de acomoda\u00e7\u00e3o maior comparado ao segundo experimento. Devido \u00e0 n\u00e3o considera\u00e7\u00e3o dos atrasos no c\u00e1lculo do sinal de controle assim como um maior n\u00famero de c\u00e1lculos no sinal de controle para atingir o valor final.\nCom o intuito de avaliar a influ\u00eancia dos atrasos al\u00e9m da implementa\u00e7\u00e3o com a rede real, foram realizadas simula\u00e7\u00f5es que consideram o caso cont\u00ednuo, ou seja, sem nenhum tipo de atraso no la\u00e7o de controle e tamb\u00e9m foi simulada uma rede sem fio. A metodologia proposta mostra que mostra que existe uma rela\u00e7\u00e3o direta entre o desempenho do sistema e a constante de tempo do sistema implementado.\n7\tCONCLUS\u00d5ES\nNeste trabalho estudou-se o comportamento de uma malha de controle quando o la\u00e7o \u00e9 fechado atrav\u00e9s de uma rede de comunica\u00e7\u00e3o sem fio WH. Para isto, foram estudados os principais problemas dos sistemas de controle em rede e foi proposta uma arquitetura com um controlador alocado numa aplica\u00e7\u00e3o host. A proposta foi validada experimentalmente atrav\u00e9s da implementa\u00e7\u00e3o do controle de um atuador el\u00e9trico numa rede WH real dispon\u00edvel em laborat\u00f3rio. A valida\u00e7\u00e3o tamb\u00e9m foi feita atrav\u00e9s de simula\u00e7\u00e3o usando a ferramenta True-Time/Simulink.\nA rede afeta o desempenho da malha fechada devidos \u00e0s diferen\u00e7as entre os sinais que chegam para o controle do sistema, pelas lat\u00eancias introduzidas pela rede. A avalia\u00e7\u00e3o do desempenho de sistemas de controle foi feita atrav\u00e9s de dois cen\u00e1rios diferentes com a rede WH real. No primeiro experimento foi efetuado o controle de posi\u00e7\u00e3o de um atuador industrial. Este experimento revelou a ocorr\u00eancia de atrasos aleat\u00f3rios no la\u00e7o de controle, e que h\u00e1 degrada\u00e7\u00e3o de desempenho no sistema a ser controlado. Embora, estes atrasos pudessem ser compensados mediantes diversas t\u00e9cnicas mais complexas encontradas na literatura, atrav\u00e9s da an\u00e1lise das caracter\u00edsticas temporais da rede WH e pela arquitetura proposta neste primeiro experimento, \u00e9 proposto o uso de um controlador baseado em eventos para a avalia\u00e7\u00e3o da influ\u00eancia da arquitetura sobre a din\u00e2mica de sistemas. Para isto foi proposto um segundo experimento utilizando diferentes modelos de primeira ordem com din\u00e2micas diferentes.\nSob a \u00f3tica de controle e, considerando os resultados em trabalhos pr\u00e9vios, e que existe uma confiabilidade do 100% na entrega dos pacotes numa solicita\u00e7\u00e3o por comando para a rede WH, ou seja, foi garantida a entrega de dados dentro dos requisitos temporais estabelecidos para uma rede WH em cen\u00e1rios com condi\u00e7\u00f5es reais de propaga\u00e7\u00e3o de sinais de r\u00e1dio frequ\u00eancia. A principal restri\u00e7\u00e3o para a implementa\u00e7\u00e3o desta proposta est\u00e1 relacionada as lat\u00eancias induzidas pela rede. E que no caso, n\u00e3o \u00e9 necess\u00e1ria nenhuma t\u00e9cnica para compensar a perda de pacotes, mas sim para os atrasos presentes no la\u00e7o.\nA escolha do per\u00edodo de amostragem depende basicamente da din\u00e2mica do sistema a ser controlado. Embora, n\u00e3o tenha sido estabelecido um crit\u00e9rio para analisar uma rela\u00e7\u00e3o da arquitetura e as din\u00e2micas dos sistemas suportados, nesta disserta\u00e7\u00e3o s\u00e3o ilustrados alguns experimentos para esbo\u00e7ar os limites de degrada\u00e7\u00e3o de desempenho.\noferece uma vantagem importante quando comparada com outras, j\u00e1 que contempla o uso de um GTW comercial para aplica\u00e7\u00f5es de controle.\nA principal vantagem oferecida pela presente disserta\u00e7\u00e3o reside nas facilidades de configura\u00e7\u00e3o e acesso aos dados de cada um dos la\u00e7os de controle presentes na rede. Isto contrasta de forma sutil com a desvantagem introduzida pelo GTW devido ao escalonamento e roteamento redundantes, necess\u00e1rios para que a rede possa operar num ambiente fabril. Esta pequena desvantagem de controle no host \u00e9 manifestada em per\u00edodos de alta lat\u00eancia na comunica\u00e7\u00e3o entre o GTW e o host, considerando que quanto maior o atraso do la\u00e7o, pior \u00e9 o desempenho do controle.\n7.1\tSugest\u00f5es para trabalhos futuros\nDevido a seu car\u00e1ter multidisciplinar e ao interesse recente em NCS, ainda existem muitas outras possibilidades para expandir este trabalho. As poss\u00edveis sugest\u00f5es que podem ser consideradas para trabalhos futuros s\u00e3o:\nAmpliar o n\u00famero de cen\u00e1rios para verificar o potencial desta t\u00e9cnica em particular. Tamb\u00e9m poderia ser desenvolvido um controlador mais complexo que considere os atrasos atrav\u00e9s de m\u00e9todos probabil\u00edsticos, e analisar as melhorias na resposta do sistema.\nOutro estudo poss\u00edvel seria otimizar o algoritmo de escalonamento das mensagens empregado pelo NM, de forma a conseguir atrasos menores nos la\u00e7os de controle. Embora isto implique em novas condi\u00e7\u00f5es na rede, inclusive perda de pacotes, existe na literatura controladores que podem ser utilizados para resolver isto.\nPor fim, como estudo de caso pr\u00e1tico, seria interessante desenvolver um GTW WH onde fosse poss\u00edvel modificar os algoritmos de escalonamento e roteamento para avaliar diferentes controladores sobre diferentes condi\u00e7\u00f5es de forma\u00e7\u00e3o da rede.\nREFER\u00caNCIAS\nALBERT, A. Comparison of Event-Triggered and Time-Triggered Concepts with Regard to Distributed Control Systems. In: EMBEDDED WORLD, 2004. N\u00fcrnberg. Proceedings. . . [S.ll.: s.n.], 2004. p. 235-252.\nALT, G. H.; LAGES, W. F.; LUBASZEWSKI, M S.; Controle em Tempo Real de Rob\u00f4s atrav\u00e9s de Redes IP. 2003. 99p. Disserta\u00e7\u00e3o (Mestrado em Engenharia El\u00e9trica) \u2014 Programa de P\u00f3s-gradua\u00e7\u00e3o em Engenharia El\u00e9trica, Universidade Federal do Rio Grande do Sul, Porto Alegre, 2003.\nARZEN, K. E. et al. An introduction to control and scheduling co-design. In: DECISION AND CONTROL, 39, 2000, Sydney. Proceedings... New York: IEEE Press, 2000. p. 4865-4870.\n\u00c2RZ\u00c9N, K. J. A Simple event-based PID. In: IFAC WORLD CONGRESS, 14., 1999, Beijing. Proceedings... [S.l:s.n],1999, p. 423-428.\nBRANICKY, M. S. Studies in hybrid systems: Modeling, analysis and control. 1995. 205p.Tese (Doutorado em Engenharia El\u00e9trica) \u2014 Massachusetts Institute of Technology, Boston, 1995.\nBRANICKY, M. S.; LIBERATORE, V.; PHILLIPS, S. M.; Networked control system cosimulation for co-design. In: AMERICAN CONTROL CONFERENCE, 2003, Denver. Proceedings... New York: IEEE Press, 2003. p. 3341-3346.\nCALVO, V. C. Sistemas de control Basados en red, modelado y dise\u00f1o de estructuras de control. 2005. 206p. Tese (Doutorado em Engenharia inform\u00e1tica e automa\u00e7\u00e3o) \u2014 Universidad Politecnica de Valencia,Valencia, 2005.\nCERVIN, A. et al. How does control timing affect performance ? Analysis and simulation of timing using Jitterbug and TrueTime. IEEE control systems magazine, [S.l.], v. 23, n. 3, p. 1630, June 2003.\nCHEN, D.; NIXON, M.; MOK, A. (Ed.). WirelessHART Real-Time Mesh Network for Industrial Automation. New York: Springer, 2010.\nD'INNOCENZO, A. et al. Scalable scheduling algorithms for wireless networked control systems. In: ANNUAL IEEE CONFERENCE ON AUTOMATION SCIENCE AND ENGINEERING, 5, 2009, Bangalore. Proceedings... New York: IEEE Press, 2009. p. 409-414.\nDE BIABSI, M.; SNICKARS, C.; LANDERNAS, K.; Simulation of process control with wirelesshart networks subject to clock drift. In: COMPUTER SOFTWARE AND APPLICATIONS (COMPSAC'08), 32 ,2008a, [S.l.]. Proceedings... New York: IEEE Press, 2008a. p. 1355-1360.\nENGINEERING (CASE), 2008b, [S.l.]. Proceedings... New York: IEEE Press, 2008b. p. 548553.\nDEMIREL, B. Architectures and Performance Analysis of Wireless Networked Control Systems. 2015. 177p. Tese (Doutorado em Engenharia El\u00e9trica) \u2014 KTH Royal Institute of Technology, Stockholm, 2015.\nDI MARCO, P. et al. Modeling IEEE 802.15.4 Networks over Fading Channels. IEEE transactions on wireless communications, [S.l.], v. 13, n. 10, p. 5366-5381, 2014.\nDJIEV, S. Industrial Networks for Communication and Control. Industrial Communication\nNetworks. Dispon\u00edvel em:&lt;http://anp.tu-sofia.bg>. Acesso em: 19 maio 2016.\nDURAND, S.; MARCHAND, N.; Further Results on Event-Based PID Controller. In: EUROPEAN CONTROL CONFERENCE, 2009, Budapest, Hungary. Proceedings... New York: IEEE Press, 2009. p. 1979-1984.\nFARINES, J.; FRAGA, D. S.; R\u00d4MULO, S. Sistemas de tempo Real. Florian\u00f3polis: Departamento de Automa\u00e7\u00e3o e Sistemas Universidade Federal de Santa Catarina, 2000.\nFERRARI, P. et al. Improving simulation of wireless networked control systems based on wireless HART. Computer Standards &amp; Interfaces, [S.l.], v. 35, n. 6, p. 605-615, Nov. 2013.\nGALLOWAY, B.; HANCKE, G. P. Introduction to industrial control networks. Communications Surveys &amp; Tutorials, IEE 1502, [S.l.], v. 15, n. 2, p. 860-880, 2013.\nBAZANELLA, A. S.; GOMES DA SILVA. JR, J. M. Sistemas de controle: Principios e m\u00e9todos de projeto. Porto Alegre: UFRGS, 2006.\nGUNGOR, V. C.; HANCKE, G. P. Challenges, design principles, and technical approaches. IEEE Transactions on Industrial Electronics, [S.l.], v. 56, n. 10, p. 4258-4265, Oct. 2009.\nGUPTA, R. A.; CHOW, M. Y. Networked control system: overview and research trends.\nIEEE Transactions on Industrial Electronics, [S.l.], v. 57, n. 7, p. 2527-2535,\nJuly 2010.\nGUTIERREZ, J. A. et al. Low-Rate Wireless Personal Area Networks: Enabling Wireless Sensors with IEEE 802.15.4. 3. ed. New York: IEEE Press. 2003. 276 p.\nHALEVI, Y.; RAY, A. Integrated communication and control systems: Part I - Analysis. Journal of dynamic systems, measurement and control, [S.l.], v. 110, n. 4. p. 367-373, Dec. 1988.\nHALEVI, Y.; RAY, A. Performance analysis of integrated communication and control systems. Journal of dynamic systems, measurement and control, [S.l.], v. 112, p. 365, Sept. 1990.\nHAN, S. et al. Reliable and Real-Time Communication in Industrial Wireless Mesh Networks.\nIN: IEEE REAL-TIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS\nSYMPOSIUM (RTAS), 17, 2011, Chicago. Proceedings... New York: IEEE Press, 2011. p. 3-12\nHART COMMUNICATION FOUNDATION. HCF SPEC-075, Rev. 1.1. Austin, 2010a.\nHART COMMUNICATION FOUNDATION. WirelessHart Device Types Gateways, Rev. 1.1. Austin, 2010b.\nHART COMMUNICATION FOUNDATION. A technical Overview, HCF_LIT-20. Austin, 2010a.\nHESPANHA, J. P. A Survey of Recent Results in Networked Control Systems. IEEE PRESS, New York, v. 95, n. 1, p. 138-162, 2007.\nHORVATH, P.; YAMPOLSKIY, M.; KOUTSOUKOS, X. Efficient Evaluation of Wireless RealTime Control Networks. Sensors, [S.l], v. 15, n. 2, p. 4134-4153, 15, 2015.\nJIANG, X. et al. A new stabilization criterion for networked control systems. IEEE Transactions on Automatic Control, [S.l.], v. 53, n. 4, p. 1025-1032, 2008.\nJOHNSON, D. B.; MALTZ, D. A. Dynamic Source routing in ad hoc wireless networks. Pittsburgh: Springer, 1996.\nJOSEPH, M.; PANDYA, P. Finding Response Times in a Real-Time system. The computer Journal, [S.l], v. 29, n. 5, p. 112-122, Dec. 1985.\nKENNEDY, M. P.; KOLUMB\u00c1N, G. Controlling chaos and bifurcations in engineering systems. In: DIGITAL COMMUNICATIONS USING CHAOS (CRC), 1999, Florida. Proceedings... New York: IEEE Press, 1999. p. 477-498.\nKOPETZ, H.; BAUER, G. The time triggered architecture. IEEE PRESS, Vienna, v. 91, n. 1, p. 112-126, 2003.\nKOPETZ, H.; GR\u00dcNTEIDI, G. TTP - A time-triggered protocol for fault-tolerant real-time systems. In: THE TWENTY-THIRD INTERNATIONAL SYMPOSIUM ON FAULT-TOLERANT COMPUTING, 2010, [S.l.]. Proceedings... New York: IEEE Press, 1993. p. 524533.\nLIAN, F. L.; MOYNE, J. R.; TILBURY, D. M. Performance evaluation of control networks: ethernet, controlnet and devicenet. IEEE Control Systems, [S.l], v. 1, n. 21. p. 66-83, Feb 2001.\nLOUIS, W. U. I. S. T. Wireless sensor network testbed. 2011. Dispon\u00edvel em:&lt;http://mobilab.wustl.edu/testbed>. Acesso em: 1 Abril 2015.\nLUCK, R.; RAY, A. Experimental verification of a delay compensation algorithm for integrated. International journal of control, [S.l], v. 59, n 6, p. 1357-1372, Mar. 1994.\nLUGLI, A. B.; SANTOS, M. M. D.; Redes industriais evolu\u00e7\u00e3o, motiva\u00e7\u00e3o e funcionamento. Intech Am\u00e9rica do Sul, [S.l.], v. 137, n. 15, p. 32-40, 2011.\nMAZO, M. .; TABUADA, P.; Decentralized event-triggered control over wireless sensor/actuator networks. IEEE Transactions on Automatic Control, Assen, v. 56, n. 10, p. 2456 - 2461, Oct. 2011.\nMICHELIN, T. J. An\u00e1lise do impacto da comunica\u00e7\u00e3o via rede flexray em sistemas de controle. 2014. 115p. Disserta\u00e7\u00e3o (Mestrado em Engenharia El\u00e9trica) \u2014 Universidade Federal Rio grande do Sul, Porto Alegre, 2014.\nMOYNE, J. R.; TILBURY, M. D. The Emergence of Industrial Control Networks for Manufacturing Control, Diagnostic, and Safety Data. IEEE Press, New York, v.95, p. 524-533, 2007.\nMULLER, I. et al. Development of a WirelessHART Compatible Field Device. In: IEEE INTERNATIONAL INSTRUMENTATION AND MEASUREMENT TECHNOLOGY CONFERENCE, 2010, Austin. Proceedings... New York: IEEE Press, 2010. p.1430-1434.\nMURRAY, R. M.; ASTROM, K. J.; BOYD, S. P. Control in an information rich world. New York: Society for Industrial and Applied Mathematics, 1987.\nNETO, A. Z. An\u00e1lise do impacto da comunica\u00e7\u00e3o em redes foundation fieldbus no desempenho de sistemas de controle. 2007. 94 p. Disserta\u00e7\u00e3o (Mestrado em Engenharia El\u00e9trica) \u2014 Universidade Federal Rio grande do Sul, Porto Alegre. 2007.\nNILSSON, J. Real-time control systems with delas. 1998. 141p. Tese (Doutorado em Automa\u00e7\u00e3o e controle) \u2014 Lund Institute of Thechnology, Lund, Suecia. 1998.\nNOBRE, M. H. An\u00e1lise de Desempenho Baseada em Simula\u00e7\u00e3o de redes WirelessHART. 2011. 87 p. Disserta\u00e7\u00e3o (Mestrado em Engenharia El\u00e9trica) \u2014 Universidade Federal Rio grande do Norte, Natal. 2011.\nNOBRE, M.; SILVA, I.; GUEDES, L. A. Routing and Scheduling Algorithms for WirelessHART Networks. A Survey. Sensors, [S.l.], v. 15, n. 5, p. 9703-9740, 2015.\nNOGUEIRA, T. A. Redes de comunica\u00e7\u00e3o para sistemas de automa\u00e7\u00e3o industrial. 2009. 83 p. Monografia (Especializa\u00e7\u00e3o em Automa\u00e7\u00e3o industrial) \u2014 Universidade Federal de ouro preto, Minas Gerais. 2009.\nOBERMAISSER, R. Event-triggered and time-triggered control paradigms. Vienna: Springer, 2004.\nOGATA, K. Modern Control Engineering. 5. ed. New Jersey: Prentice Hall, 2010.\nP. SOLDATI, H. Z. A. M. J. Deadline-constrained transmission scheduling and data evacuation in WirelessHART networks. [S.l.]: The European Control Conference. 2009.\nPAJIC, M. et al. The Wireless Control Network: A New Approach for Control Over Networks, IEEE Transactions on Automatic Control, [S.l , v. 56, n. 10, p. 2305 - 2318, Oct. 2011.\nPESONEN, J. Stochastic estimation and control over wirelessHART networks: Theory and implementation. 2010. 177p. Disserta\u00e7\u00e3o (Mestrado em Engenharia El\u00e9trica) \u2014 KTH Royal Institute of Technology, Stockholm, 2010.\nPETERSEN, S.; CARLSEN, S. Performance Evaluation of WirelessHART for Factory Automation. In: EMERGIN TECHNOLOGIES AND FACTORY AUTOMATION, 2009, [S.l.]. Proceedings... New York: IEEE Press, 2009. p. 1-9.\nRAY, A. Introduction to networking for integrated control systems. IEEE control system magazine, [S.l], v. 9, p.76-79, 1989.\nRAY, A. Output feedback control under randomly varying distributed delays. AIAA journal of guidance, control and dynamics, [S.l], v. 17, n.4, p. 701-711, 1994.\nRAY, A.; HALEVI, Y. Integrated communication and control systems: Part II - Design. ASME journal of dynamic systems, measurement and control, [S.l], v 110, p. 374-381, 1988.\nREHG, J. A. et al. Fieldbus in the process control laboratory-its time has come. In: FRONTIERS IN EDUCATION CONFERENCE, 1999, [S.l.]. Proceedings of the New York: IEEE Press, 1999, v. 3, p. 13B4-12.\nSAHAI, A. Anytime information theory. 2001. 175 p. Tese (Doutorado em Philosophy) \u2014 Massachusetts Institute of Technology (MIT), Cambridge, Massachusetts. 2001.\nSAIFULLAH, A. et al. End-to-End Delay Analysis for Fixed Priority Scheduling in WirelessHART Networks. In: REAL-TIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS SYMPOSIUM (RTAS), 2001, Chicago. Proceedings... New York: IEEE Press, 2011. p. 13-22.\nSAIFULLAH, A. et al. Near Optimal Rate Selection for Wireless Control Systems. ACM Transactions on Embedded Computing Systems (TECS) , St. Louis, v. 13, n. 4, p. 128, Mar. 2014.\nSANTOS, A. et al. Avalia\u00e7\u00e3o de redes WirelessHart em malhas de controle. In: CONGRESO BRASILEIRO DE AUTOM\u00c1TICA, 2014, Belo Horizonte. Anais...Belo Horizonte: SBA, 2014. p. 2593-2600.\nSHAH, K. Design and implementation of a simulator in support of wirelesshart-based control systems development. 2009. 85p. Report. (Doutorado em Engenharia El\u00e9trica) \u2014 KTH Royal Institute of Technology, Stockholm, 2009.\nSMAR EQUIPAMENTOS INDUSTRIAIS. A Foundation Fielbus Technology Overview.\nDispon\u00edvel em:&lt;www.smar.com/PDFs/catalogues/FBTUTCE.pdf>. Acesso em: 12 dez. 2016.\nSMAR, S. E. I. L. SMAR RP 400 Repetidor WirelessHart. 2010. Disponivel em:&lt;http://www.smar.com/PDFs/catalogues/RP400CP.pdf>. Acesso em: 6 Maio 2014.\nSONG, J. WirelessHART: applying wireless technology in real-time industrial. In: IEEE REALTIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS SYMPOSIUM, 2008, St. Louis. Proceedings... New York: IEEE Press, 2008. p. 377-386.\nSONG, J. et al. Challenges of Wireless Control in Process Industry. Austing, 2006. Dispon\u00edvel em: &lt;https://pdfs.semanticscholar.org/ef6e/94f6915a45694ccedc2bb1de615a9f09a1ba.pdf>. Acesso em: 07 mar. 2017\nSONG, J. et al. WirelessHART: applying wireless technology in real-time industrial process control. In: IEEE REAL-TIME AND EMBEDDED TECHNOLOGY AND APPLICATIONS SYMPOSIUM, 2008, St. Louis. Proceedings. New York: IEEE Press, 2008. p.377-386.\nSOUCEK, S.; T. SAUTER.; Quality of service concerns in IP-based control systems. IEEE Transactions on Industrial Electronics, [S.l], v. 51, n. 6, p. 1249-1258, Dec. 2004.\nTILBURY, J. R.; MOYNE, D. M. The Emergence of Industrial Control Networks for Manufacturing Control, Diagnostics, and Safety Data. IEEE Press, New York, v. 95, n. 1, p. 2947, 2007.\nTIPSUWAN, Y.; CHOW, M.-Y. Control methodologies in networked control systems. Control Engineering Practice, [S.l.], v.11, n.10, p.1099 - 1111, Oct. 2003.\nWALSH, G.; BUSHNELL, L.; Stability analysis of networked control systems. IEEE transactions on control systems technology, [S.l.], v. 10, n. 3, p. 438-446, 1999.\nWILLIG, A.; MATHEUS, K.; WOLISZ, A.; Wireless Technology in Industrial Networks Data. IEEE Press, New York, v. 93, n. 6, p. 1130-1151, 2005.\nWINTER, J. M. Sofware de an\u00e1lise de roteamento de dispositivos WirelessHART. 2010.\n117p. Projeto de diploma\u00e7\u00e3o (Engenharia El\u00e9trica) \u2014 Programa de P\u00f3s-gradua\u00e7\u00e3o em Engenharia El\u00e9trica, Universidade Federal do Rio Grande do Sul, Porto Alegre, 2010\nWINTER, J. M. Analise de coexist\u00eancia em redes wirelesshart. Porto Alegre: Universidade Federal Rio Grande Do Sul, 2013.\nXIN, K. et al. Optimal controller location in wireless networked control systems. International Journal of Robust and Nonlinear Control, [S.l.], v. 25, n. 2, p. 301-319, 2015.\nYEPEZ, J.; MARTI, P.; FUENTES, J. M. Control loop performance analysis over networked control systems. In: IECON 02 Industrial Electronics Society, 2002. Sevilla. Proceedings... New York: IEEE Press, 2002. p. 2880-2885.\nZHANG, H. et al. Rapid convergecast on commodity hardware: Performance limits and optimal policies. In: SENSOR MESH AND AD HOC COMMUNICATIONS AND NETWORKS (SECON), 17, 2010, Kista, Su\u00e9cia. Proceedings... New York: IEEE Press, 2010. p. 1-9.\nZHANG, H.; SOLDATI, P.; JOHANSSON, M. Optimal link scheduling and hannel assignment for convergecast in linear WirelessHART networks. In: MODELING AND OPTIMIZATION IN MOBILE, AD HOC, AND WIRELESS NETWORKS, 2009, Stockholm, Su\u00e9cia. Proceedings... New York: IEEE Press, 2009. p. 1-8.\nZHANG, L.; GAO, H.; KAYNAK, O.; Network-Induced Constraints in Networked control systems. IEEE Transactions on Industrial Informatics, [S.l], v. 9, n. 1, p. 403-416, Fev. 2013.\nZHANG, W.; BRANICKY, M. S. Stability of networked control systems with time-varying transmission period. Communication. In: ANNUAL ALLERTON CONFERENCE ON COMMUNICATION CONTROL AND COMPUTING, 2001, [S.l]. Proceedings... [S.l:s.n], 2001. p.1205-1214.\nZHANG, W.; BRANICKY, M. S.; PHILLIPS, S. M. Stability of networked control systems. IEEE Control Systems, [S.l.], v. 21, n.1, p.84-99, Feb. 2001.\nZHANG, W.; S., B. M.; PHILLIPS, S. M. Stability of networked control systems. IEEE Control Systems Magazine, [S.l], v. 21, n.1, p. 84-99, Feb. 2001.\nZHEN, L.; CHOW, M.-Y.; Adaptive Multiple Sampling Rate Scheduling of Real-time Networked Supervisory Control System - Part I. In: ANNUAL CONFERENCE ON IEEE INDUSTRIAL ELECTRONICS SOCIETY (IECON), 32, 2006a, Paris, France. Proceedings. New York: IEEE Press, 2006a. p. 4604-4609.\nZHEN, L.; CHOW, M.-Y.; Adaptive Multiple Sampling Rate Scheduling of Real-time Networked Supervisory Control System - Part I. In: ANNUAL CONFERENCE ON IEEE INDUSTRIAL ELECTRONICS SOCIETY (IECON), 32, 2006b, Paris, France. Proceedings. New York: IEEE Press, 2006b. p. 4615-4620."}]}}}