{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.10999"}, {"@name": "filename", "#text": "16208_Antonio_2016.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "Diogo Andr\u00e9 Forte Gr\u00e1cio Ant\u00f3nio\n\nLicenciado em Ci\u00eancias da Engenharia Electrot\u00e9cnica e de Computadores\n\nTransreceptor Ac\u00fastico de Comunica\u00e7\u00e3o Digital\nSem Fios para N\u00f3 Sensor Subaqu\u00e1tico\n\nDisserta\u00e7\u00e3o para obten\u00e7\u00e3o do Grau de Mestre em\n\nEngenharia Electrot\u00e9cnica e de Computadores\n\nOrientador: Jo\u00e3o Pedro Abreu de Oliveira, Professor Auxiliar,\nFCT-UNL\n\nJ\u00fari\n\nPresidente: Prof. Doutor Rodolfo Alexandre Duarte Oliveira, FCT-UNL\nArguente: Prof. Doutor Arnaldo Guimar\u00e3es Batista, FCT-UNL\n\nVogal: Prof. Doutor Jo\u00e3o Pedro Abreu de Oliveira, FCT-UNL\n\nMar\u00e7o, 2016\n\n\n\n\n\nTransreceptor Ac\u00fastico de Comunica\u00e7\u00e3o Digital Sem Fios para N\u00f3 Sensor Su-\nbaqu\u00e1tico\n\nCopyright \u00a9 Diogo Andr\u00e9 Forte Gr\u00e1cio Ant\u00f3nio, Faculdade de Ci\u00eancias e Tecnologia, Uni-\n\nversidade NOVA de Lisboa.\n\nA Faculdade de Ci\u00eancias e Tecnologia e a Universidade NOVA de Lisboa t\u00eam o direito,\n\nperp\u00e9tuo e sem limites geogr\u00e1ficos, de arquivar e publicar esta disserta\u00e7\u00e3o atrav\u00e9s de\n\nexemplares impressos reproduzidos em papel ou de forma digital, ou por qualquer outro\n\nmeio conhecido ou que venha a ser inventado, e de a divulgar atrav\u00e9s de reposit\u00f3rios\n\ncient\u00edficos e de admitir a sua c\u00f3pia e distribui\u00e7\u00e3o com objectivos educacionais ou de\n\ninvestiga\u00e7\u00e3o, n\u00e3o comerciais, desde que seja dado cr\u00e9dito ao autor e editor.\n\n\n\n\n\n\"A variabilidade do meio aqu\u00e1tico \u00e9 tal, e a uma velocidade tal,\nque as condi\u00e7\u00f5es mudam a cada segundo. Em termos pr\u00e1ticos a\n\ntransmiss\u00e3o de uma mensagem poder\u00e1 levar v\u00e1rios segundos,\nficando assim sujeita \u00e0 variabilidade do meio de propaga\u00e7\u00e3o.\"\n\nS\u00e9rgio Jesus, coordenador do Laborat\u00f3rio de Processamento de\nSinais (SiPLAB) da Universidade do Algarve e Coordenador do\n\nprojecto europeu Underwater Acoustic Network (UAN).\n\n\n\n\n\nAgradecimentos\n\nDedico estas breves linhas \u00e0s pessoas e \u00e0s entidades que, directa ou indirectamente me\n\napoiaram ao longo dos \u00faltimos anos e me possibilitaram o progresso desta disserta\u00e7\u00e3o e\n\najudaram a concluir o curso com \u00eaxito.\n\nAo Professor Jo\u00e3o Pedro Oliveira pelo seu apoio, paci\u00eancia e palavras de encorajamento\n\nnos momentos mais retrocedidos.\n\n\u00c0 Professora Helena Fino por todo o apoio e amizade ao longo do meu percurso\n\nacad\u00e9mico e pela oportunidade em participar na unidade curricular \"Teoria de Circuitos\n\nEl\u00e9ctricos\" como monitor na companhia de bons profissionais. Tamb\u00e9m n\u00e3o posso ignorar\n\nas restantes pessoas, desde professores a staff da faculdade, que fizeram parte desta minha\njornada.\n\nAos meus colegas e amigos de electrot\u00e9cnica, em especial, Tiago Dias, Jo\u00e3o Santos e\n\nAndr\u00e9 Rosado que caminharam comigo ao longo destes anos. Que possamos continuar a\n\ndisfrutar de bons momentos juntos e acompanhar os sucessos uns dos outros.\n\nAos amigos Jo\u00e3o Morcela, Carlos Mendes, Filipe Gra\u00e7a e Pedro Gra\u00e7a deixo uma es-\n\npecial palavra de apre\u00e7o, pelo conv\u00edvio e apoio durante esta disserta\u00e7\u00e3o, apesar de n\u00e3o\n\nsaberem o que \u00e9 a lei de ohm, desejando-lhes todo o sucesso nos seus percursos pessoais\n\ne profissionais.\n\n\u00c0 Faculdade de Ci\u00eancias e Tecnologias da Universidade Nova de Lisboa, o meu agra-\n\ndecimento.\n\nPor \u00faltimo, mas n\u00e3o menos importante, \u00e0 minha fam\u00edlia, por serem aquela pedra basi-\n\nlar de apoio incondicional durante toda a minha forma\u00e7\u00e3o acad\u00e9mica. Ao meu pai pelas\n\npalavras encorajadoras nas horas certas, \u00e0 minha m\u00e3e por estar sempre presente, ao meu\n\nirm\u00e3o e av\u00f3s. \u00c0 minha namorada, Catarina, obrigado por toda a paci\u00eancia, apoio e amor\n\nque todos os dias enriqueceu a minha vida.\n\nObrigado a todos!\n\nvii\n\n\n\n\n\nResumo\n\nAs comunica\u00e7\u00f5es digitais em ambientes subaqu\u00e1ticos representam, actualmente, uma\n\nnecessidade humana e um desafio \u00e0 engenharia de sistemas.\n\nAs pesquisas acerca de redes subaqu\u00e1ticas de sensores sem fios est\u00e3o a ganhar cada\n\nvez mais aten\u00e7\u00e3o devido \u00e0s aplica\u00e7\u00f5es em diversos cen\u00e1rios, tais como a preserva\u00e7\u00e3o\n\nde ecossistemas, a preven\u00e7\u00e3o de desastres ambientais, a explora\u00e7\u00e3o de petr\u00f3leo, g\u00e1s e\n\nreservat\u00f3rios de \u00e1gua doce e a monitoriza\u00e7\u00e3o de ve\u00edculos subaqu\u00e1ticos aut\u00f3nomos.\n\nA maioria destas aplica\u00e7\u00f5es em meios subaqu\u00e1ticos recorre a sinais ac\u00fasticos, j\u00e1 que\n\nrelativamente a sinais de natureza electromagn\u00e9tica ou \u00f3ptica, os sinais ac\u00fasticos sofrem\n\numa atenua\u00e7\u00e3o reduzida. Como os sistemas ac\u00fasticos possuem uma largura de banda\n\nlimitada, \u00e9 exigido que um sistema de comunica\u00e7\u00e3o ac\u00fastico subaqu\u00e1tico seja, simultane-\n\namente, eficiente na gest\u00e3o dos recursos que possui e eficaz nos mecanismos que imple-\n\nmenta para ultrapassar as limita\u00e7\u00f5es impostas pelo canal subaqu\u00e1tico de comunica\u00e7\u00e3o\n\nac\u00fastica.\n\nEnquadrada neste \u00e2mbito, a presente disserta\u00e7\u00e3o prop\u00f5e uma solu\u00e7\u00e3o completa de\n\num sistema de comunica\u00e7\u00e3o digital de sinais ac\u00fasticos, elemento essencial numa rede de\n\nsensores sem fios subaqu\u00e1tica. Para a implementa\u00e7\u00e3o do modem ac\u00fastico foram utilizados\n\ncomponentes que facilitam a manuten\u00e7\u00e3o e reduzem o custo do n\u00f3. Apresenta um baixo\n\nconsumo energ\u00e9tico (0.8 W na transmiss\u00e3o e 0.65 W na recep\u00e7\u00e3o) com um d\u00e9bito de 300\n\nbps e uma taxa de erro inferior a 10?1.\n\nPalavras-chave: Modem ac\u00fastico subaqu\u00e1tico, redes de sensores sem fios, canal de comu-\n\nnica\u00e7\u00e3o ac\u00fastico, comunica\u00e7\u00e3o digital, baixo custo, baixo consumo energ\u00e9tico\n\nix\n\n\n\n\n\nAbstract\n\nUnderwater Digital Communication (UDC) is an essential feature needed to deploy\n\nundersea sensor networks.\n\nResearch on underwater networks for wireless sensor nodes is a growing field due its\n\napplication in several scenarios, namely in the study of the preservation of ecosystems,\n\nprevention of natural disasters, oil and gas exploration, water reservoirs and monitoring\n\nautonomous underwater vehicles.\n\nThe majority of these underwater sensors makes use of acoustic waves for data com-\n\nmunication, given their reduced attenuation when compared to electromagnetic and\n\noptical signals. Because of the limited bandwidth of these acoustic signals, an underwa-\n\nter acoustic communication system needs to be, simultaneously, efficient on its resources\nmanagement and on the mechanisms that it implements to overcome the limitations\n\ngiven by the acoustic communication channel.\n\nRegarding this issue, this present thesis proposes a complete solution to a digital com-\n\nmunication system of acoustic signals, an essential element in an underwater wireless\n\nsensor network. To implement the acoustic modem, some components were used that\n\nfacilitate its maintenance and reduce the cost. It has a low power consumption (0.8 W at\n\ntransmission and 0.65 W at reception) with a data rate of 300 bps and a bit error rate of\n\nless than 10?1.\n\nKeywords: Underwater acoustic modem, wireless sensor network, acoustic communica-\n\ntion channel, digital communication, low-cost, low-energy\n\nxi\n\n\n\n\n\n\u00cdndice\n\nLista de Figuras xv\n\nLista de Tabelas xix\n\nSiglas xxi\n\n1 Introdu\u00e7\u00e3o 1\n\n1.1 Motiva\u00e7\u00e3o . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 1\n\n1.2 Objectivo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 2\n\n1.3 Estrutura da Disserta\u00e7\u00e3o . . . . . . . . . . . . . . . . . . . . . . . . . . . . 3\n\n2 Comunica\u00e7\u00f5es Digitais em Ambiente Subaqu\u00e1tico 5\n\n2.1 Rede de Sensores em Ambiente Subaqu\u00e1tico . . . . . . . . . . . . . . . . . 5\n\n2.2 Comunica\u00e7\u00f5es Subaqu\u00e1ticas Suportadas em Ondas Electromagn\u00e9ticas . . 7\n\n2.2.1 Ondas de R\u00e1dio Frequ\u00eancia . . . . . . . . . . . . . . . . . . . . . . 7\n\n2.2.2 Ondas \u00d3pticas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 10\n\n2.3 Comunica\u00e7\u00f5es Subaqu\u00e1ticas Suportadas em Ondas Ac\u00fasticas . . . . . . . 11\n\n2.3.1 Caracteriza\u00e7\u00e3o do Meio de Suporte ao Canal Ac\u00fastico . . . . . . . 11\n\n2.3.2 Propaga\u00e7\u00e3o Ac\u00fastica . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n\n2.3.3 Sistemas Ac\u00fasticos Subaqu\u00e1ticos Existentes . . . . . . . . . . . . . 20\n\n2.4 Conclus\u00f5es . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 26\n\n3 Transreceptor Ac\u00fastico para Comunica\u00e7\u00f5es Digitais Subaqu\u00e1ticas 27\n\n3.1 Arquitectura do Sistema e Or\u00e7amento da Liga\u00e7\u00e3o . . . . . . . . . . . . . . 27\n\n3.2 Transdutores Electroac\u00fasticos . . . . . . . . . . . . . . . . . . . . . . . . . 29\n\n3.3 Design e Simula\u00e7\u00f5es do Sistema . . . . . . . . . . . . . . . . . . . . . . . . 32\n\n3.3.1 Circuito Transmissor . . . . . . . . . . . . . . . . . . . . . . . . . . 32\n\n3.3.2 Circuito Receptor . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n\n4 Implementa\u00e7\u00e3o e Teste do Transreceptor Ac\u00fastico Proposto 55\n\n4.1 Valida\u00e7\u00e3o Pr\u00e9-Prot\u00f3tipo . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\n\n4.2 Implementa\u00e7\u00e3o do Prot\u00f3tipo em PCB . . . . . . . . . . . . . . . . . . . . . 59\n\n4.3 Teste do Prot\u00f3tipo na \u00c1gua . . . . . . . . . . . . . . . . . . . . . . . . . . . 67\n\n4.3.1 Configura\u00e7\u00e3o do Teste . . . . . . . . . . . . . . . . . . . . . . . . . 67\n\nxiii\n\n\n\n\u00cdNDICE\n\n4.3.2 An\u00e1lise de Resultados . . . . . . . . . . . . . . . . . . . . . . . . . 68\n\n5 Conclus\u00f5es e Trabalho Futuro 73\n\n5.1 Limita\u00e7\u00f5es . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\n\n5.2 Trabalho Futuro . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 74\n\nBibliografia 77\n\nA Or\u00e7amento 83\n\nB Esquem\u00e1tico do circuito v.Beta 85\n\nC Programa\u00e7\u00e3o do Microcontrolador 87\n\nC.1 C\u00f3digo do Bloco Transmissor . . . . . . . . . . . . . . . . . . . . . . . . . . 87\n\nC.2 C\u00f3digo do Bloco Receptor . . . . . . . . . . . . . . . . . . . . . . . . . . . 90\n\nxiv\n\n\n\nLista de Figuras\n\n2.1 Rede de sensores de comunica\u00e7\u00e3o em ambiente subaqu\u00e1tico . . . . . . . . . . 5\n\n2.2 Diagrama de blocos de um sistema de comunica\u00e7\u00e3o ac\u00fastica unidireccional . 6\n\n2.3 Diagrama de blocos de um sistema de comunica\u00e7\u00e3o ac\u00fastica bidireccional . . 6\n\n2.4 Atenua\u00e7\u00e3o subaqu\u00e1tica em fun\u00e7\u00e3o da frequ\u00eancia das ondas RF . . . . . . . . 7\n\n2.5 Comprimento de onda em ambiente subaqu\u00e1tico e terrestre em fun\u00e7\u00e3o da\n\nfrequ\u00eancia das ondas RF . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 8\n\n2.6 Perdas por refrac\u00e7\u00e3o entre o ar e a \u00e1gua em fun\u00e7\u00e3o da frequ\u00eancia das ondas RF 9\n\n2.7 Coeficiente de absor\u00e7\u00e3o de ondas \u00f3pticas em \u00e1gua pura [15, 16] . . . . . . . . 10\n\n2.8 Temperatura e velocidade do som na \u00e1gua em fun\u00e7\u00e3o da profundidade . . . 12\n\n2.9 Escala pr\u00e1tica de salinidade da \u00e1gua (baseado em [21]) . . . . . . . . . . . . . 13\n\n2.10 Salinidade em fun\u00e7\u00e3o da temperatura da \u00e1gua [20] . . . . . . . . . . . . . . . 13\n\n2.11 Densidade em fun\u00e7\u00e3o da temperatura da \u00e1gua [20] . . . . . . . . . . . . . . . 14\n\n2.12 Coeficiente de absor\u00e7\u00e3o ac\u00fastica em \u00e1gua salgada (S=35 ppt) em fun\u00e7\u00e3o da\n\nfrequ\u00eancia da onda . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n\n2.13 Coeficiente de absor\u00e7\u00e3o ac\u00fastica em \u00e1gua doce (S=0.5 ppt) em fun\u00e7\u00e3o da\n\nfrequ\u00eancia da onda . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n\n2.14 Perdas ac\u00fasticas por espalhamento em fun\u00e7\u00e3o da frequ\u00eancia da onda na \u00e1gua 18\n\n3.1 Blocos principais do modem ac\u00fastico subaqu\u00e1tico . . . . . . . . . . . . . . . . 27\n\n3.2 Modelo de propaga\u00e7\u00e3o ac\u00fastica subaqu\u00e1tica . . . . . . . . . . . . . . . . . . . 28\n\n3.3 Circuito equivalente de um altifalante piezoel\u00e9ctrico . . . . . . . . . . . . . . 30\n\n3.4 Imped\u00e2ncia de um altifalante piezoel\u00e9ctrico em fun\u00e7\u00e3o da frequ\u00eancia . . . . 30\n\n3.5 Diagramas polares de direccionalidade da resposta dos transdutores . . . . . 31\n\n3.6 Diagrama de blocos do circuito de transmiss\u00e3o . . . . . . . . . . . . . . . . . 32\n\n3.7 Diagrama de blocos de um DDS . . . . . . . . . . . . . . . . . . . . . . . . . . 33\n\n3.8 Mapa simplificado dos pinos utilizados existentes no m\u00f3dulo DDS AD9850 . 34\n\n3.9 M\u00f3dulo DDS AD9850 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 34\n\n3.10 Diagrama de modula\u00e7\u00e3o ASK . . . . . . . . . . . . . . . . . . . . . . . . . . . 36\n\n3.11 Circuito para implementa\u00e7\u00e3o de modula\u00e7\u00e3o ASK . . . . . . . . . . . . . . . . 36\n\n3.12 Circuito em LTspice do amplificador de pot\u00eancia LM386 . . . . . . . . . . . . 37\n\n3.13 Simula\u00e7\u00e3o em LTspice do ganho do amplificador de pot\u00eancia LM386 . . . . . 38\n\n3.14 Simula\u00e7\u00e3o em LTspice da largura de banda do amplificador de pot\u00eancia LM386 38\n\nxv\n\n\n\nLista de Figuras\n\n3.15 Simula\u00e7\u00e3o em LTspice da pot\u00eancia entregue a uma carga de 8 ? por parte do\n\namplificador de pot\u00eancia LM386 considerando 1% de THD . . . . . . . . . . 39\n\n3.16 Simula\u00e7\u00e3o em LTspice do rendimento do amplificador de pot\u00eancia LM386 . . 39\n\n3.17 Simula\u00e7\u00e3o em LTspice da cadeia transmissora . . . . . . . . . . . . . . . . . . 40\n\n3.18 Simula\u00e7\u00e3o em LTspice da cadeia transmissora . . . . . . . . . . . . . . . . . . 40\n\n3.19 Diagrama de blocos do circuito de recep\u00e7\u00e3o . . . . . . . . . . . . . . . . . . . 41\n\n3.20 Circuito em LTspice do LNA LTC6910-1 . . . . . . . . . . . . . . . . . . . . . 42\n\n3.21 Simula\u00e7\u00e3o em LTspice da resposta em frequ\u00eancia do LNA LTC6910-1 . . . . 43\n\n3.22 Simula\u00e7\u00e3o em LTspice da distor\u00e7\u00e3o do LNA LTC6910-1 . . . . . . . . . . . . 43\n\n3.23 Simula\u00e7\u00e3o em LTspice do ganho do LNA LTC6910-1 . . . . . . . . . . . . . . 44\n\n3.24 Resposta de um filtro passa-banda gen\u00e9rico ao degrau unit\u00e1rio . . . . . . . . 46\n\n3.25 Resposta em frequ\u00eancia de um filtro passa-banda gen\u00e9rico . . . . . . . . . . . 46\n\n3.26 Topologia do filtro Sallen-Key . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\n\n3.27 Circuito de configura\u00e7\u00e3o Sallen-Key . . . . . . . . . . . . . . . . . . . . . . . 47\n\n3.28 Simula\u00e7\u00e3o em LTspice da resposta em frequ\u00eancia do filtro passa-banda . . . 49\n\n3.29 Circuito rectificador de precis\u00e3o de onda completa . . . . . . . . . . . . . . . 50\n\n3.30 Fun\u00e7\u00e3o de transfer\u00eancia de um comparador Schmitt-trigger . . . . . . . . . . 51\n\n3.31 Circuito comparador Schmit-trigger . . . . . . . . . . . . . . . . . . . . . . . . 51\n\n3.32 Simula\u00e7\u00e3o em LTspice da cadeia receptora . . . . . . . . . . . . . . . . . . . . 53\n\n3.33 Simula\u00e7\u00e3o em LTspice de sinais da cadeia receptora . . . . . . . . . . . . . . . 54\n\n3.34 Simula\u00e7\u00e3o em LTspice do sinal recebido pelo transdutor e do sinal desmodu-\n\nlado pela cadeia receptora . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 54\n\n4.1 Diagrama do teste no ar em laborat\u00f3rio . . . . . . . . . . . . . . . . . . . . . . 55\n\n4.2 Circuito transmissor montado em breadboard para testes no ar . . . . . . . . . 56\n\n4.3 Circuito receptor montado em breadboard para testes no ar . . . . . . . . . . 56\n\n4.4 Circuito de todo o sistema montado em breadboard para testes no ar . . . . . 57\n\n4.5 Desmodula\u00e7\u00e3o do sinal transmitido atrav\u00e9s do ar . . . . . . . . . . . . . . . . 57\n\n4.6 Interface para o utilizador enviar e receber mensagens . . . . . . . . . . . . . 58\n\n4.7 Aplica\u00e7\u00e3o m\u00f3vel para enviar e receber mensagens por via r\u00e1dio . . . . . . . . 58\n\n4.8 Dispositivo Bluetooth 4.0 Low Energy . . . . . . . . . . . . . . . . . . . . . . . 58\n\n4.9 Implementa\u00e7\u00e3o do circuito em PCB v.Beta . . . . . . . . . . . . . . . . . . . . 59\n\n4.10 Circuito assemblado v.Beta . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 59\n\n4.11 Encapsulamento TO-220 do circuito integrado LM7805CT . . . . . . . . . . 60\n\n4.12 Dimensionamento do circuito regulador de tens\u00e3o . . . . . . . . . . . . . . . 60\n\n4.13 Simula\u00e7\u00e3o em LTspice do circuito regulador de tens\u00e3o . . . . . . . . . . . . . 61\n\n4.14 Mapa de pinos do microcontrolador ATmega328P-PU . . . . . . . . . . . . . 62\n\n4.15 Hidrofone H1c utilizado no teste experimental subaqu\u00e1tico . . . . . . . . . . 63\n\n4.16 Altifalante piezoel\u00e9ctrico SPS-8770-03 . . . . . . . . . . . . . . . . . . . . . . 63\n\n4.17 Altifalante piezoelel\u00e9ctrico SPS-8770-03 \u00e0 prova de \u00e1gua utilizado no teste\n\nexperimental subaqu\u00e1tico . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 63\n\nxvi\n\n\n\nLista de Figuras\n\n4.18 Resposta em frequ\u00eancia do hidrofone H1c . . . . . . . . . . . . . . . . . . . . 64\n\n4.19 Amplificador piezoel\u00e9ctrico LM4960SQ-02 [70] . . . . . . . . . . . . . . . . . 64\n\n4.20 Diagrama de obten\u00e7\u00e3o da pot\u00eancia m\u00e9dia consumida pelo altifalante piezoe-\n\nl\u00e9trico . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 65\n\n4.21 Pot\u00eancia consumida pelo amplificador LM4960SQ-02 e altifante SPS-8770-03 66\n\n4.22 Pot\u00eancia m\u00e9dia entregue ao altifante SPS-8770-03 pelo amplificador LM4960SQ-\n\n02 . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 66\n\n4.23 Reservat\u00f3rio de \u00e1gua utilizado no teste subaqu\u00e1tico . . . . . . . . . . . . . . . 67\n\n4.24 Diagrama do fluxo do algoritmo de detec\u00e7\u00e3o de erros implementado . . . . . 69\n\n4.25 Tens\u00e3o rms recebida no receptor em fun\u00e7\u00e3o da pot\u00eancia de transmiss\u00e3o . . . 69\n4.26 Taxa de erro de bits em fun\u00e7\u00e3o da pot\u00eancia de transmiss\u00e3o . . . . . . . . . . . 70\n\nB.1 Esquem\u00e1tico do circuito desenvolvido em Eagle v.Beta . . . . . . . . . . . . . 85\nB.2 Camada superior da placa desenvolvida em Eagle v.Beta . . . . . . . . . . . . 86\nB.3 Camada inferior da placa desenvolvida em Eagle v.Beta . . . . . . . . . . . . 86\n\nxvii\n\n\n\n\n\nLista de Tabelas\n\n2.1 Alcance, taxa de transmiss\u00e3o e aplica\u00e7\u00f5es da generalidade dos modems RF em\nambientes subaqu\u00e1ticos . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 9\n\n2.2 Compara\u00e7\u00e3o entre modems ac\u00fasticos subaqu\u00e1ticos comerciais . . . . . . . . . 22\n2.3 Compara\u00e7\u00e3o entre modems ac\u00fasticos subaqu\u00e1ticos propostos em trabalho de\n\ninvestiga\u00e7\u00e3o . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 25\n\n2.4 Caracteriza\u00e7\u00e3o de comunica\u00e7\u00f5es sem fios em ambientes subaqu\u00e1ticos . . . . 26\n\n4.1 Caracter\u00edsticas gerais do microcontrolador ATMEGA328-PU . . . . . . . . . 62\n\n4.2 Especifica\u00e7\u00f5es do transdutor receptor H1c [68] . . . . . . . . . . . . . . . . . 64\n\n4.3 Especifica\u00e7\u00f5es do transdutor emissor SPS-8770-03 [69] . . . . . . . . . . . . 64\n\n4.4 Especifica\u00e7\u00f5es gerais do amplificador piezoel\u00e9ctrico LM4960SQ-02 [70] . . . 64\n\n4.5 Pot\u00eancia consumida pelo n\u00f3 subaqu\u00e1tico em diferentes estados de opera\u00e7\u00e3o . 70\n\n4.6 Estima\u00e7\u00e3o da capacidade da bateria do n\u00f3 necess\u00e1ria para uma dura\u00e7\u00e3o de\n\nvida de 1 m\u00eas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 71\n\nA.1 Lista de materiais, quantidade e pre\u00e7o respectivo . . . . . . . . . . . . . . . . 84\n\nxix\n\n\n\n\n\nSiglas\n\nASK Amplitude-Shift Keying.\n\nAUVs Autonomous Underwater Vehicles.\n\nBER Bit Error Rate.\n\nBLE Bluetooth Low Energy.\n\nBPSK Binary Phase-Shift Keying.\n\nCPU Central Processing Unit.\n\nDDS Direct Digital Synthesizer.\n\nDSSS Direct Sequence Spread Spectrum.\n\nELF Extremely Low Frequency.\n\nFSK Frequency-Shift Keying.\n\nI2C Inter-Integrated Circuit.\n\nIDE Integrated Development Environment.\n\nLNA Low Noise Amplifier.\n\nMCU Microcontroller.\n\nMFSK Multi Frequency Shift Keying.\n\nMIMO Multiple-Input and Multiple-Output.\n\nNL Noise Level.\n\nOFDM Orthogonal Frequency-Division Multiplexing.\n\nOOK On-Off Keying.\n\nxxi\n\n\n\nSIGLAS\n\nPCB Printed Circuit Board.\n\nPLL Phase-Lock-Loop.\n\nppt parts per thousand.\n\nPROM Programmable Read-Only Memory.\n\nPSK Phase-Shift Keying.\n\nPSU Pratical Salinity Unit.\n\nPWM Pulse-Width Modulation.\n\nQAM Quadrature Amplitude Modulation.\n\nQPSK Quadrature Phase-Shift Keying.\n\nRAM Random Access Memory.\n\nRF Radio Frequency.\n\nROVs Remotely Operated Vehicles.\n\nSIL Sound Intensity Level.\n\nSL Source Level.\n\nSMD Surface-Mount Device.\n\nSNR Signal-Noise Ratio.\n\nTHD Total Harmonic Distortion.\n\nTL Transmission Losses.\n\nUSB Universal Serial Bus.\n\nUWSNs Underwater Wireless Sensor Networks.\n\nxxii\n\n\n\nC\na\np\n\u00ed\nt\nu\nl\no\n\n1\nIntrodu\u00e7\u00e3o\n\n1.1 Motiva\u00e7\u00e3o\n\nAs redes de sensores sem fios em meios subaqu\u00e1ticos (do ingl\u00eas Underwater Wireless\nSensor Networks, frequentemente abreviado para UWSNs) suportam in\u00fameras aplica\u00e7\u00f5es\nem diversas \u00e1reas tais como, a oceanografia, biologia mar\u00edtima, estudos da interac\u00e7\u00e3o\n\nentre oceanos e a atmosfera, estudos do clima, aquecimento global, arqueologia no fundo\n\ndo mar, predi\u00e7\u00f5es s\u00edsmicas, detec\u00e7\u00e3o de poluentes e subst\u00e2ncias contaminantes, controlo\n\nda \u00e1gua e explora\u00e7\u00e3o de g\u00e1s, \u00f3leo e petr\u00f3leo.\n\nA exist\u00eancia de pequenas e densas redes de sensores sem fios na terra foi poss\u00edvel\n\ngra\u00e7as ao aparecimento de plataformas de r\u00e1dio de baixo custo, como a Pico-Radio e a\n\nMica2 [1, 2]. No entanto, debaixo de \u00e1gua, a comunica\u00e7\u00e3o sem fios torna-se mais exigente.\n\nGrande parte da pesquisa sobre os oceanos \u00e9 suportada atrav\u00e9s da coloca\u00e7\u00e3o de sen-\n\nsores, a partir dos quais s\u00e3o medidos os factores ambientais que melhor descrevem a\n\ncomplexidade dos ecossistemas. Informa\u00e7\u00e3o sobre a temperatura da \u00e1gua, a salinidade\n\ne vari\u00e1veis bio-\u00f3pticas constituem alguns exemplos. Por sua vez, medi\u00e7\u00f5es mais comple-\n\nxas acarretam outros factores como a concentra\u00e7\u00e3o de nutrientes, a presen\u00e7a/aus\u00eancia\n\nde estrog\u00e9nios ambientais, de bact\u00e9rias patog\u00e9nicas e fluxos de nutrientes na \u00e1gua. Para\n\nal\u00e9m das aplica\u00e7\u00f5es descritas anteriormente, as redes de sensores sem fios subaqu\u00e1ticas\n\nt\u00eam sido aproveitadas para detectar danos estruturais em pontes e outras estruturas civis,\n\nassim como, para monitorizar equipamentos industriais em unidades de fabrico de modo\n\na prever falhas mec\u00e2nicas [3, 4].\n\nExistem diversas situa\u00e7\u00f5es onde \u00e9 prof\u00edcuo optar pela transmiss\u00e3o de dados por meio\n\naqu\u00e1tico, evitando a utiliza\u00e7\u00e3o de cabos el\u00e9ctricos que podem traduzir-se em custos ex-\n\ntremamente elevados ou serem tecnicamente invi\u00e1veis. Actualmente, recorrendo a ondas\n\n1\n\n\n\nCAP\u00cdTULO 1. INTRODU\u00c7\u00c3O\n\nac\u00fasticas, \u00e9 poss\u00edvel utilizar condutas de \u00e1gua como meio de transporte, onde no seu inte-\n\nrior existem sistemas de aquisi\u00e7\u00e3o de dados, n\u00f3s sensores, separados a uma determinada\n\ndist\u00e2ncia para captar diferentes tipos de informa\u00e7\u00e3o e transmiti-las para um sistema de\n\nprocessamento de dados.\n\nAs comunica\u00e7\u00f5es sem fios subaqu\u00e1ticas podem dividir-se em dois grandes grupos:\n\nondas electromagn\u00e9ticas (\u00f3pticas e r\u00e1dio frequ\u00eancia) e ondas ac\u00fasticas. As ondas \u00f3pticas\n\ns\u00f3 possuem um bom desempenho em \u00e1guas muito l\u00edmpidas e requerem um alinhamento\n\nentre os n\u00f3s. As comunica\u00e7\u00f5es de r\u00e1dio s\u00e3o pouco fi\u00e1veis debaixo de \u00e1gua, com pouca\n\nestabilidade e um raio de comunica\u00e7\u00e3o muito curto. Posto isto, as comunica\u00e7\u00f5es ac\u00fasticas\n\nsubaqu\u00e1ticas t\u00eam sido alvo de not\u00e1veis desenvolvimentos, pois propagam-se facilmente\n\nna \u00e1gua. No entanto, tamb\u00e9m revelam algumas limita\u00e7\u00f5es, tais como:\n\n\u2022 Limitada largura de banda dispon\u00edvel;\n\n\u2022 Canal subaqu\u00e1tico prejudicado pelo multi-percurso;\n\n\u2022 Atraso da propaga\u00e7\u00e3o do sinal ac\u00fastico em canal subaqu\u00e1tico cinco vezes maior do\n\nque o atraso da propaga\u00e7\u00e3o do sinal electromagn\u00e9tico em canal terrestre;\n\n\u2022 Taxa de erro de bits elevada;\n\n\u2022 Perdas tempor\u00e1rias de conectividade (zonas de sombra).\n\n\u2022 Custo elevado.\n\n\u2022 Baterias limitadas quando n\u00e3o podem ser recarregadas com recurso a pain\u00e9is sola-\n\nres.\n\n\u2022 Desgaste devido \u00e0 corros\u00e3o o que pode levar a falhas.\n\n1.2 Objectivo\n\nO principal objectivo da presente disserta\u00e7\u00e3o \u00e9 o design, implementa\u00e7\u00e3o e concep\u00e7\u00e3o\n\nde um modem ac\u00fastico de baixa pot\u00eancia e de baixo custo capaz de enviar e receber\n\nmensagens, pass\u00edvel de ser utilizado em diversas aplica\u00e7\u00f5es em ambiente subaqu\u00e1tico.\n\nPara atingir este objectivo, foram identificadas diversas etapas que incluem:\n\n1. gera\u00e7\u00e3o da onda portadora e modula\u00e7\u00e3o do sinal digital;\n\n2. amplifica\u00e7\u00e3o e drive do sinal;\n\n3. envio e recep\u00e7\u00e3o da onda ac\u00fastica atrav\u00e9s da utiliza\u00e7\u00e3o de transdutores ac\u00fasticos.\n\n4. amplifica\u00e7\u00e3o e filtragem do sinal recepcionado e respectiva desmodula\u00e7\u00e3o.\n\n2\n\n\n\n1.3. ESTRUTURA DA DISSERTA\u00c7\u00c3O\n\nOs requisitos base do projecto s\u00e3o:\n\n\u2022 Baixa transmiss\u00e3o de dados.\n\n\u2022 Alcance de transmiss\u00e3o moderado.\n\n\u2022 Baixa profundidade.\n\n\u2022 Alta efici\u00eancia energ\u00e9tica.\n\n1.3 Estrutura da Disserta\u00e7\u00e3o\n\nO presente documento \u00e9 dividido em cinco cap\u00edtulos ao longo dos quais s\u00e3o abordados\n\nos seguintes t\u00f3picos:\n\nCap\u00edtulo 2 - Comunica\u00e7\u00f5es Digitais em Ambiente Subaqu\u00e1tico Breve introdu\u00e7\u00e3o \u00e0s\n\nredes de sensores em ambiente subaqu\u00e1tico enquadrando-se as tecnologias de comunica-\n\n\u00e7\u00e3o sem fios que podem ser utilizadas neste meio, nomeadamente, atrav\u00e9s de mecanismos\n\nde propaga\u00e7\u00e3o eletromagn\u00e9tica ou de propaga\u00e7\u00e3o ac\u00fastica. Os existentes sistemas em\n\nopera\u00e7\u00e3o s\u00e3o revistos.\n\nCap\u00edtulo 3 - Transreceptor Ac\u00fastico para Comunica\u00e7\u00f5es Digitais Subaqu\u00e1ticas Des-\n\ncri\u00e7\u00e3o das caracter\u00edsticas e dos tipos de transdu\u00e7\u00e3o existentes em transdutores electroa-\n\nc\u00fasticos de forma a determinar o que melhor se aplica ao meio. Modelo de propaga\u00e7\u00e3o\n\ndo sinal ac\u00fastico subaqu\u00e1tico entre dois pontos, emissor e receptor, e dimensionamento\n\nproposto, com respectivas simula\u00e7\u00f5es, para uma poss\u00edvel solu\u00e7\u00e3o de alto n\u00edvel para um\n\ntransreceptor a aplicar em ambiente aqu\u00e1tico.\n\nCap\u00edtulo 4 - Implementa\u00e7\u00e3o e Teste do Transreceptor Ac\u00fastico Proposto Valida\u00e7\u00e3o\n\nexperimental de um pr\u00e9-prot\u00f3tipo e posterior concep\u00e7\u00e3o do prot\u00f3tipo do sistema pro-\n\nposto. Discuss\u00e3o sobre os resultados obtidos dentro de \u00e1gua, nomeadamente, atrav\u00e9s da\n\nan\u00e1lise dos d\u00e9bitos efectivamente obtidos.\n\nCap\u00edtulo 5 - Conclus\u00f5es e Trabalho Futuro Conclus\u00e3o sobre o projecto realizado, iden-\n\ntificando as suas limita\u00e7\u00f5es que ser\u00e3o endere\u00e7adas nas propostas de trabalho futuro.\n\n3\n\n\n\n\n\nC\na\np\n\u00ed\nt\nu\nl\no\n\n2\nComunica\u00e7\u00f5es Digitais em Ambiente\n\nSubaqu\u00e1tico\n\n2.1 Rede de Sensores em Ambiente Subaqu\u00e1tico\n\nA procura por sistemas capazes de comunicar atrav\u00e9s de diferentes meios est\u00e1 a aumentar\n\ndevido \u00e0 expans\u00e3o das actividades humanas [5]. De forma a alcan\u00e7ar este prop\u00f3sito, os\n\nactuais sistemas de comunica\u00e7\u00f5es subaqu\u00e1ticas sem fios assentam na transmiss\u00e3o e recep-\n\n\u00e7\u00e3o digital, com portadoras no dom\u00ednio electromagn\u00e9tico e/ou ac\u00fastico.\n\nEsta\u00e7\u00e3o \u00e0 \n\nsuperficie\n\nSat\u00e9lite\n\nEsta\u00e7\u00e3o \n\nem terra Boia sensorBoia sensor\n\nAncora\n\nTransdut or\n\nN\u00f3 sensor/\n\nGateway\nN\u00f3 sensor/\n\nGateway\nN\u00f3 sensor/\n\nGateway\n\nFigura 2.1: Rede de sensores de comunica\u00e7\u00e3o em ambiente subaqu\u00e1tico\n\n5\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nNuma rede de sensores em ambiente subaqu\u00e1tico (ver figura 2.1), um conjunto de n\u00f3s,\n\nancorados ao fundo do mar, podem estabelecer comunica\u00e7\u00f5es a um ou mais gateways por\nmeio de ondas ac\u00fasticas. Por sua vez, estes gateways subaqu\u00e1ticos podem ser equipados\ncom dois transreceptores ac\u00fasticos. Um transreceptor de curta dist\u00e2ncia, \u00e9 respons\u00e1vel\n\npela interliga\u00e7\u00e3o entre n\u00f3s sensores vizinhos permitindo o envio de comandos e configura-\n\n\u00e7\u00f5es e/ou recolher dados monitorizados [6]. Um transreceptor de longo alcance, permite\n\no envio de dados para uma esta\u00e7\u00e3o \u00e0 superf\u00edcie que se encarrega em gerir m\u00faltiplas co-\n\nmunica\u00e7\u00f5es em paralelo e reencaminhar o tr\u00e1fego atrav\u00e9s de um transmissor de r\u00e1dio de\n\nlongo alcance para outras esta\u00e7\u00f5es r\u00e1dio terrestres e/ou sat\u00e9lites.\n\nAs comunica\u00e7\u00f5es ac\u00fasticas subaqu\u00e1ticas entre dois pontos podem ser divididas em\n\ndois tipos: unidirecionais e bidirecionais [7]. No sistema unidirecional um dos n\u00f3s s\u00f3 \u00e9\n\ncapaz de receber ondas ac\u00fasticas, enquanto no sistema bidirecional ambos os n\u00f3s podem\n\nreceber e enviar. Neste caso, o transdutor receptor n\u00e3o est\u00e1 autorizado a receber qualquer\n\nsinal emitido pelo transdutor emissor do mesmo sistema. Esta condi\u00e7\u00e3o implica que sejam\n\nutilizadas duas frequ\u00eancias diferentes, uma para a transmiss\u00e3o e outra para a recep\u00e7\u00e3o.\n \n\nAr \n\n\u00c1gua \n\nCircuito \n\nReceptorM\nC\n\nU\n\nTransdutor Rx\n\nCircuito \n\nTransmissor\n\nM\nC\n\nU\n\nTransdutor Tx\n\nFigura 2.2: Diagrama de blocos de um sistema de comunica\u00e7\u00e3o ac\u00fastica unidireccional \n\nAr \n\n\u00c1gua \n\nCircuito \n\nTransmissor\n\nCircuito \n\nReceptor\n\nM\nC\n\nU\n\nTransdutor Tx\n\nTransdutor Rx\n\nCircuito \n\nTransmissor\n\nCircuito \n\nReceptor M\nC\n\nU\n\nTransdutor Tx\n\nTransdutor Rx\n\nFigura 2.3: Diagrama de blocos de um sistema de comunica\u00e7\u00e3o ac\u00fastica bidireccional\n\nAs arquitecturas gerais de dispositivos de comunica\u00e7\u00e3o ac\u00fastica unidireccional e bidi-\n\nreccional, respectivamente, s\u00e3o retratadas nas figuras 2.2 e 2.3. Na figura 2.2, o sistema\n\nconsiste apenas num transdutor, ligado a um circuito de recep\u00e7\u00e3o controlado por uma\n\nunidade de processamento (em ingl\u00eas MCU). Na figura 2.3, o sistema consiste em dois\n\ntransdutores, um ligado a um circuito de transmiss\u00e3o e outro a um circuito de recep\u00e7\u00e3o,\n\nambos conectados a uma unidade de processamento. Em ambas as arquitecturas, todo o\n\nsistema \u00e9 mantido numa caixa estanque, \u00e0 excep\u00e7\u00e3o dos transdutores que s\u00e3o mantidos\n\nem contacto com a \u00e1gua.\n\n6\n\n\n\n2.2. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS\n\nELECTROMAGN\u00c9TICAS\n\n2.2 Comunica\u00e7\u00f5es Subaqu\u00e1ticas Suportadas em Ondas\n\nElectromagn\u00e9ticas\n\nUma onda electromagn\u00e9tica \u00e9 uma onda de energia que se propaga no meio em resultado\n\nde perturba\u00e7\u00f5es peri\u00f3dicas do campo electromagn\u00e9tico, nomeadamente, quando existe\n\nmovimentos oscilat\u00f3rios de cargas el\u00e9ctricas.\n\n2.2.1 Ondas de R\u00e1dio Frequ\u00eancia\n\nAs ondas de r\u00e1dio frequ\u00eancia s\u00e3o ondas electromagn\u00e9ticas que se localizam dentro da\n\nfaixa de frequ\u00eancias abaixo dos 300 GHz. As comunica\u00e7\u00f5es de r\u00e1dio frequ\u00eancia subaqu\u00e1-\n\nticas t\u00eam sido investigadas desde o aparecimento das ondas r\u00e1dio e t\u00eam recebido uma\n\naten\u00e7\u00e3o consider\u00e1vel desde a d\u00e9cada de 70 [8]. Por\u00e9m, foram desenvolvidos poucos siste-\n\nmas de r\u00e1dio frequ\u00eancia (do ingl\u00eas Radio Frequency, frequentemente abreviado para RF)\n\nsubaqu\u00e1ticos devido \u00e0 forte atenua\u00e7\u00e3o associada ao meio.\n\nA exist\u00eancia de sais dissolvidos, tornam a \u00e1gua electricamente condutora. Quanto\n\nmaior for a condutividade da \u00e1gua, maior \u00e9 a atenua\u00e7\u00e3o dos sinais de r\u00e1dio que a atraves-\n\nsam. No caso extremo da \u00e1gua do mar, esta tem um teor elevado de sal e, portanto, alta\n\ncondutividade variando de 2 S/m na Regi\u00e3o \u00c1rtica fria para 8 S/m no Mar Vermelho [9].\n\nA condutividade m\u00e9dia da \u00e1gua do mar situa-se em torno dos 4 S/m, enquanto a conduti-\n\nvidade da \u00e1gua doce situa-se, tipicamente, na ordem de alguns mS/m [10]. Nesse contexto,\n\na atenua\u00e7\u00e3o das ondas de r\u00e1dio na \u00e1gua, ?, aumenta com o incremento da condutividade\n\ne da frequ\u00eancia [9] e \u00e9 expressa por\n\n? = 0.0173\n?\nf ? [dB/m] , (2.1)\n\nonde f \u00e9 a frequ\u00eancia em hertz (Hz) e ? a condutividade em S/m.\n\nFrequ\u00eancia (Hz)\n103 104 105 106\n\nA\nte\n\nn\nu\n\na\n\u00e7\u00e3\n\no\n (\n\nd\nB\n\n/m\n)\n\n10-2\n\n10-1\n\n100\n\n101\n\n102\n\n\u00c1gua salgada\n\u00c1gua doce\n\nFigura 2.4: Atenua\u00e7\u00e3o subaqu\u00e1tica em fun\u00e7\u00e3o da frequ\u00eancia das ondas RF\n\n7\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nA figura 2.4 mostra a atenua\u00e7\u00e3o na \u00e1gua do mar (com condutividade 4 S/m) e na \u00e1gua\n\ndoce (com condutividade 0.01 S/m) em fun\u00e7\u00e3o da frequ\u00eancia do sinal. Como a atenua\u00e7\u00e3o\n\nna \u00e1gua do mar \u00e9 muito elevada, para comunicar a uma dist\u00e2ncia razo\u00e1vel \u00e9 necess\u00e1rio\n\nutilizar frequ\u00eancias muito baixas, levando \u00e0 utiliza\u00e7\u00e3o de antenas de grande dimens\u00e3o\n\nobrigando, igualmente, ao aumento da pot\u00eancia de emiss\u00e3o.\n\nO comprimento de onda na \u00e1gua, ?, \u00e9 calculado por [9]\n\n? = 1000\n\n?\n10\nf ?\n\n[m] , (2.2)\n\nonde f \u00e9 a frequ\u00eancia em Hz e ? \u00e9 a condutividade em S/m.\n\nA figura 2.5 mostra o comprimento em fun\u00e7\u00e3o da frequ\u00eancia de onda no ar, na \u00e1gua\n\ndo mar (com condutividade 4 S/m) e na \u00e1gua doce (com condutividade (0.01 S/m). O\n\ncomprimento de onda de um sinal no ar \u00e9 consideravelmente maior quando comparado\n\ncom o ambiente subaqu\u00e1tico.\n\nFrequ\u00eancia (Hz)\n103 104 105 106\n\nC\no\n\nm\np\n\nri\nm\n\ne\nn\n\nto\n d\n\ne\n O\n\nn\nd\n\na\n (\n\nm\n)\n\n100\n\n101\n\n102\n\n103\n\n104\n\n105\n\n106\n\nAr\n\u00c1gua salgada\n\u00c1gua doce\n\nFigura 2.5: Comprimento de onda em ambiente subaqu\u00e1tico e terrestre em fun\u00e7\u00e3o da\nfrequ\u00eancia das ondas RF\n\nUma das formas de contornar estas fortes perdas na transmiss\u00e3o de longa dist\u00e2ncia\n\n\u00e9 encaminhar o sinal para a superf\u00edcie e utilizar a propaga\u00e7\u00e3o no ar, onde a atenua\u00e7\u00e3o \u00e9\n\nmais baixa, fazendo regressar o sinal \u00e0 \u00e1gua junto ao receptor. No entanto, as ondas ao\n\natravessarem meios ambientes diferentes sofrem atenua\u00e7\u00e3o devido a perdas por refrac\u00e7\u00e3o\n\n(RL). No caso da superf\u00edcie da \u00e1gua, RL \u00e9 dado por [9],\n\nRL = ?20 log\n(\n\n7.4586\n106\n\n)?\n10\nf\n?\n\n[dB] , (2.3)\n\nonde f \u00e9 a frequ\u00eancia em Hz e ? a condutividade em S/m.\n\n8\n\n\n\n2.2. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS\n\nELECTROMAGN\u00c9TICAS\n\nFrequ\u00eancia (Hz)\n103 104 105 106\n\nA\nte\n\nn\nu\n\na\n\u00e7\u00e3\n\no\n (\n\nd\nB\n\n)\n\n10-2\n\n10-1\n\n100\n\n101\n\n102\n\n\u00c1gua salgada\n\u00c1gua doce\n\nFigura 2.6: Perdas por refrac\u00e7\u00e3o entre o ar e a \u00e1gua em fun\u00e7\u00e3o da frequ\u00eancia das ondas\nRF\n\nA figura 2.6 ilustra as perdas por refrac\u00e7\u00e3o em fun\u00e7\u00e3o da frequ\u00eancia na \u00e1gua do mar\n\ne na \u00e1gua doce. Conclui-se que com o aumento da frequ\u00eancia, diminuem as perdas por\n\nrefrac\u00e7\u00e3o.\n\nDada a severa atenua\u00e7\u00e3o em sinais RF, apenas alguns sistemas subaqu\u00e1ticos foram\n\nconcebidos em RF. T\u00eam sido usados sinais r\u00e1dio de baixa frequ\u00eancia (do ingl\u00eas Extremely\n\nLow Frequency, frequentemente abreviado ELF) em aplica\u00e7\u00f5es militares. A Alemanha\n\nfoi pioneira nas comunica\u00e7\u00f5es de r\u00e1dio em submarinos durante a Segunda Guerra Mun-\n\ndial, [11]. O modem subaqu\u00e1tico RF SeaText, lan\u00e7ado pela Wireless Fibre Systems [12],\nem 2006, pode comunicar at\u00e9 v\u00e1rias dezenas de metros a uma velocidade de 100 bps. A\n\nWireless Fibre Systems lan\u00e7ou outro modem, SeaTooth, que pode suportar 1 a 100 Mbps\nat\u00e9 1 metro de dist\u00e2ncia [12].\n\nTabela 2.1: Alcance, taxa de transmiss\u00e3o e aplica\u00e7\u00f5es da generalidade dos modems RF em\nambientes subaqu\u00e1ticos\n\nAlcance\nTaxa de transmiss\u00e3o\n\nem \u00e1gua salgada\nTaxa de transmiss\u00e3o\n\nem \u00e1gua doce\nAplica\u00e7\u00f5es\n\n&lt;1 m 100 Mbps 100 Mbps ancorar AUVs1\n\n10 m 100 kbps 1 Mbps\ndownload de informa\u00e7\u00e3o de AUVs\n\ncomunica\u00e7\u00e3o entre mergulhadores\n\n50 m 6 kbps 100 kbps comunica\u00e7\u00e3o entre mergulhadores\n\n200 m 100 bps 1 kbps\ncontrolo de AUVs\n\ncomunica\u00e7\u00e3o entre mergulhadores\n\n2 km 1 bps 10 bps telemetria de \u00e1guas profundas\n\n10 km 1 bps 1 bps telemetria de \u00e1guas profundas\n\n1do ingl\u00eas Autonomous Underwater Vehicles, frequentemente abreviado para AUVs\n\n9\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nA tabela 2.1 [12] mostra as poss\u00edveis taxas e dist\u00e2ncias de transmiss\u00e3o dos modems RF\nsem fios tanto para \u00e1gua salgada como para \u00e1gua doce e as suas principais aplica\u00e7\u00f5es.\n\n2.2.2 Ondas \u00d3pticas\n\nAs ondas eletromagn\u00e9ticas no espectro do vis\u00edvel t\u00eam comprimentos de onda entre os 400\n\nnm (azul claro) e os 700 nm (luz vermelha). Devido ao seu curto comprimento de onda, as\n\nondas \u00f3pticas oferecem a possibilidade de comunica\u00e7\u00f5es digitais de alto d\u00e9bito. Todavia\n\nestas ondas sofrem fortes atenua\u00e7\u00f5es, devido \u00e0 absor\u00e7\u00e3o das ondas na \u00e1gua na banda do\n\n\u00f3ptico e ao forte espalhamento provocado pelas part\u00edculas em suspens\u00e3o existente na\n\n\u00e1gua [13], limitando, assim, a dist\u00e2ncia da liga\u00e7\u00e3o.\n\nA intensidade luminosa, na \u00e1gua, junto ao receptor localizado a d metros do emissor\n\ncom uma intensidade I0, em Candelas (cd), pode ser descrita por\n\nI(?) = I0(?)e\n?k(?)d [cd] , (2.4)\n\nonde k(?) \u00e9 o coeficiente de absor\u00e7\u00e3o [14], em m?1, dado, aproximadamente, por\n\nk(?) = ??(?) + ??(?) [m\n?1] , (2.5)\n\nonde ??(?) representa a absor\u00e7\u00e3o, em m\n?1, e ??(?) a turva\u00e7\u00e3o da \u00e1gua, em m\n\n?1. A disper-\n\ns\u00e3o das mol\u00e9culas da \u00e1gua e a absor\u00e7\u00e3o das part\u00edculas podem ser desprezadas.\n\nComprimento de Onda (nm)\n\nC\no\n\ne\nfi\n\nc\nie\n\nn\nte\n\n d\ne\n\n A\nb\n\ns\no\n\nr\u00e7\n\u00e3\n\no\n (\n\nm\n-1\n\n)\n\n200 300 400 500 600 700\n\n0\n\n1\n\n2\n\n3\n\nFigura 2.7: Coeficiente de absor\u00e7\u00e3o de ondas \u00f3pticas em \u00e1gua pura [15, 16]\n\nA mol\u00e9cula da \u00e1gua, H2O, absorve fortemente a radia\u00e7\u00e3o no espectro do vermelho.\n\nPor sua vez os sais dissolvidos, tais como NaCl, MgCl2, Na2SO4, CaCl2, KCl absorvem\n\nradia\u00e7\u00e3o em comprimentos de onda adicionais [17]. Como pode ser visto na figura 2.7, o\n\n10\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\ncoeficiente de absor\u00e7\u00e3o na \u00e1gua \u00e9 menor para comprimentos de onda em torno de 400-\n\n500 nm, a regi\u00e3o azul-verde do espectro da luz vis\u00edvel. As \u00e1guas oce\u00e2nicas profundas t\u00eam\n\n\u00edndice de turva\u00e7\u00e3o mais baixo permitindo que 10% da luz transmitida abaixo da superf\u00edcie\n\ndo mar possa atingir uma profundidade de 90 metros. Por outro lado, nas \u00e1guas costeiras,\n\na presen\u00e7a de uma elevada turva\u00e7\u00e3o, a mesma quantidade de luz transmitida apenas\n\natinge os 15 metros de profundidade [17].\n\nA turva\u00e7\u00e3o da \u00e1gua desempenha um papel determinante no desempenho dos modems\n\u00f3pticos o que tem limitado o desenvolvimento deste tipo de equipamentos. O modem\n\u00f3ptico descrito em [18] atinge uma dist\u00e2ncia de 2 metros a uma taxa de transmiss\u00e3o de\n\n57 kbps. Em [19], um prot\u00f3tipo de um modem \u00f3ptico para \u00e1guas profundas, atinge 10\nMbps at\u00e9 100 metros. Recentes pesquisas tamb\u00e9m envolveram uma abordagem h\u00edbrida\n\nque combina a tecnologia \u00f3ptica e ac\u00fastica.\n\n2.3 Comunica\u00e7\u00f5es Subaqu\u00e1ticas Suportadas em Ondas\n\nAc\u00fasticas\n\nAs ondas ac\u00fasticas est\u00e3o associadas ao movimento vibrat\u00f3rio das part\u00edculas do meio\n\nl\u00edquido gerado por uma fonte sonora. A energia envolvida \u00e9 transferida para o meio na\n\nforma de energia ac\u00fastica. Dada a maior densidade da \u00e1gua, as ondas ac\u00fasticas viajam 4 a\n\n5 vezes mais rapidamente na \u00e1gua (1500 m/s, aproximadamente) do que no ar. As ondas\n\nac\u00fasticas podem ser afectadas pela absor\u00e7\u00e3o, espalhamento e ru\u00eddo na \u00e1gua. Todavia, o\n\nn\u00edvel de atenua\u00e7\u00e3o resultante permite, ainda assim, atingir dist\u00e2ncias significativas.\n\n2.3.1 Caracteriza\u00e7\u00e3o do Meio de Suporte ao Canal Ac\u00fastico\n\nAs propriedades do meio que exercem grande influ\u00eancia na ac\u00fastica subaqu\u00e1tica s\u00e3o a\n\ntemperatura, a salinidade e a densidade, com impacto na velocidade do som.\n\n2.3.1.1 Temperatura e Velocidade do Som\n\nA temperatura \u00e9 a grandeza mais importante no que diz respeito \u00e0 propaga\u00e7\u00e3o do som na\n\n\u00e1gua. Esta influencia, fortemente, a densidade e a sua respectiva estratifica\u00e7\u00e3o, a distribui-\n\n\u00e7\u00e3o de nutrientes e a concentra\u00e7\u00e3o biol\u00f3gica. Ap\u00f3s as primeiras medi\u00e7\u00f5es da temperatura\n\nna \u00e1gua realizadas no s\u00e9culo XVII, foi rapidamente observado que a temperatura da \u00e1gua\n\ndecresce com a profundidade. Verificou-se que a maior parte da energia incidente (por\n\nexemplo de origem solar) na \u00e1gua \u00e9 absorvida nos primeiros metros de profundidade.\n\nDe acordo com a figura 2.8, verifica-se que existe uma r\u00e1pida varia\u00e7\u00e3o de temperatura\n\nentre os 400 e os 1100 metros de profundidade. Esta zona \u00e9 denominada por termoclina e\n\ndepende da sazonalidade e da latitude. A temperatura \u00e9 praticamente constante a partir\n\ndos 1500 metros de profundidade. A principal grandeza considerada na propaga\u00e7\u00e3o\n\nsonora \u00e9 a velocidade do som, e que depende da compressibilidade e da densidade do\n\nmeio. Portanto, varia em virtude da din\u00e2mica do ambiente aqu\u00e1tico e \u00e9 obtida por modelos\n\n11\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nemp\u00edricos que a descrevem em fun\u00e7\u00e3o dos par\u00e2metros, tais como temperatura, salinidade\n\ne press\u00e3o/profundidade.\n\nObserva-se que a velocidade do som aumenta com o incremento de qualquer um dos\n\ntr\u00eas par\u00e2metros referenciados atr\u00e1s, sendo a temperatura, o factor mais determinante.\n\nAbaixo da superf\u00edcie encontra-se a regi\u00e3o I, onde a velocidade \u00e9 influenciada pelas va-\n\nria\u00e7\u00f5es no aquecimento da superf\u00edcie da \u00e1gua e pela ac\u00e7\u00e3o do vento. Na regi\u00e3o II, a\n\nvelocidade do som decresce rapidamente com a profundidade, onde \u00e9 largamente con-\n\ntrolada pela temperatura e salinidade. Por fim, abaixo da termoclina e estendendo-se at\u00e9\n\nao fundo, encontra-se a regi\u00e3o III, caracterizada pelo aumento da velocidade do som de\n\nacordo com o aumento da press\u00e3o.\n\nVelocidade (m/s)Temperatura (\u00ba C)\n\nP\nro\n\nfu\nn\n\nd\nid\n\na\nd\n\ne\n (\n\nm\n)\n\nRegi\u00e3o I\n\nRegi\u00e3o II\n\nRegi\u00e3o III\n\nElevadas latitudes\n\nM\u00e9dias latitudes\n\nVer\u00e3o\n\nInverno\n\nTr\u00f3picos\n\n1500 1520 15400 5 10 15 20\n\n500\n\n1000\n\n1500\n\n2000\n\n2500\n\n3000\n\n3500\n\n4000\n\n4500\n\nFigura 2.8: Temperatura e velocidade do som na \u00e1gua em fun\u00e7\u00e3o da profundidade\n\n2.3.1.2 Salinidade\n\nA salinidade \u00e9 o termo usado para expressar a quantidade de sais dissolvidos na \u00e1gua.\n\nAfecta a compressibilidade e, consequentemente, a velocidade de propaga\u00e7\u00e3o do som,\n\no \u00edndice de refrac\u00e7\u00e3o, o ponto de congelamento e a temperatura de m\u00e1xima densidade.\n\n\u00c9 expressa, adimensionalmente, por uma escala relativa, obtida a partir da compara\u00e7\u00e3o\n\nda grandeza com uma amostra padr\u00e3o, conhecida como escala pr\u00e1tica de salinidade (do\n\ningl\u00eas Pratical Salinity Unit, frequentemente abreviado por PSU). Anteriormente, era\n\nexpressa em ppt (1 ppt corresponde a 1 grama por litro) [20].\n\nDe acordo com a figura 2.9, a \u00e1gua dos oceanos da Terra tem uma salinidade m\u00e9dia\n\naproximada de 35 ppt, a \u00e1gua salobra apresenta salinidades entre 0.5 ppt e 30 ppt e a\n\n\u00e1gua doce pode conter uma salinidade entre 0 ppt e 0.5 ppt.\n\n12\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\nMar Vermelho - 40 ppt\n\nMar Mediterr\u00e2neo - 38 ppt\n\nM\u00e9dia \u00e1gua do mar \u2013 34.7 ppt\n\nMar Preto \u2013 18 ppt\n\nMar B\u00e1ltico \u2013 8 ppt\n\n\u00c1gua pot\u00e1vel \u2013 0.1 ppt\n\nLimite para a irriga\u00e7\u00e3o da \n\nagricultura \u2013 2 ppt\n\n\u00c1\ng\n\nu\na\n\n s\na\nlg\n\na\nd\n\na\n\u00c1\n\ng\nu\na\n\n s\na\nlo\n\nb\nra\n\n\u00c1gua doce\n\nFigura 2.9: Escala pr\u00e1tica de salinidade da \u00e1gua (baseado em [21])\n\nTemperatura de densidade \n\nm\u00e1xima\n\nTemperatura de congela\u00e7\u00e3o\n\nT\ne\n\nm\np\n\ne\nra\n\ntu\nra\n\n (\n\u00baC\n\n)\n\nSalinidade (psu)\n\nFigura 2.10: Salinidade em fun\u00e7\u00e3o da temperatura da \u00e1gua [20]\n\n13\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nNotar que, pela figura 2.10, a salinidade n\u00e3o s\u00f3 afecta a densidade da \u00e1gua, mas\n\ntamb\u00e9m a temperatura a que ocorre a densidade m\u00e1xima e o ponto de congela\u00e7\u00e3o da\n\n\u00e1gua [20].\n\n2.3.1.3 Densidade\n\nA densidade da \u00e1gua \u00e9 importante no estudo da sua din\u00e2mica, porque pequenas varia\u00e7\u00f5es\n\npodem produzir correntes bastante fortes, sendo, portanto, respons\u00e1vel pela estabilidade\n\nhidrost\u00e1tica dos oceanos, rios ou lagos. Relacionada com esta propriedade est\u00e1 a compres-\n\nsibilidade, que expressa as mudan\u00e7as de volume, face a varia\u00e7\u00f5es de press\u00e3o com impacto\n\nna velocidade de propaga\u00e7\u00e3o do som [20].\n\nTemperatura (\u00baC)\n\nGelo\n\n\u00c1gua\n\nD\ne\n\nn\ns\n\nid\na\n\nd\ne\n\n (\ng\n\n/c\nm\n\n^\n3\n\n)\n\nM\u00e1xima densidade a 4\u00baC\n\nFigura 2.11: Densidade em fun\u00e7\u00e3o da temperatura da \u00e1gua [20]\n\n2.3.2 Propaga\u00e7\u00e3o Ac\u00fastica\n\n2.3.2.1 Intensidade Ac\u00fastica\n\nComo as varia\u00e7\u00f5es de press\u00e3o de um meio l\u00edquido s\u00e3o provocadas pelo movimento os-\n\ncilat\u00f3rio das part\u00edculas na direc\u00e7\u00e3o de propaga\u00e7\u00e3o, a rela\u00e7\u00e3o entre a velocidade dessas\n\npart\u00edculas e a press\u00e3o \u00e9 dada por\n\np = ?c\u00b5 [Pa] , (2.6)\n\nonde p \u00e9 a press\u00e3o, dada em pascal (Pa), ? a densidade, em kg/m3, c a velocidade do som\n\ne \u00b5 a velocidade da part\u00edcula, ambas em m/s.\n\nA constante de proporcionalidade ?c \u00e9 chamada de imped\u00e2ncia ac\u00fastica espec\u00edfica ou\n\ncaracter\u00edstica, dada em ohm, e \u00e9 uma propriedade do meio onde a onda se propaga. A\n\nintensidade ac\u00fastica m\u00e9dia \u00e9 definida como o fluxo m\u00e9dio de energia atrav\u00e9s de uma \u00e1rea\n\n14\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\nunit\u00e1ria, orientada na direc\u00e7\u00e3o normal \u00e0 propaga\u00e7\u00e3o expressa por\n\nI =\nP\nA\n\n=\np2rms\n?c\n\n[W/m2] , (2.7)\n\nonde P \u00e9 a pot\u00eancia do sinal ac\u00fastico, em watt (W), A a \u00e1rea, em m2, prms a press\u00e3o m\u00e9dia\n\nquadr\u00e1tica, em Pa, ? a densidade, em kg/m3, e c a velocidade do som, em m/s.\n\n2.3.2.2 N\u00edvel do Sinal na Fonte\n\nO n\u00edvel de transmiss\u00e3o da fonte (do ingl\u00eas Source Level, frequentemente abreviado para\n\nSL) do som refere-se \u00e0 intensidade do sinal It, que por sua vez depende da pot\u00eancia\n\nde transmiss\u00e3o ac\u00fastica, Pt [22]. Dada a pot\u00eancia Pt, a intensidade de sinal subaqu\u00e1tico\n\ntransmitido a 1 metro da fonte pode ser obtido por\n\nIt =\nPt\n\n2?\u00d71m\u00d7H\n[W/m2] , (2.8)\n\nonde H \u00e9 a profundidade, em metros.\n\nPela equa\u00e7\u00e3o 2.9, obt\u00e9m-se o n\u00edvel da fonte em rela\u00e7\u00e3o a uma intensidade de refer\u00eancia,\n\nde 1 \u00b5Pa na \u00e1gua, equivalente a 6.7\u00d710?19 W/m2, [22].\n\nSL = 10 log\n(\n\nIt\n6.7\u00d710?19\n\n)\n[dB re 1 \u00b5Pa @1m] (2.9)\n\n2.3.2.3 Atenua\u00e7\u00e3o de Percurso\n\nAs perdas de transmiss\u00e3o (do ingl\u00eas Transmission Losses, abreviado para TL), expressam\n\na atenua\u00e7\u00e3o sonora ao longo da sua traject\u00f3ria. As perdas de propaga\u00e7\u00e3o do sinal ac\u00fastico\n\nem \u00e1guas pouco profundas [22] s\u00e3o dadas por\n\nTL = 10\u00d7\u00b5\u00d7 log(D) + ?(f )\u00d7D [dB] , (2.10)\n\nonde D \u00e9 a dist\u00e2ncia, em km, entre a fonte e o receptor, ? o coeficiente de absor\u00e7\u00e3o do\n\nmeio (dependente da frequ\u00eancia), em dB/km e \u00b5 um coeficiente entre 1 e 2 que depende\n\ndo tipo de espalhamento.\n\nA absor\u00e7\u00e3o de ondas ac\u00fasticas na \u00e1gua depende da temperatura, profundidade, sali-\n\nnidade e acidez da \u00e1gua, bem como da frequ\u00eancia da onda. A equa\u00e7\u00e3o 2.11 expressa o\n\ncoeficiente de absor\u00e7\u00e3o da \u00e1gua do mar \u00e0 frequ\u00eancia f (kHz), descrita como a soma dos\n\nprocessos de relaxa\u00e7\u00e3o qu\u00edmica e da absor\u00e7\u00e3o da \u00e1gua pura [13].\n\n?(f ) =\nA1p1f1f\n\n2\n\nf 21 + f\n2\n\n+\nA2p2f2f\n\n2\n\nf 22 + f\n2\n\n+ A3p3f\n2 [dB/km] . (2.11)\n\nO primeiro termo da equa\u00e7\u00e3o mostra a contribui\u00e7\u00e3o do \u00e1cido b\u00f3rico em que f1 representa\n\na sua frequ\u00eancia de relaxa\u00e7\u00e3o. O segundo termo \u00e9 proveniente da contribui\u00e7\u00e3o do sulfato\n\n15\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nde magn\u00e9sio em que f2 representa a sua frequ\u00eancia de relaxa\u00e7\u00e3o, e o terceiro termo \u00e9\n\nproveniente da contribui\u00e7\u00e3o da mol\u00e9cula H2O. As depend\u00eancias de press\u00e3o s\u00e3o dadas por\n\np1, p2, e p3 e A1, A2 e A3 s\u00e3o constantes [23].\n\nA obra de Fran\u00e7ois e Garrison, publicada em 1982 [23], reuniu um conjunto de me-\n\ndi\u00e7\u00f5es anteriores, incluindo a publica\u00e7\u00e3o de Fisher e Simmons, de 1977. Uma an\u00e1lise\n\nmais recente e aprofundada foi feita por Ainslie e McColm, publicada em 1997, baseada\n\nno mesmo conjunto de dados. A express\u00e3o do coeficiente de absor\u00e7\u00e3o da \u00e1gua proposta\n\npor Ainslie e McColm apresenta duas componentes: uma originada pelo movimento das\n\npart\u00edculas em meio viscoso que apresenta poucos efeitos para frequ\u00eancias aud\u00edveis, mas\n\ndominante para frequ\u00eancias maiores que 1 MHz e outra devida a elementos qu\u00edmicos\n\nexistentes na \u00e1gua. Algumas mol\u00e9culas tem mais do que um estado est\u00e1vel e as altera\u00e7\u00f5es\n\nde uma para outra depende da press\u00e3o. Diferentes mudan\u00e7as de fase envolvem diferentes\n\ntempos de reac\u00e7\u00e3o e este atraso na resposta pode ser caracterizado por um tempo de rela-\n\nxa\u00e7\u00e3o. Este termo s\u00f3 afecta as frequ\u00eancias mais baixas, onde f1 e f2 podem ser calculados\n\na partir das equa\u00e7\u00f5es 2.12 e 2.13, respectivamente [23].\n\nf1 = 0.78\n\n?\nS\n35\ne\nT\n26 [kHz] (2.12)\n\nf2 = 42e\nT\n17 [kHz] (2.13)\n\nAmbas as express\u00f5es dependem da temperatura, T (\u00ba C), mas apenas f1, associada\n\nao \u00e1cido b\u00f3rico, depende significativamente da salinidade, S (ppt). A express\u00e3o final\n\npara as constantes Ax [23] associadas aos dois termos de relaxa\u00e7\u00e3o qu\u00edmica somados \u00e0\n\ncomponente respons\u00e1vel pela absor\u00e7\u00e3o da \u00e1gua pura resulta em\n\n? = 0.106\nf1f\n\n2\n\nf 21 + f\n2\ne\npH?8\n0.56 + 0.52\n\n(\n1 +\n\nT\n43\n\n)(\nS\n35\n\n)\nf2f\n\n2\n\nf 22 + f\n2\ne\n?D\n6 + 0.00049f 2e?(\n\nT\n27 +\n\nD\n17 ) [dB/km].\n\n(2.14)\n\nNas figuras 2.12 e 2.13, considerando pH=7.1, T=20 \u00b0 C e D=0.1 km, s\u00e3o visualizados\n\nos coeficientes de absor\u00e7\u00e3o para \u00e1gua salgada e \u00e1gua doce, respectivamente. De referir\n\nque a absor\u00e7\u00e3o \u00e9 apenas parte do total referente \u00e0s perdas de transmiss\u00e3o. Normalmente,\n\na maior contribui\u00e7\u00e3o para a perda de transmiss\u00e3o \u00e9 devido ao espalhamento da onda \u00e0\n\nmedida que se propaga para al\u00e9m da fonte ac\u00fastica.\n\nChama-se frente ou superf\u00edcie de onda o lugar geom\u00e9trico dos pontos no espa\u00e7o em\n\nque a onda tem a mesma fase, num dado instante de tempo. Num meio homog\u00e9neo e livre,\n\nonde n\u00e3o h\u00e1 influ\u00eancia de fronteiras, o som proveniente de uma fonte pontual propaga-\n\nse uniformemente em todas as direc\u00e7\u00f5es, com uma velocidade constante e em direc\u00e7\u00e3o\n\nperpendicular \u00e0 frente da onda. Se o meio flu\u00eddo se encontrar limitado por interfaces\n\nparalelas, as frentes de onda come\u00e7am por ser esf\u00e9ricas nas regi\u00f5es pr\u00f3ximas da fonte\n\n(sendo a atenua\u00e7\u00e3o proporcional ao quadrado da dist\u00e2ncia percorrida pela onda), embora\n\na interac\u00e7\u00e3o com as interfaces, as confinam numa propaga\u00e7\u00e3o cil\u00edndrica. Neste caso, a\n\nperda de pot\u00eancia sonora aumenta linearmente com a dist\u00e2ncia a partir da origem.\n\n16\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\nFrequ\u00eancia (Hz)\n100 101 102 103 104 105 106\n\nA\nb\n\nso\nr\u00e7\n\n\u00e3\no\n\n (\nd\n\nB\n/k\n\nm\n)\n\n10-10\n\n10-8\n\n10-6\n\n10-4\n\n10-2\n\n100\n\n102\n\n104\n\n\u00c1gua pura\n\u00c1cido b\u00f3rico\nSulfato de magn\u00e9sio\nAbsor\u00e7\u00e3o total\n\nFigura 2.12: Coeficiente de absor\u00e7\u00e3o ac\u00fastica em \u00e1gua salgada (S=35 ppt) em fun\u00e7\u00e3o da\nfrequ\u00eancia da onda\n\nFrequ\u00eancia (Hz)\n100 101 102 103 104 105 106\n\nA\nb\n\nso\nr\u00e7\n\n\u00e3\no\n\n (\nd\n\nB\n/k\n\nm\n)\n\n10-12\n\n10-10\n\n10-8\n\n10-6\n\n10-4\n\n10-2\n\n100\n\n102\n\n104\n\n\u00c1gua pura\n\u00c1cido b\u00f3rico\nSulfato de magn\u00e9sio\nAbsor\u00e7\u00e3o total\n\nFigura 2.13: Coeficiente de absor\u00e7\u00e3o ac\u00fastica em \u00e1gua doce (S=0.5 ppt) em fun\u00e7\u00e3o da\nfrequ\u00eancia da onda\n\n17\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nEm ambientes homog\u00e9neos, as perdas por espalhamento s\u00e3o dadas por\n\n10 log(D\u00b5) [dB], (2.15)\n\nonde D \u00e9 a dist\u00e2ncia percorrida pela onda, em metros, e \u00b5 um coeficiente que se situa\n\nentre 1 para propaga\u00e7\u00f5es cil\u00edndricas e 2 para propaga\u00e7\u00f5es esf\u00e9ricas (ver figura 2.14).\n\nDist\u00e2ncia (m)\n100 101 102 103\n\nP\ne\n\nrd\na\n\ns \n(d\n\nB\n)\n\n0\n\n10\n\n20\n\n30\n\n40\n\n50\n\n60\n\nEspalhamento cil\u00edndrico\nEspalhamento esf\u00e9rico\n\nFigura 2.14: Perdas ac\u00fasticas por espalhamento em fun\u00e7\u00e3o da frequ\u00eancia da onda na \u00e1gua\n\nNum meio n\u00e3o homog\u00e9neo, por\u00e9m, as traject\u00f3rias dependem do perfil da velocidade\n\ndo som e da geometria do meio entre a fonte e o receptor.\n\n2.3.2.4 Desvanecimento por Multi-Percurso\n\nO multi-percurso em canais de comunica\u00e7\u00e3o subaqu\u00e1ticos \u00e9 causado por dois factores es-\n\nsenciais: reflex\u00e3o da onda na superf\u00edcie, no fundo e em quaisquer objectos/animais e pela\n\nrefrac\u00e7\u00e3o do som na \u00e1gua, consequ\u00eancia da lei de Snell [24]. A temperatura na coluna\n\nde \u00e1gua, juntamente com diferentes correntes a v\u00e1rios n\u00edveis de profundidade s\u00e3o ou-\n\ntras causas respons\u00e1veis por varia\u00e7\u00f5es nas velocidades de propaga\u00e7\u00e3o e de interfer\u00eancias\n\nintersimb\u00f3licas.\n\nAs interac\u00e7\u00f5es da energia sonora com a superf\u00edcie e o fundo alteram a traject\u00f3ria, pois\n\nparte da energia \u00e9 reflectida em v\u00e1rias direc\u00e7\u00f5es e o restante passa para o meio cont\u00edguo,\n\npor refrac\u00e7\u00e3o. As ondas sonoras tamb\u00e9m sofrem espalhamento aleat\u00f3rio ao incidirem\n\nem peixes, organismos planct\u00f3nicos, bolhas de ar, entre outros. De entre os diversos\n\nfen\u00f3menos f\u00edsicos que afectam a propaga\u00e7\u00e3o ac\u00fastica destacam-se aqueles que ocorrem\n\nquando as ondas atravessam meios de propriedades diferentes. Nesta situa\u00e7\u00e3o, parte da\n\nenergia \u00e9 reflectida de volta para o meio de onde ela provinha e parte \u00e9 transmitida ou\n\nrefractada para o segundo meio.\n\nA superf\u00edcie do mar, al\u00e9m de ser reflectora, \u00e9 tamb\u00e9m uma interface espalhadora do\n\nsom. Conforme a rugosidade for aumentando com a ac\u00e7\u00e3o do vento, a reverbera\u00e7\u00e3o e\n\n18\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\nas perdas na reflex\u00e3o, a atenua\u00e7\u00e3o por bolhas e pela turbul\u00eancia e a gera\u00e7\u00e3o de ru\u00eddos\n\ncome\u00e7am a influenciar a propaga\u00e7\u00e3o ac\u00fastica [25]. Se as ondula\u00e7\u00f5es \u00e0 superf\u00edcie forem\n\nmuito pequenas, essa interface \u00e9 considerada plana, respondendo como um reflector\n\nperfeito ou ideal [26].\n\nAnalogamente \u00e0 superf\u00edcie, a interac\u00e7\u00e3o do som com o fundo afecta a propaga\u00e7\u00e3o\n\ndevido \u00e0 reverbera\u00e7\u00e3o e \u00e0s perdas na reflex\u00e3o, a atenua\u00e7\u00e3o devido \u00e0 porosidade dos sedi-\n\nmentos. Esses efeitos, por\u00e9m, s\u00e3o mais dif\u00edceis de serem calculados devido \u00e0 composi\u00e7\u00e3o\n\ndiversa e estratificada do fundo, a qual varia desde rocha dura at\u00e9 lama macia. Nesses\n\nefeitos, tamb\u00e9m est\u00e3o inclu\u00eddas as varia\u00e7\u00f5es bruscas na densidade e na velocidade do\n\nsom [25]. A topografia do fundo pode ser tamb\u00e9m, muito vari\u00e1vel e acidentada, o que\n\nem certos casos, bloqueia a propaga\u00e7\u00e3o sonora, provocando o surgimento de \u00e1reas de\n\nsombra. De um modo geral, quanto maior a frequ\u00eancia, maior a sensibilidade do sinal \u00e0\n\nrugosidade [27].\n\n2.3.2.5 Ru\u00eddo\n\nPara al\u00e9m da absor\u00e7\u00e3o e espalhamento do sinal na \u00e1gua, \u00e9 necess\u00e1rio ter em conta o ru\u00eddo\n\nna selec\u00e7\u00e3o da faixa de frequ\u00eancias para comunica\u00e7\u00f5es subaqu\u00e1ticas [28, 29], conside-\n\nrando uma dada rela\u00e7\u00e3o sinal-ru\u00eddo (S/R). O ru\u00eddo ac\u00fastico (do ingl\u00eas Noise Level, fre-\n\nquentemente abreviado para NL) em ambiente subaqu\u00e1tico est\u00e1 sempre presente, gerado\n\npor uma variedade de fontes naturais ou provocado pelo homem, sendo que o impacto\n\nde cada um dos factores no n\u00edvel de ru\u00eddo total \u00e9 classificado pela sua distribui\u00e7\u00e3o na\n\nfrequ\u00eancia. A actividade do transporte mar\u00edtimo pode dominar o n\u00edvel de ru\u00eddo em ba\u00edas\n\nou portos, enquanto as correntes de \u00e1guas s\u00e3o a principal fonte de ru\u00eddo nos rios.\n\nPodem ser consideradas quatro fontes de ru\u00eddo principais - turbul\u00eancia, transporte\n\nmar\u00edtimo, ondula\u00e7\u00e3o e ru\u00eddo t\u00e9rmico - descritas como sendo do tipo gaussiano e apresen-\n\ntam uma densidade espectral de pot\u00eancia constante ao longo da frequ\u00eancia.\n\nO ru\u00eddo existente causado pela turbul\u00eancia [30, 31] situa-se a baixas frequ\u00eancias (<\n\n10 Hz), sendo descrito por\n\n10 logNt(f ) = 17?30 log(f ) [dB] . (2.16)\n\nO termo usado para descrever o ru\u00eddo causado por embarca\u00e7\u00f5es [32], afecta os sinais\n\ncom frequ\u00eancias no intervalo entre 10 Hz e 100 Hz e \u00e9 apresentado por\n\n10 logNs(f ) = 40 + 20(s?0.5) + 26 log(f )?60 log(f + 0.03) [dB] , (2.17)\n\nonde s \u00e9 o factor de transporte, entre 0 e 1.\n\nO ru\u00eddo respons\u00e1vel pela ondula\u00e7\u00e3o mar\u00edtima [32, 33] afecta os sinais a frequ\u00eancias\n\nsituadas entre 100 Hz e 100 kHz e \u00e9 enunciado por\n\n10 logN?(f ) = 50 + 7.5?\n1\n2 + 20 log(f )?40 log(f + 0.4) [dB] , (2.18)\n\n19\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nonde ? \u00e9 a velocidade do vento, em m/s.\n\nO ru\u00eddo t\u00e9rmico [30] \u00e9 causado pela agita\u00e7\u00e3o molecular e afecta os sinais com frequ\u00ean-\n\ncias superiores a 100 kHz, sendo expresso por\n\n10 logNth(f ) = ?15 + 20 log(f ) [dB] . (2.19)\n\nA densidade espectral de pot\u00eancia do ru\u00eddo pode ser calculada por Nt(f ) + Ns(f ) +\n\nN?(f ) + Nth(f ) dado que se consideram serem independentes entre si.\n\n2.3.3 Sistemas Ac\u00fasticos Subaqu\u00e1ticos Existentes\n\nAs ondas ac\u00fasticas s\u00e3o utilizadas em sistemas de comunica\u00e7\u00f5es subaqu\u00e1ticas devido \u00e0\n\nbaixa atenua\u00e7\u00e3o do som neste ambiente, quando comparando com outras tecnologias.\n\n2.3.3.1 Modems Comerciais\n\nOs modems ac\u00fasticos subaqu\u00e1ticos comerciais s\u00e3o usados por grandes companhias petro-\nl\u00edferas, ag\u00eancias governamentais e universidades.\n\nA LinkQuest disp\u00f5e de modems de curto e longo alcance [34]. O UW M1000, que \u00e9\nutilizado essencialmente em \u00e1guas pouco profundas, tem baixa pot\u00eancia (1 W de trans-\n\nmiss\u00e3o e 0.75 W de recep\u00e7\u00e3o) e \u00e9 capaz de comunicar at\u00e9 cerca de 350 metros com uma\n\ntaxa de transmiss\u00e3o de dados de 17800 bps. O UW M10000, um modem de profundidade,\nconsome 40 W na transmiss\u00e3o e 0.8 W na recep\u00e7\u00e3o podendo comunicar at\u00e9 10 km com\n\numa velocidade de transmiss\u00e3o de dados de 2500 a 5000 bps.\n\nA Teledyne Bentos fabrica modems que t\u00eam sido utilizados em redes de sensores su-\nbaqu\u00e1ticas a cargo da Marinha Norte Americana. Os seus modems s\u00e3o comercializados\nprincipalmente para comunica\u00e7\u00f5es de profundidade, ponto-a-ponto, isto \u00e9, do fundo do\n\noceano directamente para a superf\u00edcie, por exemplo [35]. Conseguem comunicar para\n\nal\u00e9m de 1 km a 10240 bps sem erros em situa\u00e7\u00f5es ideais. No entanto, as t\u00edpicas taxas de\n\ntransmiss\u00e3o de dados situam-se entre os 2400 bps. Estes modems t\u00eam um consumo de 20\na 84 W de pot\u00eancia na transmiss\u00e3o e 0.7 W na recep\u00e7\u00e3o.\n\nA TriTech Internacional desenvolveu o Micron Data Modem [36] para pequenos ve\u00ed-\nculos controlados remotamente (do ingl\u00eas Remotely Operated Vehicles, frequentemente\n\nabreviado para ROVs). O MicronModem, o mais leve modem ac\u00fastico no mercado, torna-o\nadequado para aplica\u00e7\u00f5es que t\u00eam restri\u00e7\u00f5es de tamanho e peso (como a bordo de peque-\n\nnas AUVs ou ROVs). O custo \u00e9 na ordem dos 3000 e, representando cerca de metade do\n\npre\u00e7o em rela\u00e7\u00e3o a outros modems ac\u00fasticos no mercado. No entanto, o MicronModem\napresenta um consumo de energia moderado (7.92 W na transmiss\u00e3o e 720 mW na recep-\n\n\u00e7\u00e3o) para uma dist\u00e2ncia m\u00e1xima de 500 metros e um d\u00e9bito de 40 bps.\n\n20\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\nO Grupo Aquatec \u00e9 outra empresa que projecta modems ac\u00fasticos [36]. Os seus modems\nde longo alcance oferecem uma taxa de transmiss\u00e3o de dados entre 100 a 2000 bps e um\n\nalcance de at\u00e9 5 km.\n\nA EvoLogics desenvolveu seis modems ac\u00fasticos subaqu\u00e1ticos que fazem uso da sua\ntecnologia subaqu\u00e1tica patenteada (S2C) [37]. S2C foi concebido para imitar o padr\u00e3o\n\nde som do golfinho e espalhar continuamente a energia do sinal por uma vasta gama de\n\nfrequ\u00eancias, de modo a que a componente de multi-percurso n\u00e3o interfira. Os modems v\u00e3o\ndesde os de alta velocidade (31 kbps) para aplica\u00e7\u00f5es de pequeno/m\u00e9dio alcance (1000\n\nm) em \u00e1guas rasas aos de longa dist\u00e2ncia (8 km) com uma taxa de transmiss\u00e3o de dados\n\ninferior (6.9 kbps) em \u00e1guas profundas.\n\nA DSPComm produz o AquaComm, um modem sem fios subaqu\u00e1tico que fornece\nao utilizador a capacidade de definir a pot\u00eancia de transmiss\u00e3o e recep\u00e7\u00e3o de dados\n\noferecendo assim uma solu\u00e7\u00e3o de baixo consumo de energia para aplica\u00e7\u00f5es de curto al-\n\ncance [38]. O AquaComm atinge dist\u00e2ncias de 3 km e oferece taxas de transmiss\u00e3o entre\n\n100 a 480 bps.\n\nO MicroModem [39] desenvolvido pelo WHOI (Woods Hole Oceanographic Institu-\n\ntion) \u00e9 uma arquitectura open source alternativa para solu\u00e7\u00f5es comerciais. \u00c9 program\u00e1-\nvel pelo utilizador e pode suportar v\u00e1rios instrumentos. Actualmente \u00e9 utilizado para\n\ncomunica\u00e7\u00e3o e navega\u00e7\u00e3o de ve\u00edculos aut\u00f3nomos subaqu\u00e1ticos e em boias sensores. O\n\nMicroModem utiliza dois tipos de modula\u00e7\u00e3o na camada f\u00edsica: esquema de modula\u00e7\u00e3o\n\nna frequ\u00eancia (do ingl\u00eas Frequency-Shift Keying, frequentemente abreviado para FSK) ou\n\nesquema de modula\u00e7\u00e3o na fase (do ingl\u00eas Phase-Shift Keying, frequentemente abreviado\n\npara PSK), com taxa de transmiss\u00e3o que poder\u00e1 chegar aos 5400 bps em PSK.\n\nA tabela 2.2 resume e compara os modems de cada uma das empresas mencionadas em\ntermos de frequ\u00eancia de opera\u00e7\u00e3o, pot\u00eancia de transmiss\u00e3o e recep\u00e7\u00e3o, esquema de mo-\n\ndula\u00e7\u00e3o, taxa de transmiss\u00e3o de bits e custo. Para valores n\u00e3o especificados na literatura\n\ndenota-se por \"NS\". As frequ\u00eancias de opera\u00e7\u00e3o variam entre 8 kHz e 78 kHz, as pot\u00eancias\n\nde transmiss\u00e3o variam entre 2.5 W e 80 W e as taxas de transmiss\u00e3o de bits variam entre\n\n40 e 15000 bps. Todos os modems fazem uso de transdutores comerciais que s\u00f3 por si\ncustam alguns milhares de euros, contribuindo com uma grande parcela do custo total\n\ndo modem.\n\n21\n\n\n\nC\nA\nP\n\u00cd\nT\nU\nL\nO\n\n2\n.\nC\nO\nM\n\nU\nN\nI\nC\nA\n\u00c7\n\u00d5\nE\nS\nD\nI\nG\nI\nT\nA\nI\nS\nE\nM\n\nA\nM\n\nB\nI\nE\nN\nT\nE\nS\nU\nB\nA\nQ\nU\n\u00c1\nT\nI\nC\nO\n\nTabela 2.2: Compara\u00e7\u00e3o entre modems ac\u00fasticos subaqu\u00e1ticos comerciais\n\nModem Frequ\u00eancia (kHz) Pot\u00eancia (W)\nTaxa de Transmiss\u00e3o (bps) Alcance (km) Custo (e)\n\nEmpresa Modelo Centro Largura de Banda Tx Rx\n\nLinkQuest [34]\n\nUW M1000 35.7 17.9 1 0.75 17800 0.35\n\n> 6000\n\nUW M2000 35.7 17.9 2 0.8 17800 1.5\nUW M2000H 35.7 17.9 2 0.8 17800 1.5\nUW M2200 71.4 35.7 6 1 35700 1\nUW M3000 10 5 12 0.8 5000 3\n\nUW M3000H 10 5 12 0.8 5000 3\nUW M4000 17 8.5 7 0.8 8500 4\n\nUW M10000 10 5 40 0.8 5000 10\n\nTELEDYNE\nBENTHOS [35]\n\nATM9XX (PSK) 11.5/18.5/24.5 5 20 0.7 2400 6\n> 6500ATM9XX (MFSK2) 11.5/18.5/24.5 5 20 0.7 15360 6\n\nATM885 18.5 5 84 0.7 15360 0.7\n\nTriTech [36] MicronModem 22 4 8 0.7 40 0.5 ? 3000\n\nAquatec [36]\nAQUAModem 500 29 4 NS NS 100 0.25\n\n> 7000\nAQUAModem 1000 9.7 4.5 20 0.6 2000 5\n\nEvoLogics [37]\n\nS2CR 48/78 63 30 18 1.1 31200 1\n\n> 10000\nS2CR 40/80 51 26 40 1.1 27700 1\nS2CR 18/34 26 16 35 1.3 13900 3.5\nS2CR 12/24 18.5 11 15 1.1 9200 6\nS2CR 7/17 12 10 40 1.1 6900 8\n\nDSPComm [38]\nAquaComm Marlin 23 14 1.8 0.3 480 1\n\n> 5300AquaComm Mako 23 14 1.8 0.3 240 1\nAquaComm Orca 23 14 1.8 0.3 100 3\n\nWHOI [39]\nMicroModem (FSK) 25 4 100 0.2 80 2\n\n> 6000\nMicroModem (PSK) 25 4 100 2.2 5400 2\n\n2do ingl\u00eas Multi Frequency Shift Keying, frequentemente abreviado para MFSK\n\n2\n2\n\n\n\n2.3. COMUNICA\u00c7\u00d5ES SUBAQU\u00c1TICAS SUPORTADAS EM ONDAS AC\u00daSTICAS\n\n2.3.3.2 Solu\u00e7\u00f5es Propostas por Projectos de Investiga\u00e7\u00e3o\n\nAs pesquisas sobre os modems ac\u00fasticos subaqu\u00e1ticos t\u00eam sido conduzidas com o objectivo\nde reduzir o consumo energ\u00e9tico e custo, testando novos algoritmos de comunica\u00e7\u00e3o para\n\naumentar a taxa de transmiss\u00e3o de dados e melhorar o desempenho do dispositivo quando\n\ncolocado em ambientes adversos.\n\nO Instituto de Ci\u00eancias da Informa\u00e7\u00e3o da Universidade do Sul da Calif\u00f3rnia desenvol-\n\nveu um modem prot\u00f3tipo para o projecto experimental de redes de sensores subaqu\u00e1ticas\ns\u00edsmicas (SNUSE) [40]. O principal objectivo do projecto era fornecer um modem de baixa\npot\u00eancia e baixo custo para operar entre 50 a 500 metros para aplica\u00e7\u00f5es de monitoriza\u00e7\u00e3o\n\ns\u00edsmica. Para conseguir esse objectivo, o prot\u00f3tipo inclu\u00ed um receptor barato e de baixa\n\npot\u00eancia que consome apenas 500 \u00b5W, um microcontrolador e um esquema de modula-\n\n\u00e7\u00e3o baseado em FSK. O prot\u00f3tipo custou menos de 90 e, com uma pot\u00eancia m\u00e1xima de\n\ntransmiss\u00e3o de 2 W, 25 mW de recep\u00e7\u00e3o e 500 \u00b5W em stand-by, sendo que apenas ficou\noptimizado para experi\u00eancias no ar.\n\nAs pesquisas da Universidade da Calif\u00f3rnia em Irvine resultaram no desenvolvimento\n\nde modems ac\u00fasticos constitu\u00eddos por altifalantes e microfones gen\u00e9ricos para estabelecer\ncomunica\u00e7\u00f5es entre redes de sensores ac\u00fasticas subaqu\u00e1ticas com a ideia de que o uso de\n\nhardware simples pode reduzir muito o custo do projecto do modem [41].\n\nO AquaModem [42], concebido na Universidade da Calif\u00f3rnia em Santa Barbara foi\n\nprojectado para aplica\u00e7\u00f5es de curto alcance (<1 km) em linha recta debaixo de \u00e1gua rasa.\n\nO modem foi testado num coral e o seu alcance atinge os 440 metros com uma taxa de\ntransmiss\u00e3o de dados de 133 bps e uma taxa de erro inferior a 1% [43].\n\nAs pesquisas da Universidade Kookmin, Coreia, projectaram um modem ac\u00fastico su-\nbaqu\u00e1tico que faz uso de quatro pequenos transdutores de ar para comunicar com outros\n\nn\u00f3s que se encontrem a Norte, Sul, Este e Oeste, respectivamente, e um quinto transdutor\n\npara comunicar com o n\u00f3 da superf\u00edcie. O projecto usa um microcontrolador ATmega\n\n128 que faz interface com um processador PXA270 Arm para a camada MAC. Opera a 30\n\nkHz e \u00e9 capaz de transmitir dados a 5 kbps at\u00e9 dist\u00e2ncias de 30 metros [44].\n\nUm grupo de investiga\u00e7\u00e3o conduzido por Vasilescu desenvolveu o AquaNode. Apre-\n\nsenta um modelo h\u00edbrido: por via \u00f3ptica para transmiss\u00e3o ponto-a-ponto, a curta dist\u00e2n-\n\ncia, a uma taxa de transmiss\u00e3o de 330 kbps e por via ac\u00fastica para transmiss\u00e3o a longo\n\nalcance com uma taxa de transmiss\u00e3o de 300 bps [45].\n\n23\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\nAs pesquisas da Universidade de Connecticut notibilizaram-se por um modem base-\nado em OFDM, assente num TMS320C6713 DSP com o objectivo de fornecer uma maior\n\ntaxa de transmiss\u00e3o de dados em rela\u00e7\u00e3o a outros modems de investiga\u00e7\u00e3o [46]. O modem\nfoi testado num tanque de \u00e1gua, em laborat\u00f3rio, n\u00e3o tendo sido testado no terreno [47].\n\nSozer e Stojanovic desenvolveram um modem ac\u00fastico reconfigur\u00e1vel (rModem) [48].\nOutras numerosas pesquisas t\u00eam implementado algoritmos de comunica\u00e7\u00e3o num laptop e\nusado hardware comprado comercialmente para controlar e realizar testes em \u00e1gua, com\nimplementa\u00e7\u00f5es baseadas em OFDM [49, 50, 51, 52, 53, 54] e em MIMO [55, 56]. Estes e\n\noutros projectos s\u00e3o \u00fateis para examinar a capacidade de diferentes esquemas de modu-\n\nla\u00e7\u00e3o.\n\nA tabela 2.3 compara os modems de investiga\u00e7\u00e3o descritos anteriormente em termos de\nplataforma, esquema de modula\u00e7\u00e3o, taxa de transmiss\u00e3o de dados e alcance. Para valores\n\nn\u00e3o especificados na literatura denota-se por \"NS\".\n\n24\n\n\n\n2\n.\n3\n.\nC\nO\nM\n\nU\nN\nI\nC\nA\n\u00c7\n\u00d5\nE\nS\nS\nU\nB\nA\nQ\nU\n\u00c1\nT\nI\nC\nA\nS\nS\nU\nP\nO\nR\nT\nA\nD\nA\nS\nE\nM\n\nO\nN\nD\nA\nS\nA\nC\n\u00da\nS\nT\nI\nC\nA\nS\n\nTabela 2.3: Compara\u00e7\u00e3o entre modems ac\u00fasticos subaqu\u00e1ticos propostos em trabalho de investiga\u00e7\u00e3o\n\nInstitui\u00e7\u00e3o Modem Plataforma\nFrequ\u00eancia\n\n(kHz)\nAlcance\n\n(km)\nTaxa de Transmiss\u00e3o\n\n(bps)\nModula\u00e7\u00e3o\n\nUniversity of Southern California USC [40] ATMEGA 128L MCU (Mica2) 18 0.5 600 FSK\n\nUniversity of California, Irvine UCI [40] Tmote (MSP430 MCU) 1.5 0.01 48 FSK\n\nUniversity of Connecticut uConn [46] TMS320C6713 DSP 12.5 (Lab) 6200 OFDM (QPSK4)\n\nMassachusetts Institute of Technology rModem [48] TMS320C6713 DSP 12 0.016 550 QPSK\n\nUniversity of California, Santa Barbara AquaModem [42] TMS320C6713 DSP 24 0.44 133 DSSS5\n\nKookmin University Kookmin [44] ATMEGA 128 MCU 30 0.03 5000 OOK6\n\nMassachusetts Institute of Technology AquaNode [45] ADBlackfin B533 DSP 30 0.4 300 FSK\n\nUniversity of California, San Diego UCSD [57] FPGA NS NS NS NS\n\nNorthwestern Polytechnical University in China NPUC [58] ADSP-TS101 + FPGA NS (Lab) 1000 OFDM (BPSK7 )\n\nNorth Carolina State University NCSU [59] ATmega 168 MCU 47.5 0.1 31 4-FSK\n\nGangneung-Wonju National University GaWoNU [60] ARMCortex-M3 70 0.07 200 OOK\n\nITACA Institute ITACA [61] C8051F920 85 0.1 1000 FSK\n\n3do ingl\u00eas Quadrature Phase-Shift Keying, frequentemente abreviado para QPSK\n4do ingl\u00eas Direct Sequence Spread Spectrum, frequentemente abreviado para DSSS\n5do ingl\u00eas On-Off Keying, frequentemente abreviado para OOK\n6do ingl\u00eas Binary Phase-Shift Keying, frequentemente abreviado para BPSK\n\n2\n5\n\n\n\nCAP\u00cdTULO 2. COMUNICA\u00c7\u00d5ES DIGITAIS EM AMBIENTE SUBAQU\u00c1TICO\n\n2.4 Conclus\u00f5es\n\nAp\u00f3s descrito o efeito do ambiente subaqu\u00e1tico nas ondas RF, \u00f3pticas e ac\u00fasticas, a tabela\n\n2.4 (baseado em [13]) resume e compara as caracter\u00edsticas das comunica\u00e7\u00f5es subaqu\u00e1ticas\n\nRF, \u00f3ptica e ac\u00fastica.\n\nAs ondas de r\u00e1dio podem proporcionar elevadas taxas de transmiss\u00e3o de dados, mas\n\nest\u00e3o sujeitas a uma forte atenua\u00e7\u00e3o devido \u00e0 condutividade da \u00e1gua. As ondas \u00f3pticas\n\nproporcionam ainda maiores taxas de transmiss\u00e3o de dados, mas est\u00e3o sujeitas \u00e0 atenua-\n\n\u00e7\u00e3o devido \u00e0 turva\u00e7\u00e3o da \u00e1gua.\n\nPor fim, as ondas ac\u00fasticas permitem estabelecer liga\u00e7\u00f5es a dist\u00e2ncias mais longas,\n\nmas suportam taxas de transmiss\u00e3o de dados mais baixas e est\u00e3o sujeitas aos efeitos de\n\ndesvanecimento multi-percurso. As aplica\u00e7\u00f5es subaqu\u00e1ticas onde se pretendem incluir re-\n\ndes de sensores sem fios exigem baixas taxas de transmiss\u00e3o de dados e como tal, as ondas\n\nac\u00fasticas s\u00e3o as mais robustas e fi\u00e1veis, justificando assim, a sua utiliza\u00e7\u00e3o no desenvolvi-\n\nmento de um transreceptor ac\u00fastico. Para aumentar o d\u00e9bito em sistemas de transmiss\u00e3o\n\nac\u00fastica submarina deve-se usar frequ\u00eancias elevadas. No entanto, a atenua\u00e7\u00e3o \u00e9 maior a\n\naltas frequ\u00eancias. Por essa raz\u00e3o \u00e9 necess\u00e1rio chegar a um compromisso e verificar o que\n\nem cada caso \u00e9 mais importante, se a dist\u00e2ncia ou a resolu\u00e7\u00e3o.\n\nTabela 2.4: Caracteriza\u00e7\u00e3o de comunica\u00e7\u00f5es sem fios em ambientes subaqu\u00e1ticos\n\nRF \u00d3ptica Ac\u00fastica\n\nVelocidade da Onda (m/s) ? 3\u00d7108 ? 3\u00d7108 ? 1.5\u00d7 103\n\nTaxa de Transmiss\u00e3o &lt;10 Mbps &lt;1 Gbps &lt;100 kbps\n\nAlcance ? 1 a 100 m ? 1 a 100 m ? km\n\nPerdas de Pot\u00eancia ? 28 dB/km/MHz ? turva\u00e7\u00e3o > 0.1 dB/m/Hz\n\nLargura de Banda ? MHz ? 1014 to 1015 Hz ? kHz\n\nPrincipais Dificuldades pot\u00eancia limitada ambiente limitado\nlargura de banda limitada\n\ninterfer\u00eancias\n\n26\n\n\n\nC\na\np\n\u00ed\nt\nu\nl\no\n\n3\nTransreceptor Ac\u00fastico para Comunica\u00e7\u00f5es\n\nDigitais Subaqu\u00e1ticas\n\n3.1 Arquitectura do Sistema e Or\u00e7amento da Liga\u00e7\u00e3o\n\nO objectivo passa por desenvolver um modem ac\u00fastico, capaz de transmitir e receber\ndados em ambiente subaqu\u00e1tico, de baixo custo e de baixo consumo energ\u00e9tico. A sua\n\narquitectura pode ser dividida em diversos blocos. No entanto, o foco do sistema proposto\n\nnesta disserta\u00e7\u00e3o vai para dois dos blocos principais, um circuito para a transmiss\u00e3o e\n\noutro para a recep\u00e7\u00e3o (ver figura 3.1). Para entender correctamente como operam os trans-\n\ndutores ac\u00fasticos de forma a determinar a qualidade do desempenho e a conveni\u00eancia\n\ndo transdutor s\u00e3o descritas as principais formas de transdu\u00e7\u00e3o e especifica\u00e7\u00f5es na sec\u00e7\u00e3o\n\nseguinte.\n\nCircuito Transmissor\n\nCircuito Receptor\n\nM\nC\n\nU\n\nTransdutor Tx\n\nTransdutor Rx\n\nSensor/Actuador\n\nSensor/Actuador\n\nSensor/Actuador\n\nsinais digitais sinais anal\u00f3gicossinais digitais/anal\u00f3gicos\n\nUnidade de Pot\u00eancia\n\nFigura 3.1: Blocos principais do modem ac\u00fastico subaqu\u00e1tico\n\n27\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nEm todos os projectos de comunica\u00e7\u00e3o entre dois pontos \u00e9 fundamental descrever o\n\nmodelo de propaga\u00e7\u00e3o do sinal desde a origem at\u00e9 ao receptor contabilizando todas as\n\nperdas que existem durante o trajecto (ver figura 3.2). \n\n \n\n \n\n \n\nModem \n\nReceptor \n\nModem \n\nTransmissor \n\nD\n\nH SL\n\nTL\n\nAr \n\n\u00c1gua \n\nFigura 3.2: Modelo de propaga\u00e7\u00e3o ac\u00fastica subaqu\u00e1tica a uma profundidade H e a uma\ndist\u00e2ncia D\n\nO n\u00edvel de intensidade sonora num ponto \u00e0 dist\u00e2ncia, D (km), da fonte (do ingl\u00eas\n\nSound Intensity Level, frequentemente abreviado para SIL) \u00e9 dado por\n\nSIL = SL?TL [dB re 1 \u00b5Pa] , (3.1)\n\nonde SL \u00e9 o n\u00edvel sonoro na fonte e TL as perdas totais de transmiss\u00e3o ao longo do trajecto.\n\nSabendo a pot\u00eancia ac\u00fastica de transmiss\u00e3o, obt\u00e9m-se o n\u00edvel sonoro na fonte, SL, pela\n\nequa\u00e7\u00e3o 2.9. Atrav\u00e9s da soma dos efeitos da absor\u00e7\u00e3o, TLa, e do espalhamento geom\u00e9trico,\n\nTLs, as perdas totais de transmiss\u00e3o, TL, podem ser estimadas por\n\nTL = TLa + TLs [dB] . (3.2)\n\nPelas equa\u00e7\u00f5es 3.3 e 3.4, o c\u00e1lculo da tens\u00e3o recebida no receptor depende da sensibi-\n\nlidade do transdutor.\n\ndBrecebido = SIL + Sensibilidade [dB re 1V ] . (3.3)\n\nVrecebido = 10\ndBrecebido\n\n10 [V ] . (3.4)\n\nA rela\u00e7\u00e3o sinal-ru\u00eddo (do ingl\u00eas Signal-Noise Ratio, frequentemente abreviado para\n\nSNR) no receptor para a dist\u00e2ncia e pot\u00eancia de transmiss\u00e3o estabelecidas \u00e9\n\nSNR = SL?TL?NL [dB] , (3.5)\n\nonde SL \u00e9 o n\u00edvel de intensidade sonora na fonte, TL as perdas de transmiss\u00e3o devido a\n\nabsor\u00e7\u00e3o e espalhamento e NL o ru\u00eddo associado \u00e0 banda do canal de comunica\u00e7\u00e3o.\n\n28\n\n\n\n3.2. TRANSDUTORES ELECTROAC\u00daSTICOS\n\n3.2 Transdutores Electroac\u00fasticos\n\nUm transdutor ac\u00fastico \u00e9 um dispositivo que converte energia el\u00e9ctrica em energia mec\u00e2-\n\nnica e vice-versa. Existem muitos factores que afectam o design de um transdutor ac\u00fastico,\n\npodendo desempenhar fun\u00e7\u00f5es tanto de sensor como de actuador. De entre muitos trans-\n\ndutores electroac\u00fasticos, destacam-se o altifalante como actuador e o microfone (no ar) e\n\no hidrofone (na \u00e1gua) como sensores.\n\nOs transdutores electroac\u00fasticos operam usando uma variedade de diferentes materi-\n\nais ou mecanismos de transdu\u00e7\u00e3o.\n\nEm transdutores magn\u00e9ticos, geralmente encontrados em transdutores de meio ga-\n\nsoso, uma bobine \u00e9 colocada num campo magn\u00e9tico gerado por um magneto permanente.\n\nAo fluir uma corrente el\u00e9ctrica alternada (sinal el\u00e9ctrico) pela bobine produz um campo\n\nmagn\u00e9tico e uma for\u00e7a que faz o cone de papel (ou aglomerado de madeira ou PVC) preso\n\n\u00e0 bobina vibrar, pressionando e distendendo o meio \u00e0 sua volta. O resultado desse pro-\n\ncesso \u00e9 a produ\u00e7\u00e3o de ondas sonoras cujas caracter\u00edsticas correspondem ao sinal el\u00e9ctrico\n\naplicado. De modo semelhante, quando o som chega ao diafragma, este vibra, fazendo\n\nvibrar a bobina, produzindo nos seus terminais uma pequena corrente el\u00e9ctrica. A sua\n\nmagnitude e direc\u00e7\u00e3o s\u00e3o directamente proporcionais ao movimento da bobine e do dia-\n\nfragma. Este tipo de transdutores s\u00e3o altamente confi\u00e1veis, resistentes e fidedignos.\n\nOs transdutores tamb\u00e9m podem ser concebidos usando materiais magnetostrictivos\n\npara transduzir. Quando estes materiais s\u00e3o colocados sobre um campo magn\u00e9tico, as\n\nsuas dimens\u00f5es mec\u00e2nicas mudam em fun\u00e7\u00e3o da for\u00e7a do campo magn\u00e9tico, que por sua\n\nvez pode ser utilizado para gerar som.\n\nOutros transdutores utilizam cristais piezoel\u00e9tricos, normalmente feitos a partir de\n\num material cer\u00e2mico, como o quartzo, o sal de Rochelle ou o Difosfato de Am\u00f3nia para a\n\ntransdu\u00e7\u00e3o em meios gasosos e aqu\u00e1ticos. O princ\u00edpio de funcionamento \u00e9 totalmente di-\n\nferente quando comparado com a transdu\u00e7\u00e3o magn\u00e9tica. N\u00e3o existe bobine, nem campo\n\nmagn\u00e9tico. Quando sujeitos a um sinal el\u00e9ctrico, os \u00e1tomos dos cristais ficam sujeitos\n\na uma \"press\u00e3o el\u00e9ctrica\", isto \u00e9, os \u00e1tomos ao deslocarem-se para se reequilibrarem,\n\ndeformam-se ligeiramente, alterando a sua forma. Durante o seu movimento vibrat\u00f3-\n\nrio geram ondas de press\u00e3o ac\u00fastica. Um aumento da amplitude do sinal, ir\u00e1 resultar\n\nnuma deforma\u00e7\u00e3o maior e, consequentemente, numa sa\u00edda de som maior. O efeito in-\n\nverso tamb\u00e9m \u00e9 v\u00e1lido. Quando a onda sonora atinge as faces do material cer\u00e2mico, f\u00e1-lo\n\nvibrar deformando-o levemente, gerando uma tens\u00e3o em resposta a essa deforma\u00e7\u00e3o pro-\n\nporcional \u00e0s varia\u00e7\u00f5es da press\u00e3o sonora. Os materiais de transdu\u00e7\u00e3o mais usados em\n\ntransdutores piezoel\u00e9ctricos s\u00e3o o Titanato de b\u00e1rio e o Titanato Zirconato de Chumbo,\n\nmuitas vezes referidos como cer\u00e2micas piezoel\u00e9ctricas. A sua popularidade \u00e9 devida a um\n\ncusto relativamente baixo, somado \u00e0 capacidade de ser fabricado numa grande variedade\n\nde formas e tamanhos.\n\n29\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nNo circuito equivalente de um cristal piezoel\u00e9ctrico, L, C e R dependem das proprie-\n\ndades do cristal e C1 \u00e9 a capacit\u00e2ncia entre os el\u00e9ctrodos (ver figura 3.3). Os altifalantes\n\npiezoel\u00e9ctricos t\u00eam um circuito equivalente electr\u00f3nico complexo, mas pode ser visto\n\ncomo uma carga capacitiva com valores compreendidos entre 10 nF e 1 \u00b5F.\n\nR\n\nC1\n\nC\n\nL\n\nFigura 3.3: Circuito equivalente de um altifalante piezoel\u00e9ctrico\n\nComo os altifalantes piezoel\u00e9tricos actuam, principalmente, como uma carga capaci-\n\ntiva, a imped\u00e2ncia complexa ir\u00e1 diminuir com o aumento da frequ\u00eancia (ver figura 3.4).\n\nZ\n\nf\n\n_\n\nZC1 = ?jXC1\n\nXC1 =\n1\n?C1\n\n.\n\nFigura 3.4: Imped\u00e2ncia de um altifalante piezoel\u00e9ctrico em fun\u00e7\u00e3o da frequ\u00eancia\n\nOs transdutores tamb\u00e9m s\u00e3o seleccionados com base na frequ\u00eancia de opera\u00e7\u00e3o, sen-\n\nsibilidade e direccionalidade da resposta.\n\nOs transdutores emissores produzem uma maior intensidade sonora quando operam\n\nna vizinhan\u00e7a da frequ\u00eancia de resson\u00e2ncia, por isso, o sistema deve ser projectado para\n\noperar na sua frequ\u00eancia de resson\u00e2ncia. Do mesmo modo, quando utilizados como re-\n\nceptores, os transdutores ac\u00fasticos ir\u00e3o produzir um sinal el\u00e9ctrico maior para uma dada\n\npress\u00e3o sonora. No entanto, o sistema deve operar abaixo da sua frequ\u00eancia de resson\u00e2n-\n\ncia de forma a tirar partido de uma resposta constante e, aproximadamente, plana do\n\ntransdutor.\n\n30\n\n\n\n3.2. TRANSDUTORES ELECTROAC\u00daSTICOS\n\nA sensibilidade e a direccionalidade medem, em termos pr\u00e1ticos, a receptividade e a\n\nresposta a um determinado impulso de diferentes direc\u00e7\u00f5es, respectivamente, tais como:\n\n\u2022 Omnidireccional - Sens\u00edvel a sons de todas as direc\u00e7\u00f5es (ver figura 3.5a).\n\n\u2022 Cardioide - Mais sens\u00edvel a sons que chegam na direc\u00e7\u00e3o do seu eixo principal, re-\n\njeitando parcialmente sons laterais e, totalmente, sons vindos da direc\u00e7\u00e3o posterior\n\n(ver figura 3.5b).\n\n\u2022 Direccional - Sens\u00edvel exclusivamente a sons advindos da direc\u00e7\u00e3o do seu eixo prin-\n\ncipal, sendo insens\u00edvel a sons de outras direc\u00e7\u00f5es (ver figura 3.5c).\n\n\u2022 Supercardioide - Rejei\u00e7\u00e3o total dos sons que chegam da direc\u00e7\u00e3o posterior ao seu\n\neixo principal. Em compara\u00e7\u00e3o com o cardi\u00f3ide, a sua rejei\u00e7\u00e3o a sons laterais tam-\n\nb\u00e9m \u00e9 maior (ver figura 3.5d).\n\n\u2022 Bidireccional - Varia\u00e7\u00e3o do tipo direccional (ver figura 3.5e).\n\n(a) Omnidireccional (b) Cardioide (c) Direccional\n\n \n\n(d) Supercardioide (e) Bidireccional\n\nFigura 3.5: Diagramas polares de direccionalidade da resposta dos transdutores\n\n31\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\n3.3 Design e Simula\u00e7\u00f5es do Sistema\n\n3.3.1 Circuito Transmissor\n\nNa figura 3.6, visualiza-se o diagrama dos principais blocos do circuito de transmiss\u00e3o,\n\nque \u00e9, essencialmente, constitu\u00eddo por um gerador de sinal, um microcontrolador e um\n\namplificador de pot\u00eancia. O microprocessador \u00e9 respons\u00e1vel por enviar os dados quer\n\nsejam provenientes da aquisi\u00e7\u00e3o de sinal de um sensor (ou por liga\u00e7\u00e3o r\u00e1dio via Bluetooth\nLow Energy (BLE)) e programar o gerador de sinais com o intuito de gerar um sinal. Pos-\nteriormente, ocorre a modula\u00e7\u00e3o, que introduz o sinal digital na portadora, e finalmente\n\namplificado de forma a activar o transdutor ac\u00fastico.\n\nMCU\n\nTransdutor TX\n\nGerador da \n\nPortadora\n\n4 bits de \n\ncontrolo\n\nModulador\n\nA\nm\n\np\n. \n\nP\no\n\nt\u00ea\nn\n\nc\nia\n\nSensor\n\nportadora\n\ndados dados \n\nmodulados\n\ndados modulados \n\namplificados\n\nBLE\n\nFigura 3.6: Diagrama de blocos do circuito de transmiss\u00e3o\n\nGerador da Portadora\nCom o objectivo de gerar um sinal anal\u00f3gico \u00e0 sa\u00edda programado atrav\u00e9s do microcontro-\n\nlador, optou-se por uma arquitectura de s\u00edntese directa digital (do ingl\u00eas Direct Digital\n\nSynthesis, frequentemente abreviado para DDS). O custo competitivo, o alto desempe-\n\nnho, a f\u00e1cil implementa\u00e7\u00e3o e programa\u00e7\u00e3o e capacidade de gerar v\u00e1rios tipos de ondas\n\n(sinusoidais, quadradas e tri\u00e2ngulares) fazem desta tecnologia uma boa alternativa para\n\nv\u00e1rias aplica\u00e7\u00f5es aos circuitos sintetizadores de frequ\u00eancia baseados em PLL (do ingl\u00eas,\n\nPhase-Lock-Loop) ou pontes de Wien, por exemplo.\n\nDe uma forma simples, um DDS pode ser implementado a partir de um sinal de re-\n\nl\u00f3gio de refer\u00eancia preciso, um contador de endere\u00e7os, uma mem\u00f3ria program\u00e1vel s\u00f3 de\n\nleitura (do ingl\u00eas, Programmable Read-Only Memory, frequentemente abreviado para\n\n(PROM)) e um conversor D/A (ver figura 3.7).\n\n32\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nMCU\n\nTransdutor Tx\n\nCircuito de Transmiss\u00e3o\n\nGerador de \n\nSinais\n\nn bits\n\nModulador\n\nA\nm\n\np\n. \n\nP\no\n\nt\u00ea\nn\n\nc\nia\n\nContador de \n\nEndere\u00e7os\n\nTabela de \n\nValores\nRegistos Conversor D/A\n\nfc fOUTn bits n bits n bits\n\nClock\n\nFigura 3.7: Diagrama de blocos de um DDS\n\nA informa\u00e7\u00e3o da amplitude digital que corresponde a um ciclo completo da onda \u00e9\n\narmazenado na PROM, que funciona como uma tabela de valores. O contador de endere-\n\n\u00e7os acede a cada um dos registos da PROM e os seus conte\u00fados (amplitudes de onda) s\u00e3o\n\napresentados pelo conversor D/A de alta velocidade, gerando uma determinada forma de\n\nonda. A frequ\u00eancia de sa\u00edda desta implementa\u00e7\u00e3o \u00e9 dependente da frequ\u00eancia do rel\u00f3gio\n\nde refer\u00eancia e do step size da onda que \u00e9 programada na PROM.\n\nA frequ\u00eancia do sinal obtido na sa\u00edda, fOUT , obedece \u00e0 seguinte rela\u00e7\u00e3o:\n\nfOUT =\nM\u00d7fc\n\n2N\n[Hz] , (3.6)\n\nonde M \u00e9 o valor da palavra de frequ\u00eancia (do ingl\u00eas, Tunning Word), fc a frequ\u00eancia do\n\nrel\u00f3gio de refer\u00eancia, em Hz, e N a largura do acumulador de fase, em bits.\n\nApresenta algumas vantagens, tais como:\n\n\u2022 Micro resolu\u00e7\u00e3o da frequ\u00eancia de sa\u00edda e capacidade de ajuste da fase, controlados\n\ndigitalmente;\n\n\u2022 Extremamente r\u00e1pido na sintoniza\u00e7\u00e3o da frequ\u00eancia (ou fase) de sa\u00edda;\n\n\u2022 Boa fiabilidade, ru\u00eddo de jitter e desempenho AC da sa\u00edda anal\u00f3gica;\n\n\u2022 Inerentemente est\u00e1vel;\n\n\u2022 A arquitectura digital DDS elimina a necessidade de um sistema de sintoniza\u00e7\u00e3o e\n\najuste manual;\n\n\u2022 A interface do controlo digital da arquitectura DDS facilita um ambiente onde os\n\nsistemas podem ser controlados remotamente, e optimizados, sob o controlo de um\n\nmicroprocessador;\n\n\u2022 Flexibilidade em modificar a forma de onda;\n\n\u2022 Maior imunidade \u00e0s varia\u00e7\u00f5es do ambiente que poderiam afectar circuitos de natu-\n\nreza anal\u00f3gica (temperatura, tens\u00e3o de alimenta\u00e7\u00e3o, entre outras).\n\n33\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nO m\u00f3dulo AD9850 (ver figura 3.9) \u00e9 um dispositivo DDS com um n\u00facleo de alta\n\nvelocidade que oferece um ajuste da frequ\u00eancia a 32 bits, o que resulta numa resolu\u00e7\u00e3o\n\nde sa\u00edda de 0.0291 Hz para uma entrada de rel\u00f3gio de refer\u00eancia de 125 MHz.\n\nA arquitectura do circuito permite gerar uma frequ\u00eancia de at\u00e9 metade da frequ\u00eancia\n\ndo rel\u00f3gio de refer\u00eancia, bem como ser alterada digitalmente (de forma ass\u00edncrona). O\n\ndispositivo tamb\u00e9m inclui 5 bits de modula\u00e7\u00e3o da fase com controlo digital, o que permite\n\no deslocamento da fase da sa\u00edda em incrementos de 180\u00b0, 90\u00b0, 45\u00b0, 22.5\u00b0, 11.5\u00b0 e qualquer\n\ncombina\u00e7\u00e3o dos mesmos.\n\nO controlo e ajuste da frequ\u00eancia e modula\u00e7\u00e3o da fase podem ser programados por\n\nvia paralela ou s\u00e9rie. Neste projecto, o carregamento dos dados foi realizado por via s\u00e9rie,\n\natrav\u00e9s de 4 pinos: reset, actualizar frequ\u00eancia/reset registo de dados, palavra de frequ\u00ean-\ncia e dados via s\u00e9rie (ver figura 3.8). A pot\u00eancia de consumo ronda os 380 mW, quase sem\n\ndistor\u00e7\u00e3o do sinal de sa\u00edda.\n\n+ VS GND\n\nReset\n\nAct ualizar f requ\u00eancia/\n\nReset do regist o de dados\n\nPalavra de \n\nfrequ\u00eancia\n\nfOUT\n\nDados via s\u00e9rie\n\nCLOCK  DE  \n\nREFER\u00caNCIA\n\n125 MHz\n\nFigura 3.8: Mapa simplificado dos pinos uti-\nlizados existentes no m\u00f3dulo DDS AD9850\n\nFigura 3.9: M\u00f3dulo DDS AD9850\n\nModulador\nEm 1924, Nyquist determinou a capacidade m\u00e1xima de um canal desconsiderando a\n\nexist\u00eancia do ru\u00eddo,\n\nC = 2Blog2 (N) [bps] , (3.7)\n\nonde C \u00e9 a capacidade m\u00e1xima do canal, B a largura de banda, em Hz, e N o n\u00famero de\n\nn\u00edveis do sinal.\n\nA base do teorema diz que um canal com largura de banda B pode enviar no m\u00e1ximo\n\n2B valores de tens\u00e3o diferentes por segundo, ou seja, no m\u00e1ximo pode-se alterar a onda\n\nportadora a cada meio ciclo a fim de transmitir um sinal bin\u00e1rio. \u00c9 importante referir que\n\no teorema de Nyquist n\u00e3o leva em considera\u00e7\u00e3o a exist\u00eancia de ru\u00eddo. Assim, \u00e9 poss\u00edvel,\n\nteoricamente, aumentar indefinidamente a taxa de transmiss\u00e3o do canal, simplesmente\n\n34\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\naumentando o n\u00famero de n\u00edveis da modula\u00e7\u00e3o. No entanto, visto que quanto maior o\n\nn\u00famero de n\u00edveis, mais dif\u00edcil ser\u00e1 a correcta reconstru\u00e7\u00e3o do sinal na exist\u00eancia de ru\u00eddo,\n\npois os n\u00edveis ficam mais pr\u00f3ximos entre si. Uma solu\u00e7\u00e3o para esse problema \u00e9 aumentar\n\na energia do sinal.\n\nO teorema de Shannon, expresso pela equa\u00e7\u00e3o 3.8, j\u00e1 considera a exist\u00eancia de ru\u00eddo,\n\nimpondo limites para a m\u00e1xima taxa de transmiss\u00e3o do canal e para a modula\u00e7\u00e3o multi-\n\nn\u00edvel que pode ser utilizada.\n\nC = Blog2\n\n(\n1 +\n\nS\nN\n\n)\n[bps] , (3.8)\n\nonde S \u00e9 a pot\u00eancia do sinal enviado atrav\u00e9s de uma linha e N a pot\u00eancia do ru\u00eddo.\n\nAs modula\u00e7\u00f5es em amplitude e em frequ\u00eancia do tipo ASK (do ingl\u00eas, Amplitude-\n\nShift Keying) [43, 60] e FSK [39, 40, 44, 57] permitem que a descodifica\u00e7\u00e3o n\u00e3o necessite de\n\nacompanhamento de fase da portadora. A principal vantagem destes tipos de modula\u00e7\u00e3o\n\n\u00e9 a sua simplicidade, n\u00e3o sendo necess\u00e1rios processadores com elevados recursos, o que\n\nleva a um maior consumo de energia. Devido \u00e0 baixa complexidade destes m\u00e9todos leva\n\no sistema a estar sujeito a interfer\u00eancias causadas pelo efeito de Doppler e propaga\u00e7\u00e3o\n\nmuti-percurso.\n\nPara aumentar a efici\u00eancia espectral e o alcance da comunica\u00e7\u00e3o, existem alternativas,\n\nbaseadas em t\u00e9cnicas de modula\u00e7\u00e3o de fase coerente, como PSK [62] e QAM (do ingl\u00eas,\n\nQuadrature Amplitude Modulation) [47]. No entanto, para fazer face \u00e0 propaga\u00e7\u00e3o no\n\ncanal ac\u00fastico sem perda significativa de efici\u00eancia espectral, os sinais de entrada devem\n\nser equalizados de acordo com a resposta do canal e depois descodificados. Ao utilizar\n\nestas t\u00e9cnicas, a complexidade do modem e o consumo de energia aumentam.\n\nA escolha do tipo de codifica\u00e7\u00e3o para a modula\u00e7\u00e3o do sinal pretendido requer um com-\n\npromisso entre a largura de banda da transmiss\u00e3o e a probabilidade de erro e respectiva\n\nsimplicidade de implementa\u00e7\u00e3o, tanto na modula\u00e7\u00e3o como na desmodula\u00e7\u00e3o. Visto que\n\num dos requisitos \u00e9 que o sistema seja de baixa pot\u00eancia, e tendo em conta a natureza da\n\nfrequ\u00eancia da portadora, situada na banda ac\u00fastica, entre os 20 Hz e os 20 kHz, onde n\u00e3o\n\n\u00e9 poss\u00edvel uma elevada largura de banda, ao contr\u00e1rio do que acontece com as ondas RF,\n\nde altas-frequ\u00eancias, pretende-se um esquema de codifica\u00e7\u00e3o que minimize a utiliza\u00e7\u00e3o\n\nda largura de banda de cada byte, mantendo a simplicidade.\n\nOs circuitos de modula\u00e7\u00e3o e desmodula\u00e7\u00e3o digital em amplitude s\u00e3o simples e por\n\nisso s\u00e3o usados em sistemas de custo relativamente baixo. Exigem metade da largura\n\nde banda ac\u00fastica relativamente a FSK (utiliza apenas um canal, em vez de dois) para\n\ntransmitir uma determinada quantidade de dados, satisfazendo as pretens\u00f5es do projecto,\n\napesar de ser muito sens\u00edvel ao ru\u00eddo.\n\n35\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nA modula\u00e7\u00e3o ASK, representada na figura 3.10, consiste na varia\u00e7\u00e3o da amplitude da\n\nonda sinusoidal portadora mediante o estado l\u00f3gico do sinal modulador.\n\nMCU\n\nTransdutor Tx\n\nCircuito de Transmiss\u00e3o\n\nGerador de \n\nSinais\n\nn bits\n\nModulador\n\nA\nm\n\np\n. \n\nP\no\n\nt\u00ea\nn\n\nc\nia\n\nContador de \n\nEndere\u00e7os\n\nTabela de \n\nPesquisa\nRegistos Conversor D/A\n\nfc fOUTn bits n bits n bits\n\nClock\n\nSinal modulador \n\nm(t)\n\nOnda modulada ASK \n\nSask (t)\n\nOnda portadora\n\nC(t)\n\nFigura 3.10: Diagrama de modula\u00e7\u00e3o ASK\n\nA onda portadora C(t), gerada pelo gerador de sinais, pode ser expressa por\n\nC(t) = Ac cos(2?fOUT t) . (3.9)\n\nA onda modulada Sask(t), dada pela equa\u00e7\u00e3o 3.10, \u00e9 obtida atrav\u00e9s da multiplica\u00e7\u00e3o\n\nentre o sinal modulador m(t) e a onda portadora c(t).\n\nSask(t) = m(t)C(t) = m(t)Ac cos(2?fOUT t) . (3.10)\n\nPara implementar este tipo de modula\u00e7\u00e3o, optou-se pelo circuito apresentado na fi-\n\ngura 3.11, constitu\u00eddo por um trans\u00edstor bipolar NPN 2N2222.\n\nMCU\n\nTransdutor Tx\n\nCircuito de Transmiss\u00e3o\n\nGerador de \n\nSinais\n\nn bits\n\nModulador\n\nA\nm\n\np\n. \n\nP\no\n\nt\u00ea\nn\n\nc\nia\n\nSinal modulador \n\nm(t)\n\nOnda modulada ASK \n\nSask (t)\n\nOnda portadora\n\nC(t)\n\nSinal modulador \n\nm(t)\n\nOnda portadora\n\nC(t)\n\nOnda modulada ASK \n\nSask (t)\n\nR3\n47 k\n\nR4\n1 M\n\nR1\n10 k\n\nR2\n10 k\n\nQ1\n2N2222\n\ninterruptor\n\nFigura 3.11: Circuito para implementa\u00e7\u00e3o de modula\u00e7\u00e3o ASK\n\nQuando o sinal l\u00f3gico m(t) = 0, enviado pelo microcontrolador, a tens\u00e3o aplicada \u00e0\n\nbase do transistor \u00e9 nula e, portanto, o interruptor encontra-se aberto (Q1 est\u00e1 OFF) e o\nsinal modulado, Sask(t), repete o sinal portador, C(t).\n\nQuando m(t) = 1, a tens\u00e3o aplicada na base \u00e9 de 5 V, Q1 est\u00e1 ON, o trans\u00edstor comporta-\n\nse como um interruptor fechado, resultando numa aus\u00eancia de sinusoide no sinal modu-\n\nlado, Sask(t).\n\n36\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nAmplificador de Pot\u00eancia\nPara desempenhar a fun\u00e7\u00e3o do amplificador de pot\u00eancia, simulado em LTspice (ver figura\n\n3.12), foi utilizado, numa primeira escolha, o integrado LM386 [63]. O ganho \u00e9 fixado\n\ninternamente a 20 (V/V) para manter o m\u00ednimo de componentes externos, no entanto\n\nexistem dois pinos (1 e 8) para controlo do ganho (ver figura 3.13). Para um ganho m\u00ed-\n\nnimo, a largura de banda \u00e9 325 kHz, aproximadamente (ver figura 3.14). O transdutor\n\nconsiderado foi um altifalante de transdu\u00e7\u00e3o magn\u00e9tica de 0.5 W com 8 ? de imped\u00e2ncia.\n\nFigura 3.12: Circuito em LTspice do amplificador de pot\u00eancia LM386 com ganho 20\n\nQuando alimentado a 5 V, este amplificador entrega, tipicamente, 250 mW \u00e0 carga de\n\n8 ?, considerando 1% de distor\u00e7\u00e3o (do ingl\u00eas Total Harmonic Distortion, frequentemente\n\nbreviado para THD) (ver figura 3.15) com um rendimento de 60 %, aproximadamente\n\n(ver figura 3.16).\n\n3.3.1.1 Simula\u00e7\u00e3o da Cadeia Transmissora\n\nPara verificar a funcionalidade da cadeira transmissora e servir como base de compara\u00e7\u00e3o\n\ndos resultados obtidos em ambiente terrestre, foram realizadas simula\u00e7\u00f5es LTspice de\n\ntodo o circuito transmissor (ver figura 3.17).\n\nAlgumas considera\u00e7\u00f5es importantes a ter em conta na interpreta\u00e7\u00e3o dos resultados:\n\n\u2022 O ganho do amplificador foi ajustado para o maior valor poss\u00edvel, introduzindo um\n\ncondensador de 10 nF entre o pino 1 e 8;\n\n\u2022 \u00c9 indicado o uso de um condensador de 100 nF (ByPass) entre o pino 7 e a massa\npara evitar instabilidades no circuito, quando o ganho \u00e9 superior a 20 (V/V);\n\n\u2022 A resist\u00eancia R6 permite regular o volume;\n\n\u2022 A resist\u00eancia R5 com o valor de 8 ? simboliza a imped\u00e2ncia do altifalante a utilizar\n\nno teste em laborat\u00f3rio com o modem a operar atrav\u00e9s do ar;\n\n37\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nFigura 3.13: Simula\u00e7\u00e3o em LTspice do ganho do amplificador de pot\u00eancia LM386: sinal\nde entrada com 1 mV (verde) e sinal \u00e0 sa\u00edda do amplificador com ganho m\u00e1ximo (azul) e\nganho m\u00ednimo (vermelho)\n\nFigura 3.14: Simula\u00e7\u00e3o em LTspice da largura de banda do amplificador de pot\u00eancia\nLM386\n\n38\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nFigura 3.15: Simula\u00e7\u00e3o em LTspice da pot\u00eancia entregue a uma carga de 8 ? por parte do\namplificador de pot\u00eancia LM386 considerando 1% de THD\n\nFigura 3.16: Simula\u00e7\u00e3o em LTspice do rendimento do amplificador de pot\u00eancia LM386\n\n39\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nFigura 3.17: Simula\u00e7\u00e3o em LTspice da cadeia transmissora\n\n\u2022 De forma a maximizar a transfer\u00eancia de energia entre o amplificador e o altifalante,\n\na imped\u00e2ncia de sa\u00edda do amplificador de pot\u00eancia deve corresponder \u00e0 imped\u00e2ncia\n\nde entrada do transdutor. Sendo o transdutor a utilizar predominantemente indu-\n\ntivo, foi utilizado um condensador de 250 \u00b5F de forma a fazer parecer o transdutor\n\nmais resistivo perto da sua frequ\u00eancia de opera\u00e7\u00e3o;\n\n\u2022 Para modelar o DDS AD9850 foi usada uma fonte de tens\u00e3o com a fun\u00e7\u00e3o de gerar\n\numa onda sinusoidal com 1 V de amplitude e 2 kHz de frequ\u00eancia. Por defeito,\n\na tens\u00e3o de sa\u00edda do DDS AD9850 \u00e9 de 1 V. Em rela\u00e7\u00e3o ao sinal proveniente do\n\nmicrocontrolador, foi tamb\u00e9m gerado com recurso a uma fonte de tens\u00e3o, mas com\n\na fun\u00e7\u00e3o de gerar pulsos com uma amplitude de 5 V, com tempos de subida e descida\n\nde 0.01 ps e um per\u00edodo de onda de 5 ms com o sinal a 5 V durante metade desse\n\ntempo, ou seja, 2.5 ms;\n\nFigura 3.18: Simula\u00e7\u00e3o em LTspice da cadeia transmissora: sinal digital enviado (sinal\nazul), sinal modulado anal\u00f3gico contendo a informa\u00e7\u00e3o antes de ser amplificado (sinal\nvermelho) e o sinal modulado ap\u00f3s a passagem pelo amplificador recebido pelo altifalante\n(sinal verde)\n\n40\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nNa figura 3.18 est\u00e3o apresentados tr\u00eas sinais: os dados digitais enviados (azul), o\n\nsinal modulado anal\u00f3gico contendo a informa\u00e7\u00e3o antes de ser amplificado pelo integrado\n\nLM386 (vermelho) e o sinal modulado ap\u00f3s a passagem pelo amplificador recebido pelo\n\naltifalante (verde). Como se verifica, existe um aumento da amplitude do sinal depois da\n\npassagem pelo amplificador, comprovado pela figura 3.13. Enquanto, a onda a vermelho\n\napresenta uma amplitude de 5 mV, a onda verde apresenta uma amplitude aproximada\n\nde 800 mV, contabilizando um ganho de 160 (V/V) com uma pot\u00eancia na carga de 20 mW\n\nsem distor\u00e7\u00e3o.\n\n3.3.2 Circuito Receptor\n\nNa figura 3.19, visualiza-se o diagrama dos principais blocos do circuito de recep\u00e7\u00e3o,\n\nessencialmente constitu\u00eddo por um amplificador de baixo ru\u00eddo (do ingl\u00eas Low Noise\n\nAmplifier, frequentemente abreviado para LNA) com ganho program\u00e1vel, um filtro activo\n\ne um circuito de desmodula\u00e7\u00e3o. O design necessita de ser facilmente modific\u00e1vel para\n\nacomodar diferentes transdutores com diferentes bandas e frequ\u00eancias de resson\u00e2ncia. O\n\nmicrocontrolador \u00e9 respons\u00e1vel por interpretar os dados recebidos pelo transdutor ap\u00f3s\n\numa amplifica\u00e7\u00e3o e filtragem e posterior desmodula\u00e7\u00e3o do sinal anal\u00f3gico em digital. O\n\nn\u00edvel de amplifica\u00e7\u00e3o do sinal \u00e9 controlado pelo microcontrolador atrav\u00e9s de seis bits de\n\nprograma\u00e7\u00e3o e \u00e9 tanto maior quanto menor for a pot\u00eancia do sinal recebido. Os dados\n\nrecebidos pelo microcontrolador podem ser enviados para qualquer dispositivo m\u00f3vel,\n\ncaso seja necess\u00e1rio, por via r\u00e1dio.\n\nDesmodulador\n\nTransdutor RX\n\nMCU\n\nFiltro\n\nL\nN\n\nA\n\ndados\n\ndados recebidos \n\namplificados dados recebidos\n\nBLE\n\n6 bits de \n\ncontrolo\n\ndados recebidos \n\nfiltrados\n\nFigura 3.19: Diagrama de blocos do circuito de recep\u00e7\u00e3o\n\n3.3.2.1 LNA Program\u00e1vel\n\nO amplificador dever\u00e1 ter um n\u00edvel de ganho suficiente para detectar os sinais fracos\n\nprovenientes do transdutor de forma a tornar poss\u00edvel a desmodula\u00e7\u00e3o do sinal fornecido\n\nao microprocessador. Atrav\u00e9s de um sistema de controlo autom\u00e1tico de ganho, a cadeia\n\n41\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nde recep\u00e7\u00e3o \u00e9 capaz de se adaptar a varia\u00e7\u00f5es do n\u00edvel do sinal recebido. Dependente\n\nda dist\u00e2ncia que o receptor possa estar do transmissor, \u00e9 necess\u00e1rio programar e variar\n\no ganho de amplifica\u00e7\u00e3o. Para isso, \u00e9 medido o n\u00edvel m\u00e9dio do sinal recebido e enviada\n\nessa informa\u00e7\u00e3o para o microcontrolador para que este decida se \u00e9 necess\u00e1rio aumen-\n\ntar ou diminuir o ganho, digitalmente. No entanto, \u00e9 prefer\u00edvel incrementar a pot\u00eancia\n\nac\u00fastica do sinal transmitido em detrimento de aumentar o ganho na cadeia de recep\u00e7\u00e3o,\n\nminimizando a degrada\u00e7\u00e3o da rela\u00e7\u00e3o sinal-ru\u00eddo.\n\nA selec\u00e7\u00e3o do LNA tem em conta:\n\n\u2022 A sensibilidade que indica o n\u00edvel m\u00ednimo que \u00e9 detect\u00e1vel pelo amplificador;\n\n\u2022 Factor de ru\u00eddo que mostra a qualidade do amplificador quanto ao ru\u00eddo.\n\nO LTC6910-1 [64], simulado em LTspice (ver figura 3.20), \u00e9 um amplificador de ganho\n\nprogram\u00e1vel digitalmente, de baixo ru\u00eddo e elevada sensibilidade, de f\u00e1cil utiliza\u00e7\u00e3o e\n\nocupa pouco espa\u00e7o em placa de circuito impresso (do ingl\u00eas Printed Circuit Board,\n\nfrequentemente abreviado para PCB). O ganho inversor \u00e9 ajustado atrav\u00e9s de uma entrada\n\ndigital de 3 bits para seleccionar ganhos de 1, 2, 5, 10, 20, 50 e 100 (V/V) com uma sa\u00edda\n\nrail-to-rail.\n\nFigura 3.20: Circuito em LTspice do LNA LTC6910-1\n\nPara um ganho de 100 e um sinal de entrada de 100 \u00b5V, o amplificador apresenta\n\numa largura de banda de 100 kHz, aproximadamente (ver figura 3.21), e uma baixa\n\ndistor\u00e7\u00e3o (ver figura 3.22), quando alimentado a 5 V. Colocando dois dispositivos em\n\ns\u00e9rie, consegue-se um ganho m\u00e1ximo elevado (ver figura 3.23).\n\n42\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nFigura 3.21: Simula\u00e7\u00e3o em LTspice da resposta em frequ\u00eancia do LNA LTC6910-1 para\num ganho de 100 com Vin=100 \u00b5V, alimentado a 5 V\n\nFigura 3.22: Simula\u00e7\u00e3o em LTspice da distor\u00e7\u00e3o do LNA LTC6910-1 para um ganho de\n100 com Vin=100 \u00b5V, alimentado a 5 V\n\n43\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nFigura 3.23: Simula\u00e7\u00e3o em LTspice do ganho do LNA LTC6910-1: sinal de entrada com\n100 \u00b5V de amplitude (azul) e sinal \u00e0 sa\u00edda do amplificador com ganho 1000 (vermelho),\nganho 2000 (verde) e ganho 5000 (roxo)\n\n44\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\n3.3.2.2 Filtro\n\nNo projecto do filtro pretende-se um circuito linear, do tipo passa banda, onde qualquer\n\nsinal de interfer\u00eancia ou ru\u00eddo fora da banda de comunica\u00e7\u00e3o \u00e9 atenuado.\n\nDe um modo geral, para um sistema passa banda, a fun\u00e7\u00e3o de transfer\u00eancia do filtro\n\nno dom\u00ednio s pode ser escrita como a raz\u00e3o de dois polin\u00f3mios,\n\nVo(s)\nVi(s)\n\n=\nA02??0s\n\ns2 + 2??0s + ?\n2\n0\n\n=\nA0\n\n?0\nQ s\n\ns2 + ?0Q s + ?\n2\n0\n\n=\nA0Bs\n\ns2 + Bs + ?20\n, (3.11)\n\nonde A0 \u00e9 o ganho na banda central e ?0 a frequ\u00eancia natural, ? o factor de amorteci-\n\nmento, Q o factor de qualidade e B a largura de banda.\n\nA resposta no dom\u00ednio do tempo de um filtro passa-banda gen\u00e9rico \u00e9 dada pela figura\n\n3.24 (com A0=1, ?0=1 kHz ' 6283.1 rad/s e v\u00e1rios valores de Q). Mais importante que\no comportamento do filtro no dom\u00ednio do tempo \u00e9 o seu comportamento no dom\u00ednio\n\nda frequ\u00eancia. A resposta em frequ\u00eancia do sistema pode ser visualizada na figura 3.25.\n\nEntre a frequ\u00eancia de corte inferior e a frequ\u00eancia de corte superior, est\u00e1 a frequ\u00eancia\n\nde resson\u00e2ncia, na qual o ganho do filtro \u00e9 m\u00e1ximo. A largura de banda de um filtro\n\n\u00e9 a diferen\u00e7a entre essas duas frequ\u00eancias, medidas onde ocorre uma atenua\u00e7\u00e3o de -3\n\ndB em rela\u00e7\u00e3o ao ganho m\u00e1ximo. Um filtro passa banda pode ser caracterizado pelo\n\nseu factor de qualidade Q. Quanto maior, menor ser\u00e1 a largura de banda do filtro. Um\n\nfiltro ideal possui uma largura de banda totalmente plana. Atenua completamente todas\n\nas frequ\u00eancias fora dessa banda e a transi\u00e7\u00e3o para fora da banda seria instant\u00e2nea na\n\nfrequ\u00eancia. Na pr\u00e1tica, nenhum filtro \u00e9 ideal e n\u00e3o atenua todas as frequ\u00eancias fora da\n\nfaixa desejada.\n\nEm rela\u00e7\u00e3o \u00e0 topologia do circuito o filtro pode ser classificado como passivo, im-\n\nplementado recorrendo apenas a elementos reactivos, condensadores e bobines, como\n\no filtro el\u00edptico ou Cauer, ou activo, baseado em amplificadores operacionais, como os\n\nfiltros Sallen-Key, de realimenta\u00e7\u00e3o m\u00faltipla, vari\u00e1veis de estado e biquadr\u00e1ticos. No caso\n\ndas ondas RF, de alta-frequ\u00eancia, n\u00e3o \u00e9 poss\u00edvel implementar filtros com recurso a am-\n\nplificadores operacionais, uma vez que necessitam de uma elevada largura de banda, na\n\nordem das dezenas de GHz, inexistentes no mercado, sendo implementados por meio de\n\ncomponentes passivos. Todavia, as ondas ac\u00fasticas, permitem implementar filtros acti-\n\nvos, recorrendo a amplificadores operacionais com uma largura de banda, na ordem das\n\ndezenas de kHz. Filtros com um \u00fanico amplificador operacional (AmpOp) normalmente\n\nn\u00e3o est\u00e3o dispon\u00edveis em integrados mas podem ser facilmente implementados de forma\n\ndiscreta.\n\n45\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\n#10-3\n0 1 2 3 4 5 6 7 8 9\n\n-0.2\n\n0\n\n0.2\n\n0.4\n\n0.6\n\n0.8\n\n1\n\n1.2\n\nQ = 0.1\nQ = 0.3\nQ = 0.5\nQ = 0.8\nQ = 1\n\nStep Response\n\nTime (seconds)\n\nA\nm\n\np\nlit\n\nu\nd\ne\n\nFigura 3.24: Resposta de um filtro passa-banda gen\u00e9rico ao degrau unit\u00e1rio para diferen-\ntes valores de Q\n\nM\na\n\ng\nn\n\nitu\nd\n\ne\n (\n\nd\nB\n\n)\n\n-80\n\n-60\n\n-40\n\n-20\n\n0\n\n20\n\n101 102 103 104 105 106\n\nP\nh\n\na\nse\n\n (\nd\n\ne\ng\n\n)\n\n-90\n\n-45\n\n0\n\n45\n\n90\n\nQ = 0.1\nQ = 0.3\nQ = 0.5\nQ = 0.8\nQ = 1\n\nBode Diagram\n\nFrequency  (rad/s)\n\nFigura 3.25: Resposta em frequ\u00eancia de um filtro passa-banda gen\u00e9rico para diferentes\nvalores de Q\n\n46\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nA configura\u00e7\u00e3o do filtro escolhida foi o de fonte de tens\u00e3o controlada por tens\u00e3o ou\n\nSallen-Key (ver figura 3.26). De notar que no desenho da topologia Sallen-Key, \u00e0 medida\n\nque as imped\u00e2ncias s\u00e3o trocadas por resist\u00eancias ou condensadores a fun\u00e7\u00e3o do filtro\n\nmuda, tornando-o totalmente reconfigur\u00e1vel (ver figura 3.27). Considerando a implemen-\n\nta\u00e7\u00e3o gen\u00e9rica do sistema, pode desejar-se alterar os transdutores utilizados, optando\n\npor uns com uma resposta em frequ\u00eancia mais ou menos selectiva. Altera\u00e7\u00f5es no ganho\n\ndas fun\u00e7\u00f5es de transfer\u00eancia podem ser realizadas com um divisor de tens\u00e3o na entrada\n\ndo filtro (desde que mantenha a imped\u00e2ncia de entrada inalterada) ou utilizando um\n\ndivisor de tens\u00e3o na sa\u00edda do AmpOp e usando este divisor para realimentar o filtro. No\n\nprimeiro caso obt\u00e9m-se uma redu\u00e7\u00e3o do ganho, no segundo um aumento. Estas t\u00e9cnicas\n\nn\u00e3o alteram os outros par\u00e2metros da fun\u00e7\u00e3o de transfer\u00eancia. Por outro lado, mantendo\n\ninalterado o valor das resist\u00eancias, variando o valor dos condensadores modifica-se a\n\nfrequ\u00eancia central do filtro, ?0. \u00c9 igualmente importante que o AmpOp utilizado na\n\nmontagem possua uma largura de banda B de pelo menos 10 \u00d7?0.\n\nFigura 3.26: Topologia do filtro Sallen-Key\n\nFigura 3.27: Circuito de configura\u00e7\u00e3o Sallen-Key com resist\u00eancias e condensadores\n\n47\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nA fun\u00e7\u00e3o de transfer\u00eancia no dom\u00ednio da frequ\u00eancia \u00e9 dada por\n\nH(s) =\nGs\n\ns2 + ?0Q (3?G)s + ?\n2\n0\n\n=\n\n(\n1 + RARB\n\n)\ns\n\nR1C1\n\ns2 +\n(\n\n1\nR1C1\n\n+ 1R2C1 +\n1\n\nR2C2\n? RARBRFC1\n\n)\ns + R1+RFR1RFR2C1C2\n\n. (3.12)\n\nO ganho G e o factor de qualidade Q, que se deseja ser unit\u00e1rio, s\u00e3o controlados por\n\nRA e RB.\n\nG = 1 +\nRB\nRA\n\n= 1 +\n100 k?\n100 k?\n\n= 2 , 1 ?G &lt;3. (3.13)\n\nQ =\n1\n\n3?G\n=\n\n1\n3?2\n\n= 1 . (3.14)\n\nA frequ\u00eancia central f0, onde \u00e9 m\u00e1xima a magnitude da resposta em frequ\u00eancia, \u00e9\n\ndefinida por R e C.\n\nf0 =\n?0\n2?\n\n=\n1\n\n2?RC\n= 2 kHz . (3.15)\n\nConsiderando C = C1 = C2, R = R1 = RF e R2 = 2R e a equa\u00e7\u00e3o 3.15, tem-se???????????????\nC = C1 = C2 = 8 nF\n\nR = R1 = RF = 10 k?\n\nR2 = 2R = 20 k?\n\n(3.16)\n\ne um ganho em f0 dado por\n\nA0 =\nG\n\n3?G\n= 2 = 6 dB . (3.17)\n\nA resposta em frequ\u00eancia do filtro passa-banda com os valores nominais dos compo-\n\nnentes calculados na sec\u00e7\u00e3o 3.3.2.2 \u00e9 visualizado na figura 3.28 e apresenta um ganho\n\nem f0 de 6 dB, tal como foi calculado pela equa\u00e7\u00e3o 3.17. A largura de banda do sistema \u00e9\n\nimposta pela largura de banda do filtro de 2 kHz, aproximadamente.\n\n48\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nFigura 3.28: Simula\u00e7\u00e3o em LTspice da resposta em frequ\u00eancia do filtro passa-banda\n\n3.3.2.3 Desmodulador\n\nO desmodulador consiste num detector ass\u00edncrono seguido de um comparador, para sim-\n\nplificar a estrutura e reduzir o custo, com o objectivo de reverter o processo da modula\u00e7\u00e3o,\n\ndetectando a onda portadora modulada e extrair dela o sinal de interesse, a informa\u00e7\u00e3o,\n\npara que o microcontrolador seja capaz de interpretar a mensagem enviada pelo trans-\n\nmissor.\n\nO objectivo da detec\u00e7\u00e3o passa por obter uma tens\u00e3o cont\u00ednua que represente o perfil\n\nda envolvente da portadora. Numa configura\u00e7\u00e3o tradicional, h\u00e1 que ter em conta a tens\u00e3o\n\nde condu\u00e7\u00e3o do d\u00edodo. Para contornar o efeito desta tens\u00e3o de condu\u00e7\u00e3o do d\u00edodo, criou-\n\nse um circuito rectificador activo, com base em amplificadores operacionais. A vantagem\n\ndestes circuitos \u00e9 que todas as \"defici\u00eancias\" do d\u00edodo s\u00e3o compensadas pelo amplifica-\n\ndor operacional, sendo poss\u00edvel montar um circuito com caracter\u00edsticas bem pr\u00f3ximas\n\ndo ideal. O rectificador de meia-onda \u00e9 o mais simples poss\u00edvel. No entanto, aproveita\n\napenas um semiciclo da tens\u00e3o fornecida. A forma de se utilizar ambos os semiciclos da\n\nonda \u00e9 utilizar o rectificador de onda completa, simplificando a filtragem seguinte (ver\n\nfigura 3.29). Os d\u00edodos de Schottky presentes na figura 3.29, devido \u00e0 sua tecnologia de\n\nfabrica\u00e7\u00e3o e ao material usado, apresentam caracter\u00edsticas especiais, como a comuta\u00e7\u00e3o\n\nr\u00e1pida e uma menor queda de tens\u00e3o no sentido directo.\n\nAp\u00f3s o rectificador de precis\u00e3o de onda completa, \u00e9 necess\u00e1rio um circuito RC s\u00e9rie\n\nfuncionando como filtro passa-baixo. O objectivo \u00e9 eliminar varia\u00e7\u00f5es bruscas na tens\u00e3o\n\nde sa\u00edda do rectificador sobre o comparador. Quanto maior a constante de tempo RC,\n\nmaior o tempo de queda da tens\u00e3o aos terminais do condensador, ou seja, mais tempo\n\ndemora a descarregar e por conseguinte a sua tens\u00e3o \u00e9 mantida bem pr\u00f3xima do valor\n\nde pico da tens\u00e3o vinda do rectificador. A escolha do valor de RC \u00e9 de fundamental\n\nimport\u00e2ncia para que o condensador n\u00e3o descarregue muito rapidamente nem muito\n\nlentamente de forma a acompanhar a envolvente da onda. Se o valor RC for muito menor\n\n49\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nR3\n10 k\n\nR4\n10 k\n\nR5\n5.1 k\n\nVIN\n\nVOUT\n\nD3\n\nD4\n\nR1\n10 k\n\nR2\n10 k\n\nD1\n\nD2\n\n-\n\n+\n\n-\n\n+\n\nFigura 3.29: Circuito rectificador de precis\u00e3o de onda completa\n\nque o per\u00edodo da portadora (1/fc), o condensador descarregar\u00e1 muito r\u00e1pido quando o\n\nsinal cai abaixo do seu valor de pico, o que far\u00e1 com que a sa\u00edda do detector n\u00e3o siga a\n\nenvolvente dessa onda. Se, por outro lado, o valor de RC for muito maior que a frequ\u00eancia\n\nm\u00e1xima do sinal modulador utilizado, fm, ent\u00e3o o condensador descarregar\u00e1 muito len-\n\ntamente e a sa\u00edda do detector n\u00e3o seguir\u00e1 a envolvente da onda. Assim, para se ter uma\n\nboa desmodula\u00e7\u00e3o do sinal transmitido, deve-se utilizar uma constante de tempo RC que\n\nsatisfa\u00e7a a desigualdade\n\n1\n2?fc\n\n?RC ?\n1\n\n2?fm\n. (3.18)\n\nO comparador Schmitt-trigger, tamb\u00e9m conhecido como circuito bi-est\u00e1vel, difere de\n\num comparador normal pelo facto de a sua fun\u00e7\u00e3o de transfer\u00eancia incluir uma zona\n\nn\u00e3o un\u00edvoca na vizinhan\u00e7a da tens\u00e3o de comuta\u00e7\u00e3o, vulgarmente referida como zona de\n\nhisterese.\n\nA caracter\u00edstica VoVi , presente na figura 3.30, pode ser descrita pela sobreposi\u00e7\u00e3o de\n\noutras duas, sendo a primeira v\u00e1lida se o amplificador operacional estiver inicialmente\n\nna zona de satura\u00e7\u00e3o negativa, e a segunda no caso de o amplificador operacional estar\n\ninicialmente na zona de satura\u00e7\u00e3o positiva. Ou seja, a tens\u00e3o de sa\u00edda do comparador\n\nna zona correspondente a VTL &lt;Vi &lt;VTH \u2013 zona de histerese - depende do seu estado\n\nanterior, tal como \u00e9 descrito pelo sentido das setas. Esta caracter\u00edstica \u00e9 muito utilizada\n\nem sistemas de comunica\u00e7\u00e3o para evitar poss\u00edveis problemas de comuta\u00e7\u00e3o devido \u00e0\n\nexist\u00eancia de ru\u00eddo sobreposto com o sinal de entrada. A zona de histerese evita que\n\naconte\u00e7am oscila\u00e7\u00f5es na sa\u00edda do comparador provocadas por ru\u00eddo que afecte a zona\n\n50\n\n\n\n3.3. DESIGN E SIMULA\u00c7\u00d5ES DO SISTEMA\n\nVo\n\nViVTL\n\nVo\n\nViVTH\n\nVo\n\nViVTHVTL\n\nFigura 3.30: Fun\u00e7\u00e3o de transfer\u00eancia de um comparador Schmitt-trigger\n\nem que acontece a comuta\u00e7\u00e3o porque cria uma margem de protec\u00e7\u00e3o a esse ru\u00eddo. A\n\nsa\u00edda de um comparador normal pode apresentar comuta\u00e7\u00f5es indesejadas devido ao\n\nru\u00eddo. A utiliza\u00e7\u00e3o de um comparador Schmitt-trigger resolve este problema, dado que\n\na comuta\u00e7\u00e3o no sentido ascendente s\u00f3 acontece quando a tens\u00e3o de entrada ultrapassa\n\nVTH, ou no sentido descendente quando a tens\u00e3o de entrada for inferior a VTL. Ou seja,\n\ns\u00f3 h\u00e1 uma transi\u00e7\u00e3o indesejada se o m\u00f3dulo do ru\u00eddo for superior a VTH ?VTL.\nNo dimensionamento do circuito (ver figura 3.31), deve ter-se em conta a amplitude\n\nm\u00e1xima de ru\u00eddo, pois uma margem muito alargada introduz um atraso consider\u00e1vel na\n\ncomuta\u00e7\u00e3o. Este atraso \u00e9 devido ao facto da comuta\u00e7\u00e3o n\u00e3o ocorrer durante a passagem\n\npela tens\u00e3o de compara\u00e7\u00e3o, e \u00e9 tanto maior quanto maiores forem as margens VTL e VTH,\n\ncalculadas pela equa\u00e7\u00e3o 3.19.\n\nR1\n100 k\n\nR2\n10 k\n\nVOUT\n\nVIN\n\nVREF\n\n-\n\n+\n\nV\n+\n\nFigura 3.31: Circuito comparador Schmit-trigger\n\nV + =\nR2\n\nR1 + R2\nVOUT +\n\nR1\nR1 + R2\n\nVREF =\n\n???????????????\nVTL =\n\nR2\nR1+R2\n\nVDD +\nR1\n\nR1+R2\nVREF\n\nVTH =\nR2\n\nR1+R2\nVCC +\n\nR1\nR1+R2\n\nVREF\n\n(3.19)\n\n51\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\n3.3.2.4 Simula\u00e7\u00e3o da Cadeia Receptora\n\nPara verificar a funcionalidade da cadeia receptora e servir como base de compara\u00e7\u00e3o\n\ndos resultados obtidos em ambiente terrestre, foram realizadas simula\u00e7\u00f5es LTspice do\n\ncircuito receptor (ver figura 3.32).\n\nAlgumas considera\u00e7\u00f5es importantes a ter em conta na interpreta\u00e7\u00e3o dos resultados:\n\n\u2022 Uma vez que n\u00e3o \u00e9 poss\u00edvel, em LTspice, obter o sinal recebido pelo microfone,\n\ngerou-se um sinal com uma modula\u00e7\u00e3o ASK com 1 mV de amplitude e uma frequ\u00ean-\n\ncia de 2 kHz, atrav\u00e9s do bloco modulator existente na biblioteca LTspice;\n\n\u2022 Para modelar o comportamento dos integrados LM324 [65] e LTC6910-1 foi neces-\n\ns\u00e1rio recorrer \u00e0s suas bibliotecas LTspice. Apesar de o integrado LM324 n\u00e3o ser\n\nrail-to-rail (quando alimentado a 5 V atinge 3.5 V, apenas) serve perfeitamente para\nefeitos de simula\u00e7\u00e3o. Na implementa\u00e7\u00e3o do circuito em breadboard optou-se pelo\nAmpOp MCP6004 [66], um quad AmpOp que oferece entrada e sa\u00edda rail-to-rail e\nde baixa pot\u00eancia com uma faixa de opera\u00e7\u00e3o que vai desde 1.8 a 6 V com um GBW\n\nde 1 MHz;\n\n\u2022 Foi atribu\u00eddo um ganho de 500 ao conjunto amplificador.\n\nNa figura 3.33 est\u00e3o apresentados tr\u00eas sinais: o sinal recebido depois de amplificado\n\n(ganho de 500 (V/V)) com uma amplitude de 500 mV e centrado a 2.5 V (sinal azul),\n\no sinal filtrado (sinal vermelho) com um ganho de 2 (V/V) (6 dB) e o sinal do detector\n\nde envolvente, ap\u00f3s a passagem pelo rectificador de onda completa e pelo filtro passa-\n\nbaixo (sinal verde). Na figura 3.34, visualiza-se o sinal recebido pelo transdutor (uma\n\nsequ\u00eancia \"1\", \"0\", \"1\", ...) com 1 mV de amplitude e uma frequ\u00eancia de 2 kHz (sinal azul)\n\ne o sinal desmodulado correctamente (sinal vermelho), constatando-se que o sinal foi bem\n\nrecebido.\n\n52\n\n\n\n3\n.\n3\n.\nD\nE\nS\nI\nG\nN\n\nE\nS\nI\nM\n\nU\nL\nA\n\u00c7\n\u00d5\nE\nS\nD\nO\n\nS\nI\nS\nT\nE\nM\n\nA\n\nFigura 3.32: Simula\u00e7\u00e3o em LTspice da cadeia receptora\n\n5\n3\n\n\n\nCAP\u00cdTULO 3. TRANSRECEPTOR AC\u00daSTICO PARA COMUNICA\u00c7\u00d5ES DIGITAIS\n\nSUBAQU\u00c1TICAS\n\nFigura 3.33: Simula\u00e7\u00e3o em LTspice de sinais da cadeia receptora: sinal recebido depois de\namplificado (sinal azul), sinal filtrado (sinal vermelho) e o sinal do detector de envolvente\n(sinal verde)\n\n11\n\n0\n\n1\n\n0\n\n1\n\nFigura 3.34: Simula\u00e7\u00e3o em LTspice do sinal recebido pelo transdutor (sinal azul) e do\nsinal desmodulado (sinal vermelho) pela cadeia receptora\n\n54\n\n\n\nC\na\np\n\u00ed\nt\nu\nl\no\n\n4\nImplementa\u00e7\u00e3o e Teste do Transreceptor\n\nAc\u00fastico Proposto\n\nDe forma a verificar a funcionalidade do projecto, o modem ac\u00fastico foi implementado e\n\ntestado em dois ambientes diferentes, primeiro no ar servindo como uma pr\u00e9 valida\u00e7\u00e3o\n\ndo prot\u00f3tipo e de seguida na \u00e1gua.\n\n4.1 Valida\u00e7\u00e3o Pr\u00e9-Prot\u00f3tipo\n\nO primeiro teste em laborat\u00f3rio realizou-se com o modem ac\u00fastico a operar atrav\u00e9s do ar,\n\nonde cada um dos blocos, transmissor e receptor, figuras 4.2 e 4.3, respectivamente, foram\n\nimplementados numa breadboard individual com os mesmos componentes seleccionados\nna simula\u00e7\u00e3o LTspice. O processamento e controlo de cada um dos blocos esteve a cargo\n\nde dois Arduinos Mega independentes entre si (ver figura 4.1). Para esquematizar o que\n\nfoi implementado neste pr\u00e9-prot\u00f3tipo, apresenta-se o diagrama da figura 4.1.\n\nMicrofone\n\nCircuito \n\nTransmissor\n\n(brea dboar d)M\nC\n\nU\n\nAltifalante\n\nUSB USBM\nC\n\nU\n\nCircuito \n\nReceptor\n\n(brea dboar d)\n\nFigura 4.1: Diagrama do teste no ar em laborat\u00f3rio\n\n55\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nPor se tratar de um teste de valida\u00e7\u00e3o no ar, a n\u00edvel de transdutores utilizou-se um\n\nmicrofone \u00e1udio de elevada sensibilidade para a recep\u00e7\u00e3o e para a emiss\u00e3o utilizou-se\n\num altifalante de 0.5 W com 8 ? de imped\u00e2ncia.\n\n \n\nFigura 4.2: Circuito transmissor montado em breadboard para testes no ar\n\n \n\nFigura 4.3: Circuito receptor montado em breadboard para testes no ar\n\nO teste experimental representado na figura 4.4 serviu, essencialmente, para validar e\n\ncalibrar os circuitos transmissor e receptor. Para isso, colocou-se o altifalante a uma curta\n\ndist\u00e2ncia do microfone a transmitir uma sequ\u00eancia de caracteres, afastando-o progressi-\n\nvamente, onde cada s\u00edmbolo a transmitir, composto por 8 bits, foi enviado com um d\u00e9bito\n\nde 50 bps.\n\nNa figura 4.5, visualiza-se o sinal enviado pela cadeia transmissora e o respectivo\n\nsinal recebido, desmodulado, pelo bloco receptor. Verifica-se um atraso no sinal recebido\n\ndesmodulado em rela\u00e7\u00e3o ao sinal transmitido, cerca de 2.5 ms, devido ao tempo de pro-\n\npaga\u00e7\u00e3o da onda no meio somado ao tempo de an\u00e1lise e processamento do sinal. Na\n\nsimula\u00e7\u00e3o LTspice (ver figura 3.34) ocorre um atraso, embora diminuto, na ordem dos\n\n400 \u00b5s.\n\n56\n\n\n\n4.1. VALIDA\u00c7\u00c3O PR\u00c9-PROT\u00d3TIPO\n\n \n\nFigura 4.4: Circuito de todo o sistema (circuito transmissor e circuito receptor) montado\nem breadboard para testes no ar\n\n \n\nFigura 4.5: Desmodula\u00e7\u00e3o (sinal azul) do sinal transmitido (sinal amarelo) atrav\u00e9s do ar\n\n57\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nA programa\u00e7\u00e3o do processamento e controlo dos microprocessadores foi realizada em\n\nC++ na IDE (do ingl\u00eas Integrated Development Environment) do Arduino7. Tamb\u00e9m foi\n\ndesenvolvida uma interface, em C#, para interagir com o utilizador. As duas interfaces\n\ncriadas permitem enviar e receber caracteres atrav\u00e9s de duas caixas de texto individuais\n\n(ver figura 4.6).\n\n \n\nFigura 4.6: Interface para o utilizador enviar e receber mensagens\n\nO dispositivo (BLE) (ver figura 4.8) foi incorporado ao pr\u00e9 prot\u00f3tipo para permitir a\n\nliga\u00e7\u00e3o a um dispositivo m\u00f3vel. Requer apenas uma porta s\u00e9rie adicional fornecida pelo\n\nArduino Mega para comunica\u00e7\u00e3o. Foi seleccionada a aplica\u00e7\u00e3o iShield, dispon\u00edvel atrav\u00e9s\nda App Store, cujo ambiente de aplica\u00e7\u00e3o \u00e9 visualizado na figura 4.7.\n\n \n\nFigura 4.7: Aplica\u00e7\u00e3o m\u00f3vel para\nenviar e receber mensagens por via\nr\u00e1dio\n\n \n\nFigura 4.8: Dispositivo Bluetooth 4.0\nLow Energy\n\nEm suma, os resultados em laborat\u00f3rio foram semelhantes \u00e0s simula\u00e7\u00f5es realizadas\n\nem LTSpice, tendo sempre em conta a toler\u00e2ncia dos valores reais dos componentes e\n\no ru\u00eddo existente numa breadBoard provocado pela alimenta\u00e7\u00e3o do circuito. Embora as\nconclus\u00f5es tiradas neste cap\u00edtulo sejam com o modem a operar no ar, servem como base\n\nde veracidade de que \u00e9 poss\u00edvel comunicar pelo ar atrav\u00e9s de ondas ac\u00fasticas e de apoio\n\n\u00e0 experiencia subaqu\u00e1tica.\n\n7em Anexo C\n\n58\n\n\n\n4.2. IMPLEMENTA\u00c7\u00c3O DO PROT\u00d3TIPO EM PCB\n\n4.2 Implementa\u00e7\u00e3o do Prot\u00f3tipo em PCB\n\nDepois dos resultados satisfat\u00f3rios dos testes realizados em breadboard com o modem a\ntransmitir e receber sinais pelo ar, o circuito foi desenvolvido em PCB8 (ver figuras 4.9 e\n\n4.10).\n\nRegulador de Tens\u00e3o\n\nV\nIN\n\nTransmissor\n\nT\nra\n\nn\ns\nd\n\nu\nto\n\nr s\na\n\nid\na\n\nM\nic\n\nro\nc\no\n\nn\ntr\n\no\nla\n\nd\no\n\nr\n\nReceptor\n\nT\nra\n\nn\ns\nd\n\nu\nto\n\nr e\nn\n\ntr\na\n\nd\na\n\nFigura 4.9: Implementa\u00e7\u00e3o do cir-\ncuito em PCB v.Beta\n\nFigura 4.10: Circuito assemblado\nv.Beta\n\nNa figura 4.10 est\u00e3o presentes os v\u00e1rios subsistemas da v.Beta, caso dos circuitos trans-\nmissor e receptor, o microprocessador e o regulador de tens\u00e3o, utilizando componentes9\n\nSMD (do ingl\u00eas Surface-Mount Device) quando poss\u00edvel.\n\nRegulador de Tens\u00e3o\nO principal objectivo do regulador de tens\u00e3o \u00e9 garantir um tr\u00e2nsito de pot\u00eancia adequado\n\n\u00e0s necessidades de todo o sistema e reduzir os riscos de danos que possam ser infligidos\n\nao mesmo, reduzindo as interfer\u00eancias vindas da alimenta\u00e7\u00e3o. Os reguladores de tens\u00e3o\n\nna forma de circuito integrado de tr\u00eas terminais s\u00e3o quase que obrigat\u00f3rios em projectos\n\ncom fontes de alimenta\u00e7\u00e3o para circuitos de pequena e m\u00e9dia pot\u00eancia, como \u00e9 o caso,\n\ncujo objectivo principal passa pela manuten\u00e7\u00e3o da tens\u00e3o de sa\u00edda dentro dos limites\n\nexigidos pelo circuito el\u00e9ctrico que est\u00e1 a ser alimentado.\n\nUma vez que todo o sistema \u00e9 alimentado a 5 V, a escolha do regulador de tens\u00e3o\n\nrecaiu sobre o circuito integrado LM7805CT (ver figura 4.11) que fornece uma tens\u00e3o\n\nde sa\u00edda de 5 V com uma corrente de at\u00e9 1 A, tipicamente, e protec\u00e7\u00e3o interna contra\n\ncurto-circuitos na sa\u00edda, dimensionado de acordo com o datasheet [67] e expresso pela\nfigura 4.12.\n\n8esquem\u00e1tico em Anexo B\n9lista de material em Anexo A\n\n59\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nFigura 4.11: Encapsulamento TO-220 do circuito integrado LM7805CT\n\nO condensador de 0.33 \u00b5F desacopla a entrada, enquanto o de 0.1 \u00b5F tem por fina-\n\nlidade evitar oscila\u00e7\u00f5es em altas frequ\u00eancias, garantindo uma maior estabilidade e me-\n\nlhorar a resposta transit\u00f3ria. A massa necessita de ser comum entre a tens\u00e3o de entrada\n\ne sa\u00edda. O condensador CI \u00e9 necess\u00e1rio, apenas, se o regulador estiver localizado a uma\n\ndist\u00e2ncia significativa do filtro da alimenta\u00e7\u00e3o do sistema.\n\nMCU\n\nTransdutor Tx\n\nCircuito de Transmiss\u00e3o\n\nGerador de \n\nSinais\n\nn bits\n\nModulador\n\nA\nm\n\np\n. \n\nP\no\n\nt\u00ea\nn\n\nc\nia\n\nSinal modulador \n\nm(t)\n\nOnda modulada ASK \n\nSask (t)\n\nOnda portadora\n\nC(t)\n\nVIN VOUT\n\nCO\n0.1 uF\n\nLM7805CT\n\nCI\n0.33 uF\n\nFigura 4.12: Dimensionamento do circuito regulador de tens\u00e3o\n\nPara um bom funcionamento do circuito integrado, a tens\u00e3o de entrada precisa de\n\nser 2 V mais elevada do que a tens\u00e3o que se deseja na sa\u00edda, mesmo durante o ponto\n\nmais baixo do ripple de entrada, comprovado pelas simula\u00e7\u00f5es realizadas em LTspice (ver\nfiguras 4.13a e 4.13b). Na figura 4.13b para tens\u00f5es de 9 V com ripple de entrada de 5 mV,\nobteve-se uma tens\u00e3o de 5 V na sa\u00edda com ripple de 4.7 \u00b5V perfeitamente aceit\u00e1vel. Ape-\nnas grandes varia\u00e7\u00f5es seriam realmente prejudiciais, o que prova o bom funcionamento\n\ndo circuito. Na figura 4.13a, como a tens\u00e3o de entrada n\u00e3o \u00e9 2 V superior \u00e0 tens\u00e3o que\n\nse deseja na sa\u00edda, o funcionamento do integrado fica aqu\u00e9m do esperado, obtendo-se na\n\nsa\u00edda uma tens\u00e3o de 4.5 V, aproximadamente, com oscila\u00e7\u00f5es de 1 mV.\n\nMicrocontrolador\nOs microcontroladores s\u00e3o dispositivos de uso geral, constitu\u00eddos por uma unidade cen-\n\ntral de processamento (do ingl\u00eas Central Processing Unit, frequentemente abreviado para\n\nCPU) relativamente pequeno, sinais de rel\u00f3gio, temporizadores, mem\u00f3ria e portas de\n\nentrada e sa\u00edda digitais e anal\u00f3gicas.\n\nO microprocessador utilizado, o ATmega 328P-PU, apresenta caracter\u00edsticas conside-\n\nradas \u00fateis para o projecto (ver tabela 4.1): opera com tens\u00f5es entre 1.8 V e 5.5 V, alto\n\ndesempenho e baixo consumo energ\u00e9tico, 32 kB de mem\u00f3ria flash, disp\u00f5e de 14 portas\nde entrada/sa\u00edda digitais (dos quais 6 podem ser usados como sa\u00eddas PWM (do ingl\u00eas\n\nPulse-Width Modulation) e 6 entradas anal\u00f3gicas.\n\n60\n\n\n\n4.2. IMPLEMENTA\u00c7\u00c3O DO PROT\u00d3TIPO EM PCB\n\n(a) Simula\u00e7\u00e3o em LTspice do circuito regulador de tens\u00e3o para uma tens\u00e3o de entrada de 6 V\n\n(b) Simula\u00e7\u00e3o em LTspice do circuito regulador de tens\u00e3o para uma tens\u00e3o de entrada de 9 V\n\nFigura 4.13: Simula\u00e7\u00e3o em LTspice do circuito regulador de tens\u00e3o\n\nO microprocessador \u00e9 o respons\u00e1vel por todo o controlo do n\u00f3 sensor e cada pino\n\napresenta a sua fun\u00e7\u00e3o (ver figura 4.14): recebe e envia os dados atrav\u00e9s dos pinos 0 (RX)\n\ne 1 (TX), respectivamente, programa e comanda o DDS atrav\u00e9s dos pinos 10, 11, 12 e 13. O\n\nganho do LNA, dependente da pot\u00eancia de sinal recebida e programado atrav\u00e9s dos pinos\n\n2, 3, 4, 5, 6 e 7. Finalmente, recebe os sinais dos sensores atrav\u00e9s dos pinos anal\u00f3gicos e\n\nainda recebe e envia dados por BLE atrav\u00e9s dos pinos 8 e 9, convertidos numa porta s\u00e9rie\n\natrav\u00e9s da biblioteca SoftwareSerial.\n\nAl\u00e9m disso, a gest\u00e3o energ\u00e9tica do n\u00f3 sensor \u00e9 realizada na totalidade pelo micropro-\n\ncessador. Ainda que n\u00e3o seja vis\u00edvel, o microprocessador \u00e9 respons\u00e1vel pela periodicidade\n\nde transmiss\u00e3o e recep\u00e7\u00e3o de dados. Dependendo da gest\u00e3o que se queira fazer, pode-se\n\naumentar ou diminuir esse per\u00edodo, quer seja de transmiss\u00e3o/recep\u00e7\u00e3o ou aquisi\u00e7\u00e3o de\n\ndados por parte dos sensores.\n\n61\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nMCU\n\nTransdutor Tx\n\nCircuito de Transmiss\u00e3o\n\nGerador de \n\nSinais\n\nn bits\n\nModulador\n\nA\nm\n\np\n. \n\nP\no\n\nt\u00ea\nn\n\nc\nia\n\nreset\n\ndigital 0 (RX)\n\ndigital 1 (TX)\n\ndigital 2\n\ndigital 3 (PWM)\n\ndigital 4\n\nVCC\n\nGND\n\nclock\n\nclock\n\ndigital 5 (PWM)\n\ndigital 6 (PWM)\n\ndigital 7\n\ndigital 8\n\nanal\u00f3gico 5\n\nGND\n\nAREF\n\nVCC\n\n1\n\n2\n\n3\n\n4\n\n5\n\n6\n\n7\n\n8\n\n9\n\n10\n\n11\n\n12\n\n13\n\n14\n\n28\n\n27\n\n26\n\n25\n\n24\n\n23\n\n22\n\n21\n\n20\n\n19\n\n18\n\n17\n\n16\n\n15\n\nanal\u00f3gico 4\n\nanal\u00f3gico 3\n\nanal\u00f3gico 2\n\nanal\u00f3gico 1\n\nanal\u00f3gico 0\n\ndigital 13\n\ndigital 12\n\ndigital 11 (PWM)\n\ndigital 10 (PWM)\n\ndigital 9 (PWM)\n\nFigura 4.14: Mapa de pinos do mi-\n\ncrocontrolador ATmega328P-PU\n\nTabela 4.1: Caracter\u00edsticas gerais do micro-\n\ncontrolador ATMEGA328-PU\n\nTipo de Encapsulamento PDIP\n\nTipo de Montagem through-hole\n\nN\u00facleo do Dispositivo AVR\n\nN\u00famero de Pinos 28\n\nLargura do Bus de Dados 8 bits\n\nTamanho da Mem\u00f3ria do Programa 32 kB\n\nFrequ\u00eancia M\u00e1xima 20 MHz\n\nTamanho da RAM8 2 kB\n\nN\u00famero de Canais USB9 -\n\nN\u00famero de Canais PWM 6\n\nN\u00famero de Entradas Anal\u00f3gicas 6\n\nN\u00famero de Canais I2C10 1\n\nTens\u00e3o de Alimenta\u00e7\u00e3o 1.8 a 5.5 V\n\nTransdutores Ac\u00fasticos e Amplificadores\nEm rela\u00e7\u00e3o \u00e0 estrutura mec\u00e2nica dos prot\u00f3tipos a operar na \u00e1gua, os transdutores, ao\n\ncontr\u00e1rio dos que foram utilizados nos testes no ar, teriam de ser estanques e robustos.\n\nAp\u00f3s algumas tentativas falhadas de os isolar, de modo a serem utilizados nos testes em\n\n\u00e1gua, em alternativa, foram analisados alguns modelos comercialmente dispon\u00edveis. Para\n\no receptor, optou-se por um hidrofone H1c da Aquarian Audio [68]. Este hidrofone utiliza\n\num tipo de transdu\u00e7\u00e3o piezoel\u00e9ctrica e \u00e9 projectado para proporcionar um desempenho\n\nde \u00e1udio de alta qualidade com uma boa sensibilidade e baixo ru\u00eddo num dispositivo de\n\nbaixo custo (ver figura 4.15). Para o transmissor, optou-se por um altifalante piezoel\u00e9c-\n\ntrico da Sonitron [69] coberto por um material imperme\u00e1vel, uma solu\u00e7\u00e3o de baixo custo\n\nque permite um suporte robusto do ponto de vista f\u00edsico e el\u00e9ctrico, assim como uma\n\ncapacidade razo\u00e1vel de protec\u00e7\u00e3o a infiltra\u00e7\u00f5es, combinando um consumo de corrente\n\nmuito baixo com um volume de sa\u00edda alto (ver figuras 4.16 e 4.17). As especifica\u00e7\u00f5es de\n\ncada um dos transdutores utilizados encontram-se nas tabelas 4.2 e 4.3.\n\nA altera\u00e7\u00e3o do transdutor de transmiss\u00e3o em meio l\u00edquido implicou algumas alte-\n\nra\u00e7\u00f5es no prot\u00f3tipo v.Beta, nomeadamente, o amplificador de pot\u00eancia LM386 por n\u00e3o\ncorresponder aos n\u00edveis de tens\u00e3o exigidos por transdutores piezoel\u00e9ctricos, maioritari-\n\namente capacitivos. Nos testes realizados com o modem a transmitir atrav\u00e9s da \u00e1gua, a\n\n8do ingl\u00eas Random Access Memory\n9do ingl\u00eas Universal Serial Bus\n\n10do ingl\u00eas Inter-Integrated Circuit\n\n62\n\n\n\n4.2. IMPLEMENTA\u00c7\u00c3O DO PROT\u00d3TIPO EM PCB\n\naposta recaiu sobre o amplificador \u00e1udio piezoel\u00e9ctrico, PAA-LM4960SQ-02 [70], acon-\n\nselhado pela Sonitron para este modelo de transdutor, possuindo os componentes e os\n\npinos de controlo da figura 4.19 e as caracter\u00edsticas da tabela 4.4.\n\nFigura 4.15: Hidrofone H1c utilizado no teste experimental subaqu\u00e1tico\n\nFigura 4.16: Altifalante piezoel\u00e9c-\ntrico SPS-8770-03\n\n \n\nFigura 4.17: Altifalante piezoelel\u00e9c-\ntrico SPS-8770-03 \u00e0 prova de \u00e1gua\nutilizado no teste experimental su-\nbaqu\u00e1tico\n\n63\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nTabela 4.2: Especifica\u00e7\u00f5es do transdutor\nreceptor H1c [68]\n\nGama de Opera\u00e7\u00e3o 1 Hz a 100 kHz\n\nCapacit\u00e2ncia 25 nF\n\nResposta Polar omnidirecional\n\nProfundidade de Opera\u00e7\u00e3o &lt;80 m\n\nResposta em Frequ\u00eancia figura 4.18\n\nTabela 4.3: Especifica\u00e7\u00f5es do transdutor\nemissor SPS-8770-03 [69]\n\nGama de Opera\u00e7\u00e3o 200 Hz a 20 kHz\n\nCapacit\u00e2ncia 580 nF\n\nDistor\u00e7\u00e3o ? 1.5 %\n\nImped\u00e2ncia @ 1 kHz 266 ?\n\nTens\u00e3o de Alimenta\u00e7\u00e3o 5 a 60 Vpp\n\nFrequ\u00eancia (Hz)\n\nA\nm\n\np\nli\ntu\n\nd\ne\n\n R\ne\n\nla\nti\nv\na\n\n (\nd\n\nB\n)\n\nFigura 4.18: Resposta em frequ\u00eancia do hidrofone H1c (curvas referenciadas a um hidro-\nfone de refer\u00eancia Reson 4013 avaliado com uma sensibilidade de -212 dB re 1V/\u00b5Pa)\n\nFigura 4.19: Amplificador piezoe-\n\nl\u00e9ctrico LM4960SQ-02 [70]\n\nTabela 4.4: Especifica\u00e7\u00f5es gerais do amplificador\n\npiezoel\u00e9ctrico LM4960SQ-02 [70]\n\nTens\u00e3o de Alimenta\u00e7\u00e3o 3 a 7 V\n\nM\u00e1xima Tens\u00e3o de Sa\u00edda 24 Vpp\n\nCapacit\u00e2ncia M\u00e1xima do Transdutor 600 nF\n\nTopologia de Tens\u00e3o\nintegrated step up\n\nconverter\n\nClassifica\u00e7\u00e3o do Amplificador classe AB\n\nConfigura\u00e7\u00e3o Usada pelo Amplificador bridge tied load\n\nConsumo M\u00e9dio de Corrente 85 mA\n\n64\n\n\n\n4.2. IMPLEMENTA\u00c7\u00c3O DO PROT\u00d3TIPO EM PCB\n\nDe uma forma geral, o LM4960SQ-02 consegue oferecer 24 Vpp atrav\u00e9s de uma sa\u00edda\n\n\u00e1udio diferencial a uma frequ\u00eancia fixa de 1.6 MHz, com um ganho de 74 (V/V) para\n\numa entrada m\u00e1xima de 325 mVpp, a um altifalante de cer\u00e2mica com uma THD inferior\n\na 1% durante a opera\u00e7\u00e3o, quando alimentado a 5 V. O seu modo de opera\u00e7\u00e3o, simplifica-\n\ndamente, assenta num conversor DC-DC indutivo que traz uma tens\u00e3o mais baixa para\n\num n\u00edvel mais elevado de tens\u00e3o para os dois andares de amplifica\u00e7\u00e3o. Estes amplifica-\n\ndores s\u00e3o projectados especificamente para fornecer uma sa\u00edda de alta qualidade com\n\numa quantidade m\u00ednima de componentes externos, ideal para aplica\u00e7\u00f5es onde o baixo\n\nconsumo de energia \u00e9 uma exig\u00eancia principal.\n\nA pot\u00eancia m\u00e9dia consumida por um altifalante piezoel\u00e9trico pode ser calculada mul-\n\ntiplicando a tens\u00e3o rms, Vrms, pela corrente rms, Irms.\n\nAltifalante\n\nSP S-8770-03\n\n1\n\n3\n\nR\n10 \n\n2\n\nIrms\n\n+\n\n-\nVrms\n\nA\nm\n\np\n.\n\nP\nie\n\nz\no\n\nL\nM\n\n4\n9\n\n6\n0\nS\n\nQ\n-0\n\n2\n\nFigura 4.20: Diagrama de obten\u00e7\u00e3o da pot\u00eancia m\u00e9dia consumida pelo altifalante piezoe-\nl\u00e9trico\n\nA corrente rms, foi medida em oscilosc\u00f3pio e calculada pela equa\u00e7\u00e3o 4.1, atrav\u00e9s da\ncoloca\u00e7\u00e3o, provis\u00f3ria, de uma resist\u00eancia de baixo valor (10 ?) em s\u00e9rie com o altifalante\n\n(ver figura 4.20).\n\nIrms =\nVR\nR\n\n=\nV1 ?V2\nR\n\n(4.1)\n\nPor sua vez, a tens\u00e3o rms \u00e9 dada por,\n\nVrms = V2 ?(?V3) (4.2)\n\nFinalmente, a pot\u00eancia consumida \u00e9 expressa por,\n\nPmdia = Vrms\u00d7Irms?Irms\u00d7\nI2rms\nR\n\n(4.3)\n\nA pot\u00eancia consumida pelo conjunto, amplificador LM4960SQ-02 e altifalante, para\n\ndiferentes tens\u00f5es de entrada no amplificador foi testada e apresenta-se na figura 4.21.\n\nPor sua vez, na figura 4.22, para os mesmos valores de tens\u00e3o de entrada no amplificador\n\navalia-se a pot\u00eancia m\u00e9dia entregue ao altifalante SPS-8770-03.\n\n65\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nTens\u00e3o de Entrada no Amplificador (mV)\n10 20 30 40 50 60 70 80 90 100\n\nP\no\n\nt\u00ea\nn\n\nci\na\n\n C\no\n\nn\nsu\n\nm\nid\n\na\n p\n\ne\nlo\n\n A\nm\n\np\nlif\n\nic\na\n\nd\no\n\nr \ne\n\n S\np\n\ne\na\n\nke\nr \n\n(W\n)\n\n0\n\n0.5\n\n1\n\n1.5\n\n2\n\n2.5\n\n3\n\nFigura 4.21: Pot\u00eancia consumida pelo amplificador LM4960SQ-02 e altifante SPS-8770-\n03 para diferentes valores de tens\u00e3o de entrada no amplificador\n\nTens\u00e3o de Entrada no Amplificador (mV)\n10 20 30 40 50 60 70 80 90 100\n\nP\no\n\nt\u00ea\nn\n\nci\na\n\n M\n\u00e9\n\nd\nia\n\n E\nn\n\ntr\ne\n\ng\nu\n\ne\n \u00e0\n\n C\na\n\nrg\na\n\n (\nW\n\n)\n\n0\n\n0.1\n\n0.2\n\n0.3\n\n0.4\n\n0.5\n\n0.6\n\nFigura 4.22: Pot\u00eancia m\u00e9dia entregue ao altifante SPS-8770-03 pelo amplificador\nLM4960SQ-02 para diferentes valores de tens\u00e3o de entrada no amplificador\n\n66\n\n\n\n4.3. TESTE DO PROT\u00d3TIPO NA \u00c1GUA\n\n4.3 Teste do Prot\u00f3tipo na \u00c1gua\n\nNesta sec\u00e7\u00e3o do documento \u00e9 inicialmente descrita a configura\u00e7\u00e3o das condi\u00e7\u00f5es do teste\n\nrealizado em laborat\u00f3rio e, posteriormente, s\u00e3o analisados os principais resultados do\n\nestudo no canal ac\u00fastico subaqu\u00e1tico.\n\n4.3.1 Configura\u00e7\u00e3o do Teste\n\nOs testes de processamento de sinal realizados num meio subaqu\u00e1tico possuem algu-\n\nmas limita\u00e7\u00f5es importantes a destacar. Com o prot\u00f3tipo desenvolvido pretende-se su-\n\nportar pot\u00eancias ac\u00fasticas que permitam a propaga\u00e7\u00e3o dos sinais transmitidos em meios\n\nsubaqu\u00e1ticos com um volume consider\u00e1vel de \u00e1gua, onde um sistema completamente\n\nsubmergido comunica, em estacionariedade de movimento, com um equipamento fixo,\n\nlocalizado \u00e0 superf\u00edcie mar\u00edtima.\n\nContudo, no \u00e2mbito desta disserta\u00e7\u00e3o, a acessibilidade a um meio com estas caracter\u00eds-\n\nticas \u00e9 condicionada por aspectos log\u00edsticos, sendo escassas as oportunidades de realizar\n\nos testes pretendidos num ambiente desta natureza. N\u00e3o sendo poss\u00edvel essa configura\u00e7\u00e3o,\n\nassume-se um ambiente de \u00e1guas pouco profundas com um volume de \u00e1gua muito re-\n\nduzido, simulando um cen\u00e1rio de comunica\u00e7\u00e3o unidireccional no plano horizontal entre\n\ndois sistemas, um transmissor e um receptor, em linha de vista, alimentados com recurso\n\na pilhas (500 mAh @ 9 V) (ver figura 4.23). Para isso foi necess\u00e1rio uma duplica\u00e7\u00e3o do\n\nsistema implementado em PCB. No entanto, em futuros testes no campo, o ideal seria\n\nalimentar os circuitos atrav\u00e9s de pain\u00e9is solares quando poss\u00edvel. A t\u00edtulo de refer\u00eancia,\n\no reservat\u00f3rio utilizado possui 0.18 m de altura, 0.80 m de comprimento e 0.40 m de\n\nlargura.\n\nReceptor Transmissor\n\nFigura 4.23: Reservat\u00f3rio de \u00e1gua utilizado no teste subaqu\u00e1tico\n\n67\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nO ambiente subaqu\u00e1tico utilizado nos testes de laborat\u00f3rio corresponde nitidamente\n\na um cen\u00e1rio de \u00e1guas pouco profundas. \u00c9 expect\u00e1vel que neste meio a propaga\u00e7\u00e3o dos\n\nsinais ac\u00fasticos seja condicionada pela geometria do canal, predominando os efeitos de\n\nreflex\u00e3o sobre as superf\u00edcies de fronteira do meio. Avaliando o volume de \u00e1gua (42 litros),\n\npode afirmar-se que as varia\u00e7\u00f5es nos par\u00e2metros fundamentais que regulam a velocidade\n\ndo sinal sonoro possuem um car\u00e1cter uniforme em todo o meio. Inferiu-se, por meio de\n\nsensores, que o meio aqu\u00e1tico, em valores m\u00e9dios, possu\u00eda uma temperatura ambiente de\n\n20.3 \u00b0C e uma acidez de 7.2 pH. Como o par\u00e2metro da salinidade \u00e9 substancialmente mais\n\ncomplexo de determinar, sendo requerido equipamento espec\u00edfico, estima-se uma salini-\n\ndade de 0.5 ppt. De referir tamb\u00e9m a aus\u00eancia de vento (?=0) e de transporte mar\u00edtimo\n\n(s=0) no teste experimental para uma frequ\u00eancia de transmiss\u00e3o agora de 13700 Hz para\n\ntirar partido da maior sensibilidade do hidrofone, o que obriga a um redimensionamento\n\ndos circuitos de filtragem e desmodula\u00e7\u00e3o do sinal discutidos nas Sec\u00e7\u00f5es 3.3.2.2 e 3.3.2.3\n\ndo Cap\u00edtulo 3. O d\u00e9bito foi fixado em 300 bps.\n\n4.3.2 An\u00e1lise de Resultados\n\nEm primeiro lugar, investigou-se a tens\u00e3o de sa\u00edda do hidrofone variando a tens\u00e3o de\n\nentrada do amplificador e consequentemente a pot\u00eancia m\u00e9dia el\u00e9ctrica de transmiss\u00e3o\n\nentregue ao altifalante, verificando a exist\u00eancia de uma rela\u00e7\u00e3o entre a press\u00e3o ac\u00fastica e\n\nas tens\u00f5es de entrada e sa\u00edda dos transdutores em comunica\u00e7\u00f5es subaqu\u00e1ticas.\n\nPelas equa\u00e7\u00f5es descritas na Sec\u00e7\u00e3o 3.1 do Cap\u00edtulo 3 e considerando a configura\u00e7\u00e3o\n\ndo teste descrita anteriormente, as perdas de percurso s\u00e3o dadas apenas pela absor\u00e7\u00e3o,\n\n?=6.3\u00d7 10?5 dB/km, uma vez que \u00e9 desprezado o espalhamento para a dist\u00e2ncia praticada.\nNa figura 4.25, observa-se que a tens\u00e3o de sa\u00edda do transdutor receptor \u00e9 proporcional \u00e0\n\npot\u00eancia de transmiss\u00e3o. A curva correspondente \u00e0 pot\u00eancia de transmiss\u00e3o ac\u00fastica foi\n\nobtida considerando a pot\u00eancia ac\u00fastica igual \u00e0 pot\u00eancia el\u00e9ctrica entregue ao transdutor.\n\nNo entanto, verifica-se que existe um coeficiente de transdu\u00e7\u00e3o que n\u00e3o pode ser despre-\n\nzado. Dizer ainda, que o facto de o altifalante, SPS-8770-03, ter sido revestido por uma\n\ntinta imperme\u00e1vel o impe\u00e7a de obter a melhor performance debaixo de \u00e1gua.\n\nPor fim, na figura 4.26 \u00e9 representado a taxa de erro de bits (do ingl\u00eas Bit Error Rate,\n\nfrequentemente abreviado para BER) para a mesma pot\u00eancia el\u00e9ctrica m\u00e9dia de transmis-\n\ns\u00e3o, obtido atrav\u00e9s do envio de um ficheiro de texto entre o transmissor e o receptor. De\n\nacordo com os resultados, o valor do BER mant\u00e9m-se praticamente contante. Isso deve-se\n\nao facto de estes resultados terem sido alcan\u00e7ados atrav\u00e9s de diferentes valores de ganho\n\nno receptor. Se os resultados fossem avaliados com o mesmo ganho no receptor seria ex-\n\npect\u00e1vel que o valor do BER aumentasse com o aumento da pot\u00eancia de transmiss\u00e3o. Os\n\nresultados s\u00e3o melhores, para metade, quando se introduz detec\u00e7\u00e3o de erros no receptor\n\natrav\u00e9s da programa\u00e7\u00e3o do microcontrolador. Basicamente, de uma forma simples, foi\n\n68\n\n\n\n4.3. TESTE DO PROT\u00d3TIPO NA \u00c1GUA\n\nrealizado atrav\u00e9s de m\u00faltiplas transmiss\u00f5es com redund\u00e2ncia. Os dados (\"a\", \"b\", \"c\", \"d\" e\n\n\"e\") s\u00e3o enviados 5 vezes, repetidamente, por parte do transmissor e quando recebidos,\n\npelo menos, tr\u00eas dados iguais, o receptor interpreta como sendo a mensagem correcta (ver\n\nfigura 4.24).\n\na=b a=c\nS N\n\na=d\n\n \n\na=e\n\n \n\nN\n\nSS\nS\n\nINICIO\n\na=c\n\na=d\nS N\n\na=e\n\n \n\n \n\nSS\n\nN\n\na=d\n\na=e\n\nS\n\nS\n\nN\n\nb=c\n\nb=db=e\n\nc=d\n\nc=e Dados recebidos \ncorrectamente\n\na,b,c,d,e\n\nDados recebidos \ncorrectamente\n\nDados recebidos \ncorrectamente\n\nDados recebidos \nincorrectamente\n\nN\n\nN\n\nDados recebidos \ncorrectamente\n\nDados recebidos \ncorrectamente\n\nDados recebidos \nincorrectamente\n\nN\n\nDados recebidos \ncorrectamente\n\nDados recebidos \nincorrectamente\n\nN\n\nDados recebidos \ncorrectamente\n\nS\n\nS\n\nN\n\nDados recebidos \ncorrectamente\n\nDados recebidos \nincorrectamente\n\nN\n\nS\n\nN\n\nS\n\nDados recebidos \nincorrectamente\n\nDados recebidos \nincorrectamente\n\nDados recebidos \ncorrectamente\n\nSN\n\nN\n\nFigura 4.24: Diagrama do fluxo do algoritmo de detec\u00e7\u00e3o de erros implementado\n\nPot\u00eancia de Transmiss\u00e3o (W)\n0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.55\n\nT\ne\n\nn\ns\u00e3\n\no\n R\n\nM\nS\n\n R\ne\n\nce\nb\n\nid\na\n\n n\no\n\n R\ne\n\nce\np\n\nto\nr \n\n(V\n)\n\n10-3\n\n10-2\n\n10-1\n\n100\n\nPot\u00eancia El\u00e9ctrica\nPot\u00eancia Ac\u00fastica\n\nFigura 4.25: Tens\u00e3o rms recebida no receptor em fun\u00e7\u00e3o da pot\u00eancia de transmiss\u00e3o\n\n69\n\n\n\nCAP\u00cdTULO 4. IMPLEMENTA\u00c7\u00c3O E TESTE DO TRANSRECEPTOR AC\u00daSTICO\n\nPROPOSTO\n\nPot\u00eancia El\u00e9ctrica M\u00e9dia de Transmiss\u00e3o (W)\n0.05 0.1 0.15 0.2 0.25 0.3 0.35 0.4 0.45 0.5 0.55\n\nB\nE\n\nR\n\n10-2\n\n10-1\n\n100\n\nSem Detec\u00e7\u00e3o de Erro\nCom Detec\u00e7\u00e3o de Erro\n\nFigura 4.26: Taxa de erro de bits em fun\u00e7\u00e3o da pot\u00eancia de transmiss\u00e3o\n\n4.3.2.1 Consumo Energ\u00e9tico\n\nNesta sec\u00e7\u00e3o, \u00e9 descrito a avalia\u00e7\u00e3o de desempenho energ\u00e9tico do modem desenvolvido.\n\nInicialmente foi avaliado o consumo energ\u00e9tico do n\u00f3 em diferentes estados de opera\u00e7\u00e3o\n\ne depois feita uma estimativa da capacidade da bateria necess\u00e1ria para um m\u00eas de vida.\n\nO consumo de energia do n\u00f3 foi medido durante a transmiss\u00e3o e recep\u00e7\u00e3o, quando o\n\nmodem est\u00e1 a enviar e a receber pacotes, respectivamente, e em stand-by (ver tabela 4.5).\n\nTabela 4.5: Pot\u00eancia consumida pelo n\u00f3 subaqu\u00e1tico em diferentes estados de opera\u00e7\u00e3o\n\nEstado Pot\u00eancia (W )\n\nTransmiss\u00e3o 0.8 a 3.1\n\nRecep\u00e7\u00e3o 0.65\n\nStand-by 0.5\n\nComo se pode observar, o modem consome, no m\u00e1ximo, 3.1 W durante a transmiss\u00e3o\n\ne 655 mW durante a recep\u00e7\u00e3o. Quando est\u00e1 em modo stand-by, i.e., n\u00e3o estando a transmi-\ntir nem a receber, o modem consome cerca de 0.5 W. O maior consumo de energia medido\n\nem modo operacional foi durante a transmiss\u00e3o, estando directamente relacionado com a\n\ndist\u00e2ncia de transmiss\u00e3o que se pretende.\n\nA tabela 4.6 indica a capacidade da bateria necess\u00e1ria para garantir o funcionamento\n\ndo modem subaqu\u00e1tico durante 1 m\u00eas, assumindo que o sistema est\u00e1 em opera\u00e7\u00e3o durante\n\napenas 10 segundos por hora (5 segundos em modo de transmiss\u00e3o e 5 segundos em modo\n\nde recep\u00e7\u00e3o) e em stand-by o resto do tempo. Considera-se que um dia tem 24 horas e um\nm\u00eas com 31 dias.\n\n70\n\n\n\n4.3. TESTE DO PROT\u00d3TIPO NA \u00c1GUA\n\nTabela 4.6: Estima\u00e7\u00e3o da capacidade da bateria do n\u00f3 necess\u00e1ria para uma dura\u00e7\u00e3o de\nvida de 1 m\u00eas\n\nCapacidade da bateria necess\u00e1ria (mWh)\n\nTransmiss\u00e3o 3203\n\nRecep\u00e7\u00e3o 676\n\nStand-by 370 966\n\nTOTAL 374 845\n\nA capacidade total da bateria necess\u00e1ria \u00e9 cerca de 375 000 mWh, o que significa\n\nque seriam necess\u00e1rias cerca de 84 baterias 500 mAh @ 9 V, pilha utilizada no ensaio\n\nexperimental, para executar o n\u00f3 durante um m\u00eas, sendo impratic\u00e1vel para aplica\u00e7\u00f5es\n\nreais sem um bom controlo de gest\u00e3o de pot\u00eancia. Um solu\u00e7\u00e3o mais vi\u00e1vel passaria pelo\n\nuso de outro tipo de baterias com uma maior capacidade.\n\n71\n\n\n\n\n\nC\na\np\n\u00ed\nt\nu\nl\no\n\n5\nConclus\u00f5es e Trabalho Futuro\n\nA presente disserta\u00e7\u00e3o tem como principal objectivo relatar todo o trabalho de investiga-\n\n\u00e7\u00e3o de maneira a que se torne poss\u00edvel implementar e conceber um modem ac\u00fastico de\nconsumo energ\u00e9tico reduzido, com a particularidade de ser reconfigur\u00e1vel e que suporte o\n\nenvio e recep\u00e7\u00e3o de sinais em redes de sensores subaqu\u00e1ticas de curto alcance, recorrendo\n\na v\u00e1rios componentes de hardware e software.\n\nO ambiente subaqu\u00e1tico \u00e9 reconhecido como um meio pouco favor\u00e1vel para comunica-\n\n\u00e7\u00f5es digitais, devido a in\u00fameros factores que dificultam a propaga\u00e7\u00e3o de ondas ac\u00fasticas.\n\nDeste modo, inicialmente, foi fundamental desenvolver um levantamento de informa\u00e7\u00f5es\n\nna literatura cientifica mais recente, a fim de compreender como estes factores podem\n\nafetar a comunica\u00e7\u00e3o nestes ambientes subaqu\u00e1ticos.\n\nProcedeu-se \u00e0 elabora\u00e7\u00e3o de uma pesquisa, relativamente aos modems ac\u00fasticos su-\nbaqu\u00e1ticos j\u00e1 existentes, tendo em conta as suas caracter\u00edsticas e finalidades. O modem\nque se prop\u00f5e difere dos demais, uma vez que incide sobre uma solu\u00e7\u00e3o de baixo-custo,\n\nmas continuando a fornecer uma razo\u00e1vel taxa de transmiss\u00e3o de dados.\n\nPara simular e permitir uma an\u00e1lise te\u00f3rica do comportamento dos blocos consti-\n\ntuintes do n\u00f3 utilizou-se a ferramenta LTspice. De modo a verificar o funcionamento do\n\nmodem ac\u00fastico subaqu\u00e1tico foram realizados testes experimentais, tanto no ar como na\n\u00e1gua, tendo sido alcan\u00e7ados d\u00e9bitos de 300 bps com taxas de erro inferiores a 10?1.\n\nDe forma a aferir o desempenho energ\u00e9tico do n\u00f3, foi medido o seu consumo em\n\ntransmiss\u00e3o e recep\u00e7\u00e3o, 1 a 3.1 W e 0.6 W, respectivamente e em modo stand-by com 0.5\nW.\n\n73\n\n\n\nCAP\u00cdTULO 5. CONCLUS\u00d5ES E TRABALHO FUTURO\n\n5.1 Limita\u00e7\u00f5es\n\nComo em todos os prot\u00f3tipos e suas aplica\u00e7\u00f5es, esta primeira vers\u00e3o ac\u00fastica subaqu\u00e1tica\n\ntamb\u00e9m apresenta algumas limita\u00e7\u00f5es:\n\n\u2022 O microcontrolador n\u00e3o apresenta nenhuma conex\u00e3o com o PC, portanto, se se\n\npretender aceder aos dados recebidos pelo modem s\u00f3 \u00e9 poss\u00edvel via r\u00e1dio (BLE);\n\n\u2022 Apesar dos filtros passa-banda e passa-baixo adicionados entre o amplificador e o\n\ndesmodulador, o desempenho do sistema sofre de alguma degrada\u00e7\u00e3o, devido ao\n\nru\u00eddo existente no meio.\n\n\u2022 Apesar de o prot\u00f3tipo desenvolvido ter sido pensado para efectuar comunica\u00e7\u00e3o bi-\n\ndireccional, nos testes experimentais n\u00e3o o foi poss\u00edvel, dada a limita\u00e7\u00e3o do n\u00famero\n\nde transdutores dispon\u00edveis.\n\n\u2022 O sistema apresenta apenas um m\u00e9todo para detec\u00e7\u00e3o de erros. N\u00e3o foi implemen-\n\ntado um mecanismo de correc\u00e7\u00e3o de erros. O utilizador apenas \u00e9 informado que o\n\nsinal n\u00e3o foi bem recebido.\n\n\u2022 Apesar de o prot\u00f3tipo apresentar um consumo energ\u00e9tico baixo durante a trans-\n\nmiss\u00e3o e recep\u00e7\u00e3o, durante o modo stand-by o seu consumo n\u00e3o \u00e9 suficientemente\nbaixo.\n\n5.2 Trabalho Futuro\n\nDurante todo o percurso e desenvolvimento desta disserta\u00e7\u00e3o, surgiram, naturalmente,\n\nnovas ideias e conceitos com o intuito de aperfei\u00e7oar algumas caracter\u00edsticas do pro-\n\njecto desenvolvido, tentando resolver as limita\u00e7\u00f5es identificadas anteriormente. Como\n\nem qualquer trabalho existem barreiras e limita\u00e7\u00f5es sobretudo devido ao dif\u00edcil acesso a\n\ndeterminados recursos. E, por esse motivo, n\u00e3o foi poss\u00edvel implementar todos os princ\u00ed-\n\npios idealizados que poderiam tornar o modem mais ecl\u00e9tico para uma maior diversidade\nde aplica\u00e7\u00f5es em ambientes aqu\u00e1ticos.\n\nSugiro algumas poss\u00edveis futuras abordagens de trabalho:\n\n\u2022 Com o fim de aumentar a performance do sistema, deviam ser implementados\n\nalgoritmos de detec\u00e7\u00e3o e correc\u00e7\u00e3o de erros mais eficazes.\n\n\u2022 A caracteriza\u00e7\u00e3o do canal ac\u00fastico e a comunica\u00e7\u00e3o digital em meio aqu\u00e1tico pode-\n\nria ser estendida a outros ambientes submersos quer sejam de \u00e1gua doce ou salgada.\n\nTornava-se interessante um meio subaqu\u00e1tico com uma maior din\u00e2mica, possuindo\n\num comportamento dispersivo no dom\u00ednio da frequ\u00eancia mais acentuado. O pro-\n\nt\u00f3tipo teria de ser modificado, permitindo que este fosse efectivamente submerso,\n\nsuportando press\u00f5es razo\u00e1veis para possibilitar os testes em \u00e1guas profundas.\n\n74\n\n\n\n5.2. TRABALHO FUTURO\n\n\u2022 Necessidade de reduzir o consumo de energia do sistema, essencialmente no trans-\n\nmissor, uma vez que a ideia seria alimentar o receptor atrav\u00e9s de um painel solar.\n\nPoderiam ser adicionados circuitos de baixa pot\u00eancia wake-up e sleep-mode.\n\n\u2022 Maior largura de banda e uma taxa de transmiss\u00e3o de dados superior - apreciando\n\nos resultados que foram obtidos, podem ser exploradas outras t\u00e9cnicas de proces-\n\nsamento de sinal. A utiliza\u00e7\u00e3o de um outro esquema de modula\u00e7\u00e3o, aumentaria a\n\nlargura de banda no receptor permitindo maiores taxas de transmiss\u00e3o. No entanto,\n\no aumento da largura de banda no receptor tem um custo, a redu\u00e7\u00e3o do alcance\n\nda transmiss\u00e3o. Por outro lado, optimizar o desempenho do circuito amplificador\n\nde pot\u00eancia do emissor poderia ser outra solu\u00e7\u00e3o, possibilitando um aumento da\n\ndist\u00e2ncia de comunica\u00e7\u00e3o.\n\n\u2022 Canal adaptativo: o design do modem proposto para esta disserta\u00e7\u00e3o apenas atinge\numa boa performance em ambientes com um baixo multi-percurso. Para canais com\n\num maior multi-percurso, poderia ser programado um algoritmo que medisse as\n\ncaracter\u00edsticas do canal e aplicasse uma equaliza\u00e7\u00e3o e/ou aumentar a dura\u00e7\u00e3o do\n\nper\u00edodo de cada s\u00edmbolo.\n\n75\n\n\n\n\n\nBibliografia\n\n[1] D. Estrin, L. Girod, G. Pottie e M. Srivastava. \u201cInstrumenting the World with Wire-\n\nless Sensor Networks\u201d. Em: IEEE International Conference on Acoustics (2001).\n\n[2] M. J. A. Jan M. Rabaey, Julio L. da Silva Jr. , Danny Patel, Shad Roundy. \u201cPicoRa-\n\ndio Supports AdHoc Ultra-Low Power Wireless Networking\u201d. Em: IEEE Computer\n(2000), pp. 42\u201348.\n\n[3] A. K. J. Lynch, K. Law, E. Straser e E. Kenny. \u201cThe Development of a Wireless\n\nModular Health Monitoring System for Civil Structures\u201d. Em: Proceedings of the\nMCEER Mitigation of Earthquake Disaster by Advanced Technologies Workshop (2000).\n\n[4] N. Ramanathan, M. Yarvis, J. Chhabra, N. Kushalnagar, L. Krishnamurthy e D. Es-\n\ntrin. \u201cA Stream-Oriented Power Management Protocol for Low Duty Cycle Sensor\n\nNetwork Applications\u201d. Em: Proceedings of the 2nd IEEE Workshop on Embedded\nSensor Networks (2005).\n\n[5] R. Headrick. \u201cGrowth of Underwater Communication Techonogy in the U.S. Navy\u201d.\n\nEm: IEEE Communication Magazine (2009), pp. 80\u201382.\n\n[6] T. D.Pompili e I.F.Akyildiz. \u201cThree\u2013Dimensional and Two Dimensional Develop-\n\nment Analysis foe Underwater Acoustic Sensor Network\u201d. Em: Ad Hoc Networks\n(2009), pp. 778\u2013790.\n\n[7] V. M. Hung e U. J. Na. \u201cRemote Control System of a 6 DOF Underwater Robot\u201d.\n\nEm: International Conference on Control, Automation and Systems (2008).\n\n[8] T. T. Wu. \u201cElectromagnetic Propagation Between Antennas Submerged in the Ocean\u201d.\n\nEm: IEEE Transactions on Antennas and Propagation (1973).\n\n[9] L. B. Vkbr. \u201cUnderwater Radio Communication\u201d. Em: Amateur Radio (1987), pp. 1\u2013\n8.\n\n[10] R. Moore. \u201cRadio Communications in the Sea\u201d. Em: IEEE Spectrum (1967), pp. 42\u2013\n51.\n\n[11] T Shelley. \u201cRadio Waves Transmit Information Underwater\u201d. Em: Eureka Magazine\n(2005).\n\n[12] Wireless Fibre Systems. url: http://www.wireless_bre.co.uk (acedido em\n28/03/2016).\n\n77\n\nhttp://www.wireless_bre.co.uk\n\n\nBIBLIOGRAFIA\n\n[13] L. Liu, S. Zhou e J.-H. Cui. \u201cProspects and Problems of Wireless Communication for\n\nUnderwater Sensor Networks\u201d. Em: Wireless Communications and Mobile Computing\n(2008), pp. 977\u2013994.\n\n[14] Y. Ito, S. Haruyama e M. Nakagawa. \u201cShort-Range Underwater Wireless Communi-\n\ncation using Visible Light LEDs\u201d. Em: IEICE (2006).\n\n[15] J. R. Apel. \u201cPrinciples of Ocean Physic\u201d. Em: Academic Press 38 (1987), pp. 509\u2013\n584.\n\n[16] H. Arst. \u201cOptical Properties and Remote Sensing of Multicomponental Water Bo-\n\ndies\u201d. Em: Praxis Publising (2003), pp. 8\u201328.\n\n[17] M. A. Chancey. \u201cShort Range Underwater Optical Communication Links\u201d. Em:\n\nNorth Carolina State University (2005).\n\n[18] F. Schill, U. R. Zimmer e J. Trumpf. \u201cVisible Spectrum Optical Communication\n\nand Distance Sensing for Underwater Applications\u201d. Em: Australasian Conference\non Robotics and Automation (2004).\n\n[19] N. Farr, A. Chave, L. Freitag, J. Preisig, S. White e D. Yoerger. \u201cOptical Modem\n\nTechnology for Sea Floor Observatories\u201d. Em: Oceans (2005).\n\n[20] C. Kemker. \u201cWater Temperature: Fundamentals of Environmental Measurements\u201d.\n\nEm: Fondriest Environmental (2014).\n\n[21] Salinity. url: https : / / en . wikipedia . org / wiki / File : Water _ salinity _\ndiagram.png (acedido em 28/03/2016).\n\n[22] R. J. Urick. \u201cPrinciples of Underwater Sound\u201d. Em: New York (1983).\n\n[23] M. a. Ainslie e J. G. Mccolm. \u201cA Simplified Formula for Viscous and Chemical\n\nAbsorption in Sea Water\u201d. Em: The Journal of the Acoustical Society of America 103\n(1998).\n\n[24] P. J. Stojanovic M. \u201cUnderwater Acoustic Communication Channels: Propagation\n\nModels and Statistical Characterization\u201d. Em: IEEE Communications Magazine 47\n(2009), pp. 84\u201389.\n\n[25] P. C. Etter. \u201cUnderwater Acoustic Modeling and Simulation\u201d. Em: Press, CRC (2003).\n\n[26] H. Medwin, C. S. Clay e T. K. Stanton. \u201cFundamentals of acoustical oceanography\u201d.\n\nEm: The Journal of the Acoustical Society of America (1999).\n\n[27] X. Lurton. An Introduction to Underwater Acoustics: Principles and Applications. 2002.\n\n[28] J. Preisig. \u201cAcoustic Propagation Considerations for Underwater Acoustic Com-\n\nmunications Network Development\u201d. Em: Proceedings of First ACM International\nWorkshop on Underwater Networks (2006).\n\n[29] M. Stojanovic. \u201cOn the Relationship Between Capacity and Distance in an Underwa-\n\nter Acoustic Communication Channel\u201d. Em: ACM SIGMOBILE Mobile Computing\nand Communications Review (2006).\n\n78\n\nhttps://en.wikipedia.org/wiki/File:Water_salinity_diagram.png\nhttps://en.wikipedia.org/wiki/File:Water_salinity_diagram.png\n\n\nBIBLIOGRAFIA\n\n[30] A. Abrar, D. Zhang, B. Su, T. W. Button, K. J. Kirk e S. Cochran. \u201c1-3 Connectivity\n\nPiezoelectric Ceramic-Polymer Composite Transducers Made with Viscous Polymer\n\nProcessing for High Frequency Ultrasound\u201d. Em: Ultrasonics 42 (2004), pp. 479\u2013\n484.\n\n[31] A. O. Systems. \u201cApplied Ocean Systems\u201d. Em: SAM1 Wireless Subsea Acoustic Mo-\ndem (2013).\n\n[32] J.-H. Li, B.-H. Jun, P.-M. Lee e S.-W. Hong. \u201cA Hierarchical Real-Time Control\n\nArchitecture for a Semi-Autonomous Underwater Vehicle\u201d. Em: Ocean Engineering\n32 (2005), pp. 1631\u20131641.\n\n[33] M. Martins, J. Cabral, G. Rocha e S. Lanceros-Mendez. \u201cTheoretical Modeling and\n\nExperimental Validation of an Underwater Acoustic Communication System\u201d. Em:\n\nIEEE Journal of Oceanic Engineering (2013).\n\n[34] LinkQuest Inc., underwater acoustic modems. url: http://www.linkquest.com/\nhtml/models1.htm (acedido em 28/03/2016).\n\n[35] Benthos Inc., acoustic modems. url: http://www.benthos.com/acoustic-telesonar-\nmodem-product-comparison.asp (acedido em 28/03/2016).\n\n[36] Aquatec Group, AQUAmodem 500 overview. url: http://www.aquatecgroup.com/\naquamodem.html (acedido em 28/03/2016).\n\n[37] EvoLogics, underwater acoustic modem. url: http : / / www . evologics . de / en /\nproducts/acoustics/index.html (acedido em 28/03/2016).\n\n[38] DSPComm, AquaComm: underwater wireless modem. url: http://www.dspcomm.\ncom/productsaquacomm.html (acedido em 28/03/2016).\n\n[39] J. Wills, W. Ye, J. Heidemann e M. Rey. \u201cLow-Power Acoustic Modem for Dense\n\nUnderwater Sensor\u201d. Em: Proceedings of ACM International Workshop on Underwater\nNetworks (2006).\n\n[40] R. Jurdak, C. V. Lopes e P. Baldi. \u201cSoftware Acoustic Modems for Short Range\n\nMote-based Underwater Sensor Networks\u201d. Em: OCEANS - Asia Pacific (2006).\n\n[41] R. A. Iltis, R. Kastner, D. Doonan, R. Moore e M. Chin. \u201cAn Underwater Acoustic\n\nTelemetry Modem for Eco-Sensing\u201d. Em: Proceedings of OCEANS MTS/IEEE (2005).\n\n[42] T. Fu, D. Doonan, C. Utley, B. Benson, R. Kastner, R. A. Iltis e H. Lee. \u201cAquaMo-\n\ndem Field Tests in Moorea\u201d. Em: Proceedings of ACM International Workshop on\nUnderwater Networks (2007).\n\n[43] J.-I. Namgung, N.-Y. Yun, S.-J. S.-H. Park, C.-H. Kim e J.-H. Jeon. \u201cAdaptive MAC\n\nProtocol and Acoustic Modem for Underwater Sensor Networks\u201d. Em: Proceedings\nof ACM International Workshop on Undderwater Networks (2009).\n\n[44] I. Vasilescu, C. Detweiler e D. Rus. \u201cAquaNodes: An Underwater Sensor Network\u201d.\n\nEm: Proceedings of ACM International Workshop on Underwater Networks (2007).\n\n79\n\nhttp://www.linkquest.com/html/models1.htm\nhttp://www.linkquest.com/html/models1.htm\nhttp://www.benthos.com/acoustic-telesonar-modem-product-comparison.asp\nhttp://www.benthos.com/acoustic-telesonar-modem-product-comparison.asp\nhttp://www.aquatecgroup.com/aquamodem.html\nhttp://www.aquatecgroup.com/aquamodem.html\nhttp://www.evologics.de/en/products/acoustics/index.html\nhttp://www.evologics.de/en/products/acoustics/index.html\nhttp://www.dspcomm.com/products aquacomm.html\nhttp://www.dspcomm.com/products aquacomm.html\n\n\nBIBLIOGRAFIA\n\n[45] H. Yan, S. Zhou, Z. J. Shi e B. Li. \u201cA DSP Implementation of OFDM Acoustic\n\nModem\u201d. Em: Proceedings of ACM International Workshop on Underwater Networks\n(2007).\n\n[46] S. Zhou, Z. Shi, J. Cui, H. Zhou, J. Liu e P. Carroll. \u201cAqua-fModem: A Stand-alone\n\nUnderwater Acoustic Modem Based on OFDM Technology\u201d. Em: Demo Presentation\n(2009).\n\n[47] E. M. Sozer e M. Stojanovic. \u201cReconfigurable Acoustic Modem for Underwater\n\nSensor Networks\u201d. Em: Proceedings of ACM International Workshop on Underwater\nNetworks (2006).\n\n[48] Gendron. \u201cOrthogonal Frequency Division Multiplexing with On-Off-Keying: Non-\ncoherent Performance Bounds, Receiver Design and Experimental Results\u201d. Em:\n\nNavy Journal of Underwater Acoustics 56 (2006), pp. 267\u2013300.\n\n[49] M. Stojanovic. \u201cLow Complexity OFDM Detector for Underwater Acoustic Chan-\n\nnels\u201d. Em: Oceans (2006).\n\n[50] B. Li, S. Zhou, M. Stojanovic, L. L. Freitag e P. Willett. \u201cMulticarrier Communication\n\nover Underwater Acoustic Channels with Non-Uniform Doppler Shifts\u201d. Em: IEEE\nJournal of Oceanic Engineering 33 (2008), pp. 198\u2013209.\n\n[51] B. Li, S. Zhou, M. Stojanovic e P. Willett. \u201cNon-Uniform Doppler Compensation\n\nfor Zero-Padded OFDM over Fast-Varying Underwater Acoustic Channels\u201d. Em:\n\nOCEANS - Europe (2007).\n\n[52] B. Li, S. Zhou, J. Huang e P. Willett. \u201cScalable OFDM Design for Underwater Acous-\n\ntic Communications\u201d. Em: Acoustics, Speech and Signal Processing (2008).\n\n[53] R. A. Iltis. \u201cMatching Pursuits Channel Estimation for an Underwater Acoustic\n\nOFDM Modem\u201d. Em: IEEE International Conference on Acoustics, Speech and Signal\nProcessing (2008).\n\n[54] D. B. Kilfoyle, J. C. Preisig e A. B. Baggeroer. \u201cSpatial Modulation Experiments\n\nin the Underwater Acoustic Channel\u201d. Em: IEEE Journal of Oceanic Engineering 30\n(2005), pp. 406\u2013415.\n\n[55] S. Roy, T. M. Duman, V. McDonald e J. G. Proakis. \u201cHigh Rate Communication for\n\nUnderwater Acoustic Channels using Multiple Transmitters and Space-Time Co-\n\nding: Receiver Structures and Experimental Results\u201d. Em: IEEE Journal of Oceanic\nEngineering 32 (2007), pp. 663\u2013688.\n\n[56] B. Li, S. Zhou, M. Stojanovic, J. Huang e P. Willett. \u201cMIMO-OFDM over an Un-\n\nderwater Acoustic Channel\u201d. Em: Oceans (2007).\n\n[57] B. Benson. \u201cDesign of a Low-Cost Underwater Acoustic Modem for Short-Range\n\nSensor Networking Appications\u201d. Em: University of California, San Diego (2010).\n\n80\n\n\n\nBIBLIOGRAFIA\n\n[58] Z. Yan, J. Huang e C. He. \u201cImplementation of an OFDM Underwater Acoustic\n\nCommunication System on an Underwater Vehicle with Multiprocessor Structure\u201d.\n\nEm: Front. Electr. Electron. Eng. (2007).\n\n[59] G. Parsons, S. Peng e A. Dean. \u201cAn Ultrasonic Communication System for Biotele-\n\nmetry in Extremely Shallow Waters\u201d. Em: In Proceedings of the Third ACM Interna-\ntional Workshop on Wireless Network Testbeds (2008).\n\n[60] T. Won e S. Park. \u201cDesign and Implementation of an Omni-Directional Underwater\n\nAcoustic Micro-Modem based on a Low-Power Microcontroller Unit\u201d. Em: Sensors\n(2012).\n\n[61] A. Sanchez, S. Blanc, P. Yuste, A. Perles e J. Serrano. \u201cAn Ultra-Low Power and\n\nFlexible Physical Modem Design to Develop Energy-Efficient Underwater Sensor\nNetworks\u201d. Em: Sensors (2012).\n\n[62] L. Freitag, M. Grund, S. Singh, J. Partan, P. Koski e K. Ball. \u201cThe WHOI Micro-\n\nModem: An Acoustic Communications and Navigation System for Multiple Plat-\n\nforms\u201d. Em: OCEANS (2005).\n\n[63] LM386 Low Voltage Audio Power Amplifier. url: http://www.ti.com/lit/ds/\nsymlink/lm386.pdf (acedido em 28/03/2016).\n\n[64] LTC6910-1: Digitally Controlled Programmable Gain Amplifiers in SOT-23. url:\nhttp://cds.linear.com/docs/en/datasheet/6910123fa.pdf (acedido em\n\n28/03/2016).\n\n[65] LM324 Quad Operational Amplifiers. url: http://www.ti.com/lit/ds/symlink/\nlm324.pdf (acedido em 28/03/2016).\n\n[66] MCP6001/2/4 Low Power OpAmp. url: http://ww1.microchip.com/downloads/\nen/DeviceDoc/21733j.pdf (acedido em 28/03/2016).\n\n[67] LM78XX Voltage Regulator. url: http://www.mouser.com/ds/2/149/LM7805-\n189995.pdf (acedido em 28/03/2016).\n\n[68] H1c Hydrophone. url: http://shop.nauta-rcs.it/WebRoot/StoreIT2/Shops/\n5246/542A/9832/A64C/5487/7A2B/3E95/9311/B648/H1c_manual.pdf (acedido\n\nem 28/03/2016).\n\n[69] SPS serie: SPS-8770-03. url: http://docs-europe.electrocomponents.com/\nwebdocs/126c/0900766b8126cdcc.pdf (acedido em 28/03/2016).\n\n[70] Piezo-Ceramic Audio Amplifiers: PAA-LM4960SQ-02. url: http://www.sos.sk/a_\ninfo/resource/u/PAA-LM4960SQ-02.pdf (acedido em 28/03/2016).\n\n81\n\nhttp://www.ti.com/lit/ds/symlink/lm386.pdf\nhttp://www.ti.com/lit/ds/symlink/lm386.pdf\nhttp://cds.linear.com/docs/en/datasheet/6910123fa.pdf\nhttp://www.ti.com/lit/ds/symlink/lm324.pdf\nhttp://www.ti.com/lit/ds/symlink/lm324.pdf\nhttp://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf\nhttp://ww1.microchip.com/downloads/en/DeviceDoc/21733j.pdf\nhttp://www.mouser.com/ds/2/149/LM7805-189995.pdf\nhttp://www.mouser.com/ds/2/149/LM7805-189995.pdf\nhttp://shop.nauta-rcs.it/WebRoot/StoreIT2/Shops/5246/542A/9832/A64C/5487/7A2B/3E95/9311/B648/H1c_manual.pdf\nhttp://shop.nauta-rcs.it/WebRoot/StoreIT2/Shops/5246/542A/9832/A64C/5487/7A2B/3E95/9311/B648/H1c_manual.pdf\nhttp://docs-europe.electrocomponents.com/webdocs/126c/0900766b8126cdcc.pdf\nhttp://docs-europe.electrocomponents.com/webdocs/126c/0900766b8126cdcc.pdf\nhttp://www.sos.sk/a_info/resource/u/PAA-LM4960SQ-02.pdf\nhttp://www.sos.sk/a_info/resource/u/PAA-LM4960SQ-02.pdf\n\n\n\n\nA\np\n\u00ea\nn\nd\ni\nc\ne\n\nA\nOr\u00e7amento\n\n83\n\n\n\nAP\u00caNDICE A. OR\u00c7AMENTO\n\nTabela A.1: Lista de materiais, quantidade e pre\u00e7o respectivo\n\nComponente Pre\u00e7o (e)/unidade Unidades Pre\u00e7o (e)\n\nHidrofone H1c 130 1 130\n\nAltifalante SPS-8770-03 11.27 1 11.27\n\nM\u00f3dulo BLE Mini 15 1 15\n\nDDS 9850 9 1 9\n\nPCB 15 1 15\n\nCondensadores Cer\u00e2micos SMD\n\n10 nF 0.01 10 0.1\n\n100 nF 0.02 5 0.1\n\n1 \u00b5F 0.04 10 0.4\n\n10 \u00b5F 0.13 7 0.91\n\nCondensadores El\u00e9ctroliticos\n\n100 uF 0.24 3 0.72\n\n200 uF 0.48 2 0.96\n\nD\u00edodo Schotsky SMD 0.48 5 2.4\n\nResist\u00eancias SMD\n\n1 k? 0.03 2 0.06\n\n1.1 k? 0.03 2 0.06\n\n2.2 k? 0.03 1 0.03\n\n5.1 k? 0.03 1 0.03\n\n10 k? 0.03 13 0.39\n\n47 k? 0.03 1 0.03\n\n100 k? 0.03 2 0.06\n\n1 M? 0.03 2 0.06\n\nPot\u00eanciometros\n\n10 k? 1.37 1 1.37\n\n50 k? 1.21 5 6.05\n\nPinheads\n\nJ14 1.12 2 2.24\n\nJ6 0.67 2 1.34\n\nJ4 0.59 1 0.59\n\nJ2 0.48 3 1.44\n\nSuporte Atmega328P-PU 0.32 1 0.32\n\nAtmega328P-PU 3.21 1 3.21\n\nLM7805 0.54 1 0.54\n\nMCP6004 0.52 2 1.04\n\nLTC6910 3.14 2 6.28\n\nResonador 20 MHz 0.41 1 0.41\n\nTrans\u00edstor NPN 2N2222A 1.76 1 1.76\n\nTOTAL 213.2\n\n84\n\n\n\nA\np\n\u00ea\nn\nd\ni\nc\ne\n\nB\nEsquem\u00e1tico do circuito v.Beta\n\nFigura B.1: Esquem\u00e1tico do circuito desenvolvido em Eagle v.Beta\n\n85\n\n\n\nAP\u00caNDICE B. ESQUEM\u00c1TICO DO CIRCUITO V.BETA\n\nAltifalante\n\nSPS-8770-03\n\nFigura B.2: Camada superior da placa desenvolvida em Eagle v.Beta\n\nAltifalante\n\nSPS-8770-03\n\nFigura B.3: Camada inferior da placa desenvolvida em Eagle v.Beta\n\n86\n\n\n\nA\np\n\u00ea\nn\nd\ni\nc\ne\n\nC\nPrograma\u00e7\u00e3o do Microcontrolador\n\nC.1 C\u00f3digo do Bloco Transmissor\n\n1 #include&lt;Arduino.h>\n\n2 #include&lt;OneWire.h>\n\n3 #include&lt;SoftwareSerial.h>\n\n4 SoftwareSerial mySerial(8, 9);\n\n5\n\n6 #define DATA 13\n\n7 #define W_CLK 12\n\n8 #define FQ_UD 11\n\n9 #define RESET 10\n\n10 #define BLE_MODE 7\n\n11\n\n12 #define pulseHigh(pin)\n\n13 {\n\n14 digitalWrite(pin, HIGH);\n\n15 digitalWrite(pin, LOW);\n\n16 }\n\n17\n\n18 int DS18S20_Pin = 2;\n\n19 OneWire ds(DS18S20_Pin);\n\n20 unsigned long previousTime = 0;\n\n21 const long interval = 8640000;\n\n22 String receber;\n\n23 float temperature;\n\n24\n\n25 float getTemp() {\n\n26 byte data[12];\n\n27 byte addr[8];\n\n28 if ( !ds.search(addr)) {\n\n29 ds.reset_search();\n\n87\n\n\n\nAP\u00caNDICE C. PROGRAMA\u00c7\u00c3O DO MICROCONTROLADOR\n\n30 return -1000;\n\n31 }\n\n32 if ( OneWire::crc8( addr, 7) != addr[7]) {\n\n33 Serial.println(\"CRC?is?not?valid!\");\n34 return -1000;\n\n35 }\n\n36 if ( addr[0] != 0x10 &amp;&amp; addr[0] != 0x28) {\n\n37 Serial.print(\"Device?is?not?recognized\");\n38 return -1000;\n\n39 }\n\n40 ds.reset();\n\n41 ds.select(addr);\n\n42 ds.write(0x44, 1);\n\n43 byte present = ds.reset();\n\n44 ds.select(addr);\n\n45 ds.write(0xBE);\n\n46 for (int i = 0; i &lt;9; i++) {\n\n47 data[i] = ds.read();\n\n48 }\n\n49 ds.reset_search();\n\n50 byte MSB = data[1];\n\n51 byte LSB = data[0];\n\n52 float tempRead = ((MSB&lt;&lt;8) | LSB);\n\n53 float TemperatureSum = tempRead / 16;\n\n54 return TemperatureSum;\n\n55 }\n\n56\n\n57 void tfr_byte(byte data)\n\n58 {\n\n59 for (int i = 0; i &lt;8; i++, data >>= 1) {\n\n60 digitalWrite(DATA, data &amp; 0x01);\n\n61 pulseHigh(W_CLK);\n\n62 }\n\n63 }\n\n64\n\n65 void sendFrequency(double frequency)\n\n66 {\n\n67 int32_t freq = frequency * 4294967295 / 125000000;\n\n68 for (int b = 0; b &lt;4; b++, freq >>= 8) {\n\n69 tfr_byte(freq &amp; 0xFF);\n\n70 }\n\n71 tfr_byte(0x00);\n\n72 pulseHigh(FQ_UD);\n\n73 }\n\n74\n\n75 void AD9850_init()\n\n76 {\n\n77 digitalWrite(RESET, LOW);\n\n78 digitalWrite(W_CLK, LOW);\n\n79 digitalWrite(FQ_UD, LOW);\n\n88\n\n\n\nC.1. C\u00d3DIGO DO BLOCO TRANSMISSOR\n\n80 digitalWrite(DATA, LOW);\n\n81 }\n\n82\n\n83 void AD9850_reset()\n\n84 {\n\n85 digitalWrite(W_CLK, LOW);\n\n86 digitalWrite(FQ_UD, LOW);\n\n87 digitalWrite(RESET, LOW);\n\n88 delay(5);\n\n89 digitalWrite(RESET, HIGH);\n\n90 delay(5);\n\n91 digitalWrite(RESET, LOW);\n\n92 delay(5);\n\n93 digitalWrite(W_CLK, LOW);\n\n94 delay(5);\n\n95 digitalWrite(W_CLK, HIGH);\n\n96 delay(5);\n\n97 digitalWrite(W_CLK, LOW);\n\n98 delay(5);\n\n99 digitalWrite(DATA, LOW);\n\n100 digitalWrite(FQ_UD, LOW);\n\n101 delay(5);\n\n102 digitalWrite(FQ_UD, HIGH);\n\n103 delay(5);\n\n104 digitalWrite(FQ_UD, LOW);\n\n105 }\n\n106\n\n107 void setup()\n\n108 {\n\n109 Serial.begin(300);\n\n110 mySerial.begin(57600);\n\n111 pinMode(FQ_UD, OUTPUT);\n\n112 pinMode(W_CLK, OUTPUT);\n\n113 pinMode(DATA, OUTPUT);\n\n114 pinMode(RESET, OUTPUT);\n\n115 pinMode(BLE_MODE, INPUT);\n\n116 AD9850_init();\n\n117 AD9850_reset();\n\n118 }\n\n119\n\n120 void loop()\n\n121 {\n\n122 unsigned long currentTime = millis();\n\n123 if (digitalRead(BLE_MODE) == HIGH) {\n\n124 if (mySerial.available() > 0) {\n\n125 receber = mySerial.readString();\n\n126 Serial.println(receber);\n\n127 Serial.println(receber);\n\n128 Serial.println(receber);\n\n129 Serial.println(receber);\n\n89\n\n\n\nAP\u00caNDICE C. PROGRAMA\u00c7\u00c3O DO MICROCONTROLADOR\n\n130 Serial.println(receber);\n\n131 }\n\n132 }\n\n133 else {\n\n134 if (mySerial.available() > 0)\n\n135 mySerial.flush();\n\n136 if (currentTime - previousTime > interval) {\n\n137 previousTime = currentTime;\n\n138 temperature = getTemp();\n\n139 Serial.print(\"Temperatura:?\");\n140 Serial.println(temperature);\n\n141 Serial.print(\"Temperatura:?\");\n142 Serial.println(temperature);\n\n143 Serial.print(\"Temperatura:?\");\n144 Serial.println(temperature);\n\n145 Serial.print(\"Temperatura:?\");\n146 Serial.println(temperature);\n\n147 Serial.print(\"Temperatura:?\");\n148 Serial.println(temperature);\n\n149 }\n\n150 }\n\nC.2 C\u00f3digo do Bloco Receptor\n\n1 #include&lt;Arduino.h>\n\n2 #include&lt;VirtualWire.h>\n\n3 #include&lt;SoftwareSerial.h>\n\n4 SoftwareSerial mySerial(8, 9);\n\n5 #define G2 4\n\n6 #define G1 3\n\n7 #define G0 2\n\n8 #define G2_ 7\n\n9 #define G1_ 6\n\n10 #define G0_ 5\n\n11\n\n12 void setup()\n\n13 {\n\n14 mySerial.begin(57600);\n\n15 Serial.begin(300);\n\n16 pinMode(G2, OUTPUT);\n\n17 pinMode(G1, OUTPUT);\n\n18 pinMode(G0, OUTPUT);\n\n19 pinMode(G2_, OUTPUT);\n\n20 pinMode(G1_, OUTPUT);\n\n21 pinMode(G0_, OUTPUT);\n\n22 digitalWrite(G2, HIGH);\n\n23 digitalWrite(G1, LOW);\n\n24 digitalWrite(G0, LOW);\n\n90\n\n\n\nC.2. C\u00d3DIGO DO BLOCO RECEPTOR\n\n25 digitalWrite(G2_, HIGH);\n\n26 digitalWrite(G1_, HIGH);\n\n27 digitalWrite(G0_, HIGH);\n\n28 }\n\n29\n\n30 void loop()\n\n31 {\n\n32 char receber1[] = \"\";\n\n33 char receber2[] = \"\";\n\n34 char receber3[] = \"\";\n\n35 char receber4[] = \"\";\n\n36 char receber5[] = \"\";\n\n37\n\n38 while (Serial.readBytesUntil(\u2019\\n\u2019, receber1, 100) &lt;0) {}\n\n39 while (Serial.readBytesUntil(\u2019\\n\u2019, receber2, 100) &lt;0) {}\n\n40 while (Serial.readBytesUntil(\u2019\\n\u2019, receber3, 100) &lt;0) {}\n\n41 while (Serial.readBytesUntil(\u2019\\n\u2019, receber4, 100) &lt;0) {}\n\n42 while (Serial.readBytesUntil(\u2019\\n\u2019, receber5, 100) &lt;0) {}\n\n43\n\n44 if (strcmp (receber1, receber2) == 0) {\n\n45 if (strcmp (receber1, receber3) == 0) {\n\n46 Serial.write(receber1);\n\n47 mySerial.write(receber1);\n\n48 }\n\n49 else if (strcmp (receber1, receber4) == 0) {\n\n50 Serial.write(receber1);\n\n51 mySerial.write(receber1);\n\n52 }\n\n53 else if (strcmp (receber1, receber5) == 0) {\n\n54 Serial.write(receber1);\n\n55 mySerial.write(receber1);\n\n56 }\n\n57 }\n\n58 else if (strcmp (receber1, receber3) == 0) {\n\n59 if (strcmp (receber1, receber4) == 0) {\n\n60 Serial.write(receber1);\n\n61 mySerial.write(receber1);\n\n62 }\n\n63 else if (strcmp (receber1, receber5) == 0) {\n\n64 Serial.write(receber1);\n\n65 mySerial.write(receber1);\n\n66 }\n\n67 }\n\n68 else if (strcmp (receber1, receber4) == 0) {\n\n69 if (strcmp (receber1, receber5) == 0) {\n\n70 Serial.write(receber1);\n\n71 mySerial.write(receber1);\n\n72 }\n\n73 }\n\n74 else if (strcmp (receber2, receber3) == 0) {\n\n91\n\n\n\nAP\u00caNDICE C. PROGRAMA\u00c7\u00c3O DO MICROCONTROLADOR\n\n75 if (strcmp (receber2, receber4) == 0) {\n\n76 Serial.write(receber2);\n\n77 mySerial.write(receber2);\n\n78 }\n\n79 else if (strcmp (receber2, receber5) == 0) {\n\n80 Serial.write(receber2);\n\n81 mySerial.write(receber2);\n\n82 }\n\n83 }\n\n84 else if (strcmp (receber3, receber4) == 0) {\n\n85 if (strcmp (receber3, receber5) == 0) {\n\n86 Serial.write(receber3);\n\n87 mySerial.write(receber3);\n\n88 }\n\n89 }\n\n90 else {\n\n91 Serial.println(\"Dados?recebidos?incorrectamente!\");\n92 mySerial.println(\"Dados?recebidos?incorrectamente!\");\n93 }\n\n94 }\n\n92\n\n\n\tLista de Figuras\n\tLista de Tabelas\n\tSiglas\n\tIntrodu\u00e7\u00e3o\n\tMotiva\u00e7\u00e3o\n\tObjectivo\n\tEstrutura da Disserta\u00e7\u00e3o\n\n\tComunica\u00e7\u00f5es Digitais em Ambiente Subaqu\u00e1tico\n\tRede de Sensores em Ambiente Subaqu\u00e1tico\n\tComunica\u00e7\u00f5es Subaqu\u00e1ticas Suportadas em Ondas Electromagn\u00e9ticas\n\tOndas de R\u00e1dio Frequ\u00eancia\n\tOndas \u00d3pticas\n\n\tComunica\u00e7\u00f5es Subaqu\u00e1ticas Suportadas em Ondas Ac\u00fasticas\n\tCaracteriza\u00e7\u00e3o do Meio de Suporte ao Canal Ac\u00fastico\n\tPropaga\u00e7\u00e3o Ac\u00fastica\n\tSistemas Ac\u00fasticos Subaqu\u00e1ticos Existentes\n\n\tConclus\u00f5es\n\n\tTransreceptor Ac\u00fastico para Comunica\u00e7\u00f5es Digitais Subaqu\u00e1ticas\n\tArquitectura do Sistema e Or\u00e7amento da Liga\u00e7\u00e3o\n\tTransdutores Electroac\u00fasticos\n\tDesign e Simula\u00e7\u00f5es do Sistema\n\tCircuito Transmissor\n\tCircuito Receptor\n\n\n\tImplementa\u00e7\u00e3o e Teste do Transreceptor Ac\u00fastico Proposto\n\tValida\u00e7\u00e3o Pr\u00e9-Prot\u00f3tipo\n\tImplementa\u00e7\u00e3o do Prot\u00f3tipo em PCB\n\tTeste do Prot\u00f3tipo na \u00c1gua\n\tConfigura\u00e7\u00e3o do Teste\n\tAn\u00e1lise de Resultados\n\n\n\tConclus\u00f5es e Trabalho Futuro\n\tLimita\u00e7\u00f5es\n\tTrabalho Futuro\n\n\tBibliografia\n\tOr\u00e7amento\n\tEsquem\u00e1tico do circuito v.Beta\n\tPrograma\u00e7\u00e3o do Microcontrolador\n\tC\u00f3digo do Bloco Transmissor\n\tC\u00f3digo do Bloco Receptor"}]}}}