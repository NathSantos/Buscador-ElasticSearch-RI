{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.20282"}, {"@name": "filename", "#text": "3753_PFC-20141-CarolinaMaiaVettorazzo.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "Implementac?a?o e avaliac?a?o de uma\nferramenta de acompanhamento de\n\ncontrole preditivo para processos da\nindu?stria do petro?leo\n\nRelato?rio submetido a? Universidade Federal de Santa Catarina\n\ncomo requisito para a aprovac?a?o da disciplina:\n\nDAS 5511: Projeto de Fim de Curso\n\nCarolina Maia Vettorazzo\n\nFloriano?polis, agosto de 2014\n\n\n\nImplementac?a?o e avaliac?a?o de uma ferramenta de\nacompanhamento de controle preditivo para processos\n\nda indu?stria do petro?leo\n\nCarolina Maia Vettorazzo\n\nEsta monografia foi julgada no contexto da disciplina\n\nDAS 5511: Projeto de Fim de Curso\n\ne aprovada na sua forma final pelo\n\nCurso de Engenharia de Controle e Automac?a?o\n\nProf. Ju?lio Normey-Rico\n\nii\n\n\n\nBanca Examinadora:\n\nMario Ce?sar M. Massa de Campos\n\nOrientador Empresa\n\nJu?lio Normey-Rico\n\nOrientador do Curso\n\nProf. Ricardo Jose? Rabelo\n\nResponsa?vel pela disciplina\n\nProf. xxxxxxx, Avaliador\n\naluno1, Debatedor\n\naluno2, Debatedor\n\n\n\nAgradecimentos\n\nAntes de tudo, agradec?o a? minha fam??lia que me apoiou e me acompanhou\n\ndurante toda a graduac?a?o. Obrigado por terem sido mais fortes do que eu e por nunca\n\nterem duvidado de mim, mesmo nos momentos mais dif??ceis.\n\nAgradec?o ao professor Julio Normey-Rico e ao engenheiro Mario Campos pela\n\norientac?a?o e pela oportunidade de desenvolver este trabalho.\n\nTambe?m agradec?o aos membros do projeto na UFSC, que me apoiaram a\n\ndista?ncia e muito me ensinaram sobre o tema, e a todos que conheci no Cenpes pelos\n\nconhecimentos passados a mim, pela ajuda com o meu projeto e pelos momentos\n\ndescontra??dos, que tornaram meu esta?gio ta?o divertido.\n\nAproveito tambe?m para agradecer aos meus amigos, na?o so? aos que estiveram\n\nao meu lado durante minha jornada acade?mica, mas tambe?m aos que estiveram longe\n\ne mesmo assim na?o esqueceram de mim.\n\nPor fim, dedico este trabalho a todos aqueles que conheci atrave?s dos projetos\n\nde pesquisa dos quais participei, da empresa ju?nior Autojun, do centro acade?mico\n\nCAECA e do programa CIne?ncias sem Fronteiras, e que contribu??ram de alguma forma\n\npara o meu crescimento pessoal e para minha formac?a?o profissional.\n\ni\n\n\n\nResumo\n\nO controle preditivo baseado em modelo (CPBM) e? uma das te?cnicas de con-\n\ntrole moderno que provavelmente teve mais e?xito nas aplicac?o?es na indu?stria. Pore?m,\n\numa das dificuldades encontradas na aplicac?a?o de CPBM e? a sintonia e avaliac?a?o de\n\ndesempenho do sistema de controle.\n\nEm geral, os diversos algoritmos de CPBM utilizam diferentes func?o?es de custo\n\npara calcular a lei de controle, pore?m a maioria deles considera como objetivo mini-\n\nmizar o erro entre a sa??da futura e a refere?ncia desejada penalizando o esforc?o incre-\n\nmental de controle. Assim, a sintonia desses controladores e? diretamente dependente\n\ndas ponderac?o?es das varia?veis controladas e das manipuladas e tambe?m da predic?a?o\n\ncalculada a partir do modelo de predic?a?o.\n\nAlgumas abordagens de avaliac?a?o de controle existentes na?o permitem definir\n\nqual varia?vel controlada tem o pior seguimento a refere?ncia e nem o motivo do de-\n\nsempenho ruim. Existem ainda metodologias que auxiliam os projetistas a escolher\n\nas de ponderac?o?es, mas que na?o garantem que as escolhas feitas sa?o as melhores\n\nposs??ves.\n\nPor isso a necessidade de me?todos de avaliac?a?o de desempenho de sistemas\n\nde controle MPC e? largamente reconhecida no meio industrial. Com base nisso, foram\n\nutilizados seis ??ndices, descritos em [13] que avaliam o desempenho e a sintonia do\n\ncontrolador: os Desvios Me?dios, o I?ndice de Seguimento de Refere?ncia Relativo, o\n\nI?ndice de Supressa?o de Movimento, o I?ndice de Controle Relativo, o I?ndice do Erro\n\nde Predic?a?o e o I?ndice de Estabilidade. Estes ??ndices mostram se as varia?veis esta?o\n\nseguindo a refere?ncia de forma satisfato?ria e caso elas na?o estajam, os ??ndices indicam\n\no porque?.\n\nEste trabalho mostra, a partir de simulac?o?es de diversos cena?rios de operac?a?o\n\nde uma planta real, que os ??ndices sa?o uma ferramenta de grande potencial para\n\navaliac?a?o do desempenho do controle e identificac?a?o dos problemas que impedem\n\num bom desempenho.\n\nii\n\n\n\nAbstract\n\nModel Predictive Control (MPC) is probably one of the most successful control\n\ntechniques used in industrial applications. However, this technology has limitations like\n\nthe tuning procedure and the control system performance evaluation.\n\nThe various MPC algorithms propose different cost functions for obtaining the\n\ncontrol law, but the general aim is to minimize the error between the future output and\n\nthe reference signal, penalizing the control effort necessary for doing so. Therefore,\n\nthese controllers tuning depend on the weighting sequences and the future output.\n\nSome available performance evaluation approaches do not indicate which varia-\n\nble does not follow the reference signal well or why. There are also methodologies that\n\nhelp designers to choose the weighting sequences, but they do not guarantee the best\n\nchoice as a result.\n\nThat is why there is still the need of new evaluation methods. Based on that, six\n\nindices were created. They tell if the controlled variables are following the reference\n\nand if they are not, why.\n\nThis work show, through various scenarios simulations, that the indices are a\n\ngreat tool to analyze the control performance and identify possible problems that pre-\n\nvent a good performance.\n\niii\n\n\n\nSuma?rio\n\nLista de Figuras vi\n\n1 Introduc?a?o 1\n\n2 Controle Preditivo de Processos da Indu?stria de Petro?leo e Ga?s 4\n\n2.1 Elementos do CPBM . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 5\n\n2.1.1 O modelo de predic?a?o . . . . . . . . . . . . . . . . . . . . . . . . 6\n\n2.1.1.1 O modelo do processo . . . . . . . . . . . . . . . . . . 6\n\n2.1.1.2 Modelo das perturbac?o?es . . . . . . . . . . . . . . . . . 9\n\n2.1.1.3 Resposta livre e forc?ada . . . . . . . . . . . . . . . . . 10\n\n2.1.2 Func?a?o Objetivo . . . . . . . . . . . . . . . . . . . . . . . . . . . 11\n\n2.1.3 Obtenc?a?o da lei de controle . . . . . . . . . . . . . . . . . . . . . 13\n\n2.2 Controle por Matriz Dina?mica (DMC) . . . . . . . . . . . . . . . . . . . . 14\n\n2.2.1 DMC Original . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 14\n\n2.2.2 DMC Recursivo . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n\n2.3 DMC Multivaria?vel . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 19\n\n2.3.1 DMC Recursivo Multivaria?vel . . . . . . . . . . . . . . . . . . . . 22\n\n2.4 Comenta?rios finais . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 23\n\n3 Ferramenta de Aux??lio a Sintonia Total (FAST MPC) 24\n\n3.1 Ca?lculo dos ??ndices . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\n\n3.1.1 Desvios Me?dios . . . . . . . . . . . . . . . . . . . . . . . . . . . 27\n\n3.1.2 I?ndice de Estabilidade . . . . . . . . . . . . . . . . . . . . . . . . 28\n\n3.1.3 I?ndices de Seguimento de Refere?ncia Relativo . . . . . . . . . . 29\n\n3.1.4 I?ndices Controle Relativo . . . . . . . . . . . . . . . . . . . . . . 30\n\niv\n\n\n\n3.1.5 I?ndices de Supressa?o de Movimento . . . . . . . . . . . . . . . . 31\n\n3.1.6 I?ndices do Erro de Modelagem . . . . . . . . . . . . . . . . . . . 32\n\n3.2 Apresentac?a?o Gra?fica dos Resultados . . . . . . . . . . . . . . . . . . . 32\n\n3.3 Me?todo Proposto para Tomada de Decisa?o . . . . . . . . . . . . . . . . 33\n\n3.3.1 Ana?lise dos I?ndices de Seguimento Relativos . . . . . . . . . . . 33\n\n3.3.2 Ana?lise dos I?ndices de Supressa?o de Movimento . . . . . . . . . 33\n\n4 Caso de estudo e ferramentas de simulac?a?o e controle 35\n\n4.1 UPGN . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 35\n\n4.1.1 Controle do teor de C2 no GLP - y3 . . . . . . . . . . . . . . . . 37\n\n4.1.2 Controle do teor de C5 na gasolina natural - y8 . . . . . . . . . . 39\n\n4.1.3 Controle da abertura da va?lvula de pressa?o - y7 . . . . . . . . . 40\n\n4.2 BRLumina . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40\n\n4.3 Comenta?rios finais . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 41\n\n5 Implementac?a?o do FAST 43\n\n5.1 Comenta?rios finais . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 44\n\n6 Avaliac?a?o dos ??ndices e resultados 45\n\n6.1 Caso zero: cena?rio inicial . . . . . . . . . . . . . . . . . . . . . . . . . . 45\n\n6.2 Caso 1: cena?rios com erros de modelagem . . . . . . . . . . . . . . . . 49\n\n6.3 Caso 2: Cena?rios com alterac?o?es na supressa?o das ac?o?es de controle . 50\n\n6.4 Comenta?rios finais . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n\n7 Cap??tulo 7: Concluso?es e Perspectivas 54\n\nRefere?ncias Bibliogra?ficas 55\n\nv\n\n\n\nLista de Figuras\n\n4.1 Esquema simplificado da UPGN . . . . . . . . . . . . . . . . . . . . . . 35\n\n4.2 Esquema simplificado torre desbutanizadora . . . . . . . . . . . . . . . 42\n\n4.3 Exemplo de cena?rio do BRLumina . . . . . . . . . . . . . . . . . . . . . 42\n\n6.1 Desvios Me?dios . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 47\n\n6.2 I?ndices de Seguimento Relativo . . . . . . . . . . . . . . . . . . . . . . . 47\n\n6.3 I?ndices de Supressa?o de Movimento e Controle Relativo . . . . . . . . . 48\n\n6.4 I?ndices de Erro de Modelagem . . . . . . . . . . . . . . . . . . . . . . . 48\n\n6.5 I?ndice de Estabilidade . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49\n\n6.6 I?ndices de Erro de Modelagem . . . . . . . . . . . . . . . . . . . . . . . 51\n\n6.7 I?ndices de Supressa?o e Controle Relativo . . . . . . . . . . . . . . . . . 53\n\nvi\n\n\n\nCap??tulo 1: Introduc?a?o\n\nO controle preditivo baseado em modelo (CPBM) e? uma das te?cnicas de controle\n\nmoderno que provavelmente teve mais e?xito nas aplicac?o?es na indu?stria porque suas\n\nestrate?gias podem ser aplicadas tanto a sistemas monovaria?veis como multivaria?veis,\n\nas restric?o?es nas sa??das e nas ac?o?es de controle podem ser consideradas no projeto\n\nda lei de controle em tempo real e, pela pro?pria definic?a?o dos algoritmos, podem ser\n\nusadas para controlar processos com atrasos.\n\nPore?m, uma das dificuldades encontradas na aplicac?a?o de CPBM e? a sintonia e\n\navaliac?a?o de desempenho do sistema de controle. Em geral, os diversos algoritmos\n\nde CPBM utilizam diferentes func?o?es de custo para calcular a lei de controle, pore?m\n\na maioria deles considera como objetivo minimizar o erro entre a sa??da futura e a\n\nrefere?ncia desejada penalizando o esforc?o incremental de controle. Nas func?o?es de\n\ncusto o erro e o incremento de controle aparecem multiplicados por coeficientes que\n\npermitem dar mais ou menos importancia a minimizac?a?o de um ou de outro. Esses\n\ncoeficientes podem ser seque?ncias ou matrizes de ponderac?a?o do erro e do esforc?o\n\nde controle.\n\nAssim, a sintonia desses controladores e? diretamente dependente das ponderac?o?es\n\ndas varia?veis controladas e das varia?veis manipuladas, e tambe?m da predic?a?o, ou\n\nsa??da futura, calculada a partir do modelo de predic?a?o. Por isso, para conseguir o de-\n\nsempenho desejado do controlador sa?o necessa?rios bons modelos de predic?a?o e uma\n\nboa escolha nas ponderac?o?es das varia?veis.\n\nPor isso a necessidade de me?todos de avaliac?a?o de desempenho de sistemas\n\nde controle MPC e? largamente reconhecida no meio industrial. Algumas abordagens\n\nnessa direc?a?o baseiam-se na comparac?a?o do desempenho do sistema de controle\n\nsob ana?lise a um MPC baseado em varia?ncia m??nima. Entretanto, com essa aborda-\n\ngem na?o se pode definir qual varia?vel controlada tem o pior seguimento a refere?ncia\n\ne nem porque ela tem um desempenho ruim. Existem ainda metodologias que auxi-\n\nliam os projetistas a escolher as de ponderac?o?es, levando em considerac?a?o restric?o?es\n\n1\n\n\n\noperacionais e custos, por exemplo. Mas essas metodologias na?o garantem que as\n\nescolhas feitas sa?o as melhores poss??ves.\n\nCom base nos para?metros da func?a?o custo e na importa?ncia de uma boa predic?a?o,\n\nforam criados cinco ??ndices que avaliam o desempenho e a sintonia do controlador:\n\n1. Desvios Me?dios\n\n2. I?ndices de Seguimento de Refere?ncia Relativo\n\n3. I?ndices de Supressa?o de Movimento\n\n4. I?ndices de Controle Relativo\n\n5. I?ndices do Erro de Predic?a?o\n\n6. I?ndices de Estabilidade\n\nO objetivo deste trabalho e? validar o funcionamento desses ??ndices atraves da\n\nsimulac?a?o de diversos cena?rios de operac?a?o no BRLumina, um software da Petrobra?s\n\nque permite a avaliac?a?o do funcionamento do controlador em um ambiente offline. A\n\nUnidade de Processamento de Ga?s Natural Atalaia, em Serjipe, foi a planta escolhida\n\npara ser simulada no BRLumina. O controle preditivo implementado nesta unidade e?\n\ndo tipo Dinamic Matrix Control.\n\nAtrave?s dos ??ndices e? poss??vel verificar se as varia?veis esta?o seguindo a re-\n\nfere?ncia de forma satisfato?ria e caso elas na?o estejam, os ??ndices indicam o porque?.\n\nDurante o projeto, foram criados cena?rios com erros de modelagem, com alterac?o?es\n\nde sintonia e com ru??do, com o intuito de verificar se os ??ndices sa?o de fato capazes\n\nde mostrar esses problemas. Os resultados deste trabalho mostram que estes ??ndices\n\nsa?o uma ferramenta de grande potencial para avaliac?a?o do desempenho do controle e\n\nidentificac?a?o de pontos de melhoria.\n\nEstes ??ndices [13] esta?o sendo desenvolvidos no projeto de colaborac?a?o entre\n\no DAS e a Petrobra?s na a?rea de controle avanc?ado. Este projeto de fim de curso foi\n\nrealizado no Centro de Pesquisas e Desenvolvimento Leopoldo Ame?rico Miguez de\n\nMello (Cenpes) da Petrobra?s, no Rio de Janeiro.\n\nA Petrobra?s e? uma empresa integrada de energia nos setores explorac?a?o e\n\nproduc?a?o, refino, comercializac?a?o, transporte, petroqu??mica, distribuic?a?o de derivados,\n\nga?s natural, energia ele?trica, ga?s-qu??mica e biocombust??veis. A empresa, que hoje e?\n\n2\n\n\n\nl??der do setor petrol??fero no Brasil, esta? presente em outros 17 pa??ses. E a meta ate?\n\n2030 e? estar entre as 5 maiores empresas de energia do mundo. Para isso, inovac?a?o\n\ne? fundamental e por isso muitos projetos em colaborac?a?o com universidades esta?o\n\nsendo realizados no Cenpes, que hoje centraliza as atividades de pesquisa e desen-\n\nvolvimento da empresa.\n\nO cap??tulo 2 traz uma revisa?o da teoria de controle preditivo e dos conceitos\n\nusados na formulac?a?o dos ??ndices apresentados no cap??tulo 3. O cap??tulo 4 explica o\n\nprocesso estudado atrave?s dos ??ndices e o software de simulac?a?o utilizado. O cap??tulo\n\n5 explica como a ferramenta foi implementada e no cap??tulo 6 sa?o apresentados os re-\n\nsultados obtidos atrave?s das simulac?o?es. As concluso?es sa?o apresentadas no cap??tulo\n\n7.\n\n3\n\n\n\nCap??tulo 2: Controle Preditivo de\n\nProcessos da Indu?stria de Petro?leo e\n\nGa?s\n\nO controle preditivo baseado em modelo (CPBM) e? uma das te?cnicas de con-\n\ntrole moderno mais potentes e provavelmente a que teve mais e?xito nas aplicac?o?es na\n\nindu?stria. As principais causas deste e?xito devem-se a que as estrate?gias de CPBM po-\n\ndem ser aplicadas tanto a sistemas monovaria?veis como multivaria?veis, as restric?o?es\n\nnas sa??das e nas ac?o?es de controle podem ser consideradas no projeto da lei de con-\n\ntrole em tempo real e, pela pro?pria definic?a?o dos algoritmos, podem ser usadas para\n\ncontrolar processos com atrasos.\n\nO CPBM na?o e? uma estrate?gia de controle espec??fica, mas e? o nome dado a um\n\nconjunto muito grande de me?todos de controle que foram desenvolvidos considerando\n\nalgumas ideias comuns. As caracter??sticas comuns destes sistemas de controle sa?o\n\nbasicamente:\n\n\u2022 usam um modelo expl??cito do processo para predizer a sa??da 1 do mesmo num\ndeterminado horizonte finito;\n\n\u2022 calculam as ac?o?es de controle para todo o horizonte a partir da minimizac?a?o de\numa determinada func?a?o objetivo;\n\n\u2022 o horizonte e? deslizante, pelo que, para cada per??odo de amostragem, o hori-\nzonte e? deslocado um passo para frente, aplica-se unicamente a ac?a?o de con-\n\ntrole daquele instante e desconsidera-se o resto dos controles dentro do hori-\n\nzonte.\n\nAs diferenc?as entre os diversos algoritmos existentes devem-se basicamente a?\n1Usaremos o termo sa??da da planta para as varia?veis controladas e o termo controle para as varia?veis\n\nmanipuladas\n\n4\n\n\n\nforma de escolher os modelos para o processo e as perturbac?o?es, ao tipo de func?a?o\n\nobjetivo e ao procedimento para manipular as restric?o?es e o ca?lculo do controle.\n\nMuitas te?cnicas de controle preditivo tem sido aplicadas com e?xito na indu?stria\n\n[7]. A maioria dos resultados de aplicac?a?o pra?tica de CPBM correspondem a? familia dos\n\nalgoritmos que surgiram no ambiente industrial, como o controle por matriz dina?mica\n\n(\u201cDynamic Matrix Control\u201d, DMC) [5] e o controle algor??tmico baseado em modelo (\u201cMo-\n\ndel Algorithm Control\u201d, MAC) [17]. Estes algoritmos utilizam modelos de tipo resposta\n\nao impulso ou ao degrau para descrever o processo e modelos bem simples para a\n\ndescric?a?o das perturbac?o?es.\n\nPor outro lado, existe outra fam??lia de algoritmos dentro da classe de CPBM que\n\nsurgiram no meio acade?mico, geralmente relacionados ao controle adaptativo, e que\n\npossuem uma se?rie de caracter??sticas diferentes aos do primeiro grupo [6]. Neste\n\nsegundo grupo, onde devem ser inclu??dos o controle preditivo generalizado (\u201cGene-\n\nralized Predictive Controller\u201d, GPC) [4], o controle adaptativo de predic?a?o extendida\n\nEPSAC (\u201cExtended Prediction Self Adaptive Control\u201d) [10], o controle adaptativo de\n\nhorizonte extendido EHAC (\u201cExtended Horizon Adaptive Control\u201d) [21] e o controle pre-\n\nditivo unificado UPC [19], a planta e? representada por uma func?a?o de transfere?ncia e as\n\nperturbac?o?es sa?o representadas por um modelo auto-regressivo integrado e de me?dia\n\nmo?vel (normalmente denominado na literatura inglesa modelo ARIMA [9]), enquanto as\n\npredic?o?es da sa??da do processo calculam-se usando preditores o?timos.\n\n2.1: Elementos do CPBM\n\nTodos os algoritmos de CPBM possuem os seguintes elementos em comum:\n\n\u2022 O modelo de predic?a?o\n\n\u2022 A func?a?o objetivo\n\n\u2022 Um me?todo para a obtenc?a?o da lei de controle\n\nsendo que as diferentes opc?o?es de modelo, func?a?o objetivo e me?todo de ca?lculo do\n\ncontrole geram as diversas verso?es de controladores propostos na literatura.\n\n5\n\n\n\n2.1.1: O modelo de predic?a?o\n\nO modelo de predic?a?o e? provavelmente o elemento mais importante dentro do\n\ncontrolador, dado que ele deve ser capaz de representar adequadamente a dina?mica\n\ndo processo, deve permitir o ca?lculo das predic?o?es da sa??da do processo, ser intuitivo\n\ne, ao mesmo tempo, permitir uma ana?lise teo?rica do sistema.\n\n2.1.1.1: O modelo do processo\n\nAs diferentes estrate?gias de CPBM utilizam diferentes formas para representar\n\nas relac?o?es entre entradas manipuladas, perturbac?o?es e sa??das do processo. Em\n\ngeral, os modelos tambe?m incluem uma representac?a?o matema?tica das perturbac?o?es\n\ne do ru??do, assim como dos erros de modelagem. Em geral, o modelo e? separado em\n\nduas partes: no modelo do processo propriamente dito e no modelo das perturbac?o?es;\n\nambos necessa?rios para o ca?lculo das predic?o?es.\n\nOs modelos mais usados para representar ao processo sa?o:\n\n\u2022 Resposta Impulsiva. E? utilizado no MAC e em casos especiais no GPC e no\nEPSAC. A relac?a?o entrada sa??da vem dada por:\n\ny(t) =\n??\ni=1\n\nhiu(t? i)\n\nonde hi sa?o as amostras da sa??da do processo correspondente a? aplicac?a?o de\n\num impulso na entrada do mesmo. Em geral, como esta seque?ncia e? infinita a\n\nresposta e? truncada para os primeiros M valores, pelo que o modelo somente\n\npode ser usado com plantas esta?veis, onde hi ? 0 quando i ??:\n\ny(t) =\nM?\ni=1\n\nhiu(t? i) = H(z?1)u(t) (2.1)\n\nonde H(z?1) = h1z?1 + h2z?2 + \u00b7 \u00b7 \u00b7 + hNz?N , e z?1 e? o operador atraso unita?rio.\n\nA predic?a?o da sa??da em t + k calculada no instante t (doravante y?(t + k | t))\nusando este modelo e? calculada como:\n\ny?(t + k | t) =\nM?\ni=1\n\nhiu(t + k ? i | t) = H(z?1)u(t + k | t)\n\n6\n\n\n\nEste me?todo e? bastante utilizado na pra?tica devido a que oferece como vanta-\n\ngens: (a) e? intuitivo; (b) na?o precisa de conhecimento a-priori do processo para\n\naplicar um me?todo de identificac?a?o e pode ser usado em plantas multivaria?veis\n\nsem acrescentar complexidade, e (c) descreve de maneira simples efeitos mais\n\ncomplexos da dina?mica do processo como atrasos e comportamentos de fase\n\nna?o minima.\n\nPor outro lado apresenta alguns inconvenientes: (a) na?o pode ser usado com\n\nplantas insta?veis e (b) necessita utilizar um grande nu?mero de para?metros para\n\ndescrever o modelo. Geralmente M pode ser 40 ou 50, valor que pode aumentar\n\nainda mais se o processo tiver um atraso grande.\n\n\u2022 Resposta ao degrau. E? usado pelo DMC e suas variantes. E? similar ao anterior\nmas usa um degrau unita?rio como sinal de entrada. Para sistemas esta?veis a\n\nresposta e?:\n\ny(t) = y0 +\n??\ni=1\n\ngi?u(t? i) = y0 + G(z?1)(1 ?z?1)u(t) (2.2)\n\nonde os gi sa?o as amostras da sa??da obtida ao aplicar o degrau e ?u(t) = u(t)?\nu(t? 1). Considerando o sistema no ponto de operac?a?o y0 a predic?a?o pode ser\ncalculada como:\n\ny?(t + k | t) =\n??\ni=1\n\ngi?u(t + k ? i | t)\n\nA relac?a?o entre este modelo e o de resposta impulsiva e? dada por:\n\nhi = gi ?gi?1 gi =\ni?\n\nj=1\n\nhj\n\nResulta, claro, que este modelo tem as mesmas vantagens e inconvenientes que\n\no anterior.\n\n\u2022 Func?a?o de Transfere?ncia. Este modelo e? usado no GPC, UPC, EPSAC, EHAC entre\noutros. Utiliza o conceito de func?a?o de transfere?ncia G = B/A:\n\nA(z?1)y(t) = B(z?1)u(t)\n\n7\n\n\n\nonde z?1 representa o operador de atraso no tempo 2, os polino?mios ficam com\n\na seguinte estrutura\n\nA(z?1) = 1 + a1z\n?1 + a2z\n\n?2 + \u00b7 \u00b7 \u00b7 + anaz?na\n\nB(z?1) = b1z\n?1 + b2z\n\n?2 + \u00b7 \u00b7 \u00b7 + bnbz?nb\n\nA predic?a?o e? calculada como:\n\ny?(t + k | t) =\nB(z?1)\n\nA(z?1)\nu(t + k | t)\n\nEsta representac?a?o tem como vantagens principais que pode ser usada para\n\nplantas insta?veis e que precisa, em geral, de poucos para?metros para descrever\n\no comportamento do sistema (o atraso, por exemplo, pode ser descrito apenas\n\ncom um para?metro). Ja? seu principal inconveniente e? a necessidade de conhecer\n\na priori a ordem dos polino?mios A e B quando o modelo deve ser identificado a\n\npartir de dados experimentais.\n\n\u2022 Espac?o de estados. E? usado no controle preditivo funcional PFC [16] e tem a\nseguinte representac?a?o:\n\nx(t) = Mx(t? 1) + Nu(t? 1)\n\ny(t) = Qx(t)\n\nonde x e? o estado e M, N e Q sa?o matrizes de dimenso?es compat??veis. A\n\npredic?a?o e? calculada como:\n\ny?(t + k | t) = Qx?(t + k | t) = Q\n\n[\nMkx(t) +\n\nk?\ni=1\n\nMi?1Nu(t + k ? i | t)\n\n]\n\nSua principal vantagem e? que pode ser usada diretamente para processos mul-\n\ntivaria?veis. Como inconvenientes, cabe mencionar que, em geral, os estados\n\nna?o tem significado f??sico, e que na maioria das vezes e? necessa?rio o uso de\n\nobservadores, aumentando assim a complexidade de ca?lculo do controle.\n2neste cap??tulo z?1 tambe?m representara? a variavel complexa associada a transformada Z nos casos\n\nque se trabalhe com func?a?o de transfere?ncia\n\n8\n\n\n\n\u2022 Outros modelos. Todos os modelos anteriormente descritos consideram so-\nmente o comportamento linear ou linearizado do processo, e, por sua simpli-\n\ncidade, sa?o os mais utilizados. Pore?m, modelos na?o lineares tambe?m podem\n\nser usados para descrever a dina?mica do processo quando os modelos lineares\n\nna?o geram bons resultados. E? importante salientar, entretanto, que a soluc?a?o do\n\nproblema nestes casos apresenta alguns inconvenientes adicionais como: (a)\n\na obtenc?a?o do modelo do processo se torna mais dif??cil, e (b) a complexidade\n\ndos algoritmos de controle resultantes. Redes neurais [20] ou lo?gica nebulosa\n\n[18] podem ser usadas em algumas aplicac?o?es para determinar o modelo de\n\npredic?a?o.\n\nO CPBM na?o linear e? um campo aberto para pesquisas tanto na a?rea de determinac?a?o\n\nde modelos como nos procedimentos e algoritmos de otimizac?a?o para o ca?lculo\n\ndo controle.\n\n2.1.1.2: Modelo das perturbac?o?es\n\nA escolha de um modelo para as perturbac?o?es e? ta?o importante quanto a do\n\nprocesso. O modelo mais utilizado para a descric?a?o de perturbac?o?es determin??sticas\n\ne estoca?sticas e? o conhecido como modelo auto-regressivo integrado de media mo?vel\n\n(Auto-Regressive and Integrated Moving Average (ARIMA)). Neste caso, as diferenc?as\n\nentre a sa??da do modelo e do processo sa?o modeladas por:\n\n?(t) =\nC(z?1)e(t)\n\nD(z?1)\n\nonde o polino?mio D(z?1) inclui um integrador ? = 1 ? z?1, e(t) e? um ru??do branco de\nme?dia zero. Os demais para?metros dos polino?mios C e D sa?o usados para descre-\n\nver as carater??sticas estoca?sticas de n. Este modelo permite representar mudanc?as\n\naleato?rias, \u201coff-sets\u201de outros feno?menos normalmente encontrados nos meios indus-\n\ntriais. Este modelo e? usado diretamente no GPC, EPSAC, EHAC e UPC e, com algumas\n\nmodificac?o?es, em outros controladores.\n\nAlguns casos particulares importantes sa?o: (a) o modelo usado em DMC,\n\n?(t) =\ne(t)\n\n1 ?z?1\n\nonde a melhor predic?a?o para ??(t + k | t) = ?(t) dado que e(t) tem me?dia zero; ou (b) o\n\n9\n\n\n\nmodelo usado no PFC\n\n?(t) =\ne(t)\n\n(1 ?z?1)2\n\nonde ??(t + k | t) = ?(t) + (?(t) ??(t? 1))k.\n\nOutras variac?o?es destes modelos e estudos sobre o efeito do modelo das perturbac?o?es\n\nno sistema de controle podem ser encontradas em [1, 14].\n\n2.1.1.3: Resposta livre e forc?ada\n\nUma carater??stica comum nos CPBM com modelos lineares, e? a utilizac?a?o dos\n\nconceitos de resposta livre e forc?ada. A ideia e? considerar a seque?ncia de controle\n\ncomposta por duas partes:\n\nu(t) = uf (t) + uc(t)\n\nuf (t) correspondente aos valores passados da entrada e que sa?o mantidos iguais aos\n\nvalores da varia?vel manipulada:\n\nuf (t? j) = u(t? j) para j = 1, 2, \u00b7 \u00b7 \u00b7\n\nuf (t + j) = u(t? 1) para j = 0, 1, 2, \u00b7 \u00b7 \u00b7\n\nuc(t) e? zero no passado e igual aos controles a serem aplicados no futuro:\n\nuc(t? j) = 0 para j = 1, 2, \u00b7 \u00b7 \u00b7\n\nuc(t + j) = u(t + j) ?u(t? 1) para j = 0, 1, 2, \u00b7 \u00b7 \u00b7\n\nDesta forma a predic?a?o da sa??da do processo pode ser separada em duas par-\n\ntes: a resposta livre (yf (t)), que corresponde a? predic?a?o quando a entrada e igualada\n\na? uf (t), e a outra, a? resposta forc?ada (yc(t)), que corresponde as predic?o?es quando o\n\ncontrole e? igual a uc(t). Como ser e? mostrado adiante, estes conceitos sa?o importantes\n\npara a interpretac?a?o da forma como o controle e? obtido.\n\n10\n\n\n\n2.1.2: Func?a?o Objetivo\n\nEm geral, os diversos algoritmos de CPBM utilizam diferentes func?o?es de custo\n\npara calcular a lei de controle, pore?m a maioria deles consideram como objetivo mini-\n\nmizar o erro entre a sa??da futura (y) e a refere?ncia desejada (w) penalizando o esforc?o\n\nincremental de controle ?u.\n\nAssim, a expressa?o mais geral desta func?a?o objetivo para o caso monovaria?vel\n\ne?:\n\nJ =\n\nN2?\nj=N1\n\n?(j)[y?(t + j | t) ?w(t + j)]2 +\nNu?\nj=1\n\n?(j)[?u(t + j ? 1)]2 (2.3)\n\nOs elementos desta func?a?o sa?o:\n\n\u2022 Para?metros: N1, N2, Nu, ?(t) e ?(t). N1 e N2 sa?o os horizontes de predic?a?o\nm??nimo e ma?ximo, Nu e? o horizonte de controle. Os valores destes ??ndices tem\n\numa interpretac?a?o clara ja? que definem os instantes onde deseja-se que a re-\n\nfere?ncia siga a? sa??da e onde e? importante limitar a ac?a?o de controle. Assim,\n\nse, por exemplo, N1 e? grande implica que na?o e? importante o erro cometido nos\n\nprimeiros N1 ? 1 instantes e a resposta obtida tendera? a ser suave. No caso\nparticular de sistemas com um atraso de valor d, e? lo?gico escolher N1 > d, ja?\n\nque na?o havera? resposta do sistema a? entrada u(t) ate? o tempo t = d. Variando\n\nNu e? poss??vel penalizar durante mais ou menos tempo a ac?a?o de controle. Os\n\ncoeficientes ?(j) e ?(j) sa?o as seque?ncias de ponderac?a?o do erro e do esforc?o\n\nde controle e geralmente sa?o escolhidas constantes ou exponenciais ao longo\n\ndo horizonte. Por exemplo, uma func?a?o do tipo:\n\n?(j) = ?N2?j\n\npermite variar a penalizac?a?o do erro em diferentes partes do horizonte. Assim,\n\npara, por exemplo, gerar respostas mais suaves, escolhe-se um de valor ? entre\n\n0 e 1 de forma tal que sejam mais penalizados os u?ltimos valores do erro dentro\n\ndo horizonte.\n\n\u2022 Trajeto?ria de refere?ncia: uma das vantagens do CPBM e? a possibilidade de utili-\nzar o conhecimento dos valores futuros da refere?ncia (quando dispon??veis) para\n\no ca?lculo do sinal de controle, o que permite, por exemplo que o sistema atinja\n\n11\n\n\n\nmais rapidamente o novo valor desejado. Esta carater??stica torna-se interessante\n\nem algumas aplicac?o?es como em robo?tica mo?vel e manipuladora, em servo-\n\nacionamentos e em processos do tipo batelada, onde as refere?ncias futuras sa?o\n\nconhecidas a priori.\n\nOs valores de w(t + k) utilizados na func?a?o objetivo na?o sa?o necessariamente\n\ncoincidentes com a refere?ncia real do sistema. Normalmente, nas aplicac?o?es\n\npra?ticas, utilizam-se estrate?gias para suavizar as mudanc?as de refere?ncia, de\n\nforma similar aos filtros utilizados nas estruturas cla?ssicas de controle com dois\n\ngraus de liberdade. Uma forma t??pica para esta lei e?:\n\nw(t) = r(t) w(t + k) = ?w(t + k ? 1) + (1 ??)r(t + k) k = 1 . . .N (2.4)\n\nonde ? e? um para?metro entre 0 e 1. Esta lei representa um filtro passa-baixas de\n\nprimeira ordem que pode ser ajustado para suavizar mais, ? pro?ximo de um, ou\n\nmenos, ? pro?ximo de zero, a forma da resposta. Estas ideias sa?o usadas no GPC\n\ne no EPSAC para especificar o comportamento desejado para a malha fechada\n\n[3].\n\n\u2022 Restric?o?es: Na pra?tica, todos os processos esta?o sujeitos a restric?o?es tanto nas\nvaria?veis de sa??da como de entrada. Exemplos disto sa?o os limites ma?ximos e\n\nm??nimos impostos aos atuadores (como por exemplo va?lvulas), a ma?xima velo-\n\ncidade de variac?a?o de um acionamento (por exemplo servo-acionamentos) ou\n\nos valores limites que podem ser atingidos pelas sa??das de um sistema devido\n\na questo?es de seguranc?a. Ale?m disso existem restric?o?es do tipo econo?mico\n\npara o funcionamento do sistema que em geral levaram a escolher pontos de\n\noperac?a?o muito pro?ximos destes limites. Assim, se o controle e? corretamente\n\ncalculado para trabalhar muito pro?ximo daquele o?timo, a qualidade e a relac?a?o\n\ncusto-benef??cio do processo produtivo sa?o otimizadas [2]. Por estes motivos, a\n\ninclusa?o das restric?o?es na func?a?o objetivo que se deseja minimizar e? importante.\n\nNeste sentido, todos os algoritmos de CPBM permitem inclu??-las no momento da\n\nobtenc?a?o do m??nimo de J considerando um conjunto de equac?o?es do tipo:\n\n12\n\n\n\numin ? u(t) ? umax ?t\n\ndumin ? u(t) ?u(t? 1) ? dumax ?t\n\nymin ? y(t) ? ymax ?t\n\nDeve ser mencionado aqui que, nestes casos, a soluc?a?o do m??nimo de J na?o\n\npode ser obtida analiticamente, e requer uma carga de ca?lculo bem maior que no caso\n\nsem restric?o?es. Apesar da complexidade de ca?lculo, a capacidade do CPBM de levar\n\nas restric?o?es em considerac?a?o e? o principal motivo do seu sucesso nas aplicac?o?es\n\nindustriais.\n\nO tratamento do CPBM com restric?o?es apresenta diversas dificuldades, tanto\n\nteo?ricas como de implementac?a?o. A formulac?a?o do problema consiste no correto\n\nequacionamento das restric?o?es e num tratamento posterior que e? conhecido como\n\n\u201cestudo de factibilidade e gesta?o de restric?o?es\u201d. Este tratamento permite o correto\n\nfuncionamento do algoritmo de otimizac?a?o, liberando ou suavizando, quando poss??vel,\n\nas restric?o?es. Por outro lado, do ponto de vista da implementac?a?o do algoritmo de\n\notimizac?a?o, as pesquisas esta?o orientadas a? melhoria da eficie?ncia e a? minimizac?a?o\n\ndos tempos de ca?lculo [8]. Finalmente, os problemas de estabilidade destes sistemas\n\nde controle somente tem sido resolvidos parcialmente e numerosas pesquisas vem\n\nsendo realizadas nos u?ltimos anos (ver [2, 15] e as refere?ncias citadas para um estudo\n\nmais aprofundado destes problemas).\n\n2.1.3: Obtenc?a?o da lei de controle\n\nEm todos os algoritmos de CPBM o objetivo e? calcular u(t + k | t) para minimizar\nJ. Para isso e? necessa?rio calcular as predic?o?es y?(t + k | t) como func?a?o do controle\nfuturo (a partir do me?todo utilizado por cada algoritmo), e substituir na func?a?o J. No\n\ncaso de utilizar um modelo linear e sem restric?o?es, e? poss??vel obter uma soluc?a?o\n\nanal??tica do m??nimo de J. Em outro caso a soluc?a?o e? obtida de forma iterativa por\n\nalgum me?todo de otimizac?a?o.\n\nIndependente do me?todo utilizado, a soluc?a?o e?, em geral, complexa devido ao\n\nnu?mero de varia?veis envolvidas, principalmente quando os horizontes sa?o grandes.\n\nPara reduzir os graus de liberdade deste problema alguns algoritmos propo?em estru-\n\nturar a lei de controle. Isto pode ser feito como no DMC, GPC, EPSAC e EHAC, ajustando\n\n13\n\n\n\no horizonte de controle (Nu), o que implica em zerar as variac?o?es do controle apo?s um\n\ncerto valor no horizonte Nu &lt;N2:\n\n?u(t + j ? 1) = 0 j > Nu\n\nOutra forma de estruturar o controle, que e? usada no PFC, consiste em calcular\n\no controle como uma combinac?a?o de func?o?es preestabelecidas:\n\nu(t + k) =\nn?\ni=1\n\n\u00b5i(t)Bi(k) (2.5)\n\nonde os Bi sa?o escolhidos de acordo com o tipo de processo e de refere?ncia.\n\n2.2: Controle por Matriz Dina?mica (DMC)\n\nNesta sec?a?o sera? discutido o algoritmo preditivo chamado Controle por Matriz\n\nDina?mica (DMC), um dos algoritmos mais difundidos na indu?stria e usado como base\n\npara o controlador CPM da Petrobras. Inicialmente sera? mostrado o algoritmo origi-\n\nnal do DMC proposto em [5], e depois sera? introduzido o DMC com implementac?a?o\n\nrecursiva, proposto em [12], que modifica como a resposta livre e? calculada de forma\n\na obter um algoritmo mais simples de ser implementado e com a vantagem de na?o\n\nafetar o controlador original do DMC.\n\n2.2.1: DMC Original\n\nO algoritmo DMC utiliza os coeficientes da resposta do degrau do sistema para\n\ncalcular as predic?o?es:\n\ny?(t + k|t) =\n??\ni=1\n\ngi?u(t + k ? i) + ?(t + k|t) (2.6)\n\nonde ?(t + k|t) e? o erro de predic?a?o no instante t + k. Como, em geral, na?o e? poss??vel\ndeterminar o erro de predic?a?o futuro, supo?e-se que o erro de predic?a?o se mantera?\n\nconstante, enta?o ?(t + k|t) = ?(t|t) = y(t) ? yo(t|t), onde yo e? a predic?a?o em malha\naberta, ou seja, sem correc?o?es. Substituindo o erro de predic?a?o na Eq. (2.6), e sepa-\n\nrando os termos do somato?rio que dependem das ac?o?es futuras de controle tem-se\n\n14\n\n\n\ny?(t + k|t) =\nk?\ni=1\n\ngi?u(t + k ? i) +\n??\ni=1\n\ngk+i?u(t? i) + y(t) ?\n??\ni=1\n\ngi?u(t? i)\n\ny?(t + k|t) =\nk?\ni=1\n\ngi?u(t + k ? i) +\n??\ni=1\n\n(gk+i ?gi)?u(t? i) + y(t) (2.7)\n\nO somato?rio infinito presente na equac?a?o anterior pode ser truncado apo?s M\n\ntermos, isto porque gk+i?gi ?= 0, ?i > M. Isto resulta na seguinte equac?a?o de predic?a?o\npara o DMC:\n\ny?(t + k|t) =\nk?\ni=1\n\ngi?u(t + k ? i) +\nM?\ni=1\n\n(gk+i ?gi)?u(t? i) + y(t) (2.8)\n\n(2.9)\n\nConsiderando um horizonte de predic?a?o de N amostras e um horizonte de con-\n\ntrole de Nu, pode-se escrever as predic?o?es futuras de forma matricial:\n\ny? = Gu + I?u(t? 1) + 1Ny(t) (2.10)\n\nonde 1N e? um vetor com N linhas cujos elementos sa?o todos iguais a 1,\n\nI?u(t? 1) =\n\n?\n??????\n\n(g2 ?g1) (g3 ?g2) . . . (gM+1 ?gM )\n(g3 ?g1) (g4 ?g2) . . . (gM+2 ?gM )\n\n...\n... \u00b7 \u00b7 \u00b7\n\n...\n\n(gN+1 ?g1) (gN+2 ?g2) . . . (gN+M ?gM )\n\n?\n??????\n\n?\n??????\n\n?u(t? 1)\n?u(t? 2)\n\n...\n\n?u(t?M)\n\n?\n?????? ,\n\nGu =\n\n?\n??????\ng1 0 . . . 0\n\ng2 g1 . . . 0\n...\n\n... \u00b7 \u00b7 \u00b7\n...\n\ngN gN?1 . . . gN?Nu\n\n?\n??????\n\n?\n??????\n\n?u(t)\n\n?u(t + 1)\n...\n\n?u(t + Nu ? 1)\n\n?\n?????? ,\n\ne y? = [y?(t + 1|t), . . . , y?(t + N|t)]T .\n\nNota-se que na matriz I existem coeficientes gi com ??ndice maior que M, quando\n\nisto acontece, faz-se gi = gM,?i > M.\n\n15\n\n\n\nA Eq. (2.10) pode ser reescrita da forma:\n\ny? = Gu + fr (2.11)\n\nonde fr = I?u(t? 1) + 1Ny(t) e? a resposta livre do sistema.\n\nNesta equac?a?o pode-se observar que se as condic?o?es iniciais sa?o nulas a res-\n\nposta livre e? zero, e que se for aplicado um degrau unita?rio em u,\n\n?u(t) = 1, ?u(t + 1) = 0, \u00b7 \u00b7 \u00b7 , ?u(t + N ? 1) = 0\n\na seque?ncia de sa??da [y?(t + 1), y?(t + 2), \u00b7 \u00b7 \u00b7 , y?(t + N)]T sera? igual a? primeira coluna de\nG. Isto implica que a primeira coluna de G pode ser calculada a partir da resposta\n\nao degrau do sistema. Na pra?tica e? interessante escolher um horizonte de controle\n\nNu &lt;N (normalmente Nu = N/5 gera resultados satisfato?rios) o que simplifica o\n\nproblema de controle pois diminui os graus de liberdade. Neste caso na equac?a?o de\n\nca?lculo das predic?o?es a matriz G tera? dimensa?o N \u00d7Nu e o vetor u dimensa?o Nu \u00d7 1.\n\nPara calcular o m??nimo de J e? convenie?nte escrever a expressa?o (2.3) como:\n\nJ = (Gu + fr ?w)\nTQy(Gu + fr ?w) + u\n\nTQuu (2.12)\n\nonde Qy e Qu sa?o matrizes diagonais com os valores das ponderac?o?es na\n\ndiagonal.\n\nw =\n[\nw(t + d + 1) w(t + d + 2) \u00b7 \u00b7 \u00b7 w(t + d + N)\n\n]T\nA equac?a?o (2.12) pode ser escrita como uma forma quadra?tica:\n\nJ =\n1\n\n2\nuTHu + bTu + f0 (2.13)\n\nonde:\n\n16\n\n\n\nH = 2(GTG + ?I)\n\nbT = 2(fr ?w)\nTG\n\nf0 = (fr ?w)\nT (fr ?w)\n\nO m??nimo de J pode ser calculado, quando na?o ha? restric?o?es, igualando o gra-\n\ndiente de J a zero. Assim, o controle pode ser calculado atrave?s da equac?a?o a seguir:\n\nu = ?H?1b = (GTG + ?I)?1GT (w ?fr) (2.14)\n\nComo o algoritmo e? de horizonte deslizante, unicamente o primeiro sinal de\n\ncontrole e? aplicado (primeiro elemento do vetor u), assim a lei de controle final e?:\n\n?u(t) = K(w ?fr) (2.15)\n\nonde K e? a primeira linha da matriz (GTG+?I)?1GT e w o vetor de referencias\n\nfuturas.\n\n2.2.2: DMC Recursivo\n\nEm [12], demonstrou-se a propriedade recursiva do DMC, que ser??a? apresen-\n\ntada a seguir. As predic?o?es de malha aberta em t+k dado as informac?o?es em t e t?1\nsa?o dadas a seguir:\n\nyo(t + k|t) =\n??\n\ni=k+1\n\ngi?u(t + k ? i)\n\nyo(t + k|t? 1) =\n??\n\ni=k+2\n\ngi?u(t + k ? i)\n\nA diferenc?a entre a predic?a?o de malha aberta em t + k dado t, e em t + k dado\n\nt ? 1, e? apenas a ac?a?o de controle nova ?u(t ? 1) que na?o se conhecia em t ? 1.\nSubtraindo as equac?o?es anteriores:\n\n17\n\n\n\nyo(t + k|t) ?yo(t + k|t? 1) = gk+1?u(t? 1) +\n??\n\ni=k+2\n\ngi?u(t + k ? i)\n\n?\n??\n\ni=k+2\n\ngi?u(t + k ? i)\n\nyo(t + k|t) = gk+1?u(t? 1) + yo(t + k|t? 1)\n\nA utilizac?a?o do DMC recursivo e? feita da seguinte forma: mante?m-se em memo?ria\n\num vetor com M elementos: Y livre = [yo(t|t? 1), . . . ,yo(t + M ? 1|t? 1)]T . Seus ele-\nmentos sa?o as repostas livres dadas as ac?o?es de controle conhecidas ate? o instante\n\nt?1. Ao iniciar o controlador DMC no instante t0, dado que o sistema encontra-se em\nregime permanente, considera-se que as predic?o?es de malha aberta sejam constantes\n\ne iguais ao valor de y(t0).\n\nAo iniciar a execuc?a?o do algoritmo DMC no instante t, e? preciso atualizar o vetor\n\nde resposta livre pois o incremento da ac?a?o de controle ?u(t? 1) agora e? conhecido:\n\nY livre = Y livre +\n\n?\n??????\n\ng1\n\ng2\n...\n\ngM\n\n?\n?????? ?u(t? 1)\n\nAssim, obte?m-se o vetor Y livre atualizado. Apo?s obter o novo sinal de controle\n\nu(t), e? preciso \u201cdeslocar\u201d os valores dentro do vetor Y livre, isto porque no instante\n\nposterior t + 1, sera?o precisas as repostas livres de t + 1 ate? t + M baseadas nos\n\ndados ate? t. Enta?o, o primeiro elemento e? descartado pois e? a predic?a?o relativa ao\n\ninstante t que ja? passou. O problema e? que, ao se fazer este deslocamento, o u?ltimo\n\nelemento, no caso a predic?a?o em y(t + M|t), e? desconhecida. Pore?m, no caso esta?vel,\nyo(t + M|t) ?= yo(t + M ? 1|t), assim, o novo vetor Y livre sera? dado por:\n\nY livre =\n\n?\n?????????\n\nyo(t + 1|t)\nyo(t + 2|t)\n\n...\n\nyo(t + M ? 1|t)\nyo(t + M ? 1|t)\n\n?\n?????????\n\nA condic?a?o yo(t + M|t) ?= yo(t + M ? 1|t) e? mostrada a seguir:\n\n18\n\n\n\nyo(t + M ? 1|t) =\n??\ni=M\n\ngi?u(t + M ? 1 ? i)\n\nyo(t + M|t) =\n??\n\ni=M+1\n\ngi?u(t + M ? i) =\n??\ni=M\n\ngi+1?u(t + M ? 1 ? i)\n\nyo(t + M|t) ?yo(t + M ? 1|t) =\n??\ni=M\n\n(gi+1 ?gi)?u(t + M ? 1 ? i)\n\nComo gi+1 ?gi ?= 0, ?i > M, tem-se que yo(t + M|t) ?= yo(t + M ? 1|t), como se\nqueria demonstrar.\n\nAssim, o ca?lculo da resposta livre considerada no DMC-recursivo e? dado da\n\nseguinte forma:\n\nfr =\n\n?\n???\n\nyo(t + 1|t)\n...\n\nyo(t + N|t)\n\n?\n??? + 1N (y(t) ?yo(t|t)) (2.16)\n\nUtilizando esta forma de implementac?a?o, os ca?lculos necessa?rios para obter a\n\nresposta livre se tornam mais simples, na?o sendo necessa?rio o armazenamento dos\n\nincrementos passados de controle. Como este procedimento so altera o modo de\n\ncalcular a resposta livre, o restante do algoritmo de controle na?o e? modificado.\n\n2.3: DMC Multivaria?vel\n\nO algoritmo para o caso monovaria?vel, apresentado na sec?a?o 2.2.1, pode ser\n\nfacilmente estendido para o caso multivaria?vel. Para um sistema com m entradas e n\n\nsa??das, as predic?o?es sa?o calculadas da seguinte forma:\n\n19\n\n\n\n????????????????????\n???????????????????\n\ny?1(t + k|t) =\n??\n\ni=1 g11,i?u1(t + k ? i) +\n??\n\ni=1 g12,i?u2(t + k ? i)+\n\n. . . +\n??\n\ni=1 g1m,i?um(t + k ? i) + ?1(t + k|t)\n\n... =\n...\n\ny?n(t + k|t) =\n??\n\ni=1 gn1,i?u1(t + k ? i) +\n??\n\ni=1 gn2,i?u2(t + k ? i)+\n\n. . . +\n??\n\ni=1 gnm,i?um(t + k ? i) + ?n(t + k|t)\n\n(2.17)\n\nonde y?h(t + k|t) e? a predic?a?o da h-e?sima sa??da no instante t + k dado os dados em t,\nuj a j-e?sima entrada, ghj,i e? o i-e?simo coeficiente da resposta ao degrau da sa??da h em\n\nrelac?a?o a? entrada j, e ?h e? o erro de predic?a?o que e? calculado de maneira ide?ntica ao\n\ncaso monovaria?vel, ou seja, ?h(t + k|t) = ?h(t + k|t) = yh(t) ?yoh(t|t).\n\nA predic?a?o de malha aberta sem correc?a?o da sa??da h, yoh(t|t), e? dada por\n\nyoh(t|t) =\n??\ni=1\n\ngh1,i?u1(t? i) +\n??\ni=1\n\ngh2,i?u2(t? i) + . . . +\n??\ni=1\n\nghm,i?um(t? i),\n\n(2.18)\n\nsubstituindo a equac?a?o anterior na equac?a?o 2.17, obte?m-se a predic?a?o de uma forma\n\nsimilar ao apresentado no caso monovaria?vel, excetuando o fato de agora haver mais\n\nvaria?veis de controle:\n\ny?h(t + k|t) =\nk?\ni=1\n\ngh1,i?u1(t + k ? i) + . . . +\nk?\ni=1\n\nghm,i?um(t + k ? i)\n\n+\n??\ni=1\n\n(gh1,k+i ?gh1,i)?u1(t? i) + . . . +\n??\ni=1\n\n(ghm,k+i ?ghm,i)?um(t? i)\n\n+y(t)\n\nAssim como apresentado anteriormente, os somato?rios infinitos podem ser trun-\n\ncados apo?s M termos pois, para sistemas esta?veis, ghj,k+i ?ghj,i ?= 0 , ?i > M.\n\nRearranjando os resultados em forma matricial e considerando, sem perda de\n\n20\n\n\n\ngeneralidade, um horizonte de predic?a?o N e de controle Nu comum a todas as entra-\n\ndas, as predic?o?es da h-e?sima sa??da podem ser escritas como a seguir:\n\ny?h =\n\n?\n???\n\ny?h(t + 1|t)\n...\n\ny?h(t + N|t)\n\n?\n??? = [Gh1 Gh2 . . . Ghm]\n\n?\n???\n\n?u1(t) . . . ?um(t)\n...\n\n...\n...\n\n?u1(t + Nu ? 1) . . . ?um(t + Nu ? 1)\n\n?\n???\n\n+ [Ih1 Ih2 . . . Ihm]\n\n?\n???\n\n?u1(t? 1) . . . ?um(t? 1)\n...\n\n...\n...\n\n?u1(t?M) . . . ?um(t?M)\n\n?\n???\n\n+1Nyh(t), (2.19)\n\nou, de forma mais compacta,\n\ny?h = [Gh1 Gh2 . . . Ghm] u + [Ih1 Ih2 . . . Ihm] ?u(t? 1) + 1Nyh(t),\n\nonde as matrizes Ghj e Ihj sa?o calculadas de maneira ide?ntica ao caso monovaria?vel.\n\nCombinando as predic?o?es de todas as sa??das, obte?m-se a seguinte representac?a?o\n\nmatricial:\n\ny? = Gu + I?u(t? 1) + Iyy(t) (2.20)\n\nonde y? =\n[\ny?1\n\nT , . . . , y?h\nT\n]T\n\n, y = [y1(t), . . . ,yh(t)], e\n\nG =\n\n?\n???\n\nG11 . . . G1m\n...\n\n...\n...\n\nGh1 . . . Ghm\n\n?\n??? ,I =\n\n?\n???\n\nI11 . . . I1m\n...\n\n...\n...\n\nIh1 . . . Ihm\n\n?\n??? ,\n\nIy =\n\n?\n???\n\n1N 0 . . . 0\n\n0 1N . . . 0\n\n0 0 . . . 1N\n\n?\n??? .\n\nDeve ser lembrado que a resposta livre e? dada por fr = I?u(t ? 1) + Iyy(t),\n\n21\n\n\n\nque e? um vetor de ordem h \u00b7N \u00d7 1.\n\n2.3.1: DMC Recursivo Multivaria?vel\n\nA propriedade recursiva do DMC apresentada na sec?a?o 2.2.2 continua va?lida\n\nno caso multivaria?vel, com a diferenc?a que agora sera? necessa?rio manter h vetores de\n\nrespostas livres correspondentes a cada sa??da.\n\nDa mesma forma que no caso monovaria?vel, mante?m-se em memo?ria h vetores\n\ncom M elementos: Y h,livre = [yoh(t|t? 1), . . . ,yoh(t + M ? 1|t? 1)]T . Seus elementos\nsa?o as respostas livres dadas as ac?o?es de controle conhecidas ate? o instante t?1. Ao\niniciar o controlador DMC no instante t0, dado que o sistema encontra-se em regime\n\npermanente, considera-se que as predic?o?es de malha aberta para todas as sa??das\n\nsejam constantes e iguais ao valor de yh(t0).\n\nDepois de iniciar a execuc?a?o do algoritmo DMC no instante t, e? preciso atualizar\n\no vetor de resposta livre com o incremento das ac?o?es de controle ?uj(t ? 1) , j =\n1, . . . ,m, que agora sa?o conhecidas:\n\nY l,livre = Y l,livre +\n\n?\n??????\n\ngh1,1\n\ngh1,2\n...\n\ngh1,M\n\n?\n?????? ?u1(t? 1) + . . . +\n\n?\n??????\n\nghm,1\n\nghm,2\n...\n\nghm,M\n\n?\n?????? ?um(t? 1)\n\nAssim, obte?m-se o vetor Y h,livre atualizado. Apo?s obter o novo sinal de controle\n\nu(t), e? preciso \u201cdeslocar\u201d os valores dentro do vetor Y h,livre, isto porque no instante\n\nposterior t + 1, sera?o precisos as repostas livres de t + 1 ate? t + M baseadas nos\n\ndados ate? t. Enta?o, o primeiro elemento e? descartado pois e? a predic?a?o relativa ao\n\ninstante t que ja? passou. O problema e? que, ao se fazer este deslocamento, o u?ltimo\n\nelemento, no caso a predic?a?o em yh(t+M|t), e? desconhecida. Pore?m, no caso esta?vel,\nyoh(t + M|t) ?= yoh(t + M ? 1|t), assim, o novo vetor Y h,livre sera? dado por:\n\n22\n\n\n\nY H,livre =\n\n?\n?????????\n\nyoh(t + 1|t)\nyoh(t + 2|t)\n\n...\n\nyoh(t + M ? 1|t)\nyoh(t + M ? 1|t)\n\n?\n?????????\n\nDesta forma, as predic?o?es no DMC recursivo multivaria?vel sa?o dadas por\n\ny? = Gu + fr. (2.21)\n\nConsiderando que yoh = [yoh(t + 1), . . . ,yoh(t + N)], a resposta livre fr e? dada\n\npor\n\nfr =\n\n?\n???\n\nyo1\n...\n\nyoh\n\n?\n??? + Iy [ (y1(t) ?yo1(t)) . . . (yl(t) ?yoh(t)) ] . (2.22)\n\n2.4: Comenta?rios finais\n\nNeste cap??tulo foi feita uma revisa?o da teoria de controle preditivo e dos concei-\n\ntos usados na formulac?a?o dos ??ndices que sera?o apresentados no cap??tulo 3. Ale?m\n\ndisso, tambe?m e? apresentada a teoria do controle por matriz dina?mica que e? o tipo\n\nde controle preditivo usado na unidade de processamento analisada neste projeto,\n\ndescrita no cap??tulo 4.\n\n23\n\n\n\nCap??tulo 3: Ferramenta de Aux??lio a\n\nSintonia Total (FAST MPC)\n\nO desenvolvimento da FAST MPC faz parte de uma dissertac?a?o de mestrado\n\n[13] desenvolvida no projeto de pesquisa e desenvolvimento \u201dAlgoritmos para Identificac?a?o\n\ne Controle Preditivo Na?o Linear de Processos da Indu?stria do Petro?leo de Ga?s Natu-\n\nral\u201d. Este e? um projeto do Departamento de Automac?a?o e Sistemas em colaborac?a?o\n\ncom o Cenpes da Petrobra?s.\n\nComo o objetivo deste trabalho e? validar a metodologia proposta atrave?s de um\n\nestudo de caso, este cap??tulo traz uma explicac?a?o detalhada do ca?lculo dos ??ndices\n\ne da ana?lise do desempenho e da sintonia do controle. O conteu?do deste cap??tulo e?\n\nbaseado em relato?rios te?cnicos do projeto e outros materiais internos.\n\nUma das dificuldades encontradas na aplicac?a?o de Controle Preditivo baseado\n\nem Modelo e? avaliac?a?o da sintonia e do desempenho do sistema de controle. Por isso\n\na necessidade de me?todos de avaliac?a?o de desempenho de sistemas de controle MPC\n\ne? largamente reconhecida no meio industrial. Algumas abordagens nessa direc?a?o\n\nbaseiam-se na comparac?a?o do desempenho do sistema de controle sob ana?lise a\n\num MPC baseado em varia?ncia m??nima. Entretanto, com essas abordagens na?o se\n\npode definir qual varia?vel controlada tem o pior seguimento a refere?ncia, porque ela\n\ntem um desempenho ruim ou onde modificar a sintonia do controlador para atingir um\n\ndeterminado objetivo.\n\nPara conseguir o desempenho desejado do controlador sa?o necessa?rios bons\n\nmodelos de predic?a?o e uma boa escolha nas ponderac?o?es das varia?veis, ja? que a\n\nsintonia do controlador e? diretamente dependente das matrizes de ponderac?a?o das\n\nvaria?veis controladas Qy e das varia?veis manipuladas Qu, e tambe?m da predic?a?o Y?\n\ncalculada a partir do modelo de predic?a?o.\n\nA equac?a?o 3.1 mostra a func?a?o custo na forma para sistemas multivaria?veis,\n\nonde Y? e? a predic?a?o da varia?vel controlada do sistema, W(k) e? a refere?ncia ou valor\n\n24\n\n\n\ndesejado da varia?vel controlada (target ), 4U(k) e? a variac?a?o do sinal de controle,\nQy e Qu sa?o matrizes de ponderac?a?o escolhidas arbitrariamente pelo projetista. As\n\nmatrizes My e Mu sa?o matrizes que realizam a normalizac?a?o das varia?veis controladas\n\ne manipuladas. Esta normalizac?a?o pode ser realizada com o valor ma?ximo esperado\n\npara cada varia?vel ou com o range (xmax - xmin), por exemplo. Neste trabalho sera?\n\ndefinido um valor Un e Yn como valores normalizados onde Un = uss e Yn = w.\n\nJ = [Y? ? W]T MTy QyMy[Y? ? W] + 4U\nT MTu QuMu 4 U (3.1)\n\nCom base nos para?metros da func?a?o custo e na importa?ncia de uma boa predic?a?o,\n\nforam criados seis ??ndices que avaliam o desempenho e a sintonia do controlador:\n\n1. I?ndices de Avaliac?a?o:\n\n\u2022 Desvios Me?dios;\n\n\u2022 I?ndices de Estabilidade.\n\n2. I?ndices de Sintonia:\n\n\u2022 I?ndices de Seguimento Relativos;\n\n\u2022 I?ndices de Controle Relativos;\n\n\u2022 I?ndices de Supressa?o de Movimento;\n\n\u2022 I?ndices de Erro de Modelagem.\n\nOs I?ndices de Avaliac?a?o sera?o utilizados para analisar o desempenho da planta\n\nde forma global e verificar a possibilidade de melhoria das respostas das varia?veis\n\ncontroladas. Ja? os I?ndices de Sintonia sera?o utilizados para analisar o ajuste das\n\nponderac?o?es Qy e Qu da func?a?o custo e os modelos utilizados. Os I?ndices de Erro\n\nde Modelagem e os Desvios Me?dios sa?o os u?nicos ??ndices que podem ser analisa-\n\ndos como um indicador, ou seja, seus valores tem uma interpretac?a?o f??sica real inde-\n\npendente. Os outros ??ndices na?o tem sentido analisados isoladamente e devem ser\n\ncomparados com todos os ??ndices das demais varia?veis.\n\nOs ??ndices, analisados em conjunto, indicam como o controlador esta? tratando\n\ncada varia?vel em relac?a?o as outras, permitindo uma ana?lise e avaliac?a?o da sintonia do\n\ncontrolador MPC e fornecendo uma base so?lida para a localizac?a?o dos principais pro-\n\nblemas relacionados com as ponderac?o?es da func?a?o custo utilizada ou com os mode-\n\nlos de predic?a?o. O resultado dessa avaliac?a?o visa auxiliar a tomada de decisa?o quanto\n\n25\n\n\n\na modificar as ponderac?o?es da func?a?o custo do controlador MPC ou re-identificar os\n\nmodelos de predic?a?o utilizados.\n\nOs Desvios Me?dios e os I?ndices de Seguimento Relativos na?o ponderados sa?o\n\nos ??ndices que avaliam a qualidade do sistema de controle MPC e servem como ponto\n\nde partida para as ana?lises do desempenho do MPC. Como estes ??ndices sa?o cal-\n\nculados com o erro de seguimento de refere?ncia, a varia?vel controlada com menor\n\n??ndice sera? aquela que esta? fazendo o melhor seguimento de refere?ncia. Os Desvios\n\nMe?dios apresentam uma a me?dia absoluta do erro de seguimento de refere?ncia em\n\nporcentagem de cada varia?vel controlada enquanto os I?ndices de Seguimento Rela-\n\ntivos mostram uma visa?o percentual relativa ao somato?rio de todos erros individuais\n\npara o caso ponderado e na?o ponderado. Em um sistema sob controle e? natural que\n\nalgumas varia?veis controladas tenham maior importa?ncia econo?mica que outras. Uma\n\nvaria?vel que representa uma concentrac?a?o, por exemplo, pode ter mais necessidade\n\nde seguir uma refere?ncia do que uma varia?vel pressa?o que esta? dentro dos seus limi-\n\ntes aceita?veis. Assim, se a concentrac?a?o apresenta um ??ndice de seguimento pior do\n\nque a pressa?o, alguma ac?a?o precisa ser tomada para melhorar o quadro.\n\nPara identificar onde atuar para melhorar o seguimento de refere?ncia de uma\n\nvaria?vel controlada foram criados os ??ndices de seguimento relativos para saber como\n\natuar nas ponderac?o?es Qy ??ndices de erro de modelagem para verificar a qualidade\n\ndos modelos de predic?a?o, ??ndices de ac?a?o de controle relativos e supressa?o de movi-\n\nmento para verificar como atuar nas ponderac?o?es Qu. Os ??ndices de seguimento e de\n\ncontrole, que sa?o baseados em uma parcela da func?a?o custo, sa?o calculados para os\n\ncasos com e sem ponderac?a?o. Isso permite comparar o efeito da ponderac?a?o com o\n\nresultado verificado nas medic?o?es reais. No caso sem ponderac?a?o pode se ver como\n\no sistema esta? funcionando na realidade e no caso ponderado pode-se ver a visa?o\n\nque o controle MPC tem do funcionamento do sistema para calcular as futuras ac?o?es\n\nde controle.\n\nCom uma adequada interpretac?a?o desses ??ndices devera? ser poss??vel identifi-\n\ncar:\n\n\u2022 Quais varia?veis controladas devem ter seus seguimentos de refere?ncia melhora-\ndos,\n\n\u2022 Onde deve-se atuar para obter essas melhorias.\n\n26\n\n\n\n3.1: Ca?lculo dos ??ndices\n\nA cada instante de tempo k do controle sa?o calculados os ??ndices Instanta?neos a\n\npartir das equac?o?es 3.2, 3.6,3.8,3.10, 3.11,3.12, mostradas a seguir. Como o objetivo\n\ne? obter valores que refletem o comportamento do sistema ao longo de um determinado\n\ntempo, calcula-se a me?dia dos ??ndices Instanta?neos atrave?s de um algoritmo recursivo.\n\nNeste algoritmo na?o ha? necessidade do ca?lculo de N e pode-se ainda escolher o\n\ntempo da janela de medic?o?es utilizadas para o ca?lculo da me?dia, Nmedia, e a influe?ncia\n\ndos elementos dentro da janela sa?o ponderados por um fator de esquecimento. Ou\n\nseja, o ??ndice calculado no instante k ? Nmedia ? 1 tem efeito zero sobre o ca?lculo\nda me?dia. ja? a influe?ncia no ca?lculo da me?dia cresce desde 0 ate? 1 para os ??ndices\n\ninstanta?neos calculados em k ?Nmedia ? 1 ate? k.\n\nA me?dia recursiva e? calculada com o seguinte pseudo-co?digo:\n\nDefina: x =\n5\n\nNmedia\ne Iiy medio = 0\n\nse k = 1 :\n\nDen(k) = 1\n\nIiy medio(k) = I\ni\ny inst(k)\n\nsena?o:\n\nDen(k) = Den(k ? 1) \u00b7e?x + 1\n\nIiy medio(k) =\ne?x \u00b7 Iiy medio(k ? 1) \u00b7Den(k ? 1) + I\n\ni\ny inst(k)\n\nDen(k)\n\nTodos os valores sa?o normalizados entre 0 e 1 onde e? poss??vel observar a\n\ninflue?ncia da sintonia do MPC no sistema para cada varia?vel em comparac?a?o com\n\nas outras em uma mesma amplitude e a normalizac?a?o utilizada e? a mesma da func?a?o\n\ncusto apresentada.\n\n3.1.1: Desvios Me?dios\n\nEstes ??ndices avaliam a qualidade do seguimento de refere?ncia das varia?veis\n\ncontroladas. Seu valor representa o desvio me?dio do erro de seguimento em porcen-\n\ntagem e pode ser analisado individualmente. Nesse caso, na?o se calcula relativamente\n\nos ??ndices pois na?o se tem a intenc?a?o de analisar as ponderac?o?es Qy, mas a possibi-\n\nlidade de melhorar a resposta da varia?vel controlada com a intenc?a?o de diminuir esse\n\n27\n\n\n\nerro. A equac?a?o 3.2 mostra esse ca?lculo.\n\nDiy inst(k) = 100 \u00b7\n?wi(k) ?yi(k)?\n\nwi(k)\n(3.2)\n\nAo final do per??odo de ana?lise teremos Diy medio para cada varia?vel controlada.\n\nA partir desse valor sera?o montados dois tipos de ??ndices diferentes: Desvios Me?dios\n\nIndividuais e o Desvio Me?dio Total. Os Desvios Me?dios Individuais Diy ind sera?o iguais\n\nao valor final de Diy medio para cada varia?vel controlada. E o Desvio Me?dio Total sera? o\n\nsomato?rio desses ??ndices individuais dividido pelo nu?mero de varia?veis controladas n.\n\nComo mostrado na equac?a?o 3.3.\n\nDiy =\n\n?n\ni=1 D\n\ni\ny ind\n\nn\n(3.3)\n\nEsse Desvio Me?dio Total ajudara? o projetista a saber se as mudanc?as feitas\n\nno projeto do controlador diminu??ram o erro me?dio de seguimento de refere?ncia das\n\nvaria?veis controladas, o que representa uma melhoria da resposta do sistema. Os\n\nDesvios Me?dios Individuais sa?o analisados quando se tem interesse maior no se-\n\nguimento de alguma varia?vel em particular. E? o caso quando algumas varia?veis do\n\nprocesso tem grande importa?ncia econo?mica, por exemplo.\n\n3.1.2: I?ndice de Estabilidade\n\nEsse ??ndice avalia o quanto cada varia?vel controlada pode melhorar em desem-\n\npenho no seguimento da refere?ncia sem levar o sistema para a instabilidade. Utiliza-\n\ndos em conjunto com os ??ndices de Seguimento Individuais e os ??ndices de Supressa?o\n\nde Movimento auxiliam o projetista a melhorar o desempenho global do sistema. Con-\n\nsiderando que o desempenho final de um sistema de controle e? frequentemente obtido\n\nconsiderando o compromisso com seguimento de refere?ncia e estabilidade, e? pre-\n\nciso saber se uma varia?vel controlada esta? pro?xima da sua regia?o de instabilidade. A\n\nequac?a?o 3.6 foi desenvolvida com base no teorema da estabilidade de Lyapunov [11].\n\nPelo teorema da estabilidade de Lyapunov, uma func?a?o L(t) : Rn ? R repre-\nsentada pela equac?a?o 3.4 e? dita ser positiva definida se atende os requisitos expostos\n\nna equac?a?o 3.5. O que pode ser facilmente provado com a equac?a?o proposta com o o\n\nvalor dos erros de seguimento de refere?ncia das varia?veis controladas ei normalizado\n\npelas refere?ncias wi.\n\n28\n\n\n\nL(t) =\n1\n\n2\n\u00b7\n(\nei(t)\n\nwi\n\n)2\n(3.4)\n\nL(0) = 0 e L > 0 para ? ei 6= 0 (3.5)\n\nComo a energia dos estados do sistema precisa decrescer ao longo do tempo,\n\nsua derivada deve ser negativa ?L(t)\n?t\n\n&lt;0. Portanto, para a derivada e? esperado um\n\nvalor negativo. Sabe-se que quanto maior o valor absoluto dessa func?a?o, mais rapi-\n\ndamente o sistema decresce sua energia e \u2019mais\u2019 esta?vel sera? o sistema. E quando o\n\nvalor se aproxima de zero ocorre a situac?a?o inversa. Baseado nessas concluso?es foi\n\ncriado o I?ndice de Estabilidade, apresentado na equac?a?o 3.6. O objetivo desse ??ndice\n\ne? mostrar o quanto cada varia?vel controlada esta? perto da sua regia?o de instabilidade.\n\nIiest inst(k) =\nei(k)\n\nwi(k)2\n\u00b7 (ei(k) ?ei(k ? 1)) ?\n\nei(k)2\n\nwi(k)3\n\u00b7 (wi(k) ?wi(k ? 1)) (3.6)\n\nA gerac?a?o deste ??ndice e? feita calculando uma me?dia recursiva acumulada ao\n\nlongo do per??odo de ana?lise, como a utilizada nos ??ndices anteriores. Seu valor\n\nme?dio Iiest medio ao final do per??odo de ana?lise sera? o ??ndice a ser analisado. Para\n\nefeito demonstrativo em uma escala similar aos outros ??ndices, foi usado seu valor em\n\npotenciac?a?o como a equac?a?o 3.7 onde ? e? um valor escolhido para determinar a sen-\n\nsibilidade da variac?a?o entre os ??ndices (normalmente se utiliza o valor 100 ou 1000).\n\nPortanto, conclui-se que quanto mais pro?ximo de 0 este valor mais perto de sua regia?o\n\nde instabilidade essa varia?vel se encontra.\n\nIiest = 10\n?\u00b7\n?\n?Ii\n\nest medio (3.7)\n\n3.1.3: I?ndices de Seguimento de Refere?ncia Relativo\n\nEstes ??ndices avaliam as varia?veis controladas do sistema quanto a qualidade\n\nde seu seguimento de refere?ncia. Baseado na parcela de erro de seguimento de\n\nrefere?ncia [Y? ? W]T MTy QyMy[Y? ? W] da func?a?o custo apresentada na equac?a?o 3.1, foi\nmontada a equac?a?o 3.8. Onde yi(k) e? o valor medido da varia?vel controlada i e wi(k)\n\nsua refere?ncia no instante de amostragem k. O valor e? normalizado pela refere?ncia\n\nwi(k) para permitir a comparac?a?o com as outras varia?veis controladas. Nota-se que\n\nesse valor indica o erro quadra?tico percentual da varia?vel controlada normalizado. A\n\n29\n\n\n\nnormalizac?a?o aqui realizada e? ide?ntica aquela feita pela func?a?o custo apresentada\n\nna equac?a?o 3.1 mas, caso seja necessa?rio, outras formas de normalizac?a?o (scaling)\n\ndevem ser implementadas para evitar a divisa?o por zero.\n\nIiy inst(k) =\n\n(\n100 \u00b7\n\nwi(k) ?yi(k)\nwi(k)\n\n)2\n\u00b7Qiy (3.8)\n\nEstes ??ndices sa?o calculados para o caso ponderado e na?o ponderado (Qiy =\n\n1). Com os ??ndices sem ponderac?o?es pode se ver o seguimento real das varia?veis\n\ncontroladas e com os ??ndices ponderados pode-se ver o seguimento fict??cio que o\n\ncontrole MPC tem de cada varia?vel controlada.\n\nAo final do per??odo de ana?lise teremos Iiy medio e I\ni\ny medio p ponderados para cada\n\nvaria?vel controlada.\n\nPara permitir um comparativo entre as varia?veis, sa?o calculados os I?ndices de\n\nSeguimento Relativos como mostrado na equac?a?o 3.9, onde n e? o nu?mero de varia?veis\n\ncontroladas. Este ca?lculo relativo dara? uma visa?o percentual dos erros de seguimento\n\nde refere?ncia das varia?veis. Assim os I?ndices de Seguimento Relativos Iiy rel e I\ni\ny rel p\n\nponderados permitem comparar a influe?ncia das ponderac?o?es usadas na sintonia do\n\ncontrolador analisando a diferenc?a no valor entre o ??ndice com e sem ponderac?a?o para\n\ncada varia?vel controlada, como sera? explicado na sec?a?o 3.3.\n\nIiy rel =\nIiy medio?n\nj=1 I\n\nj\ny medio\n\n(3.9)\n\nAmbos ??ndices indicam o quanto cada varia?vel controlada representa, em me?dia,\n\nde peso na func?a?o custo do MPC com relac?a?o ao seu erro de seguimento de re-\n\nfere?ncia. Portanto quanto menor este ??ndice, melhor sera? o seguimento da refere?ncia\n\ndesta varia?vel controlada.\n\n3.1.4: I?ndices Controle Relativo\n\nEstes ??ndices avaliam as varia?veis manipuladas do sistema quanto a atividade\n\nde sua ac?a?o de controle. Baseado na parcela de esforc?o de controle 4UT MTu QuMu4U\nda func?a?o custo da equac?a?o 3.1. Representado na equac?a?o 3.10 e normalizado pela\n\nac?a?o de controle em regime permanente (uiss) para permitir a comparac?a?o com as\n\noutras varia?veis manipuladas (tambe?m deve ser normalizada de forma diferente para\n\n30\n\n\n\nos casos de poss??vel divisa?o por zero). Estes ??ndices tambe?m sera?o calculados para\n\nos casos ponderado e na?o ponderado (Qiu = 1) pelo mesmo motivo apresentado para\n\nos I?ndices de Seguimento Relativos.\n\nIiu inst(k) =\n\n(\n100 \u00b7\n\n4ui(k)\nuiss(k)\n\n)2\n\u00b7Qiu (3.10)\n\nPara esses ??ndices tambe?m sera?o aplicadas as fo?rmulas me?dias e relativas da\n\nmesma forma apresentada para os I?ndices de Seguimento. E o valor do ??ndice que\n\nsera? analisado e? o Iiu medio obtido ao final do per??odo de ana?lise, neste caso tambe?m\n\nna forma Iiu rel e I\ni\nu rel p ponderada. O objetivo destes ??ndices e? mostrar quais varia?veis\n\nmanipuladas esta?o sendo mais solicitadas baseado no peso que elas representam na\n\nfunc?a?o custo do MPC. Disso conclui-se que quanto maior o ??ndice, maior a variac?a?o\n\nda varia?vel manipulada.\n\n3.1.5: I?ndices de Supressa?o de Movimento\n\nEstes ??ndices avaliam o quanto uma varia?vel controlada esta? sendo afetada com\n\nrelac?a?o a? supressa?o da variac?a?o das varia?veis manipuladas imposta pelas ponderac?o?es\n\nem Qu que se relacionam a ela. Calculados utilizando a equac?a?o 3.11, onde m e? o\n\nnu?mero de varia?veis manipuladas e Kij sa?o os ganhos das func?o?es de transfere?ncias\n\nque sa?o acopladas com aquela varia?vel controlada.\n\nIism inst(k) =\n[wi(k)]\n\n2?m\nj=1 [4uj(k) \u00b7Kij]\n\n2\n\u00b7\n\n1\n\n1000\n(3.11)\n\nA gerac?a?o destes ??ndices e? feita com o ca?lculo de me?dia recursiva como nos\n\n??ndices anteriores e o Iism medio obtido ao final do per??odo de ana?lise sera? o valor a\n\nser analisado. Neste caso na?o sera? calculado a comparac?a?o relativa das varia?veis.\n\nQuanto maior for este ??ndice, maior sera? a supressa?o de movimento que esta? sendo\n\naplicada as varia?veis manipuladas que afetam aquela varia?vel controlada. Como pode\n\nser observado, tambe?m nestes ??ndices, a refere?ncia da varia?vel controlada e? usada\n\ncomo forma de normalizar. Caso a refere?ncia seja nula deve ser usado outro valor\n\ncomo, por exemplo, o maior valor esperado da controlada.\n\n31\n\n\n\n3.1.6: I?ndices do Erro de Modelagem\n\nEstes ??ndices avaliam a qualidade dos modelos de predic?a?o usados para predi-\n\nzer o comportamento do sistema. Mostrado na equac?a?o ??, calcula os erros entre as\n\npredic?o?es do modelo y?i e as sa??das reais do processo yi normalizados pela refere?ncia\n\nwi para permitir a comparac?a?o com as outras varia?veis controladas.\n\nIiem inst(k) = 100 \u00b7\n?y?i(k) ?yi(k)?\n\nwi(k)\n(3.12)\n\nOs valores instanta?neos sa?o aplicados na equac?a?o de me?dia recursiva e o valor\n\ndo ??ndice que sera? analisado sa?o os Iiem medio obtidos ao final do per??odo de ana?lise.\n\nO valor destes ??ndices podem ser interpretados como os erros me?dios de predic?a?o de\n\ncada varia?vel controlada. Quanto maior for o ??ndice, maior a quantidade de erros nos\n\nmodelos daquela varia?vel controlada ou necessidade de modelagem de perturbac?o?es\n\nainda na?o modeladas. O mesmo comenta?rio vale aqui, caso a refere?ncia seja nula\n\npode ser usado o maior valor esperado da controlada na normalizac?a?o.\n\n3.2: Apresentac?a?o Gra?fica dos Resultados\n\nPara facilitar a visualizac?a?o dos ??ndices foi escolhido o gra?fico de barras, por\n\nser intuitivo e permitir comparar o valor final dos ??ndices de cada varia?vel lado a lado.\n\nOs I?ndices de Seguimento Relativos e de Controle Relativos que possuem ??ndices\n\nponderados e na?o ponderados sera?o plotados em um mesmo gra?fico mas com valo-\n\nres na?o ponderados no eixo positivo e os valores ponderados no eixo negativo para\n\npermitir visualizar a influe?ncia que as ponderac?o?es esta?o causando em cada varia?vel\n\nanalisada.\n\nQuando o sistema apresenta um nu?mero muito grande de varia?veis manipula-\n\ndas e controladas e/ou quando na?o ha? acoplamento total entre elas, adicionalmente\n\naos gra?ficos dos ??ndices gerados podem ser utilizados a relac?a?o de ganhos das func?o?es\n\nde transfere?ncia das vaia?veis para permitir analisar a intensidade que uma poss??vel\n\nmudanc?a nas ponderac?o?es ira? causar na varia?vel em ana?lise e em quais varia?veis\n\nessa mudanc?a tambe?m ira? se refletir.\n\n32\n\n\n\n3.3: Me?todo Proposto para Tomada de Decisa?o\n\nPara ajudar o projetista na ana?lise dos ??ndices, foi criado um me?todo que ana-\n\nlisa a situac?a?o atual e indica que direc?a?o tomar a decisa?o visando uma mudanc?a de\n\ncena?rio. Antes de iniciar o me?todo e? necessa?rio a definic?a?o dos objetivos de controle.\n\nUma vez gerados os ??ndices, a ana?lise tem dois caminhos: Ana?lise dos ??ndices\n\nde avaliac?a?o (desempenho global do sistema) que pode ser feita com os Desvios\n\nMe?dios, junto com os I?ndices de Estabilidade; e a ana?lise dos ??ndices de sintonia\n\n(desempenho relativos) feita com os I?ndices de Seguimento Relativos, Controle Rela-\n\ntivos, Supressa?o de Movimento e Erro de Modelagem.\n\nPara os ??ndices de avaliac?a?o deve-se iniciar pelos Desvios Me?dios para saber se\n\no sistema pode ser melhorado. Para a ana?lise dos ??ndices de sintonia, inicia-se pelos\n\nI?ndices de Seguimento Relativos na?o ponderados. O objetivo de controle com relac?a?o\n\nao seguimento das varia?veis deve ser vis??vel nesses ??ndices. Caso esses ??ndices\n\nna?o sejam satisfato?rios, e? necessa?rio uma ana?lise mais abrangente. O seguimento de\n\nrefere?ncia de uma varia?vel controlada depende: da qualidade do modelo de predic?a?o e\n\ndas ponderac?o?es Qy e Qu. Para analisar a qualidade dos modelos de predic?a?o deve-\n\nse olhar o I?ndice de Erro de Modelagem. Se este ??ndice possuir um valor elevado,\n\nenta?o pode-se inferir que o erro do modelo tem grande influe?ncia no sistema em malha\n\nfechada e seria necessa?rio uma re-identificac?a?o do modelo utilizado pelo controlador.\n\nPara a ana?lise das ponderac?o?es de Qy deve-se analisar os I?ndices de Seguimento\n\nRelativos e para a ana?lise de Qu os I?ndices de Supressa?o de Movimento.\n\n3.3.1: Ana?lise dos I?ndices de Seguimento Relativos\n\nCaso a diferenc?a D = Iiy rel ? I\ni\ny rel p seja negativa, a ponderac?a?o usada para\n\nesta controlada esta? com grande influe?ncia no sistema de controle, de forma que a\n\nponderac?a?o pode ser diminu??da em benef??cio de outras controladas com maior im-\n\nporta?ncia ou aumentada para se atingir um melhor seguimento.\n\n3.3.2: Ana?lise dos I?ndices de Supressa?o de Movimento\n\nSe este ??ndice possui um valor grande, enta?o uma poss??vel causa e? a grande\n\nsupressa?o das varia?veis manipuladas que afetam esta controlada. E caso contra?rio,\n\nenta?o as referidas manipuladas esta?o com liberdade para agir nesta controlada. Em\n\n33\n\n\n\nambos os casos para decidir quais ponderac?o?es devem ser modificadas, deve-se ana-\n\nlisar os I?ndices de Controle Relativos de cada manipulada. Assim como no caso dos\n\nI?ndices de Seguimento Relativos, se a diferenc?a D = Iiu rel ? I\ni\nu rel p for negativa, a\n\nponderac?a?o esta? suprimindo a ac?a?o dessa manipulada e pode ser diminu??da ou vice-\n\nversa. Deve-se analisar somente as varia?veis manipuladas que influenciam a dina?mica\n\ndaquela varia?vel controlada e os ganhos das func?o?es de transfere?ncias para se conhe-\n\ncer a intensidade que a mudanc?a deve ser feita.\n\n34\n\n\n\nCap??tulo 4: Caso de estudo e\n\nferramentas de simulac?a?o e controle\n\nOs ??ndices mostrados no cap??tulo 3 foram avaliados numa unidade de proces-\n\nsamento de ga?s natural (UPGN) da Petrobra?s simulada no software BRLumina, de-\n\nsenvolvido pela pro?pria empresa.\n\n4.1: UPGN\n\nO objetivo do processamento do ga?s natural e? recuperar o propano (C3), o\n\nbutano (C4) e o pentano e hidrocarbonetos mais pesados (C5+), separando-os dos\n\nhidrocarbonetos leves (C1 e C2). O processamento de ga?s natural gera tre?s produtos\n\nfinais: o ga?s industrial (composto por C1 e C2), o GLP (composto por C3 e C4) e a\n\ngasolina natural (composta por C5+).\n\nFigura 4.1: Esquema simplificado da UPGN\n\nNesta unidade, a separac?a?o dos hidrocarbonetos e? feita atrave?s do processo de\n\nabsorc?a?o refrigerada por propano, produzido na pro?pria unidade. Na primeira etapa\n\no ga?s natural passa pela primeira torre, a torre de absorc?a?o, que separa os hidro-\n\n35\n\n\n\ncarbonetos mais pesados (absorvidos pelo o?leo pobre) dos demais. Pelo topo desta\n\ntorre sai o ga?s industrial, composto por metano, etano e C3. E pelo fundo saem os\n\nhidrocarbonetos absorvidos. Como este l??quido ainda possui metano e etano em sua\n\ncomposic?a?o, ele passa pela segunda torre, a desetanizadora, para que estes hidro-\n\ncarbonetos leves sejam separados. Pelo topo da coluna desetanizadora sai outro ga?s\n\nindustrial tambe?m composto por metano (C1), etano (C2) e propano (C3), mas em\n\nconcentrac?o?es diferentes do anterior. O C3 presente no ga?s industrial e? uma perda\n\nque deve ser minimizada. Pelo fundo da torre desetanizadora sai o o?leo rico que e?\n\ndestilado na torre fracionadora gerando LGN (liquido do ga?s natural) e o?leo pobre, que\n\nretorna ao in??cio do processo. Depois da torre desetanizadora na?o resta mais metano\n\nna mistura de hidrocarbonetos que continua no sistema. O LGN alimenta o sistema de\n\ndesbutanizac?a?o. Na torre desbutanizadora o produto e? separado em GLP (ga?s lique-\n\nfeito de petro?leo), composto por etano (10,2%), propano (53,74%), butano (34,76%)\n\ne pentanos (1,3%), e C5+ (gasolina natural). A Figura 4.1 mostra um esquema sim-\n\nplificado do processamento de ga?s natural com as quatro torres e seus respectivos\n\nprodutos de topo e de fundo.\n\nDo ponto de vista do controle avanc?ado, esse processo tem 10 entradas, as\n\nvaria?veis manipuladas, e 11 sa??das, as varia?veis controladas. Ale?m disso, o processo\n\nesta? sujeiro a 3 perturbac?o?es mensura?veis. As varia?veis controladas, manipuladas e\n\nperturbac?o?es do processo inteiro sa?o mostradas nas tabelas 4.1, 4.2 e 4.3, respecti-\n\nvamente.\n\nTabela 4.1: Varia?veis Controladas\n\nID Descric?a?o\ny1 Teor de C3 na torre absorvedora (T01)\ny2 Teor de C3 na torre absorvedora (T02)\ny3 Teor de C2 no GLP\ny4 N??vel da torre (T02)\ny5 N??vel da torre (T02)\ny6 Vaza?o de refluxo\ny7 Abertura da va?lvula de pressa?o da torre T04\ny8 Teor de C5 na torre T04\ny9 Raza?o refluxo torre T04\ny10 Refluxo mais carga T04\ny11 Abertura de va?lvula\n\nAtualmente as varia?veis controladas y5, y9 e y11 na?o esta?o sendo utilizadas no\n\nproblema de controle. A relac?a?o entre as varia?veis controladas, as manipuladas e as\n\n36\n\n\n\nTabela 4.2: Varia?veis Manipuladas\n\nID Descric?a?o\nu1 Vaza?o de o?leo de absorc?a?o para torre T01\nu2 Vaza?o deo?leo de absorc?a?o para torre T02\nu3 Vaza?o de carga fria para torre T02\nu4 Pressa?o no topo da T02\nu5 Pressa?o no topo da T04\nu6 Temperatura de fundo da T03\nu7 Temperatura de topo da T03\nu8 Vaza?o de Refluxo da T04\nu9 Controle de Temperatura da T04\nu10 Temperatura de fundo da T02\n\nTabela 4.3: Perturbac?o?es\n\nID Descric?a?o\nw1 Vaza?o de ga?s natural (carga) a ser processada pela unidade\nw2 Riqueza da carga\nw3 Carga na torre T04\n\nperturbac?o?es e? mostrada na tabela 4.4.\n\nO controle avanc?ado desse processo tem objetivos como maximizar a carga\n\nprocessada na unidade, minimizar a perda de C3 no ga?s industrial, manter o teor\n\nde C2 do GLP dentro da especificac?a?o, minimizar a perda de hidrocarbonetos para\n\nqueima e maximizar o teor de C5+ na gasolina natural. As varia?veis mais dif??ceis de\n\ncontrolar sa?o o teor de C2 no GLP (y3), abertura da va?lvula de pressa?o (y7) e teor de\n\nC5 na gasolina natural (y7). As sec?o?es seguintes explicam brevemente como algumas\n\ndas das varia?veis manipuladas e perturbac?o?es influenciam no comportamento dessas\n\ncontroladas.\n\n4.1.1: Controle do teor de C2 no GLP - y3\n\nA concentrac?a?o de C2 depende principalmente de varia?veis relacionadas a?s\n\ntorres absorvedora e desetanizadora, que sa?o as torres 01 e 02, respectivamente.\n\nO C2 que chega e? torre fracionadora, torre 03, sai pelo topo junto com os demais\n\nhidrocarbonetos na forma de LGN sem sofrer perdas. Na u?ltima torre todo o C2 do\n\nLGN tambe?m sai pelo topo compondo o GLP. A partir da torre 03 nenhuma varia?vel\n\nmensurada e? capaz de alterar a concentrac?a?o final de C2. O objetivo e? produzir GLP\n\n37\n\n\n\nTabela 4.4: Relac?a?o entre varia?veis controladas manipuladas e perturbac?o?es\n\nVaria?vel controlada Varia?veis manipuladas Perturbac?o?es\ny1 u1 w1,w2\ny2 u1,u2,u3,u10 w1,w2\ny3 u1,u2,u10 w1,w2\ny4 u6,u7 w1,w2\ny5 u1,u3,u4 w1,w2\ny6 u6,u7,u10 -\ny7 u1,u2,u5,u10 w1,w2\ny8 u5,u8,u9 w3\ny9 u8,u9 w3\ny10 u8 w3\ny11 u1,u2,u3,u4,u10 w1,w2\n\ncom 15% de C2, mas a?s vezes restric?o?es operacionais impedem esse teor de ser\n\natingido.\n\nNa torre absorvedora, a varia?vel manipulada que influencia no teor de C2 e? a\n\nvaza?o de o?leo de absorc?a?o (u1). Esta e? uma varia?vel importante na absorc?a?o dos\n\nhidrocarbonetos mais pesados. Ela e? manipulada de acordo com a carga processada.\n\nSe a carga aumenta, e? preciso aumentar a vaza?o de o?leo de absorc?a?o para que a\n\nquantidade de hidrocarbonetos absorvidos se mantenha.\n\nNa torre desetanizadora, as principais varia?veis manipuladas que influenciam\n\nno teor de C2 sa?o:\n\n\u2022 Vaza?o da carga fria (u3). Carga fria e? a frac?a?o da corrente de fundo da torre\n01 que vai direto para a torre 02. Sua vaza?o depende da produc?a?o da torre 01.\n\nA outra frac?a?o da corrente passa por um trocador de calor e tambe?m vai pra a\n\ntorre. A vaza?o da carga fria e? medida, mas a vaza?o da frac?a?o quente na?o. Ela\n\npode ser estimada atrave?s do n??vel (y4) e da vaza?o de carga fria.\n\n\u2022 Vaza?o de o?leo de absorc?a?o (u2). A vaza?o do o?leo de absorc?a?o varia de acordo\ncom a vaza?o de carga fria. Quanto maior a carga, mais o?leo de absorc?a?o e?\n\nnecessa?rio.\n\n\u2022 Temperatura do fundo da torre (u10). Esta temperatura regula a passagem de C2\npara a pro?xima torre. O aumento dessa temperatura aumenta a quantidade de\n\nC2 que e? retirado do processo e sai pelo topo da coluna, diminuindo a quantidade\n\nde C2 que continua no processo.\n\n38\n\n\n\nE as perturbac?o?es que influenciam no teor de C2 no GLP sa?o:\n\n\u2022 Riqueza do ga?s natural vindo de outras plataformas. O ga?s natural processado\ne? uma mistura de gases naturais de va?rias fontes. A?s vezes alguma plataforma\n\npara de fornecer e a composic?a?o, ou riqueza, da mistura muda. Ale?m disso,\n\na cada 8 horas, a unidade Atalaia tambe?m processa um condensado vindo de\n\noutra unidade junto com o ga?s natural. Esse condensado produz um ga?s muito\n\nrico, o que tambe?m altera a composic?a?o final.\n\n\u2022 Vaza?o de ga?s natural processada, ou carga processada, tambe?m varia de acordo\ncom o fornecimento. Se, por exemplo, uma fonte para de fornecer, ale?m da\n\nmudanc?a na riqueza da mistura, ha? uma diminuic?a?o da carga.\n\nAle?m disso, o teor de C2 pode ser alterado por perturbac?o?es na?o mensuradas.\n\nUma delas e? a carga te?rmica no air cooler (condensador) da desbutanizadora. A planta\n\nAtalaia esta? exposta a variac?o?es de temperatura ao longo do dia. Geralmente durante\n\no dia faz muito calor e a noite a temperatura diminui. A chuva tambe?m e? um fator que\n\ninfluencia na temperatura. Com a temperatura externa mais baixa, a condensac?a?o e?\n\nmaior, e por isso e? poss??vel conseguir um teor maior de C2 no GLP. Assim, em dias\n\nquentes o teor de C2 no GLP produzido normalmente fica abaixo do desejado. Ale?m\n\ndisso, blocos do air cooler podem ser retirados para manutenc?a?o ou limpeza. Isso\n\ndiminui a superf??cie de troca de calor, o que resulta em menos ga?s condensado, e, por\n\nconsequencia, em menor concentrac?a?o de C2 no GLP.\n\n4.1.2: Controle do teor de C5 na gasolina natural - y8\n\nO teor de C5 na gasolina natural depende das varia?veis manipuladas:\n\n\u2022 Pressa?o no topo da torre desbutanizadora (u5), que varia de acordo com a\nconcentrac?a?o de hidrocarbonetos leves que chegam a essa torre. Quanto maior\n\na concentrac?a?o de leves, maior a pressa?o. E quando a pressa?o aumenta, o teor\n\nde C5 diminui.\n\n\u2022 Vaza?o de refluxo da desbutanizadora (u8). Quando a vaza?o de refluxo de GLP\nda torre T04 aumenta, a concentrac?a?o de C5 diminui.\n\n\u2022 Controle de temperatura da T04 (u9). Quando a temperatura aumenta, mais\nhidrocarbonetos leves sa?o incorporados no GLP, aumentando o teor de C5 do\n\nproduto de fundo.\n\n39\n\n\n\nAle?m disso, o teor de C5 esta? sujeito e? perturbac?a?o de carga na torre T04 (w3).\n\nO teor de C5 aumenta a medida que esta carga aumenta.\n\n4.1.3: Controle da abertura da va?lvula de pressa?o - y7\n\nVa?lvula de pressa?o (y7) na sa??da da desbutanizadora e? uma varia?vel controlada\n\nde extrema importancia e o seu controle tem preferencia em detrimento dos teores,\n\nmesmo que isso significque produzir GLP fora de especificac?a?o. Se o controle da\n\nva?lvula de pressa?o for perdido, a planta pode parar de funcionar. A pressa?o no topo da\n\ntorre desbutanizadora varia de acordo com a concentrac?a?o de hidrocarbonetos leves\n\nque chegam a essa torre e causa o fechamento ou abertura da va?lvula. Quando a\n\npressa?o esta? muito alta, a va?lvula fecha, forc?ando mais ga?s em direc?a?o ao condensa-\n\ndor. La? esse ga?s vira l??quido e seu volume reduz, diminuindo a pressa?o. Se a pressa?o\n\nestiver baixa, a va?lvula abre, deixando mais ga?s passar direto para o acumulador. A\n\nfigura 4.2 mostra um esquema simplificado da sa??da da torre desbutanizadora com a\n\nva?lvula, o acumulador e o condensador.\n\n4.2: BRLumina\n\nO BRLumina e? uma ferramenta de simulac?a?o de processos controlados pelo\n\nCPM. Este software permite a avaliac?a?o do funcionamento do controlador em um am-\n\nbiente offline atrave?s da criac?a?o de diferentes cena?rios de operac?a?o. Nestes cena?rios\n\ne? possivel alterar os limites de operac?a?o das varia?veis, a sintonia do controlador e o\n\nponto de operac?a?o. Ale?m disso, os modelos podem ser alterados para introduzir erros\n\nde modelagem e perturbac?o?es na?o medidas e e? poss??vel introduzir ru??dos.\n\nOs cena?rios a serem simulados no BRLumina devem ser criados dentro de um\n\nprojeto que conte?m todos os arquivos necessa?rios para a simulac?a?o. Estes arquivos\n\nsa?o:\n\n\u2022 As DLLs que implementam os algoritmos de controle e de simulac?a?o.\n\n\u2022 Os arquivos de modelos.\n\n\u2022 O arquivo que define as varia?veis e perturbac?o?es do problema de controle.\n\n\u2022 O arquivo que define os para?metros de sintonia do controle, .\n\n40\n\n\n\nA figura 4.3 mostra a pa?gina de criac?a?o de um cena?rio. Nesta etapa sa?o es-\n\ncolhidos os algoritmos de controle e simulac?a?o da planta, os modelos de planta e\n\nde predic?a?o e o tempo de simulac?a?o. O BRLumina permite a utilizac?a?o de dados de\n\nperturbac?o?es reais na simulac?a?o. Isso permite a criac?a?o de um cena?rio mais pro?ximo\n\ndo real. Uma vez definidos os algoritmos, a planta e o controlador, e? hora de esco-\n\nlher os para?metros de sintonia do controle. Pode-se usar os para?metros previamente\n\ndefinidos no projeto ou modifica?-los.\n\nOs resultados no BRLumina sa?o mostrados em gra?ficos. O comportamento das\n\nvaria?veis pode ser analisado atrave?s de um gra?fico simples, que mostra o target, o\n\nvalor de sa??da e os limites de operac?a?o, ou de gra?ficos multivaria?veis, que agrupam\n\nva?rias varia?veis para comparac?a?o. Diferentes cena?rios tambe?m podem ser compara-\n\ndos atrave?s dos gra?ficos multivaria?veis.\n\nAle?m dos gra?ficos, uma planilha de resultados .csv e? gerada. Nela ficam grava-\n\ndas os targets, as sa??das do processo, os incrementos de controle e outras informac?o?es,\n\ncomo status e shadow price. Apesar do BRLumina gerar um arquivo de resultados\n\nbastante completo, o erro de predic?a?o na?o e? registrado. Como esta e? uma informac?a?o\n\nnecessa?ria para o calculo do ??ndice de erro de modelagem, uma modificac?a? na DLL\n\nde controle foi feita para que arquivos com tais informac?o?es fossem gerados.\n\n4.3: Comenta?rios finais\n\nNeste cap??tulo foram mostradas as ferramentas de simulac?a?o e o processo a\n\npartir do qual foram criados os cena?rios de operac?a?o, mostrados no cap??tulo 5, utiliza-\n\ndos no estudo dos ??ndices.\n\n41\n\n\n\nFigura 4.2: Esquema simplificado torre desbutanizadora\n\nFigura 4.3: Exemplo de cena?rio do BRLumina\n\n42\n\n\n\nCap??tulo 5: Implementac?a?o do FAST\n\nEste cap??tulo mostra como o ca?lculo dos ??ndices foi implementado, que ferra-\n\nmentas foram usadas e que dificuldades foram encontradas para a obtenc?a?o dos da-\n\ndos necessa?rios. Como mostrado no cap??tulo 3, os dados necessa?rios para o ca?lculo\n\ndo ??ndices sa?o:\n\n\u2022 Refere?ncia das varia?veis controladas - W\n\n\u2022 Valor medido das varia?veis controladas - Y\n\n\u2022 Predic?a?o das varia?veis controladas - Y?\n\n\u2022 Ponderac?a?o das varia?veis controladas - Qy\n\n\u2022 Refere?ncia das varia?veis manipuladas - uss\n\n\u2022 Incrementos de controle - ?U\n\n\u2022 Ponderac?a?o as varia?veis manipuladas - Qu\n\nOs algoritmos que implementam o CPM, tanto na planta real como no BR-\n\nLumina, geram ou recebem automaticamente todos esse dados. No entanto, nem\n\ntodos ficam armazenados. As predic?o?es calculadas para as varia?veis controladas\n\neram perdidas de uma iterac?a?o para outra do controle. Foram necessa?rias algumas\n\nmodificac?o?es nesses algoritmos para que a predic?a?o fosse salva em arquivos .csv.\n\nOs ??ndices estudados foram calculados a partir dos dados obtidos nas simulac?o?es\n\nde cena?rios no BRLumina. A cada passo de simulac?a?o, que corrensponde a 1 minuto\n\nde operac?a?o, uma planilha .csv contendo diversos dados gerados pelo CPM e? criada\n\nnum direto?rio. Uma aplicac?a?o desenvolvida em Python varre este direto?rio e le? cada\n\nplanilha, copiando apenas os dados necessa?rios para gerar os vetores W, Y , Y? , Qy\npara cada controlada e uss, ?u e Qu para cada manipulada.\n\n43\n\n\n\nA partir desses vetores sa?o calculados os ??ndices instanta?neos, que por sua vez\n\nsa?o usados para calcular os ??ndices me?dios atrave?s da me?dia recursiva mostrada na\n\nsessa?o 3.1. Estes valores finais sa?o plotados em 5 gra?ficos. Sa?o eles:\n\n\u2022 Desvio me?dio total e individual, figura 6.1\n\n\u2022 I?ndice de seguimento relativo, figura 6.2\n\n\u2022 I?ndices de supressa?o de movimento e controle, figura 6.3\n\n\u2022 I?ndice de erro de modelagem, figura 6.4\n\n\u2022 I?ndice de estabilidade, figura 6.5\n\nAle?m dos dados provenientes do BRLumina, foram utilizados dados reais me-\n\ndidos na planta e gerados pelo controle da mesma para calcular os ??ndices. Estes\n\ndados reais tambe?m foram armazenados em planilhas .csv e lidos por uma aplicac?a?o\n\nem Python que gera os vetores necessa?rios para os ca?lculos. A partir desses vetores,\n\nos ca?lculos foram feitos da mesma maneira descrita anteriormente.\n\nPara a realizac?a?o deste trabalho, a implementac?a?o do FAST MPC se limita a\n\nco?digos em Python que le?em as planilhas, geram vetores, calculam os ??ndices e plotam\n\ngra?ficos. Posteriormente, estas rotinas do Python e um algoritmo para auxiliar na\n\ntomada de decisa?o estara?o integrados a uma interface que facilitara? o uso dos ??ndices.\n\n5.1: Comenta?rios finais\n\nNeste cap??tulo foram descritas as ferramentas usadas para o ca?lculo dos ??ndices,\n\nassim como o ambiente de simulacao utilizado. No pro?ximo cap??tulo sa?o analisados\n\nos resultados obtidos com estas ferramentas.\n\n44\n\n\n\nCap??tulo 6: Avaliac?a?o dos ??ndices e\n\nresultados\n\nPara avaliar o comportamento dos ??ndices foram criados cena?rios no BRLumina\n\na partir de arquivos de configurac?a?o e modelos utilizados na UPGN. No BRLumina\n\ne? poss??vel modificar as informac?o?es importadas desses arquivos para criar cena?rios\n\ncom diferentes sintonias e modelos.\n\nO BRLumina simula na?o so? o controle mas tambe?m a camada de otimizac?a?o na\n\nqual sa?o calculados os targets para todas as varia?veis. Neste processo, as perturbac?o?es\n\nmedidas w1 e w2 fazem parte do problema de otimizac?a?o. Estas perturbac?o?es sa?o a\n\nvaza?o e a composic?a?o do ga?s natural na entrada do processo. Enta?o quando seus\n\nvalores mudam, os targets calculados para as varia?veis tambe?m mudam. Por isso,\n\nos valores de perturbac?a?o utilizados no cena?rio zero sa?o valores obtidos a partir de\n\nmedic?o?es reais. Assim, o cena?rio criado se aproxima muito de uma situac?a?o real.\n\nAs sesso?es a seguir explicam os resultados obtidos a partir da ana?lise dos\n\ncena?rios para estudar o funcionamento dos ??ndices.\n\n6.1: Caso zero: cena?rio inicial\n\nEste cena?rio, usado como refere?ncia, foi criado a partir dos arquivos de configurac?a?o\n\ndo controle e do modelo da UPGN sem que nenhuma modificac?a?o fosse feita. Neste\n\ncaso, chamado cena?rio zero, o modelo da planta e o de predic?a?o sa?o iguais e este\n\nmodelo e? o mesmo usado como modelo de predic?a?o no controle da planta real. As\n\nmatrizes de supressa?o Qy e Qu tambe?m na?o foram alteradas e seus valores sa?o os\n\nmesmos utilizados no controle da UPGN.\n\nO gra?fico de desvios me?dios individuais, figura 6.1, mostra que as varia?veis\n\ncontroladas y3, y7 e y8 sa?o as que apresentam maior desvio. O objetivo de controle\n\nsera? enta?o diminuir o desvio das varia?veis y3, y7 e y8, sem aumentar o desvio das\n\n45\n\n\n\noutras.\n\nPelo I?ndice de Estabilidade, figura 6.5, das tre?s varia?veis apenas a y3 possui um\n\nespac?o que podemos acelerar a dina?mica desta resposta sem levar todo o sistema\n\npara a instabilidade. E que a y7 esta? em seu limite e na?o conseguiremos melhorar\n\nmuito esta resposta.\n\nPelo I?ndice de Erro de Modelagem, figura 6.4, vemos que a controlada y8 esta?\n\nmal modelada. Isto pode ser causado tanto por um modelo de predic?a?o ruim quanto\n\npela presenc?a de perturbac?o?es na?o modeladas influenciando nesta resposta. Vemos\n\nque a controlada y1 tambe?m tem um modelo ruim mas sua resposta apresenta um\n\nbaixo desvio me?dio individual. Corrigir esse modelo na?o apresenta muita importa?ncia,\n\na menos que o objetivo de controle seja manter ela bem controlada.\n\nO I?ndice de supressa?o de movimento, figura 6.3, Pelo ??ndice de supressa?o de\n\nmovimento vemos que a maior supressa?o de movimento esta? na varia?vel y4 mas\n\nessa varia?vel ja? esta? fazendo um bom seguimento de refere?ncia, provavelmente pela\n\ndina?mica ra?pida da varia?vel. Das varia?veis propostas inicialmente para serem melho-\n\nradas apenas y3 tem possibilidade de melhoria modificando as ponderac?o?es de Qu.\n\nPara as varia?veis y7 e y8 deve-se dar mais atenc?a?o a ponderac?a?o Qy e aos modelos de\n\npredic?a?o visto que pelas ponderac?o?es de Qu na?o sera? poss??vel nenhuma melhora. As\n\nvaria?veis manipuladas que a influenciam y3 sa?o: u1, u2, e u10. Dessas manipuladas,\n\nso? a u2 tem uma parcela alta do esforc?o de controle, como mostra o I?ndice de Con-\n\ntrole na figura 6.3. Neste caso, pelos ??ndices de controle na?o ponderados, de u1 e u10\n\nesta?o pouco acionadas e podem ser mais liberadas (diminuindo a ponderac?a?o Qu). A\n\nu2, apesar de bem manipulada, parece esta? mais acionada que o real para o controla-\n\ndor, por causa da ponderac?a?o. Neste caso, ponderac?a?o dela pode ser diminu??da para\n\npermitir que ela seja mais utilizada.\n\nEstas concluso?es foram obtidas seguindo a me?todologia de tomada de decisa?o\n\nproposta. No entanto, cena?rios criados a partir dessas concluso?es na?o mostraram\n\numa melhora no desempenho do sistema, o que sugere que a sintonia ja? esta? muito\n\nboa para manter o sistema em bom desempenho para os objetivos de controle.\n\nEste cena?rio zero foi enta?o utilizado como o exemplo de boa sintonia e desem-\n\npenho deste controle nesta planta. Os dados obtidos nesta simulac?a?o foram usados\n\npara definir o tamanho da janela de me?dia mo?vel, mostrada na sessa?o 3.1, que sera?\n\nusada nos ca?lculos dos ??ndices nas pro?ximas ana?lises.\n\nA janela mo?vel usada para calcular os ??ndices me?dios tem uma grande influ-\n\n46\n\n\n\nFigura 6.1: Desvios Me?dios\n\nFigura 6.2: I?ndices de Seguimento Relativo\n\n47\n\n\n\nFigura 6.3: I?ndices de Supressa?o de Movimento e Controle Relativo\n\nFigura 6.4: I?ndices de Erro de Modelagem\n\n48\n\n\n\nFigura 6.5: I?ndice de Estabilidade\n\nencia no resultado final. Se a janela escolhida for muito pequena, somente amostras\n\nmuito pro?ximas da atual sa?o consideradas e valores de ??ndices instanta?neos muito\n\ndiferentes podera?o levar a concluso?es erradas sobre o desempenho do sistema. Se\n\na janela for muito grande, mudanc?as de sintonia ou ponto de operac?a?o, que podem\n\nafetar o desempenho do controle, podem demorar muito para aparecer, ja? que muita\n\ninformac?a?o do passado ainda tem peso no presente. E? preciso enta?o escolher uma\n\njanela com um tamanho ideal que minimize esses dois efeitos.\n\nPara definir o tempo da janela Nmedia foram calculados os ??ndices com janelas\n\nde diferentes tamanhos e o Nmedia que representa o sistema, ou seja, o menor tama-\n\nnho de janela que gera um resultado que na?o mudara? se a janela for aumentada, foi\n\nescolhido.\n\nAssim, foram testados 3 tamanhos de janela: 4, 7 e aproximadamente 15 dias,\n\nou seja, todo o conjunto de dados. Os resultados mudaram muito entre 4 e 7 dias,\n\nmas de 7 para 15 na?o. Por isso, o tamanho escolhido foi 7 dias e todos os cena?rios\n\nmostrados nas pro?ximas sesso?es tiveram os in?dices calculados com uma janela de 7\n\ndias.\n\n6.2: Caso 1: cena?rios com erros de modelagem\n\nComo o objetivo e? minimizar o erro entre o target e a predic?a?o, um modelo de\n\npredic?a?o que na?o representa muito bem o processo pode prejudicar o seguimento\n\n49\n\n\n\na? refere?ncia, uma vez que o erro minimizado na?o corresponde ao erro real, enta?o a\n\ndiferenc?a entre a refere?ncia e a sa??da pode nunca chegar a zero.\n\nPara verificar o reflexo de erros de modelagem no I?ndice de Erro Modelagem,\n\nforam criados 3 cena?rios com alterac?o?es nos modelos que afetam a varia?vel controlada\n\ny3. No primeiro cena?rio, os ganhos esta?ticos das manipuladas que afetam y3 foram\n\nmultiplicados por 1,5. No segundo cena?rio, o atraso foi aumentado em 40 minutos.\n\nNo terceiro cena?rio, os modelos de perturbac?a?o para a varia?vel y3 foram exclu??dos,\n\nna tentativa de simular perturbac?e?s na?o medidas. Estas perturbac?o?es, apesar de na?o\n\nrepresentarem as mesmas perturbac?e?s na?o medidas que influenciam no processo\n\nreal, servem para mostrar como este erro se reflete no ??ndice.\n\nOs tre?s diferentes erros de modelagem inseridos no processo sa?o facilmente\n\nnotados nos I?ndices de erro de modelagem. No caso zero, mostrado na figura 6.6a,\n\nos valores dos ??ndices de todas as varia?veis sa?o baixos e na?o passam de 0,8, inclu-\n\nsive o da varia?vel y3, que e? 0,3. Ja? nos casos com erro de modelagem, os valores dos\n\n??ndices continuam iguais e abaixo de 0,8, mas para a varia?vel y3 os valores aumen-\n\ntaram consideravelmente. Como mostra a figura 6.6, atrave?s dos ??ndices e? poss??vel\n\nidentificar exatamente quais varia?veis controladas esta?o sendo afetadas por erros de\n\nmodelagem.\n\nApesar dos erros de modelagem aparecem claramente no ??ndice de erro de\n\nmodelagem, na?o e? poss??vel identificar a natureza do erro apenas com os ??ndices\n\npropostos. Atualmente esa?o sendo feitos estudos de indicadores que auxiliem na\n\nidentificaca?o\u00b8 da origem do erro (ganho, atraso, perturbac?o?es ou ru??dos).\n\n6.3: Caso 2: Cena?rios com alterac?o?es na supressa?o das ac?o?es de\ncontrole\n\nOs ajustes das ponderac?o?es Qy e Qu tem grande influe?ncia no desempenho\n\ndo sistema de controle. A ponderac?a?o do esforc?o de controle Qu pode ser analisada\n\natrave?s dos I?ndices de Controle Relativos e de Supresa?o de Movimento, lembrando\n\nque o I?ndice de Supressa?o de Movimento mostra a visa?o das controladas e como\n\nsuas manipuladas esta?o sendo suprimidas. O I?ndice de Controle Relativo mostra a\n\nvisa?o das manipuladas e o quanto elas esta?o sendo acionadas em forma percentual\n\nao total.\n\nComo mostra a equac?a?o 3.10 do ??ndice de supressa?o no cap??tulo 3, pa?gina 31,\n\n50\n\n\n\n(a) Caso zero (b) Erro no ganho\n\n(c) Erro no atraso (d) Perturbac?a?o na?o medida\n\nFigura 6.6: I?ndices de Erro de Modelagem\n\n51\n\n\n\na supressa?o de uma varia?vel controlada e? inversamente proporcional aos incrementos\n\nde controle de suas manipuladas. Se o valor de Qu para uma manipulada for aumen-\n\ntado, os incrementos de controle calculados para essa varia?vel sera?o menores e sua\n\nresposta mais lenta. Assim, o aumento de Qu de uma manipulada pode aumentar\n\no ??ndice de supressa?o da varia?vel controlada a qual ela afeta. O contra?rio acontece\n\nquando o valor de Qu de uma manipulada e? reduzido. Como seus incrementos de\n\ncontrole calculados sa?o maiores, o ??ndice de supressa?o da sua controlada tende a\n\ndimunuir.\n\nPara verificar esta relac?a?o entre as variac?o?es de Qu e o ??ndice de supressa?o,\n\nforam criados dois cena?rios nos quais as varia?veis manipuladas u1, u2 e u10, que\n\nsa?o as que afetam a controlada y3, destacada em verde, tiveram seus valores de Qu\nalterados. No primeiro, cujo resultado e? mostrado na figura 6.7b, os valores de Qu\nforam aumentados para 50. No segundo, mostrado na figura 6.7c, os valores de Qu\nforam reduzidos para 0,5, 0,5 e 0,2 para u1, u2 e u10, respectivamente.\n\nOs valores iniciais de Qu para essas varia?veis manipuladas sa?o 5, 5 e 2 para\n\nu1, u2 e u10, respectivamente. A figura 6.7a mostra o caso zero, que usa os valores\n\nde Qu iniciais. A varia?vel y3 tem um ??ndice de supressa?o maior no primeiro cena?rio,\n\nfigura 6.7b do que no caso zero. Ja? no segundo caso, o ??ndice de supressa?o de y3\n\ne? praticamente zero. Houve uma reduc?a?o em relac?a?o ao caso zero. Estes resultados\n\nsa?o consistentes com o que se esperava teoricamente. Cena?rios parecidos foram\n\ncriados envolvendo outros conjuntos de varia?veis controladas e suas manipuladas e\n\ntodos apresentaram o mesmo comportamento.\n\n6.4: Comenta?rios finais\n\nOs cena?rios criados para esta etapa do estudo na?o te?m como objetivo validar a\n\ntomada de decisa?o prosposta, mas sim mostrar como problemas de modelo e sintonia\n\nse refletem nos ??ndices. Ale?m disso, as modificac?o?es feitas levaram a um aumento no\n\ndesvio me?dio do sistema, o que indica que, apesar de haver erro de seguimento, a\n\natual sintonia do controle esta? pro?xima da melhor sintonia poss??vel. E? preciso lembrar\n\nque os targets deste sistema mudam frequentemente, enta?o o regime permanente\n\ndificilmente e? atingido. Ainda assim, mesmo em casos bastante complexos, onde ha?\n\num grande acoplamento entre varia?veis, os ??dices fornecem informac?o?es consistentes\n\nsobre o desempenho e a sintonia do controle.\n\n52\n\n\n\n(a) Caso zero\n\n(b) Qu de u1, u2 e u10 aumentado (c) Qu de u1, u2 e u10 diminu??do\n\nFigura 6.7: I?ndices de Supressa?o e Controle Relativo\n\n53\n\n\n\nCap??tulo 7: Concluso?es e Perspectivas\n\nOs resultados obtidos a partir dos cena?rios discutidos no cap??tulo 6 mostram\n\nque os ??ndices sa?o capazes de indicar claramente o que esta? afetando o sistema,\n\nmesmo num processo lento, com muitas varia?veis de diferentes dina?micas, com muito\n\natraso e muitas restric?o?es.\n\nMas apesar dos ??ndices serem capazes de identificar a poss??vel causa de um\n\ndesempenho ruim, eles na?o conseguem sozinhos dar detalhes de como corrigir o pro-\n\nblema. Por exemplo, um alto valor do ??ndice de erro de modelagem pode ser causado\n\npor erros de ganho ou atraso no modelo de predic?a?o, ou por perturbac?o?es na?o medi-\n\ndas, ou ainda por ru??dos. E essas diferentes causas aparecem nos ??ndices da mesma\n\nmaneira, elas aumentam o valor do ??ndice de erro de modelagem.\n\nAle?m disso, somente com os ??ndices de supressa?o e controle, na?o e? poss??vel\n\ndeterminar o quanto se deve alterar os valores de Qu para obter uma resposta me-\n\nlhor. Os ??ndices de supressa?o tambe?m sa?o afetados pela velocidade da resposta das\n\nvaria?veis. As mais ra?pidas se aproximam da refere?ncia antes das demais e nessa hora\n\nte?m incrementos de controle menor, afetando o valor do ??ndice.\n\nUm outro ponto importante e particular da planta estudada e? que neste processo\n\nos valores de ponderac?a?o Qy dependem do valor das varia?veis controladas. Existem 3\n\nvalores de Qy para cada varia?vel: um para quando o valor esta? acima do limite superior\n\nde operac?a?o, outro para quando ele esta? abaixo do limite inferior e um terceiro para\n\nquando o valor esta? dentro dos limites. Isso torna a ana?lise dos I?ndices de Seguimento\n\nRelativos um pouco complicada. E por isso a ana?lise deste ??ndice na?o foi ta?o explorada\n\nneste trabalho.\n\nEstudos esta?o sendo feitos para criar indicadores que permitam diferenciar os\n\ntipos de erros de modelagem que esta?o prejudicando o seguimento a refere?ncia.\n\nAle?m disso, ana?lises do comportamento dos ??ndices esta?o sendo feitas para obter um\n\nme?todo de soluc?a?o matema?tico que defina o quanto se deve modificar as ponderac?o?es\n\ndo controle ajustado.\n\n54\n\n\n\nRefere?ncias Bibliogra?ficas\n\n[1] L. G. Bergh and J. F. MacGregor. Constrained minimum variance controllers: In-\n\nternal model structure and robustness properties. Ind. Eng. Chem. Res., 26:1558\u2013\n\n1564, 1987.\n\n[2] E.F. Camacho and C. Bordons. Model Predictive Control. Springer, Berlin, 2007.\n\n[3] D.W. Clarke and C. Mohtadi. Properties of generalized predictive control.\n\nAutomatica, 25(6):859\u2013875, 1989.\n\n[4] D.W. Clarke, C. Mothadi, and P.S. Tuffs. Generalized Predictive Control. Part I: the\n\nbasic algorithm. Automatica, 23(2):137\u2013148, 1987.\n\n[5] C.R. Cutler and B. L. Ramaker. Dynamic matrix control-a computer control algo-\n\nrithm. AIChE National Meeting, 1979.\n\n[6] A. Datta and J. Ochoa. Adaptive Internal Model Control: Design and stability\n\nanalysis. Automatica, 32(2):261\u2013266, 1996.\n\n[7] S. Dormido. Una revisio?n de las tecnolog??as de control predictivo basado en\n\nmodelos en la industria. In Wokshop sobre estado y perspectivas del control\n\npredictivo, Valladolid, Spain, 1987.\n\n[8] Rodolfo Ce?sar Costa Flesch. Contribuic?o?es ao Controle de Sistemas\n\nMonovaria?veis e Multivaria?veis com Atraso de Transporte. PhD thesis, Univer-\n\nsidade Federal de Santa Catarina, 2012.\n\n[9] G. Goodwin and K. Sin. Adaptive Filtering Prediction and Control. Prentice Hall,\n\n1984.\n\n[10] R.M.C. De Keyser and A.R. Cuawenberghe. Extended prediction self adaptive\n\ncontrol. In IFAC Simp. on Ident. and Syst. Parameter Estimation, pages 1317\u2013\n\n1322, York, 1985.\n\n[11] H. S. Khalil. Nonlinear Systems. Prentice-Hall, 3rd edition, 2003.\n\n[12] Manfred Morari, Jay H. Lee, and Carlos E. Garc??a. Model Predictive Control.\n\nPrentice Hall, 2002.\n\n55\n\n\n\n[13] D. Miranda Cruz J. E. Normey-Rico P. E. F. Cortez, A. Plucenio. I?ndices de de-\n\nsempenho para auxI?ilio na re-sintonia de controladores preditivos multivariA?veis.\n\nMaster\u2019s thesis, Universidade Federal de Santa Catarina, Dissertac?a?o ainda na?o\n\ndefendida.\n\n[14] Z.J. Palmor. Properties of optimal stochastic control systems with dead-time.\n\nAutomatica, 18:107\u2013116, 1982.\n\n[15] J.B. Rawlings and D.Q. Mayne. Model Predictive Control: Theory and Design.\n\nNob Hill Publishing, 2009.\n\n[16] J. Richalet, S. Abu el Ata-Doss, C. Arber, H.B. Kuntze, A. Jacubash, and W. Schill.\n\nPredictive functional control. Application to fast and accurate robots. In Proc. 10th\n\nIFAC Congress, Munich, 1987.\n\n[17] J. Richalet, A. Rault, J.L. Testud, and J. Papon. Algorithm control for industrial\n\nprocesses. In Proc. 4th IFAC Symp. on Identification and System Parameter\n\nEstimation, Tbilisi, URSS, 1976.\n\n[18] I. Skrjanc and D. Matko. Advances in Model Based Predictive Control. Chapter:\n\nFuzzy Predictive Controller with Adaptive Gain., chapter 10. Oxford University,\n\n1994.\n\n[19] R. Soeterboek. Predictive Control: A unified approach. Prentice Hall, 1992.\n\n[20] Y. Tan and R. De Keyser. Advances in Model Based Predictive Control. Chapter:\n\nNeural Network Based Predictive Control., chapter 8. Oxford University, 1994.\n\n[21] B.E. Ydstie. Extended horizon adaptive control. In 9th IFAC World Congress,\n\nBudapest, Hungary, 1984.\n\n56\n\n\n\tLista de Figuras\n\tIntrodu\u00e7\u00e3o\n\tControle Preditivo de Processos da Ind\u00fastria de Petr\u00f3leo e G\u00e1s\n\tElementos do CPBM\n\tO modelo de predi\u00e7\u00e3o\n\tO modelo do processo\n\tModelo das perturba\u00e7\u00f5es\n\tResposta livre e for\u00e7ada\n\n\tFun\u00e7\u00e3o Objetivo\n\tObten\u00e7\u00e3o da lei de controle\n\n\tControle por Matriz Din\u00e2mica (DMC)\n\tDMC Original\n\tDMC Recursivo\n\n\tDMC Multivari\u00e1vel\n\tDMC Recursivo Multivari\u00e1vel\n\n\tComent\u00e1rios finais\n\n\tFerramenta de Aux\u00edlio a Sintonia Total (FAST MPC)\n\tC\u00e1lculo dos \u00edndices\n\tDesvios M\u00e9dios\n\t\u00cdndice de Estabilidade\n\t\u00cdndices de Seguimento de Refer\u00eancia Relativo\n\t\u00cdndices Controle Relativo\n\t\u00cdndices de Supress\u00e3o de Movimento\n\t\u00cdndices do Erro de Modelagem\n\n\tApresenta\u00e7\u00e3o Gr\u00e1fica dos Resultados\n\tM\u00e9todo Proposto para Tomada de Decis\u00e3o\n\tAn\u00e1lise dos \u00cdndices de Seguimento Relativos\n\tAn\u00e1lise dos \u00cdndices de Supress\u00e3o de Movimento\n\n\n\tCaso de estudo e ferramentas de simula\u00e7\u00e3o e controle\n\t UPGN\n\tControle do teor de C2 no GLP - y3\n\tControle do teor de C5 na gasolina natural - y8\n\tControle da abertura da v\u00e1lvula de press\u00e3o - y7\n\n\tBRLumina\n\tComent\u00e1rios finais\n\n\tImplementa\u00e7\u00e3o do FAST\n\tComent\u00e1rios finais\n\n\tAvalia\u00e7\u00e3o dos \u00edndices e resultados\n\tCaso zero: cen\u00e1rio inicial\n\tCaso 1: cen\u00e1rios com erros de modelagem\n\tCaso 2: Cen\u00e1rios com altera\u00e7\u00f5es na supress\u00e3o das a\u00e7\u00f5es de controle\n\tComent\u00e1rios finais\n\n\tCap\u00edtulo 7: Conclus\u00f5es e Perspectivas\n\tRefer\u00eancias Bibliogr\u00e1ficas"}]}}}