{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BT.04880"}, {"@name": "filename", "#text": "BTP_2003_46_3_4_18_Sintonia_de_controladores.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "SINTONIA DE CONTROLADORES REGULATORIOS\nPID CONTROLLER TUNING\nSINTON\u00cdA DE CONTROLADORES PID\nRenato Spandri1\nRESUMO\nEste trabalho \u00e9 uma revis\u00e3o sobre sintonia de controladores do tipo PID. O assunto \u00e9 cada vez mais importante para engenheiros envolvidos com opera\u00e7\u00e3o, principalmente ap\u00f3s a implanta\u00e7\u00e3o de controladores preditivos e multivari\u00e1veis (controle avan\u00e7ado) nas plantas qu\u00edmicas. Trata-se de um texto introdut\u00f3rio, que pretende ser fator motivador para um futuro estudo mais aprofundado. As publica\u00e7\u00f5es sobre o assunto s\u00e3o numerosas e aparecem rotineiramente na literatura de Engenharia. Abordam-se alguns m\u00e9todos de sintonia tradicionais como os que se baseiam no estudo das oscila\u00e7\u00f5es permanentes do sistema em malha fechada, os m\u00e9todos baseados na curva de resposta do processo em malha aberta e os m\u00e9todos fundamentados em desempenho \u00f3timo em malha fechada. Conclui-se com considera\u00e7\u00f5es sobre o valor da experi\u00eancia pr\u00e1tica (heur\u00edstica) como guia para sintonia de controladores.\nABSTRACT\nThis paper is a PID controller tuning review. Tuning has been increasingly important for operation engineers with multivariable predictive control routinely implemented in most chemical plants. This is supposed to be an introductory text, a first step toward further studying. Tuning is a common subject in most engineering technical publications. Some of the well known tuning methods are reviewed, including those based on closed loop sustained oscillations analysis, the open loop transfer function based ones and some of the optimal performance with closed loop tuning methods.\nFinally, experienced operator tips on tuning are discussed as they prove to be a good heuristic way to achieve both good performance and stability controllers.\nRESUMEN Este trabalho es una revisi\u00f3n sobre sinton\u00eda de controladores del tipo PID. El asunto es cada vez m\u00e1s importante para ingenieros de operaci\u00f3n, principalmente con control avanzado en las plantas qu\u00edmicas. Tr\u00e1tase de un texto introductorio, motivador para un futuro estudio m\u00e1s profundo. Las publicaciones sobre el asunto son numerosas y aparecen rutineramente en la literatura de Ingenier\u00eda. Son abordados algunos m\u00e9todos de sinton\u00eda tradicionales como los que se basan en el estudio de las oscilaciones permanentes del sistema, los m\u00e9todos basados en la curva de respuesta del proceso y los m\u00e9todos fundamentados en desempeno \u00f3ptimo . Se concluye con consideraciones sobre el valor de la experiancia pr\u00e1ctica (heur\u00edstica) como gu\u00eda para sintonia de controladores.\n1.\tINTRODU\u00c7\u00c3O: IMPORT\u00c2NCIA DO CONTROLADOR PID\nControle de processos \u00e9 um campo do conhecimento de Engenharia. Ele \u00e9 fortemente relacionado \u00e0 opera\u00e7\u00e3o e \u00e0 instrumenta\u00e7\u00e3o. A opera\u00e7\u00e3o, de uma forma abrangente, sempre envolve algum modelo do processo: \u00e9 a pr\u00e1tica da engenharia de modelos de processo. A instrumenta\u00e7\u00e3o, por sua vez, \u00e9 uma importante \u00e1rea da engenharia do equipamento, voltada para os dispositivos que permitem realizar a tarefa de regula\u00e7\u00e3o do processo.\n1 Unidade de Neg\u00f3cios Replan. e-mail: spandri@petrobras.com.br\nAntigamente, mecanismos f\u00edsicos permitiam a implementa\u00e7\u00e3o de controle com a\u00e7\u00e3o sobre uma v\u00e1lvula para regular alguma propriedade medida do processo, como ilustra o sistema pneum\u00e1tico da figura 1.\nL\nFig. 1 - Controle de temperatura com controlador pneum\u00e1tico.\nFig. 1 - Temperature pneumatic control.\nO controlador apresentado na figura 1 regula a temperatura de sa\u00edda de um fluido que passa por um permutador de calor. Para mant\u00ea-la pr\u00f3xima de um valor desejado, sempre que houver um erro (diferen\u00e7a) entre ele e o valor de temperatura medido, o sistema mec\u00e2nico desencadear\u00e1 naturalmente a\u00e7\u00e3o sobre uma v\u00e1lvula, abrindo-a ou fechando-a, aumentando ou diminuindo a vaz\u00e3o de \u00e1gua de refrigera\u00e7\u00e3o para o trocador de calor.\nEssa a\u00e7\u00e3o normalmente \u00e9 proporcional ao erro verificado entre o valor desejado e o medido para a propriedade regulada. Tr\u00eas parcelas s\u00e3o adicionadas: uma de proporcionalidade direta a cada novo erro, outra de proporcionalidade \u00e0 soma acumulada do erro e uma terceira de proporcionalidade \u00e0 taxa de varia\u00e7\u00e3o do erro, compondo uma lei de controle denominada proporcional + integral + derivativa (PID) que descreve o comportamento de boa parte dos dispositivos de controle mais simples.\nAtualmente, com a informatiza\u00e7\u00e3o da instrumenta\u00e7\u00e3o, outras leis de controle podem ser codificadas em computadores de diversos portes. Em compara\u00e7\u00e3o com a t\u00e3o simples lei PID, \u00fanica poss\u00edvel antigamente, algumas das atuais merecem o nome de leis avan\u00e7adas de controle, algoritmos de controle avan\u00e7ado. Muitas dessas leis s\u00e3o de fato complexas e s\u00e3o programadas em computadores de maior porte.\nAs leis mais complexas normalmente regem tarefas de uma natureza mais ligada \u00e0 otimiza\u00e7\u00e3o e supervis\u00e3o. Para tarefas regulat\u00f3rias mais simples, ainda continua sendo programada nos computadores a antiga e \u00fatil lei PID. Esse \u00e9 o caso dos controladores que regulam vaz\u00f5es, temperaturas e press\u00f5es.\nA configura\u00e7\u00e3o final \u00e9 a de um esquema hierarquizado de controladores, com o controle avan\u00e7ado otimizando o processo atrav\u00e9s de atua\u00e7\u00e3o sobre uma s\u00e9rie de controladores regulat\u00f3rios do tipo PID. Tudo \u00e9 muito semelhante a um sistema em cascata: o controle avan\u00e7ado \u00e9 mestre de diversos controladores PID, que dele recebem periodicamente novos set-points (valores desejados). Na figura 2 ilustra-se uma rede de computadores de controle de processo (SDCD), indicando o fluxo hierarquizado de informa\u00e7\u00e3o: set-point enviado pelo controle avan\u00e7ado e atua\u00e7\u00e3o sobre o processo pelo controle regulat\u00f3rio.\nFig. 2 - Computador de processo com regras de controle avan\u00e7ado supervisiona computador do SDCD (controle regulat\u00f3rio com lei PID) pelo envio de set-point, otimizando o processo.\nFig.2 - Advanced supervisory control: set-points to DCS.\nO controle avan\u00e7ado inclui diversos par\u00e2metros num\u00e9ricos que devem ser ajustados. O controlador regulat\u00f3rio inclui as tr\u00eas constantes de proporcionalidade (PID) que devem tamb\u00e9m ser ajustadas.\nO valor num\u00e9rico das constantes determina o comportamento dos controladores, alterando-lhes o desempenho. A escolha dos valores deve sempre atender \u00e0s duas grandes quest\u00f5es de controle: o processo sob controle deve sempre ficar est\u00e1vel e o desempenho do controlador deve ser satisfat\u00f3rio. Estes s\u00e3o os dois aspectos que justificam todo o conhecimento da denominada teoria de controle cl\u00e1ssico. Sintonizar o controlador significa encontrar valores num\u00e9ricos para as constantes de proporcionalidade de um controlador PID de forma a regular o processo com estabilidade e no valor desejado para a propriedade medida (desempenho satisfat\u00f3rio).\nCom o controle avan\u00e7ado, a quest\u00e3o de sintonia do controlador regulat\u00f3rio fica ainda mais importante, uma vez que o desempenho do controlador PID acaba sendo parte (importante) do desempenho final do controle avan\u00e7ado.\n2.\tMODELO DO PROCESSO\nO modelo \u00e9 a lei do processo. Usando diagrama de blocos (fig. 3):\nFig. 3 - Diagrama de blocos do processo.\nFig. 3 - Process block diagram.\nrepresenta-se a vari\u00e1vel independente (grau de liberdade) como entrada do processo (u) e a vari\u00e1vel dependente como sa\u00edda (y).\nPor exemplo, para uma torre debutanizadora, que separa g\u00e1s liquefeito (GLP) como produto de topo e gasolina (nafta) como produto de fundo:\nu\ty\n- refluxo de topo de torre debutanizadora\t- intemperismo do GLP\n- carga t\u00e9rmica no refervedor de debutanizadora\t- PVR da nafta\nO refluxo \u00e9 uma vari\u00e1vel que influencia o intemperismo do GLP (95% vaporizados no ensaio de vaporiza\u00e7\u00e3o do produto e que \u00e9 influenciado pela presen\u00e7a de hidrocarbonetos pesados). Sendo usado (manipulado) apropriadamente, pode se tornar um bom grau de liberdade para regular (controlar) o intemperismo. Considera\u00e7\u00f5es an\u00e1logas valem para a carga t\u00e9rmica do refervedor no que se refere ao controle (regula\u00e7\u00e3o) da PVR da nafta (Press\u00e3o de Vapor Reid do produto, que \u00e9 influenciada pela presen\u00e7a de hidrocarbonetos leves).\nO exemplo do anexo I ilustra outro fato importante relacionado ao diagrama de blocos aplicado a controle de processos: as vari\u00e1veis y e u do diagrama de blocos acima est\u00e3o na forma de desvio em rela\u00e7\u00e3o a um estado estacion\u00e1rio do processo.\nO modelo do processo \u00e9 a lei que expressa a influ\u00eancia de u sobre y. Nos processos qu\u00edmicos, essa lei \u00e9 normalmente conseq\u00fc\u00eancia de balan\u00e7o de massa e energia, e acaba sendo expressa por equa\u00e7\u00f5es diferenciais do tipo:\nT\t+y (t) = Kpu (t - td)\nd\nPelo fato de essa equa\u00e7\u00e3o envolver uma derivada primeira, diz-se que os modelos dos processos qu\u00edmicos s\u00e3o geralmente de primeira ordem.\nQuando uma varia\u00e7\u00e3o \u00fanica e brusca \u00e9 aplicada na entrada u (varia\u00e7\u00e3o denominada degrau), a integra\u00e7\u00e3o dessa equa\u00e7\u00e3o fornece a seguinte solu\u00e7\u00e3o t\u00edpica (fig. 4):\nAu\tk u\n\tI AU T\n\tt *\n\t\t\nSAu\t\t\n\t\t\n\t\t\n\t\tt *\nFig. 4 - Resposta (vari\u00e1vel de sa\u00edda) de processo de primeira ordem a um degrau na vari\u00e1vel de entrada.\nFig. 4 - First order process step response.\nTr\u00eas termos s\u00e3o importantes para o modelo:\nganho do processo: expressa quanto se altera a vari\u00e1vel de sa\u00edda para cada unidade de varia\u00e7\u00e3o da vari\u00e1vel de entrada. O ganho \u00e9 uma raz\u00e3o, possui unidades e pode ser calculado pela express\u00e3o:\nK\np\nAy\nAu\ntempo morto (td - delay time) \u00e9 o tempo que o processo leva para come\u00e7ar a responder \u00e0 varia\u00e7\u00e3o em degrau;\ntempo de primeira ordem ( t ) \u00e9 o tempo que o processo demora, uma vez iniciada a varia\u00e7\u00e3o, para chegar aos 63% da varia\u00e7\u00e3o total final. Esse n\u00famero 63% \u00e9 conseq\u00fc\u00eancia de uma exponencial que aparece na solu\u00e7\u00e3o anal\u00edtica da equa\u00e7\u00e3o diferencial, podendo-se facilmente constatar que 100 x (1 - e 1) = 63%.\n\u00c9 claro que existem modelos muito mais sofisticados para o processo. Para a maioria das finalidades pr\u00e1ticas basta um modelo de primeira ordem com atraso.\nProcessos qu\u00edmicos podem ser representados por diagrama de blocos como o seguinte (fig. 5):\nFig. 5 - Diagrama da fun\u00e7\u00e3o de transfer\u00eancia do processo.\nFig. 5 - Process step transfer function.\nO ganho e o tempo de primeira ordem aparecem como coeficientes de uma raz\u00e3o denominada fun\u00e7\u00e3o de transfer\u00eancia. A vari\u00e1vel s, em \u00faltima an\u00e1lise, representa a derivada. O tempo morto aparece no bloco imediatamente posterior ao primeiro.\nUma vez definidas as vari\u00e1veis de entrada e de sa\u00edda, o levantamento pr\u00e1tico da fun\u00e7\u00e3o de transfer\u00eancia \u00e9 chamado identifica\u00e7\u00e3o do processo. A maneira mais simples de se levantar a fun\u00e7\u00e3o de transfer\u00eancia, ou seja, de se determinarem os valores de Kp, t e td (identificar o processo), \u00e9 a de se fazer teste que consiste em:\n\u2022 aplicar um degrau na vari\u00e1vel de entrada (u) (fig. 6);\n\tk u\t\nAu\t\t\n\tAu\t\n\tt *\t\nFig. 6 - Teste de aplica\u00e7\u00e3o de degrau na entrada do processo.\nFig. 6 - Step test.\n\u2022 registrar a evolu\u00e7\u00e3o da vari\u00e1vel de sa\u00edda (y) no tempo, at\u00e9 estabiliza\u00e7\u00e3o em novo patamar (fig. 7);\ni K,\tty\t\nT 063 Kp\t\t\t\n\tq\u2014tb\u2014tJ ld T\tt r\nFig. 7 - Resposta do teste de aplica\u00e7\u00e3o de degrau na entrada do processo.\nFig. 7 - Step test results.\n\u2022 ler os termos T e td diretamente na abscissa; o termo Ay \u00e9 lido na ordenada (correspondente ao processo j\u00e1 estabilizado) e utilizado no c\u00e1lculo do ganho Kp.\nNo gr\u00e1fico seguinte (fig. 8) mostra-se uma aplica\u00e7\u00e3o pr\u00e1tica em debutanizadora de FCC:\nFig. 8 - Caso pr\u00e1tico de teste de aplica\u00e7\u00e3o de degrau na entrada do processo (torre debutanizadora).\nFig. 8 - Step test for an LPG-naphta fractionator.\n\u2022 aumentou-se 400 m3/d na vaz\u00e3o de refluxo de topo da coluna e o intemperismo caiu de 0 para -1.6oC. O ganho do processo, portanto, vale:\nK\np\n-1.6 oC\t_ \u00b0C\n- = -0.004 \u2014\n400 m/d\tm/d\n\u2022\tna abscissa pode-se verificar tempo morto de 1 minuto. O tempo de primeira ordem vale 18 minutos, ou seja, iniciado o teste e decorrido o tempo morto de 1 minuto, o intemperismo come\u00e7a a cair e atinge 0 - 0.63x1.6 = -1oC ap\u00f3s 18 minutos.\nDuas observa\u00e7\u00f5es finais s\u00e3o importantes sobre modelos de primeira ordem:\n\u2022\tmuitas vezes o ganho \u00e9 normalizado com as faixas (ranges) das vari\u00e1veis envolvidas. Por exemplo, para a torre em quest\u00e3o, um range de vaz\u00e3o de refluxo pode ser de 10000 m3/d e do intemperismo do GLP pode ser de 10 oC. Desse modo, o ganho normalizado vale Kp=-4.\n\u2022\tos tr\u00eas par\u00e2metros do modelo podem variar conforme as condi\u00e7\u00f5es operacionais da unidade. Por exemplo, o tempo de primeira ordem est\u00e1 relacionado a um tempo de resid\u00eancia (rela\u00e7\u00e3o entre volume do equipamento e vaz\u00e3o de carga): para vaz\u00f5es mais altas, esse tempo diminui (volume constante). O mesmo ocorre para o tempo morto, que muitas vezes est\u00e1 ligado ao volume dos elementos de transporte (tubula\u00e7\u00f5es). Tamb\u00e9m o ganho do processo, que expressa a sensibilidade do mesmo, pode variar conforme o ponto operacional da unidade.\n3.\tPROCESSO COM CONTROLADOR PID\nA vari\u00e1vel de entrada (u) \u00e9 usada livremente (grau de liberdade) para regular a vari\u00e1vel de sa\u00edda (y). Esse \u00e9 o princ\u00edpio que serve de base para o controlador. O diagrama de blocos do processo controlado \u00e9 o seguinte (fig. 9):\nFig. 9 - Diagrama de blocos da fun\u00e7\u00e3o de transfer\u00eancia do processo com controlador PID em malha fechada. Fig. 9 - Closed loop block diagram.\nA informa\u00e7\u00e3o de entrada para o controlador \u00e9 o erro entre o valor desejado (set-point yd) e o valor real da vari\u00e1vel de sa\u00edda do processo. O esfor\u00e7o do controlador sempre ser\u00e1 o de diminuir esse erro, mantendo a vari\u00e1vel de sa\u00edda do processo sob controle, motivo pelo qual ela \u00e9 tamb\u00e9m denominada vari\u00e1vel controlada.\nA informa\u00e7\u00e3o de sa\u00edda do controlador \u00e9 o grau de liberdade do processo, vari\u00e1vel que o controlador vai manipular para manter o processo sob controle. Por esse motivo, a sa\u00edda do controlador (entrada do processo) \u00e9 chamada vari\u00e1vel manipulada.\nA lei PID traduz a id\u00e9ia de que a vari\u00e1vel manipulada ser\u00e1 alterada proporcionalmente ao erro que aparece a cada instante, ao ac\u00famulo (integral) do erro ao longo do tempo e \u00e0 taxa de varia\u00e7\u00e3o do erro da vari\u00e1vel controlada, ou seja:\nu(t)=kc-y(t))+\u2014 \u00ed(yd - y(t))dt+kct\u2022d(yddty(t))+us t 0\tdt\nou\nu(t) = kc-e(t) + \u2014 \u00ed e(t)-dt + kc Td \u2022\t+ us\nT\tdt\nAparecendo tr\u00eas par\u00e2metros de sintonia:\nkc\nganho da parte proporcional do controlador tempo da a\u00e7\u00e3o integral do controlador (reset time)\ntempo da a\u00e7\u00e3o derivativa do controlador (rate)\nO valor num\u00e9rico dessas tr\u00eas constantes deve ser determinado de maneira que o controlador tenha um bom desempenho e nunca introduza instabilidades no processo. Esse \u00e9 o problema de controle cl\u00e1ssico, o problema de sintonia do controlador PID.\n4.\tSINTONIA DE CONTROLADORES - M\u00c9TODOS COM MALHA ABERTA\nO termo malha aberta refere-se ao processo sem a a\u00e7\u00e3o do controlador (como se a linha de realimenta\u00e7\u00e3o do diagrama de blocos do processo controlado estivesse aberta).\nAlguns m\u00e9todos propostos para sintonia de controlador PID baseiam-se apenas nos par\u00e2metros do processo (Kp, Te td), n\u00e3o levam em conta o controlador, resultando de uma an\u00e1lise do processo em malha aberta.\n4.1.\tM\u00e9todo de Cohen e Coon\nO m\u00e9todo proposto por Cohen e Coon resume-se na tabela I:\nTABELA I\nM\u00c9TODO DE SINTONIA DE COHEN E COON\nTABLE I\nCOHEN - COON TUNING METHOD\ncontrolador\tkc\t\u2014\t\t\tTd\nP\t1 T[1+,d l KP td V\t3t)\t-\t\t\t-\nPI\t\u2014\u2014f 0.9+-2T Kp td I\t12\u2014\t( 30+3\u2014) \" (9 \u25a0 20\u2014)\t\t\t\nPID\t1 Tl\\ 4 + td^l\ttd-\tf\tt y 32 + 6-^ V\t\u2014 f\tt l 13 + 8-^ V\t\u2014\t\t4 td f\tt l 11 + 2 V T)\n\tKP tdV 3 + 4\u2014\t\t\t\t\nH\u00e1 tr\u00eas classes de correla\u00e7\u00f5es:\n\u2022\tc\u00e1lculo de kc (controlador s\u00f3 proporcional);\n\u2022\tc\u00e1lculo de kc e \u2014 (controlador proporcional e integral);\n\u2022\tc\u00e1lculo de kc , \u2014 e Td (controlador proporcional, integral e derivativo).\nPara o exemplo da debutanizadora, em que Kp=-4, t = 18 min e td =1 min, os par\u00e2metros recomendados para um controlador seriam (tabela II):\nTABELA II M\u00c9TODO DE COHEN E COON APLICADO A TOPO DE DEBUTANIZADORA\nTABLE II\nCOHEN - COON METHOD FOR FRACTIONATOR TOP SYSTEM\ncontrolador\tkc\tTi\tTd\nP\t-4.58\t-\t-\nPI\t-4.07\t2.98 min\t-\nPID\t-6.06\t2.40 min\t0.36 min\n4.2.\tM\u00e9todo de Ziegler e Nichols (malha aberta)\nAnalogamente, outra proposta de Ziegler e Nichols baseia-se na tabela III:\nTABELA III\nM\u00c9TODO DE SINTONIA DE ZIEGLER E NICHOLS (MALHA ABERTA)\nTABLE III\nZIEGLER - NICHOLS TUNING METHOD\ncontrolador\tkc\t\tTd\nP\ti T kp t 1 d\t-\t-\nPI\t0.9 T Kp t\t3.33td\t-\nPID\t12 T Kp t ld\t2 td\tt d 2\nrecomendada para a faixa: 0 -1&lt;\t&lt;1 .\nT\nApesar de, rigorosamente, n\u00e3o se aplicar ao sistema do exemplo, usando-se a tabela, obt\u00e9m-se (tabela IV):\nTABELA IV M\u00c9TODO DE ZIEGLER E NICHOLS (MALHA ABERTA) APLICADO A TOPO DE DEBUTANIZADORA\nTABLE IV\nZIEGLER - NICHOLS TUNING METHOD FOR FRACTIONATOR TOP SYSTEM\ncontrolador\tkc\t\tTd\nP\t-4.50\t-\t-\nPI\t-4.05\t3.33 min\t-\nPID\t-54\t2 min\t0.5 min\nFrente aos resultados, \u00e9 fortemente recomendado n\u00e3o se utilizar a tabela para o caso de um controlador PID completo, que inclua a\u00e7\u00e3o derivativa.\n5.\tOSCILA\u00c7\u00d5ES EM SISTEMAS COM MALHA FECHADA\nEstabilidade e oscila\u00e7\u00e3o em processo com controlador PID pode ser analisada com t\u00e9cnicas de \u00e1lgebra linear, pela solu\u00e7\u00e3o de equa\u00e7\u00f5es diferenciais (anexo II). Historicamente, esse ponto de oscila\u00e7\u00e3o de sistemas foi estudado atrav\u00e9s de testes pr\u00e1ticos com processos.\nDiagrama de blocos do processo vaz\u00e3o de refluxo de topo x intemperismo do GLP (fig. 10):\nFig. 10 - Diagrama de blocos da fun\u00e7\u00e3o de transfer\u00eancia do sistema de topo de debutanizadora com controlador PID em malha fechada.\nFig. 10 - Fractionator top system closed-loop block diagram.\nEsse \u00e9 o caso de aumento no set-point do controlador. A instru\u00e7\u00e3o de aumento de um grau no intemperismo do GLP (degrau unit\u00e1rio no set-point da malha de controle) ser\u00e1 executada pelo controlador de modo diferente, conforme seus par\u00e2metros de sintonia.\nExaminando-se a influ\u00eancia do ganho proporcional do controlador para um controle apenas proporcional (sem a\u00e7\u00f5es integral e derivativa), o desempenho da malha pode ser t\u00e3o diferente quanto mostra-se na figura 11:\nFig. 11 - Respostas do sistema de topo de debutanizadora com controle proporcional e diferentes constantes de proporcionalidade kc.\nFig. 11 - Fractionator top system with proportional-only PID control.\nCom ganho de controle (kc) baixo para controlador apenas proporcional, a vari\u00e1vel n\u00e3o \u00e9 inteiramente corrigida (aumento de 1oC). A resposta do processo sob controle \u00e9 suave e, estabilizado em novo regime, h\u00e1 um desvio permanente em rela\u00e7\u00e3o ao valor desejado (fora do set-point: off-set).\nAumentando o ganho, o off-set tende a se reduzir. Entretanto, a resposta do processo fica oscilat\u00f3ria. Para a\u00e7\u00f5es proporcionais mais intensas, o car\u00e1ter oscilat\u00f3rio fica mais dr\u00e1stico, a ponto de deixar o processo inst\u00e1vel. H\u00e1 um valor do ganho proporcional que faz as oscila\u00e7\u00f5es ficarem sustentadas (curva oscilat\u00f3ria com amplitude constante) (fig. 12).\nFig. 12 - Respostas do sistema de topo de debutanizadora com controle proporcional e ganho \u00faltimo ku.\nFig. 12 - Fractionator top system with proportional-only PID control - limit case.\nEsse ganho \u00e9 um limite, denominado ganho \u00faltimo (ku), al\u00e9m do qual o processo fica inst\u00e1vel. O limiar da condi\u00e7\u00e3o est\u00e1vel para a inst\u00e1vel se d\u00e1, no exemplo, para um ganho \u00faltimo de ku = -7.25. Nessa condi\u00e7\u00e3o, o per\u00edodo de oscila\u00e7\u00e3o vale Pu = 4 min.\nH\u00e1 outra forma de se fazer o processo sob controle oscilar permanentemente, transformando o controlador num rel\u00e9. Colocam-se limites para sinal de sa\u00edda do controlador. Essa satura\u00e7\u00e3o do sinal de sa\u00edda protege a planta contra oscila\u00e7\u00f5es de amplitudes muito grandes.\nUtilizando-se um controle com apenas a\u00e7\u00e3o proporcional de ganho elevado e com satura\u00e7\u00e3o em seu sinal de sa\u00edda para a planta, cria-se um controlador on-off que permite estudar a condi\u00e7\u00e3o de oscila\u00e7\u00e3o sustentada de um modo mais seguro para o processo.\nO diagrama de blocos para o processo refluxo de topo x intemperismo de GLP para essa configura\u00e7\u00e3o de controle \u00e9 o seguinte (fig. 13):\nFig. 13 - Diagrama de blocos da fun\u00e7\u00e3o de transfer\u00eancia do sistema de topo de debutanizadora com controlador rel\u00e9 (PID de ganho elevado com satura\u00e7\u00e3o de sa\u00edda) em malha fechada.\nFig. 13 - Fractionator top system with relay control.\nUtilizando-se um ganho de kc = -100 e restringindo-se a sa\u00edda do controlador aos limites -2 a +2 (unidades normalizadas de vaz\u00e3o de refluxo de topo), a resposta do sistema a um aumento de 1oC no set-point \u00e9 a seguinte (fig. 14):\nFig. 14 - Respostas do sistema de topo de debutanizadora com controle rel\u00e9.\nFig. 14 - Fractionator top system - sustained oscillations.\nObserva-se que, ao limitar o sinal de sa\u00edda do controlador, a amplitude de varia\u00e7\u00e3o do sinal de sa\u00edda do processo \u00e9 menor no regime de oscila\u00e7\u00f5es sustentadas. Isso significa ter-se levado o sistema ao regime de oscila\u00e7\u00f5es cont\u00ednuas de modo mais seguro. Analogamente ao caso anterior, o per\u00edodo de oscila\u00e7\u00e3o vale Pu = 4 min. A amplitude de oscila\u00e7\u00e3o da vari\u00e1vel y \u00e9 de 0.4185 e a da vari\u00e1vel u \u00e9 de 2 (onda quadrada).\n6.\tSINTONIA DE CONTROLADORES - M\u00c9TODOS COM MALHA FECHADA\n6.1.\tM\u00e9todo de Ziegler e Nichols\nO princ\u00edpio dos m\u00e9todos baseados em malha fechada \u00e9 o de se trabalhar com margem de seguran\u00e7a, escolhendo para o ganho proporcional um valor suficientemente afastado do ganho limite. Uma margem de seguran\u00e7a t\u00edpica pode ser de 50%, ou seja, reduzir o ganho \u00faltimo pela metade, promovendo uma dessintonia do controlador para afast\u00e1-lo do limiar da instabilidade.\nZiegler e Nichols propuseram margens de seguran\u00e7a conforme tabela V.\nTABELA V\nM\u00c9TODO DE SINTONIA DE ZIEGLER E NICHOLS (MALHA FECHADA).\nTABLE V\nZIEGLER - NICHOLS TUNING METHOD\ncontrolador\tkc\t\tTd\nP\t2\t-\t-\nPI\tku 2.2\tP 1.2\t-\nPID\t_k^\tPl\t\n\t1.7\t2\t8\nH\u00e1 tr\u00eas classes propostas:\n\u2022\tc\u00e1lculo de kc (controlador s\u00f3 proporcional);\n\u2022\tc\u00e1lculo de kc e Ti (controlador proporcional e integral);\n\u2022\tc\u00e1lculo de kc , T e Td (controlador proporcional, integral e derivativo).\nPara uso da tabela, deve-se conhecer o ganho \u00faltimo (ku) e o per\u00edodo da oscila\u00e7\u00e3o sustentada (Pu). Para o exemplo discutido, a sintonia resultante da aplica\u00e7\u00e3o das margens de seguran\u00e7a de Ziegler e Nichols \u00e9 a seguinte (tabela VI):\nTABELA VI M\u00c9TODO DE ZIEGLER E NICHOLS (MALHA FECHADA) APLICADO A TOPO DE DEBUTANIZADORA.\nTABLE VI\nZIEGLER - NICHOLS METHOD FOR FRACTIONATOR TOP SYSTEM\ncontrolador\tkc\t\tTd\nP\t-3.6\t-\t-\nPI\t-3.3\t3.3 min\t-\nPID\t-4.3\t2 min\t0.5 min\n6.2.\tM\u00e9todo de Astrom\nNo item V foi apresentada uma forma rel\u00e9 do controlador que, acrescida de um limitador do sinal de sa\u00edda, permite fazer o sistema oscilar com baixas amplitudes. O sinal de sa\u00edda do controlador forma uma onda quadrada de amplitude d=2 e a sa\u00edda da planta com amplitude a=0.4185.\nUm ganho \u00faltimo modificado pode ser estimado pela express\u00e3o:\nn\nComo o rel\u00e9 introduz n\u00e3o linearidade no processo, essa express\u00e3o \u00e9 uma aproxima\u00e7\u00e3o que permite estimar um ganho \u00faltimo de ku = -6.1. O per\u00edodo de oscila\u00e7\u00e3o do sistema foi de 4 min.\nCom esses dois dados, pode-se aplicar a dessintoniza\u00e7\u00e3o recomendada na tabela V, obtendo a seguinte sintonia recomendada:\nTABELA VII\nTABELA DE ZIEGLER E NICHOLS (MALHA FECHADA) APLICADA \u00c0 PROPOSTA DE IDENTIFICA\u00c7\u00c3O DE SISTEMAS POR ASTROM E HAGGLUND\nTABLE VII\nASTROM- HAGGLUND METHOD FOR FRACTIONATOR TOP SYSTEM\ncontrolador\tkc\t\tTd\nP\t-3.0\t-\t-\nPI\t-2.8\t3.3 min\t-\nPID\t-3.6\t2 min\t0.5 min\n7.\tM\u00c9TODOS BASEADOS EM DESEMPENHO \u00d3TIMO COM MALHA FECHADA\nOutra forma de sintonizar controlador PID consiste em pesquisar valores das constantes kc, T e Td que minimizem um erro de desempenho. Um erro de desempenho decorre do fato de que qualquer ajuste promovido por um sistema de controle levar um tempo para se concluir e, ao longo desse tempo, acumulam-se erros de controle (valor desejado - set-point - menos valor medido).\nNo gr\u00e1fico seguinte (fig. 15) mostra-se o desempenho de um controle PID para um aumento de 1oC no intemperismo de GLP (set-point de controlador que manipula vaz\u00e3o de refluxo de topo da torre debutanizadora).\nFig. 15 - Erro do controlador PID em aumento de set-point.\nFig. 15 - Controller integral error - the set-point increase case.\nInicialmente, o controlador reduz a vaz\u00e3o de refluxo de topo. Reduzindo o refluxo, o intemperismo come\u00e7a a subir. Durante todo o per\u00edodo de eleva\u00e7\u00e3o do intemperismo, segue-se acumulando o erro entre o valor desejado e o real (inferior ao desejado).\nNo caso apresentado na figura, o controlador est\u00e1 sintonizado para reduzir o refluxo com rapidez, o que leva o intemperismo a ultrapassar o valor desejado (over-shoot). H\u00e1 uma invers\u00e3o do sinal do erro e o controlador, ent\u00e3o, passa a aumentar o refluxo. Continua-se contabilizando o erro entre o valor desejado e o real (agora superior ao desejado).\nAs eleva\u00e7\u00f5es e redu\u00e7\u00f5es de refluxo s\u00e3o proporcionais ao erro instant\u00e2neo e \u00e0 soma acumulada dos erros passados. Essa situa\u00e7\u00e3o continua at\u00e9 o ajuste final do intemperismo.\nPara o transiente de ajuste como um todo, pode-se integralizar tamb\u00e9m o valor absoluto ou quadr\u00e1tico dos erros instant\u00e2neos, do que resulta um erro acumulado, global, integrado, que depende dos valores das constantes de rapidez de a\u00e7\u00e3o do controlador PID (kc , T e Td). Esse erro global \u00e9 denominado integral (soma acumulada) do valor absoluto dos erros instant\u00e2neos (IAE - integral of absolute errors) ou integral (soma acumulada) do valor quadr\u00e1tico dos erros instant\u00e2neos (ISE - integral of squared errors).\nH\u00e1 um conjunto de valores para kc , T e Td que minimiza esse erro integrado de simula\u00e7\u00e3o. Esses tr\u00eas valores \u00f3timos podem ser encontrados simulando o processo v\u00e1rias vezes (diversos kc ,T e Td), conforme algum m\u00e9todo de busca num\u00e9rica do m\u00ednimo da fun\u00e7\u00e3o erro.\nEssa pesquisa \u00e9 ilustrada a seguir para um controlador tipo PI (permite visualiza\u00e7\u00e3o gr\u00e1fica e \u00e9 o caso mais comum na pr\u00e1tica) aplicado ao sistema de refluxo de topo de debutanizadora e intemperismo de GLP. Para poder construir gr\u00e1fico ilustrativo, foram levantados resultados de diversas simula\u00e7\u00f5es de desempenho do controlador frente \u00e0 eleva\u00e7\u00e3o de 1oC no intemperismo do GLP (aumento de set-point).\nt  kc\nO ISE foi calculado para uma faixa de valores de kc desde -2 a -0.5 e uma faixa de k desde -0.1 a 0. Na figura 16 mostra-se que existe um m\u00ednimo do erro quadr\u00e1tico acumulado (integrado) para kc = -3.4 e ki = -0.13.\nFig. 16 - ISE (integral ou soma do erro quadr\u00e1tico) para faixa de valores de kc e ki de controlador PI.\nFig. 16 - ISE (integral or the sum of the quadratic error) for a range of values of kc and ki in a PI controller.\nOs valores precisos das duas constantes podem ser pesquisados numericamente. O m\u00e9todo utilizado foi o de Marquardt Levenberg, cuja robustez motivou sua sele\u00e7\u00e3o dentre as op\u00e7\u00f5es de solver dispon\u00edveis no software Matlab (Optimization Toolbox).\nO resultado foi: kc = -3.4019 e k = -0.1297 min-1\n\u00c0 primeira vista, esta classe de m\u00e9todos \u00e9 muito atraente e, de fato, eles s\u00e3o m\u00e9todos criteriosos, cuja investiga\u00e7\u00e3o vale a pena. Entretanto, cabe refletir sobre duas observa\u00e7\u00f5es importantes.\n1.\tO erro acumulado ao longo do tempo inclui parcelas de erros, por assim dizer, mais inevit\u00e1veis que outros, bem como parcelas de erros mais cr\u00edticos que outros. Por exemplo, os erros iniciais da figura 15 (mais pr\u00f3ximos do instante inicial - tempo zero) s\u00e3o uma fatalidade decorrente da in\u00e9rcia inicial do sistema, que precisa ser reconduzido para uma nova condi\u00e7\u00e3o (altera\u00e7\u00e3o de set-point). Para tempos maiores, os erros s\u00e3o mais evit\u00e1veis e devem mesmo ser eliminados, pois sua persist\u00eancia pode ser cr\u00edtica (ou, no m\u00ednimo, indesej\u00e1vel). Constata\u00e7\u00f5es desse tipo podem ser levadas em conta atrav\u00e9s de uma fun\u00e7\u00e3o ponderal que estabele\u00e7a pesos para uma soma ponderada dos erros acumulados ao longo do tempo: erros iniciais podem ser menos ponderados (maior irrelev\u00e2ncia de erros mais inevit\u00e1veis) e erros posteriores podem ser mais ponderados (maior criticidade de erros mais corrig\u00edveis). A escolha da\nfun\u00e7\u00e3o ponderal \u00e9 bastante particular para o processo e subjetiva do engenheiro que est\u00e1 aplicando este m\u00e9todo. Uma proposta comum \u00e9 escolher o pr\u00f3prio tempo como fun\u00e7\u00e3o ponderal (tempos menores, pesos menores e vice-versa), o que \u00e9 conhecido como m\u00e9todo de integral (soma acumulada) do valor quadr\u00e1tico dos erros instant\u00e2neos ponderados pelo tempo (ITSE - integral of time-weighted squared errors). Outras propostas s\u00e3o poss\u00edveis e essa \u00e9 uma quest\u00e3o aberta.\n2.\tO erro que \u00e9 acumulado refere-se ao valor de vari\u00e1vel de processo em rela\u00e7\u00e3o a um valor desejado. O caso analisado \u00e9 o de altera\u00e7\u00e3o deliberada do valor desejado, ou seja, o caso em que se deseja promover uma migra\u00e7\u00e3o do ponto operacional do processo (caso servo-mecanismo, altera\u00e7\u00e3o de set-point). Entretanto, o caso mais comum \u00e9 o de controladores atuando para manter o sistema em um ponto operacional definido, rejeitando perturba\u00e7\u00f5es aleat\u00f3rias a que o processo est\u00e1 sujeito (caso regulat\u00f3rio, set-points constantes). Esse tipo de atua\u00e7\u00e3o \u00e9 aquela a que o controlador est\u00e1 mais sujeito o tempo todo. Neste caso, o crit\u00e9rio de erro da otimiza\u00e7\u00e3o fica dependendo da forma escolhida para a perturba\u00e7\u00e3o, perturba\u00e7\u00e3o que, na pr\u00e1tica di\u00e1ria, \u00e9 extremamente aleat\u00f3ria em forma e intensidade. A escolha de uma perturba\u00e7\u00e3o t\u00edpica \u00e9 tamb\u00e9m bastante particular para o processo e subjetiva do engenheiro. As numerosas propostas poss\u00edveis fazem dela uma quest\u00e3o aberta.\nEssas observa\u00e7\u00f5es mostram a import\u00e2ncia tanto da experi\u00eancia pr\u00e1tica para classifica\u00e7\u00e3o dos erros de controle quanto do conhecimento profundo do processo a ser controlado e das condi\u00e7\u00f5es a que est\u00e1 tipicamente sujeito. Essa experi\u00eancia pr\u00e1tica e esse conhecimento do processo formam uma base heur\u00edstica fundamental para a tarefa de sintonia de controladores.\n8.\tA ARTE DE SINTONIZAR CONTROLADORES\nAs t\u00e9cnicas descritas at\u00e9 este ponto t\u00eam todas certa fundamenta\u00e7\u00e3o te\u00f3rica.\nA classe de m\u00e9todos que se baseia na curva de resposta do processo se fundamenta na id\u00e9ia de invers\u00e3o da solu\u00e7\u00e3o da equa\u00e7\u00e3o diferencial do processo.\nA classe de m\u00e9todos baseados na dessintoniza\u00e7\u00e3o em rela\u00e7\u00e3o ao ponto cr\u00edtico de oscila\u00e7\u00f5es sustentadas foi desenvolvida a partir de crit\u00e9rios precisos sobre a resposta do processo com controlador. Os crit\u00e9rios precisos que podem nortear o desenvolvimento de diferentes m\u00e9todos dessa classe se fundamentam na rapidez do sistema (rising time, settling time) ou na extens\u00e3o do comportamento do sistema (overshoot, decay ratio, offset). Em particular, o m\u00e9todo de Ziegler-Nichols foi baseado numa decay ratio conveniente aplicada a um conjunto grande de controladores industriais. Alternativas mais conservativas ou mais agressivas podem ser propostas.\nOs m\u00e9todos baseados em desempenho \u00f3timo s\u00e3o uma aplica\u00e7\u00e3o da id\u00e9ia de pesquisa do m\u00ednimo de fun\u00e7\u00f5es de v\u00e1rias vari\u00e1veis.\nH\u00e1, entretanto, um car\u00e1ter fortemente pr\u00e1tico, heur\u00edstico, na tarefa de sintonizar controladores. Esse car\u00e1ter j\u00e1 aparece em alguns itens dos pr\u00f3prios m\u00e9todos cient\u00edficos, que exigem decis\u00f5es variadas sobre margens de seguran\u00e7a, desempenho requerido do controlador, condi\u00e7\u00f5es t\u00edpicas da planta e erros toler\u00e1veis. Mas o car\u00e1ter pr\u00e1tico \u00e9 definidor de toda uma classe de regras de sintonia. Algumas regras pr\u00e1ticas j\u00e1 se tornaram cl\u00e1ssicas:\n\u2022\tsempre que poss\u00edvel, usar controlador apenas proporcional;\n\u2022\tsempre que poss\u00edvel, usar valores baixos para a\u00e7\u00e3o integral (elevado reset-time);\n\u2022\tevitar o uso da a\u00e7\u00e3o derivativa. No caso de processos qu\u00edmicos, a a\u00e7\u00e3o derivativa fica restrita quase que somente a poucos casos de controle de temperatura, uma vez que essa vari\u00e1vel apresenta normalmente din\u00e2mica lenta. Assim mesmo, a a\u00e7\u00e3o derivativa \u00e9 usada com extrema parcim\u00f4nia e com forte filtro na vari\u00e1vel controlada. Na pr\u00e1tica industrial, as malhas de controle com a\u00e7\u00e3o derivativa dificilmente ultrapassam 5% do total de malhas da unidade;\n\u2022\tem controle de n\u00edvel, procurar usar apenas a\u00e7\u00e3o proporcional e, quando poss\u00edvel, com banda morta. Esse talvez seja o caso mais comum de sintonia inadequada que se encontra nas plantas qu\u00edmicas. Ainda \u00e9 muito comum o uso de um controle exagerado de n\u00edvel, ou seja, manipular excessivamente vaz\u00e3o de\nretirada de l\u00edquido do fundo de equipamentos (torres, principalmente) para manter o n\u00edvel de l\u00edquido no fundo excessivamente est\u00e1vel. Isso pode ser um problema porque, normalmente, o l\u00edquido retirado \u00e9 carga de outro equipamento a jusante. Nesses casos, controle de n\u00edvel muito rigoroso em uma parte do processo implica em varia\u00e7\u00e3o excessiva da carga do outro equipamento, cujo controle fica dif\u00edcil. Em muitos casos, off-set ou a\u00e7\u00f5es muito lentas em controle de n\u00edvel n\u00e3o representam grande problema de fato, e a agressividade do controlador de n\u00edvel \u00e9 fruto de uma cultura impr\u00f3pria de opera\u00e7\u00e3o da planta;\n\u2022 em controle de vaz\u00e3o, n\u00e3o usar a\u00e7\u00e3o derivativa e usar a\u00e7\u00e3o integral atenuada.\nOutras regras existem, particulares para cada caso. Recordando-se a grande quantidade de controladores mais elaborados que a eletr\u00f4nica e a inform\u00e1tica viabilizaram nos dias de hoje, percebe-se a aus\u00eancia de muitos m\u00e9todos cient\u00edficos para sintonizar itens comuns como controladores com transi\u00e7\u00f5es (a\u00e7\u00e3o de controle dividida entre v\u00e1rios atuadores ou chaveamento dentre diversas vari\u00e1veis controladas) e controladores antecipat\u00f3rios, que usam sempre alguma forma de modelo do processo.\nUm item importante que ainda hoje \u00e9 fortemente dependente de regras pr\u00e1ticas de sintonia \u00e9 o de controle robusto. Como j\u00e1 se comentou, tempos de resid\u00eancia e ganhos (sensibilidade) do processo variam fortemente e os controladores requerem ressintonia com certa freq\u00fc\u00eancia. Uma forma de atenuar esse retrabalho \u00e9 a de encontrar uma solu\u00e7\u00e3o aproximadamente de compromisso para os ajustes do controlador, ou seja, sintoniz\u00e1-lo para atender de maneira minimamente satisfat\u00f3ria a uma grande faixa de condi\u00e7\u00f5es operacionais. As tentativas te\u00f3ricas para solu\u00e7\u00e3o desse problema s\u00e3o um esfor\u00e7o em andamento (e bastante, por assim dizer, complexas) e a realidade atual ainda \u00e9 a da pr\u00e1tica de regras particulares, caso a caso, para atender a essa necessidade.\nSintonizar controladores \u00e9 uma arte. Parte-se das ferramentas te\u00f3ricas dispon\u00edveis. Com elas, faz-se o esfor\u00e7o m\u00e1ximo de an\u00e1lise das diferentes situa\u00e7\u00f5es pr\u00e1ticas a serem atendidas. Ao final, decretam-se refinamentos oriundos da experi\u00eancia pr\u00e1tica com o sistema em quest\u00e3o. Essa etapa final \u00e9 importante (em muitos casos \u00e9 a \u00fanica dispon\u00edvel) e deixa claro o lado emp\u00edrico do assunto.\n9.\tCONCLUS\u00c3O\nA maioria das refer\u00eancias da literatura de controle de processos qu\u00edmicos ressalta a superioridade dos m\u00e9todos cient\u00edficos, de base te\u00f3rica, em rela\u00e7\u00e3o aos m\u00e9todos de tentativa e erro para sintonia de controladores.\nA nossa experi\u00eancia j\u00e1 t\u00e3o longa na pr\u00e1tica dentro da ind\u00fastria permite atenuar um pouco a for\u00e7a dessa afirma\u00e7\u00e3o para, um pouco concordando com ela, dela tamb\u00e9m discordar.\nOs m\u00e9todos cient\u00edficos s\u00e3o importantes. Eles s\u00e3o fruto de um esfor\u00e7o gigantesco no sentido de t\u00e9cnicas mais perfeitas, esfor\u00e7o esse que, entre n\u00f3s, consome recursos de intelig\u00eancias brilhantes e idealistas. Seu resultado \u00e9 a grande quantidade de ferramentas hoje dispon\u00edveis para os t\u00e9cnicos da ind\u00fastria.\nEntretanto, o conhecimento heur\u00edstico, que ingenuamente poderia ser rotulado como predisposi\u00e7\u00e3o \u00e0 tentativa e erro, \u00e9 ainda muito importante. Sintonia \u00e9 um ajuste de sensibilidade, e a sensibilidade desejada e desej\u00e1vel \u00e9 algo que varia muito no espa\u00e7o e no tempo. Todas as receitas cartesianas e determin\u00edsticas s\u00e3o sempre bem acolhidas, mas uma \u00faltima an\u00e1lise heur\u00edstica \u00e9 essencial antes de viabilizar valores a serem carregados num controlador. Essa an\u00e1lise \u00e9 essencial sob o ponto de vista de desempenho do controlador e sob o ponto de vista de seguran\u00e7a operacional.\nA extens\u00e3o de uma automa\u00e7\u00e3o precisa ser um pouco relativizada com a medida humana, que ainda \u00e9 a medida de todas as coisas. No caso de sintonia de controladores, essa relativiza\u00e7\u00e3o pode ser feita atrav\u00e9s da compreens\u00e3o do valor do esfor\u00e7o na ci\u00eancia de sintonia e tamb\u00e9m do valor inestim\u00e1vel de uma experi\u00eancia pr\u00e1tica dispon\u00edvel e pulverizada pelos \u00f3rg\u00e3os operacionais do parque produtivo. O treinamento cont\u00ednuo da m\u00e3o-de-obra (propiciando-lhe, inclusive, sempre mais excel\u00eancia na ci\u00eancia de sintonia) e a promo\u00e7\u00e3o de uma atuante ger\u00eancia do conhecimento (knowledge management) podem ser uma rota interessante para alavancar uma \u00e1rea que tem car\u00e1ter cient\u00edfico mas, sobretudo, car\u00e1ter de uma verdadeira arte.\nBIBLIOGRAFIA RECOMENDADA\nAstrom, K.J., Hagglund, T.\n\u201cPID Controllers. Tuning, Theory and Practice\u201d\nISA Publications, North Carolina, 1995\nDeshpande, P.B.\n\u201cDistillation Dynamics and Control\u201d\nISA, Research Triangle Park, N.C., 1995\nDeshpande, P.B., Ash, R.H.\n\u201cComputer Process Control with Advanced Control Applications\u201d\nISA Publications, North Carolina, 1988\nLuyben, W.L.\n\u201cProcess Modeling, Simulation and Control for Chemical Engineers\u201d\n2nd edition\nMcGraw Hill, New York, 1990\nMorari, M, Zafiriou, E.\n\u201cRobust Process Control\u201d\nPrentice-Hall, Englewood Cliffs, N.J., 1989\nSkogestad, S.\n\u201cSimple Analytic Rules for Model Reduction and PID Controller Tuning\u201d\nJournal of Process Control, 13 (2003), 291-309\nZiegler, J., Nichols, N.\n\u201cOptimum Settings for PID Controllers\u201d\nTransactions of the ASME, 64 (1942), 759-768\nANEXO I\nVARI\u00c1VEIS DESVIO EM CONTROLE DE PROCESSOS\nA figura seguinte mostra um tanque de aquecimento de uma corrente de l\u00edquido. A vaz\u00e3o de sa\u00edda de l\u00edquido no tanque \u00e9 supostamente igual \u00e0 de entrada no tanque.\nConsiderando regime permanente sob o ponto de vista de balan\u00e7o material, o balan\u00e7o de energia pode ser escrito:\nbalan\u00e7o de energia em regime din\u00e2mico:\n(pV)Cp\t= wCp(Tt - T) + q\ndt\nbalan\u00e7o de energia em estado estacion\u00e1rio:\n(pV)CpdT- = 0 = wCp(T\u201e - Ts) + q\ndt\nA subtra\u00e7\u00e3o das duas express\u00f5es permite escrever o balan\u00e7o energ\u00e9tico em rela\u00e7\u00e3o ao estado estacion\u00e1rio:\n(pV)Cp d(T~ Ts) = wCp(Ti - Tis) - wCp(T - Ts) + (q - qs)\ndt\ts\ne fazendo:\ny = T - Ts\nU = q - qs d = T - T\ni\ti s\ndesvio da temperatura do tanque desvio do fluxo t\u00e9rmico na serpentina\ndesvio da temperatura de entrada\na equa\u00e7\u00e3o de balan\u00e7o fica:\n(pV)Cp d- = wCpd - wCpy + u'\tou\n(pv) dy w dt\nu'\nwCp\n= d - y +\nredefinindo:\npV\nw u'\n\u25a0-c\nT\nu =\nconstante de tempo de primeira ordem\nvari\u00e1vel \"normalizada\"\nResulta:\tdy\tj t- + y = u + d dt\nOu seja, o comportamento din\u00e2mico do tanque \u00e9 regido por uma equa\u00e7\u00e3o diferencial de primeira ordem. Estando o tanque inicialmente em estado estacion\u00e1rio, a condi\u00e7\u00e3o inicial da equa\u00e7\u00e3o \u00e9 dada por:\nt = 0 y = 0 (T = Ts)\nVisualizando o processo como uma caixa preta (sistema):\nl\nd\nu\nprocesso de aquecimento\ny -\u25ba\nQuaisquer varia\u00e7\u00f5es em d ou u n\u00e3o se propagam instantaneamente para y. H\u00e1 uma fun\u00e7\u00e3o temporal que vincula a varia\u00e7\u00e3o de y para altera\u00e7\u00f5es em u ou d. Essa fun\u00e7\u00e3o temporal \u00e9 solu\u00e7\u00e3o da equa\u00e7\u00e3o diferencial. No anexo II mostram-se algumas das solu\u00e7\u00f5es mais comuns em controle de processo.\nANEXO II\n\u00c1LGEBRA LINEAR E CONTROLE DE PROCESSOS\nA2.1 Solu\u00e7\u00e3o de Equa\u00e7\u00f5es Diferenciais Homog\u00eaneas com Coeficientes Constantes\nUma das quest\u00f5es importantes da \u00e1lgebra linear \u00e9 a de encontrar solu\u00e7\u00f5es para um vetor em termos de uma base geradora do espa\u00e7o vetorial em quest\u00e3o.\nPor exemplo, dado um vetor geom\u00e9trico em duas dimens\u00f5es, solu\u00e7\u00f5es diferentes podem ser obtidas conforme a base do plano que cont\u00e9m o vetor, como mostra-se na figura seguinte.\nO mesmo vetor 0 pode ser resolvido em duas parcelas paralelas \u00e0 base do plano que o cont\u00e9m. No primeiro caso, a solu\u00e7\u00e3o \u00e9 0 = c1U1 + c 2 u 2; no segundo caso, a solu\u00e7\u00e3o \u00e9\n0 = d\t+ d2V2 . Os escalares { c} e {d d} referem o m\u00f3dulo de cada componente do vetor ao m\u00f3dulo do\nrespectivo componente da base geradora do plano, e s\u00e3o denominados coordenadas do vetor.\nH\u00e1 outros elementos matem\u00e1ticos que t\u00eam comportamento semelhante ao dos vetores geom\u00e9tricos. Entre os mais importantes desses elementos est\u00e3o algumas fun\u00e7\u00f5es de vari\u00e1veis complexas; \u00e9 razo\u00e1vel considerar que essas fun\u00e7\u00f5es sejam vetores de um espa\u00e7o gerado por fun\u00e7\u00f5es base. Tamb\u00e9m transforma\u00e7\u00f5es lineares como equa\u00e7\u00f5es diferenciais lineares e homog\u00eaneas com coeficientes constantes podem ser vistas como vetor do espa\u00e7o de fun\u00e7\u00f5es, que deve ser solucionado em termos da base geradora.\nPara solucionar a equa\u00e7\u00e3o, basta decomp\u00f4-la em rela\u00e7\u00e3o a uma base geradora. A \u00e1lgebra linear garante que a solu\u00e7\u00e3o \u00e9 determinada se a base tiver a mesma dimens\u00e3o que a ordem da equa\u00e7\u00e3o diferencial. Assim, uma equa\u00e7\u00e3o diferencial de segunda ordem pode ser solucionada numa fun\u00e7\u00e3o (que \u00e9 um vetor) que combina duas fun\u00e7\u00f5es linearmente independentes (n\u00e3o paralelas). Estas duas fun\u00e7\u00f5es formam uma base do espa\u00e7o de solu\u00e7\u00f5es.\nExemplo 1:\n4y = 0 pode ser solucionada em rela\u00e7\u00e3o a uma base com duas fun\u00e7\u00f5es\n.\t\u201e d1 y\tdy\nA equa\u00e7\u00e3o \u2014\u2014 + 5----------+\ndt\tdt\nlinearmente independentes. Sabe-se que as derivadas das fun\u00e7\u00f5es exponenciais s\u00e3o tamb\u00e9m exponenciais, podendo-se investigar o efeito de se propor uma base do tipo ea como solu\u00e7\u00e3o.\nSubstituindo na equa\u00e7\u00e3o diferencial:\nd2 eat\tdeat\t\u00ed\t\\\n+ 5 \u2014 + 4eat = 0 aeat + 5aeat + 4eat = eat x(a2 + 5a + 4)\ndt2\tdt\tv\t\u2019\nComo a fun\u00e7\u00e3o exponencial \u00e9 sempre positiva, for\u00e7osamente a1 + 5a + 4 = 0 (equa\u00e7\u00e3o caracter\u00edstica), ou seja, a} =-1e a2 =-4. Isso significa que a uma base geradora da solu\u00e7\u00e3o da equa\u00e7\u00e3o diferencial \u00e9 formada pelos vetores n\u00e3o paralelos e, e 4t. A solu\u00e7\u00e3o da equa\u00e7\u00e3o diferencial pode ser decomposta como:\n\u2014t\t\u20144t\ny = c1e + c2e\nAs exponenciais decrescentes da solu\u00e7\u00e3o indicam que a solu\u00e7\u00e3o \u00e9 assintoticamente decrescente com o tempo, ou seja, est\u00e1vel.\nExemplo 2:\nMudando os coeficientes da equa\u00e7\u00e3o diferencial para\nd2 y\tdy\n\u2014-\u2014 5--------+ 4 y = 0, sua equa\u00e7\u00e3o caracter\u00edstica ser\u00e1\ndt\tdt\na1 - 5a + 4 = 0, cujas solu\u00e7\u00f5es s\u00e3o a1 = 1e a2 = 4. Resulta uma solu\u00e7\u00e3o diferente para a equa\u00e7\u00e3o diferencial (base diferente):\nt\t4t\ny = cxe + c2e\nNesse caso, qualquer das exponenciais crescentes da solu\u00e7\u00e3o indica que a solu\u00e7\u00e3o \u00e9 ilimitadamente crescente como tempo, ou seja, inst\u00e1vel.\nExemplo 3:\ndt2\tdt\na2, + 2a + 5 = 0 , cujas solu\u00e7\u00f5es s\u00e3o a1 = -1 - 2i e a2 = -1 + 2i. Resulta a solu\u00e7\u00e3o:\ny = c1e( 1 2i)t + c2e( 1+2i)t = e t (c1e 2 + c2e2ti) = e f \\d1sin(2t) + d2 cos(2t)]\nNesse caso, a solu\u00e7\u00e3o envolve uma curva decrescente (exponencial) e oscilat\u00f3ria (termo senoidal), que \u00e9 est\u00e1vel.\nExemplo 4:\nsolu\u00e7\u00e3o:\ny = et \\d1 sin(2t) + d2 cos(2t)]\nque envolve curva crescente (exponencial) e tamb\u00e9m oscilat\u00f3ria (termo senoidal), que \u00e9 inst\u00e1vel.\nOs quatro exemplos mostram que a caracter\u00edstica de estabilidade da solu\u00e7\u00e3o depende dos coeficientes da equa\u00e7\u00e3o diferencial. Esses coeficientes s\u00e3o n\u00fameros reais e aparecem no polin\u00f4mio caracter\u00edstico associado \u00e0 equa\u00e7\u00e3o diferencial. As ra\u00edzes do polin\u00f4mio aparecem em termos exponenciais: parte real negativa implica em solu\u00e7\u00e3o est\u00e1vel e vice-versa; parte imagin\u00e1ria diferente de zero implica em solu\u00e7\u00e3o oscilat\u00f3ria.\n\u00c9 interessante lembrar que esses coeficientes s\u00e3o sempre combina\u00e7\u00f5es de propriedades do sistema f\u00edsico e do controlador. Os exemplos seguintes mostram a import\u00e2ncia das propriedades do sistema e dos par\u00e2metros do controlador na obten\u00e7\u00e3o de condi\u00e7\u00f5es est\u00e1veis e pouco oscilat\u00f3rias.\nA 2.2. Solu\u00e7\u00e3o da Equa\u00e7\u00e3o de um Sistema F\u00edsico sem Controle (malha aberta)\nOs sistemas qu\u00edmicos, regidos por balan\u00e7os de massa e energia, s\u00e3o representados por equa\u00e7\u00f5es diferenciais de primeira ordem, com atraso da sa\u00edda em rela\u00e7\u00e3o \u00e0 entrada. Ou seja, a equa\u00e7\u00e3o diferencial associada aos mesmos \u00e9 do tipo:\nT\t+ y(t + td ) = KPU(t)\nNum sistema sem controle, aplicando um degrau unit\u00e1rio na entrada, ou seja: t co \u20141J =uf,7 =J}\nt > 0 -> u = ij +1\n\u00ed\nN\nSubstituindo o termo u(t), para t>0 a equa\u00e7\u00e3o diferencial \u00e9 escrita como:\nT dy(t +\ttd) , y(t,\tt ) K u (t) \u2014 , dy(t\t+ td)\t, y(t,\tt ) y K\nT + y(t +\ttd)\t= Kpu (t)\t\u2014 T\t+ y(t +\ttd) - ys\t= Kp\ndt\tdt\nDerivando a equa\u00e7\u00e3o, obt\u00e9m-se uma equa\u00e7\u00e3o homog\u00eanea:\nT d 2 y(t + td) , dy(t + td)\n2\ndt\tdt\n\u2014 0 \u2014\u2014 Ta + a = 0 \u2014\u2014 *\na1 \u2014 0 a2 \u2014 -T\n2\tT\n- x\ny(t + td) = ci+ c 2e\nAplicada ao instante inicial (t=0), a express\u00e3o fornece:\ny s \u2014 c1 + c 2 . Longo tempo ap\u00f3s a perturba\u00e7\u00e3o\ndegrau, estabilizado o processo, o novo estado estacion\u00e1rio aplicado \u00e0 express\u00e3o t\ndyt+td) dt\n+y(t+td) - ys = Kp\nresulta em: yt)\t= ys + KP, ou seja, ci =ys +Kp \u2014 =~Kp\nA solu\u00e7\u00e3o \u00e9, portanto:\n-t-td\ny(t) = y + Kp(1 - e ')\nA2.3. Solu\u00e7\u00e3o da Equa\u00e7\u00e3o de um Sistema F\u00edsico com Controle Proporcional (malha fechada)\nUm sistema de primeira ordem sob atua\u00e7\u00e3o de controlador PID pode ser representado pelas seguintes equa\u00e7\u00f5es:\nT\t+ y (t) = Kpu (t)\ndt\nu(t) = us+ kcx e(t) = us+ kc(ySP - y())\npara um controlador apenas proporcional.\nAs duas express\u00f5es podem ser combinadas, resultando:\nTddt^+y(t) = Kpus+Kpkc [vsp - y(t)] ]\nT\t+ (1 + K pkc ) y (t) = K p (kcySP + Us )\nNum sistema com controle, aplicando um degrau unit\u00e1rio no set-point, ou seja:\nSubstituindo o termo ySP, para t>0 a equa\u00e7\u00e3o diferencial \u00e9 escrita como:\nt +(i+ Kpkc)(y (') -y-) = Kpkc\nDerivando a equa\u00e7\u00e3o, obt\u00e9m-se uma equa\u00e7\u00e3o homog\u00eanea:\nd2y (t)\tZ1 v , x dy (t)\n+ (x+Kpkc) d = 0 dt 2\tdt\na1 = 0\n(1+Kpkc)\ty(t)\na2 =\u2014T-\nnz2 + (1 + Kpkc)a = 0\n(X+l\u00edpkc )t\n= c1 + c2e\tT\nAplicada ao instante inicial (t=0), a express\u00e3o fornece: ys = c1 + c2 . Longo tempo ap\u00f3s a perturba\u00e7\u00e3o degrau, estabilizado o processo, o novo estado estacion\u00e1rio aplicado\n+ (1 + Kpkc )(y(t) - ys) = Kpkc\tresulta\tem:\ty (t)| ^= ys + 1 KKkct ,\ndt\t1 + Kpkc\n\u00e0 express\u00e3o\nou seja,\nci = ys +\nKpkc\tKpkc\nc 2 =\n1 + Kpkc\t1 + Kpkc\n\nA solu\u00e7\u00e3o \u00e9, portanto:\ny(t) = ys\nKpkc\n1 + Kpkc\n_(1+Kpkc )t\n(1 - e~ T )\n+\nEsse resultado mostra que um controlador proporcional n\u00e3o completa integralmente a solicita\u00e7\u00e3o de aumento de set-point. O aumento solicitado foi de uma unidade. Entretanto, para t\t<x> s\u00f3 tem-se aumento de uma\n\u2022\t\u2022\tKpkc\nunidade no caso de o ganho kc ser muito elevado, de modo que\t^y(t) = 1\tlimk\t~.\nc\t1 + Kpkc\nA2.4. Solu\u00e7\u00e3o da Equa\u00e7\u00e3o de um Sistema F\u00edsico com Controle Proporcional e Integral\nA solu\u00e7\u00e3o do item anterior mostra que o aumento solicitado de set-point n\u00e3o \u00e9 completado integralmente. O\ncontrolador proporcional permite certo aumento da vari\u00e1vel y, restando uma parte n\u00e3o atingida denominada off-set (fora do set-point).\nPara resolver o problema de off-set, ou seja, de um erro permanente que resta entre o set-point e o valor medido para y, pode-se acrescentar \u00e0 lei de controle uma parcela proporcional \u00e0 soma do erro persistente (acumulado, integral do erro).\nUm sistema de primeira ordem sob controle de lei proporcional e integral \u00e9 regido pelas express\u00f5es:\nT\t+ y(t)\t= Kpu(t)\ndt\n0 0\nAs duas express\u00f5es podem ser combinadas, resultando:\n+y(t)=KpUs+Kpkc [ - y(t)]+Kp T J(ySP- y(t)) dt\n0\nus + Kpkc(ySP +\nySPdt)\n0\nNum sistema com controle, aplicando um degrau unit\u00e1rio no set-point, ou seja:\n\nSubstituindo o termo ySP, para t>0 a equa\u00e7\u00e3o diferencial \u00e9 escrita como:\n(y (t) - y,) dt = Krkc (1 + \u2014)\nTi\nDerivando a equa\u00e7\u00e3o para eliminar a parcela integral:\nA presen\u00e7a da parcela integral do controlador faz com que a equa\u00e7\u00e3o diferencial que rege o sistema controlado seja de segunda ordem. H\u00e1 um aumento de ordem, pois o sistema sem controle \u00e9 de primeira ordem e o sistema sob controle \u00e9 de ordem dois.\nDerivando novamente para obter equa\u00e7\u00e3o homog\u00eanea:\nr d3 y (t) dt3\n+ (1 + Kpkc)\nd2 y (t) dt2\nkcKp dy (t)\ndt\n+\n\u2014\n= 0\nra' + (1 + Kka' + a = 0\nP c '\tri\nA solu\u00e7\u00e3o da equa\u00e7\u00e3o caracter\u00edstica para esse caso depende dos valores atribu\u00eddos \u00e0s constantes kc e \u2014. Para valores de A = (1 + K pkc )2 - 4 Tk\u2014K p a solu\u00e7\u00e3o \u00e9 da forma:\n<a2\na3\na1 = 0\n1 + Kpkc + Va 2r\n1 + Kpkc -TA\n2r\n=71 &lt;0 y=C1+ C2e Zl\u00ed\n= 72 &lt;0\n+ C.e\t'\nAplicada ao instante inicial (t=0), a express\u00e3o fornece: ys = cx + c2 + c3. Longo tempo ap\u00f3s a perturba\u00e7\u00e3o degrau, estabilizado o processo, o novo estado estacion\u00e1rio aplicado \u00e0 express\u00e3o rddr+(1+Kpkc)\t+krpy(t)=\u2014(ys+1) resulta em: y(t)l t^,= ys +1\ndr\tdt \u2018\tr\ni\nEsse resultado matem\u00e1tico mostra que n\u00e3o existe off-set para um controlador proporcional e integral. Dependendo do valor do discriminante da equa\u00e7\u00e3o caracter\u00edstica, a solu\u00e7\u00e3o pode ter termos trigonom\u00e9tricos (ra\u00edzes complexas) ou n\u00e3o, o que define o car\u00e1ter oscilat\u00f3rio do sistema sob controle."}]}}}