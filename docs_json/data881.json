{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BP.03738"}, {"@name": "filename", "#text": "12-Gustavo_Emmendoerfer.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "| Gustavo Emmendoerfer | Ricardo Artigas Langer\nDesenvolvimento e implementa\u00e7\u00e3o de um sistema de medi\u00e7\u00e3o inercial de trajet\u00f3rias de dutos \u2014 PIG inercial /Development and implementation of a pipeline inertial PIG trajectory measurement system\nPALAVRAS-CHAVE:\n\u25a1\tinspe\u00e7\u00e3o de dutos\n\u25a1\tPIG inercial\n\u25a1\tnavega\u00e7\u00e3o inercial\nresumo\nUm PIG (Pipeline Inspection Gauge) \u00e9 uma ferramenta para inspe\u00e7\u00e3o de dutos de transporte e distribui\u00e7\u00e3o de \u00f3leo e g\u00e1s, que \u00e9 inserida no duto e propelida pela pr\u00f3pria press\u00e3o do produto circulante na tubula\u00e7\u00e3o. Os PIGs verificam anomalias, como ovaliza\u00e7\u00f5es, amassamentos e corros\u00f5es, contribuindo para evitar vazamentos que podem causar acidentes ecol\u00f3gicos grav\u00edssimos. Para diminuir custos e permitir uma r\u00e1pida substitui\u00e7\u00e3o ap\u00f3s a detec\u00e7\u00e3o de qualquer anomalia no duto, \u00e9 necess\u00e1rio conhecer a exata localiza\u00e7\u00e3o georreferenciada da regi\u00e3o defeituosa. Por esta raz\u00e3o e tamb\u00e9m\nabstract\nKEYWORDS:\tA PIG (Pipeline Inspection Gauge) is an inspection tool used in oil and\n\u25a1\tpipeline inspection \u25a1\tinertial PIG \u25a1\tinertial navigation\tgas distribution pipelines. It is inserted into the pipeline and propelled by the pressure of the product circulating in the pipe. The PIG identifies anomalies that can impact the integrity of the pipe, such as: oval deformation, dents and corrosion. This early detection helps to avoid structural failures that can cause very serious environmental accidents. To minimize costs and allow a quick section replacement of a detected pipeline anomaly, it is necessary to know the exact geo-referenced location of the defect. Furthermore, it is necessary to detect pipeline displacements caused by land movements. To facilitate this work a tool known as an inertial PIG is employed. In Brazil, there has been a great effort to nationalize pipeline inertial inspection technology, which was dominated by international companies. This has made the development of a Brazilian inertial PIG viable. This paper presents a new robust data processing method to reconstruct the inertial PIG trajectories, which has achieved results as low as a 0.1% uncertainty factor in field tests to validate the method. (Expanded abstract available at the end of the paper).\npara detectar deslocamentos da tubula\u00e7\u00e3o, gerados por movimenta\u00e7\u00e3o do terreno, \u00e9 preciso utilizar uma ferramenta inercial, chamada PIG inercial. No Brasil, houve um grande esfor\u00e7o para a nacionaliza\u00e7\u00e3o da tecnologia de inspe\u00e7\u00e3o inercial de dutos, que era dominada por empresas internacionais, e isso viabilizou o desenvolvimento do PIG inercial brasileiro. Este trabalho apresenta um novo e robusto m\u00e9todo de tratamento dos dados para a reconstru\u00e7\u00e3o das trajet\u00f3rias do PIG inercial que atingiu resultados com incertezas de 0,1% em ensaios realizados em campo para a valida\u00e7\u00e3o do m\u00e9todo.\nintrodu\u00e7\u00e3o\nmotiva\u00e7\u00f5es\nO PIG (Pipeline Inspection Gauge) \u00e9 uma ferramenta para inspe\u00e7\u00e3o de dutos de \u00f3leo e g\u00e1s, que \u00e9 inserida no duto e propelida pela pr\u00f3pria press\u00e3o do produto circulante na tubula\u00e7\u00e3o. Os PIGs verificam anomalias, como ovaliza\u00e7\u00f5es, amassamentos e corros\u00f5es, contribuindo para evitar vazamentos que podem causar acidentes ecol\u00f3gicos grav\u00edssimos.\nAp\u00f3s a detec\u00e7\u00e3o de qualquer anomalia no duto, \u00e9 necess\u00e1rio conhecer a exata localiza\u00e7\u00e3o da regi\u00e3o defeituosa. Por esta raz\u00e3o e tamb\u00e9m para detectar deslocamentos da tubula\u00e7\u00e3o, gerados por movimenta\u00e7\u00e3o do terreno, \u00e9 preciso utilizar uma ferramenta inercial, chamada PIG inercial. Com o PIG inercial, atrav\u00e9s de t\u00e9cnicas de navega\u00e7\u00e3o inercial, \u00e9 poss\u00edvel conhecer a posi\u00e7\u00e3o georreferenciada do defeito no duto.\nAtualmente, os PIGs inerciais comerciais utilizados pelas empresas nacionais s\u00e3o alugados de empresas estrangeiras, que possuem e dominam a tecnologia de fabrica\u00e7\u00e3o do PIG e do software para navega\u00e7\u00e3o inercial. A nacionaliza\u00e7\u00e3o da tecnologia foi um dos principais motivos deste trabalho.\nobjetivos\nobjetivo geral\nO objetivo geral do trabalho \u00e9 o desenvolvimento completo de um sistema para medi\u00e7\u00e3o inercial de dutos.\nobjetivos espec\u00edficos\nOs objetivos espec\u00edficos do trabalho s\u00e3o:\n\u2022\tEstudo sobre sistemas e t\u00e9cnicas de navega\u00e7\u00e3o inercial;\n\u2022\tMinimiza\u00e7\u00e3o de erros nos sensores e sistemas inerciais;\n\u2022\tDesenvolvimento e implementa\u00e7\u00e3o de uma arquitetura de hardware para aquisi\u00e7\u00e3o dos sinais dos sensores;\n\u2022\tDesenvolvimento de software para aquisi\u00e7\u00e3o e armazenamento dos dados dos sensores;\n\u2022\tDesenvolvimento e implementa\u00e7\u00e3o de t\u00e9cnicas de navega\u00e7\u00e3o inercial, buscando encontrar a melhor solu\u00e7\u00e3o para a medi\u00e7\u00e3o da trajet\u00f3ria do duto;\n\u2022\tEnsaios em laborat\u00f3rio e em campo para validar o sistema desenvolvido.\nfundamenta\u00e7\u00e3o te\u00f3rica\nintrodu\u00e7\u00e3o aos sistemas de navega\u00e7\u00e3o inercial\nA navega\u00e7\u00e3o inercial pode ser definida como um processo de determina\u00e7\u00e3o da posi\u00e7\u00e3o atual num sistema de refer\u00eancia, atrav\u00e9s da medida das acelera\u00e7\u00f5es em dire\u00e7\u00f5es espaciais conhecidas. Usualmente, em sistemas de navega\u00e7\u00e3o terrestre, o sistema de refer\u00eancia utilizado \u00e9 um sistema de coordenadas em que a localiza\u00e7\u00e3o do ve\u00edculo \u00e9 dada por uma latitude, uma longitude e uma altitude, com as quais \u00e9 poss\u00edvel determinar a localiza\u00e7\u00e3o do ve\u00edculo no globo terrestre. Esse sistema \u00e9 chamado geod\u00e9sico.\nA navega\u00e7\u00e3o inercial utiliza sensores inerciais (giros-c\u00f3pios e aceler\u00f4metros) para obter uma estimativa da posi\u00e7\u00e3o, velocidade e altitude (\u00e2ngulos de orienta\u00e7\u00e3o com rela\u00e7\u00e3o a um sistema de refer\u00eancia) do ve\u00edculo onde os sensores est\u00e3o instalados. O funcionamento destes sensores \u00e9 baseado nas Leis do Movimento de Newton.\nOutros instrumentos que podem ser utilizados juntamente com os sensores inerciais em sistemas de navega\u00e7\u00e3o inercial s\u00e3o o GPS e o od\u00f4metro.\ngirosc\u00f3pios\nUm girosc\u00f3pio inercial \u00e9 um dispositivo sens\u00edvel \u00e0s velocidades angulares. Este equipamento mede a velocidade angular sem a exist\u00eancia de uma refer\u00eancia externa; ele mede a velocidade angular com rela\u00e7\u00e3o \u00e0 rota\u00e7\u00e3o em torno do seu eixo de sensibilidade. Atrav\u00e9s da integra\u00e7\u00e3o simples no tempo do sinal da velocidade angular medida pelo girosc\u00f3pio, \u00e9 poss\u00edvel determinar o \u00e2ngulo de rota\u00e7\u00e3o em torno do seu eixo de sensibilidade.\naceler\u00f4metros\nOs aceler\u00f4metros medem a for\u00e7a espec\u00edfica sobre eles e se baseiam na varia\u00e7\u00e3o da for\u00e7a devida \u00e0 acelera\u00e7\u00e3o do movimento ao qual o sensor est\u00e1 sujeito.\nAtrav\u00e9s da integra\u00e7\u00e3o simples dessa acelera\u00e7\u00e3o no tempo, obt\u00e9m-se a velocidade do movimento. Por meio da dupla integra\u00e7\u00e3o da acelera\u00e7\u00e3o, obt\u00e9m-se o deslocamento ao qual o aceler\u00f4metro foi submetido no per\u00edodo de tempo considerado.\nGPS\nSegundo Guerreiro (2007) e The Aerospace Corporation (2003), a sigla GPS (Global Positioning System) \u00e9 a abreviatura de NAVSTAR GPS (NAVigation System with Time And Ranging Global Positioning System). Trata-se de um sistema de navega\u00e7\u00e3o baseado em sat\u00e9lites, desenvolvido e controlado pelo Departamento de Defesa dos Estados Unidos da Am\u00e9rica, que permite a qualquer utilizador que possua o equipamento adequado saber a sua localiza\u00e7\u00e3o, velocidade e tempo, 24 horas por dia. O funcionamento do GPS \u00e9 baseado na determina\u00e7\u00e3o da dist\u00e2ncia entre o receptor e os sat\u00e9lites atrav\u00e9s da inter-sec\u00e7\u00e3o de tr\u00eas circunfer\u00eancias cujos raios s\u00e3o as dist\u00e2ncias calculadas entre o receptor e os sat\u00e9lites.\nhod\u00f4metros\nHod\u00f4metro \u00e9 um equipamento que mede a dist\u00e2ncia percorrida por um ve\u00edculo. Atrav\u00e9s dos dados dos hod\u00f4-metros tamb\u00e9m \u00e9 poss\u00edvel calcular, com a medi\u00e7\u00e3o do tempo, a velocidade do ve\u00edculo.\nQuanto ao funcionamento, existem v\u00e1rios tipos de hod\u00f4metros. Os utilizados no presente trabalho s\u00e3o baseados em dois sensores de efeito Hall defasados de 90\u00b0 magn\u00e9ticos um do outro. Esses sensores s\u00e3o sens\u00edveis ao campo magn\u00e9tico gerado por um \u00edm\u00e3 incrustado no eixo girante da roda do hod\u00f4metro. Desta maneira, cada um dos hod\u00f4metros utilizados possui como sa\u00edda duas ondas senoidais defasadas de 90\u00b0 entre si, provenientes dos sensores de efeito Hall.\nsistemas de navega\u00e7\u00e3o inercial\nUm sistema de navega\u00e7\u00e3o inercial (INS - Inertial Navigation System) \u00e9 composto por uma unidade de medi\u00e7\u00e3o inercial, conhecida como IMU (Inertial Measurement Unit) e composta por girosc\u00f3pios e aceler\u00f4metros, e por um computador de processamento, que realiza os c\u00e1lculos e a integra\u00e7\u00e3o dos sinais dos sensores para o c\u00e1lculo da velocidade, posi\u00e7\u00e3o e orienta\u00e7\u00e3o estimada.\nExistem basicamente duas maneiras de implementar uma plataforma inercial (IMU): uma conhecida como Gimbaled (chamada de plataforma estabilizada), e a outra conhecida como strapdown e utilizada neste trabalho.\nDe acordo com Titterton (2004), strapdown \u00e9 o nome dado a um sistema integrado de medi\u00e7\u00e3o inercial no qual tr\u00eas girosc\u00f3pios e tr\u00eas aceler\u00f4metros s\u00e3o montados sobre eixos ortogonais coincidentes e sobre uma mesma base r\u00edgida (fig. 1).\nNuma plataforma strapdown, os sensores s\u00e3o fixados diretamente no corpo do ve\u00edculo (de forma r\u00edgida) e, desta maneira, sofrem todos os movimentos do ve\u00edculo (deslocamentos e rota\u00e7\u00f5es). Neste tipo de sistema, os sensores devem ter uma alta faixa de medi\u00e7\u00e3o din\u00e2mica, pois est\u00e3o suscept\u00edveis \u00e0s vibra\u00e7\u00f5es do ve\u00edculo, ou ent\u00e3o o ve\u00edculo deve possuir filtros mec\u00e2nicos que permitam apenas a passagem de sinais que estejam dentro da faixa de medi\u00e7\u00e3o dos sensores.\nsistemas de coordenadas\nUm sistema de coordenadas pode ser entendido como um referencial atrav\u00e9s do qual seja poss\u00edvel localizar um ponto. A figura 2 apresenta os principais sistemas de coordenadas utilizados na navega\u00e7\u00e3o inercial.\nFigura 1 - M\u00f3dulo inercial strapdown.\nFigure 1 - Inertial strapdown module.\nFigura 2 - Sistema de coordenadas utilizado.\nFigure 2 - Coordination system used.\nsistema ECI (Earth Centered Inertial)\nO sistema ECI tem sua origem no centro da Terra. Seu eixo XECI aponta para o Sol, passando pela linha do Equador, seu eixo ZECI \u00e9 paralelo ao eixo de rota\u00e7\u00e3o da Terra, passando pelo Polo Norte, e o eixo YECI \u00e9 orientado seguindo a regra da m\u00e3o direita. O plano XY coincide com o plano equatorial. O sistema ECI \u00e9 chamado de inercial porque \u00e9 fixo em rela\u00e7\u00e3o a um corpo estelar distante, ou seja, ele n\u00e3o gira com a Terra. A nota\u00e7\u00e3o utilizada para a representa\u00e7\u00e3o tridimensional no sistema de coordenadas ECI \u00e9 &amp;Ea' Y zrc)-\nsistema ECEF (Earth Centered, Earth Fixed)\nNeste sistema de refer\u00eancia, a origem est\u00e1 localizada no centro da Terra, sendo que seu eixo XECEF \u00e9 orientado passando pelo cruzamento entre a linha do Equador e o meridiano de Greenwich, o eixo ZECEF \u00e9 orientado apontando para o Polo Norte geogr\u00e1fico da Terra, e o eixo Yecef \u00e9 orientado atrav\u00e9s da regra da m\u00e3o direita.\nExistem duas maneiras de escrever a localiza\u00e7\u00e3o de um corpo no sistema ECEF: uma atrav\u00e9s de coordenadas retangulares, e outra atrav\u00e9s de coordenadas geod\u00e9sicas.\nA nota\u00e7\u00e3o utilizada para a representa\u00e7\u00e3o tridimensional no sistema de coordenadas ECEF retangular \u00e9:\nO sistema ECEF geod\u00e9sico \u00e9 aquele normalmente utilizado por receptores GPS (Global Positioning System). A localiza\u00e7\u00e3o de um ponto nesse sistema \u00e9 dada por um deslocamento angular no sentido anti-hor\u00e1rio com origem no meridiano de Greenwich, chamado de longitude geod\u00e9sica (f), seguido por um deslocamento angular anti-hor\u00e1rio com origem na linha do Equador, denominado latitude geod\u00e9sica (l), e por uma altitude (h) com base no n\u00edvel do mar. A representa\u00e7\u00e3o no sistema ECEF geod\u00e9sico \u00e9 expressa por (l, f, h).\nsistema NED (North East Down)\nNED \u00e9 um sistema de navega\u00e7\u00e3o local no qual a origem pode ser situada em qualquer ponto da superf\u00edcie terrestre. O eixo XNED \u00e9 orientado na dire\u00e7\u00e3o do Norte geogr\u00e1fico, o eixo YNED \u00e9 orientado na dire\u00e7\u00e3o Leste, e\no eixo ZNED \u00e9 orientado seguindo a regra de m\u00e3o direita, perpendicularmente \u00e0 elipsoide de refer\u00eancia e apontando para o interior da Terra. O plano formado pelos eixos XNED e YNED \u00e9 chamado de plano tangente local. A nota\u00e7\u00e3o utilizada para a representa\u00e7\u00e3o tridimensional no sistema de coordenadas NED \u00e9: {XNED, YNED, ZNED}.\nsistema RPY (Roll Pitch Yaw)\nUm dos sistemas mais utilizados em navega\u00e7\u00e3o inercial e em sistemas de orienta\u00e7\u00e3o de ve\u00edculos m\u00f3veis \u00e9 aquele conhecido como RPY, dos termos aeron\u00e1uticos Roll-Pitch-Yaw, que representam as rota\u00e7\u00f5es em um sistema de coordenadas euclidiano (que utilizam \u00e2ngulos de Euler) relativas aos eixos de coordenadas do ve\u00edculo.\nDe acordo com a defini\u00e7\u00e3o utilizada em Schumacher (2006), Santana (2005), Katz (1997) e Titterton (2004),\na origem do sistema \u00e9 fixada num ponto do ve\u00edculo, normalmente no ponto de intersec\u00e7\u00e3o dos eixos de sensibilidade dos aceler\u00f4metros, e se move junto com ele. Normalmente, nesse sistema o eixo XRPY \u00e9 orientado na dire\u00e7\u00e3o do movimento, o eixo Yrpy deve ser perpendicular a XRPY e apontar para a direita, e o eixo ZRPY para baixo. Nesse sistema, Roll (\u00e2ngulo de rolamento representado por f) \u00e9 a rota\u00e7\u00e3o em torno do eixo x, Pitch (\u00e2ngulo de arfagem representado por 0) \u00e9 a rota\u00e7\u00e3o em torno de y, e Yaw (\u00e2ngulo de guinamento representado por y) \u00e9 a rota\u00e7\u00e3o em torno de z. A nota\u00e7\u00e3o utilizada para a representa\u00e7\u00e3o tridimensional no sistema de coordenadas\nRPY \u00e9: {XRPY,\n}.\nprincipais erros e suas minimiza\u00e7\u00f5es em sensores e sistemas de navega\u00e7\u00e3o inercial\n\u00c9 importante lembrar que todos os sensores e equipamentos est\u00e3o sujeitos a erros que depreciam a precis\u00e3o da vari\u00e1vel medida. Quando os dados destes sensores s\u00e3o utilizados como entradas em um sistema, estes erros podem se tornar mais relevantes e interferir ainda mais na precis\u00e3o final do resultado. Para viabilizar o desenvolvimento de um sistema confi\u00e1vel de navega\u00e7\u00e3o ou medi\u00e7\u00e3o inercial, devem-se tomar alguns cuidados e realizar compensa\u00e7\u00f5es e calibra\u00e7\u00f5es para minimizar os\nerros dos sensores ou do sistema, e, assim, atender aos crit\u00e9rios de performance de cada aplica\u00e7\u00e3o.\nMuitas vezes, \u00e9 simples implementar a corre\u00e7\u00e3o de um fator de incerteza, mas o desconhecimento de tais fatores acaba fazendo com que sejam simplesmente ignorados.\nA elimina\u00e7\u00e3o ou minimiza\u00e7\u00e3o dos fatores de erros deve ter prioridade m\u00e1xima desde a etapa de projeto do sistema. Ao contr\u00e1rio da ideia de muitos, um sistema de navega\u00e7\u00e3o inercial n\u00e3o depende somente da qualidade dos sensores inerciais, embora isto seja de fundamental import\u00e2ncia para a obten\u00e7\u00e3o de um sistema com \u00f3tima incerteza e grande repetibilidade. A obten\u00e7\u00e3o de um sistema de medi\u00e7\u00e3o ou navega\u00e7\u00e3o inercial de qualidade depende de todo o conjunto, ou seja, do sistema integrado. Sem um bom projeto mec\u00e2nico \u00e9 invi\u00e1vel o desenvolvimento de tais sistemas precisos. Por interm\u00e9dio do projeto mec\u00e2nico, s\u00e3o desenvolvidos m\u00e9todos de amortecimento de vibra\u00e7\u00f5es, de autocentragem em dutos, de garantia de contato das rodas de um hod\u00f4metro, al\u00e9m de muitas outras t\u00e9cnicas que garantem que o equipamento funcione de acordo com o esperado. Um detalhado projeto mec\u00e2nico permite conhecer todas as frequ\u00eancias de vibra\u00e7\u00e3o do ve\u00edculo, especificar frequ\u00eancias de amostragem e projetar filtros que impe\u00e7am que estas frequ\u00eancias causem problemas de aliasing - erro que ocorre quando o sinal amostrado possui frequ\u00eancias maiores que a metade da frequ\u00eancia de amostragem - e interfiram na incerteza da medi\u00e7\u00e3o.\nPara que se possa desenvolver um sistema inercial preciso, idealmente devem-se corrigir todas as influ\u00eancias de for\u00e7as externas que possam influenciar a medi\u00e7\u00e3o, entre elas todas as acelera\u00e7\u00f5es e rota\u00e7\u00f5es geradas pelos movimentos e massas dos corpos celestes. Devem-se compensar todas e quaisquer varia\u00e7\u00f5es do sistema ou sensor inercial com qualquer vari\u00e1vel, entre as quais a principal \u00e9 a temperatura. Devem-se evitar ou minimizar os erros de digitaliza\u00e7\u00e3o dos dados durante a aquisi\u00e7\u00e3o dos dados e calcular uma frequ\u00eancia de amostragem que atenda aos requisitos para evitar o aliasing. Devem-se calibrar da forma mais precisa e confi\u00e1vel os sensores, o sistema de aquisi\u00e7\u00e3o e tamb\u00e9m o sistema mec\u00e2nico envolvido com o ve\u00edculo e que possam influenciar as medidas. Deve-se garantir o bom funcionamento do sistema de aquisi\u00e7\u00e3o de dados para evitar a perda de dados e garantir o sincronismo entre os sensores. Deve-se projetar o sistema mec\u00e2nico de forma que os impactos\ne vibra\u00e7\u00f5es que chegam at\u00e9 o sensor n\u00e3o ultrapassem os limites seguros de funcionamento dos mesmos.\nSomente devem ser compensadas as influ\u00eancias externas maiores do que a resolu\u00e7\u00e3o do sensor inercial. Assim, em sistemas inerciais que utilizam sensores de baixa precis\u00e3o, influ\u00eancias como a rota\u00e7\u00e3o e transla\u00e7\u00e3o da Terra podem ser desconsideradas, pois os sensores n\u00e3o possuem resolu\u00e7\u00e3o ou estabilidade suficiente para a medida.\nQuando poss\u00edvel, deve-se evitar ao m\u00e1ximo a utiliza\u00e7\u00e3o de medidas de dados que ser\u00e3o integrados ao longo do tempo, como, por exemplo, aceler\u00f4metros, pois estes geram erros cumulativos ao longo da medi\u00e7\u00e3o. O principal problema da utiliza\u00e7\u00e3o de aceler\u00f4metros para a medi\u00e7\u00e3o de deslocamentos \u00e9 que a acelera\u00e7\u00e3o da gravidade, que tamb\u00e9m \u00e9 medida pelo sensor, possui uma amplitude muito grande quando comparada com as acelera\u00e7\u00f5es que realmente geram movimentos. Desta forma, caso n\u00e3o sejam muito precisamente compensadas, as acelera\u00e7\u00f5es externas podem gerar erro de uma magnitude exageradamente grande. No caso de ve\u00edculos n\u00e3o holon\u00f4micos (sujeitos a restri\u00e7\u00f5es de movimento) e que possuem contato f\u00edsico com a superf\u00edcie de deslocamento, o que limita graus de liberdade, \u00e9 muito mais vi\u00e1vel utilizar sensores que possam medir a velocidade e o deslocamento, como, por exemplo, hod\u00f4metros e encoders, do que aceler\u00f4metros. Quando n\u00e3o for poss\u00edvel medir o deslocamento relativo ou garantir a qualidade da medi\u00e7\u00e3o, pode-se recorrer \u00e0 fus\u00e3o sensorial entre sensores com diferentes incertezas e, assim, melhorar a incerteza do conjunto.\nUm dos principais conflitos em sistemas precisos de navega\u00e7\u00e3o, em que \u00e9 necess\u00e1rio minimizar ao m\u00e1ximo os erros, est\u00e1 na velocidade de processamento computacional e na precis\u00e3o da estima\u00e7\u00e3o das vari\u00e1veis. Sem d\u00favida nenhuma, \u00e9 mais vi\u00e1vel desenvolver um sistema preciso de medi\u00e7\u00e3o de trajet\u00f3ria no qual o processamento \u00e9 feito de forma off-line do que o mesmo sistema e com a mesma precis\u00e3o, mas com a necessidade de processamento em tempo real, onde, muitas vezes, \u00e9 necess\u00e1rio desconsiderar algumas compensa\u00e7\u00f5es, visando ao ganho computacional.\nInfelizmente, n\u00e3o \u00e9 poss\u00edvel prever ou comentar todos os tipos de influ\u00eancias em um sistema de medi\u00e7\u00e3o inercial. Por este motivo, no trabalho ser\u00e3o citados somente\nos principais erros que podem influenciar um sistema de navega\u00e7\u00e3o e/ou medi\u00e7\u00e3o inercial.\nmetodologia\nsoftware para testes\nA primeira etapa do desenvolvimento do software de reconstru\u00e7\u00e3o da trajet\u00f3ria do PIG foi a implementa\u00e7\u00e3o de todas as equa\u00e7\u00f5es de convers\u00e3o entre os sistemas de coordenadas e de c\u00e1lculos de influ\u00eancia externa no ambiente de programa\u00e7\u00e3o Labview. Para a valida\u00e7\u00e3o da matem\u00e1tica implementada, foi desenvolvido um simulador que permite reconstruir e visualizar a trajet\u00f3ria gerada por dados de velocidade angular e de deslocamento inseridos de forma manual e em \"tempo real\u201d, atrav\u00e9s dos controles de interface na tela, ou ent\u00e3o atrav\u00e9s de dados gravados em arquivo e que foram gerados por um simulador de trajet\u00f3rias.\nA figura 3 mostra o painel frontal do software simulador desenvolvido.\nA segunda etapa do sistema de reconstru\u00e7\u00e3o de trajet\u00f3rias foi o desenvolvimento e a programa\u00e7\u00e3o do sistema de aquisi\u00e7\u00e3o de dados para aquisi\u00e7\u00e3o de sinais reais obtidos atrav\u00e9s de ensaios.\narquitetura de hardware de medi\u00e7\u00e3o e aquisi\u00e7\u00e3o\nO sistema de hardware de medi\u00e7\u00e3o do PIG inercial (fig. 4) \u00e9 composto basicamente por tr\u00eas aceler\u00f4metros, tr\u00eas girosc\u00f3pios RLG (Ring Laser Gyroscope), um detector de soldas, um sistema de aquisi\u00e7\u00e3o e armazenamento de dados, um GPS diferencial e um computador externo de processamento.\nalgoritmos\nalgoritmo simples de reconstru\u00e7\u00e3o de trajet\u00f3rias\nUm PIG em uma tubula\u00e7\u00e3o, um rob\u00f4 sobre trilho, assim como ve\u00edculos terrestres (carros, motos, bicicletas,\nFigura 3 - Painel frontal do software de simula\u00e7\u00e3o desenvolvido.\nFigure 3 - Opening screen of the developed simulation software.\nFigura 4 - Arquitetura de hardware de medi\u00e7\u00e3o simplificada do PIG inercial.\nFigure 4 - Architecture of inertial PIG simplified measurement hardware.\netc.) possuem restri\u00e7\u00e3o de movimentos. No caso do PIG, com um bom projeto mec\u00e2nico e em condi\u00e7\u00e3o normal de opera\u00e7\u00e3o, \u00e9 poss\u00edvel admitir que o ve\u00edculo somente se desloque no eixo x da sua refer\u00eancia m\u00f3vel, chamada de RPY no item (sistema RPY, Roll Pitch Yaw). Assim,\ncomo alguns graus de movimentos do ve\u00edculo est\u00e3o limitados, n\u00e3o \u00e9 preciso medir os seis graus de liberdade no espa\u00e7o. Para o PIG inercial, teoricamente, \u00e9 poss\u00edvel medir apenas os tr\u00eas graus de liberdade referentes \u00e0s rota\u00e7\u00f5es no espa\u00e7o e o deslocamento ou a velocidade no sentido do movimento. Desta forma pode-se afirmar que apenas com um hod\u00f4metro e tr\u00eas girosc\u00f3pios \u00e9 poss\u00edvel a reconstru\u00e7\u00e3o da trajet\u00f3ria tridimensional realizada pelo ve\u00edculo.\nEssa reconstru\u00e7\u00e3o que n\u00e3o utiliza dados redundantes \u00e9 chamada neste trabalho de algoritmo simples de reconstru\u00e7\u00e3o de trajet\u00f3rias. Quando no lugar dos hod\u00f4-metros s\u00e3o utilizados aceler\u00f4metros, em muitos trabalhos\nesta t\u00e9cnica \u00e9 chamada de duplo integrador, como, por exemplo, em Lima (2005) e Santana (2005).\nA figura 5 ilustra o processo de navega\u00e7\u00e3o discreto do PIG atrav\u00e9s de tr\u00eas pontos: o ponto 0 \u00e9 o ponto inicial da trajet\u00f3ria, onde existe uma base NED0 e uma base desalinhada RPY0.\nO primeiro passo \u00e9 a determina\u00e7\u00e3o da matriz de alinhamento inicial R\t, que transforma os dados da\nbase NED0 para a base RPY0; assim, a matriz (R\u2014RPY)T \u00e9 a aquela que transforma da base RPY0 para a base NED0 (Rpy0\u2014 ned)'\nCom a latitude (l0) e a longitude (f0) iniciais, calcula-se a matriz que transforma o sistema da base NED0, localizada no ponto inicial da trajet\u00f3ria, para a base ECEF\n(R\nNED \u2014 ECEF\n).\nE para cada ponto, atrav\u00e9s dos \u00e2ngulos (f, 0 e y),\nFigura 5 - Desenho ilustrativo do processo de navega\u00e7\u00e3o do PIG.\nFigure 5 - Illustration of the PIG navigation process.\nXECEE\t\t\u25a0'vr/\u2019r\nYecef\t~ RNEDECEF\u2022RrPY0^>NED'RrPYi^>RPY0 ,^RPY2->RPYl \u2022\tJ'W>'\n_ ZECEE _\t2\t\n(1)\n\u00e9 calculada uma matriz de rota\u00e7\u00e3o que transforma os\ndados da base atual (RPYn) para a base passada (RPYn-1); essa matriz \u00e9 chamada aqui de RrpY\u2014ned .\nDesta maneira, considerando o caso ilustrado na\nfigura 5, para converter uma medida de deslocamento [X\u201e\u201ev Ydov Z\u201ev]l na base dos sensores do PIG, quando ele se encontra no ponto 2, para a base ECEF ([XECEF Yecef Zecef]t2), \u00e9 necess\u00e1rio realizar a multiplica\u00e7\u00e3o sucessiva das matrizes de rota\u00e7\u00e3o de acordo com a equa\u00e7\u00e3o 1.\nOu ent\u00e3o, generalizando para n pontos, pode-se obter a equa\u00e7\u00e3o 2.\nP r \u00ea m \u00ed\nBoletim t\u00e9cnico da Produ\u00e7\u00e3o de Petr\u00f3leo, Rio de Janeiro - volume 4, n\u00b0 1, p. 147-174 \u25a1 oetecNologia\nA equa\u00e7\u00e3o 1 transforma as medidas do sistema RPY2 para o sistema RPYV depois para o RPY0, depois para o NED e por \u00faltimo para o ECEF. Desta maneira, para cada novo ponto da trajet\u00f3ria \u00e9 poss\u00edvel obter um vetor de deslocamento do PIG no sistema ECEF. Atrav\u00e9s do somat\u00f3rio de todos os vetores passados, juntamente com o vetor atual, \u00e9 calculada a posi\u00e7\u00e3o atual do PIG no sistema ECEF.\nA figura 6 mostra o diagrama de blocos do algoritmo de reconstru\u00e7\u00e3o de trajet\u00f3rias utilizando-se dados de girosc\u00f3pios e de hod\u00f4metros.\nm\u00e9todo A-E de estima\u00e7\u00e3o do alinhamento inicial\nO m\u00e9todo de estima\u00e7\u00e3o do alinhamento inicial, intitulado A-E, \u00e9 um m\u00e9todo FeedForward baseado na estima\u00e7\u00e3o do alinhamento inicial de um segmento de trajet\u00f3ria que contenha no m\u00ednimo tr\u00eas pontos conhecidos (LandMarks) e n\u00e3o colineares, conforme mostrado na figura 7. O m\u00e9todo faz com que a trajet\u00f3ria reconstru\u00edda passe pelos pontos de refer\u00eancia atrav\u00e9s da estima\u00e7\u00e3o do alinhamento inicial e da distribui\u00e7\u00e3o linear do erro ao longo do trecho a ser reconstru\u00eddo.\nFigura 6 - Diagrama do algoritmo de reconstru\u00e7\u00e3o da trajet\u00f3ria utilizando girosc\u00f3pios e hod\u00f4metros.\nFigure 6 - Diagram of the trajectory reconstruction algorithm using gyroscopes and odometers.\nCOMPENSA ROTA\u00c7\u00c3O DA TERRA\t\n\t\n[w, 1\tJ\u2019l\n\t\n\tw\nCALCULA INTEGRAL\t\t\t\t\n\t/\\<p\t\t\t\n\t\t=\t\t.Ar\n\tAy/\t\tW'zw>r\t\nA figura 7 mostra dois conjuntos de tr\u00eas pontos: o conjunto dos pontos medidos com o GPS (pontos escuros, chamados de LandMarks), os quais ser\u00e3o considerados como pontos sem erro devido \u00e0 alta precis\u00e3o do GPS utilizado (cerca de 10mm); e o conjunto dos pontos correspondentes aos LandMarks (pontos claros), que foram reconstru\u00eddos utilizando-se os dados medidos\nAtrav\u00e9s dos vetores mostrados nas equa\u00e7\u00f5es 3 e 4 pode-se calcular o vetor normalizado mostrado nas equa\u00e7\u00f5es 7 e 8. Da mesma forma, pode-se calcular o vetor normalizado mostrado nas equa\u00e7\u00f5es 9 e 10 utilizando-se as equa\u00e7\u00f5es mostradas em 5 e 6.\ncom os sensores inerciais e o algoritmo de reconstru\u00e7\u00e3o de trajet\u00f3rias mostrado na figura 6. Com cada um dos dois conjuntos \u00e9 poss\u00edvel obter uma base ortonormal.\nConsiderando a figura 7, podem-se escrever as equa\u00e7\u00f5es 3, 4, 5 e 6.\n(7)\nV = P - P\n\u20191-GPS J l-GOS 1 O-GPS\n3-GPS\nY\n13-GPS\n(8)\nX\\-GPS XO-GPS\n}\\-gps ~ y^-ops\n^\\-GPS\nV\n. P-GPS\n(3)\n(4)\n(X2-INS X0-INs) '(yi-INS y<>--INs) )Xl-INS ( Xl-INS ~ X0-INS ) \u2019 ( y2-INS ~ y\u2019l)-lNS ) \u2014 ( X2-INS\n(9)\n(5)\n(6)\nv3-a\u00ae\n(10)\nFigura 7 - Trajet\u00f3ria reconstru\u00edda e LandMarks medidos.\nFigure 7 - Reconstructed trajectory and measured LandMarks.\nAssim, pode-se calcular a corre\u00e7\u00e3o aplicada ao alinhamento inicial atrav\u00e9s da equa\u00e7\u00e3o 11.\n(11)\n^IlPYc\t= RC.\t\" V RPY\t\t\t2-GI\u2018S\t^3-gps\t\t\nY L\tRI\u2019 Yc _\t\tY L1RPY J\t\tk\tY L 2 (,1'S\tY J3-GPS J\t\t\nAtrav\u00e9s da diferen\u00e7a de rota\u00e7\u00f5es entre os dois sistemas de coordenadas, um no sistema real medido pelo GPS e o outro na trajet\u00f3ria reconstru\u00edda pelo sistema de medi\u00e7\u00e3o inercial com um alinhamento inicial arbitrado, \u00e9 poss\u00edvel realizar a corre\u00e7\u00e3o do alinhamento inicial com a equa\u00e7\u00e3o 11 e a reconstru\u00e7\u00e3o da nova trajet\u00f3ria corrigida, conforme mostra a figura 8. O resultado desta itera\u00e7\u00e3o pode ser entendido erroneamente como a rota\u00e7\u00e3o de toda a trajet\u00f3ria, mas na verdade \u00e9 a rota\u00e7\u00e3o apenas dos eixos de alinhamento inicial.\nCom base no equacionamento mostrado pode-se expandir a metodologia de corre\u00e7\u00e3o do alinhamento inicial para o espa\u00e7o tridimensional.\nA corre\u00e7\u00e3o do alinhamento inicial \u00e9 aplicada \u00e0 matriz de alinhamento inicial, gerando, assim, uma nova matriz de alinhamento inicial (equa\u00e7\u00e3o 11). Com a matriz de alinhamento inicial corrigida pode-se reconstruir\nnovamente a trajet\u00f3ria. Como existem influ\u00eancias externas que influenciam as medidas dos sensores inerciais, e estas influ\u00eancias est\u00e3o diretamente relacionadas ao alinhamento inicial do m\u00f3dulo com os eixos terrestres, a nova trajet\u00f3ria reconstru\u00edda n\u00e3o ser\u00e1 id\u00eantica \u00e0 trajet\u00f3ria anterior. Portanto, o m\u00e9todo A-E deve ser realizado iterativamente at\u00e9 que a solu\u00e7\u00e3o convirja para um resultado satisfat\u00f3rio.\nOs ensaios experimentais mostraram que, quando s\u00e3o utilizados apenas girosc\u00f3pios e hod\u00f4metros, em poucas itera\u00e7\u00f5es o m\u00e9todo converge.\nA reconstru\u00e7\u00e3o da trajet\u00f3ria mostrada na figura 8 \u00e9 poss\u00edvel devido \u00e0 utiliza\u00e7\u00e3o de apenas hod\u00f4metros e girosc\u00f3pios inerciais, que sofrem poucas influ\u00eancias externas se comparadas com as rota\u00e7\u00f5es do movimento. Desta maneira, independentemente do alinhamento inicial, \u00e9 poss\u00edvel reconstruir uma trajet\u00f3ria semelhante \u00e0 real, o que n\u00e3o seria poss\u00edvel se o algoritmo utilizasse dados de aceler\u00f4metros inerciais.\nDevido a outros fatores de erros, mesmo ap\u00f3s o algoritmo de estima\u00e7\u00e3o do alinhamento inicial convergir, os pontos da trajet\u00f3ria reconstru\u00edda e os pontos do LandMark n\u00e3o ir\u00e3o coincidir (somente em um caso onde n\u00e3o existissem outros fatores de erros al\u00e9m do alinhamento inicial os pontos coincidiriam). Assim, \u00e9 poss\u00edvel obter uma trajet\u00f3ria com o aspecto da figura 9.\nFigura 9 - Trajet\u00f3ria reconstru\u00edda ap\u00f3s primeiro m\u00e9todo do algoritmo A-E.\nFigure 9 - Reconstructed trajectory after the first A-E algorithm method.\nAp\u00f3s a etapa de corre\u00e7\u00e3o do alinhamento inicial utilizando-se tr\u00eas pontos da trajet\u00f3ria e tr\u00eas pontos medidos pelo GPS, ainda \u00e9 poss\u00edvel realizar mais uma corre\u00e7\u00e3o. Esta n\u00e3o \u00e9 mais aplicada em um trecho contido entre tr\u00eas LandMarks, mas sim em um trecho entre dois LandMarks, conforme mostra a figura 10. Esta corre\u00e7\u00e3o simplesmente rotaciona a matriz de alinhamento inicial um \u00e2ngulo a igual ao \u00e2ngulo entre os vetores uINS e vINS no sentido do vetor resultante do produto vetorial entre os dois vetores.\nA rota\u00e7\u00e3o em torno de um eixo pode ser representada principalmente de duas maneiras: a primeira da forma cl\u00e1ssica, atrav\u00e9s de matrizes de rota\u00e7\u00e3o; e a segunda, de maneira mais eficaz e otimizada, atrav\u00e9s de um quaternion. Este, de acordo com Biasi e Gattass (2002 ), pode ser representado como mostra a equa\u00e7\u00e3o 12, onde q \u00e9 o quaternion de rota\u00e7\u00e3o, 77 = (nx,ny,nz) \u00e9 o vetor de rota\u00e7\u00e3o com m\u00f3dulo unit\u00e1rio, e 6 \u00e9 o \u00e2ngulo de rota\u00e7\u00e3o de um ponto P, representado pelo vetor, p> = (px,py,pz), em torno do vetor 77 .\n(12)\nPara realizar a rota\u00e7\u00e3o utilizando um quaternion, \u00e9 necess\u00e1rio representar o vetor 7 atrav\u00e9s do quaternion p = (0,7 )e calcular o produto mostrado na equa\u00e7\u00e3o 13.\nO resultado do produto \u00e9 mostrado na equa\u00e7\u00e3o 14.\npgfi =cos6.p + \u00c7l-cosdy^n.pyn + sen0.^nx p') (14)\nA figura 11 apresenta como s\u00e3o rotacionados os trechos da trajet\u00f3ria.\nA figura 12 mostra a trajet\u00f3ria reconstru\u00edda ap\u00f3s a segunda corre\u00e7\u00e3o do m\u00e9todo A-E.\nAssim, ainda \u00e9 poss\u00edvel a utiliza\u00e7\u00e3o de t\u00e9cnicas de distribui\u00e7\u00e3o linear de erros ao longo da trajet\u00f3ria aplicada aos trechos das trajet\u00f3rias que n\u00e3o podem mais ser modificadas pela estima\u00e7\u00e3o do alinhamento inicial mostrado anteriormente. A t\u00e9cnica aqui empregada considera que os pontos medidos pelo GPS est\u00e3o precisamente corretos. Assim, ap\u00f3s a determina\u00e7\u00e3o do alinhamento inicial com a equa\u00e7\u00e3o 11 e a aplica\u00e7\u00e3o do segundo m\u00e9todo de\ncorre\u00e7\u00e3o do alinhamento inicial mostrado na figura 11, \u00e9 feita uma soma vetorial da posi\u00e7\u00e3o reconstru\u00edda atrav\u00e9s dos sensores inerciais (PNS) com uma componente do erro total relativa ao comprimento da trajet\u00f3ria medido pelos hod\u00f4metros. A figura 13 ilustra de forma bidimensional a distribui\u00e7\u00e3o dos erros ao longo da trajet\u00f3ria que pode ser calculada atrav\u00e9s da equa\u00e7\u00e3o 15.\nV:\t.,\t5\t(15)\n1 corrigida \u2018 INS\t1 \\-INS )\t'\t'\nLTotal\nNormalmente em um sistema inercial de reconstru\u00e7\u00e3o de trajet\u00f3rias, o m\u00e1ximo erro est\u00e1 no ponto mais afastado do in\u00edcio da trajet\u00f3ria. Atrav\u00e9s da utiliza\u00e7\u00e3o desta t\u00e9cnica de distribui\u00e7\u00e3o de erros, o m\u00e1ximo erro, que teoricamente seria igual \u00e0 metade do erro original, estaria entre dois LandMarks.\nA figura 14 mostra um fluxograma resumido do m\u00e9todo A-E.\nAs principais vantagens do m\u00e9todo proposto s\u00e3o:\n\u2022\tErro zero nos pontos de LandMark;\n\u2022\tDetermina\u00e7\u00e3o do alinhamento inicial de forma autom\u00e1tica;\n\u2022\tEstima\u00e7\u00e3o do alinhamento da plataforma inercial em todos os LandMarks;\n\u2022\tN\u00e3o \u00e9 necess\u00e1ria a utiliza\u00e7\u00e3o de aceler\u00f4metros.\nComo principais desvantagens do m\u00e9todo podem-se citar:\n\u2022\tM\u00e9todo FeedForward (n\u00e3o aproveita a informa\u00e7\u00e3o do erro do ciclo passado para o ciclo futuro);\n\u2022\tOs LandMarks n\u00e3o podem ser colineares;\n\u2022\tProcessamento off-line;\n\u2022\tO m\u00e9todo n\u00e3o converge quando s\u00e3o utilizados apenas aceler\u00f4metros para a medi\u00e7\u00e3o do deslocamento.\nensaios em campo para valida\u00e7\u00e3o\nAp\u00f3s a etapa de simula\u00e7\u00e3o computacional, foram realizados v\u00e1rios testes em campo com o sistema de navega\u00e7\u00e3o instalado, entre eles BiciPIG v1, BiciPIG v2, TremPIG e PIG. A figura 15 mostra as etapas de ensaios do sistema do PIG inercial descritas adiante.\nBiciPIG\nPara verificar o software de aquisi\u00e7\u00e3o de dados e de reconstru\u00e7\u00e3o da trajet\u00f3ria, apesar de a bicicleta n\u00e3o conseguir representar perfeitamente o sistema real da\nFigura 13 - Distribui\u00e7\u00e3o linear do erro ao longo da trajet\u00f3ria utilizada no m\u00e9todo A-E.\nFigure 13 - Linear error distribution along the trajectory used in the A-E method.\nFigura 14 - Fluxograma do algoritmo do m\u00e9todo A-E.\nFigure 14 - Flowchart of the A-E algorithm method.\nmedi\u00e7\u00e3o dos dutos, fez-se um ensaio preliminar, embarcando os sensores e os equipamentos de aquisi\u00e7\u00e3o em uma bicicleta chamada de BiciPIG pelos projetistas (fig. 16).\nO ensaio foi realizado no parque Barigui, em Curitiba, onde foi percorrida uma pista de ciclismo com comprimento de aproximadamente 3,3km. Na pista foram localizados quatro LandMarks, sendo que a trajet\u00f3ria come\u00e7a e termina no mesmo ponto. Os LandMarks normalmente s\u00e3o utilizados na fus\u00e3o sensorial para evitar o crescimento dos erros de reconstru\u00e7\u00e3o da trajet\u00f3ria. A figura 17 mostra o trajeto percorrido e os LandMarks posicionados para a vers\u00e3o 1.\nOs ensaios com a bicicleta no parque foram realizados em dois instantes distintos: na primeira vers\u00e3o (v1) com sensores de menor qualidade, e no outro ensaio com sensores de alt\u00edssima qualidade e alguns problemas de rigidez da bicicleta solucionados (v2).\nTremPIG\nDevido a problemas encontrados nos ensaios com a bicicleta, principalmente a n\u00e3o medi\u00e7\u00e3o do grau de liberdade da suspens\u00e3o e a deforma\u00e7\u00e3o do pneu, foi preciso desenvolver um novo ve\u00edculo para testes. Este ve\u00edculo deveria ser o mais r\u00edgido poss\u00edvel e percorrer um trajeto com a maior repetibilidade poss\u00edvel. Atrav\u00e9s destes requisitos chegou-se ao TremPIG (fig. 18), que anda sobre trilhos, desenvolvido e adaptado para o ensaio.\nO trajeto cedido pela ALL (Am\u00e9rica Latina Log\u00edstica) para a realiza\u00e7\u00e3o do ensaio pode ser visualizado na figura 19. No trecho de aproximadamente 1,2km foram posicionados quatro LandMarks, sendo o primeiro e o \u00faltimo no ponto inicial e final, respectivamente.\nPIG\nO ensaio do PIG para a medi\u00e7\u00e3o da tubula\u00e7\u00e3o \u00e9 o ensaio final do equipamento desenvolvido, sendo realizado em uma tubula\u00e7\u00e3o real de transporte de petr\u00f3leo e com o PIG inercial montado de acordo com a configura\u00e7\u00e3o apresentada na figura 20.\nFigura 15 - Ensaios do sistema de navega\u00e7\u00e3o do PIG.\nFigure 15 - Tests of the PIG navigation system.\nFigura 16 - Equipamento preparado para o ensaio do BiciPIG.\nFigura 17 - Trajeto percorrido. Fonte: Google Earth, 2008.\nFigure 16 - The BiciPIG testing equipment.\nFigure 17 - Trajectory. Source: Google Earth, 2008.\nFigura 18 - Equipamento preparado para o ensaio do TremPIG.\nFigura 19 - Imagem a\u00e9rea do trajeto percorrido pelo TremPIG. Fonte: Google Earth, 2008.\nFigure 19 - Aerial view of the TremPIG trajectory. Source: Google Earth, 2008.\nFigure 18 - The TremPIG testing Equipment.\nFigura 20 - Configura\u00e7\u00e3o do PIG para o ensaio.\nFigure 20 -- PIG test configuration.\nFigura 21 - Foto a\u00e9rea da tubula\u00e7\u00e3o medida com o PIG inercial.\nFonte: Google Earth, 2008.\nFigure 21 - Aerial view of the pipe measured with the inertial PIG. Source: Google Earth, 2008.\nA figura 21 mostra uma foto a\u00e9rea da tubula\u00e7\u00e3o, de responsabilidade da Petrobras, medida com o PIG inercial com seus oito LandMarks. A trajet\u00f3ria tem aproximadamente 5,5km.\nA medi\u00e7\u00e3o e a detec\u00e7\u00e3o dos LandMarks foram realizadas de acordo com a figura 22. A figura 23 mostra o lan\u00e7amento do PIG inercial, e a figura 24 apresenta o recebimento do instrumento.\nFigura 22 - Medi\u00e7\u00e3o de um ponto com o GPS diferencial.\nFigure 22 - Measurement of a point with a GPS differential.\nFigura 23 - Lan\u00e7amento do PIG inercial.\nFigure 23 - Launching of inertial PIG.\nFigura 24 -Recebimento do PIG inercial.\nFigure 24 - Arrival of inertial PIG.\nresultados e discuss\u00f5es\nOs itens a seguir mostram os resultados dos ensaios realizados em campo para a valida\u00e7\u00e3o do sistema de reconstru\u00e7\u00e3o de trajet\u00f3rias desenvolvido no decorrer deste trabalho.\nresultados do ensaio do BiciPIG v1\nUtilizando o algoritmo simples de reconstru\u00e7\u00e3o de trajet\u00f3rias, foi poss\u00edvel reconstruir a trajet\u00f3ria mostrada na figura 25. A velocidade m\u00e9dia do ensaio foi de aproximadamente 2,7m/s.\nOs pontos menores e mais claros s\u00e3o os pontos medidos pelo GPS em modo c\u00f3digo cinem\u00e1tico para compara\u00e7\u00e3o; os pontos menores e em preto s\u00e3o os pontos da trajet\u00f3ria reconstru\u00edda; os pontos grandes s\u00e3o medidos pelo GPS em modo diferencial est\u00e1tico; e os pontos em formato de asterisco s\u00e3o um indicativo do ponto reconstru\u00eddo referente ao LandMark detectado.\nO m\u00e1ximo erro encontrado foi de 34,78m, referentes a 1,047% com rela\u00e7\u00e3o ao comprimento da trajet\u00f3ria, cujo ponto est\u00e1 mostrado na figura 26. O erro m\u00e9dio obtido foi de 17,46m.\nCom rela\u00e7\u00e3o aos LandMarks, foram encontrados os erros mostrados na tabela 1.\nLandMark\tErro\tTabela 1 - Erros\n0\t0\tcom rela\u00e7\u00e3o aos\n1\t0,08\tLandMarks.\n2\t20,62\tTable 1 - 1 andMark\n3\t13,91\terrors.\n4\t28,06\t\nFigura 25 - Trajet\u00f3ria reconstru\u00edda pelo algoritmo simples de reconstru\u00e7\u00e3o.\nCom o m\u00e9todo proposto, pode-se ainda melhorar os resultados obtidos, como mostrado na figura 27, onde foi encontrado um erro m\u00e1ximo de 11,21m. O erro m\u00e9dio obtido foi de 5,81 m.\nA figura 28 mostra os erros da trajet\u00f3ria reconstru\u00edda com e sem fus\u00e3o sensorial, quando comparada com os pontos obtidos com o GPS em modo c\u00f3digo cinem\u00e1tico.\nAs t\u00e9cnicas de fus\u00e3o sensorial realizadas de forma off-line permitem que a trajet\u00f3ria reconstru\u00edda coincida exatamente com os pontos de LandMarks medidos\nFigura 27 - Trajet\u00f3ria reconstru\u00edda com fus\u00e3o sensorial.\nFigure 25 - Reconstructed trajectory by the simple reconstruction algorithm.\nFigure 27 - Reconstructed trajectory with sensor merge.\nFigura 26 - Ponto de m\u00e1ximo erro da trajet\u00f3ria reconstru\u00edda sem fus\u00e3o sensorial.\nFigura 28 - Erro da trajet\u00f3ria reconstru\u00edda com fus\u00e3o sensorial.\nFigure 26 - Maximum error point of the reconstructed trajectory without sensor merge.\nFigure 28 - Error of the reconstructed trajectory with sensor merge.\natrav\u00e9s do GPS. Por esta raz\u00e3o, os erros entre a trajet\u00f3ria reconstru\u00edda e os pontos de LandMark s\u00e3o zero.\nA figura 29 mostra um trecho da trajet\u00f3ria que coincide exatamente com o LandMark medido atrav\u00e9s de um GPS diferencial em modo est\u00e1tico com uma incerteza de 10mm.\nresultados do ensaio do BiciPIG v2\nOs resultados dos cinco ensaios realizados (com e sem uso do m\u00e9todo de fus\u00e3o sensorial proposto) est\u00e3o mostrados no gr\u00e1fico da figura 30, e os m\u00e1ximos erros est\u00e3o mostrados na tabela 2. A trajet\u00f3ria reconstru\u00edda\nFigura 29 - Trecho da trajet\u00f3ria reconstru\u00edda sem (\u00e0 esquerda) e com fus\u00e3o sensorial (\u00e0 direita).\nFigure 29 - Excerpt from the reconstructed trajectory without (left) and with sensor merge (right).\nERROS OBTIDOS NOS ENSAIOS DO BICIPIG V2\nO 1\t2\t3\t4\t5\t6\t7\t8\t9\t10\t11\t12 13\t14 15\t16 17\t18\t19\t20\t21\t22 23 24 25\t26 27\t28 29\t30\t31\t32 33 34 35 36 37\t38 39 40 41\t42 43 44 45 46\t47\t48\nPONTO DE CONFER\u00caNCIA\nFigura 30 - Erros obtidos nos ensaios do BiciPIG v2 no parque Barigui.\nFigure 30 - Errors obtained in the BiciPIG v2 tests in the Barigui Park.\nEnsaio\tDist\u00e2ncia medida [m]\tVelocidade m\u00e9dia [m/s]\tErro m\u00e1ximo sem GPS [m]\tErro m\u00e9dio sem GPS [m]\tErro m\u00e1ximo com GPS [m]\tErro m\u00e9dio com GPS [m]\n1\t3378,74\t1,50\t80,03\t32,92\t11,08\t2,73\n2\t3380,5\t1,72\t144,70\t48,68\t12,15\t4,04\n3\t3298,89\t1,81\t65,32\t27,29\t6,91\t2,62\n4\t3300,54\t1,54\t164,61\t51,42\t15,65\t4,40\n5\t3380,79\t2,04\t74,68\t29,97\t12,50\t4,10\nTabela 2 - Resultados dos ensaios no parque Barigui do BiciPIG v2.\nTable 2 - Results of the BiciPIG v2 tests in the Barigui Park.\nem um destes ensaios est\u00e1 mostrada no gr\u00e1fico tridimensional da figura 31.\nA grande maioria dos erros encontrados na trajet\u00f3ria reconstru\u00edda \u00e9 no sentido do eixo ZNED (fig. 32). Um dos fatores que poderia gerar erros no sentido do eixo ZNED \u00e9 a movimenta\u00e7\u00e3o do amortecedor frontal do \"garfo\" da bicicleta, grau de liberdade que n\u00e3o estava sendo medido.\nFigura 31\nFigure 31\n-\tTrajet\u00f3ria reconstru\u00edda do parque Barigui.\n-\tReconstructed trajectory in the Barigui Park.\nFigura 32\nFigure 32\n-\tErros no sistema NED de uma trajet\u00f3ria reconstru\u00edda do parque Barigui.\n-\tNED system errors of a reconstructed trajectory in the Barigui Park.\nresultados do ensaio do TremPIG\nOs resultados dos cinco ensaios realizados no trecho do trilho de trem est\u00e3o mostrados na tabela 3. Dos cinco ensaios foram selecionados tr\u00eas com caracter\u00edsticas similares (todos em descida) para a an\u00e1lise dos erros. Os resultados brutos dos tr\u00eas ensaios selecionados est\u00e3o mostrados na figura 33, e os resultados sem os erros sistem\u00e1ticos est\u00e3o mostrados na figura 34.\nAs figuras 33 e 34 indicam predomin\u00e2ncia de erros sistem\u00e1ticos, que podem ter sidos gerados pela falta de calibra\u00e7\u00e3o dos sensores inerciais. Em todos os ensaios\nhouve predomin\u00e2ncia de erros no sentido do eixo ZNED, conforme mostra a figura 35.\nresultados do ensaio do PIG\nForam realizados dois ensaios na tubula\u00e7\u00e3o. Os dados dos sensores de um destes ensaios est\u00e3o mostrados na figura 36, e a trajet\u00f3ria reconstru\u00edda est\u00e1 mostrada na figura 37. A tabela 4 mostra os resultados parciais destes dois ensaios obtidos apenas com o primeiro e o \u00faltimo LandMark. Os resultados completos, utilizando todos os pontos de GPS, ainda n\u00e3o est\u00e3o dispon\u00edveis.\nEnsaio\tDist\u00e2ncia medida [m]\tVelocidade m\u00e9dia [m/s]\tErro m\u00e1ximo sem GPS [m]\tErro m\u00e9dio sem GPS [m]\tErro m\u00e1ximo com GPS [m]\tErro m\u00e9dio com GPS [m]\n1\t618,95\t3,21\t29,41\t13,02\t2,68\t1,03\n2\t618,17\t3,48\t31,60\t11,55\t10,00\t3,06\n3\t619,61\t3,55\t28,54\t13,77\t3,73\t1,35\n4\t619,38\t3,69\t32,25\t12,99\t8,30\t2,55\n5\t619,25\t3,49\t27,24\t11,68\t3,65\t1,42\nTabela 3 - Resultados dos ensaios no trilho de trem.\nTable 3 - Results of the train track tests.\nFigura 33 - Gr\u00e1fico dos erros obtidos nos ensaios do TremPIG.\nFigure 33 - Graph of the errors obtained in the TremPIG tests.\nFigura 34 - Gr\u00e1fico dos erros obtidos nos ensaios do TremPIG sem erros sistem\u00e1ticos.\nFigure 34 - Graph of the errors obtained in the TremPIG tests without system errors.\nFigura 35 - Erros no sistema NED obtidos nos ensaios do TremPIG.\nFigure 35 - NED system errors obtained from the TremPIG tests.\n-14.00O -\t-100 1........\u25a0............................\u25a0...........................................................................................................................\u25a0..............................  '-0\t-12\n00:00:00\t00:10:00\t00:20:00\t00:30:00\t00:40:00\t00:50:00\t01:00:00\t01:10:00\t01:20:00\t01:30:00\t01:40:00\t01:50:00\t02:00:00\t02:10:00\t02:20:00\t02:30:00\t02:40:00\t02:50:00\t03:00:00 03:08:21\nTempo [s]\nFigura 36 - Dados dos sensores do PIG inercial.\nFigure 36 - Data from the inertial PIG sensors.\nEnsaio\tDist\u00e2ncia medida [m]\tVelocidade m\u00e9dia [m/s]\tErro m\u00e1ximo sem GPS [m]\tErro m\u00e9dio sem GPS [m]\tErro m\u00e1ximo com GPS [m]\tErro m\u00e9dio com GPS [m]\n1\tOd\u00f4metro 1: 5369,5 Od\u00f4metro 2: 5459,5 Od\u00f4metro 3: 5376,0\t0,99\t29,24\t12,08\t5,48\t3,34\n2\tOd\u00f4metro 1: 5359,0 Od\u00f4metro 2: 5458,6 Od\u00f4metro 3: 5239,1\t1,01\t58,66\t20,8\t5,7\t2,74\nTabela 4 - Resultados dos ensaios parciais do PIG inercial.\nTable 4 - Inertial PIG partial test results.\nconclus\u00f5es\tagradecimentos\nDe forma resumida, o trabalho mostrou os sistemas de coordenadas utilizados no processo de navega\u00e7\u00e3o inercial para medi\u00e7\u00e3o de dutos, que s\u00e3o: ECI, ECEF (retangular e geod\u00e9sico), NED e RPY, e tamb\u00e9m a maneira como esses sistemas se relacionam entre si. O trabalho mostrou o algoritmo de reconstru\u00e7\u00e3o proposto e desenvolvido neste projeto e os ensaios para valida\u00e7\u00e3o do mesmo.\nA t\u00e9cnica de reconstru\u00e7\u00e3o de trajet\u00f3rias mostrada neste trabalho permite reconstruir a trajet\u00f3ria de um ve\u00edculo que possua restri\u00e7\u00f5es de movimento transla-cionais (ve\u00edculos terrestres em geral) utilizando apenas girosc\u00f3pios e hod\u00f4metros. Essa t\u00e9cnica pode ser empregada como forma alternativa \u00e0s t\u00e9cnicas comumente encontradas, que derivam de aplica\u00e7\u00f5es espaciais e usam aceler\u00f4metros inerciais. A grande vantagem \u00e9 que, diferentemente de quando s\u00e3o utilizados aceler\u00f4metros, neste sistema n\u00e3o existem influ\u00eancias de for\u00e7as externas, que s\u00e3o muito maiores do que as geradas pelos movimentos do ve\u00edculo, evitando erros muito grandes gerados pela incerteza na determina\u00e7\u00e3o de alguma influ\u00eancia externa, como, por exemplo, a acelera\u00e7\u00e3o gravitacional. Em alguns casos, o emprego de aceler\u00f4metros pode ser justificado pela dificuldade de medi\u00e7\u00e3o de algum grau de liberdade atrav\u00e9s de outro sistema ou sensor de medi\u00e7\u00e3o.\nOs resultados encontrados utilizando-se o algoritmo simples de reconstru\u00e7\u00e3o de trajet\u00f3rias puderam ser melhorados em todos os ensaios com uso do algoritmo proposto de fus\u00e3o com os dados do GPS.\nNo ensaio final, mesmo com os dados dos LandMarks indispon\u00edveis por motivos operacionais, empregando-se apenas o primeiro e o \u00faltimo ponto de GPS que estavam distanciados de mais de 5,3km, o algoritmo possibilitou a medi\u00e7\u00e3o da trajet\u00f3ria com uma incerteza de menos de 5,7m, o que corresponde a aproximadamente 0,1% do comprimento da trajet\u00f3ria. Com a utiliza\u00e7\u00e3o dos oito LandMarks medidos, este erro diminuir\u00e1 ainda mais, o que possibilita usar esta t\u00e9cnica para a medi\u00e7\u00e3o precisa de trajet\u00f3rias terrestres de PIGs inerciais e permite o desenvolvimento de PIGs inerciais nacionais dentro dos padr\u00f5es necess\u00e1rios para uma aplica\u00e7\u00e3o real e competitiva com o mercado internacional.\n\u00c0 Pipeway, que foi a empresa contratante do projeto PIG In\u00e9rcia e que vem mostrando ao longo dos anos a capacidade da ind\u00fastria nacional na linha de inspe\u00e7\u00e3o de dutos.\n\u00c0 Engemovi, empresa que demonstrou total capacidade na execu\u00e7\u00e3o t\u00e9cnica do projeto.\nAo professor Dr. Klaus Janschek, da Universidade de Dresden, pelos conhecimentos transferidos sobre filtragem de Kalman durante sua estadia no Brasil.\nA todos os bolsistas e estagi\u00e1rios que colaboraram direta ou indiretamente para o desenvolvimento do projeto do PIG Inercial.\nAo CNPq, pelas bolsas cedidas para a realiza\u00e7\u00e3o do projeto em desenvolvimento, e ao Sebrae e \u00e0 Finep pelo apoio financeiro que foi essencial para a viabilidade do projeto.\nEste trabalho foi realizado dentro do projeto PIG In\u00e9rcia, coordenado pela Funtef-PR.\nrefer\u00eancias bibliogr\u00e1ficas\nI DE BIASI, S. C.; GATTASS, M. Utiliza\u00e7\u00e3o de quat\u00e9rnios para representa\u00e7\u00e3o de rota\u00e7\u00f5es em 3D. Quat\u00e9rnio e Rota\u00e7\u00f5es, Rio de Janeiro, 2002. Relat\u00f3rio t\u00e9cnico, TecGraf - Pontif\u00edcia Universidade Cat\u00f3lica do Rio de Janeiro, PUCRIO. Dispon\u00edvel em:&lt;http://www.tecgraf.puc-rio. br/~mgattass/Quaternios.pdf>. Acesso em: 03 maio 2007.\nI GPS primer: a student guide to the global positioning system. Los Angeles: The Aerospace Corporation. 2003. 12 p. Dispon\u00edvel em: &lt;http://www.aero.org/education/primers/gps/GPS-Primer.pdf>. Acesso em: 20 mar. 2007.\nI GUERREIRO, J. C. F. Guia b\u00e1sico sobre o GPS: sistema de posicionamento global. In: Sistemas de Posicionamento por Sat\u00e9lite. [S.l.]: Geodesia.org. 2007. Dispon\u00edvel em:&lt;http://www.geodesia.org/>. Acessado em: 17 jun. 2007.\nI KATZ, A. Computational rigid vehicle dynamics. Florida: University of Alabama. 1997. 224 p.\nI LIMA, S. R. S. de. Integra\u00e7\u00e3o GPS/INS utilizando sensores inerciais baseados em sistemas microeletromec\u00e2nicos (MENS).\n2005. 158 p. Tese (Doutorado) - Universidade Federal do Paran\u00e1, Curitiba, 2005.\nI\tSANTANA, D. D. S. Estima\u00e7\u00e3o de trajet\u00f3rias terrestres utilizando unidade de medi\u00e7\u00e3o inercial de baixo custo e fus\u00e3o sensorial. 2005. 138 p. Disserta\u00e7\u00e3o (Mestrado) - Escola Polit\u00e9cnica da Universidade de S\u00e3o Paulo, S\u00e3o Paulo, 2005.\nI SCHUMACHER, A. Integration of a GPS aided Strapdown Inertial Navigation System for Land Vehicles. 2006. 67 p. Disserta\u00e7\u00e3o (Mestrado) - Royal Institute of Technology, School of Electrical Engineering, Stockholm, 2006.\nI TITTERTON, D. H., WESTON, J. L. Strapdown inertial navigation technology. 2.ed. New York: McGraw-Hill, 2004. 558 p.\nbibliografia\nI SANTANA, D. D. S., CAMPOS, V. A., FURUKAWA, F. C. M., MARUYA-\nMA, N. Estima\u00e7\u00e3o de trajet\u00f3rias utilizando sistema de navega\u00e7\u00e3o inercial strapdown. In: CONGRESSO BRASILEIRO DE AUTOM\u00c1TICA, 15., 2004, Gramado. Trabalhos apresentados... Porto Alegre: Universidade Federal do Rio Grande do Sul, 2004.\nI autores\nGustavo Emmendoerfer\nI Engemovi Engenharia de Automa\u00e7\u00e3o e Projetos Mec\u00e2nicos Ltda.\ngustavo@engemovi.com.br\nRicardo Artigas Langer\nI Engemovi Engenharia de Automa\u00e7\u00e3o e Projetos Mec\u00e2nicos Ltda.\nartigas@engemovi.com.br\nGustavo Emmendoerfer \u00e9 t\u00e9cnico em processamento de dados pela SPEI (1998), engenheiro eletricista pela UTFPR (2006) e mestre em Engenharia El\u00e9trica e Inform\u00e1tica Industrial pela UTFPR (2008) na \u00e1rea de medi\u00e7\u00e3o de dutos atrav\u00e9s de sensores inerciais. Desde 2007, \u00e9 s\u00f3cio e gerente de automa\u00e7\u00e3o da Engemovi Engenharia de Automa\u00e7\u00e3o e Projetos Mec\u00e2nicos Ltda., onde trabalha no desenvolvimento de projetos tecnol\u00f3gicos inovadores.\nRicardo Artigas Langer \u00e9 engenheiro de Controle e Automa\u00e7\u00e3o pela PUC-PR (2004) e mestre em Engenharia de Produ\u00e7\u00e3o e Sistemas pela PUC-PR (2007) na \u00e1rea de planejamento de trajet\u00f3ria de rob\u00f4s m\u00f3veis. Desde 2007, \u00e9 s\u00f3cio e gerente de Software da Engemovi Engenharia de Automa\u00e7\u00e3o e Projetos Mec\u00e2nicos Ltda., onde trabalha no desenvolvimento e integra\u00e7\u00e3o de projetos.\nexpanded abstract\nCurrently in Brazil and the rest of the world, there is a strong growth of pipeline networks and the need to maintain them. Subsequently there is an increasing necessity for periodic preventive inspections using equipment known as PIGs. A PIG (Pipeline Inspection Gauge) is an inspection tool used in oil and gas distribution pipelines. It is inserted into the pipeline and propelled by the pressure of the product circulating in the pipe. The PIG identifies anomalies that can impact the integrity of the pipe, such as: oval deformation, dents, illegal installations and corrosion. This early detection helps to avoid structural failures that can cause very serious environmental accidents. To minimize costs and allow a quick section replacement of a detected pipeline anomaly, it is necessary to know the exact geo-referenced location of the defect. Furthermore, it is necessary to detect pipeline displacements caused by land movements. To facilitate this work a tool known as an inertial PIG is employed.\nIn Brazil, there has been a great effort to nationalize pipeline inertial inspection technology, which was\ndominated by international companies. This has made the development of the first Brazilian inertial PIG viable.\nThis paper presents a new robust data processing method to reconstruct the inertial PIG trajectories, which has achieved results of a 0.1% uncertainty factor in field tests to validate the method.\nDuring execution of the inertial PIG project, in partnership with Pipeway Engenharia Ltda., it was necessary to overcome a myriad of technological barriers, including the development of: a robust architecture for the acquisition system of signals from sensors; a data acquisition software; the trajectory reconstruction algorithm; a bench to calibrate inertial sensors; a robust mechanical hardware; as well as conduct several field trials to validate the method and equipment.\nIn order to evaluate and debug problems, tests as close as possible to reality were carried out. To achieve this, the inertial system was mounted first on a bicycle (BiciPIG) and then on a car that ran on railroad tracks (TremPIG). These vehicles facilitated the PIG hardware\nexpanded abstract\nand software development that made it possible to run a test in a real pipeline with the near definite equipment (Inertial PIG)\nThe hardware measuring system for the inertial PIG is basically made up of: three accelerometers, three RLG gyroscopes (Ring Laser Gyroscope), three odometers, a LandMarks detector and a data acquiring and storing system.\nThe trajectory reconstruction technique shown in this study demonstrates the trajectory can be reconstructed of a vehicle that has translational movement restrictions (land vehicles in general) using only gyroscopes and odometers. This technique can be used as an alternative to the commonly found techniques, which are derived from space applications and use inertial accelerometers. The big advantage is that, unlike using accelerometers, in this system there are no external force influences that exceed those generated by the vehicle movements. This avoids errors generated by the high uncertainty to determine some external influence such as, gravitational acceleration.\nTo check the reconstructed trajectory in the pipeline the LandMarks were removed \"one by one\" and the trajectory reconstructed. After each reconstruction the LandMarks removed were used to check the error. In all the tests, the results obtained using the simple trajectory reconstruction algorithm were improved when the algorithm obtained by merging the GPS data was applied.\nIn the final test, using only the first and last GPS points that were more than 5.3 kilometers apart, the algorithm gave the trajectory measurement with less than 5.7m of uncertainty. This corresponds to approximately 0.1% of the trajectory distance. When eight measured LandMarks were used, this error decreased to 3.46m. This corresponds to 1.35m in the test with 20 minutes of navigation. This indicates the technique can be used to accurately measure Brazilian Inertial PIG land trajectories to within the standards needed for a real and competitive application with the international market.\nWhen this work was compared to other studies in this area using measurements with inertial accelerometers, and even those merged with GPS data or odometers, it was concluded that the results obtained here are within the \"state of the art\" of trajectory civil measurement using inertial sensors.\nThe main advantages of the proposed method are:\n\u2022\tZero error in the LandMark points;\n\u2022\tAutomatic definition of the initial alignment;\n\u2022\tInertial platform alignment estimation in all the LandMarks.\n\u2022\tAccelerometers are not necessary."}]}}}