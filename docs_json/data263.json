{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BP.03701"}, {"@name": "filename", "#text": "12_Allan_Charles_Henri_Hofmann.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "| Allan Charles Henri Hofmann\nSistema \u00f3ptico endosc\u00f3pico para inspe\u00e7\u00e3o geom\u00e9trica da uni\u00e3o so dada de dutos /Endoscopic optical system for the geometric inspection of welded joints in pipelines\nresumo\nPALAVRAS-CHAVE:\n\u25a1\tmedi\u00e7\u00e3o\n\u25a1\tinspe\u00e7\u00e3o\n\u25a1\tsolda\n\u25a1\treel lay\nO uso de steel catenary risers (SCR) tem sido considerado um forte candidato para os desenvolvimentos futuros na explora\u00e7\u00e3o de petr\u00f3leo em \u00e1guas ultra-profundas. Estes dutos s\u00e3o utilizados para levar a produ\u00e7\u00e3o de petr\u00f3leo de um po\u00e7o mar\u00edtimo do leito oce\u00e2nico at\u00e9 as plataformas de petr\u00f3leo. Durante a fabrica\u00e7\u00e3o destes dutos, o processo de soldagem das diversas se\u00e7\u00f5es de riser \u00e9 considerado cr\u00edtico. Imperfei\u00e7\u00f5es na solda ou no alinhamento entre as se\u00e7\u00f5es podem se tornar acumuladores de tens\u00e3o e, conseq\u00fcentemente, reduzirem a vida \u00fatil dos SCR. Uma falha nestes dutos pode produzir um s\u00e9rio desastre ambiental. Identificou-se, ent\u00e3o, a\nI abstract\nKEYWORDS:\n\u25a1\tmeasurement\n\u25a1\tinspection\n\u25a1\tweld\n\u25a1\treal lay\nThe use of steel catenary risers (SCR) has been considered a strong candidate for the future development of petroleum exploration in ultra deep water. These pipes are utilized to raise the petroleum production from a marine well on the ocean seabed up to the offshore oil platforms. While manufacturing these pipes, the welding process of the various riser sections is considered critical. Imperfections in the weld or in the alignment of the sections can become stress accumulators and, consequently, reduce the useful life of the SCR. A failure in these pipes can produce a serious environmental disaster. It has therefore been identified, the necessity to develop a system capable of evaluating the geometric quality of the riser's welded joints. This work has developed an optical system capable of characterizing the 3D geometric form of the welded ring in the riser's interior and measure the transversal and angular misalignment of the adjacent welded sections. A geometric evaluation of the weld is made from the measurement. The developed system achieves the internal geometric measurement of the riser's welded joints utilizing images acquired of the pipe's interior. A cloud of thousands of points is generated characterizing the measured surface. The prototype was bench tested, showing itself\nnecessidade de desenvolver um sistema capaz de avaliar a qualidade da geometria interna da uni\u00e3o soldada dos risers. Este trabalho desenvolve um sistema \u00f3ptico capaz de caracterizar a forma geom\u00e9trica 3D do cord\u00e3o de solda no interior do riser e medir o desalinha-mento transversal e angular das se\u00e7\u00f5es soldadas adjacentes. A partir da medi\u00e7\u00e3o \u00e9 realizada uma avalia\u00e7\u00e3o geom\u00e9trica da solda. O sistema desenvolvido realiza a medi\u00e7\u00e3o da geometria interna da uni\u00e3o soldada dos risers utilizando imagens adquiridas no seu interior. Uma nuvem de milhares de pontos \u00e9 gerada caracterizando a superf\u00edcie medida. O prot\u00f3tipo foi testado em uma bancada, mostrando-se plenamente capaz de realizar a medi\u00e7\u00e3o dentro das necessidades metrol\u00f3gicas da aplica\u00e7\u00e3o e produzindo \u00f3timos resultados.\nabstract\nto be perfectly capable of achieving the measurement within the metrological necessities of the application and producing excellent results.\n(Expanded abstract available at the end of the paper)\nintrodu\u00e7\u00e3o\nO Brasil tem se destacado internacionalmente pelas tecnologias de explora\u00e7\u00e3o de petr\u00f3leo em \u00e1guas profundas, sendo atualmente l\u00edder mundial nesta \u00e1rea. As tecnologias de perfura\u00e7\u00e3o, completa\u00e7\u00e3o e produ\u00e7\u00e3o dos po\u00e7os de petr\u00f3leo devem estar em constante desenvolvimento para atender \u00e0s exig\u00eancias dos ambientes subaqu\u00e1ticos de alt\u00edssima press\u00e3o.\nCom o aumento da explora\u00e7\u00e3o de po\u00e7os em \u00e1guas ultra-profundas, os risers r\u00edgidos, conhecidos como steel catenary risers (SCR), t\u00eam sido mais indicados para este tipo de ambiente do que os risers flex\u00edveis por oferecem caracter\u00edsticas mec\u00e2nicas mais prop\u00edcias para as altas press\u00f5es presentes neste ambiente do que os flex\u00edveis.\nDurante a fabrica\u00e7\u00e3o dos SCR, se\u00e7\u00f5es de, aproximadamente, 12 m s\u00e3o unidas e soldadas. As se\u00e7\u00f5es rec\u00e9m-soldadas s\u00e3o bobinadas num carretel, e uma nova se\u00e7\u00e3o \u00e9 soldada na extremidade aberta do riser. A soldagem \u00e9 um processo cr\u00edtico que ter\u00e1 influ\u00eancia na resist\u00eancia \u00e0 fadiga dos risers. Torna-se necess\u00e1rio, ent\u00e3o, desenvolver m\u00e9todos de avalia\u00e7\u00e3o da qualidade geom\u00e9trica da solda, de modo a garantir suas qualidades mec\u00e2nicas relacionadas \u00e0 forma. Uma falha mec\u00e2nica em um destes componentes, al\u00e9m de trazer grandes perdas na produ\u00e7\u00e3o de petr\u00f3leo de um po\u00e7o, traz preju\u00edzos incalcul\u00e1veis ao meio ambiente.\nEste artigo trata do desenvolvimento de um sistema de medi\u00e7\u00e3o capaz de caracterizar a qualidade geom\u00e9trica das soldas entre as diversas se\u00e7\u00f5es de risers durante sua fabrica\u00e7\u00e3o. Optou-se por construir um prot\u00f3tipo dimensionado para medir a geometria interna de uni\u00f5es soldadas de risers de 6\" de di\u00e2metro (152,4 mm). Os defeitos geom\u00e9tricos apresentados s\u00e3o:\n\u2022\tdesalinhamentos transversais entre as se\u00e7\u00f5es de riser;\n\u2022\tdesalinhamentos angulares;\n\u2022\texcesso de penetra\u00e7\u00e3o do cord\u00e3o de solda;\n\u2022\tfalta de fus\u00e3o do cord\u00e3o de solda.\nTais defeitos podem caracterizar um concentrador de tens\u00f5es na geometria do duto, reduzindo a vida em\nfadiga destes componentes. O artigo aborda o conceito de medi\u00e7\u00e3o, as adapta\u00e7\u00f5es e inova\u00e7\u00f5es realizadas e os resultados obtidos nos testes de avalia\u00e7\u00e3o, que comprovam a efic\u00e1cia do sistema idealizado e implementado como um prot\u00f3tipo.\nestereoscopia cl\u00e1ssica\nPara a caracteriza\u00e7\u00e3o da geometria da solda, \u00e9 necess\u00e1rio realizar a medi\u00e7\u00e3o de uma grande quantidade de pontos sobre a superf\u00edcie interna do duto. M\u00e9todos baseados em apalpa\u00e7\u00e3o mec\u00e2nica de pontos, como os LVDT (linear variable diferential transformers), geram nuvens de pontos com uma incerteza muito baixa. Por\u00e9m, com uma densidade reduzida e insuficiente para a caracteriza\u00e7\u00e3o dos defeitos geom\u00e9tricos do cord\u00e3o de solda.\nOptou-se por utilizar a estereoscopia como t\u00e9cnica de medi\u00e7\u00e3o devido \u00e0 possibilidade de medir uma enorme quantidade de pontos, necess\u00e1rios para a caracteriza\u00e7\u00e3o do cord\u00e3o de solda, com uma incerteza compat\u00edvel com os objetivos deste trabalho.\nO processo de medi\u00e7\u00e3o de coordenadas tridimensionais por estereoscopia n\u00e3o \u00e9 novo. Envolve a obten\u00e7\u00e3o de informa\u00e7\u00f5es relativas \u00e0 geometria de objetos em an\u00e1lise, utilizando-se informa\u00e7\u00f5es extra\u00eddas de m\u00faltiplas imagens do mesmo, obtidas de diferentes \u00e2ngulos de observa\u00e7\u00e3o.\nPara realizar uma medi\u00e7\u00e3o por estereoscopia, \u00e9 necess\u00e1rio conhecer a disposi\u00e7\u00e3o geom\u00e9trica das c\u00e2meras utilizadas na aquisi\u00e7\u00e3o das imagens. Tamb\u00e9m \u00e9 preciso conhecer a correspond\u00eancia entre os pontos das imagens, ou seja, determinar os pontos nas imagens que s\u00e3o a representa\u00e7\u00e3o de um mesmo ponto da cena fotografada. Estes pontos ser\u00e3o reconhecidos como hom\u00f3logos.\nmodelo matem\u00e1tico\nA medi\u00e7\u00e3o por estereoscopia envolve a utiliza\u00e7\u00e3o de um modelo matem\u00e1tico que descreve a forma\u00e7\u00e3o de imagem por meio de uma c\u00e2mera. Tal modelo \u00e9 bem apresentado e descrito por Hartley e Zisserman (2003). Este modelo considera que uma c\u00e2mera de aquisi\u00e7\u00e3o de imagens pode ser descrita por um plano imagem no\nqual a cena \u00e9 projetada, como um centro de proje\u00e7\u00e3o que representa os efeitos da lente objetiva da c\u00e2mera sobre os raios de luz vindos da cena.\nA figura 1 ilustra a forma\u00e7\u00e3o da imagem de um ponto X no espa\u00e7o. O raio de luz vindo deste ponto deve passar pelo centro de proje\u00e7\u00e3o C e incidir sobre o plano imagem n, formando sua proje\u00e7\u00e3o X. O ponto P0 \u00e9 chamado de ponto principal e \u00e9 a proje\u00e7\u00e3o ortogonal de C sobre n.\nUtilizando-se coordenadas homog\u00eaneas (ver Ap\u00eandice) para estes pontos, \u00e9 poss\u00edvel descrever matematicamente a forma\u00e7\u00e3o de imagem por meio de uma matriz 3 x 4 que, quando multiplicada pelas coordenadas 3D de um ponto da cena, resulta em suas coordenadas 2D, na imagem, conforme a equa\u00e7\u00e3o 1.\nx = P- % global\t(1)\nOs elementos da matriz P envolvem as caracter\u00edsticas intr\u00ednsecas da c\u00e2mera, como o comprimento focal utilizado e o ponto principal da imagem, al\u00e9m de caracter\u00edsticas extr\u00ednsecas como sua posi\u00e7\u00e3o e orienta\u00e7\u00e3o no sistema de coordenadas adotado.\nPossuindo duas c\u00e2meras e conhecendo suas matrizes de proje\u00e7\u00e3o, \u00e9 poss\u00edvel determinar as coordenadas 3D de um ponto a partir das coordenadas de suas proje\u00e7\u00f5es nas imagens: os pontos hom\u00f3logos.\nPara isso, utiliza-se a pseudo-inversa da matriz P para calcular o raio de luz que se projeta sobre o ponto da imagem. Utilizando o seu hom\u00f3logo em uma segunda imagem, calcula-se outro raio de luz. Cruzando estes raios \u00e9 poss\u00edvel determinar a coordenada 3D do ponto (fig. 2). Este processo \u00e9 conhecido como triangula\u00e7\u00e3o.\ndetermina\u00e7\u00e3o dos pontos hom\u00f3logos\nA determina\u00e7\u00e3o das coordenadas 3D dos pontos da imagem depende da correta identifica\u00e7\u00e3o dos pontos hom\u00f3logos. Esta identifica\u00e7\u00e3o deve ser feita somente por meio da an\u00e1lise das imagens e do conhecimento da geometria epipolar da montagem estereosc\u00f3pica que \u00e9 bem apresentada por Hartley e Zisserman (2003) e Luong e Faugeras (2004).\nO conhecimento da geometria epipolar simplifica a identifica\u00e7\u00e3o dos pontos hom\u00f3logos. Dado um ponto em uma das imagens, a procura de seu hom\u00f3logo na outra imagem \u00e9 restrita a uma procura unidimensional ao longo de uma linha apenas: a linha epipolar correspondente a este ponto. A figura 3 ilustra a linha epipolar referente a um ponto na imagem da esquerda. Para qualquer posi\u00e7\u00e3o poss\u00edvel deste ponto no espa\u00e7o (X', X\" ou X'\"), sua proje\u00e7\u00e3o na imagem da direita est\u00e1 restrita a esta linha. O plano que formado pelo ponto 3D e por suas proje\u00e7\u00f5es \u00e9 conhecido com plano epipo-\nlar. Suas interse\u00e7\u00f5es com o plano-imagem formam as linhas epipolares.\nPara que se fa\u00e7a a identifica\u00e7\u00e3o dos pontos hom\u00f3logos nas imagens, \u00e9 necess\u00e1rio que se crie uma assinatura individual a cada ponto da cena. Deste modo, \u00e9 poss\u00edvel localizar a sua proje\u00e7\u00e3o em ambas as imagens, viabilizando assim a triangula\u00e7\u00e3o deste ponto. Um m\u00e9todo bastante eficaz para a cria\u00e7\u00e3o de tal assinatura \u00e9 a proje\u00e7\u00e3o de luz estruturada sobre a cena a ser medida. Esse m\u00e9todo, descrito em mais detalhes por Fantin (1999), possibilita a gera\u00e7\u00e3o de um c\u00f3digo \u00fanico para cada ponto da imagem: a sua fase.\nProjetam-se quatro padr\u00f5es luminosos senoidais sobre a cena a ser medida. Os quatro padr\u00f5es s\u00e3o espacialmente defasados de 90\u00b0 entre si. Para isso, adquire-se uma imagem para cada proje\u00e7\u00e3o. Um exemplo de padr\u00e3o senoidal pode ser visto na figura 4, assim como seu perfil de luminosidade e de fase.\nCom estas imagens \u00e9 poss\u00edvel criar um mapa de fases relativas para cada \u00e2ngulo de vis\u00e3o. Diz-se que as fases s\u00e3o relativas por apresentarem valores entre 0 e 2n rad para cada per\u00edodo projetado. \u00c9 necess\u00e1rio transformar os mapas de fases relativas em absolutas usando t\u00e9cnicas de processamento de imagens. Esta opera\u00e7\u00e3o \u00e9 feita determinando-se os m\u00faltiplos inteiros de 2n, que devem ser somados \u00e0s fases relativas para remover as descontinuidades (fig. 5).\nFigura 5 - Determina\u00e7\u00e3o da ordem de franja absoluta a partir de um mapa de fases relativas.\nFigure 5 - Determination of the absolute fringe order from one of the relative phase maps.\nDentre os m\u00e9todos dispon\u00edveis na literatura para a determina\u00e7\u00e3o do valor absoluto da fase, destaca-se aquele apresentado por Zumbrunn (1987). Este m\u00e9todo \u00e9 denominado de m\u00e9todo do batimento, onde o autor prop\u00f5e a utiliza\u00e7\u00e3o de mapas de fase gerados a partir de dois padr\u00f5es de franjas com freq\u00fc\u00eancias levemente diferentes (fig. 6).\n^x.y =\t= fase do batimento;\nint (x)\t= uma fun\u00e7\u00e3o que retorna o\nn\u00famero inteiro mais pr\u00f3ximo de x.\nO mapa de fases absolutas, em conjun\u00e7\u00e3o com a geometria epipolar das imagens, cria uma assinatura para cada ponto da cena. Esta assinatura possibilita a identifica\u00e7\u00e3o dos v\u00e1rios pares de pontos hom\u00f3logos sobre as imagens, de forma muito r\u00e1pida e precisa. Cada par de pontos hom\u00f3logos d\u00e1 origem a um ponto 3D no espa\u00e7o e, assim, uma nuvem de pontos relativa \u00e0 geometria da cena m\u00e9dia \u00e9 determinada.\nestereoscopia radial: um novo conceito\nO sistema desenvolvido possui requisitos especiais que n\u00e3o podem ser atendidos pela estereoscopia cl\u00e1ssica. Devido \u00e0 necessidade de medir a geometria da superf\u00edcie interna dos risers, a montagem estereosc\u00f3pica tradicional teve de ser repensada, assim como sua modelagem matem\u00e1tica. A figura 7 ilustra a vista em corte do novo conceito desenvolvido.\nA fase do batimento entre as franjas \u00e9 utilizada para calcular a fase absoluta de cada ponto do mapa de fases, conforme a equa\u00e7\u00e3o 2:\n\n\u00aex,y = C +2n.int\n2n\nOnde:\n= valor absoluto de fase em determinado x,y\npixel para o mapa de n franjas;\n= valor de fase relativa para o mapa com n franjas;\n(2)\nFigura 7 - Conceito estereosc\u00f3pico endosc\u00f3pico desenvolvido.\nFigure 7 - Concept of the developed endoscopic stereoscope.\nAs c\u00e2meras de captura de imagem s\u00e3o utilizadas em oposi\u00e7\u00e3o, de modo a gerar dois pontos de vista da mesma \u00e1rea da superf\u00edcie interna do duto. As c\u00e2meras possuem lentes c\u00f4nicas especialmente projetadas que promovem um melhor aproveitamento da resolu\u00e7\u00e3o do sensor de imagem da c\u00e2mera, aumentando a resolu\u00e7\u00e3o espacial do sistema.\nEsta configura\u00e7\u00e3o com simetria radial faz com que o volume de medi\u00e7\u00e3o do sistema seja aproximadamente cil\u00edndrico. Desta maneira, posicionando-se o sistema na regi\u00e3o da solda, \u00e9 poss\u00edvel realizar, de uma s\u00f3 vez, a medi\u00e7\u00e3o de toda sua geometria interna.\ngeometria epipolar radial\nComo as c\u00e2meras do sistema encontram-se alinhadas com o eixo principal da montagem estereosc\u00f3pica, os epipolos das imagens encontram-se sobre os pontos principais. Aliando isso ao fato de que o prot\u00f3tipo possui simetria radial, o efeito \u00e9 que as linhas epipolares s\u00e3o distribu\u00eddas radialmente ao longo da imagem. Dado um par de pontos hom\u00f3logos, o ponto 3D que originou suas proje\u00e7\u00f5es encontra-se obrigatoriamente sobre o plano epipolar daqueles pontos. A figura 8 ilustra alguns planos epipolares (em verde) e como um raio de luz (em vermelho) atravessa os diver\nsos elementos \u00f3pticos e forma uma imagem sobre o sensor da c\u00e2mera. Nota-se que neste raio de luz est\u00e1 sempre contido o plano epipolar ao qual pertence sua proje\u00e7\u00e3o.\nmodelo computacional\nDevido \u00e0 utiliza\u00e7\u00e3o de uma lente c\u00f4nica na forma\u00e7\u00e3o da imagem, o modelo matem\u00e1tico de forma\u00e7\u00e3o de imagem cl\u00e1ssico n\u00e3o p\u00f4de ser utilizado. Por isso, um novo modelo computacional teve de ser criado. Este modelo descreve a forma\u00e7\u00e3o da imagem por meio de um conjunto convencional de c\u00e2mera e lente objetiva em conjun\u00e7\u00e3o com uma lente c\u00f4nica.\nA geometria epipolar da configura\u00e7\u00e3o desenvolvida permite que o novo modelo computacional trace o caminho \u00f3ptico do raio de luz atrav\u00e9s dos elementos \u00f3pticos em cada plano epipolar. Trata-se de um modelo bidimensional. Dados dois pontos hom\u00f3logos pertencentes a um plano epipolar, o modelo considera que seu ponto 3D possui a mesma coordenada 0 de suas proje\u00e7\u00f5es. Calculam-se, ent\u00e3o, suas coordenadas z e r, considerando o sistema de coordenadas cil\u00edndricas ilustrado na figura 8.\nO modelo computacional considera as posi\u00e7\u00f5es relativas dos elementos \u00f3pticos em cada plano epipolar.\nFigura 8 - Planos epipolares da configura\u00e7\u00e3o desenvolvida e caminho \u00f3ptico de um raio de luz.\nFigure 8 -Epipolar planes of the developed configuration and the optical routing of a ray of light.\nA figura 9 ilustra a triangula\u00e7\u00e3o de v\u00e1rios pontos hom\u00f3logos a partir das imagens obtidas por cada c\u00e2mera. Nota-se a altera\u00e7\u00e3o do caminho \u00f3ptico produzido pela lente c\u00f4nica, promovendo melhor aproveitamento do sensor de imagem para a an\u00e1lise da zona de interesse. O modelo tamb\u00e9m considera eventuais erros de alinhamento.\nilumina\u00e7\u00e3o estruturada endosc\u00f3pica\nEm montagens estereosc\u00f3picas cl\u00e1ssicas \u00e9 poss\u00edvel utilizar um projetor multim\u00eddia para gerar a ilumina\u00e7\u00e3o estruturada. Desta maneira, torna-se f\u00e1cil produzir os deslocamentos de fase necess\u00e1rios \u00e0s proje\u00e7\u00f5es. Esta op\u00e7\u00e3o n\u00e3o existe na montagem proposta devido \u00e0s restri\u00e7\u00f5es de espa\u00e7o no interior do duto e \u00e0 disposi\u00e7\u00e3o cil\u00edndrica. Desenvolveu-se, ent\u00e3o, um novo sistema de ilumina\u00e7\u00e3o capaz de produzir as proje\u00e7\u00f5es necess\u00e1rias e, assim, ser acomodado no ex\u00edguo espa\u00e7o dispon\u00edvel.\nO sistema de ilumina\u00e7\u00e3o gera dois padr\u00f5es de franjas senoidais sobre a superf\u00edcie interna do duto: um padr\u00e3o com N franjas e outro com N-1 franjas para a determina\u00e7\u00e3o da fase absoluta pelo m\u00e9todo do batimento.\nA proje\u00e7\u00e3o de um padr\u00e3o de franjas perpendiculares \u00e0s linhas epipolares possibilita a identifica\u00e7\u00e3o dos pontos hom\u00f3logos. Para gerar esta proje\u00e7\u00e3o, utiliza-se uma l\u00e2mpada al\u00f3gena de pequeno filamento, um filme transparente cil\u00edndrico, um motor de passos e componentes de fixa\u00e7\u00e3o. No filme transparente s\u00e3o impressas franjas senoidas. Ao ser posicionada ao redor da l\u00e2mpada (fig. 10), a sombra dos padr\u00f5es impressos no filme \u00e9 projetada no interior do duto.\nO padr\u00e3o impresso poderia ser senoidal e ter o formato de uma h\u00e9lice. Desta maneira, ao girar-se o filme ao redor de seu eixo, o efeito produzido nas franjas\nprojetadas seria o de um avan\u00e7o de fase, semelhante aos filetes de rosca de um parafuso ao ser aparafusado. Esta rota\u00e7\u00e3o pode ser produzida por um motor de passos controlado pelo software do prot\u00f3tipo.\nFigura 10 - Sistema de ilumina\u00e7\u00e3o em corte parcial.\nFigure 10 - Illumination system in a partial cut.\nRealizando-se rota\u00e7\u00f5es de 90o com o motor, \u00e9 poss\u00edvel produzir as quatro proje\u00e7\u00f5es necess\u00e1rias para o c\u00e1lculo dos mapas de fase. De fato, para a determina\u00e7\u00e3o da fase absoluta pelo m\u00e9todo do batimento, \u00e9 necess\u00e1rio projetar dois padr\u00f5es com n\u00fameros de franjas diferentes. Para isso, uma evolu\u00e7\u00e3o do conceito \u00e9 utilizada.\nO filme cil\u00edndrico possui cinco franjas em h\u00e9lice numa das metades (180\u00b0) e quatro franjas em h\u00e9lice na outra metade. O passo dessas h\u00e9lices \u00e9 tal que para se realizar o avan\u00e7o de 90o na fase das franjas projetadas o motor de passos deve rotacionar 45o. Realizando-se oito proje\u00e7\u00f5es com rota\u00e7\u00f5es consecutivas de 45o, \u00e9 poss\u00edvel obter as imagens necess\u00e1rias para o c\u00e1lculo dos\nf*r\u00a3fl>fo\u00cd\u00dc\nFigura 11 - Seq\u00fc\u00eancia de proje\u00e7\u00f5es realizadas pelo sistema de ilumina\u00e7\u00e3o.\nFigure 11 - Sequence of projections performed by the illumination system.\ndois mapas de fase, um para cada padr\u00e3o de franjas. A figura 11 ilustra como estas proje\u00e7\u00f5es s\u00e3o vistas pelas c\u00e2meras do sistema.\nprot\u00f3tipo desenvolvido\nO prot\u00f3tipo desenvolvido consiste em dois subsis-temas de aquisi\u00e7\u00e3o de imagem compostos por uma c\u00e2mera digital padr\u00e3o IEEE1394 (firewire) (Hoffman e Moore, 1995) de alta resolu\u00e7\u00e3o, uma lente objetiva de comprimento focal de 8mm e uma lente c\u00f4nica. Estes elementos s\u00e3o unidos por componentes de fixa\u00e7\u00e3o. A figura 12 ilustra o subsistema montado.\nEste subsistema forma a imagem de uma regi\u00e3o anelar das paredes internas do duto no qual est\u00e1 inserido. Utilizando-se dois destes subsistemas em oposi\u00e7\u00e3o, \u00e9 poss\u00edvel obter duas imagens da \u00e1rea de interesse de \u00e2ngulos diferentes. Um tubo de acr\u00edlico \u00e9 utilizado para posicionar e fixar os dois subsistemas.\nNo interior do tubo de acr\u00edlico, e entre os dois sub-sistemas de aquisi\u00e7\u00e3o, est\u00e1 posicionado o sistema de ilumina\u00e7\u00e3o (fig. 10).\nA figura 13 ilustra o prot\u00f3tipo constru\u00eddo. Nota-se que uma linha de cabos deve passar necessariamente em frente ao campo de vis\u00e3o do sistema, provocando a perda de uma pequena por\u00e7\u00e3o do volume de medi\u00e7\u00e3o.\nFigura 12 - Subsistema de aquisi\u00e7\u00e3o de imagens.\nFigure 12 - Image acquisition subsystem.\nFigura 13 - Prot\u00f3tipo montado.\nFigure 13 - Mounted prototype.\nsoftware\nO software do prot\u00f3tipo realiza as tarefas de aquisi\u00e7\u00e3o, processamento e gera\u00e7\u00e3o de resultados de medi\u00e7\u00e3o. Ap\u00f3s o correto posicionamento do prot\u00f3tipo no interior do duto, a medi\u00e7\u00e3o \u00e9 iniciada e o software coordena a aquisi\u00e7\u00e3o de imagens e a proje\u00e7\u00e3o dos padr\u00f5es luminosos. A figura 14 ilustra duas imagens (de um total de oito) consecutivas obtidas pelo prot\u00f3tipo, onde \u00e9 poss\u00edvel notar a rota\u00e7\u00e3o do padr\u00e3o projetado e o conseq\u00fcen-te avan\u00e7o de fase ao longo de uma linha radial.\nA partir destas imagens, os mapas de fase para cada\nsubsistema de aquisi\u00e7\u00e3o s\u00e3o calculados. Estes mapas de fase s\u00e3o utilizados no processo de triangula\u00e7\u00e3o. Dado um par de coordenadas (z, 0), calcula-se o raio para aquele ponto da superf\u00edcie interna do duto por meio de um processo iterativo. Tem-se como base que as diferentes proje\u00e7\u00f5es daquele ponto - uma em cada imagem - devem ter a mesma fase absoluta. A figura 15 ilustra a compara\u00e7\u00e3o entre dois perfis de fase de um par de linhas epipolares, apresentando um par de pontos hom\u00f3logos que pode ser utilizado para triangula\u00e7\u00e3o. Por meio da posi\u00e7\u00e3o radial dos pontos hom\u00f3logos, o modelo computacional pode triangular a posi\u00e7\u00e3o 3D do ponto na cena.\nFigura 14 - Duas proje\u00e7\u00f5es consecutivas adquiridas pelo prot\u00f3tipo.\nFigure 14 - Two consecutive projections acquired by the prototype.\nFigura 15 - Par de pontos hom\u00f3logos obtidos por meio dos perfis de fase de um par de linhas epipolares.\nFigure 15 - Pair of homologous points obtained through the phase profiles of a pair of epipolar lines.\nMostra 3D\nSalva COP\nAquisi\u00e7\u00e3o | FaseAbsoluta | Mapas de Fase Resultados ]\nDi\u00e2metro M\u00e9dio:\n153,49 mm\nDesai, Angular X:\nDesai. Angular Y:\n-0,10 graus\nDesai. Transversal X: 0,09 mm\nDesai. Transversal Y: 0,00 mm\nI- Marca regi\u00e3o da solda\n88,022\nFigura 16 - Tela de resultados do software depois da medi\u00e7\u00e3o de um cone.\nFigure 16 - Software results screen after the measurement of a cone.\nA partir da triangula\u00e7\u00e3o de v\u00e1rios pontos hom\u00f3logos, o software cria uma nuvem de pontos cil\u00edndrica contendo tipicamente 50.000 pontos. Para o c\u00e1lculo dos desalinhamentos entre as se\u00e7\u00f5es de riser, o software ajusta um cilindro matem\u00e1tico a cada por\u00e7\u00e3o da nuvem de pontos (uma por\u00e7\u00e3o para cada lado do cord\u00e3o de solda). Os par\u00e2metros destes cilindros matem\u00e1ticos s\u00e3o utilizados para o c\u00e1lculo dos desalinhamentos transversais e angulares.\nNa tela de resultados, o software exp\u00f5e ao usu\u00e1rio os valores de desalinhamento calculados. Uma representa\u00e7\u00e3o 3D da nuvem de pontos \u00e9 gerada com o aux\u00edlio da biblioteca aberta de computa\u00e7\u00e3o gr\u00e1fica denominada OpenGL. Utiliza-se, assim, uma escala de cores falsas para evidenciar os defeitos geom\u00e9tricos da solda. A figura 16 ilustra a tela de resultados do software. O usu\u00e1rio pode interagir com a imagem 3D da nuvem da mesma forma que num software de CAD 3D tradicional.\ntestes e avalia\u00e7\u00e3o\nTr\u00eas experimentos foram realizados para testar a capacidade de medi\u00e7\u00e3o do prot\u00f3tipo:\nidentifica\u00e7\u00e3o de defeitos na solda\nPara avalia\u00e7\u00e3o da capacidade de visualiza\u00e7\u00e3o dos defeitos de solda, realizou-se a medi\u00e7\u00e3o de uma uni\u00e3o soldada de duto utilizando-se o prot\u00f3tipo desenvolvido. A solda possui um cord\u00e3o com tr\u00eas regi\u00f5es distintas: uma regi\u00e3o com deposi\u00e7\u00e3o de solda regular, uma com excesso de penetra\u00e7\u00e3o e outra com falta de fus\u00e3o.\nA nuvem de pontos resultante da medi\u00e7\u00e3o desta amostra pode ser visualizada na figura 17. A figura 18 exibe, em detalhe, as zonas com os defeitos de excesso de penetra\u00e7\u00e3o e a falta de fus\u00e3o. A escala de cores\nFigura 17 - Nuvem de pontos gerada na medi\u00e7\u00e3o, visualizada em 3D com escala de cores falsas.\nFigure 17 - Cloud of points generated by the measurement, 3D view with scale of fake colors.\nFigura 18 - Detalhe da zona com excesso de penetra\u00e7\u00e3o em detalhe, \u00e0 esquerda, e com falta de fus\u00e3o, \u00e0 direita.\nFigure 18- Detail of a zone with excessive penetration on the left and fusion failure on the right.\nfalsas utilizada, onde as cores quentes denotam raios menores e as cores frias os raios maiores auxiliam na identifica\u00e7\u00e3o dos defeitos de solda. Os defeitos puderam ser identificados claramente, sendo que a escala de cores falsas auxilia esta identifica\u00e7\u00e3o.\nmedi\u00e7\u00e3o de desalinhamentos transversais\nPara a avalia\u00e7\u00e3o da medi\u00e7\u00e3o de desalinhamentos transversais utilizou-se uma bancada capaz de produzi-los entre se\u00e7\u00f5es de riser de cerca de 100 mm de comprimento. Os deslocamentos entre as se\u00e7\u00f5es s\u00e3o produzidos por uma mesa de deslocamento microm\u00e9trica devidamente calibrada.\nComo o alinhamento da bancada n\u00e3o \u00e9 perfeito, as medi\u00e7\u00f5es realizadas pelo prot\u00f3tipo s\u00e3o relativas \u00e0 medi\u00e7\u00e3o da posi\u00e7\u00e3o inicial da bancada, onde se define o valor de refer\u00eancia zero para o desalinhamento.\nCom esta bancada foram realizados diversos desalinhamentos controlados, que tamb\u00e9m foram medidos com o prot\u00f3tipo. A figura 19 ilustra o gr\u00e1fico tra\u00e7ado com os valores de refer\u00eancia no eixo das abscissas e os respectivos valores medidos nas ordenadas.\nDesalinhamentos transversais\t\n2,0\t\n\t\n1 E\t1,5 E\t10-\t\n\t\n\u25a0o\tu\u2019\u00b0 I\tOi\t\n(D E -2,5\t-2,0\t-1,5\t-1,0\t0,5\t1,0\t1,5\t2,0\t2,5\ntn\t-0\u20195 (D\t\nI -\t\u2019 \u00abS\tS'\t-1 5\t\n\t\n-2,5 Valores de re\ter\u00eancia (mm)\nFigura 19 - Gr\u00e1fico dos valores medidos em fun\u00e7\u00e3o dos valores de refer\u00eancia para os desalinhamentos transversais.\nFigure 19 - Graph of measurement values in relation to the reference values of the transversal misalignments.\nA curva ajustada a estes pontos aparece na equa\u00e7\u00e3o 3:\ny = 1,004 x + 0,003\n(3)\nValor de refer\u00eancia\t-2,000\t-1,500\t-1,000\t-0,500\t0,000\t0,500\t1,000\t1,500\t2,000\nValor medido\t-1,999\t-1,480\t-0,990\t-0,469\t0,000\t0,508\t1,020\t1,470\t1,970\nErro\t0,001\t0,020\t0,010\t0,031\t0,000\t0,008\t0,020\t-0,030\t-0,030\nTabela 1 - Erros de medi\u00e7\u00e3o para o desalinhamento transversal entre se\u00e7\u00f5es de risers.\nTable 1 - Measurement errors for the transversal misalignment between riser sections.\nPela equa\u00e7\u00e3o da reta ajustada, pode-se concluir que o erro de ganho \u00e9 de apenas 0,4% e a tend\u00eancia de cerca de 3pm. O coeficiente de correla\u00e7\u00e3o para o ajuste \u00e9 de 0,9998, acusando uma forte tend\u00eancia linear do sistema e um erro aleat\u00f3rio muito baixo. Os valores de erro em cada ponto est\u00e3o na tabela 1 (valores em mm).\nmedi\u00e7\u00e3o de desalinhamentos angulares\nPara a avalia\u00e7\u00e3o da capacidade de medi\u00e7\u00e3o de desalinhamentos angulares utilizou-se uma bancada semelhante \u00e0 anterior. Por\u00e9m, em vez de uma mesa de deslocamentos lineares, utilizou-se uma mesa de deslocamentos angulares. Esta mesa possui uma resolu\u00e7\u00e3o de 1'. Ou seja, 0,016\u00b0. Analogamente ao experi\nmento anterior, foram realizados v\u00e1rios desalinhamen-tos angulares conhecidos que foram medidos com o sistema.\nMais uma vez, o valor medido na posi\u00e7\u00e3o 0\u00b0 foi utilizado como refer\u00eancia para as medi\u00e7\u00f5es. Um gr\u00e1fico dos valores medidos, em fun\u00e7\u00e3o dos valores de refer\u00eancia, pode ser visto na figura 20.\nA curva ajustada a estes pontos est\u00e1 na equa\u00e7\u00e3o 4:\ny = 0, 927 x + 0,089\t(4)\nDesta maneira, o erro de ganho \u00e9 de, aproximadamente, 7,3% e a tend\u00eancia de 5' (0,089\u00b0). O coeficiente de correla\u00e7\u00e3o para este ajuste foi de 0,9980. Os valores de erro para cada ponto podem ser vistos na tabela 2 (valores em graus).\nTabela 2 - Erros de medi\u00e7\u00e3o para o desalinhamento angular entre se\u00e7\u00f5es de risers.\nTable 2 - Measurement errors for the angular misalignment between riser sections.\nconclus\u00f5es\nO sistema concebido neste trabalho \u00e9 uma inova\u00e7\u00e3o mundial e n\u00e3o foi encontrado nenhum similar. Esse sistema representa uma nova concep\u00e7\u00e3o de estereosco-pia ativa aplicada a geometrias cil\u00edndricas internas, que possibilitar\u00e1 a realiza\u00e7\u00e3o de inspe\u00e7\u00f5es de conformidade geom\u00e9trica at\u00e9 ent\u00e3o n\u00e3o efetuadas pela ind\u00fastria do petr\u00f3leo e g\u00e1s por falta de meios apropriados.\nAo mesmo tempo, o prot\u00f3tipo desenvolvido comprovou a validade da nova concep\u00e7\u00e3o e atingiu plenamente o desempenho metrol\u00f3gico esperado. O experimento de medi\u00e7\u00e3o de desalinhamentos transversais produziu erros n\u00e3o superiores a 0,031 mm. O experimento de medi\u00e7\u00e3o de desalinhamentos angulares produziu erros n\u00e3o superiores a 0,22\u00b0 (13').\nA visualiza\u00e7\u00e3o da nuvem de pontos produzida possibilita a identifica\u00e7\u00e3o dos defeitos de solda de forma simples, clara e f\u00e1cil. Os valores medidos podem ser comparados com as toler\u00e2ncias aceit\u00e1veis e o sistema automaticamente sinaliza as regi\u00f5es com solda perfeita, com excesso de penetra\u00e7\u00e3o ou com falta de fus\u00e3o.\nFuturamente, o prot\u00f3tipo ser\u00e1 dotado de um m\u00f3dulo de posicionamento para opera\u00e7\u00e3o no interior dos risers (fig. 21). O sistema ser\u00e1 usado imediatamente ap\u00f3s a conclus\u00e3o da uni\u00e3o soldada e introduzido pela extremidade ainda aberta do riser. Como resultado da inspe\u00e7\u00e3o, a conformidade da uni\u00e3o soldada ser\u00e1 verificada.\nnomenclatura\nLVDT (linear variable diferential transformers) - conhecidos na ind\u00fastria como \"canetas indutivas\", s\u00e3o sistemas que produzem uma sa\u00edda em tens\u00e3o, proporcional ao deslocamento linear de seu apalpador. Em geral com incertezas da ordem de d\u00e9cimos de micrometros.\nEpipolos - todas as linhas epipolares da imagem possuem um ponto em comum: o epipolo. Este ponto \u00e9 a proje\u00e7\u00e3o do centro \u00f3ptico da outra c\u00e2mera da montagem estereosc\u00f3pica, na imagem em quest\u00e3o. O eixo formado pelos epipolos \u00e9 uma linha comum a todos os planos epipolares.\nFigura 21 - Concep\u00e7\u00e3o poss\u00edvel do prot\u00f3tipo para inspe\u00e7\u00e3o industrial.\nFigure 21 - Possible prototype concept for industrial inspection.\nrefer\u00eancias bibliogr\u00e1ficas\n| FANTIN, A. V. Medi\u00e7\u00e3o de formas livres tridimensionais por topogrametria. 1999. 90 f. Disserta\u00e7\u00e3o (Mestrado) - Universidade Federal de Santa Catarina, Centro tecnol\u00f3gico, Florian\u00f3polis, 1999.\n| HARTLEY, R.; ZISSERMAN, A. Multiple view geometry in computer vision. 2. ed. Cambridge: Cambrige University Press, 2003. 655 p.\n| HOFFMAN, G.; MOORE, D. IEEE 1394: a ubiquitous bus. In: IEEE Computer Society International Conference, 40, 1995, San Francisco,\nCA. Technologies for the information superhighway: digest of papers. San Francisco: IEEE, 1995. p. 334-338.\n| LUONG, Q.-T.; FAUGERAS, O. D. The fundamental matrix: theory, algorithms, and stability analisys. Le Chesney Cedex: INRIA, 2004. 46 p. Publicado em International Journal of Computer Vision, v. 17, n. 1, p. 43-75, Jan. 1996.\n| ZUMBRUNN, R. Automated fast shape determination of diffuse reflecting objects at close range by means of structured light and digital phase measurement. Interlaken, Switzerland: ISPRS Intermission Conerence on Fast Processing of Photogrammetric Data, 1987. p. 363-379.\nap\u00eandice: coordenadas homog\u00eaneas\nO uso de coordenadas homog\u00eaneas possibilita a cria\u00e7\u00e3o do modelo de c\u00e2mera utilizado neste trabalho. Este breve ap\u00eandice serve para familiarizar o leitor com a representa\u00e7\u00e3o de pontos em coordenadas homog\u00eaneas.\nAssim como as coordenadas cartesianas s\u00e3o utilizadas para a realiza\u00e7\u00e3o de c\u00e1lculos no espa\u00e7o euclidiano, as coordenadas homog\u00eaneas s\u00e3o necess\u00e1rias para a realiza\u00e7\u00e3o de c\u00e1lculos no espa\u00e7o projetivo.\nUm ponto no espa\u00e7o projetivo de n coordenadas \u00e9 descrito por um vetor de n+1 coordenadas. Desta maneira, um ponto de coordenadas cartesianas (x y z)\\ no espa\u00e7o 3D, possui coordenadas homog\u00eaneas (x y z w)T. Um ponto de coordenadas proporcionais, como por exemplo (cx cy CZ Cw)T possui a mesma representa\u00e7\u00e3o no espa\u00e7o projetivo. \u00c9 poss\u00edvel calcular as coordenadas cartesianas de pontos do espa\u00e7o projetivo dividindo-se as demais coordenadas pela \u00faltima, conforme a seguinte express\u00e3o:\n(x y z w)T^ (xlw *lw ZIW)T\n\u00c9 poss\u00edvel representar no espa\u00e7o projetivo um ponto de coordenadas cartesianas, conservando-se as coordenadas x, y, z e usando w=1:\n(x y z )T -> (x y z 1)T\nA diferen\u00e7a entre o espa\u00e7o euclidiano e o projetivo \u00e9 que o espa\u00e7o projetivo abrange os pontos do plano no infinito. O plano no infinito \u00e9 composto pelos pontos cuja coordenada w \u00e9 igual a 0. Pode-se notar que \u00e9 imposs\u00edvel calcular as coordenadas cartesianas de tal ponto.\nO uso de coordenadas homog\u00eaneas possui muitos outros aspectos e introduz uma s\u00e9rie de conveni\u00eancias para o c\u00e1lculo de transforma\u00e7\u00f5es projetivas, muito comuns no processamento de imagens. Abranger este assunto em mais detalhes foge ao escopo deste trabalho, por\u00e9m cabe aqui estimular o leitor a familiarizar-se melhor com tal ferramenta matem\u00e1tica.\n| autor\nAllan Charles Henri Hofmann\nI Unidade de Neg\u00f3cio de Explora\u00e7\u00e3o e Produ\u00e7\u00e3o da Bacia de Campos\nI Ger\u00eancia de Eleva\u00e7\u00e3o e Escoamento\nallanhofmann@petrobras.com.br\nAllan Charles Henri Hofmann \u00e9 Bacharel em Engenharia Mec\u00e2nica pela Universidade Federal de Santa Catarina - UFSC (2003), Mestre em Metrologia Cient\u00edfica e Industrial pela UFSC (2006), onde desenvolveu o Sistema \u00d3ptico Endosc\u00f3pico para Inspe\u00e7\u00e3o Geom\u00e9trica da Uni\u00e3o Soldada de Dutos. Atualmente \u00e9 Engenheiro de Equipamentos Submarinos na Petrobras.\nexpanded abstract\nDuring fabrication of Steel Catenary Risers, the welding process is considered critical to its lifetime. Control of the girth weld misalignment during fabrication would improve fatigue performance.\nThe present work develops an optical system capable of quantifying the misalignment between the welded risers sections and to detect common geometrical welding defects such as the lack and/or excess of penetration utilizing a stereoscopic assembly.\nA pair of stereoscopic images is obtained when two images of the same scene are taken from slightly different viewing angles. Both images can be combined to give information about the 3D nature of the scene. That is naturally done by the brain of most animals and humans. This is the basis of stereoscopy, an already well established computer vision technique to extract 3D information from scenes.\nThe principle requires that the position of each point of interest in a scene must be determined in each image. Each pair of corresponding points is called homologous points. The determination of homologous points of a scene is the most significant challenge in stereoscopic measurement. It can be a straight-forward process if a highly contrasting point in a scene is the single point of interest. However, in the real world, frequently more complex scenes are the case, especially when an almost homogeneous background is involved.\nThe aim of this work is to measure 3D coordinates on the inner surface of pipes. Each point on the inner surface must be seen by two cameras from two different viewing angles. The endoscopic configuration selected has two cameras arranged facing each other and aligned to the pipe axis. Conical lenses are used in addition to a conventional imaging lens to radially shift the image to the center. That is convenient to avoid a dead zone in the image center and, consequently, to improve lateral resolution in the radial direction.\nThe objective of the laboratory prototype is to generate a 3D cloud of points (COP) in order to extract the required information for the measurement tasks, which are:\n\u2022\tIdentification of weld seam defects;\n\u2022\tTransversal misalignment measurement;\n\u2022 Angular misalignment measurement.\nThe basic subsystems of the laboratory prototype are the image acquisition subsystem, and the illumination subsystem.\nThe image acquisition subsystem is basically composed of a high resolution IEEE-1394 camera, a band pass optical filter, and a conical lens specially designed for this application. This subsystem is capable of acquiring the internal surface image of a 6\" pipe (152,4mm), optimizing the utilization of the image sensor. Utilizing two of these image subsystems it is possible to acquire two images from different viewpoints.\nThe illumination subsystem generates a sinusoidal fringe pattern projection on the interest surface in order to help the FPPSM identify the homologous points. This subsystem is also able to produce computer controlled phase shifts on the projected patterns.\nThe system has two opposing image acquisition subsystems and one illumination subsystem. These subsystems are joined together by a 60mm (2,36\") acrylic tube. The entire prototype is about 370mm long (14,57\").\nIn the laboratory stage of the project, the prototype is positioned inside the test specimens utilizing a laboratory assembly.\nTests results showed that the prototype was able to perform very well all the proposed measurement tasks. The weld seam defects could be revealed and the misalignment values could be measured with very convenient uncertainty levels for this application.\nThe prototype has a high degree of automation. Once positioned at the region of interest, it can perform its measurement tasks, from acquisition to results display, by pressing a single button. The whole process takes about 2 minutes, but with optimization it can be speeded up to less than a minute.\nThe future steps for this project is to improve the calibration procedures.\nOnce positioning systems have been implemented, shop floor tests may also be performed in order to evaluate the system's performance in an industrial environment."}]}}}