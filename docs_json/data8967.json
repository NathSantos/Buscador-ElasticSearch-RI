{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.12080"}, {"@name": "filename", "#text": "17597_Gustavo%20Santana%20Monografia%201_2013.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "CENTRO UNIVERSIT\u00c1RIO DE BRAS\u00cdLIA \n\nFACULDADE DE TECNOLOGIA E CI\u00caNCIAS SOCIAIS APLICADAS \n\nCURSO DE ENGENHARIA DA COMPUTA\u00c7\u00c3O \n\nGUSTAVO SANTANA SANTOS \n\nDESENVOLVIMENTO DE EQUIPAMENTO QUE MAXIMIZE A CAPTA\u00c7\u00c3O DE \n\nLUZ SOLAR \n\nOrientadora: Prof\u00aa. M.C. Maria Marony Sousa Farias \n\n\n\nII \n\nBRAS\u00cdLIA \n\n1\u00ba SEMESTRE DE 2013 \n\n\n\nIII \n\nGUSTAVO SANTANA SANTOS \n\nDESENVOLVIMENTO DE EQUIPAMENTO QUE MAXIMIZE A CAPTA\u00c7\u00c3O DE \n\nLUZ SOLAR \n\nTrabalho apresentado ao UniCEUB \u2013 Centro \n\nUniversit\u00e1rio de Bras\u00edlia como pr\u00e9-requisito \n\npara obten\u00e7\u00e3o de Certifica\u00e7\u00e3o de Conclus\u00e3o do \n\nCurso de Engenharia de Computa\u00e7\u00e3o. \n\nOrientadora: Prof?. M.C. Maria Marony Sousa \n\nFarias. \n\n\n\nIV \n\nBRAS\u00cdLIA \n\n1\u00ba SEMESTRE DE 2013 \n\n\n\nV \n\nGUSTAVO SANTANA SANTOS \n\nDESENVOLVIMENTO DE EQUIPAMENTO QUE MAXIMIZE A CAPTA\u00c7\u00c3O DE \n\nLUZ SOLAR \n\nTrabalho apresentado ao UniCEUB \u2013 Centro \n\nUniversit\u00e1rio de Bras\u00edlia como pr\u00e9-requisito \n\npara obten\u00e7\u00e3o de Certifica\u00e7\u00e3o de Conclus\u00e3o do \n\nCurso de Engenharia de Computa\u00e7\u00e3o. \n\nOrientadora: Prof\u00aa. M.C. Maria Marony Sousa \n\nFarias. \n\nEste Trabalho foi julgado adequado para a obten\u00e7\u00e3o do T\u00edtulo de Engenheiro \n\nde Computa\u00e7\u00e3o, e aprovado em sua forma final pela Faculdade de Tecnologia \n\ne Ci\u00eancias Sociais Aplicadas - FATECS. \n\n____________________________ \n\nProf. Abiezer Amar\u00edlia Fernandes \n\nCoordenador do Curso \n\nBanca Examinadora: \n\n \n\n____________________________________ \n\nProf\na\n. Maria Marony Sousa Farias, mestre \n\nem Engenharia El\u00e9trica \u2013 UFPB \u2013 PB. \n\nOrientadora \n\n \n\n____________________________________ \n\nProf. William Oliveira Bessu, doutor         \nem Engenharia de Estruturas \n\nUniCEUB \n\n \n\n \n\n____________________________________ \n\nProf. Fl\u00e1vio Ant\u00f3nio Klein, mestre              \n\nUniCEUB \n\n \n\n \n\n____________________________________ \n\nProf. Luciano H. Duque, mestre \n\nUniCEUB \n\n\n\nVI \n \n\n \n\nDedico aos meus pais, que sempre \n\nforam exemplos e refer\u00eancias na minha \n\nvida. A minha esposa Roberta e aos meus \n\nfilhos, Maria Eduarda e Gabriel. \n\n\n\nVII \n \n\n \n\nAGRADECIMENTOS \n\nPrimeiramente a Deus. A toda minha fam\u00edlia, que sempre buscaram  o \n\nmelhor para mim. Ao meu pai que gostaria imensamente que estivesse ao meu lado \n\nneste momento, pelo todo esfor\u00e7o por ele feito para que eu conseguisse chegar \n\naqui. \n\nE a minha esposa Roberta e meus filhos que com as dificuldades que \n\nencontrei durante o trabalho, me incentivaram a continuar e a concluir esta grande \n\netapa da minha vida. \n\nMuito Obrigado! \n\n\n\nVIII \n \n\n \n\n\u201cE se algu\u00e9m ouvir as minhas palavras, e \n\nn\u00e3o crer, eu n\u00e3o o julgo; porque eu vim, \n\nn\u00e3o para julgar o mundo, mas para salvar \n\no mundo.\u201d Jesus Cristo. \n\n\n\nIX \n \n\n \n\nRESUMO \n\n \n\nA popula\u00e7\u00e3o mundial vem se preocupando cada vez mais pela \n\nnecessidade de aquisi\u00e7\u00e3o de energia limpa, com a escassez do petr\u00f3leo e seu alto \n\nimpacto ao meio ambiente, torna a energia solar uma grande op\u00e7\u00e3o de outras \n\nformas de capta\u00e7\u00e3o de energia, por ser de baix\u00edssimo impacto ambiental. Esse \n\ntrabalho tem como objetivo melhorar a capta\u00e7\u00e3o de energia solar pelas placas \n\nfotovoltaicas que geralmente s\u00e3o constru\u00eddas em bases fixas, o que diminuem \n\nconsideravelmente sua capacidade de absorver a luz solar e aumentar sua efici\u00eancia \n\nenerg\u00e9tica.  O Sistema proposto tem por objetivo fazer com que as placas \n\nfotovoltaicas possam acompanhar o movimento do curso do sol em seu \n\ndeslocamento Leste-Oeste, potencializando consideravelmente a capta\u00e7\u00e3o da luz \n\nsolar. Foi necess\u00e1rio o estudo do movimento solar e os fen\u00f4menos de reflex\u00e3o, junto \n\ncom a constru\u00e7\u00e3o de uma base m\u00f3vel controlada por um micro controlador PIC, o \n\nqual comandava um servo motor  tornando poss\u00edvel o acompanhamento da rota do \n\nsol pela placa aumentando sua efici\u00eancia de capta\u00e7\u00e3o.  \n\nPalavras-chave: Energia solar, reflex\u00e3o, Microcontrolador, Servo motor. \n\n \n\n\n\nX \n \n\n \n\nABSTRACT \n\n \n\nThe world population has been increasingly concerned by the need for the \n\nacquisition of clean energy, with the scarcity of oil and its high impact on the \n\nenvironment, makes solar energy a great option of other forms of energy, because it \n\nis very low environmental impact. This work aims to improve the capture of solar \n\nenergy through solar panels, where these are usually fixed bases, which shortens \n\ntheir ability to absorb sunlight and increase their energy efficiency. With the goal of \n\ntransforming these fixed bases in bases that can track the movement of the Sun, \n\nincreasing considerably the capture of sunlight. It was necessary to study the solar \n\nmovement and the phenomena of reflection, together with the construction of a \n\nmobile base controlled by a microcontroller PIC that do, which commanded a \n\nServomotor making it possible to follow the route of the Sun through increasing its \n\nefficiency.  \n\nKeywords: solar Energy, reflection, microcontroller, Servomotor. \n\n\n\nXI \n \n\n \n\nSUM\u00c1RIO  \n\nLISTA DE FIGURAS............................................................................................................XIII  \n\nLISTA DE TABELAS E QUADROS.............................................................................. ...........XV \n\nLISTA DE ABREVIATURAS E SIGLAS...................................................................................XVI \n\nCAP\u00cdTULO 1 \u2013 INTRODU\u00c7\u00c3O ............................................................................................ 17 \n\n1.1 Introdu\u00e7\u00e3o ao Tema Proposto ........................................................................................ 17 \n\n1.2 Motiva\u00e7\u00e3o ....................................................................................................................... 18 \n\n1.3 Objetivos ......................................................................................................................... 19 \n\n1.4 Estrutura da Monografia ................................................................................................. 19 \n\nCAP\u00cdTULO 2 \u2013 APRESENTA\u00c7\u00c3O DO PROBLEMA ................................................................. 21 \n\n2.1 Acesso a energia el\u00e9trica no Brasil .................................................................................. 21 \n\n2.2 Solu\u00e7\u00f5es Existentes ......................................................................................................... 22 \n\n2.3 Benef\u00edcios do Dispositivo Proposto e Suas Restri\u00e7\u00f5es .................................................... 22 \n\nCAP\u00cdTULO 3 \u2013 REFERENCIAL TE\u00d3RICO............................................................................... 24 \n\n3.1 Teoria de Rastreadores Solar .......................................................................................... 24 \n\n3.2 Radia\u00e7\u00e3o Solar a N\u00edvel do Solo ........................................................................................ 24 \n\n3.3 Movimento da Terra ....................................................................................................... 25 \n\n3.4 Geometria Solar .............................................................................................................. 27 \n\n3.5 Energia Solar Fotovoltaica ............................................................................................... 30 \n\n3.6 Efeito fotovoltaico ........................................................................................................... 31 \n\n3.7 Tipos de C\u00e9lulas ............................................................................................................... 31 \n\n3.8 Microcontroladores ........................................................................................................ 32 \n\n3.8.1 Microcontroladores da fam\u00edlia PIC ................................................................................. 33 \n\n3.9 Servomotor ..................................................................................................................... 34 \n\n3.10 Vis\u00e3o Geral do Projeto .................................................................................................... 35 \n\nCap\u00edtulo 4 \u2013 DESCRI\u00c7\u00c3O DO HARDWARE E SOFTWARE ..................................................... 37 \n\n4.1 Microcontrolador PIC 18F2450 ....................................................................................... 37 \n\n4.1.1 Especifica\u00e7\u00f5es ................................................................................................................. 38 \n\n4.1.2 Pinagem do PIC 18F2450................................................................................................. 38 \n\n4.2 Placa Programadora ICD2 ............................................................................................... 41 \n\n\n\nXII \n \n\n \n\n4.3 MPLAB IDE ....................................................................................................................... 42 \n\n4.4 Servomotor ..................................................................................................................... 43 \n\n4.5 Placa Fotovoltaica ........................................................................................................... 44 \n\nCAP\u00cdTULO 5 \u2013 IMPLEMENTA\u00c7\u00c3O ...................................................................................... 45 \n\n5.1 Simula\u00e7\u00e3o do Movimento Solar ...................................................................................... 46 \n\n5.2 Elabora\u00e7\u00e3o do Circuito .................................................................................................... 47 \n\n5.3 Montagem do Circuito .................................................................................................... 48 \n\n5.4 Programa\u00e7\u00e3o do Microcontrolador ................................................................................ 49 \n\n5.5 Fluxograma Geral do Sistema ......................................................................................... 52 \n\n5.6 Estrutura do Prot\u00f3tipo .................................................................................................... 53 \n\n5.7 Montagem do Prot\u00f3tipo ................................................................................................. 57 \n\nCAP\u00cdTULO 6 \u2013 RESULTADOS OBTIDOS .............................................................................. 58 \n\n6.1 Simula\u00e7\u00f5es ...................................................................................................................... 58 \n\n6.1.1 Simula\u00e7\u00e3o Seguidor de Intensidade de Luz ..................................................................... 58 \n\n6.1.2 Simula\u00e7\u00e3o Comparativa .................................................................................................. 58 \n\n6.2 Problemas Encontrados .................................................................................................. 59 \n\n6.3 Or\u00e7amento do Projeto .................................................................................................... 60 \n\n6.4 Prot\u00f3tipo Final ................................................................................................................. 61 \n\nCAP\u00cdTULO 7 \u2013 CONSIDERA\u00c7\u00d5ES FINAIS ............................................................................ 62 \n\n7.1 Conclus\u00f5es ...................................................................................................................... 62 \n\n7.2 Propostas para Trabalhos Futuros .................................................................................. 63 \n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS ........................................................................................ 64 \n\nAP\u00caNDICE A \u2013 C\u00d3DIGO FONTE DO DISPOSITIVO................................................................66 \n\nAP\u00caNDICE B \u2013 BIBLIOTECA PWM.......................................................................................69 \n\n \n\n\n\nXIII \n \n\n \n\nLISTA DE FIGURAS \n\nFigura 1.1- Casa Solar Eficiente..........................................................................................09 \n\nFigura 3.1 - Componente da radia\u00e7\u00e3o solar ao n\u00edvel do solo..............................................15 \n\nFigura 3.2- Trajet\u00f3ria do Sol..............................................................................................16 \n\nFigura 3.3- Movimento de Transla\u00e7\u00e3o da Terra..................................................................16 \n\nFigura 3.4 - Declina\u00e7\u00e3o Solar.............................................................................................18 \n\nFigura 3.5 - \u00c2ngulo de Azimute Solar.................................................................................20 \n\nFigura 3.6- Efeito Fotovoltaico...........................................................................................21 \n\nFigura 3.7- Placa Fotovoltaica de Sil\u00edcio.............................................................................22 \n\nFigura 3.8\u2013 Dimensionamento das fam\u00edlias PIC e dsPIC.....................................................23 \n\nFigura 3.9- Servomotor......................................................................................................24 \n\nFigura 3.10- Tratamento de Sinais - Servomotor................................................................25 \n\nFigura 3.11 \u2013 Diagrama esquem\u00e1tico do projeto................................................................25 \n\nFigura 4.1\u2013 PIC 18F2450 utilizado no projeto.....................................................................27 \n\nFigura 4.2 - Pinagem do PIC 18F2450.................................................................................29 \n\nFigura 4.3\u2013 Pinagem do PIC 18F2450 utilizada no projeto..................................................31 \n\nFigura 4.4 \u2013 Placa Programadora ICD2...............................................................................32 \n\nFigura 4.5 \u2013 Programa MPLab IDE\u00ae....................................................................................32 \n\nFigura 4.6 \u2013 Servomotor Motor Sat...................................................................................33 \n\nFigura 4.7 - Especifica\u00e7\u00f5es Placa Fotovoltaica SHSY54.......................................................34 \n\nFigura 5.1 \u2013 Prot\u00f3tipo Conclu\u00eddo.......................................................................................35 \n\nFigura 5.2 \u2013Software de an\u00e1lise da movimenta\u00e7\u00e3o Solar...................................................36 \n\nFigura 5.3 \u2013 Modelo do Circuito.........................................................................................38 \n\nFigura 5.4 \u2013 Circuito do Projeto.........................................................................................39 \n\nFigura 5.5 \u2013 Plataforma MPLAB.........................................................................................39 \n\nFigura 5.6 \u2013 Fluxograma do Programa...............................................................................42 \n\nFigura 5.7 \u2013 Primeiro modelo do Prot\u00f3tipo........................................................................43 \n\nFigura 5.8 \u2013 Proje\u00e7\u00e3o do Prot\u00f3tipo no AutoCAD................................................................45 \n\nFigura 5.9 \u2013 Proje\u00e7\u00e3o do Prot\u00f3tipo desmontado no AutoCAD...........................................45 \n\nFigura 5.10 \u2013 Software Impressora 3D...............................................................................46 \n\n\n\nXIV \n \n\n \n\nFigura 5.11 \u2013 Impress\u00e3o em  Impressora 3D......................................................................46 \n\nFigura 5.12 \u2013 Montagem da Estruura.................................................................................47 \n\nFigura 5.13 \u2013 Suporte das Placas Fotovoltaicas..................................................................47 \n\nFigura 5.14 - Prot\u00f3tipo finalizado......................................................................................48 \n\nFigura 6.1 \u2013 Projeto Completo...........................................................................................52 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nXV \n \n\n \n\nLISTA DE TABELAS E QUADROS \n\nTabela 4.1 \u2013 Significado das nomenclaturas dos pinos do PIC18F2450...............................30 \n\nTabela 4.2 - Especifica\u00e7\u00f5es do servomotor........................................................................34 \n\nTabela 4.3 - Especifica\u00e7\u00f5es Placa Fotovoltaica Tabela 5.1 \u2013 Posi\u00e7\u00e3o Norte-Sul...................38 \n\nQuadro 6.1 \u2013 Comparativo de Tens\u00e3o produzida...............................................................50 \n\nQuadro 6.2 \u2013 Custo do Projeto................................................................................... .......51 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nXVI \n \n\n \n\nLISTA DE ABREVIATURAS E SIGLAS \n\n? Ohms \n\nA/D Anal\u00f3gico / Digital \n\nANEEL Ag\u00eancia Nacional de Energia El\u00e9trica \n\nCEPEL Centro de Pesquisas de Energia El\u00e9trica \n\nCRESESB Centro de Refer\u00eancia para Energia Solar e E\u00f3lica S\u00e9rgio de Salvo  \n\n\u00b5F Micro-Farad  \n\nLED Diodo Emissor de Luz \n\nPIC Programmable Interface Controller \n\nPWM Pulse Width Modulation \n\nSEESP             Sindicato dos Engenheiros no Estado de S\u00e3o Paulo \n\nV Volts \n\n \n\n\n\n17 \n \n\n \n\nCAP\u00cdTULO 1 \u2013 INTRODU\u00c7\u00c3O \n\n1.1 Introdu\u00e7\u00e3o ao Tema Proposto \n\nAs fontes alternativas de energia t\u00eam sido cada vez mais exploradas pelas \n\nsociedades, grandes fen\u00f4menos clim\u00e1ticos demostraram uma fraqueza de se \n\ndepender exclusivamente de um meio de gera\u00e7\u00e3o de energia el\u00e9trica. Falta de \n\nchuvas e mudan\u00e7as constantes do clima fizeram, por exemplo, que o Brasil utiliza-se \n\nde energia provida das usinas termoel\u00e9tricas, o que aumentam consideravelmente \n\nos custos da gera\u00e7\u00e3o de energia. Com o crescimento da economia brasileira, tem \n\naumentado o consumo da popula\u00e7\u00e3o, considerando que automaticamente a \n\npopula\u00e7\u00e3o passa a consumir  mais produtos eletr\u00f4nicos  e que a capacidade de \n\ngera\u00e7\u00e3o de energia pelas hidroel\u00e9tricas n\u00e3o crescem como o consumo da \n\npopula\u00e7\u00e3o, estamos caminhando para um poss\u00edvel colapso de fornecimento de \n\nenergia el\u00e9trica no Brasil. (SEESP,2010). \n\n \n\nA energia solar tem sido uma meio de fonte de energia bastante procurada \n\npor outros pa\u00edses, pois n\u00e3o necessita de grandes \u00e1reas para sua opera\u00e7\u00e3o, e \u00e9 \n\ninsignificante no impacto ao meio ambiente.  Como uma fonte n\u00e3o prejudicial ao \n\nmeio ambiente, devido ser renov\u00e1vel, inesgot\u00e1vel e limpa, pode-se agregar a \n\npopula\u00e7\u00e3o um meio de fornecimento de energia em muitos casos se tornar a \u00fanica \n\nfonte. Sua capta\u00e7\u00e3o se d\u00e1 por meios de pain\u00e9is solares que podem ser utilizados \n\npara aquecimento de agua, ou fotovoltaicos que se destinam a transforma\u00e7\u00e3o da luz \n\nsolar em energia el\u00e9trica. A efici\u00eancia de uma placa solar esta ligada diretamente a \n\nfatores como posicionamento, \u00e2ngulo de  incid\u00eancia da luz solar e qualidade da \n\nplaca coletora. (CRESESB, 2006). \n\n \n\nCom o avan\u00e7o da tecnologia, placas fotovoltaicas j\u00e1 s\u00e3o comercializadas com \n\no custo bastante reduzido, por\u00e9m sua utiliza\u00e7\u00e3o n\u00e3o explora 100% da capacidade de \n\ngera\u00e7\u00e3o de energia, pois em grande maioria sua instala\u00e7\u00e3o \u00e9 feita de forma fixa, \n\ntornando a pouco eficiente em grande parte do dia, pois a incid\u00eancia de luz se \n\ndiminui conforme o sol se movimenta perante a placa. Na figura 1.1 e mostrada uma \n\ninstala\u00e7\u00e3o bastante comum em resid\u00eancias que utilizam placas fotovoltaicas, sua \n\n\n\n18 \n \n\n \n\nposi\u00e7\u00e3o e de forma fixa e impedindo uma efici\u00eancia constante da placa capturadora. \n\n(CRESESB, 2006).  \n\n \n\n \n\nFigura 1.1- Casa Solar Eficiente \n\n(FONTE: CEPEL, 2011) \n\nEstudos realizados pela institui\u00e7\u00e3o CRESESB/CEPEL, que o ganho de uma \n\nestrutura de capta\u00e7\u00e3o solar que fosse capaz de acompanhar o movimento do sol \n\nseria da ordem de 20%, um ganho bastante significativo quando se fala de energia. \n\n(CRESESB). J\u00e1 estudos internacionais, colocam um aumento de at\u00e9 40% ou  mais \n\nna capacidade de gera\u00e7\u00e3o de energia. (Renewable Energy World, 2009). \n\n \n\n1.2 Motiva\u00e7\u00e3o \n\nEste projeto teve como principal motiva\u00e7\u00e3o as fortes discurs\u00f5es recentes \n\nsobre o tema de energia limpa e sustentabilidade. O tema Maximizador de capta\u00e7\u00e3o \n\nda luz solar  foi escolhido, por se tratar de um sistema o qual seu principal objetivo \u00e9 \n\naumentar o rendimento da produ\u00e7\u00e3o de energia el\u00e9trica a partir do Sol,  incentivando \n\no uso da energia solar, que \u00e9 fonte limpa e renov\u00e1vel. Outro fator que contribuiu \n\nfortemente na motiva\u00e7\u00e3o deste projeto, foi a grande possibilidade de elaborar um \n\nprot\u00f3tipo que poder\u00e1 agregar melhoria na vida de pessoas que ainda tem \n\ndificuldades no acesso a energia el\u00e9trica. \n\nO Sol envia para a Terra energia  equivalente a cerca de 10.000 vezes o \n\nconsumo mundial de energia bruta. (CEPEL, 2011) \n\n\n\n19 \n \n\n \n\n1.3 Objetivos \n\n \n\nComo objetivo geral este projeto tem a finalidade de apresentar um dispositivo \n\nde acompanhamento do curso do Sol, tornando uma placa fotovoltaica com \n\ninclina\u00e7\u00e3o pr\u00f3xima de 90 graus com a incid\u00eancia de luz solar. Tornando o dispositivo \n\numa meio independente que torna se vi\u00e1vel sua instala\u00e7\u00e3o em qualquer meio, \n\nutilizando equipamentos computacionais simples e de baixo custo. \n\n \n\nOs objetivos espec\u00edficos deste trabalho, se resume aos seguintes t\u00f3picos: \n\n \n\n? Coletar a incid\u00eancia de luz solar em uma placa fotovoltaica e \n\nanalisar o valor produzido. \n\n? Desenvolver um circuito microcontrolado que processe as \n\ninforma\u00e7\u00f5es recebidas da placa,  e com base nos dados coletados, \n\native um sistema que movimente uma painel fotovoltaico de acordo \n\ncom o moviemto solar. \n\n \n\n? Posicionar a placa no ponto de maior incid\u00eancia de luz baseado na \n\nmaior pot\u00eancia gerada pela placa fotovoltaica. \n\n \n\n \n\n1.4 Estrutura da Monografia \n\nEsta monografia \u00e9 dividida em seis cap\u00edtulos, incluindo a INTRODU\u00c7\u00c3O, \n\nque trata da introdu\u00e7\u00e3o ao tema proposto, a motiva\u00e7\u00e3o do projeto e os principais \n\nobjetivos. E essa se\u00e7\u00e3o que descreve toda a estrutura da monografia. \n\nNo segundo cap\u00edtulo, APRESENTA\u00c7\u00c3O DO PROBLEMA, \u00e9 apresentada \n\numa descri\u00e7\u00e3o aprofundada sobre as quest\u00f5es motivacionais do trabalho, as \n\nsolu\u00e7\u00f5es existentes atualmente sobre o tema proposto. E a \u00faltima se\u00e7\u00e3o deste \n\n\n\n20 \n \n\n \n\ncap\u00edtulo aborda de forma resumida os benef\u00edcios do dispositivo proposto e suas \n\nrestri\u00e7\u00f5es. \n\nNo terceiro cap\u00edtulo, REFERENCIAL TE\u00d3RICO, trata de assuntos como \n\nServo motor, microcontroladores, Placas Fotovoltaicas, movimenta\u00e7\u00e3o do Sol e \n\nefeitos de reflex\u00e3o  de forma conceitual. Nesse cap\u00edtulo \u00e9 apresentada tamb\u00e9m uma \n\nvis\u00e3o geral do projeto. \n\nNo quarto cap\u00edtulo, DESCRI\u00c7\u00c3O DO HARDWARE E SOFTWARE, \n\naborda as especifica\u00e7\u00f5es dos dispositivos utilizados, \u00e9 detalhada a especifica\u00e7\u00e3o \n\ndos componentes microcontrolador  PIC, Servo motor, Placa fotovoltaica e outros \n\ndispositivos e softwares. \n\nNo quinto cap\u00edtulo, IMPLEMENTA\u00c7\u00c3O, \u00e9 apresentado o desenvolvimento \n\ndo projeto, como a integra\u00e7\u00e3o entre o hardware e software, desenvolvimento do \n\nc\u00f3digo na linguagem PIC e outras informa\u00e7\u00f5es. \n\nNo sexto cap\u00edtulo, RESULTADOS OBTIDOS abordam toda a parte de \n\nteste do prot\u00f3tipo, ajustes de problemas encontrados e suas dificuldades. \n\nNo s\u00e9timo cap\u00edtulo, CONSIDERA\u00c7\u00d5ES FINAIS, s\u00e3o apresentadas a \n\nconclus\u00e3o e as sugest\u00f5es para trabalhos futuros. \n\n   \n\n  \n\n  \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n    \n\n \n\n\n\n21 \n \n\n \n\nCAP\u00cdTULO 2 \u2013 APRESENTA\u00c7\u00c3O DO PROBLEMA \n\n \n\n \n\nEste cap\u00edtulo tem o objetivo de detalhar as quest\u00f5es que motivaram o \n\ntrabalho, como: a cria\u00e7\u00e3o de um dispositivo que maximize a capta\u00e7\u00e3o da energia \n\nsolar, que foi apresentado resumidamente na se\u00e7\u00e3o ? Motiva\u00e7\u00e3o ? do cap\u00edtulo \n\nanterior.  \n\nS\u00e3o apresentadas tamb\u00e9m algumas solu\u00e7\u00f5es existentes para estas quest\u00f5es, \n\nno que diz respeito \u00e0 Capta\u00e7\u00e3o de energia solar. E por fim, s\u00e3o apresentados os \n\nbenef\u00edcios do dispositivo proposto pelo trabalho e suas restri\u00e7\u00f5es. \n\n2.1 Acesso a energia el\u00e9trica no Brasil \n\nLevantamento in\u00e9dito feito pela Ag\u00eancia Nacional de Energia El\u00e9trica \n\n(Aneel) junto \u00e0s distribuidoras de energia apontou que o Brasil ainda possui \n\num milh\u00e3o de resid\u00eancias sem luz. O n\u00famero \u00e9 muito maior do que o \n\nestimado pelo governo federal, que indicava em setembro, com base em \n\ndados do Censo de 2010, apenas 378 mil resid\u00eancias ainda sem energia \n\nel\u00e9trica. Com os novos n\u00fameros apresentados, as distribuidoras pediram \n\nprazos mais el\u00e1sticos para universalizar o acesso no pa\u00eds, meta que a \n\npresidente Dilma Rousseff fixou para o fim de 2014. Algumas, como as de \n\nMato Grosso e Tocantins, querem jogar a meta para 2027. (O Globo, 2012) \n\n \n\nO par\u00e1grafo acima nos mostra a realidade que um grande n\u00famero de \n\nBrasileiros ainda n\u00e3o tem acesso a  energia el\u00e9trica no Brasil. Segundo a ANEEL \n\n75,9% da energia el\u00e9trica e proveniente de usinas hidroel\u00e9tricas, o que torna dif\u00edcil a \n\ndistribui\u00e7\u00e3o de energia el\u00e9trica em lugares mais remotos e deslocados de grandes \n\nmeios. Parte dessa popula\u00e7\u00e3o vivem em \u00e1reas rurais, com dif\u00edcil acesso a redes \n\nel\u00e9tricas, com um custo muito elevado para o provimento de energia el\u00e9trica nessas \n\n\u00e1reas.  \n\n \n\nA Popula\u00e7\u00e3o ind\u00edgena tamb\u00e9m sofre com o acesso a energia el\u00e9trica no \n\nBrasil, pois em sua maioria eles est\u00e3o instalados em meio a florestas e vales com \n\ngrandes dificuldades de locomo\u00e7\u00e3o e instala\u00e7\u00f5es de torres.  \n\n\n\n22 \n \n\n \n\n2.2 Solu\u00e7\u00f5es Existentes \n\nExistem v\u00e1rios modelos de seguidores solares, os quais podem ser \n\nclassificados de diversas formas. O Instituto de Eletrot\u00e9cnica e Energia da USP \n\nclassificou os seguidores solares de acordo com o n\u00famero de eixos, tipo de \n\nestrutura, tipo de controlo e estrat\u00e9gia de rastreamento (iee.usp.br, 2012). \n\n \n\n? Seguidores de \u00danico Eixo \u2013 Nesse modelo as placas realizam apenas \n\num movimento para acompanhamento do curso do sol, geralmente \n\nmovimento Leste-Oeste e seu mecanismo de busca \u00e9 mais simples e \n\num custo menor para serem constru\u00eddos. \n\n? Seguidores de Duplo Eixo \u2013 Nesse modelo as placas realizam dois \n\nmovimentos para acompanhamento do curso do sol, o movimento \n\nLeste-Oeste e movimento Norte-Sul. Seu mecanismo de busca \u00e9 mais \n\ncomplexo e um custo maior para serem constru\u00eddos. \n\n? . Seguidores do Tipo Parab\u00f3lica  \u2013 Nesse modelo a placa fotovoltaica \n\nficam na posi\u00e7\u00e3o oposta ao sol e uma coxa fica no sentido oposto ao \n\nda placa e de frente para o sol, dessa forma os raios solares s\u00e3o \n\nrefletidos pela coxa direcionados para o centro da placa. Seu \n\nmecanismo de busca \u00e9 mais complexo, custo maior para serem \n\nconstru\u00eddos e s\u00e3o utilizados para grandes estruturas. \n\n \n\n2.3 Benef\u00edcios do Dispositivo Proposto e Suas Restri\u00e7\u00f5es \n\nO objetivo principal do projeto \u00e9 a apresenta\u00e7\u00e3o de um dispositivo de que \n\nrealiza a movimenta\u00e7\u00e3o de uma placa fotovoltaica para que essa possa ficar sempre \n\nvoltada perpendicularmente aos raios solares, dessa forma ter\u00e1 como beneficio uma \n\nmaior produ\u00e7\u00e3o de energia, pois a placa trabalharam sempre em sua plenitude na \n\nprodu\u00e7\u00e3o de energia el\u00e9trica, e n\u00e3o ser\u00e1 impactada com o deslocamento do sol \n\ncomo ocorre com as placas instaladas de forma fixa. \n\n \n\n\n\n23 \n \n\n \n\nO projeto n\u00e3o tem como funcionalidade o tratamento e  armazenamento da \n\nenergia gerada. O prot\u00f3tipo somente far\u00e1 o acompanhamento do curso do Sol, \n\nconforme estudo do comportamento a incid\u00eancia solar na superf\u00edcie terrestre e o \n\n\u00e2ngulo de incid\u00eancia. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n  \n\n \n\n \n\n\n\n24 \n \n\n \n\n \n\nCAP\u00cdTULO 3 \u2013 REFERENCIAL TE\u00d3RICO \n\n \n\n \n\nNeste cap\u00edtulo \u00e9 exibida uma vis\u00e3o de forma geral do projeto proposto. \n\nPor isso \u00e9 essencial para o entendimento do mesmo a compreens\u00e3o dos assuntos \n\nabordados neste cap\u00edtulo. \n\nPara o melhor entendimento deste trabalho, \u00e9 necess\u00e1rio o estudo de \n\nconceitos te\u00f3ricos relacionados ao projeto desenvolvido. Embora alguns dos \n\nconceitos citados exijam um detalhamento mais amplo do tema para sua total \n\ncompreens\u00e3o, visando o foco principal, ser\u00e3o apresentadas apenas as \n\ncaracter\u00edsticas mais relacionadas ao projeto.  \n\n3.1 Teoria de Rastreadores Solar \n\nEstudos acad\u00eamicos e de fornecedores de placas fotovoltaicas, mostram \n\na melhoria na produtividade das placas em uma faixa de valor aproximado de 25% a \n\n40% com o uso de rastreadores solares. Esses rastreadores tem como fun\u00e7\u00e3o \n\ndirecionar o painel para uma posi\u00e7\u00e3o perpendicular a incid\u00eancia da luz do Sol. \n\n(http://solnaamazonia.com.br, 2011) \n\n3.2 Radia\u00e7\u00e3o Solar a N\u00edvel do Solo \n\nDe toda a radia\u00e7\u00e3o solar que chega \u00e0s camadas superiores da atmosfera, \n\napenas uma fra\u00e7\u00e3o atinge a superf\u00edcie terrestre, devido \u00e0 reflex\u00e3o e absor\u00e7\u00e3o dos \n\nraios solares pela atmosfera. Esta fra\u00e7\u00e3o que atinge o solo \u00e9 constitu\u00edda por um \n\ncomponente direta  e por uma componente difusa. Conforme ilustrado na figura 3.1. \n\n \n\n\n\n25 \n \n\n \n\n \n\nFigura 3.1 - Componente da radia\u00e7\u00e3o solar ao n\u00edvel do solo \n\n(FONTE:CRESESB, 2006) \n\n \n\nNa Figura 3.1 \u00e9 ilustrada uma situa\u00e7\u00e3o que ocorre na Terra. Nela podem \n\nser observados os fen\u00f4menos de reflex\u00e3o. Os percentuais apresentados na figura \n\nvariam de acordo com a incid\u00eancia solar. Diversos fatores podem mudar estes \n\npercentuais; \u00e9 o caso das esta\u00e7\u00f5es do ano que est\u00e1 relacionado ao movimento de \n\ntransla\u00e7\u00e3o que ser\u00e1 discutido a seguir. [MORAES] \n\n3.3 Movimento da Terra \n\nOs principais movimentos da Terra \u2013 rota\u00e7\u00e3o em torno do pr\u00f3prio eixo e \n\ntransla\u00e7\u00e3o ao redor do Sol \u2013 s\u00e3o percebidos como movimentos aparentes do Sol. A \n\ninclina\u00e7\u00e3o do eixo da Terra (Aprox. 23.27\u00b0) em rela\u00e7\u00e3o ao plano de transla\u00e7\u00e3o \n\ncausam as esta\u00e7\u00f5es do ano e a varia\u00e7\u00e3o na dura\u00e7\u00e3o dos dias (per\u00edodo de \n\ninsola\u00e7\u00e3o). \n\nGra\u00e7as ao movimento de rota\u00e7\u00e3o, o Sol aparece (nascente) de um lado \n\n(leste) pela manh\u00e3 e desaparece (poente) \u00e0 tarde no outro lado (oeste). Parece que \n\no Sol est\u00e1 se movimentando, quando na verdade \u00e9 a Terra que se move. Esse \n\nfen\u00f4meno \u00e9 chamado de MOVIMENTO APARENTE DO SOL. Conforme \n\napresentado na figura 3.2, pode-se observar que ao longo do dia, o sol muda de \n\nposi\u00e7\u00e3o com o passar das horas. (JOSELI, 2011) \n\n\n\n26 \n \n\n \n\n \n\nFigura 3.2- Trajet\u00f3ria do Sol \n\n(FONTE: http://joselimaia.blogspot.com.br, 2011) \n\n \n\nNa Figura 3.3 \u00e9 ilustrado o movimento de transla\u00e7\u00e3o, onde as esta\u00e7\u00f5es do \n\nano podem ser observadas; estando essas definidas por uma data de in\u00edcio e fim. \n\nOnde o movimento el\u00edptico e a inclina\u00e7\u00e3o do eixo da terra (Aprox. 23.27\u00b0),  tem sua \n\ninflu\u00eancia. Cada esta\u00e7\u00e3o abrange um per\u00edodo de 3 meses. \n\n \n\nFigura 3.3- Movimento de Transla\u00e7\u00e3o da Terra \n\n(FONTE: http:// www.alunosonline.com.br, 2011) \n\n \n\n\n\n27 \n \n\n \n\n3.4 Geometria Solar \n\nCom base dos estudos dos movimentos solares e seu comportamento \n\nc\u00edclico, foi poss\u00edvel determinar a radia\u00e7\u00e3o solar que atinge uma superf\u00edcie. Conforme \n\ndefinido por Duffie, John A., o fluxo de radia\u00e7\u00e3o solar e determinado por c\u00e1lculo de \n\ntr\u00eas componentes b\u00e1sicas, a radia\u00e7\u00e3o direta do Sol, a radia\u00e7\u00e3o difusa e radia\u00e7\u00e3o \n\nrefletida pelo entorno.  A f\u00f3rmula para se determinar a radia\u00e7\u00e3o em uma \n\ndeterminada superf\u00edcie, \u00e9 expressa pela f\u00f3rmula (1): \n\n \n\n \n\n(1) \n\n \n\nOnde: \n\n( ) = fluxo total de radia\u00e7\u00e3o que atinge a superf\u00edcie (W/m2); \n\n( ) = fluxo de radia\u00e7\u00e3o direta do sol (W/m2); \n\n(?) = \u00e2ngulo de incid\u00eancia dos raios solares sobre uma superf\u00edcie (\u00b0); \n\n( ) = fluxo de radia\u00e7\u00e3o difusa do c\u00e9u (W/m2); \n\n( ) = fluxo de radia\u00e7\u00e3o refletida (W/m2). \n\n \n\n \n\n O valor da radia\u00e7\u00e3o solar direta \u00e9 obtido conforme express\u00e3o da f\u00f3rmula (2): \n\n                                             _______________ \n\n \n(2) \n\n \n\nonde: \n\n( ) = fluxo de radia\u00e7\u00e3o direta do sol (W/m2); \n\n?: altitude solar (\u00e2ngulo entre o plano horizontal sobre a terra e os raios solares) (\u00b0); \n\nA: radia\u00e7\u00e3o solar aparente para massa de ar igual a zero (tabelada) (W/m2); \n\nB: coeficiente de extin\u00e7\u00e3o atmosf\u00e9rica (tabelada) adimensional; \n\n?: azimute solar (\u00e2ngulo entre a dire\u00e7\u00e3o Sul e a proje\u00e7\u00e3o dos raios solares no plano \n\nhorizontal sobre a terra) (\u00b0). \n\n\n\n28 \n \n\n \n\n  \n\n \n\n \n\n \n\n A declina\u00e7\u00e3o solar \u00e9 dado pelo \u00e2ngulo entre a linha do Equador e o eixo que \n\nsai do centro do Sol, como pode ser observado na Figura 3.4. \n\n \n\nFigura 3.4 - Declina\u00e7\u00e3o Solar \n\n(Fonte: http://www.newhome.com.br) \n\n \n\n Devido \u00e0 inclina\u00e7\u00e3o do eixo da terra ser de aproximadamente de 23,27\u00b0 sobre \n\no plano da \u00f3rbita \u00e0 volta do Sol, a declina\u00e7\u00e3o terrestre pode variar entre 23,27\u00ba ao \n\nnorte e 23,27\u00b0 a sul durante o movimento de transla\u00e7\u00e3o. Esse valor varia conforme o \n\ndia do ano, e pode ser calculado  a partir da resolu\u00e7\u00e3o da f\u00f3rmula (3), onde N ser\u00e1 o \n\ndia do ano, contado a partir do dia 1\u00ba de Janeiro. (http://pcc261.pcc.usp.br, 2006). \n\n \n\n(3) \n\nonde: \n\n( ) = \u00e2ngulo de declina\u00e7\u00e3o solar (\u00b0); \n\nN = \u00e9 o dia do ano contado a partir de 1\u00b0 de janeiro. \n\nPara determinar o \u00e2ngulo de incid\u00eancia dos raios solares sobre uma \n\nsuperf\u00edcie em uma latitude, \u00e9 necess\u00e1rio obter primeiramente o \u00e2ngulo de Azimute. \n\nA f\u00f3rmula (4) \u00e9 utilizada para a determina\u00e7\u00e3o deste valor. Como o \u00e2ngulo de \n\nAzimute \u00e9 determinado pelo  plano horizontal da terra, o valor do Azimute utilizado  \n\n\n\n29 \n \n\n \n\npara o c\u00e1lculo do \u00e2ngulo de inclina\u00e7\u00e3o dever\u00e1 ser a diferen\u00e7a entre o \u00e2ngulo de \n\nAzimute da superf\u00edcie. \n\n \n\n(4) \n\nonde: \n\n = \u00e2ngulo de incid\u00eancia dos raios solares sobre uma superf\u00edcie (\u00b0); \n\n? = altitude solar j\u00e1 definida; \n\n = inclina\u00e7\u00e3o da superf\u00edcie em rela\u00e7\u00e3o ao plano horizontal (\u00b0); \n\n = diferen\u00e7a entre o azimute solar e o da superf\u00edcie (\u00b0); \n\n \n\nA diferen\u00e7a entre o \u00e2ngulo de azimute solar e o \u00e2ngulo da superf\u00edcie e dado \n\npor: \n\n \n\n \n\n(5) \n\n O \u00e2ngulo de Azimute solar \u00e9 o \u00e2ngulo determinado pela posi\u00e7\u00e3o de um astro \n\nem rela\u00e7\u00e3o ao eixo norte-sul, sendo positivo em dire\u00e7\u00e3o ao oeste e negativo em \n\ndire\u00e7\u00e3o ao leste, como demonstrado na Figura 3.5.  A f\u00f3rmula (6), \u00e9 a f\u00f3rmula \n\nutilizada para se obter o valor do \u00e2ngulo de Azimute do sol (Duffie, John A., \n\nBeckman, Willian A., 1991). \n\n\n\n30 \n \n\n \n\n \n\nFigura 3.5 - \u00c2ngulo de Azimute Solar \n\n(Fonte: http:// http://www.electronica-pt.com/) \n\n \n\n \n\n \n\n(6) \n\nonde: \n\n = \u00e2ngulo de Azimute solar (\u00b0); \n\n? = altitude solar j\u00e1 definida; \n\nL: latitude (negativo no hemisf\u00e9rio sul) (\u00b0); \n\n = \u00e2ngulo de declina\u00e7\u00e3o solar(\u00b0); \n\n3.5 Energia Solar Fotovoltaica \n\nA Energia Solar Fotovoltaica \u00e9 a energia gerada atrav\u00e9s da convers\u00e3o da \n\nluz em energia el\u00e9trica, denominado efeito fotovoltaico (NASCIMENTO, 2004). O \n\nefeito fotovoltaico, relatado por Edmond Becquerel, em 1839, trata-se do \n\naparecimento de uma diferen\u00e7a de potencial nos extremos de uma estrutura de um \n\nmaterial semicondutor, atrav\u00e9s da absor\u00e7\u00e3o da luz. Para que esse fen\u00f4meno ocorra, \n\na c\u00e9lula fotovoltaica \u00e9 fundamental no processo de convers\u00e3o. (CRESESB, 2006). \n\n\n\n31 \n \n\n \n\n3.6 Efeito fotovoltaico \n\nO efeito fotovoltaico e a jun\u00e7\u00e3o de materiais semicondutores do tipo PN, \n\nonde o objetivo \u00e9 a cria\u00e7\u00e3o de um campo el\u00e9trico no interior do material, de forma \n\nque as cargas negativas e as positivas ficar\u00e3o separadas cada uma em um lado.  O \n\ncristal de sil\u00edcio e o mais utilizado para constru\u00e7\u00e3o de placas fotovoltaicas, por\u00e9m o \n\ncristal puro \u00e9 um mal condutor, pois n\u00e3o possui em sua composi\u00e7\u00e3o el\u00e9trons livres. \n\nPara que o sil\u00edcio se torne um material capaz de reagir aos efeitos da luz, \u00e9 realizado \n\num processo conhecido como dopagem. A jun\u00e7\u00e3o de uma c\u00e9lula solar de sil\u00edcio \u00e9 \n\nconstitu\u00edda por uma parte dopada com f\u00f3sforo (P), denominada de tipo n, e outra \n\nparte dopada com boro (B), denominada de tipo p. \u00e9 na fronteira destas duas partes \n\nque se cria um campo el\u00e9trico para separar as cargas positivas das negativas. \n\n(CRESESB, 2006). A Figura 3.6 abaixo, simula o efeito fotovoltaico atrav\u00e9s do \n\nfuncionamento de uma placa. \n\n \n\nFigura 3.6- Efeito Fotovoltaico \n\n(FONTE: http://www.electronica-pt.com, 2011) \n\n \n\n3.7 Tipos de C\u00e9lulas \n\nAs c\u00e9lulas fotovoltaicas s\u00e3o fabricadas, na sua grande maioria, usando o \n\nsil\u00edcio (Si) e podendo ser constitu\u00edda de cristais monocristalinos, policristalinos ou de \n\nsil\u00edcio amorfo. A figura 3.7 representa uma  c\u00e9lula fotovoltaica de Sil\u00edcio Cristalino, \n\num modelo de f\u00e1cil disponibilidade no mercado. (CRESESB, 2006) \n\n\n\n32 \n \n\n \n\n \n\nFigura 3.7- Placa Fotovoltaica de Sil\u00edcio \n\n(FONTE: CRESESB, 2006) \n\n \n\n \n\n3.8 Microcontroladores \n\nO microcontrolador \u00e9 um dispositivo semicondutor em forma de circuito \n\nintegrado, que integra as partes b\u00e1sicas de um microcomputador - \n\nmicroprocessador, mem\u00f3rias n\u00e3o-vol\u00e1teis e vol\u00e1teis e portas de entrada e \n\nsa\u00edda. Geralmente, \u00e9 limitado em termos de quantidade de mem\u00f3ria, \n\nprincipalmente no que diz respeito \u00e0 mem\u00f3ria de dados, \u00e9 utilizada em \n\naplica\u00e7\u00f5es espec\u00edficas, ou seja, naquelas que n\u00e3o necessitam armazenar \n\ngrandes quantidades de dados. Apresenta um custo bastante baixo e possui \n\nv\u00e1rios fornecedores. (GIMENEZ, 2002, p.4). \n\nAlguns dos fornecedores mencionados acima s\u00e3o: Hitachi, Intel, \n\nMicrochip, Mitsubishi, Motorola, Philips, Toshiba etc. \n\nFoi utilizado neste projeto o microcontrolador PIC18F2450, por ter uma \n\ngrande quantidade de pinos de entrada e sa\u00edda (23 pinos dos 28 pinos do \n\nmicrocontrolador), por ter um f\u00e1cil acesso no com\u00e9rcio local e principalmente porque \n\nos microcontroladores da s\u00e9rie 18F t\u00eam conversor anal\u00f3gico/digital, modulo PWM \n\n(Pulse Width Modulation), Biblioteca com varias fun\u00e7\u00f5es para controle de perif\u00e9ricos \n\ndispon\u00edvel e com f\u00e1cil programa\u00e7\u00e3o na linguagem C. \n\n\n\n33 \n \n\n \n\n3.8.1 Microcontroladores da fam\u00edlia PIC \n\nO microcontrolador PIC produzido pela Microchip Technology Inc., \u00e9 um \n\ncircuito integrado que em um \u00fanico dispositivo possui todos os circuitos necess\u00e1rios \n\npara realizar um sistema program\u00e1vel completo. \n\nOs microcontroladores da fam\u00edlia PIC possuem modelos variados com \n\ncaracter\u00edsticas an\u00e1logas e que podem ser operados por um parecido set de \n\ninstru\u00e7\u00f5es. Embora apresentando caracter\u00edsticas principais parecidas, eles se \n\ndistinguem quanto a seus perif\u00e9ricos (mem\u00f3rias, comparadores, conversores) e \n\nquantidade de pinos.  Dessa forma, h\u00e1 uma diversidade de microcontroladores e \n\nfuncionalidades. (SOUZA, 2005) \n\nA denomina\u00e7\u00e3o fam\u00edlia PIC \u00e9 devido aos v\u00e1rios microcontroladores \n\nfornecidos, que variam de 8-bits, 16-bits at\u00e9 32-bits, conforme mostrada na Figura \n\n3.1. \n\n \n\nFigura 3.8\u2013 Dimensionamento das fam\u00edlias PIC e dsPIC. \n\n(Fonte: MICROCHIP TECHNOLOGY INC, adaptada). \n\n \n\nAs principais caracter\u00edsticas t\u00e9cnicas do microcontrolador PIC18F2450, \n\nser\u00e3o abordadas na se\u00e7\u00e3o \u2013 Microcontrolador PIC18F2450- no cap\u00edtulo a seguir. \n\n \n\n\n\n34 \n \n\n \n\n3.9 Servomotor \n\nUm servomotor em um motor com um circuito de controle de posi\u00e7\u00e3o \n\nacoplado. Os servomotores n\u00e3o d\u00e3o uma volta completa em seu eixo, eles \n\ntrabalham em uma faixa ou de 90 ou 180 graus em seu eixo. \n\nInternamente o servomotor consiste de um circuito de controle que recebe \n\num sinal de controle para que ele se posicione em um determinado \u00e2ngulo. A figura \n\n3.9 abaixo, detalha um circuito e engrenagens de um servomotor. \n\n \n\nFigura 3.9- Servomotor \n\n(FONTE: http://www.pictronics.com.br) \n\n \n\nO servo \u00e9 ligado a uma sa\u00edda de um microcontrolador, por exemplo, e \n\nrecebe um sinal no formato PWM (Pulse Width Modulation). Este sinal pode ter \n\n0Volts ou 5Volts. O circuito de controle do servo fica monitorando este sinal em \n\nintervalos de 20ms (milissegundos), se dentro deste intervalo ele percebe uma \n\naltera\u00e7\u00e3o do sinal de 0v para 5v durante 1ms at\u00e9 2ms ele altera a posi\u00e7\u00e3o do seu \n\neixo para coincidir com o sinal que recebeu.(Pictronics, 2010). A figura 3.10 simula \n\nesse funcionamento do servomotor. \n\n\n\n35 \n \n\n \n\n \n\nFigura 3.10- Tratamento de Sinais - Servomotor \n\n(FONTE: http://www.pictronics.com.br) \n\n3.10 Vis\u00e3o Geral do Projeto \n\nO projeto basicamente \u00e9 constitu\u00eddo por um microcontrolador (PIC do \n\nmodelo 18F2450), Placa fotovoltaica, um servomotor e demais componentes \n\neletr\u00f4nicos, tais como resistores, capacitores, oscilador de cristal, led\u2019s, diodos e \n\noutros. O diagrama esquem\u00e1tico do projeto proposto pode ser observado na Figura \n\n3.11, na qual representa de forma objetiva a composi\u00e7\u00e3o geral do projeto. \n\nO diagrama esquem\u00e1tico do projeto \u00e9 ilustrado na Figura 3.11. \n\n \n\nFigura 3.11 \u2013 Diagrama esquem\u00e1tico do projeto (FONTE: Autor) \n\n1) Capta\u00e7\u00e3o da Luz Solar pelas Placa Fotovoltaicas; \n\n2) Atrav\u00e9s da entrada AD do Microcontrolador e realizado a leitura da tens\u00e3o da \n\nenergia produzida pelas placas; \n\n\n\n36 \n \n\n \n\n3) O Microcontrolador ir\u00e1 comparar o valor da Tens\u00e3o captado anteriormente e \n\ncompara-lo com a atual.  \n\n4) Ap\u00f3s a leitura da tens\u00e3o atual, ser\u00e1 comparado com a leitura anterior, caso \n\nseja maior que a anterior, o microcontrolador ir\u00e1 movimentar o Servomotor \n\ncom um pulso; \n\n5) Microcontrolador realizar\u00e1 o ciclo at\u00e9 que se encontre o ponto de m\u00e1xima \n\ntens\u00e3o produzido pelas placas fotovoltaicas; \n\nDetalhes sobre o hardware e o software utilizados e seus funcionamentos \n\nencontram-se no CAP\u00cdTULO 4 ? DESCRI\u00c7\u00c3O DE HARDWARE E SOFTWARE. A \n\nimplementa\u00e7\u00e3o do projeto pode ser observada no CAP\u00cdTULO 5 ? \n\nIMPLEMENTA\u00c7\u00c3O. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n37 \n \n\n \n\nCAP\u00cdTULO 4 \u2013 DESCRI\u00c7\u00c3O DO HARDWARE E SOFTWARE \n\nEste cap\u00edtulo detalha as especifica\u00e7\u00f5es dos dispositivos usados e seu \n\ndevido funcionamento nesse projeto, tanto a parte f\u00edsica, ou seja, o hardware, como \n\na parte l\u00f3gica, os softwares utilizados. \n\n4.1 Microcontrolador PIC 18F2450 \n\nO microcontrolador utilizado nesse projeto foi o PIC 18F2450, conforme \n\nmencionado no cap\u00edtulo anterior. Ele \u00e9 o componente respons\u00e1vel em realizar toda a \n\nlogica que foi programada, ele ir\u00e1 manter  a comunica\u00e7\u00e3o com o circuito, onde est\u00e3o \n\nligados os outros componentes do projeto. \n\nA Figura 4.1 ilustra o PIC 18F2450 utilizado neste projeto. \n\n \n\nFigura 4.1\u2013 PIC 18F2450 utilizado no projeto (Fonte:Microchip) \n\n \n\n \n\n \n\n \n\n\n\n38 \n \n\n \n\n4.1.1 Especifica\u00e7\u00f5es \n\nAs principais especifica\u00e7\u00f5es t\u00e9cnicas do PIC 18F2450 s\u00e3o: (Microchip). \n\n? Microcontrolador de 28 pinos; \n\n? Programa\u00e7\u00e3o in-circuit (alta e baixa tens\u00e3o); \n\n? Frequ\u00eancia de opera\u00e7\u00e3o de at\u00e9 40 MHz; \n\n? Mem\u00f3ria flash de programa de 8kwords; \n\n? Memoria de programa: Flash de 16 Kb \n\n? Memoria de dados: SRAM de 768 bytes \n\n?  Oscilador interno de 31KHz \n\n? Oscilador externo de 48 Mhz \n\n? 23 Terminais de I/O que suportam correntes de at\u00e9 25 mA \n\n? 2 Temporizadores de 16 bits y 1 Temporizador de 8 bits \n\n? M\u00f3dulos de comunica\u00e7\u00e3o  serie (EUSART), PWM, CCP \n\n? M\u00f3dulo de comunica\u00e7\u00e3o USB 2.0 \n\n? 10 canais A/D de 10 bits \n\n \n\nEste modelo da fam\u00edlia PIC foi escolhido devido ao fato de possuir 23 \n\nportas configur\u00e1veis de entrada e sa\u00edda, comunica\u00e7\u00e3o serial, conversor A/D e \n\nm\u00f3dulo PWM e CCP, conforme estas caracter\u00edsticas a elabora\u00e7\u00e3o deste dispositivo \n\nfoi poss\u00edvel. \n\n4.1.2 Pinagem do PIC 18F2450 \n\nA pinagem do PIC 18F2450 \u00e9 mostrada na Figura 4.2 e o significado das \n\nnomenclaturas utilizadas na identifica\u00e7\u00e3o desses pinos na Tabela 4.1. \n\n\n\n39 \n \n\n \n\n \n\nFigura 4.2 - Pinagem do PIC 18F2450 \n\n (Fonte: Microchip Technology Datasheet, 2003, p.3) \n\n \n\nTabela 4.1 \u2013 Significado das nomenclaturas dos pinos do PIC18F2450. \n\nN\u00b0 Pino Descri\u00e7\u00e3o \n\n1 MCLR/Vpp/RE3 \nMaster Clear (reset). O microcontrolador funciona quando este pino \n\nest\u00e1 em n\u00edvel alto. \n\n2 \nRA0/ \n\nAN0 \n\nEntrada e sa\u00edda digital. \n\nEntrada anal\u00f3gica. \n\n3 \nRA1 \n\nAN1 \n\nEntrada e sa\u00edda digital. \n\nEntrada anal\u00f3gica. \n\n4 \n\nRA2 \n\nAN2 \n\nVREF \n\nEntrada e sa\u00edda digital. \n\nEntrada anal\u00f3gica. \n\nTens\u00e3o negativa de refer\u00eancia anal\u00f3gica. \n\n5 \n\nRA3 \n\nAN3 \n\nVREF+ \n\nEntrada e sa\u00edda digital. \n\nEntrada anal\u00f3gica. \n\nTens\u00e3o positiva de refer\u00eancia anal\u00f3gica. \n\n6 \n\nRA4 \n\nT0CKI \n\nRCV \n\nEntrada e sa\u00edda digital. Open-drain quando configurado como sa\u00edda. \n\nEntrada externa do contador TMR0. \n\nSa\u00edda do comparador 1. \n\n7 \n\nRA5 \n\nAN4 \n\nSS \n\nC2OUT \n\nEntrada e sa\u00edda digital. \n\nEntrada anal\u00f3gica. \n\nSlave para a comunica\u00e7\u00e3o SPI. \n\nSa\u00edda do comparador 2. \n\n8 \n\nRE0 \n\nRD \n\nAN5 \n\nEntrada e sa\u00edda digital. \n\nControle de leitura da comunica\u00e7\u00e3o paralela. \n\nEntrada anal\u00f3gica. \n\n\n\n40 \n \n\n \n\n9 \n\nRE1 \n\nWR \n\nAN6 \n\nEntrada e sa\u00edda digital \n\nControle de escrita da comunica\u00e7\u00e3o paralela. \n\nEntrada anal\u00f3gica. \n\n10 \n\nRE2 \n\nCS \n\nAN7 \n\nEntrada e sa\u00edda digital. \n\nHabilita\u00e7\u00e3o externa para comunica\u00e7\u00e3o paralela. \n\nEntrada anal\u00f3gica. \n\n11/32 VDD Alimenta\u00e7\u00e3o positiva. \n\n12/31 VSS GND. \n\n13 OSC1/CLKIN Oscilador cristal ou entrada de osciladores externos. \n\n14 OSC2/CLKOUT Sa\u00edda para oscilador cristal. \n\n15 \n\nRC0 \n\nT1OSO \n\nT1CKI \n\nEntrada e sa\u00edda digital. \n\nSa\u00edda do oscilador externo para TMR1. \n\nEntrada de incremento para TMR1. \n\n16 \n\nRC1 \n\nT1OSI \n\nCCP2 \n\nEntrada e sa\u00edda digital. \n\nEntrada do oscilador externo para TMR1. \n\nEntrada do Capture2 ou Sa\u00edda para Compare2/PWM2. \n\n17 \nRC2 \n\nCCP1 \n\nEntrada e sa\u00edda digital. \n\nEntrada do Capture1 ou Sa\u00edda para Compare1/PWM1. \n\n18 \n\nRC3 \n\nSCK \n\nSCL \n\nEntrada e sa\u00edda digital. \n\nEntrada/Sa\u00edda do clock para comunica\u00e7\u00e3o SPI. \n\nEntrada/Sa\u00edda do clock para comunica\u00e7\u00e3o I2C. \n\n19 \nRD0 \n\nPSP0 \n\nEntrada e sa\u00edda digital. \n\nComunica\u00e7\u00e3o paralela. \n\n20 \nRD1 \n\nPSP1 \n\nEntrada e sa\u00edda digital. \n\nComunica\u00e7\u00e3o paralela. \n\n21 \nRD2 \n\nPSP2 \n\nEntrada e sa\u00edda digital. \n\nComunica\u00e7\u00e3o paralela. \n\n22 \nRD3 \n\nPSP3 \n\nEntrada e sa\u00edda digital. \n\nComunica\u00e7\u00e3o paralela. \n\n23 \n\nRC4 \n\nSDI \n\nDAS \n\nEntrada e sa\u00edda digital. \n\nEntrada de dados para comunica\u00e7\u00e3o SPI. \n\nEntrada/Sa\u00edda de dados para comunica\u00e7\u00e3o I2C. \n\n24 \nRC5 \n\nSDO \n\nEntrada e sa\u00edda digital. \n\nSa\u00edda de dados para comunica\u00e7\u00e3o SPI. \n\n25 \n\nRC6 \n\nTX \n\nCK \n\nEntrada e sa\u00edda digital. \n\nTransmiss\u00e3o para comunica\u00e7\u00e3o ass\u00edncrona USART. \n\nClock para comunica\u00e7\u00e3o s\u00edncrona USART. \n\n26 RC7 Entrada e sa\u00edda digital. \n\n\n\n41 \n \n\n \n\nRX \n\nDT \n\nRecep\u00e7\u00e3o para comunica\u00e7\u00e3o ass\u00edncrona USART. \n\nDados para comunica\u00e7\u00e3o s\u00edncrona USART. \n\n27 \nRD4 \n\nPSP4 \n\nEntrada e sa\u00edda digital. \n\nComunica\u00e7\u00e3o paralela. \n\n28 \nRD5 \n\nPSP5 \n\nEntrada e sa\u00edda digital. \n\nComunica\u00e7\u00e3o paralela. \n\n \n\nA pinagem escolhida no projeto pode ser observada na Figura 4.3. Essa \n\nconfigura\u00e7\u00e3o atende \u00e0s necessidades de cada componente utilizado no projeto \n\n \n\nFigura 4.3\u2013 Pinagem do PIC 18F2450 utilizada no projeto. \n\n (Fonte: Microchip, modificada) \n\n4.2 Placa Programadora ICD2 \n\nA placa programadora ICD2 \u00e9 uma dispositivo que permite comunicar o \n\ncomputador diretamente com o PIC. \u00c9 composto do conector ICSP (In-Circuit Serial \n\nProgramming) para grava\u00e7\u00e3o em microcontroladores PIC de 8, 14, 18, 20, 28 e 40 \n\npinos. (MICROCHIP) \n\nA grande vantagem de usar a placa programadora ICD2 com conector \n\nICSP, e a possibilidade de se gravar o c\u00f3digo no microcontrolador sem a retirada do \n\nmesmo do circuito. Isso agiliza os testes e a altera\u00e7\u00e3o em tempo real do c\u00f3digo \n\ndesenvolvido para ajustes no programa. O C\u00f3digo e compilado e enviado do PC \n\npara a Placa Programadora via USB e o Software que faz essa transfer\u00eancia e o \n\nMPLAB IDE, detalhado no pr\u00f3ximo t\u00f3pico. (MICROCHIP) \n\n\n\n42 \n \n\n \n\n \n\n \n\n \n\nFigura 4.4 \u2013 Placa Programadora ICD2 \n\n (Fonte: http://www.microchip.com) \n\n4.3 MPLAB IDE \n\n \n\nO programa MPLab Integrated Development Environment\u00ae vers\u00e3o 8.63, \n\nconforme Figura 4.5, \u00e9 um software gratuito para o desenvolvimento de sistemas \n\nutilizando PICs da Microchip\u00ae. Tem a fun\u00e7\u00e3o de ser um ambiente de \n\ndesenvolvimento para uma linguagem de programa\u00e7\u00e3o que no caso deste projeto foi \n\na linguagem C. O programa \u00e9 executado como um aplicativo de 32 bits no Microsoft \n\nWindows\u00ae.  \n\n \n\nFigura 4.5 \u2013 Programa MPLab IDE\u00ae. (Fonte: Autor) \n\n \n\n\n\n43 \n \n\n \n\n4.4 Servomotor \n\n Um servomotor de giro cont\u00ednuo fabricado pela Chaparral Electronics, modelo Motor \n\nSat, mostrado na Figura 4.6, foi utilizado para movimentar o painel fotovoltaico. Na tabela 4.2 \n\nest\u00e3o as especifica\u00e7\u00f5es t\u00e9cnicas do modelo utilizado. O Servomotor foi escolhido devido ser \n\num equipamento de baixo custo, alta qualidade e alto torque. \n\n \n\nFigura 4.6 \u2013 Servomotor Motor Sat.  \n\n(Fonte: http://www.antenasmundosat.com.br/) \n\n \n\nTabela 4.2 - Especifica\u00e7\u00f5es do servomotor \n\nSERVO Motor Sat \n\nTens\u00e3o de alimenta\u00e7\u00e3o 5 V DC \n\nCorrente 500 mA \n\nTempo de Per\u00edodo 17 \u2013 21 mseg \n\nTemperatura -20\u00b0 C +60\u00b0 C \n\nTamanho do Pulso 0,8 \u2013 2.2 msec. \n\nTamanho \n\n29,5 mm x 20,0 mm x 35,6 \n\nmm \n\nPeso 56 g \n\n \n\n  \n\n \n\n\n\n44 \n \n\n \n\n4.5 Placa Fotovoltaica \n\n A placa fotovoltaica utilizada no projeto, conforme mostrado na Figura 4.7, foi \n\nutilizada para realizar a capta\u00e7\u00e3o da energia sol e identificar o maior ponto de tens\u00e3o \n\nproduzido. Na tabela 4.3 est\u00e3o as especifica\u00e7\u00f5es t\u00e9cnicas do modelo utilizado. \n\n \n\nFigura 4.7 - Especifica\u00e7\u00f5es Placa Fotovoltaica SHSY54 \n\n(Fonte: http://www.dx.com) \n\n \n\n \n\n \n\nTabela 4.3 - Especifica\u00e7\u00f5es Placa Fotovoltaica SHSY54 \n\nPlaca Fotovoltaica SHSY54 \n\nTens\u00e3o M\u00e1xima Gerada 4V \n\nM\u00e1ximo fornecimento de corrente 80mA \n\nDimens\u00f5es  5.4cm x 5.4cm x 0.3cm \n\nPeso 17g \n\n\n\n45 \n \n\n \n\nCAP\u00cdTULO 5 \u2013 IMPLEMENTA\u00c7\u00c3O \n\nNeste cap\u00edtulo s\u00e3o apresentados t\u00f3picos fundamentais para compreens\u00e3o \n\ngeral da implementa\u00e7\u00e3o do projeto, foram definidas as etapas necess\u00e1rias para isso, \n\nque s\u00e3o: \n\n? Simula\u00e7\u00e3o do movimento Solar; \n\n? Elabora\u00e7\u00e3o do circuito; \n\n? Montagem do circuito; \n\n? Programa\u00e7\u00e3o do Microcontrolador; \n\n? Estrutura do Prot\u00f3tipo; \n\n? Montagem do prot\u00f3tipo; \n\nNa Figura 5.1 \u00e9 mostrado o prot\u00f3tipo em sua fase final. \n\n \n\nFigura 5.1 \u2013 Prot\u00f3tipo Conclu\u00eddo (Fonte: Autor) \n\n\n\n46 \n \n\n \n\n5.1 Simula\u00e7\u00e3o do Movimento Solar \n\nPara analisar e simular o movimento aparente do sol, fatores que interferem \n\ndiretamente na radia\u00e7\u00e3o solar sobre a superf\u00edcie o painel fotovoltaico, foi utilizado \n\num software chamado Motions of the Sun Simulator. Com a utiliza\u00e7\u00e3o deste \n\nsoftware, foi poss\u00edvel simular o movimento aparente do sol baseado em diferentes \n\nlatitudes, facilitando a defini\u00e7\u00e3o e planejamento do movimento que o painel \n\nfotovoltaico ir\u00e1 realizar. Conforme apresentado na figura 5.2, foi poss\u00edvel identificar \n\nquais as angula\u00e7\u00f5es no sentido Norte-Sul o prot\u00f3tipo deveria ter para um melhor \n\naproveitamento da capta\u00e7\u00e3o da luz. Dessa forma foi poss\u00edvel maximizar a capta\u00e7\u00e3o \n\njuntamente com o movimento Leste-Oeste que o Painel realiza. \n\n \n\n \n\nFigura 5.2 \u2013Software de an\u00e1lise da movimenta\u00e7\u00e3o Solar \n\n(FONTE: http://astro.unl.edu/) \n\n \n\n \n\n\n\n47 \n \n\n \n\nA tabela 5.1 apresenta a inclina\u00e7\u00e3o Norte-Sul que o prot\u00f3tipo dever\u00e1 ser \n\nposicionado para uma melhor capta\u00e7\u00e3o da incid\u00eancia da luz solar, j\u00e1 que essa \n\nmovimenta\u00e7\u00e3o n\u00e3o e contemplada pelo prot\u00f3tipo. Essa angula\u00e7\u00e3o \u00e9 gerada pelo \n\nSoftware Motions of the Sun Simulator. \n\n \n\n \n\nTabela 5.1 \u2013 Posi\u00e7\u00e3o Norte-Sul \n\nM\u00eas \nAltura do Sol Inclina\u00e7\u00e3o Inclinar \n\n( Sun Altitude ) ( Array Tilt ) para o: \n\nJAN 85 5 Sul \n\nFEV 86 4 Norte \n\nMAR 75 15 Norte \n\nABR 63 27 Norte \n\nMAI 55 35 Norte \n\nJUN 52 38 Norte \n\nJUL 55 35 Norte \n\nAGO 63 27 Norte \n\nSET 75 15 Norte \n\nOUT 87 3 Norte \n\nNOV 85 5 Sul \n\nDEZ 82 8 Sul \n\n    Fonte: www.heliodon.com.br \n\n \n\n5.2 Elabora\u00e7\u00e3o do Circuito \n\nO Primeiro passo realizado no desenvolvimento do prot\u00f3tipo foi \u00e0 cria\u00e7\u00e3o \n\ndo circuito atrav\u00e9s do software PCAD, onde foi poss\u00edvel planejar e dimensionar todos \n\nos componentes necess\u00e1rios para o desenvolvimento do sistema. Foram  projetadas \n\ntodas as conex\u00f5es que o circuito realizaria com o microcontrolador PIC18F2450, \n\ncomo pode ser observado na Figura 5.3. Durante o desenvolvimento do projeto o \n\nmodelo do circuito foi ajustado, para atender necessidades do modelo real. \n\n \n\n\n\n48 \n \n\n \n\n \n\nFigura 5.3 \u2013 Modelo do Circuito (Fonte: Autor) \n\n \n\n5.3 Montagem do Circuito \n\nEm uma Protoboard MP 830\u00aa, foi realizado a montagem do circuito. Como \n\na fonte de alimenta\u00e7\u00e3o \u00e9 de 9v, foi utilizado um regulador de tens\u00e3o LM7805 para \n\nconvers\u00e3o da tens\u00e3o em 5v, para assim alimentar o Microcontrolador PIC18F2450 e \n\no Servomotor que tem sua tens\u00e3o de trabalho em 5v. \n\n  O servomotor foi conectado ao PIC atrav\u00e9s do pino 13, que \u00e9 uma porta de \n\ninput\\output digital e com fun\u00e7\u00e3o PWM. A alimenta\u00e7\u00e3o do servo foi feita atrav\u00e9s de \n\numa liga\u00e7\u00e3o direta ao circuito regulador de tens\u00e3o evitando interfer\u00eancias no \n\nfuncionamento do microcontrolador. As placas Fotovoltaicas que coleta informa\u00e7\u00f5es \n\nsobre a posi\u00e7\u00e3o do sol baseado na tens\u00e3o gerada, foi conectado no pino 2 de \n\nentrada  anal\u00f3gica. A Figura 5.4 ilustra  o circuito montado na protoboard. \n\n  \n\n\n\n49 \n \n\n \n\n \n\nFigura 5.4 \u2013 Circuito do Projeto (Fonte: Autor) \n\n \n\n5.4 Programa\u00e7\u00e3o do Microcontrolador \n\n A programa\u00e7\u00e3o e compila\u00e7\u00e3o do c\u00f3digo do microcontrolador foi feito \n\nrealizado em linguagem de programa\u00e7\u00e3o C, utilizando a plataforma do MPLAB. Para \n\nrealizar a grava\u00e7\u00e3o do Microcontrolador foi utilizado a placa programador ICD2. A \n\nFigura 5.5 demonstra a plataforma MPLAB com a compila\u00e7\u00e3o do c\u00f3digo. \n\n \n\nFigura 5.5 \u2013 Plataforma MPLAB (Fonte: Autor) \n\n \n\n\n\n50 \n \n\n \n\n O c\u00f3digo foi escrito obedecendo ao diagrama de fluxo mostrado na Figura \n\n5.5. Ao iniciar a execu\u00e7\u00e3o do c\u00f3digo, \u00e9 zerado os valores das vari\u00e1veis do programa, \n\nonde \u00e9 feito o armazenamento dos valores captados pelas placas fotovoltaicas  para \n\nrealizar os comandos de compara\u00e7\u00e3o e execu\u00e7\u00e3o do programa. A leitura da tens\u00e3o \n\nproduzida pelas placas \u00e9 realizada ela porta anal\u00f3gica do pino 2. \n\n Ap\u00f3s leitura s\u00e3o obtidos valores que podem variar entre 0 e 1023, de acordo \n\ncom a tens\u00e3o sobre as placas fotovoltaicas. A rela\u00e7\u00e3o entre a tens\u00e3o e o valor  lido \n\nna porta  anal\u00f3gica  pode ser obtida pela f\u00f3rmula (7).  \n\n \n\n (7) \n\n Ap\u00f3s a inicializa\u00e7\u00e3o das vari\u00e1veis \u00e9 realizada a primeira leitura dos pain\u00e9is \n\nfotovoltaicos, enquanto esse valor for igual a 0, o programa executa essa fun\u00e7\u00e3o de \n\nleitura em fra\u00e7\u00f5es de tempo, pois esse estado identifica um padr\u00e3o de n\u00e3o produ\u00e7\u00e3o \n\nde energia o que evita o gasto desnecess\u00e1rio do sistema. \n\n Quando identificado que o painel est\u00e1 gerando energia, o microcontrolador \n\nrealiza a capta\u00e7\u00e3o do valor da tens\u00e3o e faz o armazenamento para posterior \n\ncompara\u00e7\u00e3o com um novo valor captado. O microcontrolador envia um sinal PWM \n\nao servomotor para uma leve movimenta\u00e7\u00e3o das placas, realiza uma nova captura \n\ndo valor  de tens\u00e3o e  compara com o valor j\u00e1 armazenado. Caso o valor seja maior \n\no microcontrolador repetir\u00e1 esse ciclo at\u00e9 que identifique uma queda na capta\u00e7\u00e3o. \n\nAp\u00f3s identificar uma queda na tens\u00e3o produzida pelas placas, o microcontrolador \n\nenvia um sinal PWM ao servomotor para retornar para a posi\u00e7\u00e3o anterior, onde foi \n\nidentificada a maior radia\u00e7\u00e3o solar devido a maior tens\u00e3o gerada pelas placas \n\nfotovoltaicas. Esse movimento garante que as placas fiquem sempre \n\nperpendiculares \u00e0 incid\u00eancia da luz solar tendo sua produ\u00e7\u00e3o maximizada. \n\nA porta anal\u00f3gica 2 \u00e9 consultada em fra\u00e7\u00f5es de tempo,  sempre que \n\nhouver uma queda no valor da tens\u00e3o com rela\u00e7\u00e3o ao valor anterior, o \n\n\n\n51 \n \n\n \n\nmicrocontrolador ir\u00e1 enviar um novo sinal PWM para o servomotor e realizar uma \n\nnova leitura, repetira esse fluxo at\u00e9 o encontro do ponto m\u00e1ximo. \n\n Ao chegar ao fim do curso do servomotor, o microcontrolador detecta o valor \n\na porta anal\u00f3gica 2 at\u00e9 que o valor seja igual a zero, identificando assim o inicio da \n\nnoite e garantindo total produ\u00e7\u00e3o de energia pelas placas fotovoltaicas. Ap\u00f3s \n\ndetectado o valor igual a zero na porta anal\u00f3gica o microcontrolador envia um sinal \n\nPWM ao servomotor para que ele retorne ao ponto inicial, aguardando o amanhecer. \n\nDurante esse per\u00edodo o sistema entra em m\u00f3dulo de aguardo por um per\u00edodo de \n\nhoras determinado.  \n\n O c\u00f3digo utilizado para a programa\u00e7\u00e3o do microcontrolador \u00e9 apresentado em \n\nAp\u00eandice \"A\" deste trabalho. \n\n \n\n \n\n\n\n52 \n \n\n \n\n5.5 Fluxograma Geral do Sistema \n\n flow  chart Logical View\n\nMain\n\nInitializeBoard()\n\nLoop\n\nLoop\n\nDi\u00e1rio\n\nInitVars()\n\n1. Zerar Contador\n\n2. Zerar Var\u00edavel deT ens\u00e3o Anterior\n\n3. Zerar Vari\u00e1vel de T ens\u00e3o Atual\n\nLerT ens\u00e3o()\n\ntens\u00e3o > tens\u00e3oAnterior\n\nIncrementar \u00e2ngulo\n\nSleep()\n\nFim de\n\nCurso\n\nAtualizar Vari\u00e1vel\n\nAnterior\n\nEnquanto\n\ntens\u00e3o > 0\n\nLerT ens\u00e3o()\n\nRetornar Painel\n\nEnquanto\n\ntens\u00e3o = 0\n\nLerT ens\u00e3o()\n\nsim\n\nn\u00e3o\n\nn\u00e3o\n\nsim\n\nn\u00e3o\n\nsim\n\n \n\nFigura 5.6 \u2013 Fluxograma do Programa (Fonte: Autor) \n\n \n\n\n\n53 \n \n\n \n\n5.6 Estrutura do Prot\u00f3tipo \n\nPrimeiramente, foi constru\u00edda uma estrutura de papel\u00e3o da maquete do \n\nprot\u00f3tipo para que fosse identificado o melhor enquadramento das placas \n\nfotovoltaicas e do servomotor. A figura 5.7 ilustra o primeiro modelo do \n\nprot\u00f3tipo. \n\n \n\n \n\nFigura 5.7 \u2013 Primeiro modelo do Prot\u00f3tipo (Fonte: Autor) \n\n \n\n Posterior \u00e0 defini\u00e7\u00e3o do layout da estrutura do prot\u00f3tipo, o qual seria \n\nconstru\u00eddo, foi realizado o desenho no software AutoCAD para que posteriormente \n\nfosse enviada a impressora 3D. O layout da estrutura foi criado para suportar as \n\nduas placas fotovoltaicas e o servomotor, o qual foi confeccionado em pl\u00e1stico ABS. \n\nA posi\u00e7\u00e3o escolhida para o servomotor foi para anular o uso de engrenagens e o \n\nservo controlar diretamente ao eixo de suporte das placas. Dessa forma foi poss\u00edvel \n\nter um controle mais eficiente na movimenta\u00e7\u00e3o do \u00e2ngulo das placas. As figuras 5.8 \n\ne 5.9 ilustram a proje\u00e7\u00e3o do desenho do prot\u00f3tipo no AutoCAD da estrutura do \n\nprot\u00f3tipo. \n\n \n\n \n\n\n\n54 \n \n\n \n\n \n\n \n\n \n\n \n\nFigura 5.8 \u2013 Proje\u00e7\u00e3o do Prot\u00f3tipo no AutoCAD (Fonte: Autor) \n\n \n\n \n\n \n\nFigura 5.9 \u2013 Proje\u00e7\u00e3o do Prot\u00f3tipo desmontado no AutoCAD (Fonte: Autor) \n\n \n\n A figura 5.10 demonstra a proje\u00e7\u00e3o do desenho das pe\u00e7as separadas no \n\nsoftware da impressora 3D. \n\n \n\n\n\n55 \n \n\n \n\n \n\nFigura 5.10 \u2013 Software Impressora 3D (Fonte: Autor) \n\n A figura 5.11 ilustra o instante em que era impresso a estrutura do prot\u00f3tipo \n\nna impressora 3D. A impress\u00e3o e realizada com pl\u00e1stico ABS especifico para esse \n\ntipo de impressora. \n\n \n\n \n\nFigura 5.11 \u2013 Impress\u00e3o em  Impressora 3D (Fonte: Autor) \n\n \n\n\n\n56 \n \n\n \n\nAp\u00f3s a finaliza\u00e7\u00e3o da impress\u00e3o foi realizado a montagem e acoplamento do \n\nmotor a estrutura do prot\u00f3tipo, conforme apresentado na figura 5.12.  \n\n \n\nFigura 5.12 \u2013 Montagem da Estruura (Fonte: Autor) \n\n \n\nA figura 5.13 demonstra a montagem dos fixadores das placas fotovoltaicas e \n\no eixo que e engatado ao servomotor. \n\n \n\nFigura 5.13 \u2013 Suporte das Placas Fotovoltaicas (Fonte: Autor) \n\n \n\n\n\n57 \n \n\n \n\n5.7 Montagem do Prot\u00f3tipo \n\nAp\u00f3s a montagem da estrutura, foi conectado o servomotor ao circuito do \n\nprot\u00f3tipo, conectando o fio de sinal ao pino 2 do micro controlador e os fios de \n\nalimenta\u00e7\u00e3o (positivo e negativo) ao regulador de tens\u00e3o. Na  figura 5.14 \u00e9 \n\napresentado o prot\u00f3tipo com todas as conex\u00f5es montadas. \n\n \n\n \n\nFigura 5.14 - Prot\u00f3tipo finalizado (Fonte: Autor) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n58 \n \n\n \n\nCAP\u00cdTULO 6 \u2013 RESULTADOS OBTIDOS \n\nNeste cap\u00edtulo \u00e9 apresentado todo o desenvolvimento das simula\u00e7\u00f5es \n\nfeitas com o projeto, suas fun\u00e7\u00f5es e todos os problemas ocorridos durante o per\u00edodo \n\nde desenvolvimento. \n\n6.1 Simula\u00e7\u00f5es \n\nPara comprova\u00e7\u00e3o da efetividade do prototipo e sua efici\u00eancia, foram \n\nrealizados duas simula\u00e7\u00f5es como testes.  \n\n6.1.1 Simula\u00e7\u00e3o Seguidor de Intensidade de Luz \n\nA primeira simula\u00e7\u00e3o foi realizada com uma lanterna de super LED para \n\navaliar o funcionamento do prot\u00f3tipo. Como a finalidade era fazer com que o \n\nprot\u00f3tipo buscasse sempre a maior incid\u00eancia da luz e que as placas ficassem \n\nsempre em uma posi\u00e7\u00e3o perpendicular ao ponto emissor da luz, essa simula\u00e7\u00e3o \n\nocorreu com sucesso. O Seguidor se  manteve sempre voltado perpendicularmente \n\nao ponto de emiss\u00e3o que no caso era a lanterna. Foram realizados  vinte repeti\u00e7\u00f5es \n\npara avaliar a precis\u00e3o do seguidor, em todas elas foram bem sucedidas. \n\n6.1.2 Simula\u00e7\u00e3o Comparativa \n\nPara avaliar um resultado melhor do desempenho do prot\u00f3tipo, foi \n\nrealizado uma segunda simula\u00e7\u00e3o, dessa vez com o intuito de ser um comparativo \n\nentre uma placa fixa posicionada em um \u00e2ngulo de 30\u00b0 referente ao plano da \n\nsuperf\u00edcie terrestre, simulando uma instala\u00e7\u00e3o convencional, e o prot\u00f3tipo em \n\nfuncionamento buscando sempre a maior incid\u00eancia de luz. Ambos foram colocados \n\nna posi\u00e7\u00e3o Leste-Oeste e a fonte de Luz simulava o movimento Solar. Para realizar \n\nessa simula\u00e7\u00e3o tamb\u00e9m foi utilizado a lanterna de superLED, um transferidor de \n\n180\u00b0 e uma r\u00e9gua de 30cm. A lanterna foi fixada na extremidade da r\u00e9gua e a outra \n\n\n\n59 \n \n\n \n\nextremidade fixada ao transferidor para medi\u00e7\u00e3o do \u00e2ngulo de incid\u00eancia. Com os \n\nresultados obtidos foi poss\u00edvel gerar o quadro 6, onde os resultados foram bem \n\nsatisfat\u00f3rios. Os resultados foram obtidos atrav\u00e9s da media das vinte repeti\u00e7\u00f5es \n\nrealizadas com o prot\u00f3tipo. \n\n \n\n \n\nQuadro 6 \u2013 Comparativo de Tens\u00e3o produzida \n\nPosi\u00e7\u00e3o da Luz \nPlaca Fixa 30\u00b0 \n\n(Tens\u00e3o V) \n\nProt\u00f3tipo \n\n(Tens\u00e3o V) \n% de incremento \n\nLeste 15\u00b0 2,87 2,64 -8% \n\nLeste 30\u00b0 2,91 2,63 -10% \n\nLeste 45\u00b0 2,82 2,73 -3% \n\nLeste 60\u00b0 2,49 2,9 16% \n\nLeste 75\u00b0 2,24 2,74 22% \n\n90\u00b0 2,15 2,69 25% \n\nOeste 75\u00b0 2 2,81 41% \n\nOeste 60\u00b0 1,89 2,9 53% \n\nOeste 45\u00b0 0,6 2,77 362% \n\nOeste 30\u00b0 0,15 2,76 1740% \n\nOeste 15\u00b0 0,02 2,8 13900% \n\nFonte: Autor \n\n6.2 Problemas Encontrados \n\nAquisi\u00e7\u00e3o de componentes eletr\u00f4nicos em Bras\u00edlia \u00e9  bastante limitado. \n\nFoi necess\u00e1rio realizar a importa\u00e7\u00e3o das Placas Fotovoltaicas por quest\u00e3o de \n\ncustos. Outro fator \u00e9 o alto pre\u00e7o local, grande parte dos componentes foram \n\nadquiridos via internet no estado de S\u00e3o Paulo. \n\nA proposta inicial do Projeto era de trabalhar com o microcontrolador \n\nBasicstep da empresa Tato, por\u00e9m ocorreram falhas na placa gravadora e a \n\naquisi\u00e7\u00e3o de uma nova placa demoraria bastante. \n\nDurante o per\u00edodo de apresenta\u00e7\u00e3o do semin\u00e1rio, a placa programadora \n\nsofreu um dano e n\u00e3o estava realizando a grava\u00e7\u00e3o do Microcontrolador PIC, o que \n\nfoi necess\u00e1rio a aquisi\u00e7\u00e3o de uma nova placa.  \n\n\n\n60 \n \n\n \n\n6.3 Or\u00e7amento do Projeto \n\nA aquisi\u00e7\u00e3o dos componentes eletr\u00f4nicos para o projeto foi realizada e foi \n\nfundamental para o projeto. Abaixo o Quadro 6.2 detalha os componentes e o seus \n\ndevidos custos. \n\nQuadro 6.1 \u2013 Custo do Projeto \n\nItem Custo Unit\u00e1rio Quantidade Custo Total \n\nPIC18F2450 \u2013 MicroChip R$ 42,90 1 R$ 42,90 \n\nCristal Quartzo 10MHz R$ 1,40 1 R$ 1,40 \n\nPROTOBOARD MP 830\u00aa R$ 16,10 1 R$ 16,10 \n\nPlaca Fotovoltaica R$ 8,00 4 R$ 24,00 \n\nServo Motor Posi\u00e7\u00e3o R$ 50,00 1 R$ 50,00 \n\nImpress\u00e3o da Estrutura do Prototipo R$ 200,00 1 R$ 200,00 \n\nRegulador de Tens\u00e3o LM7805 R$ 1,79 1 R$ 1,79 \n\nResistor 1K ohms R$ 0,30 10 R$ 3,00 \n\nResistor 10K ohms R$ 0,30 5 R$ 1,50 \n\nResistor 100K ohms R$ 0,30 5 R$ 1,50 \n\nMult\u00edmetro digital - Minipa ET-880 R$ 49,00 1 R$ 49,00 \n\nFonte de Alimenta\u00e7\u00e3o 9 V  R$ 25,00 1 R$ 25,00 \n\nTOTAL - - R$ 416,19 \n\nFonte: Autor. \n\n \n\n\n\n61 \n \n\n \n\n6.4 Prot\u00f3tipo Final \n\nConforme mostrado na Figura 6.1, o projeto com todos seus componentes \n\nconectados. \n\n \n\n \n\nFigura 6.1 \u2013 Projeto Completo (Fonte: Autor) \n\n\n\n62 \n \n\n \n\nCAP\u00cdTULO 7 \u2013 CONSIDERA\u00c7\u00d5ES FINAIS \n\nNeste cap\u00edtulo s\u00e3o apresentadas as conclus\u00f5es e as propostas para \n\ntrabalhos futuros, que podem utilizar este projeto como base. \n\n7.1 Conclus\u00f5es \n\nFoi desenvolvido neste trabalho um dispositivo de maximiza\u00e7\u00e3o de \n\ncapta\u00e7\u00e3o da luz solar . Com os testes realizados em situa\u00e7\u00f5es de simula\u00e7\u00e3o do \n\nmovimento do Sol, o prot\u00f3tipo funcionou conforme o previsto, e desta forma pode ser \n\ndesenvolvido em escala maior para que seja implantado em ambientes remotos \n\nonde h\u00e1 escassez de energia ou at\u00e9 mesmo em instala\u00e7\u00f5es de placas Fotovoltaicas \n\nfixas, maximizando sua produ\u00e7\u00e3o. \n\nA proposta de se construir um seguidor solar o qual realizou a \n\nmovimenta\u00e7\u00e3o da placa fotovoltaica, mantendo-a  sempre perpendicular aos raios \n\nsolares e no maior ponto de produ\u00e7\u00e3o da placa foram alcan\u00e7ados, o prot\u00f3tipo \n\nfunciona conforme o planejado. Ocorreram alguns imprevistos durante o processo de \n\nconfec\u00e7\u00e3o, mas isso foi superado. \n\nO microcontrolador PIC18F2450 atendeu completamente as fun\u00e7\u00f5es do \n\nprot\u00f3tipo, a biblioteca do PIC18 voltada para o uso da fun\u00e7\u00e3o PWM, facilitou \n\nbastante o desenvolvimento da logica do microcontrolador. Como o PIC 18F possui \n\nbastantes funcionalidades e disp\u00f5em de v\u00e1rios pinos, ainda poderiam ser \n\nadicionados outros componentes caso futuramente seja inclu\u00eddo ao projeto. O \n\ncircuito foi projetado com sucesso e o funcionamento do mesmo foi excelente \n\natendendo as expectativas criadas no inicio do projeto. A integra\u00e7\u00e3o entre as \n\nplacasfotovoltaicas, servomotor e o microcontrolador funcionaram conforme o \n\nplanejado. \n\nO Prot\u00f3tipo foi constru\u00eddo em escala reduzida para comprova\u00e7\u00e3o de sua \n\nefici\u00eancia. Para uma constru\u00e7\u00e3o em escala real, dever\u00e1 ser alterado o motor que \n\nrealiza o deslocamento das placas para um motor de indu\u00e7\u00e3o, para que possa \n\nsuportar o peso de placas mais robustas e potentes. Para a estrutura de sustenta\u00e7\u00e3o \n\ndever\u00e1 ser constru\u00eddo e, material mais resistente como a\u00e7o ou alum\u00ednio, que suporte \n\n\n\n63 \n \n\n \n\ntodo o peso de motor, placas e eixos. O sistema microcontrolado  poder\u00e1 ser \n\nmantido conforme constru\u00eddo para o prot\u00f3tipo, mantendo-se tamb\u00e9m a logica de \n\nprograma\u00e7\u00e3o. \n\n7.2 Propostas para Trabalhos Futuros \n\nCom o desenvolvimento da monografia e do modelo apresentado, algumas \n\nsugest\u00f5es para evolu\u00e7\u00e3o do estudo foram visualizadas, s\u00e3o elas:  \n\n? Incluir na estrutura e na l\u00f3gica de programa\u00e7\u00e3o o deslocamento norte-sul, \n\nfazendo com que a placa realize o movimento completo do sol; \n\n \n\n? Alterar a estrutura do prot\u00f3tipo para adaptar o servomotor de uma forma que \n\nalterando o motor n\u00e3o impactar\u00e1 o mecanismo \n\n \n\n? Adicionar ao prot\u00f3tipo um sistema de baterias, carregadas pela energia \n\ngerada pelas placas fotovoltaicas transformando em um sistema \n\nindependente de fontes externas. \n\n \n\n? Foram realizados v\u00e1rios testes comprovando a efici\u00eancia do prot\u00f3tipo em \n\nrela\u00e7\u00e3o \u00e0 uma instala\u00e7\u00e3o fixa, deve-se realizar testes que certifique essa \n\nefici\u00eancia conforme padr\u00f5es oficiais de certifica\u00e7\u00f5es. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n  \n\n  \n\n\n\n64 \n \n\n \n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS \n\n \n\n \n\nCRESESB, 2006 (Centro de Refer\u00eancia para Energia Solar e E\u00f3lica S\u00e9rgio de Salvo \n\nBrito), Manual de Engenharia para Sistemas Fotovoltaicos. \n\nGREENPRO. Energia Fotovoltaica. Dispon\u00edvel em: \n\n<http://www.greenpro.de/po/fotovoltaico.pdf>. Acessado em 08 de mai. 2013. \n\nHeliotec. Geometria Solar. Dispon\u00edvel em: \n\n<http://www.heliodon.com.br/geometria_solar.html>. Acessado em 13 de mar. 2013. \n\nMICROCHIP TECHNOLOGY INC. PIC18F2450. DataSheet: 28/40/44-Pin Enhanced \n\nFlash Microcontrollers. 2006. Dispon\u00edvel em: \n\n<http://ww1.microchip.com/downloads/en/DeviceDoc/39760a.pdf> Acesso em 2 mai. \n\n2013. \n\nMotions of the Sun. Motions of the Sun Simulator. Dispon\u00edvel em: \n\n<http://astro.unl.edu/classaction/animations/coordsmotion/sunmotions.html>. \n\nAcessado em 08 de mai. 2013. \n\nNASCIMENTO, C\u00e1ssio Ara\u00fajo do; C\u00e9lulas Fotovoltaicas. Departamento de \n\nEngenharia da Universidade Federal de Lavras, 2004. \n\nO Globo. Um milh\u00e3o de lares brasileiros n\u00e3o t\u00eam energia el\u00e9trica. Publicado em 26 \n\nde dez 2012. Dispon\u00edvel em&lt;http://oglobo.globo.com/economia/um-milhao-de-lares-\n\nbrasileiros-nao-tem-energia-eletrica-7132890 >. Acesso em 17 de mar 2013. \n\nPEREIRA, F. Microcontroladores PIC: Programa\u00e7\u00e3o em C. 7\u00aa. Ed. S\u00e3o Paulo: \u00c9rica, \n\n2007. \n\n\n\n65 \n \n\n \n\nSEESP. Debate de impactos ambientais da gera\u00e7\u00e3o de energia el\u00e9trica. Dispon\u00edvel \n\nem:&lt;http://www.seesp.org.br/site/imprensa/noticias/item/4106-unesp-debate-\n\nimpactos-ambientais-da-gera%C3%A7%C3%A3o-de-energia-el%C3%A9trica.html>. \n\nAcessado em 08 de mai. 2013. \n\nSOUZA, David Jose de; SOUSA, Daniel Rodrigues de. Desbravando o \n\nMicrocontroladores PIC18: Ensino Did\u00e1tico. S\u00e3o Paulo: \u00c9rica, 2012. \n\nSOUZA, David Jose de; SOUSA, Daniel Rodrigues de; LAVINIA, Nicol\u00e1s C\u00e9sar. \n\nDesbravando o Microcontroladores PIC18: Recursos Avan\u00e7ados. S\u00e3o Paulo: \u00c9rica, \n\n2012. \n\nSOUZA, D. J. de; LAVINIA, N. C. Conectando o PIC 16F877A: Recursos Avan\u00e7a-\n\ndos. 2\u00aa. Ed. S\u00e3o Paulo: \u00c9rica, 2005. \n\nTIPLER, Paul A, F\u00edsica, Eletricidade, Magnetismo e \u00d3tica, Vol 2. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n66 \n \n\n \n\nAP\u00caNDICE A \u2013 C\u00d3DIGO FONTE DO DISPOSITIVO \n\n#include \"Main.h\" \n\n#include \"fgdelay.h\" \n\n \n\n#pragma config PLLDIV=1, CPUDIV=OSC3_PLL4, USBDIV=2, FOSC=XT_XT, \n\nBOR=OFF, WDT=OFF, XINST=OFF, PBADEN=OFF, MCLRE=OFF, STVREN=OFF, \n\nLVP=OFF \n\n \n\n/** \n\n * Configura\u00e7\u00e3o do clock \n\n * \n\n * PLLDIV = 1           No prescale (4 MHz oscillator input drives PLL directly) \n\n * CPUDIV = OSC3_PLL4   [Primary Oscillator Src: /3][96 MHz PLL Src: /4] \n\n * \n\n * Com essa configura\u00e7\u00e3o o PIC ir\u00e1 operar em 1,3333 MHz (4MHz/3) \n\n */ \n\n \n\nstatic void InitializeBoard(void); \n\n \n\n#include \"adc.h\" \n\n \n\n#define SERVO_POS_INICIAL 95 \n\n#define SERVO_POS_FINAL  170 \n\n \n\nvoid main(void) { \n\n \n\n    UINT8 i, servoPosicao, pontoMaximo; \n\n    UINT16 adcRead, adcLast; \n\n    BOOL fimDoDia = FALSE; \n\n \n\n    InitializeBoard(); \n\n \n\n    LED1 = 0; \n\n    LED2 = 0; \n\n    LED3 = 0; \n\n    LED4 = 0; \n\n \n\n    while (1) { \n\n \n\n        // Posi\u00e7\u00e3o inicial do servo \n\n     servoPosicao = SERVO_POS_INICIAL; \n\n \n\n        startPWM(servoPosicao); \n\n        delaySegundos(1); \n\n \n\n        adcRead  = 0; \n\n        adcLast  = 0; \n\n        pontoMaximo = 0; \n\n \n\n\n\n67 \n \n\n \n\n        while (1) { \n\n \n\n         LED4 = 1; \n\n \n\n         readANS(&amp;adcRead, 0, 10); \n\n \n\n         if(fimDoDia) { \n\n          if(adcRead &lt;10) { \n\n           fimDoDia = FALSE; \n\n           LED4 = 0; \n\n           delaySegundos(5); \n\n           break; \n\n          } \n\n         } \n\n         else { \n\n \n\n    if(adcRead == adcLast) { \n\n     i--; \n\n     continue; \n\n    } \n\n \n\n    if(adcRead > adcLast) { \n\n     if(servoPosicao &lt;SERVO_POS_FINAL) \n\n++servoPosicao; \n\n    } \n\n    else { \n\n     if(servoPosicao+2 > pontoMaximo) --servoPosicao; \n\n     delay_ms(100); \n\n    } \n\n \n\n    if(pontoMaximo &lt;servoPosicao) pontoMaximo = servoPosicao; \n\n \n\n    startPWM(servoPosicao); \n\n    delay_ms(100); \n\n    stopPWM(); \n\n    delay_ms(100); \n\n \n\n    adcLast = adcRead; \n\n \n\n    if(servoPosicao == SERVO_POS_FINAL) { \n\n           fimDoDia = TRUE; \n\n    } \n\n         } \n\n     } \n\n    } \n\n} \n\n \n\n/** \n\n * Faz a leitura de um canal do conversor A/D \n\n */ \n\nvoid readANS(UINT16 *data, UINT8 canal, UINT8 size) { \n\n\n\n68 \n \n\n \n\n \n\n UINT8 i; \n\n UINT32 vetor = 0; \n\n SetChanADC(canal); \n\n for(i=0; i<size; i++) { \n\n  ConvertADC(); \n\n  while( BusyADC() ); \n\n  vetor += (UINT32)ReadADC(); \n\n } \n\n *data = round((float)vetor / size); \n\n} \n\n \n\n// Fun\u00e7\u00f5es de utilidade geral \n\nUINT16 round (float x) { \n\n return (UINT16)(x + 0.5f); \n\n} \n\n \n\n \n\nstatic void InitializeBoard(void) { \n\n \n\n    TRIS_LED1 = 0; \n\n    TRIS_LED2 = 0; \n\n    TRIS_LED3 = 0; \n\n    TRIS_LED4 = 0; \n\n \n\n    TRIS_ADC = 1; \n\n \n\n // Config A/D \n\n OpenADC(  ADC_RIGHT_JUST &amp; ADC_FOSC_2 &amp; ADC_2_TAD, \n\n    ADC_CH0 &amp; ADC_INT_OFF &amp; ADC_VREFPLUS_VDD &amp; \n\nADC_REF_VDD_VSS, \n\n    ADC_0ANA); \n\n \n\n} \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n69 \n \n\n \n\nAP\u00caNDICE B \u2013 BIBLIOTECA PWM \n\n#ifndef __PWM_H \n\n#define __PWM_H \n\n/***************************************************************************\n\n*** \n\n // *                  PULSE WIDTH MODULATION (PWM)  PERIPHERAL LIBRARY \n\nHEADER FILE \n\n \n\n***************************************************************************\n\n*** \n\n * FileName:          pwm.h \n\n * Dependencies:     See include below \n\n * Processor:         PIC18 \n\n * Compiler:          MCC18 \n\n * Company:           Microchip Technology, Inc. \n\n * \n\n * Software License Agreement \n\n * The software supplied herewith by Microchip Technology Incorporated \n\n * (the \u201cCompany\u201d) for its PICmicro\u00ae Microcontroller is intended and \n\n * supplied to you, the Company\u2019s customer, for use solely and \n\n * exclusively on Microchip PICmicro Microcontroller products. The \n\n * software is owned by the Company and/or its supplier, and is \n\n * protected under applicable copyright laws. All rights are reserved. \n\n * Any use in violation of the foregoing restrictions may subject the \n\n * user to criminal sanctions under applicable laws, as well as to \n\n * civil liability for the breach of the terms and conditions of this \n\n * license. \n\n * \n\n * THIS SOFTWARE IS PROVIDED IN AN \u201cAS IS\u201d CONDITION. NO WARRANTIES, \n\n * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT \n\nLIMITED \n\n * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n\n * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL \n\nNOT, \n\n * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR \n\n * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER. \n\n \n\n***************************************************************************\n\n**/ \n\n  \n\n#include&lt;pconfig.h> \n\n \n\n/* There are five library modules, corresponding to register names: \n\n *  PWM1  (CCPCON1) \n\n *  PWM2  (CCPCON2) \n\n *  PWM3  (CCPCON3) \n\n *  PWM4  (CCPCON4) \n\n *  PWM5  (CCPCON5) \n\n *  EPWM1  (ECCPCON1) \n\n\n\n70 \n \n\n \n\n *  Each module is defined only for those devices for which the register \n\n *  name is defined. \n\n *  Note that the 'E' prefix indicates enhanced CCP capability (in ECCPCON1, \n\n *  for example); however, the absence of the 'E' prefix does not imply \n\n *  lack of enhanced capability.  The usage of the 'E' prefix is indicative  \n\n *  of the register naming convention in the datasheets, not the \n\n *  functionality. \n\n */ \n\n \n\n /* For each module, there are three routines: an 'open' routine, \n\n  * a 'SetDC' routine, and a 'close' routine. \n\n  * \n\n  * The 'open' routine \n\n  *   - sets the PWM mode as single output; \n\n  *   - sets the PWM period, as specified by the routine's parameter; \n\n  *   - configures the CCPx port pin for output; \n\n  *   - begins the PWM operation. \n\n  * \n\n  * The 'SetDC' routine sets the duty cycle, as specified by the routine's \n\n  * parameter. \n\n  * \n\n  * The 'close' routine turns off PWM operation and configures the CCPx port \n\n  * pin to input. \n\n  * \n\n  * For devices with enhanced CCP capability, an additional 'SetOutput' \n\n  * routine is provided.  This routine takes two parameters: \n\n  *   - 'output_config' is the output configuration: \n\n  *         single output  \n\n  *         full bridge output foward \n\n  *         half bridge output \n\n  *         full bridge output reverse \n\n  *   - 'pwm_mode' is the PWM mode:  \n\n  *         PxA,PxC active high; PxB,PxD active high \n\n  *         PxA,PxC active high; PxB,PxD active low  \n\n  *         PxA,PxC active low; PxB,PxD active high \n\n  *         PxA,PxC active low; PxB,PxD active low  \n\n  * These parameters are represented by symbolic constants defined below. \n\n  * The 'SetOutput' routines set the output configuration and PWM mode; \n\n  * they also configure the port pins corresponding to the output \n\n  * configuration for output.  Note that unlike the 'open' routines, these \n\n  * routines do not set the period nor begin the PWM operation. \n\n  */ \n\n \n\n/* Union used to hold the 10-bit duty cycle */ \n\nunion PWMDC \n\n{ \n\n    unsigned int lpwm; \n\n    char bpwm[2]; \n\n}; \n\n \n\n \n\n\n\n71 \n \n\n \n\n/* ***** Enhanced CCP ***** */ \n\n/* These devices have enhanced CCP capability.  For PWM, this means up to \n\n * four outputs.  The 'SetOutput' routines are defined for those modules \n\n * with this enhanced functionality.  These routines set the output \n\n * configuration and the PWM mode, as well as configure the appropriate \n\n * port pins for output.  Note that the port pins configured are those \n\n * corresponding to microcontroller mode. \n\n */ \n\n#define PWM_V4 \n\n  \n\n#if  defined (PWM_V4) || defined (PWM_V5) || defined (PWM_V6) ||\\ \n\n     defined (EPWM_V7) || defined (PWM_V8) || defined (PWM_V10) || \\ \n\n  defined (PWM_V11) || defined (PWM_V12) || defined (PWM_V13) ||\\ \n\n  defined (PWM_V14) || defined (PWM_V14_1) || defined (EPWM_V14)\\ \n\n  || defined (EPWM_V14_1) || defined (EPWM_V14_2) || defined (PWM_V14_2) \n\n \n\n#ifndef USE_OR_MASKS \n\n \n\n#define SINGLE_OUT       0b00111111 /*Single output: P1A modulated; P1B, P1C, \n\nP1D assigned as port pins*/ \n\n#define FULL_OUT_FWD     0b01111111 /*Full-bridge output forward: P1D \n\nmodulated; P1A active; P1B, P1C inactive*/ \n\n#define HALF_OUT         0b10111111 /*Half-bridge output: P1A, P1B modulated \n\nwith dead-band control; P1C, P1D assigned as port pins*/ \n\n#define FULL_OUT_REV     0b11111111 /*Full-bridge output reverse: P1B \n\nmodulated; P1C active; P1A, P1D inactive*/ \n\n \n\n#else \n\n \n\n#define SINGLE_OUT       0b00000000 /*Single output: P1A modulated; P1B, P1C, \n\nP1D assigned as port pins*/ \n\n#define FULL_OUT_FWD     0b01000000 /*Full-bridge output forward: P1D \n\nmodulated; P1A active; P1B, P1C inactive*/ \n\n#define HALF_OUT         0b10000000 /*Half-bridge output: P1A, P1B modulated \n\nwith dead-band control; P1C, P1D assigned as port pins*/ \n\n#define FULL_OUT_REV     0b11000000 /*Full-bridge output reverse: P1B \n\nmodulated; P1C active; P1A, P1D inactive*/ \n\n#define PWM_OP_MODE_MASK (~FULL_OUT_REV) //Mask PWM Output \n\nConfiguration bits \n\n \n\n#endif \n\n \n\n \n\n#define IS_DUAL_PWM(config) ((config) == HALF_OUT) \n\n \n\n#define IS_QUAD_PWM(config) ((config) == FULL_OUT_FWD || \\ \n\n                             (config) == FULL_OUT_REV) \n\n         \n\n         \n\n/* The PWM mode is passed as the second parameter to the \n\n * 'SetOutput' routines. */ \n\n\n\n72 \n \n\n \n\n#ifndef USE_OR_MASKS \n\n \n\n#define PWM_MODE_1     0b11111100 /* PxA,PxC active high, PxB,PxD active high */ \n\n#define PWM_MODE_2     0b11111101 /* PxA,PxC active high, PxB,PxD active low */ \n\n#define PWM_MODE_3     0b11111110 /* PxA,PxC active low, PxB,PxD active high */ \n\n#define PWM_MODE_4     0b11111111 /* PxA,PxC active low, PxB,PxD active low */ \n\n \n\n#else \n\n \n\n#define PWM_MODE_1     0b00001100 /* PxA,PxC active high, PxB,PxD active high */ \n\n#define PWM_MODE_2     0b00001101 /* PxA,PxC active high, PxB,PxD active low */ \n\n#define PWM_MODE_3     0b00001110 /* PxA,PxC active low, PxB,PxD active high */ \n\n#define PWM_MODE_4     0b00001111 /* PxA,PxC active low, PxB,PxD active low */ \n\n#define PWM_MODE_MASK (~PWM_MODE_4) //Mask PWM Output \n\nConfiguration bits \n\n \n\n#endif \n\n \n\n#endif \n\n \n\n \n\n#if defined (PWM_V14) || defined (PWM_V14_1)  \n\n \n\n#define __CONFIG3H 0x300005 \n\n \n\n#ifndef USE_OR_MASKS \n\n \n\n//***************** CCP source - TIMER selection \n\n******************************************** \n\n//*************CCP4************** \n\n#define CCP_4_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_4_SEL_TMR34      0b11011111   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_4_SEL_TMR36      0b11101111   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n \n\n//*************CCP5************** \n\n#define CCP_5_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_5_SEL_TMR54      0b11011111   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n//*************CCP6************** \n\n#define CCP_6_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_6_SEL_TMR52      0b11011111   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n \n\n//*************CCP7************** \n\n\n\n73 \n \n\n \n\n#define CCP_7_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_7_SEL_TMR54      0b11011111   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_7_SEL_TMR56      0b11101111   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n#define CCP_7_SEL_TMR58      0b11111111   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER8 for PWM \n\n \n\n#if defined (PWM_V14) \n\n//*************CCP8************** \n\n#define CCP_8_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_8_SEL_TMR74      0b11011111   //CCP selects TIMER7 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_8_SEL_TMR76      0b11101111   //CCP selects TIMER7 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n#elif defined (PWM_V14_1) \n\n//*************CCP8************** \n\n#define CCP_8_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_8_SEL_TMR14      0b11011111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_8_SEL_TMR16      0b11101111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n#endif \n\n \n\n#if defined (PWM_V14) \n\n//*************CCP9************** \n\n#define CCP_9_SEL_TMR12      0b11001111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_9_SEL_TMR74      0b11011111   //CCP selects TIMER7 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n//*************CCP10************** \n\n#define CCP_10_SEL_TMR12   0b11001111   //CCP selects TIMER1 for Capture \n\n&amp; Compare and TIMER2 for PWM \n\n#define CCP_10_SEL_TMR72   0b11011111   //CCP selects TIMER7 for Capture \n\n&amp; Compare and TIMER2 for PWM \n\n#endif \n\n \n\n#else //USE_OR_MASKS \n\n \n\n//***************** CCP source - TIMER selection \n\n******************************************** \n\n//*************CCP4************** \n\n#define CCP_4_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_4_SEL_TMR34      0b00010000   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n\n\n74 \n \n\n \n\n#define CCP_4_SEL_TMR36      0b00100000   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n#define CCP_4_SEL_TMR_MASK  (~0b00110000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n//*************CCP5************** \n\n#define CCP_5_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_5_SEL_TMR54      0b00010000   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_5_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n//*************CCP6************** \n\n#define CCP_6_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_6_SEL_TMR52      0b00010000   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_6_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n//*************CCP7************** \n\n#define CCP_7_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_7_SEL_TMR54      0b00010000   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_7_SEL_TMR56      0b00100000   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n#define CCP_7_SEL_TMR58      0b00110000   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER8 for PWM \n\n#define CCP_7_SEL_TMR_MASK  (~0b00110000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n#if defined (PWM_V14) \n\n//*************CCP8************** \n\n#define CCP_8_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_8_SEL_TMR74      0b00010000   //CCP selects TIMER7 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_8_SEL_TMR76      0b00100000   //CCP selects TIMER7 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n#define CCP_8_SEL_TMR_MASK  (~0b00110000)   //Maks CCP TIMER \n\nSource selection bits \n\n#elif defined (PWM_V14_1) \n\n//*************CCP8************** \n\n#define CCP_8_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_8_SEL_TMR14      0b00010000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_8_SEL_TMR16      0b00100000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER6 for PWM \n\n\n\n75 \n \n\n \n\n#define CCP_8_SEL_TMR_MASK  (~0b00110000)   //Maks CCP TIMER \n\nSource selection bits \n\n#endif \n\n \n\n#if defined (PWM_V14) \n\n//*************CCP9************** \n\n#define CCP_9_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_9_SEL_TMR74      0b00010000   //CCP selects TIMER7 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_9_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n//*************CCP10************** \n\n#define CCP_10_SEL_TMR12   0b00000000   //CCP selects TIMER1 for Capture \n\n&amp; Compare and TIMER2 for PWM \n\n#define CCP_10_SEL_TMR72   0b00010000   //CCP selects TIMER7 for Capture \n\n&amp; Compare and TIMER2 for PWM \n\n#define CCP_10_SEL_TMR_MASK  (~0b00010000)   //Maks CCP \n\nTIMER Source selection bits \n\n#endif \n\n \n\n#endif //USE_OR_MASKS \n\n#endif //main version  \n\n \n\n \n\n#if defined (EPWM_V14) || defined (EPWM_V14_1) \n\n#ifndef USE_OR_MASKS \n\n//***************** ECCP source - TIMER selection \n\n******************************************** \n\n//*************ECCP1************** \n\n#define ECCP_1_SEL_TMR12      0b10001111   //ECCP selects TIMER1 \n\nfor Capture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_1_SEL_TMR34      0b10011111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER4 for PWM \n\n#define ECCP_1_SEL_TMR36      0b10101111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER6 for PWM \n\n#define ECCP_1_SEL_TMR38      0b10111111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER8 for PWM \n\n#if defined (EPWM_V14) \n\n#define ECCP_1_SEL_TMR310      0b11001111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER10 for PWM \n\n#define ECCP_1_SEL_TMR312      0b11011111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER12 for PWM \n\n#endif \n\n \n\n//*************ECCP2************** \n\n#define ECCP_2_SEL_TMR12      0b10001111   //ECCP selects TIMER1 \n\nfor Capture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_2_SEL_TMR34      0b10011111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER4 for PWM \n\n\n\n76 \n \n\n \n\n#define ECCP_2_SEL_TMR36      0b10101111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER6 for PWM \n\n#define ECCP_2_SEL_TMR38      0b10111111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER8 for PWM \n\n#if defined (EPWM_V14) \n\n#define ECCP_2_SEL_TMR310      0b11001111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER10 for PWM \n\n#endif \n\n \n\n//*************ECCP3************** \n\n#define ECCP_3_SEL_TMR12      0b11001111   //ECCP selects TIMER1 \n\nfor Capture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_3_SEL_TMR34      0b11011111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER4 for PWM \n\n#define ECCP_3_SEL_TMR36      0b11101111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER6 for PWM \n\n#define ECCP_3_SEL_TMR38      0b11111111   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER8 for PWM \n\n \n\n \n\n#else //USE_OR_MASKS \n\n \n\n//***************** ECCP source - TIMER selection \n\n******************************************** \n\n//*************ECCP1************** \n\n#define ECCP_1_SEL_TMR12      0b00000000   //ECCP selects TIMER1 \n\nfor Capture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_1_SEL_TMR34      0b00010000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER4 for PWM \n\n#define ECCP_1_SEL_TMR36      0b00100000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER6 for PWM \n\n#define ECCP_1_SEL_TMR38      0b00110000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER8 for PWM \n\n#if defined (EPWM_V14) \n\n#define ECCP_1_SEL_TMR310      0b01000000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER10 for PWM \n\n#define ECCP_1_SEL_TMR312      0b01010000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER12 for PWM \n\n#endif \n\n#define ECCP_1_SEL_TMR_MASK   (~0b01110000)   //Maks \n\nECCP TIMER Source selection bits \n\n \n\n//*************ECCP2************** \n\n#define ECCP_2_SEL_TMR12      0b00000000   //ECCP selects TIMER1 \n\nfor Capture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_2_SEL_TMR34      0b00010000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER4 for PWM \n\n#define ECCP_2_SEL_TMR36      0b00100000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER6 for PWM \n\n#define ECCP_2_SEL_TMR38      0b00110000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER8 for PWM \n\n\n\n77 \n \n\n \n\n#if defined (EPWM_V14) \n\n#define ECCP_2_SEL_TMR310      0b01000000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER10 for PWM \n\n#endif \n\n#define ECCP_2_SEL_TMR_MASK   (~0b01110000)   //Maks \n\nECCP TIMER Source selection bits \n\n \n\n//*************ECCP3************** \n\n#define ECCP_3_SEL_TMR12      0b00000000   //ECCP selects TIMER1 \n\nfor Capture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_3_SEL_TMR34      0b00010000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER4 for PWM \n\n#define ECCP_3_SEL_TMR36      0b00100000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER6 for PWM \n\n#define ECCP_3_SEL_TMR38      0b00110000   //ECCP selects TIMER3 \n\nfor Capture &amp; Compare and TIMER8 for PWM \n\n#define ECCP_3_SEL_TMR_MASK   (~0b00110000)   //Maks \n\nECCP TIMER Source selection bits \n\n \n\n \n\n#endif //USE_OR_MASKS \n\n#endif //main version  \n\n \n\n \n\n#if defined (PWM_V14_2) || defined (EPWM_V14_2) \n\n#ifndef USE_OR_MASKS \n\n#define ECCP_1_SEL_TMR12  0b11101111   //ECCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_1_SEL_TMR34  0b11111111   //ECCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n#define CCP_2_SEL_TMR12      0b11101111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_2_SEL_TMR34      0b11111111   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n#define CCP_3_SEL_TMR12      0b11101111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_3_SEL_TMR34      0b11111111   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n#define CCP_4_SEL_TMR12      0b11101111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_4_SEL_TMR34      0b11111111   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n#define CCP_5_SEL_TMR12      0b11101111   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_5_SEL_TMR34      0b11111111   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n \n\n\n\n78 \n \n\n \n\n#else \n\n#define ECCP_1_SEL_TMR12     0b00000000   //ECCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define ECCP_1_SEL_TMR34     0b00010000   //ECCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define ECCP_1_SEL_TMR_MASK  (~0b00010000)   //Maks ECCP \n\nTIMER Source selection bits \n\n \n\n#define CCP_2_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_2_SEL_TMR34      0b00010000   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_2_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n#define CCP_3_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_3_SEL_TMR34      0b00010000   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_3_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n#define CCP_4_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_4_SEL_TMR34      0b00010000   //CCP selects TIMER3 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_4_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n \n\n#define CCP_5_SEL_TMR12      0b00000000   //CCP selects TIMER1 for \n\nCapture &amp; Compare and TIMER2 for PWM \n\n#define CCP_5_SEL_TMR34      0b00010000   //CCP selects TIMER5 for \n\nCapture &amp; Compare and TIMER4 for PWM \n\n#define CCP_5_SEL_TMR_MASK  (~0b00010000)   //Maks CCP TIMER \n\nSource selection bits \n\n#endif \n\n#endif \n\n \n\n \n\nvoid OpenPWM1 ( char period); \n\nvoid SetDCPWM1 ( unsigned int duty_cycle); \n\n#if  defined (PWM_V4) || defined (PWM_V5) || defined (PWM_V6) ||\\ \n\n     defined (EPWM_V7) || defined (PWM_V8) || defined (PWM_V10) || \\ \n\n  defined (PWM_V11) || defined (PWM_V12)|| defined (PWM_V13) \n\n \n\nvoid SetOutputPWM1 ( unsigned char output_config,  \n\n                     unsigned char pwm_mode); \n\n#endif \n\nvoid ClosePWM1 (void); \n\n \n\n \n\n\n\n79 \n \n\n \n\n \n\n#if defined (PWM_V2) || defined (PWM_V3) || defined (PWM_V4) || \\ \n\n    defined (PWM_V5) || defined (PWM_V6) || defined (PWM_V9) ||\\ \n\n    defined (PWM_V10) || defined (PWM_V11) || defined (PWM_V13)  \n\n \n\nvoid OpenPWM2 ( char period); \n\nvoid SetDCPWM2( unsigned int duty_cycle); \n\n \n\n#if  defined (PWM_V4) \n\nvoid SetOutputPWM2 ( unsigned char output_config,  \n\n                     unsigned char pwm_mode); \n\n#endif \n\nvoid ClosePWM2 (void); \n\n \n\n#endif \n\n \n\n \n\n \n\n#if  defined (PWM_V3) || defined (PWM_V4) || defined (PWM_V9) \n\n \n\nvoid OpenPWM3 ( char period); \n\nvoid SetDCPWM3 ( unsigned int duty_cycle); \n\n#if  defined (PWM_V4) \n\nvoid SetOutputPWM3 ( unsigned char output_config, \n\n                     unsigned char pwm_mode); \n\n#endif \n\nvoid ClosePWM3 (void); \n\n \n\n#endif \n\n \n\n \n\n \n\n#if defined (PWM_V4) || defined (PWM_V9) \n\n \n\nvoid OpenPWM4 ( char period); \n\nvoid SetDCPWM4 ( unsigned int duty_cycle); \n\nvoid ClosePWM4 (void); \n\n \n\nvoid OpenPWM5 ( char period); \n\nvoid SetDCPWM5 ( unsigned int duty_cycle); \n\nvoid ClosePWM5 (void); \n\n \n\n#endif \n\n \n\n#if defined (PWM_V14_2) \n\nvoid OpenPWM2 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM2 ( unsigned int duty_cycle); \n\nvoid ClosePWM2 (void); \n\n \n\nvoid OpenPWM3 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM3 ( unsigned int duty_cycle); \n\n\n\n80 \n \n\n \n\nvoid ClosePWM3 (void); \n\n#endif \n\n \n\n#if defined (PWM_V14) || defined (PWM_V14_1) || defined (PWM_V14_2) \n\n \n\nvoid OpenPWM4 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM4 ( unsigned int duty_cycle); \n\nvoid ClosePWM4 (void); \n\n \n\nvoid OpenPWM5 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM5 ( unsigned int duty_cycle); \n\nvoid ClosePWM5 (void); \n\n \n\n#if defined (PWM_V14) || defined (PWM_V14_1) \n\nvoid OpenPWM6 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM6 ( unsigned int duty_cycle); \n\nvoid ClosePWM6 (void); \n\n \n\nvoid OpenPWM7 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM7 ( unsigned int duty_cycle); \n\nvoid ClosePWM7 (void); \n\n \n\nvoid OpenPWM8 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM8 ( unsigned int duty_cycle); \n\nvoid ClosePWM8 (void); \n\n \n\n#if defined (PWM_V14) \n\nvoid OpenPWM9 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM9 ( unsigned int duty_cycle); \n\nvoid ClosePWM9 (void); \n\n \n\nvoid OpenPWM10 ( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCPWM10 ( unsigned int duty_cycle); \n\nvoid ClosePWM10 (void); \n\n#endif \n\n#endif \n\n \n\n#endif \n\n \n\n \n\n#if defined (EPWM_V7) \n\n \n\nvoid OpenEPWM1 ( char period); \n\nvoid SetDCEPWM1 ( unsigned int duty_cycle); \n\nvoid SetOutputEPWM1 ( unsigned char output_config, \n\n                      unsigned char pwm_mode); \n\nvoid CloseEPWM1 (void); \n\n \n\n#endif \n\n \n\n#if defined (EPWM_V14) || defined (EPWM_V14_1) || defined (EPWM_V14_2) \n\n\n\n81 \n \n\n \n\n \n\nvoid OpenEPWM1( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCEPWM1 ( unsigned int duty_cycle); \n\nvoid SetOutputEPWM1 ( unsigned char output_config, \n\n                      unsigned char pwm_mode); \n\nvoid CloseEPWM1 (void); \n\n \n\n#if defined (EPWM_V14) || defined (EPWM_V14_1) \n\nvoid OpenEPWM2( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCEPWM2 ( unsigned int duty_cycle); \n\nvoid SetOutputEPWM2 ( unsigned char output_config, \n\n                      unsigned char pwm_mode); \n\nvoid CloseEPWM2 (void); \n\n \n\n \n\nvoid OpenEPWM3( unsigned char period, unsigned char timer_source ); \n\nvoid SetDCEPWM3 ( unsigned int duty_cycle); \n\nvoid SetOutputEPWM3 ( unsigned char output_config, \n\n                      unsigned char pwm_mode); \n\nvoid CloseEPWM3 (void); \n\n#endif \n\n#endif \n\n \n\n \n\n#if defined CC4_IO_V1 \n\n#define PWM4_TRIS    TRISDbits.TRISD2 \n\n#elif defined CC4_IO_V2 \n\n#define PWM4_TRIS    TRISBbits.TRISB4 \n\n#elif defined CC8_IO_V1 \n\n#define PWM4_TRIS    TRISCbits.TRISC7 \n\n#elif defined CC8_IO_V2 \n\n#define PWM4_TRIS    TRISCbits.TRISC7 \n\n#else \n\n#define PWM4_TRIS    TRISGbits.TRISG3 \n\n#endif \n\n \n\n#if defined CC3_IO_V1  \n\n#define PWM3_TRIS TRISDbits.TRISD1  \n\n#elif defined CC8_IO_V1 \n\n#define PWM3_TRIS    TRISCbits.TRISC6 \n\n#elif defined CC8_IO_V2 \n\n#define PWM3_TRIS    TRISCbits.TRISC6 \n\n#else  \n\n#define PWM3_TRIS TRISGbits.TRISG0  \n\n#endif \n\n \n\n#if defined CC1_IO_V1  \n\n#define PWM1_TRIS TRISBbits.TRISB3  \n\n#elif defined CC1_IO_V2 \n\n#define PWM1_TRIS TRISCbits.TRISC5  \n\n#elif defined CC8_IO_V1 \n\n\n\n82 \n \n\n \n\n#define PWM1_TRIS    TRISBbits.TRISB4 \n\n#elif defined CC8_IO_V2 \n\n#define PWM1_TRIS    TRISDbits.TRISD4 \n\n#else \n\n#define PWM1_TRIS TRISCbits.TRISC2  \n\n#endif \n\n \n\n#if defined CC8_IO_V1 \n\n#define PWM2_TRIS    TRISCbits.TRISC2 \n\n#elif defined CC8_IO_V2 \n\n#define PWM2_TRIS    TRISCbits.TRISC2 \n\n#else \n\n#define PWM2_TRIS    TRISEbits.TRISE7 \n\n#endif \n\n \n\n#if defined CC4_IO_V2  \n\n#define PWM5_TRIS    TRISBbits.TRISB5 \n\n#elif defined CC8_IO_V1 \n\n#define PWM5_TRIS    TRISBbits.TRISB5 \n\n#elif defined CC8_IO_V2 \n\n#define PWM5_TRIS    TRISBbits.TRISB5 \n\n#else  \n\n#define PWM5_TRIS    TRISGbits.TRISG4 \n\n#endif \n\n \n\n#if defined CC4_IO_V2  \n\n#define PWM6_TRIS    TRISBbits.TRISB6 \n\n#else  \n\n#define PWM6_TRIS    TRISEbits.TRISE6 \n\n#endif \n\n \n\n#if defined CC4_IO_V2  \n\n#define PWM7_TRIS    TRISBbits.TRISB7 \n\n#else  \n\n#define PWM7_TRIS    TRISEbits.TRISE5 \n\n#endif \n\n \n\n#if defined CC4_IO_V2  \n\n#define PWM8_TRIS    TRISCbits.TRISC1 \n\n#else  \n\n#define PWM8_TRIS    TRISEbits.TRISE4 \n\n#endif \n\n \n\n#if defined CC4_IO_V2  \n\n#define PWM9_TRIS    TRISCbits.TRISC6 \n\n#else  \n\n#define PWM9_TRIS    TRISEbits.TRISE3 \n\n#endif \n\n \n\n#if defined CC4_IO_V2  \n\n#define PWM10_TRIS    TRISCbits.TRISC7 \n\n\n\n83 \n \n\n \n\n#else  \n\n#define PWM10_TRIS   TRISEbits.TRISE2 \n\n#endif \n\n \n\n#endif"}]}}}