{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.11270"}, {"@name": "filename", "#text": "16550_CastanedaJimenez_GermanEfrain_M.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "i \n\n  \n\n \n\nGerman Efrain Casta\u00f1eda Jimenez \n\n \n\n \n\n \n\n \n\n \n\nSimula\u00e7\u00e3o do Controle de Escoamento \n\nMultif\u00e1sico em uma Bomba Centr\u00edfuga \n\nSubmersa - BCS \n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n23/2014 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n CAMPINAS  \n\n2014 \n\n \n\n\n\n iii \n\n\n\n iv \n\n \n \n\n \n\nFicha catalogr\u00e1fica \n\nUniversidade Estadual de Campinas \n\nBiblioteca da \u00c1rea de Engenharia e Arquitetura \n\nRose Meire da Silva - CRB 8/5974 \n \n\n \n\nCasta\u00f1eda Jimenez, German Efrain, 1988- \n\n  C275s CasSimula\u00e7\u00e3o do controle de escoamento multif\u00e1sico em uma bomba centr\u00edfuga \n\nsubmersa - BCS / German Efrain Casta\u00f1eda Jimenez. \u2013 Campinas, SP : [s.n.], \n\n2014. \n \n\nCasOrientador: Janito Vaqueiro Ferreira. \n\nCasDisserta\u00e7\u00e3o (mestrado) \u2013 Universidade Estadual de Campinas, Faculdade de \n\nEngenharia Mec\u00e2nica. \n \n\nCas1. Bomba centr\u00edfuga. 2. Controle robusto. 3. Modelagem e simula\u00e7\u00e3o. 4. \n\nAprendizado de m\u00e1quinas. 5. Escoamento multif\u00e1sico. I. Vaqueiro Ferreira, \n\nJanito,1961-. II. Universidade Estadual de Campinas. Faculdade de Engenharia \n\nMec\u00e2nica. III. T\u00edtulo. \n \n\n \n\n \n\n \n\nInforma\u00e7\u00f5es para Biblioteca Digital \n \n\nT\u00edtulo em outro idioma: Simulation control of multiphase flow an electrical submersible pump - \n\nEPS \n\nPalavras-chave em ingl\u00eas: \n\nCentrifugal pumps \n\nRobust control \n\nModeling and simulation \n\nMachine learning \n\nMultiphase flow \n\n\u00c1rea de concentra\u00e7\u00e3o: Mec\u00e2nica dos S\u00f3lidos e Projeto Mec\u00e2nico \n\nTitula\u00e7\u00e3o: Mestre em Engenharia Mec\u00e2nica \n\nBanca examinadora: \n\nJanito Vaqueiro Ferreira [Orientador] \n\nAlberto Luiz Serpa \n\nVicente Lopes Junior \n\nData de defesa: 26-02-2014 \n\nPrograma de P\u00f3s-Gradua\u00e7\u00e3o: Engenharia Mec\u00e2nica \n\n\n\n v \n\n \n\n \n\n\n\n vii \n\nDedico este trabalho aos meus pais, German Casta\u00f1eda e Amparo Jimenez, por ter-me \n\nguiado pelo caminho do sucesso e as minhas irm\u00e3s Carolina e Lorena pelo apoio. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n \n \n\n\n\n ix \n\nAgradecimentos \n \n\nA Deus pela oportunidade. \n\nA meu orientador Prof. Dr. Janito Vaqueiro Ferreira, pelo apoio, pela dedica\u00e7\u00e3o e pelos \n\nconselhos ao longo do projeto. Tamb\u00e9m por me permitir realizar meus estudos de mestrado no \n\nBrasil. \n\nA minha fam\u00edlia pelo apoio constante, independentemente da dist\u00e2ncia. Aos meus pais e \n\nminhas irm\u00e3s agradecimentos infinitos, que me apoiaram em cada momento desta etapa na minha \n\nvida. \n\nA meus amigos. Especialmente a Jenny Lombo, Manuel Arcila e Camilo Ariza por abrir as \n\nportas de suas casas quando eu cheguei ao Brasil. A meus companheiros de aventura Paola \n\nGonzalez, Oscar Rojas e Maria Fernanda. A Marcela Corredor, Olmer Garcia e seu filho Sergio \n\npor fazer-me membro de sua fam\u00edlia. A meu amigo Beto que sem o seu apoio eu n\u00e3o teria ficado \n\naqui no Brasil. E demais amigos aqui no Brasil e no exterior que fizeram parte deste processo.  \n\nA todos os professores e colegas do DMC e da FEM, que ajudaram de forma direta e \n\nindireta na conclus\u00e3o deste trabalho. \n\nPrincipalmente quero agradecer a minha namorada Diana Martinez, por seu apoio, \n\npaci\u00eancia e por sua amizade. E principalmente por ser a for\u00e7a de meu dia a dia, a motiva\u00e7\u00e3o, por \n\nser minha fonte de inspira\u00e7\u00e3o e alegria nesta etapa de minha vida. \n\n\u00c0 Universidade Estadual de Campinas por fornecer um local para o desenvolvimento de \n\nmeu projeto e a Petrobras pelo apoio econ\u00f4mico. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n xi \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\u201cTudo deveria se tornar o mais simples poss\u00edvel, \n\n mas n\u00e3o simplificado.\u201d \n\n_____________________________________ \n\nAlbert Einstein \n\n \n\n \n\n \n\n\u201cO entusiasmo \u00e9 a maior for\u00e7a da alma. \n\nConserva-o e nunca te faltar\u00e1 poder \n\npara conseguires o que desejas.\u201d \n\n__________________________ \n\nNapole\u00e3o Bonaparte \n\n \n\n \n\n \n\n \n\n\n\n xiii \n\nResumo \n\n \n\nJimenez, G. E. C. Simula\u00e7\u00e3o do Controle de escoamento multif\u00e1sico em uma bomba \n\ncentr\u00edfuga submersa - BCS. Campinas: Faculdade de Engenharia Mec\u00e2nica, Universidade \n\nEstadual de Campinas, 2014. 127p. Disserta\u00e7\u00e3o (Mestrado). \n\nNa ind\u00fastria do petr\u00f3leo \u00e9 comum \u00e0 utiliza\u00e7\u00e3o de bombas centr\u00edfugas submersas (BCS) \n\noperando em escoamento multif\u00e1sico l\u00edquido-g\u00e1s. A presen\u00e7a de elevadas vaz\u00f5es de g\u00e1s causam \n\numa degrada\u00e7\u00e3o severa no desempenho da bomba, gerando instabilidades nas curvas de press\u00e3o-\n\nvaz\u00e3o, como o \u2018surging\u2019 e o \u2018gas locking\u2019. Portanto o conhecimento destas instabilidades \u00e9 \n\nfundamental para a adequada opera\u00e7\u00e3o da bomba e assim evitar falhas prematuras no \n\nequipamento.  \n\nNa atualidade n\u00e3o existem modelos matem\u00e1ticos que representem de forma adequada o \n\ncomportamento da BCS na regi\u00e3o de \u2018surging\u2019 e no \u2018gas locking\u2019, gerando a necessidade de \n\nempregar circuitos de testes para fazer o levantamento das curvas de desempenho das bombas. A \n\nmaioria dos circuitos de testes \u00e9 operada de forma manual para obter \u00e0s condi\u00e7\u00f5es de opera\u00e7\u00e3o da \n\nbomba, tornando os ensaios repetitivos, cansativos e trabalhosos. Por isto nasce a necessidade de \n\nautomatizar estas bancadas com a finalidade de facilitar o processo do levantamento das curvas \n\nde desempenho das bombas. \n\nEste trabalho apresenta o projeto e simula\u00e7\u00e3o de um controle robusto tipo    que permita \n\nmanter o escoamento multif\u00e1sico na entrada de uma BCS em diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da \n\nbomba. Este controlador \u00e9 projetado a partir de um circuito de testes para BCS virtual que \u00e9 \n\nmodelado empregando formula\u00e7\u00f5es f\u00edsicas e modelos ajustados mediante dados experimentais \n\nusando algoritmos de aprendizagem de m\u00e1quinas baseados em m\u00e1quinas de suporte vetorial para \n\nregress\u00e3o (SVMr). Ap\u00f3s o projeto de controle, o controlador projetado \u00e9 testado no circuito de \n\ntestes virtual mediante simula\u00e7\u00f5es em tempo real \u2018software in the loop\u2019 (SIL). \n\nPalavras Chave: Bomba centr\u00edfuga, controle robusto, modelagem e simula\u00e7\u00e3o, aprendizado \n\nde m\u00e1quinas, escoamento multif\u00e1sico. \n\n \n\n \n\n\n\n xv \n\nAbstract \n\n \n\nJimenez, G. E. C. Simulation Control of multiphase flow an electrical submersible pump - \n\nESP. Campinas: Department of Mechanical Engineering, University of Campinas, 2014. 127p. \n\nThesis (Master). \n\nIn the oil industry, it is common to use electrical submersible pumps (ESP) operating with \n\ngas -liquid multiphase flow. The presence of high gas flows causes severe degradation in \n\nperformance of the pump, generating instabilities in the flow-pressure curves, as \"surging\" and \n\n\"gas locking\". Therefore knowledge of these instabilities is essential for the proper functioning of \n\nthe pump and thereby prevents premature failure of the equipment. \n\nCurrently there are no mathematical models that adequately represent the behavior of the \n\nEPS in the region of \u201csurging\u201d and \u201cgas locking\u201d, creating the need to use test circuits to make a \n\nstudy of the performance curves of the pumps. Most test circuits are operated manually to reach \n\nthe operating conditions of the pump, making repetitive, tedious and laborious trials. Therefore \n\nthere is a need to automate these circuits in order to facilitate the process of obtaining the \n\nperformance curve of the pump. \n\nIn this paper the project and simulation of a robust control type    for keeping the \n\nmultiphase flow in the entrance of a EPS operating at different conditions is performed. This \n\ncontroller is designed based on a test circuit virtual for EPS which is modeled using physical \n\nformulations and adjusted models obtained by experimental data using machine learning \n\nalgorithms based on support vector machines for regression (SVMR). After the controller design, \n\nthe control is tested in the virtual test circuits using simulations in real time \"software in the loop\" \n\n(SIL). \n\nKey Words: Centrifugal pump, robust control, modeling and simulation, machine learning, \n\nmultiphase flow. \n\n \n\n \n\n\n\n xvii \n\nLista de Ilustra\u00e7\u00f5es \n \n\nFigura 1.1 Arquitetura da proposta ........................................................................................ 4 \n\nFigura 2.1 Estagio de BCS ..................................................................................................... 7 \n\nFigura 2.2 Representa\u00e7\u00e3o das curvas de desempenho de BCS com escoamento multif\u00e1sico 9 \n\nFigura 2.3 Atividades b\u00e1sicas para o processo de identifica\u00e7\u00e3o .......................................... 10 \n\nFigura 2.4 Valida\u00e7\u00e3o experimental ...................................................................................... 11 \n\nFigura 2.5 Passos b\u00e1sicos para o desenvolvimento de um sistema de controle ................... 13 \n\nFigura 2.6 Componentes do HIL e SIL ................................................................................ 14 \n\nFigura 3.1 Esquema b\u00e1sico do controle    ........................................................................ 15 \n\nFigura 3.2 Sistema geral com filtros de pondera\u00e7\u00e3o nas entradas e sa\u00eddas .......................... 19 \n\nFigura 3.3 Problema de regress\u00e3o linear com SVM ............................................................ 20 \n\nFigura 3.4 Efeito do par\u00e2metro   ......................................................................................... 21 \n\nFigura 3.5 Mapeamento de alta dimensionalidade ............................................................... 23 \n\nFigura 4.1 Circuito de testes para BCS ................................................................................ 25 \n\nFigura 4.2 Diagrama de blocos do sistema .......................................................................... 26 \n\nFigura 4.3 Eletrov\u00e1lvula de controle de vaz\u00e3o de ar ............................................................ 28 \n\nFigura 4.4 Diagrama de blocos da eletrov\u00e1lvula .................................................................. 28 \n\nFigura 4.5 Circuito equivalente da eletrov\u00e1lvula ................................................................. 29 \n\nFigura 4.6 Esquema equivalente do mecanismo da v\u00e1lvula de ar........................................ 30 \n\nFigura 4.7 Fluxo de um g\u00e1s atrav\u00e9s de um orif\u00edcio .............................................................. 31 \n\nFigura 4.8 V\u00e1lvula tipo agulha ............................................................................................. 32 \n\nFigura 4.9 V\u00e1lvula de controle de fluido ............................................................................. 33 \n\nFigura 4.10 Diagrama de blocos modelo bomba booster .................................................... 34 \n\nFigura 4.11 Diagrama de blocos do modelo de eleva\u00e7\u00e3o da bomba booster ....................... 34 \n\nFigura 4.12 Efeito da rota\u00e7\u00e3o na bomba booster ................................................................. 35 \n\nFigura 4.13 Esquema eixo bomba booster ........................................................................... 36 \n\nFigura 4.14 Diagrama de blocos do modelo da BCS ........................................................... 37 \n\nFigura 4.15 a) Efeito da rota\u00e7\u00e3o, b) Efeito da Press\u00e3o c) Efeito do ar na mistura. .............. 38 \n\nFigura 4.16 Diagrama dos modelos de caixa preta do sistema ............................................ 40 \n\nFigura 4.17 Diagrama de fluxo da itera\u00e7\u00e3o dos componentes do circuito ........................... 40 \n\n\n\n xviii \n\nFigura 4.18 Curvas da bomba booster mediante SVM ........................................................ 42 \n\nFigura 4.19 Curvas da BCS mediante SVM,                           ......... 43 \n\nFigura 4.20 Curvas da BCS mediante SVM,                           ......... 44 \n\nFigura 4.21 Curvas da BCS mediante SVM,                            ....... 44 \n\nFigura 4.22 Modelo n\u00e3o linear do sistema. .......................................................................... 46 \n\nFigura 4.23 Varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s em diferentes rota\u00e7\u00f5es da bomba \n\nbooster .................................................................................................................................. 47 \n\nFigura 4.24 Varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s em diferentes rota\u00e7\u00f5es da BCS . 48 \n\nFigura 4.25 Varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s em diferentes vaz\u00f5es de fluido, a) \n\nResposta do sistema a baixas vaz\u00f5es de fluido, b) Resposta do sistema com grandes trocas \n\nna vaz\u00e3o de fluido ................................................................................................................ 49 \n\nFigura 4.26 Resposta da press\u00e3o de entrada na BCS com diferentes porcentagem de g\u00e1s .. 50 \n\nFigura 4.27 Varia\u00e7\u00e3o da resposta da press\u00e3o de entrada em diferentes rota\u00e7\u00f5es da BCS ... 50 \n\nFigura 4.28 Varia\u00e7\u00e3o da resposta da press\u00e3o de entrada em diferentes vaz\u00f5es de fluido .... 51 \n\nFigura 5.1 Diagramas de blocos da bancada de testes virtual do sistema com controle ...... 52 \n\nFigura 5.2 Compara\u00e7\u00e3o modelo real e aproximado da porcentagem de g\u00e1s ........................ 54 \n\nFigura 5.3 Efeito da porcentagem de g\u00e1s na press\u00e3o de entrada da BCS ............................ 55 \n\nFigura 5.4 Compara\u00e7\u00e3o modelo real e aproximado da press\u00e3o de entrada da BCS ............. 56 \n\nFigura 5.5 Estrutura do sistema com controle ...................................................................... 57 \n\nFigura 5.6 Sistema da forma padr\u00e3o com filtros de pondera\u00e7\u00e3o .......................................... 58 \n\nFigura 5.7 Diagrama de blocos da bancada de testes virtual com o controle. ..................... 63 \n\nFigura 5.8 Resposta da porcentagem de g\u00e1s em diferentes press\u00f5es de entrada: a) Resposta \n\ndo sistema, b) Esfor\u00e7os de controle...................................................................................... 64 \n\nFigura 5.9 Resposta da porcentagem de g\u00e1s em diferentes rota\u00e7\u00f5es da BCS: a) Resposta do \n\nsistema, b) Esfor\u00e7os de controle........................................................................................... 65 \n\nFigura 5.10 Resposta da porcentagem de g\u00e1s em diferentes temperaturas: a) Resposta do \n\nsistema, b) Esfor\u00e7os de controle........................................................................................... 66 \n\nFigura 5.12 Resposta da porcentagem de g\u00e1s em diferentes vaz\u00f5es de fluido: a) Resposta do \n\nsistema, b) Esfor\u00e7os de controle........................................................................................... 67 \n\nFigura 5.13 Resposta da porcentagem de g\u00e1s com ru\u00eddo de medi\u00e7\u00e3o: a) Resposta do sistema \n\ncom ru\u00eddo de medi\u00e7\u00e3o, b) Esfor\u00e7os de controle ................................................................... 68 \n\n\n\n xix \n\nFigura 5.14 Resposta da press\u00e3o de entrada em diferentes vaz\u00f5es de fluido: a) Resposta do \n\nsistema, b) Esfor\u00e7os de controle........................................................................................... 69 \n\nFigura 5.15 Resposta da press\u00e3o de entrada em diferentes rota\u00e7\u00f5es da BCS: a) Resposta do \n\nsistema, b) Esfor\u00e7os de controle........................................................................................... 70 \n\nFigura 5.16 Resposta da press\u00e3o de entrada em diferentes vaz\u00f5es de fluido: a) Resposta do \n\nsistema, b) Esfor\u00e7os de controle........................................................................................... 71 \n\nFigura 5.17 Resposta da press\u00e3o de entrada com ru\u00eddo de medi\u00e7\u00e3o: a) Resposta do sistema \n\ncom ru\u00eddo de medi\u00e7\u00e3o, b) Esfor\u00e7os de controle ................................................................... 72 \n\nFigura 5.18 Curvas da BCS com controle,                          ........... 72 \n\nFigura 5.19 Curvas da BCS com controle,                        ...................... 73 \n\nFigura 5.20 Comportamento do deslocamento do pist\u00e3o no levantamento das curvas ....... 74 \n\nFigura 5.21 Comportamento da rota\u00e7\u00e3o da bomba booster no levantamento das curvas .... 74 \n\nFigura 6.1 Troca do sistema real por SIL software .............................................................. 75 \n\nFigura 6.2 Processo de gera\u00e7\u00e3o de aplica\u00e7\u00e3o em tempo real ............................................... 76 \n\nFigura 6.3 Interface no ControlDesk .................................................................................... 77 \n\nFigura 6.4 Partes da interface de usu\u00e1rio no ControlDesk ................................................... 78 \n\nFigura 6.5 Conector da Dspace com a conex\u00e3o f\u00edsica das entradas e sa\u00eddas do sistema. .... 79 \n\nFigura 6.6 Modelo n\u00e3o linear para SIL ................................................................................ 80 \n\nFigura 6.7 Curvas da BCS em SIL com controle,                          81 \n\nFigura 6.8 Curvas da BCS em SIL com controle,                         ....... 82 \n\nFigura B.1 Bias e Vari\u00e2ncia com Respeito aos Modelos ..................................................... 91 \n\nFigura C.1 Diagrama de fluxo do AG .................................................................................. 93 \n\nFigura C.2 Gen\u00f3tipo dos indiv\u00edduos .................................................................................... 94 \n\nFigura C.3 M\u00e9todo da roleta. ............................................................................................... 95 \n\nFigura C.4 Combina\u00e7\u00e3o do gen\u00f3tipo. .................................................................................. 95 \n\nFigura C.5 Muta\u00e7\u00e3o no gen\u00f3tipo. ......................................................................................... 95 \n\n \n\n \n\n \n\n \n\n\n\n xxi \n\nLista de Tabelas \n\n \n\nTabela 3.1 Tipos de kernel ................................................................................................... 24 \n\nTabela 4.1 Par\u00e2metros da SVM da bomba booster .............................................................. 41 \n\nTabela 4.2 Par\u00e2metros da SVM da BCS .............................................................................. 42 \n\nTabela 5.1 Filtros de pondera\u00e7\u00e3o. ........................................................................................ 60 \n\nTabela C.1 Exemplo de duplica\u00e7\u00e3o dos indiv\u00edduos ............................................................. 94 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n xxiii \n\n Lista de Abreviaturas e Siglas \n\n \n\nNota\u00e7\u00e3o \n\n \n\nNo presente documento as letras mai\u00fasculas em negrito denotam matrizes e letras \n\nmin\u00fasculas em negrito representam vetores. Letras em fonte normal s\u00e3o escalares. \n\n \n\nAbrevia\u00e7\u00f5es \n\n \n\nAG   Algoritmo gen\u00e9tico. \n\nBCS   Bomba Centrifuga submersa ou bombeio centrifugo submerso \n\nMSE    Mean Square Error (Erro Quadr\u00e1tico M\u00e9dio) \n\nESP   Electrical submersible pumps \n\nHIL   hardware in the loop \n\nSIL   Software in the loop \n\nSVM   Support Vector Machine (M\u00e1quina de Vetores de Suporte) \n\nSVMr, SVMR Support Vector Machine Regression (M\u00e1quina de Vetores de \n\nSuporte para Regress\u00e3o) \n\nSVs    Support Vector (Vectores de suporte) \n\n \n\nSiglas \n\n \n\n     Termo de Bias \n\n           Erro de treinamento \n\n          Erro de valida\u00e7\u00e3o \n\n            Erro de teste \n\n ( )   Fun\u00e7\u00e3o do Modelo \n\n     Vetor de sinais de controle. \n\n     Vetor de entradas ex\u00f3genas \n\n     Vetor de estados do sistema \n\n     Amostras de entrada da SVMr \n\n\n\n xxiv \n\n     Vetor de sinais enviados ao controlador \n\n     Amostras objetivo da SVMr \n\n     Vetor de sinais de desempenho \n\n     Termo de Penaliza\u00e7\u00e3o do SVM \n\n      Fluxo m\u00e1ssico de ar             \n\n        Fluxo m\u00e1ssico de agua            \n\n          Fluxo m\u00e1ssico do fluido            \n\n ( )   Fun\u00e7\u00e3o de kernel ou n\u00facleo \n\n    Matriz do Controlador \n\n ( )   Controlador \n\n    Matriz do sistema \n\n ( )   Sistema \n\n     Diferencial de press\u00f5es           \n\n     Press\u00e3o no reservat\u00f3rio de ar           \n\n     Press\u00e3o na entrada da BCS           \n\n     Press\u00e3o na sa\u00edda da BCS           \n\n    Vaz\u00e3o de fluido             \n\n      Vaz\u00e3o de ar         \n     \n\n        Vaz\u00e3o de agua         \n     \n\n         Vaz\u00e3o de fluido multif\u00e1sico       \n     \n\n     Coeficiente de Determina\u00e7\u00e3o \n\n     Temperatura no reservat\u00f3rio de ar        \n\n     Temperatura na entrada da BCS        \n\n     Temperatura na sa\u00edda da BCS        \n\n     Voltagem de excita\u00e7\u00e3o da v\u00e1lvula        \n\n       Rota\u00e7\u00e3o do eixo da BCS           \n\n       Rota\u00e7\u00e3o do eixo da bomba boster          \n\n       Deslocamento do pist\u00e3o da v\u00e1lvula de ar       \n\n        Deslocamento do pist\u00e3o da v\u00e1lvula de fluido      \n\n     \n        \n\n   Multiplicador de Lagrange \n\n\n\n xxv \n\n     Limite fact\u00edvel \n\n     Fator da Margem SVM \n\n     Vari\u00e1veis de relaxamento na SVMr \n\n      Massa espec\u00edfica do g\u00e1s          \n   \n\n     Fator do kernel \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n xxvii \n\nSUM\u00c1RIO \n \n\nCap\u00edtulo 1. INTRODU\u00c7\u00c3O ................................................................................................ 1 \n\n1.1 Introdu\u00e7\u00e3o .............................................................................................................. 1 \n\n1.2 Motiva\u00e7\u00e3o .............................................................................................................. 2 \n\n1.3 Proposta de trabalho ............................................................................................... 3 \n\n1.3.1 Objetivo Geral .................................................................................................... 3 \n\n1.3.2 Atividades Espec\u00edficas ....................................................................................... 3 \n\n1.4 Arquitetura ............................................................................................................. 4 \n\n1.4.1 Organiza\u00e7\u00e3o da Disserta\u00e7\u00e3o ............................................................................... 5 \n\nCap\u00edtulo 2. REVIS\u00c3O BIBLIOGR\u00c1FICA ......................................................................... 6 \n\n2.1 Bomba Centr\u00edfuga Submersa (BCS) ...................................................................... 6 \n\n2.1.1 Escoamento Bif\u00e1sico em Bombas ...................................................................... 7 \n\n2.1.2 Desempenho de BCS operando com mistura bif\u00e1sica g\u00e1s-l\u00edquido .................... 8 \n\n2.2 Identifica\u00e7\u00e3o de sistemas ....................................................................................... 9 \n\n2.2.1 Sele\u00e7\u00e3o da estrutura do modelo ........................................................................ 10 \n\n2.2.2 Planejamento dos experimentos para obten\u00e7\u00e3o de dados ................................. 10 \n\n2.2.3 Valida\u00e7\u00e3o do Modelo ....................................................................................... 11 \n\n2.3 Controle Robusto ................................................................................................. 11 \n\n2.4 Software e Hardware in the Loop ........................................................................ 13 \n\nCap\u00edtulo 3. FUNDAMENTOS TE\u00d3RICOS ..................................................................... 15 \n\n3.1 Controle    ........................................................................................................ 15 \n\n3.1.1 Filtros de pondera\u00e7\u00e3o ....................................................................................... 18 \n\n3.2 M\u00e1quinas de suporte vetorial (SVM) ................................................................... 19 \n\n3.2.1 M\u00e1quinas de suporte vetorial linear. ................................................................ 20 \n\n3.2.2 M\u00e1quinas de suporte vetorial linear com indicadores de erro. ......................... 21 \n\n\n\n xxviii \n\n3.2.3 M\u00e1quinas de suporte vetorial n\u00e3o linear. ......................................................... 23 \n\nCap\u00edtulo 4. MODELAGEM DA BANCADA DE TESTES VIRTUAL ........................... 25 \n\n4.1 Circuito de Testes de BCS ................................................................................... 25 \n\n4.2 Proposta de Modelo da bancada de testes ............................................................ 26 \n\n4.2.1 Modelagem da v\u00e1lvula de ar ............................................................................ 27 \n\n4.2.2 Modelagem da V\u00e1lvula de Fluido .................................................................... 32 \n\n4.2.3 Modelagem da bomba booster ......................................................................... 33 \n\n4.2.4 Modelagem da bomba BCS.............................................................................. 36 \n\n4.3 Bancada Virtual de Testes. .................................................................................. 39 \n\n4.4 Valida\u00e7\u00e3o das Modelagens da Bancada de Testes Virtual................................... 41 \n\n4.4.1 Modelos aproximados mediante algoritmos de SVMr ..................................... 41 \n\n4.4.2 Comportamento da bancada de testes virtual ................................................... 45 \n\nCap\u00edtulo 5. CONTROLE DO SISTEMA .......................................................................... 52 \n\n5.1 Sistema de Controle em Malha Fechada .............................................................. 52 \n\n5.2 Identifica\u00e7\u00e3o dos sistemas para o controle a partir da bancada de testes virtual . 53 \n\n5.2.1 Modelo linear de porcentagem de g\u00e1s .............................................................. 53 \n\n5.2.2 Modelo Linear da Press\u00e3o de entrada na BCS ................................................. 55 \n\n5.3 Projeto de controle ............................................................................................... 56 \n\n5.4 Resposta do sistema em malha fechada com controle ......................................... 62 \n\n5.4.1 Comportamento da porcentagem de g\u00e1s .......................................................... 64 \n\n5.4.2 Comportamento da press\u00e3o de entrada na BCS ............................................... 68 \n\n5.4.3 Curvas de desempenho da BCS obtidas com o controle .................................. 72 \n\nCap\u00edtulo 6. SOFTWARE IN THE LOOP DO SISTEMA .................................................. 75 \n\n6.1 MicroAutoBox com placa DSPACE DS-1511 .................................................... 75 \n\n6.2 Software dSPACE CONTROLDESK ................................................................. 76 \n\n\n\n xxix \n\n6.3 Simula\u00e7\u00e3o em tempo real SIL .............................................................................. 77 \n\n6.3.1 Interface no ControlDesk ................................................................................. 77 \n\n6.3.2 Modelo de simula\u00e7\u00e3o SIL ................................................................................ 79 \n\n6.3.3 Curvas de desempenho obtidas com o SIL ...................................................... 81 \n\nCap\u00edtulo 7. CONCLUS\u00d5ES E RECOMENDA\u00c7\u00d5ES DE TRABALHOS FUTUROS ... 83 \n\n7.1 Conclus\u00f5es ........................................................................................................... 83 \n\n7.2 Recomenda\u00e7\u00f5es de Trabalhos Futuros ................................................................ 84 \n\nREFER\u00caNCIAS ................................................................................................................... 86 \n\nAP\u00caNDICE A. Avalia\u00e7\u00e3o dos Modelos. ........................................................................... 90 \n\nAP\u00caNDICE B. Regula\u00e7\u00e3o Mediante Bias/Vari\u00e2ncia. ....................................................... 91 \n\nAP\u00caNDICE C. Algoritmos Gen\u00e9ticos .............................................................................. 93 \n\nAP\u00caNDICE D. Programa do Projeto de Controle ............................................................ 96 \n\nANEXO i. Procedimento Experimental de Testes ............................................................ 98 \n\n \n\n \n\n \n\n\n\n 1 \n\nCap\u00edtulo 1. INTRODU\u00c7\u00c3O \n\n1.1 Introdu\u00e7\u00e3o \n\nNa ind\u00fastria do petr\u00f3leo os m\u00e9todos de eleva\u00e7\u00e3o s\u00e3o fundamentais, sendo empregados para \n\ndar energia ao fluido no reservat\u00f3rio com a finalidade de levar o fluido at\u00e9 a superf\u00edcie. O \n\nbombeio centr\u00edfugo submerso (BCS) \u00e9 um m\u00e9todo de eleva\u00e7\u00e3o artificial amplamente utilizado e \n\nconsiste na utiliza\u00e7\u00e3o de uma bomba centr\u00edfuga de m\u00faltiplos est\u00e1gios, geralmente instalada na \n\nextremidade da coluna de produ\u00e7\u00e3o, dentro do po\u00e7o de petr\u00f3leo.  \n\n\u00c9 comum que o fluido produzido no po\u00e7o seja uma mistura bif\u00e1sica l\u00edquido-g\u00e1s. A presen\u00e7a \n\nde g\u00e1s causa mudan\u00e7as nas propriedades do fluido, tais como varia\u00e7\u00e3o da densidade, viscosidade \n\ne presen\u00e7a de uma fase gasosa, que pode causar severos impactos no desempenho das bombas  \n\nBCS. \n\nA utiliza\u00e7\u00e3o de BCS operando com escoamento bif\u00e1sico l\u00edquido-g\u00e1s \u00e9 comum na ind\u00fastria \n\ndo petr\u00f3leo. Por isso existe um grande interesse em conhecer o desempenho destas bombas. Na \n\natualidade as pesquisas que estudam o comportamento do escoamento bif\u00e1sico em bombas \n\ncentr\u00edfugas s\u00e3o de natureza emp\u00edrica e t\u00eam sido fundamentais para compreender e fornecer \n\ninforma\u00e7\u00f5es sobre o desempenho real das BCS operando com escoamento bif\u00e1sico l\u00edquido-g\u00e1s. \n\nO estudo do comportamento do escoamento bif\u00e1sico em bombas centr\u00edfugas normalmente \u00e9 \n\nrealizado em laborat\u00f3rios com bancadas de teste, que permitam controlar as condi\u00e7\u00f5es de \n\nopera\u00e7\u00f5es da bomba e as propriedades do fluido (vaz\u00e3o, densidade, temperatura, press\u00f5es e a \n\nporcentagem de g\u00e1s na mistura). Deste modo se obt\u00e9m as curvas de desempenho da bomba, com \n\na finalidade de formular, modelar e estudar as instabilidades geradas pelo escoamento bif\u00e1sico \n\nem BCS, como \u00e9 apresentado nas pesquisas de MONTE, 2011, DUTRA, 2007 e GAMBOA, \n\n2007. \n\nAo se implementar bancadas ou circuitos de testes para o estudo do desempenho das BCS, \n\nnasce a necessidade de automatizar estas bancadas com a finalidade de facilitar o processo do \n\nlevantamento das curvas de desempenho das bombas, j\u00e1 que realizar este processo de forma \n\nmanual \u00e9 muito trabalhoso como diz MONTE, 2011, porque ao se ter que controlar distintas \n\n\n\n 2 \n\nvari\u00e1veis no circuito, onde umas dependem de outras, o processo de ajuste da condi\u00e7\u00e3o de \n\nopera\u00e7\u00e3o desejada se torna de tentativa e erro. \n\nEste projeto tem por objetivo projetar e simular um controle robusto que permita manter o \n\nescoamento multif\u00e1sico \u00e1gua-g\u00e1s na entrada de uma BCS em diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da \n\nbomba. Este controle deve estabilizar a press\u00e3o e a porcentagem de g\u00e1s na entrada da bomba com \n\na finalidade de obter as curvas de desempenho da BCS em diferentes rota\u00e7\u00f5es, press\u00f5es e \n\nporcentagem de g\u00e1s. \n\nO controlador \u00e9 projetado usando um modelo simplificado linear aproximado de um \n\nmodelo n\u00e3o linear, onde este modelo n\u00e3o linear \u00e9 baseado em algoritmos de aprendizagem de \n\nm\u00e1quinas supervisionadas ajustado mediante dados experimentais. O desempenho do controlador \n\nobtido \u00e9 testado no modelo n\u00e3o linear, para estudar seu comportamento em diferentes condi\u00e7\u00f5es \n\nde opera\u00e7\u00e3o da bomba. \n\n1.2 Motiva\u00e7\u00e3o \n\nAs bombas centr\u00edfugas submersas fazem parte importante da ind\u00fastria petrol\u00edfera, sendo um \n\ndos equipamentos mais empregados para a eleva\u00e7\u00e3o artificial. As bombas, semelhantes \u00e0 todas as \n\nm\u00e1quinas, apresentam ao longo do seu funcionamento desgastes e quebras que se querem prever. \n\nPara prever o mau funcionamento das bombas, \u00e9 necess\u00e1rio conhecer o comportamento e o \n\ndesempenho destes equipamentos em diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o. Devido a que na \n\nliteratura ainda n\u00e3o existem modelos que representem adequadamente o comportamento real do \n\nescoamento dentro de uma bomba pela complexidade do seu funcionamento, se realizam estudos \n\nexperimentais.  \n\nOs estudos experimentais se realizam em laborat\u00f3rios empregando circuitos de teste onde \n\nse simulam as condi\u00e7\u00f5es de opera\u00e7\u00e3o da bomba. Atingir uma condi\u00e7\u00e3o de opera\u00e7\u00e3o \u00e9 um \n\nprocedimento bastante trabalhoso, por exemplo, para fazer o levantamento da curva de \n\ndesempenho vaz\u00e3o-press\u00e3o, os testes s\u00e3o realizados \u00e0 uma fra\u00e7\u00e3o volum\u00e9trica de g\u00e1s constante, e \n\nal\u00e9m disto, tamb\u00e9m se controla a press\u00e3o de suc\u00e7\u00e3o da BCS, que \u00e9 mantida constante ao longo de \n\ntoda a curva de desempenho. Como \u00e9 apresentado no ANEXO i este procedimento \u00e9 realizado de \n\nforma manual convertendo-se em um processo de tentativa e erro. \n\n\n\n 3 \n\nEste processo de tentativa e erro aumenta o tempo de execu\u00e7\u00e3o dos testes, gerando a \n\nnecessidade de se automatizar os circuitos de testes motivando assim os objetivos desta pesquisa. \n\n1.3 Proposta de trabalho \n\n1.3.1 Objetivo Geral \n\nO objetivo do trabalho \u00e9 projetar e simular um controle robusto que permita manter um \n\nescoamento multif\u00e1sico (\u00e1gua-g\u00e1s) conhecido em uma BCS em diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o \n\nda bomba. Este controle deve estabilizar a press\u00e3o e a porcentagem de g\u00e1s na entrada da bomba \n\ncom a finalidade de obter as curvas de desempenho da BCS em diferentes rota\u00e7\u00f5es, press\u00f5es e \n\nporcentagem de g\u00e1s. \n\n1.3.2 Atividades Espec\u00edficas \n\nPara alcan\u00e7ar o objetivo deste trabalho, foram definidas as seguintes tarefas para assim \n\nsimular o controle da estabiliza\u00e7\u00e3o da press\u00e3o e da porcentagem de g\u00e1s na entrada da bomba a \n\npartir de dados obtidos experimentalmente:  \n\n \n\nDesenvolver um modelo n\u00e3o linear que consiga predizer o comportamento da condi\u00e7\u00e3o de \n\nopera\u00e7\u00e3o de uma BCS a partir das curvas de desempenho vaz\u00e3o\u2013eleva\u00e7\u00e3o para diferentes \n\ncondi\u00e7\u00f5es de trabalho (rota\u00e7\u00f5es, porcentagem de g\u00e1s e press\u00f5es de entrada). \n\n \n\n? Desenvolver um modelo n\u00e3o linear que represente o comportamento de um circuito de \n\ntestes para BCS. \n\n \n\n? Aproximar modelos lineares de ordem reduzida do comportamento da press\u00e3o e da \n\nporcentagem de g\u00e1s a partir do modelo n\u00e3o linear da bancada de testes virtual de BCS. \n\n \n\n? Projetar um controlador robusto a partir dos modelos reduzidos para manter a press\u00e3o e a \n\nporcentagem de g\u00e1s na entrada da BCS para diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da bomba. \n\n \n\n\n\n 4 \n\n? Testar o comportamento do controlador projetado no modelo n\u00e3o linear da bancada de \n\ntestes virtual para BCS. \n\n1.4 Arquitetura \n\nNa Figura 1.1 \u00e9 apresentada a arquitetura proposta, onde se tem um diagrama de blocos que \n\ncontem dois blocos ou processos principais, o primeiro apresenta a modelagem da bancada de \n\ntestes virtual e o segundo da metodologia para o projeto de controle.  \n\nDo primeiro bloco se obt\u00e9m um modelo n\u00e3o linear que representa o comportamento da \n\nbancada de testes virtual. Deste modelo n\u00e3o linear se realiza uma aproxima\u00e7\u00e3o das vari\u00e1veis a \n\ncontrolar (press\u00e3o e porcentagem de g\u00e1s), com a finalidade de obter modelos lineares de ordem \n\nreduzida que representem o comportamento das vari\u00e1veis em uma condi\u00e7\u00e3o pr\u00e9-estabelecida, \n\npara serem empregados no projeto de controle. Do segundo bloco se obt\u00e9m um controlador \n\nrobusto que \u00e9 testado no modelo n\u00e3o linear determinando a estabiliza\u00e7\u00e3o do sistema em \n\ndiferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o. \n\nModelagem do \n\ncircuito de testes\n\nCaixa branca Caixa preta\n\nModelos\n\nSVMr\n\nValida\u00e7\u00e3o\n\nModelo n\u00e3o \n\nlinear\n\nProjeto de \n\nControle\n\nLinearizar o modelo\n\nModelo ampliado com filtros \n\nde pondera\u00e7\u00e3o\n\nObter\n\nEstimar o controle\n\nControlador\nSimula\u00e7\u00f5es em tempo \n\nreal\n\n \n\nFigura 1.1 Arquitetura da proposta \n\n\n\n 5 \n\n1.4.1 Organiza\u00e7\u00e3o da Disserta\u00e7\u00e3o \n\nEsse trabalho est\u00e1 estruturado em sete (7) cap\u00edtulos.  \n\nO Cap\u00edtulo 1 apresenta a justificativa do trabalho, defini\u00e7\u00e3o do problema, os objetivos e a \n\narquitetura da pesquisa. \n\n O Cap\u00edtulo 2 apresenta uma revis\u00e3o bibliogr\u00e1fica dos principais conceitos a serem tratados \n\nnesta pesquisa. Abordam-se conceitos de bombas centr\u00edfugas submersas (BCS), identifica\u00e7\u00e3o de \n\nsistemas, controle robusto e o m\u00e9todo de Software in the Loop (SIL). \n\nO Cap\u00edtulo 3 apresenta os fundamentos te\u00f3ricos dos controladores   , as bases do c\u00e1lculo \n\ndo controlador mediante as equa\u00e7\u00f5es de Riccati e a finalidade dos filtros de pondera\u00e7\u00e3o. No \n\ncap\u00edtulo tamb\u00e9m \u00e9 apresentado os conceitos matem\u00e1ticos das m\u00e1quinas de suporte vetorial para \n\nregress\u00e3o. \n\nO Cap\u00edtulo 4 apresenta a modelagem do sistema a partir de m\u00e9todos de caixa preta e branca \n\nobtendo um modelo de simula\u00e7\u00e3o da bancada de testes virtual.  \n\nO Cap\u00edtulo 5 apresenta a lineariza\u00e7\u00e3o dos modelos para o projeto de controle, como \u00e9 \n\naumentado o sistema acrescentando dist\u00farbios, erros de medi\u00e7\u00e3o e filtros de pondera\u00e7\u00e3o. \n\nApresenta-se o comportamento do controle em diferentes pontos de opera\u00e7\u00e3o da bancada de \n\ntestes virtual. \n\nO Cap\u00edtulo 6 apresenta o sistema empregado para a simula\u00e7\u00e3o em tempo real SIL e o \n\nrespectivo modelo em malha fechada. S\u00e3o apresentadas tamb\u00e9m a curvas de desempenho obtidas \n\nna simula\u00e7\u00e3o SIL. \n\nO Cap\u00edtulo 7 apresenta as conclus\u00f5es da pesquisa, assim como tamb\u00e9m sugest\u00f5es para \n\ntrabalhos futuros. \n\n  \n\n\n\n 6 \n\nCap\u00edtulo 2. REVIS\u00c3O BIBLIOGR\u00c1FICA \n\nEste cap\u00edtulo apresenta os conceitos b\u00e1sicos referentes ao comportamento das BCS em \n\nescoamento multif\u00e1sico, como pode ser calculada a porcentagem de g\u00e1s presente na mistura \n\nbif\u00e1sica e o desempenho das bombas operando com fluidos multif\u00e1sicos. Apresenta-se um \n\nresumo do conceito de identifica\u00e7\u00e3o de sistemas. O cap\u00edtulo inclui uma introdu\u00e7\u00e3o ao controle \n\nrobusto, uma recompila\u00e7\u00e3o de seus in\u00edcios e aplica\u00e7\u00f5es e como s\u00e3o os passos b\u00e1sicos do processo \n\nde projeto de controle. O cap\u00edtulo termina apresentando m\u00e9todos de simula\u00e7\u00e3o em tempo real. \n\n \n\n2.1 Bomba Centr\u00edfuga Submersa (BCS) \n\nAs bombas s\u00e3o m\u00e1quinas rotativas hidr\u00e1ulicas que realizam trabalho sobre um fluido com a \n\nfinalidade de transport\u00e1-lo de um ponto a outro. A BCS \u00e9 acionada por um motor el\u00e9trico que \n\nfornece energia cin\u00e9tica ao fluido que \u00e9 convertida parcialmente em energia de press\u00e3o. \n\nPrincipalmente as BCS s\u00e3o bombas de m\u00faltiplos est\u00e1gios instalados em s\u00e9rie, os rotores s\u00e3o de \n\ntipo fechado e s\u00e3o de fluxo misto ou radial (MONTE, 2011). \n\nOs est\u00e1gios de uma BCS s\u00e3o compostos por dois componentes b\u00e1sicos: rotor e o difusor. O \n\nrotor \u00e9 constitu\u00eddo por um conjunto de p\u00e1s confinadas por paredes, onde as p\u00e1s e paredes formam \n\nos canais do rotor. O difusor \u00e9 o componente fixo, solid\u00e1rio \u00e0 carca\u00e7a da bomba. \n\nComo pode ser observado na Figura 2.1 o fluido entra no rotor na dire\u00e7\u00e3o axial com \n\nvelocidade baixa, ao encontrar-se com as p\u00e1s, e devido \u00e0 elevada velocidade de rota\u00e7\u00e3o do rotor, \n\no fluido \u00e9 acelerado tangencialmente e sua velocidade \u00e9 aumentada, convertendo o torque \n\naplicado pela bomba ao fluido em energia cin\u00e9tica. O fluido em alta velocidade deixa o rotor e \n\nentra no difusor, parte estacion\u00e1ria da bomba, onde ocorre a convers\u00e3o de parte da energia \n\ncin\u00e9tica em energia de press\u00e3o devido \u00e0 que o fluido diminui a velocidade (WHITE, 1999). \n\n\n\n 7 \n\n \n\nFigura 2.1 Estagio de BCS \n\n2.1.1 Escoamento Bif\u00e1sico em Bombas \n\nO escoamento bif\u00e1sico \u00e9 constitu\u00eddo por diferentes par\u00e2metros dimensionais e \n\nadimensionais que s\u00e3o apresentados \u00e0 seguir: \n\n? Vaz\u00e3o Volum\u00e9trica de g\u00e1s (   ): \u00e9 o volume de g\u00e1s por unidade de tempo injetado na \n\nbomba, medido na temperatura e press\u00e3o da suc\u00e7\u00e3o. A vaz\u00e3o volum\u00e9trica de g\u00e1s \u00e9 medida \n\nantes da inje\u00e7\u00e3o na bomba, em condi\u00e7\u00f5es diferentes de suc\u00e7\u00e3o da bomba, sendo necess\u00e1rio \n\ncalcular a vaz\u00e3o volum\u00e9trica na entrada da bomba mediante a conserva\u00e7\u00e3o de massa \n\napresentada na Equa\u00e7\u00e3o ( 2.1 ) onde     \u00e9 a massa espec\u00edfica do g\u00e1s na suc\u00e7\u00e3o da bomba, \n\n       \u00e9 a massa espec\u00edfica do g\u00e1s no medidor de vaz\u00e3o e        \u00e9 a vaz\u00e3o volum\u00e9trica \n\nde g\u00e1s no medidor de vaz\u00e3o (MONTE, 2011). \n\n    \n             \n\n   \n ( 2.1 ) \n\n? Vaz\u00e3o Volum\u00e9trica do fluido (      ): \u00e9 a soma da vaz\u00e3o volum\u00e9trica de g\u00e1s    , e a \n\nvaz\u00e3o volum\u00e9trica de l\u00edquido      , ambas medidas a press\u00e3o e temperatura da suc\u00e7\u00e3o da \n\nbomba conforme mostrado na Equa\u00e7\u00e3o (2.2). \n\n                  ( 2.2 ) \n\n\n\n 8 \n\n Sendo a vaz\u00e3o volum\u00e9trica de fluido a raz\u00e3o entre a vaz\u00e3o m\u00e1ssica       e a massa \n\nespec\u00edfica do l\u00edquido       \u00e0 temperatura e press\u00e3o da suc\u00e7\u00e3o da bomba conforme \n\napresentado na Equa\u00e7\u00e3o (2.3). \n\n      \n     \n\n     \n ( 2.3 ) \n\n? Porcentagem de g\u00e1s ou fra\u00e7\u00e3o de Vazio (     ): \u00e9 a raz\u00e3o entre a vaz\u00e3o volum\u00e9trica de g\u00e1s \n\ne a vaz\u00e3o volum\u00e9trica total conforme mostrada na Equa\u00e7\u00e3o (2.4): \n\n       \n   \n\n      \n \n\n   \n         \n\n ( 2.4 ) \n\nA fra\u00e7\u00e3o volum\u00e9trica de g\u00e1s est\u00e1 associada \u00e0 condi\u00e7\u00e3o de n\u00e3o escorregamento entre as \n\nfases, ou seja, quando as velocidades locais das fases s\u00e3o iguais. De modo geral, essa condi\u00e7\u00e3o \u00e9 \n\nv\u00e1lida para o escoamento de pequenas bolhas dispersas carregadas por uma fase l\u00edquida cont\u00ednua \n\nque ocorre comumente em escoamentos com elevadas vaz\u00f5es de l\u00edquido (MONTE, 2011). \n\n2.1.2 Desempenho de BCS operando com mistura bif\u00e1sica g\u00e1s-l\u00edquido \n\nO g\u00e1s livre presente no reservat\u00f3rio \u00e9 produzido juntamente com o petr\u00f3leo l\u00edquido, por isto \n\n\u00e9 comum \u00e0 utiliza\u00e7\u00e3o de bombas operando com escoamento bif\u00e1sico l\u00edquido-g\u00e1s. A energia \n\ncin\u00e9tica transferida ao fluido pelas m\u00e1quinas hidr\u00e1ulicas \u00e9 proporcional a sua massa espec\u00edfica, \n\nportanto a presen\u00e7a de g\u00e1s na suc\u00e7\u00e3o da bomba deteriora o aumento de press\u00e3o do fluido ao ser \n\nbombeado (MONTE, 2011). \n\nA Figura 2.2 mostra as curva de desempenho de uma bomba operando com escoamento \n\nl\u00edquido-g\u00e1s com diferentes porcentagens de g\u00e1s. A curva (1) representa a opera\u00e7\u00e3o da bomba com \n\nescoamento bif\u00e1sico com uma quantidade de g\u00e1s muito pequena. A curva (2) representa o \n\ncomportamento da bomba com um aumento da porcentagem de g\u00e1s, onde se observa apenas uma \n\npequena diminui\u00e7\u00e3o da capacidade de eleva\u00e7\u00e3o, j\u00e1 que a quantidade de g\u00e1s ainda \u00e9 m\u00ednima e o \n\nfluido tem um comportamento homog\u00eaneo, ou seja, as bolhas se encontram dispersas no l\u00edquido.  \n\nA curva (3) apresenta uma curva caracter\u00edstica quando a presen\u00e7a de g\u00e1s na mistura \u00e9 \n\nmaior, evidenciando um ponto m\u00e1ximo na curva. Este ponto m\u00e1ximo \u00e9 conhecido como ponto de \n\n\u201csurging\u201d, caracterizado por uma diminui\u00e7\u00e3o consider\u00e1vel na sua capacidade de bombeamento. \n\n\n\n 9 \n\nNessas condi\u00e7\u00f5es o escoamento n\u00e3o \u00e9 mais homog\u00eaneo, ou seja, o l\u00edquido e o g\u00e1s na mistura \n\nmultif\u00e1sica escoam separadamente.  \n\nQuando existe uma elevada presen\u00e7a de g\u00e1s no escoamento a curva apresenta novas \n\ninstabilidades. A curva (4) apresenta tr\u00eas regi\u00f5es distintas de opera\u00e7\u00e3o. A regi\u00e3o (a) apresenta \n\numa opera\u00e7\u00e3o est\u00e1vel, ou seja, a mistura \u00e9 homog\u00eanea. A regi\u00e3o (b) inicia o ponto de surging \n\napresentando uma queda de press\u00e3o na capacidade de bombeamento. A presen\u00e7a de grande \n\nquantidade de g\u00e1s livre em baixas vaz\u00f5es pode causar o bloqueio da \u00e1rea dispon\u00edvel ao \n\nescoamento no rotor da bomba, fazendo com que a vaz\u00e3o seja nula, fen\u00f4meno conhecido como \n\n\u2018gas locking\u2019. Esta grande instabilidade se destaca na regi\u00e3o(c) da curva (4), \n\n \n\n \n\nFigura 2.2 Representa\u00e7\u00e3o das curvas de desempenho de BCS com escoamento multif\u00e1sico \n\nsendo    o diferencial de press\u00f5es entre a sa\u00edda e a entrada da BCS, e   a vaz\u00e3o total de fluido, \n\nou seja, vaz\u00e3o de liquido mais a vaz\u00e3o de ar como e apresentado na equa\u00e7\u00e3o ( 2.2 ). \n\n2.2 Identifica\u00e7\u00e3o de sistemas \n\nEntende-se por identifica\u00e7\u00e3o de sistemas, a obten\u00e7\u00e3o de um modelo que represente o \n\ncomportamento de um sistema em estudo. O modelo pode ser linear, n\u00e3o linear, est\u00e1tico, \n\n\n\n 10 \n\ndin\u00e2mico, determin\u00edstico, estoc\u00e1stico, dependente do tipo do processo e aplica\u00e7\u00e3o que se \n\nconsidere. A Figura 2.3 apresenta as atividades b\u00e1sicas para a identifica\u00e7\u00e3o de sistemas (LJUNG, \n\n1999). \n\nSistema\n\nPlanejamento dos \n\nexperimentos\n\nSele\u00e7\u00e3o da estrutura \n\ndo modelo\n\nObten\u00e7\u00e3o de dados \n\nexperimentais\n\nEstima\u00e7\u00e3o do \n\nmodelo\n\nImplementa\u00e7\u00e3o do \n\nmodelo\n\nValida\u00e7\u00e3o do \n\nmodelo\n\n \n\nFigura 2.3 Atividades b\u00e1sicas para o processo de identifica\u00e7\u00e3o \n\n2.2.1 Sele\u00e7\u00e3o da estrutura do modelo \n\nPara obter um modelo matem\u00e1tico pode-se aplicar leis f\u00edsicas a um sistema, mas o modelo \n\npode apresentar par\u00e2metros desconhecidos que s\u00e3o obtidos mediante testes reais (OGATA, \n\n1987). Existem tr\u00eas tipos de modelos (LJUNG, 1999) (AGUIRRE, 2007): modelo de caixa \n\nbranca que se obt\u00e9m de leis f\u00edsicas; Modelos de caixa preta que postula uma estrutura matem\u00e1tica \n\ncom par\u00e2metros que s\u00e3o ajustados mediante dados experimentais; modelos de caixa cinza onde \n\numa parte se obt\u00e9m de leis f\u00edsicas e outra de ajuste por experimenta\u00e7\u00e3o. \n\n2.2.2 Planejamento dos experimentos para obten\u00e7\u00e3o de dados \n\nNo planejamento dos experimentos se decide os tipos de sinais de entrada, os dist\u00farbios e \n\nos sinais de sa\u00edda que v\u00e3o ser parte dos experimentos para a identifica\u00e7\u00e3o do sistema. As entradas \n\ndo sistema devem garantir a excita\u00e7\u00e3o de todos os modos do sistema (AGUIRRE, 2007), algumas \n\ndas entradas mais utilizadas s\u00e3o: impulso, sinais senoidais, sinais rand\u00f4micos, etc. Dependendo \n\nda sa\u00edda obtida se faz um processamento do sinal para aperfei\u00e7o\u00e1-lo, por exemplo, a \n\nimplementa\u00e7\u00e3o de filtros para diminuir o ru\u00eddo do sinal. \n\n\n\n 11 \n\n2.2.3 Valida\u00e7\u00e3o do Modelo \n\nSchlesinger (1979) define que o objetivo da valida\u00e7\u00e3o \u00e9 comprovar que o modelo obtido \n\npossui uma gama satisfat\u00f3ria de precis\u00e3o de acordo com a aplica\u00e7\u00e3o pretendida do sistema \n\n(SCHLESINGER, 1979), (SARGENT, 1998).  \n\nA valida\u00e7\u00e3o experimental busca definir as limita\u00e7\u00f5es do modelo, como s\u00e3o os erros de \n\npredi\u00e7\u00e3o e os limites at\u00e9 onde o modelo \u00e9 preditivo. Para isto se fazem testes nos modelos obtidos \n\ncom dados diferentes aos utilizados na obten\u00e7\u00e3o dos modelos. A Figura 2.4 apresenta uma \n\ncompara\u00e7\u00e3o dos dados reais aos dados preditos por um modelo ajustado. A partir do sistema real \n\ntomam-se novos dados que s\u00e3o introduzidos ao modelo para predizer novas caracter\u00edsticas, e a \n\npartir das caracter\u00edsticas preditas e as reais se faz uma compara\u00e7\u00e3o, com a finalidade de \n\ndeterminar o quanto representativo \u00e9 o modelo (ver AP\u00caNDICE A). \n\n \n\nFigura 2.4 Valida\u00e7\u00e3o experimental \n\n2.3 Controle Robusto \n\nAo projetar um sistema de controle, a efici\u00eancia deste vai depender da similaridade de \n\nnosso modelo com o fen\u00f4meno f\u00edsico a controlar. Quando se modelam fen\u00f4menos f\u00edsicos muito \n\nSistema Real\nDados Reais\n\nErro de teste\n\n=0,01%\n\nModelo\n\n+\n\n\n\n 12 \n\ncomplexos o modelo matem\u00e1tico n\u00e3o consegue representar completamente o comportamento \n\ndeste, j\u00e1 que o modelo foi simplificado com os par\u00e2metros fundamentais do sistema. Em outras \n\npalavras o processo de modelagem acrescenta erros e incertezas no desenho de sistemas de \n\ncontrole, pela simplifica\u00e7\u00e3o aplicada no processo de modelagem, como por exemplo, tentar \n\nrepresentar o sistema real por  um sistema linear ou invariante no tempo. Por isto \u00e9 que a teoria \n\nde controle cl\u00e1ssica perde aplicabilidade com sistemas reais complexos como sistemas n\u00e3o \n\nlineares, variantes no tempo ou sistemas MIMO (M\u00faltiplas entradas e m\u00faltiplas sa\u00eddas) \n\n(OGATA, 2002), (RODR\u00cdGEZ, 1996). \n\nA d\u00e9cada de oitenta \u00e9 considerada a \u00e9poca onde foi desenvolvido o m\u00e9todo de controle \n\nrobusto. DOYLE, 1981 apresenta como as declara\u00e7\u00f5es SISO cl\u00e1ssica de problemas de desenho de \n\nrealimenta\u00e7\u00e3o com incertezas n\u00e3o estruturadas podem se generalizar de forma confi\u00e1vel a \n\nsistemas m\u00faltiplas-entradas e m\u00faltiplas-sa\u00eddas (MIMO). ZAMES e FANCIS, 1983 apresentaram \n\nfeedbacks que minimizam a fun\u00e7\u00e3o de sensibilidade de um sistema de uma vari\u00e1vel representado \n\npor sua resposta de frequ\u00eancia. O problema foi estudado num contexto geral, e alguns exemplos \n\nde    foram resolvidos. Os resultados foram estendidos para sistemas inst\u00e1veis onde foram \n\npropostas formula\u00e7\u00f5es para manter a estabilidade em malha fechada. STEIN e ATHANS, 1987 \n\napresentam um tutorial para o procedimento de projeto para sistemas de realimenta\u00e7\u00e3o \n\nmultivari\u00e1veis lineares LQG / LTR, j\u00e1 que LQR / LTR \u00e9 apresentado como uma solu\u00e7\u00e3o para    \n\npara fun\u00e7\u00f5es de transfer\u00eancia no dom\u00ednio da frequ\u00eancia. DOYLE, 1989 apresenta um tipo de \n\ntutorial para resolver problemas em malha fechada simples de    e    em formula\u00e7\u00e3o de \n\nvari\u00e1veis de estados.  \n\nAlgumas das aplica\u00e7\u00f5es da teoria de controle robusto s\u00e3o realizadas, por exemplo, em \n\nprocessos qu\u00edmicos, rob\u00f3tica, estruturas flex\u00edveis como SARRACINI, 2006, OKUBO, 1998 \n\nDRAKUNOV, 1992 e controle de aeronaves como VIVAS, 2011, DE OLIVEIRA, 2009. \n\nOs sistemas de controle podem ser obtidos mediante um procedimento passo a passo \n\napresentado na Figura 2.5, partindo desde o modelo f\u00edsico at\u00e9 a valida\u00e7\u00e3o do sistema com o \n\ncontrole (SKOGESTAD, 2001). \n\n\n\n 13 \n\n \n\nFigura 2.5 Passos b\u00e1sicos para o desenvolvimento de um sistema de controle \n\n2.4 Software e Hardware in the Loop \n\nO hardware e software in the loop (HIL e SIL) s\u00e3o t\u00e9cnicas que permitem realizar uma \n\nrepresenta\u00e7\u00e3o r\u00e1pida do modelo virtual de um sistema, em um prot\u00f3tipo f\u00edsico atrav\u00e9s de sistemas \n\nembarcados, com a finalidade de permitir a realiza\u00e7\u00e3o de testes mais pr\u00f3ximos com a realidade \n\nDEL SIGNORE, 2005. As simula\u00e7\u00f5es de SIL e HIL t\u00eam sido usadas na \u00e1rea da Ind\u00fastria \n\nAutomotiva de Produ\u00e7\u00e3o no desenvolvimento de transmiss\u00f5es, suspens\u00f5es e pneus. Outra \u00e1rea \n\nonde s\u00e3o implementadas o HIL e SIL s\u00e3o a rob\u00f3tica em aplica\u00e7\u00f5es gerais. \n\nA seguir s\u00e3o apresentadas algumas vantagens dos m\u00e9todos HIL e SIL: \n\nEstudar o sistema a ser controlado\n\nModelar o sistema e simplificar o modelo\n\nDecidir quais vari\u00e1veis devem ser medidas e manipuladas\n\nFazer a escolha do controlador a ser usado\n\nEscolher as medidas de desempenho, com base nos objetivos gerais do projeto\n\nProjetar o controlador\n\nAnalisar o sistema de controle resultante\n\nAs especifica\u00e7\u00f5es est\u00e3o \n\nsatisfeitas?\n\nSimule o sistema controlado resultante\n\nSim\n\nN\u00e3o\n\nEscolha de hardware e software para o controlador real\n\nTestar e validar o sistema de controle.\n\nO sistema satisfaz os objetivos \n\ndo projeto?\n\nSim\n\nN\u00e3o\n\n\n\n 14 \n\n? Desenvolver produtos com maior rapidez e menores custos. \n\n? Melhorar a intera\u00e7\u00e3o entre prot\u00f3tipos f\u00edsicos e subsistemas modelados, j\u00e1 que se pode \n\nverificar o comportamento do produto com maior rigor, aumentando a credibilidade dos \n\ntestes. \n\n? Detectar e antecipar falhas no produto antes que este seja industrializado. \n\n Uma das maiores desvantagens dos m\u00e9todos \u00e9 que est\u00e3o limitadas aos recursos \n\ncomputacionais, porque o m\u00e9todo requer recursos elevados e complexos para obter uma boa \n\nprecis\u00e3o nos resultados (GORDILLO, 2012). \n\n \n\nFigura 2.6 Componentes do HIL e SIL \n\nA Figura 2.6 mostra o conceito de simula\u00e7\u00f5es em tempo real que est\u00e3o compostos \n\nprincipalmente do modelo matem\u00e1tico da planta, sensores, atuadores, sistemas de aquisi\u00e7\u00e3o, \n\nunidade de controle que tem como objetivo comunicar a interface de usu\u00e1rio com o sistema de \n\naquisi\u00e7\u00e3o, e a interface gr\u00e1fica onde o usu\u00e1rio pode interagir com o sistema. \n\n O software in the loop (SIL) segundo CHOI, 1999 \u00e9 um m\u00e9todo pelo qual algumas partes \n\ndo hardware s\u00e3o substitu\u00eddas por simula\u00e7\u00f5es baseadas em software, ou seja, \u00e9 quando o \n\ncontrolador \u00e9 f\u00edsico e a planta \u00e9 substitu\u00edda por um modelo matem\u00e1tico, conectados entre si e \n\nsimulados em tempo real.  \n\nModelo Matem\u00e1tico\n\nUnidade de controle\n\nComponente F\u00edsico\n\nA\ntu\n\na\nd\n\no\nre\n\ns\n\nS\ne\nn\n\nso\nre\n\ns\n\nInterface gr\u00e1fica\n\nSIL\n\nControleControle\n\nHardware in the Loop Software in the Loop\n\n\n\n 15 \n\nCap\u00edtulo 3. FUNDAMENTOS TE\u00d3RICOS \n\nNeste cap\u00edtulo se apresentam os fundamentos te\u00f3ricos dos controladores   , as bases de \n\nfuncionamento, como \u00e9 calculado o esfor\u00e7o de controle, como \u00e9 resolvido o problema de \n\notimiza\u00e7\u00e3o mediante as equa\u00e7\u00f5es de Riccati e como os filtros de pondera\u00e7\u00e3o melhoram o \n\ncomportamento do controle. No cap\u00edtulo tamb\u00e9m \u00e9 apresentado os conceitos matem\u00e1ticos das \n\nm\u00e1quinas de suporte vetorial para regress\u00e3o para o problema linear e como \u00e9 solucionado o \n\nproblema para o caso n\u00e3o linear com o kernel. \n\n3.1 Controle    \n\nO controlador    tem como objetivo minimizar a norma ? da fun\u00e7\u00e3o de transfer\u00eancia, ou \n\nseja, reduzir o pico de amplitude no diagrama de bode para o problema SISO, ou o pico do maior \n\nvalor singular no caso MIMO. \n\nA representa\u00e7\u00e3o b\u00e1sica em diagrama de blocos utilizado em controlador robusto \u00e9 \n\napresentada na  Figura 3.1, \n\n \n\nFigura 3.1 Esquema b\u00e1sico do controle    \n\nonde: \n\n?  ( ) \u00e9 o sistema sendo controlado \n\n?  ( ) \u00e9 o controlador \n\n?   \u00e9 o vetor de entradas ex\u00f3genas (dist\u00farbios externos, ru\u00eddos de medi\u00e7\u00f5es e refer\u00eancias) \n\n?   \u00e9 o vetor de sinais de controle. \n\n\n\n 16 \n\n?   \u00e9 o vetor de sinais que se deseja controlar e utilizado para medir o desempenho do \n\nsistema (sinais de controle e estados) \n\n?   \u00e9 o vetor de sinais enviados ao controlador. \n\nO controle    aumenta a quantidade de incertezas que podem ser permitidas sem \n\ndesestabilizar o processo  ( ), aumentando a margem de estabilidade robusta do respectivo \n\nprocesso. \n\nDa Figura 3.1 podemos escrever as equa\u00e7\u00f5es de estados do problema    na forma \n\n(RODR\u00cdGEZ, 1996, SILVA, 2010): \n\n ?            \n               \n               \n\n ( 3.1 ) \n\nOu na forma matricial \n\n{\n ?\n \n \n}   {\n\n \n \n \n\n} ( 3.2 ) \n\nSendo \n\n  [\n     \n        \n        \n\n] ( 3.3 ) \n\n \n\nA matriz de transfer\u00eancia do sistema pode ser representada na forma: \n\n[\n \n ]  [\n\n      \n      \n\n] [\n \n \n\n] ( 3.4 ) \n\nsendo     a fun\u00e7\u00e3o de transfer\u00eancia entre as entradas ex\u00f3genas   e as medidas de \n\ndesempenho  ,     \u00e9 a fun\u00e7\u00e3o de transfer\u00eancia entre os sinais de controle   e as medidas de \n\ndesempenho  ,     \u00e9 a fun\u00e7\u00e3o de transfer\u00eancia entre as entradas ex\u00f3genas   e os sinais enviados \n\nao controlador   e     \u00e9 a fun\u00e7\u00e3o de transfer\u00eancia entre os sinais de controle   e os sinais \n\nenviados ao controlador  . \n\n\n\n 17 \n\nTem-se portanto que: \n\n             ( 3.5 ) \n\n             ( 3.6 ) \n\nonde o esfor\u00e7o de controle est\u00e1 dado por: \n\n   ( )   ( 3.7 ) \n\nSubstituindo ( 3.7 ) em ( 3.6 ) e isolando  , tem-se: \n\n             ?  \n\n  (      )\n       \n\n( 3.8 ) \n\nSubstituindo ( 3.7 ) em ( 3.5 ), tem-se: \n\n              ( 3.9 ) \n\nAo substituir a equa\u00e7\u00e3o  ( 3.8 ) em ( 3.9 ), pode-se obter a rela\u00e7\u00e3o entre   e   do sistema \n\nem malha fechada como \u00e9 apresentado na equa\u00e7\u00e3o ( 3.10 ). \n\n  [         (      )\n     ]  ( 3.10 ) \n\nDa equa\u00e7\u00e3o (3.10) podemos escrever     como sendo: \n\n            (      )\n  \n\n    ( 3.11 ) \n\nonde     \u00e9 a matriz de transfer\u00eancia entre a entrada   e a sa\u00eddas de desempenho  . Esta matriz \n\nde transfer\u00eancia \u00e9 chamada de transforma\u00e7\u00e3o linear fracional inferior. \n\nO projeto de controle    tem como objetivo buscar um   que minimize a norma    da \n\nmatriz de transfer\u00eancia     e garanta a estabilidade do sistema (SILVA, 2010). O problema de \n\notimiza\u00e7\u00e3o associado ao projeto de controladores    \u00e9 descrito na Equa\u00e7\u00e3o ( 3.12 ) \n\n      \n \n\n?   ?  ( 3.12 ) \n\nSe considera que o problema sub-\u00f3timo procura minimizar a norma    da matriz de \n\ntransfer\u00eancia entre as entradas ex\u00f3genas e as sa\u00eddas de desempenho, onde esta norma deve ser \n\nmenor que um limite fact\u00edvel   e maior que zero tornando o problema na forma: \n\n\n\n 18 \n\n?   ?    ( 3.13 ) \n\nO controlador   \u00e9 \u00f3timo quando     \u00e9 minimizado at\u00e9 que a condi\u00e7\u00e3o na Equa\u00e7\u00e3o ( 3.13 \n\n) n\u00e3o seja respeitada ZHOU,1998. O problema de otimiza\u00e7\u00e3o se torna portanto na forma: \n\n    \n         ?   ?   \n\n ( 3.14 ) \n\nO problema    pode ser resolvido com o aux\u00edlio de duas equa\u00e7\u00f5es de Riccati \n\n(RODR\u00cdGEZ, 1996), cujas solu\u00e7\u00f5es s\u00e3o utilizadas para o c\u00e1lculo do controlador   . \n\n \n\n3.1.1 Filtros de pondera\u00e7\u00e3o \n\nOs filtros de pondera\u00e7\u00e3o s\u00e3o filtros colocados nas entradas e nas sa\u00eddas do sistema a ser \n\ncontrolado no momento do projeto do controle. \n\nOs filtros de pondera\u00e7\u00e3o aplicados nas sa\u00eddas atuam de forma que os sistemas em malha \n\nfechada apresentem um comportamento pr\u00e9-definido, por exemplo, seja um dist\u00farbio afetando \n\nmais a sa\u00edda de desempenho do sistema em baixa frequ\u00eancia, pode-se optar por projetar um filtro \n\nde pondera\u00e7\u00e3o que atenue a influ\u00eancia do dist\u00farbio na baixa frequ\u00eancia, e incluir este filtro no \n\nprojeto do controlador. \n\nOs filtros de pondera\u00e7\u00e3o utilizados nas entradas tamb\u00e9m t\u00eam como objetivo dar aos sinais \n\nde entrada uma composi\u00e7\u00e3o espectral especifica. Por exemplo, imaginando uma entrada ex\u00f3gena \n\nque apresenta componentes de baixas frequ\u00eancias, acrescentando um filtro passa-baixa permite \n\nque o sinal de controle atue s\u00f3 nas baixas frequ\u00eancias e as componentes de alta frequ\u00eancia sejam \n\nignoradas (SARRACINI, 2006). \n\nA Figura 3.2 apresenta o conjunto geral da planta e controlador com filtros de pondera\u00e7\u00e3o \n\n ( ) nas entradas ex\u00f3genas (referencia  , dist\u00farbio no esfor\u00e7o de controle   , dist\u00farbio na sa\u00edda \n\ndo sistema    e ru\u00eddo de medi\u00e7\u00e3o  ) e nas sa\u00eddas de desempenho (sa\u00edda do sistema  , erro do \n\nsistema   e o esfor\u00e7o de controle  ), sendo as sa\u00eddas de desempenho da forma: \n\n  \n\n\n\n 19 \n\n       (      )\n        \n       \n\n ( 3.15 ) \n\n \n\n \n\nFigura 3.2 Sistema geral com filtros de pondera\u00e7\u00e3o nas entradas e sa\u00eddas \n\n3.2 M\u00e1quinas de suporte vetorial (SVM) \n\nAs m\u00e1quinas de suporte vetorial (SVM, sigla em ingl\u00eas Support Vector Machines) s\u00e3o \n\nalgoritmos de aprendizagem de m\u00e1quinas supervisionadas para problemas de classifica\u00e7\u00e3o e \n\nregress\u00e3o desenvolvidos por Vladimir Vapnik (HONG, 2013). \n\nPara o caso de regress\u00e3o tem-se um conjunto de dados de treinamento {(     )}         , \n\nonde cada      \n  representa uma amostra dos dados de entrada e cada       um objetivo. O \n\nconjunto de dados poderia representar, por exemplo, como o valor de uma casa est\u00e1 sujeito ao \n\ntamanho da mesma como \u00e9 apresentado na Figura 3.3. O objetivo da SVM \u00e9 achar uma fun\u00e7\u00e3o \n\n ( ) que tenha como m\u00e1ximo um   de erro dos objetivos reais das amostras   . Ou seja, estimar \n\nos coeficientes de regress\u00e3o de  ( ) com os requisitos dados (STOEAN, 2006 e SMOLA_2004). \n\n\n\n 20 \n\n \n\nFigura 3.3 Problema de regress\u00e3o linear com SVM \n\n3.2.1 M\u00e1quinas de suporte vetorial linear. \n\nSuponha-se que um modelo de regress\u00e3o linear pode ajustar os dados de treinamento, \n\nconsequentemente a fun\u00e7\u00e3o  ( ) tem a forma: \n\n ( )  ?   ?    ( 3.16 ) \n\nonde         \u00e9 a inclina\u00e7\u00e3o do plano de regress\u00e3o e      \u00e9 o ponto onde a superf\u00edcie \n\nintersecta o eixo  .  \n\nPode ser dito que a SVM tem como objetivo aproximar uma fun\u00e7\u00e3o   aos dados de \n\ntreinamento com uma precis\u00e3o  , matematicamente isto se pode ser escrito na forma: \n\n|   (?    ?   )|              ( 3.17 ) \n\nou \n\n{\n   ?    ?      \n?    ?        \n\n            ( 3.18 ) \n\nPor outro lado o objetivo da SVM \u00e9 obter a menor margem que contenha a maioria dos \n\ndados com a menor inclina\u00e7\u00e3o, isto \u00e9,   com a condi\u00e7\u00e3o:  \n\n   \n \n\n \n\n \n? ?  ( 3.19 ) \n\n\n\n 21 \n\nOu seja, o problema de otimiza\u00e7\u00e3o no caso de SVM regress\u00e3o linear \u00e9 dado por: \n\n{\n   \n\n \n\n \n\n \n? ? \n\n          {\n   ?    ?      \n?    ?        \n\n            \n ( 3.20 ) \n\n3.2.2 M\u00e1quinas de suporte vetorial linear com indicadores de erro. \n\nPode acontecer que a fun\u00e7\u00e3o  ( ) n\u00e3o seja capaz de ajustar-se a todos os dados de \n\ntreinamento e por isto a SVM permite alguns erros. Para que a SVM permita erros se acrescentam \n\nvari\u00e1veis de relaxamento    e   \n  na condi\u00e7\u00e3o de aproxima\u00e7\u00e3o dos dados de treinamento ligados a \n\ncada uma das amostras, da forma (STOEAN, 2006, SMOLA, 2004 e HONG, 2013): \n\n{\n \n \n\n \n    \n\n \n\n \n\n \n? ?   ?( \n\n \n  \n\n \n )\n\n \n\n   \n\n          {\n\n   ?    ?         \n?    ?           \n\n \n\n \n \n  \n\n \n   \n\n            \n\n ( 3.21 ) \n\nonde     \u00e9 um par\u00e2metro que penaliza os erros permitidos, ou seja,  .determina o equil\u00edbrio \n\nentre a curvatura da fun\u00e7\u00e3o  ( ) respeito \u00e0 quantidade de deriva\u00e7\u00f5es m\u00e1ximas permitidas por   \n\ncomo e apresentado na Figura 3.4.  \n\n \n\nFigura 3.4 Efeito do par\u00e2metro   \n\nA equa\u00e7\u00e3o ( 3.21 ) pode ser resolvida empregando a formula\u00e7\u00e3o dual e a programa\u00e7\u00e3o \n\nquadr\u00e1tica (HONG, 2013). A ideia \u00e9 construir uma fun\u00e7\u00e3o de Lagrange da fun\u00e7\u00e3o objetivo \n\n\n\n 22 \n\nacrescentando um conjunto de vari\u00e1veis chamadas de multiplicadores de Lagrange. A \n\ncorrespondente formula\u00e7\u00e3o \u00e9 apresentada na forma (SMOLA, 2004):  \n\n  \n \n\n \n? ?   ?( \n\n \n  \n\n \n )\n\n \n\n   \n\n ? ( \n \n \n \n  \n\n \n  \n\n \n\n )\n\n \n\n   \n\n ?   (        ?    ?   )\n\n \n\n   \n\n ?   \n (   \n\n \n     ?    ?   )\n\n \n\n   \n\n \n\n( 3.22 ) \n\nsendo   a fun\u00e7\u00e3o de Lagrange e      \n        \n\n  os multiplicadores de Lagrange, onde ditos \n\nmultiplicadores tem que satisfazer: \n\n     \n        \n\n     ( 3.23 ) \n\nDeriva-se   com respeito \u00e0s vari\u00e1veis principais (         \n ) obtendo-se: \n\n  \n\n  \n ?(  \n\n    )\n\n \n\n \n\n   ( 3.24 ) \n\n  \n\n  \n   ?(     \n\n )  \n\n \n\n \n\n   ( 3.25 ) \n\n  \n\n   \n          \n\n  \n\n   \n      \n\n    \n   \n\n ( 3.26 ) \n\nSubstituindo ( 3.24 ), ( 3.25 ) e ( 3.26 ) em ( 3.22 ) se obt\u00e9m o problema de optimiza\u00e7\u00e3o \n\ndual: \n\n   [ \n \n\n \n?(     \n\n )(     \n )?      ?\n\n \n\n   \n\n  ?(     \n )\n\n \n\n   \n\n ?   (     \n )\n\n \n\n   \n\n]\n\n          {\n?(  \n\n    )\n\n \n\n   \n\n  \n\n     \n       \n\n ( 3.27 ) \n\nDepois de solucionar o problema dual a decis\u00e3o \u00f3tima pode ser obtida (HONG, 2013):  \n\n\n\n 23 \n\n ( )  ?(     \n )?      ?   \n\n \n\n   \n\n ( 3.28 ) \n\nA equa\u00e7\u00e3o ( 3.28 ) \u00e9 chamada de expans\u00e3o de m\u00e1quina de suporte vetorial, ou seja,   pode \n\nser descrita como uma combina\u00e7\u00e3o linear das    de treinamento. Num certo sentido a \n\ncomplexidade da representa\u00e7\u00e3o de uma fun\u00e7\u00e3o SVM \u00e9 independente do n\u00famero de dimens\u00f5es do \n\nespa\u00e7o de entradas, e depende s\u00f3 do n\u00famero de vetores de suporte (SVs). \n\n3.2.3 M\u00e1quinas de suporte vetorial n\u00e3o linear. \n\nOs problemas n\u00e3o lineares s\u00e3o mais comuns nas aplica\u00e7\u00f5es pr\u00e1ticas. A forma de resolver \n\neste tipo de problemas \u00e9 usando uma fun\u00e7\u00e3o Kernel ou n\u00facleo. A fun\u00e7\u00e3o Kernel pode projetar os \n\ndados para um espa\u00e7o de maior dimensionalidade como \u00e9 apresentado na Figura 3.5, e assim \n\nmelhorar a capacidade da m\u00e1quina de suporte vetorial linear de representar a rela\u00e7\u00e3o n\u00e3o linear \n\nno espa\u00e7o de entrada original. Isso leva ao problema de otimiza\u00e7\u00e3o da equa\u00e7\u00e3o ( 3.29 ) (HONG, \n\n2013): \n\n   [ \n \n\n \n?(     \n\n )(     \n ) (     )\n\n \n\n   \n\n  ?(     \n )\n\n \n\n   \n\n ?   (     \n )\n\n \n\n   \n\n]\n\n          {\n?(  \n\n    )\n\n \n\n   \n\n  \n\n     \n       \n\n ( 3.29 ) \n\nsendo  (     ) a fun\u00e7\u00e3o de Kernel. \n\n \n\nFigura 3.5 Mapeamento de alta dimensionalidade \n\n\n\n 24 \n\nA correspondente fun\u00e7\u00e3o de decis\u00e3o \u00f3tima com o Kernel \u00e9 dada por: \n\n ( )  ?(     \n ) (     )   \n\n \n\n   \n\n ( 3.30 ) \n\nQuanto maior for \u00e0 dimens\u00e3o do espa\u00e7o de descri\u00e7\u00e3o, o kernel vai apresentar uma maior \n\nprobabilidade de obter um hiperplano. Ao transformar o espa\u00e7o de entrada em um espa\u00e7o \n\nsuperior (teoricamente de dimens\u00e3o infinita), \u00e9 poss\u00edvel obter uma separa\u00e7\u00e3o das classes \n\nmediante hiperplanos. \n\nExistem diversos tipos de kernel como e apresentado na Tabela 3.1, o kernel empregado \n\nneste trabalho e uma fun\u00e7\u00e3o gaussiana onde o par\u00e2metro    da gaussiana \u00e9 o limiar para a \n\ntransforma\u00e7\u00e3o das novas caracter\u00edsticas. \n\nTabela 3.1 Tipos de kernel \n\nKernel Fun\u00e7\u00e3o Par\u00e2metros \n\nGaussiana  \n (\n\n|    |\n \n\n   \n)\n    \n\nPolinomial (     )    \n\nPerceptron 2 camadas      (   \n      )        \n\n \n\n  \n\n\n\n 25 \n\nCap\u00edtulo 4. MODELAGEM DA BANCADA DE TESTES VIRTUAL \n\nNeste cap\u00edtulo \u00e9 apresentada a metodologia para a modelagem da bancada de testes virtual \n\npara BCS. Primeiramente \u00e9 exposto o sistema em estudo, seus componentes principais e assim \n\ncomo \u00e9 seu princ\u00edpio de funcionamento. A partir do sistema apresentado, realizou-se a \n\nmodelagem de cada componente que faz farte do sistema, obtendo um modelo geral n\u00e3o linear e \n\nn\u00e3o param\u00e9trico composto por submodelos de caixa preta e caixa branca.  \n\n4.1 Circuito de Testes de BCS \n\nO circuito de testes de BCS \u00e9 constitu\u00eddo basicamente por tanques de \u00e1gua e ar, tubula\u00e7\u00e3o, uma \n\nbomba booster, v\u00e1lvulas de vaz\u00e3o e instrumenta\u00e7\u00e3o conforme apresenta o diagrama esquem\u00e1tico da \n\nbancada de testes virtual da Figura 4.1. \n\nBomba boosterTanque de agua\n\nTanque de ar\n\nMotor P? \n\nMedidor de vaz\u00e3o\n\nMedidor de vaz\u00e3o\n\nV\u00e1lvula controle de flujo\n\nV\u00e1lvula controle de vaz\u00e3o de ar\n\nBCS\nTorque\n\nP? \n\nT? T? \n\nT? P?\n\nAgua\n\nAr\n\nAgua + Ar\n\n \n\nFigura 4.1 Circuito de testes para BCS \n\nNa bancada de testes da Figura 4.1, a bomba booster bombeia a \u00e1gua do tanque para a linha de \n\ntestes com o objetivo de vencer as perdas de carga devidas \u00e0 tubula\u00e7\u00e3o e acess\u00f3rios. A bomba booster \n\ntem a fun\u00e7\u00e3o tamb\u00e9m de controlar a press\u00e3o na entrada da BCS. Este ajuste de press\u00e3o \u00e9 realizado \n\nmediante o controle da rota\u00e7\u00e3o do eixo da bomba. Antes de chegar \u00e0 BCS o fluido passa por um \n\nmedidor de vaz\u00e3o. O ar utilizado como parte gasosa, \u00e9 comprimido \u00e9 injetado na suc\u00e7\u00e3o da BCS \n\n\n\n 26 \n\npassando tamb\u00e9m por um medidor de vaz\u00e3o. O controle da vaz\u00e3o de g\u00e1s \u00e9 realizado por uma v\u00e1lvula \n\nque fica depois do medidor de vaz\u00e3o.  \n\nO fluido multif\u00e1sico \u00e9 bombeado de volta ao tanque de \u00e1gua onde \u00e9 realizada a separa\u00e7\u00e3o \n\ngravitacional das fazes da mistura. A vaz\u00e3o de fluido \u00e9 controlada por uma v\u00e1lvula instalada na \n\ntubula\u00e7\u00e3o de recalque. O acionamento da BCS \u00e9 realizado por um motor de indu\u00e7\u00e3o trif\u00e1sico \n\ncontrolado por um variador de frequ\u00eancia. No circuito de testes tamb\u00e9m s\u00e3o medidas, as press\u00f5es, \n\ntemperaturas, viscosidades na entrada e sa\u00edda da BCS, torque no eixo de acionamento da bomba, \n\ncorrente e tens\u00e3o no motor el\u00e9trico. \n\n4.2 Proposta de Modelo da bancada de testes \n\nFoi desenvolvido um modelo matem\u00e1tico que representasse o comportamento da bancada \n\nde testes que apresenta como vari\u00e1veis de entrada a rota\u00e7\u00e3o da bomba booster WBtr, a rota\u00e7\u00e3o da \n\nBCS WBCS, o deslocamento do pist\u00e3o da v\u00e1lvula de controle do fluido de sa\u00edda do escoamento da \n\nbomba BCS Xvalf, a voltagem de excita\u00e7\u00e3o da eletrov\u00e1lvula de controle de vaz\u00e3o de ar, e como \n\nvari\u00e1veis de sa\u00edda a press\u00e3o de entrada da bomba BCS    e a porcentagem de vazio      . A \n\nFigura 4.2 apresenta uma proposta do sistema a modelar o qual est\u00e1 representada pelos \n\ncomponentes principais de um circuito de testes para BCS.  \n\n \n\nFigura 4.2 Diagrama de blocos do sistema \n\nBomba booster\n\nV\u00e1lvula Ar\n\nVazio\n\nBCS\n\nV\u00e1lvula Fluido\n\n+\n\n\n\n 27 \n\nDa Figura 4.2 se pode observar que o modelo da bancada virtual contem cinco (5) \n\ncomponentes principais apresentados a seguir: \n\n? A v\u00e1lvula de ar cont\u00e9m como entradas a voltagem de excita\u00e7\u00e3o da v\u00e1lvula   , a press\u00e3o \n\n   e temperatura    na entrada na BCS, a press\u00e3o    e temperatura    no reservat\u00f3rio de \n\nar. Como sa\u00edda a v\u00e1lvula de ar tem a vaz\u00e3o de ar    . \n\n? A v\u00e1lvula de fluido como entradas principais tem deslocamento do pist\u00e3o       e a \n\npress\u00e3o gerada pela BCS   . Como sa\u00edda a v\u00e1lvula de fluido tem a vaz\u00e3o de ar      . \n\n? A bomba booster tem como entradas a rota\u00e7\u00e3o do eixo      e a vaz\u00e3o de agua      , e \n\ncomo sa\u00edda a press\u00e3o de entrada na BCS   . \n\n? A BCS cont\u00e9m como entradas a rota\u00e7\u00e3o do eixo     , a press\u00e3o de entrada na BCS   , a \n\nvaz\u00e3o total de fluido        e a porcentagem de g\u00e1s      . Como sa\u00edda a press\u00e3o gerada \n\npela BCS   .. \n\n? O calculo da porcentagem de g\u00e1s      , tem como entrada a vaz\u00e3o de ar     e a vaz\u00e3o de \n\nagua        \n\nA seguir v\u00e3o ser apresentados os procedimentos de como foi desenvolvido cada um dos \n\nmodelos dos componentes do circuito de testes de BCS mostrados na Figura 4.2. A porcentagem \n\nde g\u00e1s pode ser calculada empregando a equa\u00e7\u00e3o ( 2.4 ) apresentada na subse\u00e7\u00e3o 2.1.1 \n\n4.2.1 Modelagem da v\u00e1lvula de ar \n\nA Figura 4.3 apresenta o desenho esquem\u00e1tico b\u00e1sico de uma eletrov\u00e1lvula de controle de \n\nvaz\u00e3o. Baseando-se no esquema se pode obter o modelo matem\u00e1tico de cada um dos segmentos \n\nque comp\u00f5em a v\u00e1lvula apresentados no diagrama de blocos da Figura 4.4, sendo: \n\n?   ( ) \u00e9 fun\u00e7\u00e3o de transfer\u00eancia do componente el\u00e9trico, onde a entrada    \u00e9 a voltagem \n\nde excita\u00e7\u00e3o do circuito, e a sa\u00edda    \u00e9 a for\u00e7a gerada pela eletrov\u00e1lvula. A equa\u00e7\u00e3o ( 4.7 ) \n\napresenta a formula\u00e7\u00e3o do componente el\u00e9trico. \n\n?   ( ) \u00e9 a fun\u00e7\u00e3o de transfer\u00eancia do componente mec\u00e2nico, tendo como entrada a soma \n\nde    com    que \u00e9 um dist\u00farbio devido \u00e0 press\u00e3o exercida pelo fluido ao pist\u00e3o da \n\nv\u00e1lvula, tendo como sa\u00edda o deslocamento do pist\u00e3o     . Na equa\u00e7\u00e3o ( 4.14 ) \u00e9 \n\napresentado a formula\u00e7\u00e3o do componente mec\u00e2nico da v\u00e1lvula. \n\n\n\n 28 \n\n?    ( ) \u00e9 a fun\u00e7\u00e3o de transfer\u00eancia do componente pneum\u00e1tico. Tem como entrada      e \n\ncomo sa\u00edda fluxo de ar    . Nas equa\u00e7\u00f5es ( 4.17 ) e ( 4.18 ) \u00e9 apresentado a formula\u00e7\u00e3o \n\ndo componente pneum\u00e1tico. \n\n \n\nFigura 4.3 Eletrov\u00e1lvula de controle de vaz\u00e3o de ar \n\n \n\n \n\nFigura 4.4 Diagrama de blocos da eletrov\u00e1lvula \n\n4.2.1.1 Equa\u00e7\u00f5es eletromec\u00e2nicas \n\nO esquema apresentado na Figura 4.5 mostra o circuito el\u00e9trico da eletrov\u00e1lvula, onde    \u00e9 \n\na voltagem de excita\u00e7\u00e3o do circuito,    \u00e9 a voltagem na sa\u00edda do amplificador,   \u00e9 a corrente na \n\nbobina,    \u00e9 o ganho do amplificador de corrente DC,    e    s\u00e3o as resist\u00eancias devidas ao \n\namplificador e \u00e0 bobina,    \u00e9 a indut\u00e2ncia da bobina,      \u00e9 a voltagem induzida pela for\u00e7a \n\neletromotriz,    \u00e9 o coeficiente da for\u00e7a eletromotriz, e      \u00e9 o deslocamento do pist\u00e3o \n\n(ZHANG, 2010). \n\n\n\n 29 \n\n \n\nFigura 4.5 Circuito equivalente da eletrov\u00e1lvula \n\nDa Figura 4.5 temos que: \n\n  ( )      ( )      ( )     ??( )      ( ) ( 4.1 ) \n\n  ( )    ( )    ( 4.2 ) \n\n    ( )     ?   ( ) ( 4.3 ) \n\nSubstituindo ( 4.2 ), ( 4.3 ) em ( 4.1 ) temos: \n\n  ( )        ( )      ( )     ??( )     ?   ( ) ( 4.4 ) \n\nFazendo a transformada de Laplace com condi\u00e7\u00f5es iniciais iguais a zero (     ) temos: \n\n {  ( )   }     \n  {    ( )      ( )     ??( )     ?   ( )}     \n\n ( 4.5 ) \n\n  ( )       ( )      ( )        ( )           ( ) ( 4.6 ) \n\nFinalmente a equa\u00e7\u00e3o fica na forma: \n\n       [            ]  ( )            ( ) ( 4.7 ) \n\nA Figura 4.6 apresenta um esquema simplificado da parte mec\u00e2nica da v\u00e1lvula que \u00e9 um \n\nmecanismo composto basicamente de uma massa   , uma mola   , e um mecanismo de \n\namortecimento    gerado pelo atrito entre os componentes e o fluido na v\u00e1lvula.  \n\n\n\n 30 \n\n \n\nFigura 4.6 Esquema equivalente do mecanismo da v\u00e1lvula de ar \n\nDa Figura 4.6 temos que: \n\n   ?   ( )     ?   ( )        ( )    ( )    ( ) ( 4.8 ) \n\n  ( )      ( ) ( 4.9 ) \n\nsendo    a constante de proporcionalidade eletromec\u00e2nica. Aplicando a transformada de Laplace \n\ntemos \n\n {   ?   ( )     ?   ( )        ( )}       {  ( )    ( )}     \n ( 4.10 ) \n\n {  ( )}       {    ( )}      ( 4.11 ) \n\n   \n     ( )         ( )        ( )    ( )    ( ) ( 4.12 ) \n\n  ( )      ( ) ( 4.13 ) \n\nFinalmente as equa\u00e7\u00f5es ficam na forma: \n\n    \n                    ( 4.14 ) \n\n        ( 4.15 ) \n\nonde    \u00e9 a for\u00e7a gerada pela eletrov\u00e1lvula,    \u00e9 a for\u00e7a exercida pelo fluido ao pist\u00e3o, e     \u00e9 a \n\nconstante de proporcionalidade eletromec\u00e2nica.  \n\n\n\n 31 \n\n4.2.1.2 Equa\u00e7\u00f5es Pneum\u00e1ticas \n\nConsiderando o fluxo de ar est\u00e1vel passando por um orif\u00edcio como \u00e9 apresentado na Figura \n\n4.7, e supondo que n\u00e3o existem os efeitos de atrito, pode-se escrever as equa\u00e7\u00f5es de fluxo \n\nm\u00e1ssico numa v\u00e1lvula (OGATA, 1987). \n\n \n\nFigura 4.7 Fluxo de um g\u00e1s atrav\u00e9s de um orif\u00edcio \n\nQuando a condi\u00e7\u00e3o de press\u00e3o \u00e9            a velocidade do g\u00e1s \u00e9 subs\u00f4nica, e o fluxo \n\nm\u00e1ssico pode ser obtido pela express\u00e3o: \n\n        ?\n \n\n     \n ?  (     ) ( 4.16 ) \n\nSe         [\n   \n\n    \n], e supondo que o fator de expans\u00e3o   \u00e9 quase constante para (  \n\n  \n\n  \n      ), pode-se dizer que        . Substituindo estes valores em (4.16) tem-se: \n\n             \n \n\n?  \n ?  (     )    (  \n\n  \n  \n\n      ) ( 4.17 ) \n\n \n\nQuando a condi\u00e7\u00e3o de press\u00e3o \u00e9            , a velocidade do g\u00e1s \u00e9 s\u00f4nica e o fluxo \n\nm\u00e1ssico n\u00e3o depende da press\u00e3o de entrada ao orif\u00edcio, e a equa\u00e7\u00e3o do fluxo de ar pode ser obtida \n\npor: \n\n             \n  \n\n?  \n    (\n\n  \n  \n\n      ) ( 4.18 ) \n\n\n\n 32 \n\nonde    \u00e9 dada em    ,    e    em press\u00f5es absolutas,    e     em    . \n\nSendo uma v\u00e1lvula tipo agulha como se apresenta na Figura 4.8, a dimens\u00e3o    pode ser \n\nobtida pela express\u00e3o: \n\n \n\nFigura 4.8 V\u00e1lvula tipo agulha \n\n  (    )  \n\n{\n \n\n \n                 \n\n (           )                        \n   \n\n \n\n \n                       \n\n ( 4.19 ) \n\nsendo         o deslocamento m\u00e1ximo do pist\u00e3o da v\u00e1lvula. \n\n4.2.2 Modelagem da V\u00e1lvula de Fluido \n\nO modelo da v\u00e1lvula de fluido tem como objetivo calcular a vaz\u00e3o de l\u00edquido presente na \n\nmistura a partir da press\u00e3o gerada pela BCS e da abertura da v\u00e1lvula. A Figura 4.9 apresenta uma \n\nv\u00e1lvula de controle de vaz\u00e3o tipo agulha. Tendo em conta o fluxo atrav\u00e9s de orif\u00edcios, pode-se \n\nescrever que o fluxo m\u00e1ssico numa v\u00e1lvula esta dado por: \n\n\n\n 33 \n\n \n \n\n \n\nFigura 4.9 V\u00e1lvula de controle de fluido \n\n           ?\n \n\n \n(     ) ( 4.20 ) \n\nonde    pode ser obtida pela express\u00e3o: \n\n  (     )  \n\n{\n \n \n\n \n \n\n                  \n\n (           )                           \n\n   \n \n\n \n                         \n\n ( 4.21 ) \n\n \n\nsendo          o deslocamento m\u00e1ximo do pist\u00e3o da v\u00e1lvula de fluido, a densidade do fluido   \n\nvai depender da quantidade de ar na mistura.  \n\n4.2.3 Modelagem da bomba booster \n\nNa Figura 4.10 apresenta a proposta do modelo da bomba booster a qual est\u00e1 constitu\u00edda \n\npor duas sess\u00f5es; o modelo de eleva\u00e7\u00e3o da bomba que depende dos sinais de entrada de rota\u00e7\u00e3o e \n\nde vaz\u00e3o de \u00e1gua da bomba fornecendo como sinal de sa\u00edda a press\u00e3o, e o modelo da rota\u00e7\u00e3o do \n\neixo da bomba que depende do sinal de torque de entrada para fornecer o sinal de rota\u00e7\u00e3o de \n\nsa\u00edda do eixo da bomba. \n\n \n\n\n\n 34 \n\nSVM  \n\nDados de \n\ntreinamento\n\nModelo da eleva\u00e7\u00e3o \n\n Rota\u00e7\u00e3o eixo\n\nVaz\u00e3o de agua\n\nPress\u00e3o de sa\u00edda\nModelo de rota\u00e7\u00e3o \n\ndo eixo\n\nF???? \n\n \n\nFigura 4.10 Diagrama de blocos modelo bomba booster \n\n4.2.3.1 Modelo da eleva\u00e7\u00e3o da bomba booster \n\nPara obter o modelo da eleva\u00e7\u00e3o da bomba booster, utilizou-se um processo de \n\nidentifica\u00e7\u00e3o de caixa preta baseado em aprendizagem de m\u00e1quina. \n\nO algoritmo de aprendizagem de m\u00e1quina usado para o desenvolvimento do modelo da \n\nbomba booster \u00e9 o de m\u00e1quinas de suporte vetorial para regress\u00e3o (SVMr, siglas em ingl\u00eas). A \n\nFigura 4.11 apresenta a proposta do modelo da bomba booster, sendo a rota\u00e7\u00e3o do eixo      e a \n\nvaz\u00e3o       as entradas ao modelo e a press\u00e3o    a sa\u00edda. \n\n \n\nFigura 4.11 Diagrama de blocos do modelo de eleva\u00e7\u00e3o da bomba booster \n\nA SVMr implementada emprega um \u201ckernel\u201d tipo gaussiano para obter um mapeamento \n\ncompleto entrada-sa\u00edda. Os dados de treinamento foram extra\u00eddos das curvas de desempenho \n\nvaz\u00e3o-press\u00e3o apresentados no trabalho de POTTEBAUM 1984. Os dados exibem as curvas de \n\numa bomba centr\u00edfuga operando a rota\u00e7\u00f5es diferentes, como mostra a Figura 4.12. \n\n\n\n 35 \n\n \n\nFigura 4.12 Efeito da rota\u00e7\u00e3o na bomba booster \n\nO SVMr treinado deve conter informa\u00e7\u00e3o suficiente para reproduzir os dados de \n\ntreinamento e tamb\u00e9m interpolar condi\u00e7\u00f5es de opera\u00e7\u00e3o da bomba que n\u00e3o foram inclu\u00eddas no \n\ntreinamento do SVMr. Com o objetivo de obter os melhores par\u00e2metros (o   da regulariza\u00e7\u00e3o \n\napresentado na equa\u00e7\u00e3o ( 3.21 ), o    do \u201ckernel\u201d gaussiano apresentado na Tabela 3.1e o   da \n\nmargem apresentado na equa\u00e7\u00e3o ( 3.20 )), utilizou-se o m\u00e9todo de regula\u00e7\u00e3o mediante \n\nbias/vari\u00e2ncia (AP\u00caNDICE B). Para o treinamento do modelo de SVMr utilizou-se os \n\n\u201ctoolboxes\u201d de distribui\u00e7\u00e3o gratuita (SVMLIB) executadas no MatLab (CHANG, 2011) para \n\nrealizar o treinamento da SVMR para predisser novas caracter\u00edsticas se emprega a equa\u00e7\u00e3o ( 3.30 \n\n) apresentada na subse\u00e7\u00e3o 3.2.3 empregando os vetores de suporte   , multiplicadores de \n\nLagrange    e o par\u00e2metro de bias   otimizados pelo \u201ctoolbox\u201d ap\u00f3s do treinamento. \n\n4.2.3.2 Modelo da velocidade de rota\u00e7\u00e3o do eixo da bomba \n\nA Figura 4.13 apresenta um modelo simplificado de um eixo, sendo      a in\u00e9rcia do eixo \n\ndo rotor,      o amortecimento devido ao atrito e do fluido no rotor da bomba,      o torque de \n\nentrada ao modelo e      a velocidade de rota\u00e7\u00e3o do eixo. \n\n\n\n 36 \n\n \n\nFigura 4.13 Esquema eixo bomba booster \n\nDa Figura 4.13 temos que: \n\n     ?   ( )       ?   ( )      ( ) ( 4.22 ) \n\n    ( )   ?   ( ) ( 4.23 ) \n\nSubstituindo \n\n     ?   ( )           ( )      ( ) ( 4.24 ) \n\n {     ?   ( )           ( )}       {    ( )}      ( 4.25 ) \n\n           ( )           ( )      ( ) ( 4.26 ) \n\n    \n    \n\n \n \n\n           \n ( 4.27 ) \n\nDa Equa\u00e7\u00e3o ( 4.27 ) pode-se dizer que a velocidade de sa\u00edda do eixo da bomba para uma \n\nentrada de torque apresenta um comportamento de um sistema de primeira ordem. \n\n4.2.4 Modelagem da bomba BCS \n\nO modelo da BCS est\u00e1 baseado em um modelo de caixa preta como se apresenta na Figura \n\n4.14, tendo como entradas do modelo a press\u00e3o de entrada na BCS, a porcentagem de g\u00e1s na \n\nmistura, a rota\u00e7\u00e3o da BCS, e a vaz\u00e3o da mistura \u00e1gua-g\u00e1s, e como sa\u00edda a press\u00e3o de sa\u00edda gerada \n\npela BCS. \n\n\n\n 37 \n\n \n\nFigura 4.14 Diagrama de blocos do modelo da BCS \n\nO modelo da BCS semelhante ao modelo da booster foi desenvolvido mediante SVMr \n\nusando um \u201ckernel\u201d tipo gaussiano. Os dados para o treinamento do modelo foram extra\u00eddos da \n\ndisserta\u00e7\u00e3o de mestrado MONTE (2011) onde o autor faz um estudo experimental de bombas \n\nBCS operando com escoamento bif\u00e1sico l\u00edquido-g\u00e1s, apresentando dados do comportamento de \n\numa BCS a diferentes rota\u00e7\u00f5es, press\u00f5es de entrada, e porcentagens de g\u00e1s na mistura. A Figura \n\n4.15 apresenta curvas de desempenho da bomba BCS operando em diferentes condi\u00e7\u00f5es de \n\npress\u00e3o de entrada, rota\u00e7\u00e3o, e porcentagem de g\u00e1s. \n\n \n\na) \n\n\n\n 38 \n\n \n\nb) \n\n \n\nc) \n\n \n\nFigura 4.15 a) Efeito da rota\u00e7\u00e3o, b) Efeito da Press\u00e3o c) Efeito do ar na mistura.  \n\n\n\n 39 \n\nCom o objetivo de obter os melhores par\u00e2metros (o   da regulariza\u00e7\u00e3o, o   do \u201ckernel\u201d \n\ngaussiano e o   da margem), utilizaram-se algoritmos gen\u00e9ticos (AP\u00caNDICE C), j\u00e1 que o espa\u00e7o \n\nde procura destes algoritmos \u00e9 maior que a valida\u00e7\u00e3o cruzada, e pela quantidade de dados \n\ndispon\u00edveis o custo computacional \u00e9 menor. Para o treinamento do modelo de SVMr utilizou-se \n\nos \u201ctoolboxes\u201d de distribui\u00e7\u00e3o gratuita (SVMLIB) executadas no MatLab (CHANG, 2011). \n\n4.3 Bancada Virtual de Testes. \n\nPara a obten\u00e7\u00e3o da bancada virtual de testes foram desenvolvidos dois modelos que est\u00e3o \n\ninterligados como \u00e9 apresentado na Figura 4.16, que cont\u00e9m respectivamente cada uns dos \n\nmodelos de cada componente da bancada de testes virtual para BCS da Figura 4.1.  \n\nO primeiro modelo ModeloValar_sf calcula a porcentagem de g\u00e1s na mistura        e a \n\nvaz\u00e3o de ar na entrada da BCS     , onde estes dois par\u00e2metros v\u00e3o depender da abertura da \n\nv\u00e1lvula de ar      , da press\u00e3o de entrada na BCS   , das temperaturas no tanque de ar e na \n\nentrada da BCS    e   , e da press\u00e3o do ar no tanque   .  \n\nO segundo modelo de caixa preta ModeloCircuitowar_sf realiza a intera\u00e7\u00e3o dos modelos da \n\nbomba booster, da BCS e da v\u00e1lvula de fluido com o objetivo de calcular a vaz\u00e3o de \u00e1gua       \n \n\nna mistura, a press\u00e3o de entrada na BCS    , a press\u00e3o de sa\u00edda da BCS     e a vaz\u00e3o do fluido \n\nmultif\u00e1sico       . Os par\u00e2metros de entrada no segundo modelo s\u00e3o a rota\u00e7\u00e3o da bomba booster \n\n     , a rota\u00e7\u00e3o da BCS      , a vaz\u00e3o de \u00e1gua e de ar na entrada da BCS       \n e       a \n\nporcentagem de g\u00e1s na entrada da BCS       , a abertura da v\u00e1lvula de fluido       \n, as \n\ntemperaturas na entrada e sa\u00edda da BCS     e    , e o n\u00famero de itera\u00e7\u00f5es do algoritmo para que \n\neste se estabilize       . Na Figura 4.17 se apresenta um digrama da intera\u00e7\u00e3o dos componentes \n\ndo segundo bloco. \n\n\n\n 40 \n\n \n\nFigura 4.16 Diagrama dos modelos de caixa preta do sistema \n\nIn\u00edcio\n\nEntradas (W_BCS,W_Btr, Qagua0, Qar_bcs,Vazio, XValf, \nT2, T3,iter) Sendo Qagua0 uma C.I do modelo\n\nInicializar vari\u00e1veis internas\nQagua=Qagua0;\n\ni=1;\n\nCalcular a press\u00e3o de sa\u00edda da bomba booster\nP2=ModeloBtr(W_Btr,Qagua);\n\nCalcular a press\u00e3o de sa\u00edda da BCS \nP3=ModeloBCS(W_BCS,Vazio,Qtotal,P2)\n\nCalcular a vaz\u00e3o do fluido\nQtotal=Qagua+Qar;\n\nCalcular a vaz\u00e3o de agua\nQagua=ModeloValfluido(P3,Xvalf,T2,P2,T3,Qar,Qagua)\n\ni=i+1;\ni==iter?\n\nRetorna (Qtotal,P2, P3, Qagua)\n\nSim\n\nFim\n\nn\u00e3o\n\n \n\nFigura 4.17 Diagrama de fluxo da itera\u00e7\u00e3o dos componentes do circuito \n\n\n\n 41 \n\nAtrav\u00e9s desta bancada virtual se pode obter de forma manual as curvas de desempenho \n\nvaz\u00e3o-press\u00e3o empregando a metodologia apresentada no ANEXO i, impondo valores diferentes \n\nem suas entradas. \n\n4.4 Valida\u00e7\u00e3o das Modelagens da Bancada de Testes Virtual \n\nNesta sess\u00e3o se apresentam os resultados obtidos dos modelos da bomba booster e da BCS \n\nobtidos mediante algoritmos de m\u00e1quinas de suporte vectorial para regress\u00e3o. Tamb\u00e9m s\u00e3o \n\napresentados alguns resultados obtidos manualmente da bancada de testes virtual, como o \n\ncomportamento da resposta da porcentagem de g\u00e1s e da press\u00e3o na entrada da BCS em diferentes \n\ncondi\u00e7\u00f5es de opera\u00e7\u00e3o. \n\n4.4.1 Modelos aproximados mediante algoritmos de SVMr \n\nNesta subse\u00e7\u00e3o apresentam-se os modelos obtidos mediante m\u00e1quinas de suporte vetorial, \n\nseus par\u00e2metros ocultos (      ) e os erros de predi\u00e7\u00e3o obtidos. \n\n4.4.1.1 Modelo da Bomba Booster \n\nO modelo da bomba foi obtido mediante algoritmos de aprendizagem de m\u00e1quinas usando \n\nm\u00e1quinas de suporte vetorial. \n\nOs par\u00e2metros do modelo (      )  podem ser vistos na Tabela 4.1 onde estes par\u00e2metros \n\nforam obtidos mediante regula\u00e7\u00e3o bias/vari\u00e2ncia curvas de aprendizagem (AP\u00caNDICE B). A \n\nmetodologia para avaliar os modelos \u00e9 apresentada no AP\u00caNDICE A. \n\nTabela 4.1 Par\u00e2metros da SVM da bomba booster \n\n        \n(MSE) \n\n[KPa] \n\nCoeficiente de \n\ncorrela\u00e7\u00e3o \n\nBomba booster 2048 0.015625 0.0078125 8.37366e-05 0.999 \n\n \n\nNa Figura 4.18 se apresentam os dados reais e as curvas da bomba booster obtidas pelo \n\nm\u00e9todo de SVM \n\n\n\n 42 \n\n \n\nFigura 4.18 Curvas da bomba booster mediante SVM \n\nDa Figura 4.18 e Tabela 4.1 podemos concluir que o modelo aproximado mediante o \n\nm\u00e9todo de SVM \u00e9 bom, j\u00e1 que o erro quadr\u00e1tico m\u00e9dio \u00e9 de 8.373e-05 KPa, sendo este modelo \n\nconsiderado apropriado para predizer o comportamento da bomba booster. \n\n4.4.1.2 Modelo da BCS \n\nO modelo da BCS foi obtido mediante algoritmos de aprendizagem de m\u00e1quinas usando \n\nm\u00e1quinas de suporte vetorial. Os par\u00e2metros do modelo se apresentam na Tabela 4.2 onde estes \n\nforam obtidos mediante algoritmos gen\u00e9ticos (AP\u00caNDICE C). A metodologia para avaliar os \n\nmodelos \u00e9 apresentada no AP\u00caNDICE A. \n\nTabela 4.2 Par\u00e2metros da SVM da BCS \n\n \n       \n\n(MSE) \n\n[KPa] \n\nCoeficiente de \n\ncorrela\u00e7\u00e3o \n\nModelo BCS 907.30 0.17392 0.03105 4.3469 0.998 \n\n      \n\n \n\nA Figura 4.19, Figura 4.20 e Figura 4.21 apresentam a compara\u00e7\u00e3o dos dados reais com os \n\ndados do modelo obtido baseado em SVM. Estas curvas mostram o comportamento do modelo \n\nem diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da BCS. \n\n\n\n 43 \n\nA Figura 4.19 apresenta as curvas de desempenho da BCS com mistura bif\u00e1sica, a bomba \n\nest\u00e1 operando a 1800 RPM e uma press\u00e3o de entrada de 50 KPa. A Figura 4.20 mostra as curvas \n\nde desempenho da BCS operando com mistura bif\u00e1sica em uma rota\u00e7\u00e3o da bomba de 2400 RPM \n\ne uma press\u00e3o de entrada de 50 KPa. Na Figura 4.21 se apresentam as curvas de desempenho da \n\nBCS com mistura bif\u00e1sica, com a bomba operando a 1800 RPM e uma press\u00e3o na entrada de 100 \n\nKPa. \n\n \n\nFigura 4.19 Curvas da BCS mediante SVM,                           \n\n\n\n 44 \n\n \n\nFigura 4.20 Curvas da BCS mediante SVM,                           \n\n \n\nFigura 4.21 Curvas da BCS mediante SVM,                            \n\n\n\n 45 \n\nDa Tabela 4.2, Figura 4.19, Figura 4.20 e Figura 4.21 pode-se concluir que o modelo \n\naproximado mediante o m\u00e9todo de SVM \u00e9 bom, j\u00e1 que o erro quadr\u00e1tico m\u00e9dio \u00e9 de 4.34 KPa, ou \n\nseja um erro de         tendo em conta que o    m\u00e1ximo da bomba a 3600 RPM com fluido \n\nmonof\u00e1sico \u00e9 aproximadamente de 250 KPa tendo um comportamento bom com respeito aos \n\ndados reais. \u00c9 importante salientar que o modelo apresentou este erro porque os dados de \n\ntreinamento foram poucos para o n\u00famero de entradas do sistema. \n\n4.4.2 Comportamento da bancada de testes virtual \n\nNesta sess\u00e3o se apresenta o comportamento das vari\u00e1veis de interesse (porcentagem de g\u00e1s \n\ne press\u00e3o de entrada na BCS) da bancada de testes virtual, modificando os valores dos par\u00e2metros \n\ndo modelo n\u00e3o linear tais como a rota\u00e7\u00e3o da BCS, a vaz\u00e3o de \u00e1gua e temperaturas. A Figura 4.22 \n\napresenta o diagrama de blocos do modelo n\u00e3o linear do sistema desenvolvido. \n\n \n\n\n\n 46 \n\n \n\nFigura 4.22 Modelo n\u00e3o linear do sistema. \n\n \n\n\n\n 47 \n\n4.4.2.1 Comportamento da porcentagem de g\u00e1s \n\nA porcentagem de g\u00e1s na entrada da BCS depende das condi\u00e7\u00f5es de opera\u00e7\u00e3o do sistema \n\ncomo da rota\u00e7\u00e3o da bomba booster (Figura 4.23), da rota\u00e7\u00e3o da BCS (Figura 4.24) e da vaz\u00e3o de \n\nfluido (Figura 4.25). Para obter estas respostas se fixaram as vari\u00e1veis e se acionou a v\u00e1lvula de \n\nvaz\u00e3o de ar com uma entrada tipo degrau de 0V-1V obtendo assim uma abertura total da v\u00e1lvula. \n\nA Figura 4.23 apresenta a varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s com diferentes \n\nrota\u00e7\u00f5es da bomba booster. Esta figura tamb\u00e9m representa o comportamento da porcentagem de \n\ng\u00e1s em diferentes press\u00f5es de entrada na BCS, porque esta press\u00e3o depende diretamente da \n\nrota\u00e7\u00e3o da bomba booster. Da Figura 4.23 podemos dizer que a menores rota\u00e7\u00f5es da bomba se \n\npodem atingir maiores porcentagem de g\u00e1s, em quanto que se aumentamos a rota\u00e7\u00e3o, a press\u00e3o \n\naumenta e a quantidade volum\u00e9trica de g\u00e1s diminui. \n\n \n\nFigura 4.23 Varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s em diferentes rota\u00e7\u00f5es da bomba booster \n\n \n\n\n\n 48 \n\n \n\nFigura 4.24 Varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s em diferentes rota\u00e7\u00f5es da BCS \n\nNa Figura 4.24 apresenta o efeito gerado pela rota\u00e7\u00e3o da BCS na porcentagem de g\u00e1s, \n\npode-se observar que quando a rota\u00e7\u00e3o da BCS aumenta, a porcentagem de g\u00e1s decresce devido a \n\nvaria\u00e7\u00e3o da vaz\u00e3o do fluido.  \n\n \n\na) \n\n\n\n 49 \n\n \n\nb) \n\nFigura 4.25 Varia\u00e7\u00e3o da resposta da porcentagem de g\u00e1s em diferentes vaz\u00f5es de fluido, a) Resposta do \n\nsistema a baixas vaz\u00f5es de fluido, b) Resposta do sistema com grandes trocas na vaz\u00e3o de fluido \n\nComo se apresenta na Figura 4.25, a vaz\u00e3o de fluido afeta em alto grau o comportamento \n\nda porcentagem de g\u00e1s e pode levar o sistema \u00e0 instabilidade como se apresenta na Figura 4.25 \n\na), devido a que em vaz\u00f5es pr\u00f3ximas de zero o sistema fica t\u00e3o sens\u00edvel que qualquer \n\ndeslocamento por parte do pist\u00e3o da v\u00e1lvula ou dist\u00farbio pode instabilizar o sistema. \n\n4.4.2.2 Comportamento da press\u00e3o de entrada na BCS \n\nO comportamento da press\u00e3o de entrada da BCS vai depender das condi\u00e7\u00f5es do sistema \n\ncomo da porcentagem de g\u00e1s (Figura 4.26), da rota\u00e7\u00e3o da BCS (Figura 4.27) e da vaz\u00e3o de fluido \n\n(Figura 4.28). Para se obter as respostas se fixaram as vari\u00e1veis e se considerou o sinal da rota\u00e7\u00e3o \n\ndo eixo da bomba como o de uma entrada do tipo degrau de 0 RPM-3600RPM obtendo assim \n\numa rota\u00e7\u00e3o m\u00e1xima do eixo da bomba. \n\nA Figura 4.26 apresenta a varia\u00e7\u00e3o da reposta da press\u00e3o de entrada na BCS com diferentes \n\nporcentagens de g\u00e1s. Da figura pode-se concluir que a press\u00e3o de entrada na BCS aumenta \n\nquando a porcentagem de g\u00e1s aumenta, mais o efeito da porcentagem de g\u00e1s n\u00e3o \u00e9 significativo. \n\n \n\n\n\n 50 \n\n \n\nFigura 4.26 Resposta da press\u00e3o de entrada na BCS com diferentes porcentagem de g\u00e1s \n\nA Figura 4.27 apresenta o efeito gerado pela rota\u00e7\u00e3o da BCS na sua press\u00e3o de entrada, \n\nonde pode-se observar que quando a rota\u00e7\u00e3o da BCS aumenta, a press\u00e3o de entrada da BCS \n\ndiminui devido ao aumento da vaz\u00e3o do fluido. \n\n \n\nFigura 4.27 Varia\u00e7\u00e3o da resposta da press\u00e3o de entrada em diferentes rota\u00e7\u00f5es da BCS \n\n\n\n 51 \n\nComo pode ser observado na Figura 4.28, a vaz\u00e3o de fluido afeta o comportamento da  \n\npress\u00e3o de entrada j\u00e1 que a maior quantidade de fluido passando pela bomba aumenta a sua \n\nvelocidade causando uma perda de press\u00e3o na entrada da BCS. \n\n \n\nFigura 4.28 Varia\u00e7\u00e3o da resposta da press\u00e3o de entrada em diferentes vaz\u00f5es de fluido \n\n  \n\n\n\n 52 \n\nCap\u00edtulo 5. CONTROLE DO SISTEMA \n\nNeste cap\u00edtulo, apresenta-se a metodologia empregada para o projeto do controlador. Da \n\nbancada virtual apresentada no Cap\u00edtulo 4, se realiza a identifica\u00e7\u00e3o dos sistemas a controlar \n\nobtendo modelos lineares de ordem reduzida. A partir destes modelos lineares se projeta um \n\ncontrolador robusto que estabilize o sistema em malha fechada em distintas condi\u00e7\u00f5es de \n\nopera\u00e7\u00e3o. Com o controle projetado se fecha a malha usando a bancada de testes virtual para \n\nrealizar simula\u00e7\u00f5es do comportamento do sistema de controle obtido. \n\n5.1 Sistema de Controle em Malha Fechada \n\nO sistema de controle em malha fechada proposto \u00e9 apresentado na Figura 5.1. Para \n\nprojetar o controle deve-se levar em conta que os par\u00e2metros a serem controlados s\u00e3o a press\u00e3o \n\nde entrada \u00e0 BCS e a porcentagem de g\u00e1s presente na mistura bif\u00e1sica na entrada da bomba. \n\nQuando \u00e9 realizado o levantamento das curvas de desempenho vaz\u00e3o\u2013eleva\u00e7\u00e3o para escoamento \n\nmultif\u00e1sico estes dois par\u00e2metros s\u00e3o afetados pela varia\u00e7\u00e3o da vaz\u00e3o de fluido no circuito, e por \n\nisto \u00e9 necess\u00e1rio o controle constante destes par\u00e2metros. \n\n \n\nFigura 5.1 Diagramas de blocos da bancada de testes virtual do sistema com controle \n\nBomba booster\n\nV\u00e1lvula Ar\n\nVazio\n\nBCS\n\nV\u00e1lvula Fluido\n\n+\n\n\n\n 53 \n\nDa Figura 5.1 se pode disser que o sistema em la\u00e7o fechado tem dois la\u00e7os de controle com \n\ncontroladores independentes. O primeiro controlador    controla a porcentagem de g\u00e1s na \n\nmistura multif\u00e1sica \u00e1gua-g\u00e1s medindo o sinal de       no circuito de testes e gerando o esfor\u00e7o \n\nde controle    que aciona a v\u00e1lvula de ar com a finalidade de enxergar ate a referencia       ; o \n\nsegundo controlados    controla a press\u00e3o de entrada na BCS    gerando o esfor\u00e7o de controle \n\n    que aciona a bomba booster para enxergar ate a referencia     . Al\u00e9m de seguir as \n\nreferencias os controladores devem estabilizam o sistema. \n\n5.2 Identifica\u00e7\u00e3o dos sistemas para o controle a partir da bancada de testes \n\nvirtual \n\nCom a finalidade de obter um modelo de caixa branca que descreva o comportamento do \n\nsistema para projetar o controle, realiza-se a identifica\u00e7\u00e3o do sistema a controlar mediante o \n\nm\u00e9todo de identifica\u00e7\u00e3o por subespa\u00e7os em tempo discreto (N4SID), a partir de simula\u00e7\u00f5es feitas \n\ncom o modelo real baseado em algoritmos de SVMr. \n\nO m\u00e9todo de identifica\u00e7\u00e3o por subespa\u00e7os \u00e9 um algoritmo que tem como principal \n\ncaracter\u00edstica trabalhar com os subespa\u00e7os gerados pelas colunas ou linhas das matrizes de \n\nHankel formadas pelas entradas e sa\u00eddas (GIRALDO, 2008, KATAYAMA, 2005). Os modelos \n\nde estados no tempo discreto est\u00e3o descrito matematicamente pela seguinte equa\u00e7\u00e3o: \n\n            \n          \n\n ( 5.1 ) \n\nPara obter os vetores de entrada e sa\u00edda dos sistemas a controlar se fizeram simula\u00e7\u00f5es em \n\ncondi\u00e7\u00f5es de opera\u00e7\u00e3o preestabelecida, ou seja, para uma condi\u00e7\u00e3o de opera\u00e7\u00e3o da BCS. \n\n5.2.1 Modelo linear de porcentagem de g\u00e1s \n\nO modelo de porcentagem de g\u00e1s foi aproximado em condi\u00e7\u00f5es de opera\u00e7\u00e3o da bancada de \n\ntestes virtual onde a vaz\u00e3o de \u00e1gua \u00e9 baixa, j\u00e1 que nesta regi\u00e3o a porcentagem de g\u00e1s se mostrou \n\nser mais sens\u00edvel, evitando a regi\u00e3o de vaz\u00f5es de \u00e1gua muito pequenas pr\u00f3ximas de zero onde a \n\nporcentagem de g\u00e1s apresentou instabilidades (ver Figura 4.25 a). \n\n\n\n 54 \n\nO modelo de porcentagem de g\u00e1s obtido pelo m\u00e9todo N4SID empregando o toolbox de \n\nidentifica\u00e7\u00e3o do MatLab \u00e9 um modelo de dois estados com uma entrada e uma sa\u00edda, sendo a \n\nentrada a voltagem de excita\u00e7\u00e3o da eletrov\u00e1lvula com um limite de 1volt, e a sa\u00edda a porcentagem \n\nde g\u00e1s na mistura normalizada [0,1] com um m\u00e1ximo de 45% para uma abertura na v\u00e1lvula de \n\nfluido de 10%. A Figura 5.2 apresenta a compara\u00e7\u00e3o do modelo real e o modelo aproximado \n\nnormalizado para uma entrada implementada (um sinal quadrado com um per\u00edodo de 2 segundos) \n\npara a obten\u00e7\u00e3o dos vetores de entrada e sa\u00edda para o m\u00e9todo de N4SID. \n\n \n\nFigura 5.2 Compara\u00e7\u00e3o modelo real e aproximado da porcentagem de g\u00e1s \n\n \n\nO modelo obtido \u00e9 um sistema de dois estados com uma entrada, uma sa\u00edda e com    \n\n      , resultando no sistema: \n\n              \n              \n\n ( 5.2 ) \n\nsendo: \n\n    [\n             \n          \n\n] \n\n    [\n          \n        \n\n] \n\n                    \n\n        \n\n( 5.3 ) \n\n\n\n 55 \n\n5.2.2 Modelo Linear da Press\u00e3o de entrada na BCS \n\nO modelo da press\u00e3o de entrada na BCS foi aproximado em condi\u00e7\u00e3o de opera\u00e7\u00e3o da \n\nbancada de testes virtual onde a abertura da v\u00e1lvula de fluido \u00e9 de 50% com uma abertura da \n\nv\u00e1lvula de ar de 10%, j\u00e1 que estas duas vari\u00e1veis n\u00e3o afetam notavelmente a press\u00e3o como \u00e9 \n\napresentado na Figura 5.3.  \n\n \n\nFigura 5.3 Efeito da porcentagem de g\u00e1s na press\u00e3o de entrada da BCS \n\nO modelo obtido pelo m\u00e9todo N4SID \u00e9 um modelo de dois estados de uma entrada e uma \n\nsa\u00edda, sendo a entrada o torque de excita\u00e7\u00e3o do eixo da bomba com um intervalo normalizado de \n\n[0,1], e a sa\u00edda e a press\u00e3o na entrada da BCS tamb\u00e9m normalizado de [0,1] com um m\u00e1ximo de \n\n270KPa para uma abertura da v\u00e1lvula de fluido de 50%. A Figura 5.4 apresenta a compara\u00e7\u00e3o do \n\nmodelo real e o modelo aproximado para uma entrada implementada (um sinal tipo degrau) para \n\na obten\u00e7\u00e3o dos vetores de entrada e sa\u00edda para o m\u00e9todo de N4SID. \n\n\n\n 56 \n\n \n\nFigura 5.4 Compara\u00e7\u00e3o modelo real e aproximado da press\u00e3o de entrada da BCS \n\nO modelo obtido \u00e9 um sistema de dois estados com uma entrada, uma sa\u00edda e com    \n\n      , resultando no sistema: \n\n              \n            \n\n ( 5.4 ) \n\nsendo: \n\n   [\n              \n\n              \n] \n\n   [\n        \n        \n\n] \n\n                 \n\n       \n\n( 5.5 ) \n\n \n\n5.3 Projeto de controle \n\nJ\u00e1 que os modelos obtidos s\u00e3o aproximados, lineares de ordem reduzida e foram \n\nidentificados em uma condi\u00e7\u00e3o de opera\u00e7\u00e3o da bancada de testes virtual preestabelecida, \n\napresentam incertezas devido a que o circuito tem um comportamento n\u00e3o linear em diferentes \n\ncondi\u00e7\u00f5es de opera\u00e7\u00e3o, se optou por projetar um controlador robusto   . Este tipo de controlador \n\n\n\n 57 \n\npode ser empregado quando se deseja que um sistema mantenha um determinado desempenho em \n\ncondi\u00e7\u00f5es adversas tais como erros de modelagem e dist\u00farbios externos SARRACINI, 2006.  \n\nA Figura 5.5 apresenta a estrutura do sistema ampliado com ru\u00eddo de medi\u00e7\u00e3o e dist\u00farbio \n\nna sa\u00edda do sistema com o controle.  \n\nP +\n\n+\n\nK\n-\n\n+\nZ? \n\nZ? Z? \nR\n\nu\n\nn\n\nd\n\ny? \n\ny? \ny\n\n \n\nFigura 5.5 Estrutura do sistema com controle \n\nPara o controle da porcentagem de g\u00e1s temos da Figura 5.5 que: \n\n       [\n\n      \n      \n      \n\n]                                 [\n\n       \n       \n       \n\n]   \n\n       [\n       \n       \n\n] \n\n \n\n( 5.6 ) \n\nPara o controle da press\u00e3o da Figura 5.5 temos: \n\n    [\n\n   \n   \n   \n\n]         \n           [\n\n    \n    \n    \n\n]        [\n    \n    \n\n] \n\n \n\n( 5.7 ) \n\nDas equa\u00e7\u00f5es ( 5.6 ) e ( 5.7 ) temos que nossas entradas ex\u00f3genas   seja para o la\u00e7o de \n\ncontrole da porcentagem de g\u00e1s       ou o la\u00e7o de controle da press\u00e3o de entrada na BCS    s\u00e3o \n\na refer\u00eancia  , um dist\u00farbio na sa\u00edda do sistema   e o ru\u00eddo de medi\u00e7\u00e3o n. As sinais de medi\u00e7\u00e3o \n\nenviadas ao controle   s\u00e3o: \n\n\n\n 58 \n\n  [\n  \n  \n\n]  [\n \n\n     \n] ( 5.8 ) \n\n \n\nsendo   a sa\u00edda do sistema. As medidas de desempenho   para os dos la\u00e7os de controle s\u00e3o dadas \n\npor: \n\n  [\n  \n  \n  \n\n]  [\n  (   )\n\n   \n \n\n] ( 5.9 ) \n\n \n\nsendo   o esfor\u00e7o de controle. O sistema ampliado \u00e9 da forma: \n\n ?            \n               \n               \n\n ( 5.10 ) \n\nO sistema na forma padr\u00e3o com filtros de pondera\u00e7\u00e3o esta apresentada na Figura 5.6. \n\nP +\n\n+\n\nZ? \n\nZ? \n\nZ? \n\nr\n\nu\n\nd -\n\n+Wr\n\nWd\n\nWn\nn\n\nWS\n\nWU\n\nWT\n\nK\n\ny? \n\ny? \n\nr\n\nd\n\nn\n\nZ? \n\nZ? \n\nZ? ^\n\n^\n\n^\n\n^\n\n^\n\n^\n\n \n\nFigura 5.6 Sistema da forma padr\u00e3o com filtros de pondera\u00e7\u00e3o \n\nNeste trabalho, s\u00e3o considerados os filtros de pondera\u00e7\u00e3o: \n\n? O filtro    \u00e9 respons\u00e1vel por eliminar o ru\u00eddo que apresenta na refer\u00eancia, j\u00e1 que esta vai \n\ndepender diretamente de vari\u00e1veis medidas no circuito de testes. \n\n\n\n 59 \n\nO modelo de estados do filtro \u00e9 dado por: \n\n ?           \n\n ?           \n( 5.11 ) \n\n? O filtro    \u00e9 respons\u00e1vel por eliminar perturba\u00e7\u00f5es de tipo degrau na sa\u00edda do sistema, \n\neste filtro \u00e9 considerado porque as vari\u00e1veis a serem controladas v\u00e3o depender das \n\ncondi\u00e7\u00f5es de opera\u00e7\u00e3o da bancada de testes virtual, por exemplo, a porcentagem de g\u00e1s \n\ndepende da temperatura, da vaz\u00e3o de \u00e1gua e da press\u00e3o de entrada na BCS. \n\nO modelo de estados do filtro \u00e9 dado por: \n\n ?           \n\n ?           \n( 5.12 ) \n\n? O filtro    \u00e9 respons\u00e1vel por atenuar o ru\u00eddo de medi\u00e7\u00e3o ( ). Onde    \u00e9 um ganho \n\n   . Neste trabalho foi considerado ganho    . \n\n? O filtro    \u00e9 o peso de sensibilidade que permite definir as caracter\u00edsticas de desempenho \n\ne rejei\u00e7\u00e3o de perturba\u00e7\u00f5es de baixa frequ\u00eancia. \n\nO modelo de estados do filtro \u00e9 dado por: \n\n ?           \n\n ?           \n( 5.13 ) \n\n? O filtro    \u00e9 respons\u00e1vel por eliminar sinal de controle da faixa de frequ\u00eancia que n\u00e3o \n\nfoi considerada no modelo do sistema. \n\nO modelo de estados do filtro \u00e9 dado por: \n\n ?           \n\n ?           \n( 5.14 ) \n\n? O filtro    \u00e9 respons\u00e1vel por tornar o sistema mais robusto referente a incertezas \n\nmultiplicativas na sa\u00edda. N\u00e3o foi considerado por que o sistema n\u00e3o apresenta incertezas \n\nmultiplicativas \n\nO modelo de estados do filtro \u00e9 dado por: \n\n ?            \n\n ?            \n( 5.15 ) \n\n\n\n 60 \n\nNa tabela s\u00e3o apresentados os filtros de pondera\u00e7\u00e3o dos dois sistemas a controlar (Press\u00e3o \n\nde entrada na BCS    e a porcentagem de g\u00e1s      ) em tempo discreto com um tempo de \n\namostragem de      . \n\nTabela 5.1 Filtros de pondera\u00e7\u00e3o. \n\nFiltro \nSistema \n\n         \n\n   \n                        \n\n            \n \n\n                        \n\n               \n \n\n   \n                        \n\n              \n \n\n                        \n\n               \n \n\n   \n                       \n\n            \n \n\n                        \n\n               \n \n\n   \n                        \n\n                \n \n\n                          \n\n                      \n \n\n \n\n \n\nA partir do sistema ampliado com os filtros se projeta o controlador    empregando o \n\n\u201ctoolboox\u201d de controle robusto de MatLab com o comando \u201chinfsyn\u201d aplicando o m\u00e9todo de \n\nRiccati. No AP\u00caNDICE D apresenta o programa empregado no MatLab para o projeto de \n\ncontrole. \n\nOs controladores obtidos s\u00e3o da forma: \n\n            \n          \n\n ( 5.16 ) \n\nOnde as matrizes (       ) do controlador para o controle da press\u00e3o de entrada na BCS \n\ns\u00e3o apresentadas na equa\u00e7\u00e3o ( 5.17 ). \n\n\n\n 61 \n\n  \n[\n \n \n \n \n \n \n\n                          \n                         \n\n                                     \n                             \n                               \n                             \n                           \n\n                         \n                         \n                               \n                                \n\n                           \n                            \n                      ]\n\n \n \n \n \n \n \n\n \n\n \n\n  \n\n[\n \n \n \n \n \n \n\n               \n               \n\n                  \n             \n             \n              \n             ]\n\n \n \n \n \n \n \n\n \n\n \n\n  \n\n[\n \n \n \n \n \n \n           \n          \n          \n\n           \n       \n\n          \n      ]\n\n \n \n \n \n \n \n \n\n, \n\n \n\n                  \n\n \n\n( 5.17 ) \n\nAs matrizes (       ) do controlador para o controle da porcentagem de g\u00e1s na BCS s\u00e3o \n\napresentadas na equa\u00e7\u00e3o ( 5.18 ). \n\n\n\n 62 \n\n  \n[\n \n \n \n \n \n \n\n                          \n                         \n\n                                          \n                             \n                                   \n                                  \n                          \n\n                         \n                         \n                               \n                            \n\n                   \n                        \n                       ]\n\n \n \n \n \n \n \n\n \n\n \n\n  \n\n[\n \n \n \n \n \n \n\n              \n                   \n\n                   \n              \n              \n\n                 \n               ]\n\n \n \n \n \n \n \n\n \n\n  \n\n[\n \n \n \n \n \n \n           \n          \n\n      \n       \n\n           \n      \n\n       ]\n \n \n \n \n \n \n \n\n, \n\n                  \n\n( 5.18 ) \n\n5.4 Resposta do sistema em malha fechada com controle \n\nNesta sess\u00e3o se apresenta o comportamento das vari\u00e1veis controladas da bancada de testes \n\nvirtual (porcentagem de g\u00e1s e press\u00e3o de entrada na BCS) em malha fechada e o comportamento \n\ndo esfor\u00e7o de controle, atrav\u00e9s da modifica\u00e7\u00e3o dos par\u00e2metros da bancada de testes virtual \n\n(rota\u00e7\u00e3o da BCS, abertura da v\u00e1lvula de fluido e temperaturas no circuito). A Figura 5.7 \n\napresenta a simula\u00e7\u00e3o da bancada de testes virtual com o controle, onde as caixas verdes s\u00e3o os \n\ncontroladores. \n\n\n\n 63 \n\n \n\nFigura 5.7 Diagrama de blocos da bancada de testes virtual com o controle. \n\n \n\n\n\n 64 \n\n5.4.1 Comportamento da porcentagem de g\u00e1s \n\nNesta parte dos resultados se apresenta o comportamento da porcentagem de g\u00e1s em \n\ndiferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da bancada de testes virtual de BCS (Modelo n\u00e3o linear \n\napresentado na Figura 5.7) com o respectivo controle, com o objetivo de avaliar o \n\ncomportamento do sistema em malha fechada. \n\nA Figura 5.8 apresenta as respostas da porcentagem de g\u00e1s e do esfor\u00e7o de controle em \n\ndiferentes press\u00f5es de entrada na BCS. A an\u00e1lise de desempenho se realizou fixando as vari\u00e1veis \n\ndo sistema como a rota\u00e7\u00e3o da BCS (1800 RPM), as temperaturas (280 K) e a vaz\u00e3o de fluido \n\n(15% de abertura na v\u00e1lvula de fluido). \n\n \n\na) \n\n \n\nb) \n\nFigura 5.8 Resposta da porcentagem de g\u00e1s em diferentes press\u00f5es de entrada: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle. \n\n\n\n 65 \n\nNa Figura 5.9 apresenta o comportamento da porcentagem de g\u00e1s em diferentes condi\u00e7\u00f5es \n\nde rota\u00e7\u00e3o da BCS, onde neste teste as vari\u00e1veis fixas s\u00e3o a press\u00e3o de entrada (150 KPa), as \n\ntemperaturas (280 K) e a vaz\u00e3o de fluido (15% de abertura na v\u00e1lvula de fluido). \n\n \n\na) \n\n \n\nb) \n\nFigura 5.9 Resposta da porcentagem de g\u00e1s em diferentes rota\u00e7\u00f5es da BCS: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle \n\nA Figura 5.10 apresenta o comportamento da porcentagem de g\u00e1s em diferentes \n\ntemperaturas sendo           , onde as vari\u00e1veis fixas s\u00e3o a press\u00e3o de entrada (150 \n\nKPa), a rota\u00e7\u00e3o da BCS (1800 RPM) e a vaz\u00e3o de fluido (15% de abertura na v\u00e1lvula de fluido). \n\n\n\n 66 \n\n \n\na) \n\n \n\nb) \n\nFigura 5.10 Resposta da porcentagem de g\u00e1s em diferentes temperaturas: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle \n\nA Figura 5.11 apresenta o comportamento da porcentagem de g\u00e1s em diferentes vaz\u00f5es de \n\nfluido variando a abertura da v\u00e1lvula na descarga da BCS, onde neste teste as vari\u00e1veis fixas s\u00e3o \n\na press\u00e3o de entrada (150 KPa), a rota\u00e7\u00e3o da BCS (1800 RPM) e as temperaturas (290 K). \n\nComo se pode observar nas Figura 5.8, Figura 5.9, Figura 5.10 e Figura 5.11 o controle \n\napresentou um bom comportamento em distintas condi\u00e7\u00f5es de opera\u00e7\u00e3o da bancada de testes \n\nvirtual, levando \u00e0 sa\u00edda do sistema, neste caso \u00e0 porcentagem de g\u00e1s, at\u00e9 a refer\u00eancia desejada \n\nsem desestabilizar o sistema. Tamb\u00e9m se pode apreciar na Figura 5.11 que devido \u00e0 sensibilidade \n\nda porcentagem de g\u00e1s em vaz\u00f5es perto a zero, o sistema com controle pode apresentar sobre-\n\nimplusos na resposta transiente do sistema. \n\n\n\n 67 \n\n \n\n \n\na) \n\n \n\nb) \n\nFigura 5.11 Resposta da porcentagem de g\u00e1s em diferentes vaz\u00f5es de fluido: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle \n\nA simula\u00e7\u00e3o apresentada na Figura 5.12 foi realizada fixando as vari\u00e1veis press\u00e3o de \n\nentrada (150 KPa), rota\u00e7\u00e3o da BCS (1800 RPM), vaz\u00e3o de fluido (15% de abertura na v\u00e1lvula de \n\nfluido) e temperaturas (290 K), e foi acrescentado ru\u00eddo nos sinais de medi\u00e7\u00e3o para o controle \n\n(press\u00e3o de sa\u00edda e porcentagem de g\u00e1s) sendo a media do sinal medido com um desvio padr\u00e3o de \n\num 5% do sinal. Observa-se que o controle teve uma boa rejei\u00e7\u00e3o ao ru\u00eddo de medi\u00e7\u00e3o. \n\n\n\n 68 \n\n \n\na) \n\n \n\nb) \n\nFigura 5.12 Resposta da porcentagem de g\u00e1s com ru\u00eddo de medi\u00e7\u00e3o: a) Resposta do sistema com ru\u00eddo de \n\nmedi\u00e7\u00e3o, b) Esfor\u00e7os de controle \n\n5.4.2 Comportamento da press\u00e3o de entrada na BCS \n\nNesta parte dos resultados se apresenta o comportamento da press\u00e3o de entrada na BCS em \n\ndiferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da bancada de testes virtual de BCS (Modelo n\u00e3o linear \n\napresentado na Figura 5.7) com o controle com o objetivo de avaliar o comportamento do sistema \n\nem malha fechada. \n\nA Figura 5.13 apresenta as respostas da press\u00e3o de entrada e do esfor\u00e7o de controle em \n\ndiferentes vaz\u00f5es de g\u00e1s na BCS. A an\u00e1lise de desempenho se realizou fixando as vari\u00e1veis do \n\nsistema como a rota\u00e7\u00e3o da BCS (1800 RPM) e a vaz\u00e3o de fluido (15% de abertura na v\u00e1lvula de \n\n\n\n 69 \n\nfluido). Da Figura 5.13 podemos concluir que o efeito gerado pela troca da porcentagem de g\u00e1s \n\nna press\u00e3o de entrada \u00e9 rejeitado pelo controlador. \n\n \n\na) \n\n \n\nb) \n\nFigura 5.13 Resposta da press\u00e3o de entrada em diferentes vaz\u00f5es de fluido: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle. \n\n \n\na) \n\n\n\n 70 \n\n \n\nb) \n\nFigura 5.14 Resposta da press\u00e3o de entrada em diferentes rota\u00e7\u00f5es da BCS: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle \n\nA Figura 5.14 apresenta o comportamento da press\u00e3o de entrada na BCS em diferentes \n\ncondi\u00e7\u00f5es de rota\u00e7\u00e3o, onde neste teste as vari\u00e1veis fixas s\u00e3o a porcentagem de g\u00e1s (3%) e vaz\u00e3o \n\nde fluido (15% de abertura na v\u00e1lvula de fluido). Da Figura 5.14 pode se observar que o \n\ncontrolador consegue eliminar a varia\u00e7\u00e3o na press\u00e3o de entrada na BCS gerada pela troca da \n\nrota\u00e7\u00e3o da BCS. \n\nA Figura 5.15 apresenta o comportamento da press\u00e3o de entrada \u00e0 BCS em diferentes \n\nvaz\u00f5es de fluido variando a abertura da v\u00e1lvula na descarga da BCS, em neste teste as vari\u00e1veis \n\nfixas s\u00e3o a porcentagem de g\u00e1s (3% KPa) e a Rota\u00e7\u00e3o da BCS (1800 RPM). \n\n \n\na) \n\n\n\n 71 \n\n \n\nb) \n\nFigura 5.15 Resposta da press\u00e3o de entrada em diferentes vaz\u00f5es de fluido: a) Resposta do sistema, b) \n\nEsfor\u00e7os de controle \n\nComo se pode observar nas Figura 5.13, Figura 5.14 e Figura 5.15 o controle teve um bom \n\ncomportamento em distintas condi\u00e7\u00f5es de opera\u00e7\u00e3o da bancada de testes virtual, levando \u00e0 sa\u00edda \n\ndo sistema neste caso \u00e0 press\u00e3o de entrada na BCS at\u00e9 a refer\u00eancia sem desestabilizar o sistema. \n\nA simula\u00e7\u00e3o apresentada na Figura 5.16 foi realizada com as vari\u00e1veis de porcentagem de \n\ng\u00e1s (3%), de Rota\u00e7\u00e3o da BCS (1800 RPM) e de vaz\u00e3o de fluido (15% de abertura na v\u00e1lvula de \n\nfluido), e foi acrescentado ru\u00eddo nos sinais de medi\u00e7\u00e3o para o controle (press\u00e3o de sa\u00edda e \n\nporcentagem de g\u00e1s) sendo a m\u00e9dia o sinal medido e com um desvio padr\u00e3o de um 5% do sinal. \n\nNa Figura 5.16 b) pode-se observar que o controle teve boa rejei\u00e7\u00e3o ao ru\u00eddo de medi\u00e7\u00e3o. \n\n \n\na) \n\n\n\n 72 \n\n \n\nb) \n\nFigura 5.16 Resposta da press\u00e3o de entrada com ru\u00eddo de medi\u00e7\u00e3o: a) Resposta do sistema com ru\u00eddo de \n\nmedi\u00e7\u00e3o, b) Esfor\u00e7os de controle \n\n5.4.3 Curvas de desempenho da BCS obtidas com o controle \n\nA seguir se apresentam as curvas de desempenho press\u00e3o-vaz\u00e3o obtidas com o sistema de \n\ncontrole desenvolvido para diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o da BCS \n\n \n\nFigura 5.17 Curvas da BCS com controle,                          \n\n\n\n 73 \n\n \n\nFigura 5.18 Curvas da BCS com controle,                        \n\nAs Figura 5.17 e Figura 5.18 apresentam as curvas de desempenho em duas condi\u00e7\u00f5es de \n\nrota\u00e7\u00e3o para diferentes porcentagens de ar. Das figuras podemos concluir que o controlador teve \n\nbom desempenho em diferentes condi\u00e7\u00f5es de funcionamento e portanto se pode obter as curvas \n\nde desempenho com o sistema controlado, mas o controle n\u00e3o pode estabilizar o sistema em \n\nvaz\u00f5es pertos de zero como pode ser observado na Figura 5.17. Al\u00e9m disto, o sistema apresenta \n\num erro maior em altas vaz\u00f5es em presen\u00e7a de porcentagens de g\u00e1s elevadas como e apresentado \n\nna Figura 5.18. Isto \u00e9 devido a que o sistema pneum\u00e1tico n\u00e3o foi capaz de fornecer a vaz\u00e3o de ar \n\nnecess\u00e1ria para se obter \u00e0 porcentagem de g\u00e1s desejada. \n\nNa Figura 5.19 se pode observar que em vaz\u00f5es acima de         o controlador abre a \n\nv\u00e1lvula para atingir a porcentagem de g\u00e1s desejada, mas a v\u00e1lvula n\u00e3o consegue fornecer a \n\nquantidade de ar necess\u00e1ria, j\u00e1 que a press\u00e3o no reservat\u00f3rio n\u00e3o \u00e9 suficiente para conseguir uma \n\nvaz\u00e3o de ar adequada. Aumentando a press\u00e3o no reservat\u00f3rio se pode obter a curva em vaz\u00f5es \n\nmaiores, mas em vaz\u00f5es perto de zero o sistema se torna mais sens\u00edvel causando instabilidades \n\n\n\n 74 \n\ncomo \u00e9 apresentado na Figura 5.17. Devido a este comportamento dependente da press\u00e3o do \n\nreservat\u00f3rio existe a necessidade de se escolher uma press\u00e3o ideal de trabalho do reservat\u00f3rio \n\npara cada faixa de opera\u00e7\u00e3o da bomba para  realizar o correto levantamento das curvas de \n\ndesempenho. \n\n \n\nFigura 5.19 Comportamento do deslocamento do pist\u00e3o no levantamento das curvas \n\nA Figura 5.20 apresenta como \u00e9 alterada a rota\u00e7\u00e3o da bomba booster pelo controlador para \n\natingir a press\u00e3o de entrada na BCS durante o levantamento das curvas de desempenho. \n\n \n\nFigura 5.20 Comportamento da rota\u00e7\u00e3o da bomba booster no levantamento das curvas \n\n  \n\n\n\n 75 \n\nCap\u00edtulo 6. SOFTWARE IN THE LOOP DO SISTEMA \n\nCom a finalidade de observar o desempenho dos controladores projetados se decidiu \n\nrealizar um Software in the loop (SIL) do sistema realimentado. O princ\u00edpio b\u00e1sico do SIL \u00e9 \n\nsubstituir o sistema a ser controlado por um modelo de simula\u00e7\u00e3o em tempo real (CHOI, 1999) \n\nFigura 6.1. Os sistemas reais t\u00eam componentes mec\u00e2nicos e eletr\u00f4nicos caros ou de dif\u00edcil \n\nmanuten\u00e7\u00e3o, por isto a ind\u00fastria tem a necessidade de realizar testes de simula\u00e7\u00e3o trocando os \n\ncomponentes reais com modelos matem\u00e1ticos (M. LINJAMAA 2000).  \n\n \n\nFigura 6.1 Troca do sistema real por SIL software \n\nA simula\u00e7\u00e3o SIL em tempo real foi realizada num sistema MicroAutoBox com uma placa \n\ndSPACE DS-1511. O software para fazer o acompanhamento e monitoramento \u00e9 o \n\nCONTROLDESK da dSPACE.  \n\n6.1  MicroAutoBox com placa DSPACE DS-1511 \n\nPara gerar uma aplica\u00e7\u00e3o em tempo real com a placa dSPACE, o primeiro passo \u00e9 gerar o \n\nmodelo no Simulink, usando os blocos dSPACE RTI (Real Time Interface) de interface I/O. \n\nDepois \u00e9 gerado um c\u00f3digo em linguagem C que \u00e9 compilado e carregado na aplica\u00e7\u00e3o de tempo \n\nreal (Figura 6.2) DSPACE 2012. \n\n \n\n\n\n 76 \n\n \n\n \n\nFigura 6.2 Processo de gera\u00e7\u00e3o de aplica\u00e7\u00e3o em tempo real \n\nO MicroAutoBox \u00e9 composto de um processador IBM PPC 750GL, 900MHz na placa DS-\n\n1511, dezesseis (16) canais de entradas anal\u00f3gicas de 16 bits com faixa de 0V-5V, quatro (4) \n\ncanais de sa\u00edda anal\u00f3gica de 12 bits com faixa de 0V-4.5V, com a possibilidade de usar \n\nconversores DAC (Digital Analog Converter) ou ADC (Analog Digital Converter,) e entrada e sa\u00edda \n\ndigital. \n\n6.2 Software dSPACE CONTROLDESK \n\n\u00c9 um software usado para acompanhar a aquisi\u00e7\u00e3o, visualiza\u00e7\u00e3o e monitoramento de dados, \n\npodendo-se alterar alguns dos par\u00e2metros e vari\u00e1veis de modo cont\u00ednuo. Ele executa todas as \n\ntarefas necess\u00e1rias, em um \u00fanico ambiente de trabalho, desde o in\u00edcio do experimento at\u00e9 o fim, \n\napresentando uma interface simples para iniciar, validar e acompanhar o comportamento dos \n\nmodelos de opera\u00e7\u00e3o e controle, com ferramentas de automa\u00e7\u00e3o, instrumenta\u00e7\u00e3o virtual e com a \n\nvantagem de ser em tempo real. A Figura 6.3 apresenta a interface desenvolvida no ControlDesk. \n\n\n\n 77 \n\n \n\nFigura 6.3 Interface no ControlDesk \n\n6.3 Simula\u00e7\u00e3o em tempo real SIL \n\nNesta sess\u00e3o se apresenta a interface desenvolvida no ControlDesk, o modelo \n\nimplementado no Simulink para ser executado no dSpace MicroAutoBox II, e a compara\u00e7\u00e3o das \n\ncurvas de desempenho obtidas na simula\u00e7\u00e3o SIL com o modelo da bancada de testes virtual da \n\nBCS, e os erros apresentados. \n\n6.3.1 Interface no ControlDesk \n\nA Figura 6.4 apresenta a interface de usu\u00e1rio, onde se pode observar o comportamento do \n\nsistema com o controle (vaz\u00f5es, press\u00f5es, esfor\u00e7os de controle e vari\u00e1veis controladas) e as \n\nmodifica\u00e7\u00f5es em cada uma das vari\u00e1veis que comp\u00f5em o circuito de teste em malha fechada \n\n(refer\u00eancias, temperaturas, press\u00e3o nos tanques, rota\u00e7\u00e3o da BCS e abertura da v\u00e1lvula de fluido), \n\n\n\n 78 \n\n \n\nFigura 6.4 Partes da interface de usu\u00e1rio no ControlDesk \n\nsendo: \n\n(1) \u00c9 um arranjo de vari\u00e1veis de observa\u00e7\u00e3o (press\u00e3o de sa\u00edda da BCS, rota\u00e7\u00e3o da bomba \n\nbooster e deslocamento do pist\u00e3o) e ajuste das vari\u00e1veis da bancada de testes virtual como \n\nas temperaturas no circuito e press\u00f5es dos tanques. \n\n(2) Apresenta os resultados sendo obtidos nas vaz\u00f5es do sistema; vaz\u00e3o de ar, vaz\u00e3o de \u00e1gua \n\ne vaz\u00e3o total. \n\n(3) \u00c9 onde se ajusta a refer\u00eancia desejada da press\u00e3o e da porcentagem de g\u00e1s na entrada da \n\nBCS. \n\n(4) \u00c9 o scrollbar para ajustar \u00e0 abertura da v\u00e1lvula de fluido. \n\n(5) E o scrollbar para ajustar a rota\u00e7\u00e3o da BCS \n\n(6) Apresenta o comportamento do sinal de refer\u00eancia (verde) e do sinal controlado \n\n(vermelho). \n\n(7) Apresenta os esfor\u00e7os de controle da porcentagem de g\u00e1s em verde e da press\u00e3o de \n\nentrada da BCS em vermelho \n\nEsfor\u00e7os de controle Compara\u00e7\u00e3o de P2 Compara\u00e7\u00e3o do vazio\n\nApertura da v\u00e1lvula de fluido\n\nRota\u00e7\u00e3o da BCS \n\n1 23\n\n4\n5\n\n67\n\n\n\n 79 \n\n6.3.2 Modelo de simula\u00e7\u00e3o SIL \n\nA Figura 6.6 apresenta a modelo implementado no Simulink, modelo este composto por \n\nduas partes; a primeira representa o modelo da bancada de testes virtual para BCS; a segunda \n\nrepresenta o controlador. Na Figura 6.6 as caixas verdes representam os conversores digitais \n\nan\u00e1logos (DAC) do MicroAutoBox II, as caixas amarelas representam os conversores an\u00e1logico \n\ndigital (ADC) do MicroAutoBox II. As linhas tracejadas vermelhas representam a realimenta\u00e7\u00e3o \n\nf\u00edsica do sistema com o controle, como \u00e9 apresentado nas conex\u00f5es f\u00edsicas feitas no conector \n\nutilizado no MicroAutoBox II mostrado na Figura 6.5. \n\n        \n\nFigura 6.5 Conector da Dspace com a conex\u00e3o f\u00edsica das entradas e sa\u00eddas do sistema. \n\n \n\n\n\n 80 \n\n \n\n \n\nFigura 6.6 Modelo n\u00e3o linear para SIL \n\n \n\nCircuito de testes\n\nControlador\n\n\n\n 81 \n\n6.3.3 Curvas de desempenho obtidas com o SIL \n\nA Figura 6.7 apresenta as curvas de desempenho da BCS obtidas com o circuito controlado \n\nsimulado no MicroAutoBox II, onde as curvas apresentadas s\u00e3o para porcentagem de g\u00e1s de 1%, \n\n2%, 3% 5% com a press\u00e3o de entrada fixa em:            e a rota\u00e7\u00e3o da BCS fixa em \n\n             . Sendo as linhas pontilhadas obtidas pela simula\u00e7\u00e3o e as linhas cont\u00ednuas s\u00e3o \n\nas curvas reais, ou seja, as curvas obtidas somente com o modelo SVM da BCS. \n\n \n\nFigura 6.7 Curvas da BCS em SIL com controle,                          \n\nA Figura 6.8 apresenta as curvas de desempenho da BCS com o circuito controlado \n\nsimulado no MicroAutoBox II em outras condi\u00e7\u00f5es, onde as curvas apresentadas s\u00e3o para \n\nporcentagem de g\u00e1s de 1%, 3% e 5% com a press\u00e3o de entrada fixa em:        KPa e a \n\nrota\u00e7\u00e3o da BCS fixa em          . Sendo as linhas pontilhadas obtidas pela simula\u00e7\u00e3o e as \n\nlinhas cont\u00ednuas s\u00e3o as curvas reais, ou seja, a curva obtida somente com o modelo SVM da BCS. \n\n\n\n 82 \n\n \n\nFigura 6.8 Curvas da BCS em SIL com controle,                         \n\nOs resultados obtidos da simula\u00e7\u00e3o SIL s\u00e3o similares aos apresentados na sess\u00e3o 5.4.3. O \n\nsistema controlado apresentou instabilidades com vaz\u00f5es de fluido perto de zero, e o erro \n\naumentou enquanto a vaz\u00e3o aumentava. Das Figura 6.7 e Figura 6.8 se pode concluir que o \n\ncontrolador teve um bom desempenho em uma ampla faixa de opera\u00e7\u00f5es (press\u00f5es, rota\u00e7\u00f5es, \n\nvaz\u00f5es e porcentagens de g\u00e1s) da BCS. \n\n  \n\n\n\n 83 \n\nCap\u00edtulo 7. CONCLUS\u00d5ES E RECOMENDA\u00c7\u00d5ES DE TRABALHOS \nFUTUROS \n\n7.1 Conclus\u00f5es \n\nCom a finalidade de avaliar o comportamento do levantamento das curvas de desempenho \n\npress\u00e3o-vaz\u00e3o da BCS com o controle, devido \u00e0 necessidade de automatizar os circuitos de testes \n\npara facilitar os ensaios e melhorar a qualidade dos mesmos, no percurso do trabalho se \n\ndesenvolveram modelos n\u00e3o lineares baseados em algoritmos de SVM capazes de interpolar o \n\ncomportamento da BCS em diferentes pontos de opera\u00e7\u00e3o (press\u00e3o, vaz\u00e3o, rota\u00e7\u00e3o e porcentual \n\nde g\u00e1s) a partir de dados experimentais. Ditos modelos apresentam uma boa generaliza\u00e7\u00e3o devido \n\na que para o treinamento se realizou uma otimiza\u00e7\u00e3o dos par\u00e2metros ocultos do algoritmo \n\nempregando algoritmos gen\u00e9ticos e regulariza\u00e7\u00e3o mediante bias versus vari\u00e2ncia. \n\nPara avaliar a possibilidade de projetar um sistema control\u00e1vel para se obter \n\nautomaticamente as curvas de desempenho de BCS se decidiu por desenvolver um modelo n\u00e3o \n\nlinear que representasse o comportamento de um circuito de testes de BCS, modelando os \n\ncomponentes de dito circuito a partir de dados experimentais e formula\u00e7\u00f5es f\u00edsicas. Obtendo \n\nassim uma bancada de testes virtual no qual se poderiam obter as curvas de desempenho press\u00e3o-\n\nvaz\u00e3o de forma manual como no circuito real. \n\nA partir da bancada de testes virtual obtida que representa o sistema real, se realizou uma \n\nidentifica\u00e7\u00e3o dos sistemas de interesse em uma condi\u00e7\u00e3o de opera\u00e7\u00e3o do circuito a modelos \n\nlineares de ordem reduzida mediante o m\u00e9todo de identifica\u00e7\u00e3o por subespa\u00e7os em tempo \n\ndiscreto. Dos modelos reduzidos se projetaram controladores robustos    capazes de estabilizar \n\ntanto a press\u00e3o de entrada bem como a porcentagem de g\u00e1s em diferentes pontos de opera\u00e7\u00e3o da \n\nBCS (press\u00f5es, rota\u00e7\u00f5es da BCS, temperaturas no circuito, vaz\u00e3o de fluido), cabe observar que o \n\ncontrole foi projetado numa s\u00f3 condi\u00e7\u00e3o de opera\u00e7\u00e3o do circuito de testes. Como \u00e9 apresentado \n\nna subse\u00e7\u00e3o 4.4.2 do Cap\u00edtulo 4 a bancada de testes tem um comportamento diferente em \n\ndistintas condi\u00e7\u00f5es de opera\u00e7\u00e3o. Os controladores apresentam uma boa rejei\u00e7\u00e3o a dist\u00farbios, \n\nerros de modelagem e ru\u00eddos acrescentados nos sinais de media\u00e7\u00e3o. A partir do mencionado \n\nanteriormente se pode dizer que os controladores s\u00e3o capazes de controlar as condi\u00e7\u00f5es de \n\n\n\n 84 \n\nentrada na BCS para realizar o levantamento das curvas de desempenho vaz\u00e3o-press\u00e3o da bomba \n\noperando em escoamento multif\u00e1sico. \n\nRealizou-se o teste do sistema com o controle em tempo real, mediante simula\u00e7\u00f5es SIL \n\nembarcando o controlador numa placa MicroAutoBox II da dSPACE. Nesta simula\u00e7\u00e3o se \n\nobtiveram automaticamente as curvas de desempenho da BCS press\u00e3o-vaz\u00e3o desejadas. O \n\ncontrolador apresentou um bom comportamento em diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o, \n\nsalientando-se que o sistema realimentado apresentou algumas instabilidades em vaz\u00f5es perto de \n\nzero. Ditas instabilidades podem ser reduzidas diminuindo a press\u00e3o do reservat\u00f3rio de ar devido \n\na que o sistema perde sensibilidade quanto menor o diferencial de press\u00f5es na v\u00e1lvula de \n\ncontrole. \n\n7.2 Recomenda\u00e7\u00f5es de Trabalhos Futuros \n\nA partir das experi\u00eancias vividas, dificuldades apresentadas no desenvolvimento do projeto \n\ne das conclus\u00f5es obtidas, as sugest\u00f5es para dar continuidade \u00e0 pesquisa s\u00e3o: \n\nCom a finalidade de obter uma melhor representa\u00e7\u00e3o dos modelos n\u00e3o param\u00e9tricos da \n\nBCS, \u00e9 recomend\u00e1vel treinar o algoritmo de SVM com um maior n\u00famero de condi\u00e7\u00f5es de \n\nopera\u00e7\u00e3o da bomba.  \n\nNeste trabalho s\u00f3 se apresentou a curva de desempenho vaz\u00e3o-press\u00e3o, em trabalhos futuro \n\n\u00e9 recomend\u00e1vel obter as curvas de desempenho de vaz\u00e3o-pot\u00eancia e vaz\u00e3o-efici\u00eancia para \n\nrealizar o estudo destas curvas de desempenho com o sistema controlado. \n\nDevido que este trabalho faz o projeto de controle dos dois la\u00e7os de controle de forma \n\nindependente, se sugere realizar a identifica\u00e7\u00e3o do sistema em conjunto e projetar um s\u00f3 \n\ncontrolador que estabilize e controle o sistema, com a finalidade de evitar que os controladores \n\nque trabalham de forma independente gerem instabilidades no sistema, j\u00e1 que um controlador \n\npode instabilizar o comportamento do outro la\u00e7o de controle. \n\nImplementar diferentes metodologias de identifica\u00e7\u00e3o para modelar o comportamento \n\ncompleto da bancada de testes virtual para BCS, e assim obter melhores resultados no momento \n\nde projetar e implementar o controle no sistema real. \n\n\n\n 85 \n\nEstudar o comportamento da bancada de testes virtual em malha fechada com diferentes \n\nm\u00e9todos de controle moderno como controle adaptativo, controle fuzzy, controle com algoritmos \n\nde aprendizagem de m\u00e1quinas (neurocontroladores) ou controle comutado. \n\nDevido \u00e0 necessidade de trocar a press\u00e3o do reservat\u00f3rio de ar para poder obter melhores \n\nresultados nas curvas de desempenho da BCS, se sugere acrescentar mais um controle para \n\najustar a sua press\u00e3o. \n\n  \n\n\n\n 86 \n\nREFER\u00caNCIAS \n \n\n \n\nAGUIRRE, L.A, Introdu\u00e7\u00e3o \u00e0 Identifica\u00e7\u00e3o de Sistemas \u2013 T\u00e9cnicas Lineares e N\u00e3o-Lineares \n\nAplicadas a Sistemas Reais, 3a Edi\u00e7\u00e3o, UFMG, 2007 \n\n \n\n \n\nANDREW Ng. Introduction to Machine Learning. Machine learning Course, Coursera based into \n\nStandford University, 2012. \n\n \n\n \n\nCHANG. C.C and LIN. C.J. LIBSVM : a library for support vector machines. ACM Transactions \n\non Intelligent Systems and Technology, 2:27:1-27:27, 2011. \n\n \n\n \n\nCHOI, S.G and W. H. KWON.. Real-time distributed software-in-the-loop simulation for \n\ndistributed control systems. In Proc. of the 1999 IEEE International Sym- posium on Computer \n\nAided Control System Design, pp 115-119, 1999 \n\n \n\n \n\nDEL SIGNORE, M. J.; KROVI, V. Virtual prototyping and hardware-in-the-loop testing for \n\nmusculoskeletal system analysis, Proceedings of the IEEE international conference Mechatronics \n\nand automation, pp. 394-399, Ontario, Canada, 2005. \n\n \n\n \n\nDE OLIVEIRA, H, R, PAGLIONE, P, Controle Longitudinal de uma Aeronave Flex\u00edvel \n\nUtilizando    com Realimenta\u00e7\u00e3o Est\u00e1tica da Sa\u00edda, Brazilian Symposium on Aerospace Eng, &amp; \n\nApplications, 2009. \n\n \n\n \n\nDOYLE, J, C, STEIN, G, Multivariable Feedback Design: Concepts for a Classical/Modern \n\nSynthesis, IEEE Trans. On Automatic Control, Vol AC-26, No 1, pp 4-16, 1981. \n\n \n\n \n\nDOYLE, J, C, GLOVER, K, KHARGONEKAR, P, P, FRANCIS, B, A, State-Space Solution to \n\nStandard    and    Control Problem, IEEE Transaction on Automatic Control, Vol 31, No 8, pp \n\n831-846, 1989 \n\n \n\n \n\n\n\n 87 \n\nDRAKUNOV, S. V., OZGUNER, U., Vibration Suppression in Flexible Structures via the \n\nSliding-Mode Control Approach. In: Proceedings of the 31st IEEE Conference on Decision and \n\nControl, v. 2, pp. 1365-1366. , 1992 \n\n \n\n \n\nDSPACE, MicroAutoBox II, Hardware Installation and Configuration, v7.3,2012 \n\n \n\n \n\nDUTRA, L, do A, G. Modelagem do Escoamento Monof\u00e1sico em Bomba Centr\u00edfuga Submersa \n\nOperando com Fluidos Viscosos, Disserta\u00e7\u00e3o de Mestrado FEM/UNICAMP, 2007. \n\n \n\n \n\nGAMBOA, J, J. PRADO, M, Multiphase Performance of ESP Stages-Part I, The University of \n\nTulsa, Artificial Lift Projects, 2007 \n\n \n\n \n\nGIRALDO, C, M\u00e9todos de Subespa\u00e7os para Identifica\u00e7\u00e3o de Sistemas: Propostas de Altera\u00e7\u00f5es, \n\nImplementa\u00e7\u00f5es e Avalia\u00e7\u00f5es, Disserta\u00e7\u00e3o de Mestrado FEEE/UNICAMP, 2008. \n\n \n\n \n\nGORDILLO, C, C, A. Estrat\u00e9gias para a corre\u00e7\u00e3o dos efeitos de atraso de sistemas Hardware In \n\nthe Loop (HIL), Disserta\u00e7\u00e3o de Mestrado FEM/UNICAMP, 2012. \n\n \n\n \n\nHONG, Z. YONGMEI, L. BSP-Based Support Vector Regression Machine Parallel Framework, \n\nComputer and Information Science (ICIS), 2013 IEEE/ACIS 12\nth\n\n, pp 329-334, 2013. \n\n \n\n \n\nKATAYAMA, T. Subspace Methods for System Identification. Springer, 2005 \n\n \n\n \n\nLJUNG, L, System Identification: Theory for the User, Second Edition, Upper Saddle River, NJ: \n\nPrentice Hall PTR, 1999 \n\n \n\n \n\nM. LINJAMAA, T. VIRVALO, J. GUSTAFSSON, J. LINTULA, V. AALTONEN, M. \n\nKIVIKOSKI, Hardware-in-the-loop environment for servo system controller design, tuning and \n\ntesting, Microprocessors and Microsystems 24, pp 13-2, 2000 \n\n \n\n \n\n\n\n 88 \n\nMONTE, V, W, Estudo Experimental de Bombas de BCS Operando com Escoamento Bif\u00e1sico \n\nG\u00e1s-L\u00edquido, Disserta\u00e7\u00e3o de Mestrado FEM/UNICAMP, 2011. \n\n \n\n \n\nOGATA, K, Din\u00e1mica de sistemas, 1ra Ed, Prentice-Hall Hispanoamericana. S.A, 1987  \n\n \n\n \n\nOGATA, K, Modern Control Engineering, 4a Ed, Pearson Education International. 2002 \n\n \n\n \n\nOKUBO, H.; ICHIKAWA, H.; NISHIMURA, T. Structure and Controller Design for Vibration \n\nControl of Flexible Structures via Robust Pole Assignment. IEEE, pp. 619-623, 1998. \n\n \n\n \n\nPOTTEBAUM, R, J, Optimal Characteristics of a Variable-Frequency Centr\u00edfugal Pump Motor \n\nDrive, IEEE Transactions on Industry Applications, vol. IA-20, n. 1, 1984 \n\n \n\n \n\nQING, Y. FRED R, Parameter Selection of Support Vector Regression Machine Based on \n\nDifferential Evolution Algorithm, Sixth International Conference on Fuzzy Systems and \n\nKnowledge Discovery, IEEE, vol 2, pp 596-598, 2009 \n\n \n\n \n\nRODR\u00cdGUEZ, R, F, L\u00d3PEZ, S, M, J, Control Adaptativo y Robusto, Universidad de Sevilla, \n\n1996 \n\n \n\n \n\nSARGENT, R. G, Verification And Validation Of Simulation Models, p 55-64, 1998. \n\n \n\n \n\nSARRACINI, J F, S\u00edntese de Controladores H? de Ordem Reduzida com Aplica\u00e7\u00e3o no Controle \n\nAtivo de Estruturas Flex\u00edveis, Disserta\u00e7\u00e3o de Mestrado FEM/UNICAMP, 2006. \n\n \n\n \n\nSCHLESINGER, et al.. Terminology for Model Credibility, Simulation, Vol 32, p. 103-104, \n\n1979 \n\n \n\n \n\nSKOGESTAD, S. POSTLETHWAITE, I Multivariable Feedback Control Analysis and design, \n\n2a Ed. 2001. \n\n \n\n\n\n 89 \n\n \n\nSILVA, M, P. Controle e Estima\u00e7\u00e3o de Estado de Sistemas Multivari\u00e1veis N\u00e3o Lineares \n\nVariantes no Tempo Limitados em Norma: Aspectos de Robustez, Descentraliza\u00e7\u00e3o e \n\nOtimiza\u00e7\u00e3o   , Disserta\u00e7\u00e3o de Mestrado FEEE/UNICAMP, 2010 \n\n \n\n \n\nSMOLA, J, S. SCHOLKOPF, B. A tutorial on support vector regression, Kluwer Academic \n\nPublishers. Manufactured in The Netherlands, Statistics and Computing 14, pp 199-222, 2004. \n\n \n\n \n\nSTEIN, G, ATHANS, M, The LQR/LTR Procedure for Multivariable Feedback Control Design, \n\nIEEE Transaction on Automatic Control, Vol AC-32,No 2, pp 105-113, 1987 \n\n \n\n \n\nSTOEAN, S. DUMITRESCU, D. PREUSS, M. STOEAN, C. Evolutionary Support Vector \n\nRegression Machines, Symbolic and Numeric Algorithms for Scientific Computing, pp 330-335, \n\n2006 \n\n \n\n \n\nVIVAS, G, E, C, Control del Helic\u00f3ptero 2D Usando M\u00e9todos de Control Robusto   , \n\nUniversidad Nacional de Colombia, 2011 \n\n \n\n \n\nWHITE F. M, Fluid Mechanics, 4th ed, McGraw-Hill, pp 711-768, 1999 \n\n \n\n \n\nZAMES, G, FRANCIS, B, A, Feedback, Minimar Sensitivity, and Optimal Robustness, IEEE \n\nTrans. Automat. Contr, Vol AC-28, No 5 pp 585-601, 1983. \n\n \n\n \n\nZHANG, X, ZHANG, X, L, S, Modeling and Simulation of Proportional Fuel Flow Rate Control \n\nValve, International Conference on Computer, Mechatronics, Control and Electronic Engineering \n\n(CMCE), 2010 \n\n \n\n \n\nZHOU, K. Essentials of robust control. Tom Robbins, 1998. \n\n\n\n 90 \n\nAP\u00caNDICE A.  Avalia\u00e7\u00e3o dos Modelos. \n\nPara a valida\u00e7\u00e3o dos modelos obtidos mediante o m\u00e9todo de m\u00e1quinas de suporte vetorial \n\nfoi realizado avalia\u00e7\u00e3o do erro quadr\u00e1tico m\u00e9dio (MSE) e do coeficiente de determina\u00e7\u00e3o (R\n2\n). \n\nNa literatura opta-se por empregar estes m\u00e9todos estat\u00edsticos para a avalia\u00e7\u00e3o de modelos. \n\nA precis\u00e3o \u00e9 dada pela m\u00e9dia dos valores preditos e dos valores reais. Por valores reais \n\nt\u00eam-se aqueles que foram obtidos dos testes reais. Para o c\u00e1lculo de precis\u00e3o \u00e9 utilizado o erro \n\nm\u00e9dio quadr\u00e1tico, definido como, \n\n    ?\n(         )\n\n \n\n \n\n \n\n   \n\n  (A.1) \n\nonde,    \u00e9 o valor predito pelo algoritmo de aprendizagem na entrada  ;        \u00e9 o valor observado \n\nda entrada    e   \u00e9 o n\u00famero de valores analisados.  \n\nO coeficiente de determina\u00e7\u00e3o (R\n2\n) \u00e9 uma medida de ajuste dos modelos estat\u00edsticos \n\ngeneralizados em rela\u00e7\u00e3o aos valores reais, indicando os valores reais em valores de \n\nporcentagem. Quanto mais perto de 1 \u00e9 o valor, mais explicativo \u00e9 o modelo, definido como, \n\n \n \n \n\n? (         )\n  \n\n   \n\n? (             )\n  \n\n   \n\n   \n? (         )\n\n  \n   \n\n? (             )\n  \n\n   \n\n  (A.2) \n\nonde    \u00e9 o valor prognosticado pelo algoritmo de aprendizagem na entrada  ;        a m\u00e9dia dos \n\nvalores,        o valor real da entrada    e   o n\u00famero de valores analisados. O coeficiente varia \n\nentre 0 e 1 onde: \n\n?  \n \n      \u00e9 considerado que o modelo n\u00e3o tem correla\u00e7\u00e3o e seu comportamento \u00e9 aleat\u00f3rio. \n\n?         \n \n       \u00e9 considerado um relacionamento leve. \n\n?         \n \n       \u00e9 considerado um relacionamento moderado. \n\n?         \n \n       \u00e9 considerado um relacionamento forte.  \n\n\n\n 91 \n\nAP\u00caNDICE B.  Regula\u00e7\u00e3o Mediante Bias/Vari\u00e2ncia. \n\n\u00c9 necess\u00e1rio saber se os modelos de aprendizagem de m\u00e1quinas apresentam problemas de \n\nbias (baixo ajuste) ou vari\u00e2ncia (sobre ajuste), para poder corrigir ou tentar melhorar o modelo. \n\nUma forma de solucionar este problema \u00e9 ter hip\u00f3teses em um n\u00edvel intermedi\u00e1rio de \n\ncomplexidade, j\u00e1 que d\u00e1 o menor erro generalizado (ANDREW, 2012). A Figura B.1 apresenta \n\nos erros de valida\u00e7\u00e3o e os erros de treinamento com respeito aos modelos obtidos do algoritmo, \n\npor exemplo, os diferentes modelos obtidos de SVMr variando o par\u00e2metro de penaliza\u00e7\u00e3o  . \n\n \n\nFigura B.1 Bias e Vari\u00e2ncia com Respeito aos Modelos \n\nPara realizar a regula\u00e7\u00e3o do modelo as amostras de teste se dividem em tr\u00eas grupos para \n\ncalcular o erro de treinamento          , erro de valida\u00e7\u00e3o         e erro de teste          . \n\nPortanto a divis\u00e3o dos dados adotada \u00e9 da seguinte forma,     de treinamento (             ), \n\n    de valida\u00e7\u00e3o (         )e     de teste (             ), e ainda colocando aleatoriamente as \n\namostras nos grupos para evitar uma generaliza\u00e7\u00e3o errada. \n\nOs erros s\u00e3o dados por: \n\nModelos\n\nAlta Bias Alta Vari\u00e2ncia\n\nBaixa Bias e baixa Vari\u00e2ncia\n\n\n\n 92 \n\n          \n \n\n        \n?   ( (      )         )\n\n \n\n      \n\n   \n\n        \n \n\n      \n?   ( (    )       )\n\n \n\n    \n\n   \n\n          \n \n\n        \n?   ( (     )        )\n\n \n\n      \n\n   \n\n  ( B.1 ) \n\nsendo  ( ) o modelo a regularizar. \n\nO objetivo deste m\u00e9todo de regula\u00e7\u00e3o \u00e9 fazer um mapeamento dos modelos obtidos \n\ntrocando os par\u00e2metros ocultos (      ), calculando o erro de valida\u00e7\u00e3o e de treinamento para \n\ncada combina\u00e7\u00e3o poss\u00edvel e assim procurar os par\u00e2metros que apresentem menor um valor \n\nintermedi\u00e1rio onde o modelo apresente baixa bias e baixa vari\u00e2ncia. \n\n \n\n  \n\n\n\n 93 \n\nAP\u00caNDICE C. Algoritmos Gen\u00e9ticos \n\nA sele\u00e7\u00e3o dos par\u00e2metros (      ) \u00e9 uma quest\u00e3o importante nos algoritmos de SVMr, \n\nporque destes par\u00e2metros dependem a efetividade do algoritmo (QING, 2009). Esta sele\u00e7\u00e3o se \n\npode fazer de forma autom\u00e1tica mediante algoritmos gen\u00e9ticos (AG). \n\nOs AG s\u00e3o m\u00e9todos adaptativos que podem ser usados para solucionar problemas de busca \n\ne otimiza\u00e7\u00e3o. Est\u00e3o baseados no processo gen\u00e9tico dos seres vivos. O processo de evolu\u00e7\u00e3o est\u00e1 \n\nbaseado na natureza, o seja, os princ\u00edpios naturais e a superviv\u00eancia do mais forte.  \n\nA Figura C.1 apresenta um diagrama de fluxo do algoritmo gen\u00e9tico. \n\n \n\nFigura C.1 Diagrama de fluxo do AG \n\nInicio\n\nGerar popula\u00e7\u00e3o inicial\n\nComputar a fun\u00e7\u00e3o de avalia\u00e7\u00e3o (fitness) em cada individuo.\n\nSelecionar indiv\u00edduos mais aptos\n\nCruzamento\n\nMuta\u00e7\u00e3o\n\nComputar a fun\u00e7\u00e3o de avalia\u00e7\u00e3o (fitness) em cada individuo.\n\nGerar nova gera\u00e7\u00e3o\n\nFim\n\nA polpa\u00e7\u00e3o a \n\nconvergido?\n\nN\u00e3o\n\nSim\n\nC\nic\n\nlo\n r\n\ne\np\n\nro\nd\n\nu\nti\n\nv\no\n\n\n\n 94 \n\nCada individuo da popula\u00e7\u00e3o tem tr\u00eas caracter\u00edsticas (      ), onde o gen\u00f3tipo de cada \n\nindividuo est\u00e1 dado em n\u00fameros bin\u00e1rios como \u00e9 apresentado na Figura C.2. Estes indiv\u00edduos s\u00e3o \n\ngerados aleatoriamente para obter uma \u00e1rea maior de procura. \n\n \n\nFigura C.2 Gen\u00f3tipo dos indiv\u00edduos \n\nDitos indiv\u00edduos s\u00e3o avaliados mediante uma fun\u00e7\u00e3o fitness. Para solucionar o problema de \n\nSVMr, a fun\u00e7\u00e3o fitness da um maior valor de adapta\u00e7\u00e3o a cada indiv\u00edduo se o seu erro de \n\nvalida\u00e7\u00e3o         \u00e9 menor, ou seja, realizamos o treinamento da SVMr com cada indiv\u00edduo, \n\ncalculamos seus erros de valida\u00e7\u00e3o e os indiv\u00edduos que apresentem os menores erros ser\u00e3o os \n\nmelhores adaptados. \n\nPara realizar o cruzamento entre os indiv\u00edduos, se duplicam os indiv\u00edduos dependendo de \n\nseu valor de adapta\u00e7\u00e3o. Por exemplo, temos 5 indiv\u00edduos                            com \n\nvalores de adapta\u00e7\u00e3o de                           respectivamente, podemos observar que o \n\nindiv\u00edduo 2 obter\u00e1 m\u00e1s copias que o indiv\u00edduo 1 que tem um menor valor de adapta\u00e7\u00e3o como \u00e9 \n\napresentado na Tabela C.1. \n\nTabela C.1 Exemplo de duplica\u00e7\u00e3o dos indiv\u00edduos \n\nIndiv\u00edduo Adapta\u00e7\u00e3o Copias \n\n     0.01 0 \n\n     0.5 4 \n\n     0.31 3 \n\n     0.1 1 \n\n     0.21 2 \n\n \n\nA partir das c\u00f3pias dos indiv\u00edduos, selecionamos os pais para obter a pr\u00f3xima gera\u00e7\u00e3o \n\nimplementando o m\u00e9todo da roleta. O m\u00e9todo da roleta seleciona aleatoriamente um indiv\u00edduo \n\npara que este seja pai da seguinte gera\u00e7\u00e3o como \u00e9 apresentado na Figura C.3, onde os indiv\u00edduos \n\n\n\n 95 \n\nque tenham mais c\u00f3pias aumentam a probabilidade de ser escolhido. O m\u00e9todo da roleta se repete \n\nat\u00e9 obter um n\u00famero de pais igual \u00e0 popula\u00e7\u00e3o inicial. \n\n \n\nFigura C.3 M\u00e9todo da roleta. \n\nPara obter os filhos se realiza uma combina\u00e7\u00e3o do gen\u00f3tipo dos pais em uma posi\u00e7\u00e3o \n\naleat\u00f3ria como se apresenta na Figura C.4. \n\n \n\nFigura C.4 Combina\u00e7\u00e3o do gen\u00f3tipo. \n\nFinalmente para obter a nova gera\u00e7\u00e3o se mutam alguns dos filhos, onde esta muta\u00e7\u00e3o \n\nmant\u00e9m a diversidade da popula\u00e7\u00e3o. A muta\u00e7\u00e3o consiste em trocar um gene do gen\u00f3tipo do \n\nindiv\u00edduo (ver Figura C.5), onde este gene \u00e9 escolhido aleatoriamente.  \n\n \n\nFigura C.5 Muta\u00e7\u00e3o no gen\u00f3tipo. \n\nA nova gera\u00e7\u00e3o vai ser composta pelos filhos e filhos mutados, e a nova gera\u00e7\u00e3o deve ter a \n\nmesma quantidade de indiv\u00edduos que a popula\u00e7\u00e3o inicial.  \n\n\n\n 96 \n\nAP\u00caNDICE D. Programa do Projeto de Controle \n\n%% projeto de controle \nclose all; clear all; clc \n% m\u00e9todo empregado para o projeto do controlador \nmetodo='ric';   %lmi ric \n\n  \n%% Carregar sistema P_2 ou Vazio  \nload('modeloPinw_norm') %  planta (P_2) \n%load('modelovaziow_norm') %  planta (Vazio) \n\n  \n%% obter planta nominal \n[A,B,C,D] = linmod('sistema_d'); \nPn=ss(A,B,C,D); \nu={'u_1'}; \nw={'R','D','N'}; \nz={'z_1','z_2','z_3'}; \ny={'e_1','e_2'}; \nPn.inputname = [w u]; \nPn.outputname = [z y]; \n\n  \n%% calculo da norma do sistema \nnra=norm(Pn(1,1:length(w)),inf) \n\n  \n%% Observar o desempenho da planta nominal \nfw=logspace(-1,2,80000); \nfigure(15) \nsigma(Pn(1,1:length(w)),'r',fw) \nlegend('Pn','Pr') \n\n  \n%% Projetar K para Pn \nK=hinfsyn(Pn,length(y),1,'METHOD',metodo); %lmi ric \nK.inputname = y; \nK.outputname = u; \n\n  \n%% feedback \nT=connect(Pn,K,w,z); \n\n  \n\n  \n%% Estabilidade e desempenho \nfigure(2) \nstep(T) \neig(T) \n\n  \n%% Calcular la norma \nnraT=norm(T,inf) \n\n  \n% O sistema em la\u00e7o fechado n\u00e3o consegue chegar ate a referencia, por isto s\u00e3o \n% empregados alguns filtros de pondera\u00e7\u00e3o, e tamb\u00e9m para melhorar o \n% desempenho com o sistema real. \n\n  \n%% Filtros de pondera\u00e7\u00e3o \n%----------------------------------------------------------------- \n\n\n\n 97 \n\n% s\u00e3o carregados os filtros para o projeto de P_2 \nload('filtrosPinw','wr','wd','ws','wu','wt')  \n% s\u00e3o carregados os filtros para o projeto do vazio \n%load('filtrosvaziow','wr','wd','ws','wu')  \n\n  \n%% criar planta com filtros \n\n  \nw_t={'R_1','D_1','N'}; %vector de entradas con filtros \nz_t={'z1_1','z_2','z3_1'}; %vector de medidas de desempheno com filtros \nPnt=connect(Pn,wr,wd,ws,wu,wt,[w_t u],[z_t y]); \n\n  \n%% projetar o controlador com filtros \n Kt=hinfsyn(Pnt,length(y),1,'METHOD',metodo); %lmi ric \nKt.inputname= y; \nKt.outputname=u; \n\n  \n%% feedback \nTr=connect(Pn,Kt,w,z); \n\n  \n%% Desempenho com filtros \nfigure(3);  \nsigma(Pn(1,1:length(w)),'k',Tr(1,:),'r',Pnt(1,1:length(w)),'b',fw) \nlegend('Pr','Tr','Pnt') \nfigure(5) \nstep(Tr) \n\n  \n%% Estabilidade  \neig(Tr) \nKtd=c2d(Kt,dt,'tustin'); \n\n  \n% \u00e9 guardado o controlador obtido \nsavefile = 'K005Pinw_norm'; \n%savefile = 'K005Vaziow_norm'; \nsave(savefile,'Kt','Ktd','Pr','Tr'); \n\n  \n\n\n\n 98 \n\nANEXO i. Procedimento Experimental de Testes \n\nO procedimento a seguir \u00e9 o desenvolvido por MONTE (2011) para o desenvolvimento do \n\nseu projeto de mestrado. Monte Verde fala que o procedimento \u00e9 bastante trabalhoso porque os \n\ntestes s\u00e3o realizados \u00e0 uma fra\u00e7\u00e3o volum\u00e9trica de g\u00e1s constante al\u00e9m disto tamb\u00e9m est\u00e1 \n\ncontrolando a press\u00e3o de suc\u00e7\u00e3o da BCS, que \u00e9 mantida constante ao longo de toda a curva de \n\ndesempenho. \n\nA seguir, \u00e9 descrito o procedimento experimental adotado para testes bif\u00e1sicos por MONTE, \n\n2011: \n\n1. Liga-se a bomba booster e, a seguir, a bomba BCS, fixando uma rota\u00e7\u00e3o para a BCS \n\natrav\u00e9s do inversor de frequ\u00eancia. A rota\u00e7\u00e3o da BCS permanece fixa ao longo de todo o \n\nensaio. \n\n2. Atrav\u00e9s do controle da rota\u00e7\u00e3o da bomba booster, fixa-se a press\u00e3o na suc\u00e7\u00e3o da BCS. \n\nEssa press\u00e3o deve ser mantida constante ao longo de todo o experimento. \n\n3. Regula-se a vaz\u00e3o de g\u00e1s de forma a obter-se a vaz\u00e3o volum\u00e9trica de g\u00e1s desejada. Esse \n\nvalor tamb\u00e9m \u00e9 mantido constante. Quando a vaz\u00e3o de g\u00e1s \u00e9 alterada, a press\u00e3o de suc\u00e7\u00e3o \n\ntamb\u00e9m se altera. Dessa forma, \u00e9 necess\u00e1rio ajustar novamente a rota\u00e7\u00e3o da bomba \n\nbooster at\u00e9 que a press\u00e3o de suc\u00e7\u00e3o seja a desejada. \n\n4. Com esses tr\u00eas par\u00e2metros ajustados, press\u00e3o de suc\u00e7\u00e3o, fra\u00e7\u00e3o volum\u00e9trica de g\u00e1s e \n\nrota\u00e7\u00e3o da BCS, espera-se aproximadamente tr\u00eas minutos para que a condi\u00e7\u00e3o \n\noperacional se estabilize. \n\n5. Realiza-se a aquisi\u00e7\u00e3o dos dados durante um intervalo de 30 segundos. \n\n6. Para o ajuste da pr\u00f3xima condi\u00e7\u00e3o operacional de vaz\u00e3o, diminui-se a rota\u00e7\u00e3o da bomba \n\nbooster e em seguida ajusta-se a vaz\u00e3o de ar e \u00e1gua at\u00e9 que a fra\u00e7\u00e3o volum\u00e9trica seja a \n\ndesejada. Ajusta-se novamente a rota\u00e7\u00e3o da bomba booster de forma a manter constante a \n\npress\u00e3o de suc\u00e7\u00e3o na BCS. Trata-se de um processo iterativo de abertura de v\u00e1lvulas e \n\najuste de rota\u00e7\u00e3o da bomba booster at\u00e9 que sejam estabelecidas as condi\u00e7\u00f5es desejadas. \n\nOs procedimentos 5 e 6 s\u00e3o repetidos at\u00e9 que a vaz\u00e3o de mistura seja a vaz\u00e3o m\u00e1xima, \n\ncondi\u00e7\u00e3o que caracteriza o final do teste."}]}}}