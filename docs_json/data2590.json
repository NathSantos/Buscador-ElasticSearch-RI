{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.05748"}, {"@name": "filename", "#text": "10158_DM_HelderOliveira_2017_MEEC.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "INSTITUTO SUPERIOR DE ENGENHARIA DO PORTO\nMESTRADO EM ENGENHARIA ELECTROT\u00c9CNICA E DE COMPUTADORES\nisep\nControlo de locomo\u00e7\u00e3o do ve\u00edculo rob\u00f3tico submarino TURTLE com recurso a sistema de varia\u00e7\u00e3o de flutuabilidade\nHELDER JOEL FERNANDES OLIVEIRA\nOutubro de 2017\nPOLIT\u00c9CNICO DO PORTO\ni sep\nInstituto Superior de\nEngenharia do Porto\nGP INESCTEC\nControlo de locomoc\u00e3o do ve\u00edculo robotico submarino TURTLE com recurso a sistema de variacao de flutuabilidade\nHelder Joel Fernandes Oliveira N 1131363\nMestrado em Engenharia Electrotecnica e de Computadores -Area de Especializa\u00e7ao de Sistemas Aut\u00f3nomos\n28 de Outubro de 2017\ni sep\nInstituto Superior de\nEngenharia do Porto\nB? INESCTEC\nDisserta\u00e7\u00e3o para satisfa\u00e7\u00e3o parcial dos requisitos do Mestrado em Engenharia Eletrotecnica e de Computadores\nCandidato: Helder Joel Fernandes Oliveira N 1131363\nOrientador: Alfredo Manuel de Oliveira Martins\nMestrado em Engenharia Electrotecnica e de Computadores -\n/\nArea de Especializa\u00e7ao de Sistemas Aut\u00f3nomos\nEsta p\u00e1gina foi intencionalmente deixada em branco.\n\u2019\u2019Muitas pessoas devem a grandeza de suas vidas aos problemas que tiveram de vencer\u201d\nRobert Baden-Powell\nAgradecimentos\nSe os agradecimentos tamb\u00e9m fazem parte desta disserta\u00e7\u00e3o, \u00e9 porque ao longo deste trabalho nao estive sozinho e obtive grandes apoios e incentivos dos quais estarei eternamente grato.\nGostaria de come\u00e7ar por agradecer ao Professor Eng.Q Alfredo Martins pela excelente orienta\u00e7\u00e3o, pelo seu apoio e pelas diversas sugest\u00e3es em prol deste trabalho.\nAo Professor Doutor Eduardo Silva, como responsavel do LSA, agradecer todo o seu acompanhamento e disponibilidade em criar condi\u00e7\u00e3es para o desenvolvimento deste trabalho.\nA toda a \u201dfam\u00e9lia\u201ddo LSA, pelo companheirismo, amizade e motiva\u00e7\u00e3o que todos demonstraram e pelo qual tenho enorme apreco em partilhar com eles o meu trabalho di\u00e9rio.\nAgradecer tamb\u00e9m a toda a minha fam\u00edlia e amigos, pela enorme paciencia e alento que me foram dando ao longo deste percurso.\nTambem de uma forma muito especial, gostaria de agradecer \u00e0 minha namorada, Ariana Gomes, pela sua forma genu\u00edna que me acompanhou ao longo desta etapa. A sua capacidade de lidar com os maus momentos e enaltecer os bons contribuiu significativamente para a t\u00e9rmino deste trabalho.\nPor fim, gostaria de prestar um enorme agradecimento aos meus pais e irm\u00e3os. Nao s\u00f3 por esta etapa acad\u00e9mica, que lhes exigiu enormes sacr\u00edficos, mas sim por todos os ensinamentos, exemplos e principios que me proporcionaram, os quais tenho como refer\u00eancia e estarei infindavelmente agradecido.\nObrigado a todos,\nJoel Oliveira\nEsta p\u00e1gina foi intencionalmente deixada em branco.\nResumo\nO panorama da rob\u00e1tica marinha ganha cada vez mais enfase nos dias de hoje, n\u00e3o s\u00e1 pela grande percentagem de agua existente no planeta, mas tamb\u00e1m pela motiva\u00e7ao economica relacionada com explora\u00e7\u00e3o dos recursos marinhos. As limita\u00e7\u00e3es f\u00edsicas a pre-senca do homem no meio subaqu\u00e1tico, obrigou ao desenvolvimento de ve\u00edculos aut\u00e1nomos para o mar profundo. O TURTLE, \u00e1 um desses ve\u00edculos que foi desenvolvido em Portugal, com a capacidade de operar em profundidades ate 1000 metros. Alem da sua grande profundidade de opera\u00e7\u00e3o, o TURTLE possu\u00e1 um sistema de varia\u00e7\u00e3o de lastro para altera\u00e7\u00e3o de flutuabilidade, permitindo grande eficiencia energ\u00e9tica no seu movimento vertical. Outro ponto relevante deste veiculo \u00e9 o seu sistema de propuls\u00e3o (thrusters) que proporciona o seu reposicionamento, seja no fundo do oceano, na coluna de \u00e1agua ou at\u00e1 mesmo \u00e0 superf\u00edcie. Todas estas caracter\u00edsticas culminam numa maior eficacia e efici\u00eancia do sistema de controlo de locomoc\u00e3o.\nAssim, esta dissertac\u00e7\u00e3ao consiste em desenvolver um sistema de controlo de locomo\u00e7c\u00e3ao para o ve\u00e1culo TURTLE, recorrendo ao sistema de variac\u00e3o de flutuabilidade (VBS) e ao sistema de propuls\u00e3o (thrusters). Para este objetivo proposto, optou-se por analisar as aplica\u00e7c\u00e3oes pr\u00e1aticas do ve\u00e1culo e criar uma arquitetura de controlo capaz de satisfazer os seus requisitos definindo assim diversas manobras de controlo que foram posteriormente testadas em simula\u00e7\u00e3o. Com a simula\u00e7\u00e3o concluiu-se que as manobras que utilizam apenas o sistema de propuls\u00e3ao, s\u00e3ao facilmente executadas com recurso ao controlador PID, enquanto que as manobras que recorrem ao VBS, s\u00e3o mais sens\u00e1veis ao erro em posi\u00e7c\u00e3ao, havendo a necessidade de desenvolver t\u00e1ecnicas que atenuam esse mesmo erro. Foi tamb\u00e1m poss\u00e1vel ao longo deste trabalho testar o ve\u00e1culo em ambiente real, no mar, e com isso validar o sistema de locomoc\u00e7\u00e3ao, identificar e caracterizar falhas do mesmo.\nAbstract\nThe marine robotics field is growing and earning a lot more enphasys nowdays, not just by the fact that a bit part of the planet is covered by water but also by big economic motivations of exploring the marine resources.\nThe physical limitations to the presence of the human being in an underwater envi-ronement has motivated the development of autonomus vehicles to explore the deep sea. Turtle, is on of those vehicles and it has been developed in Portugal with the capacity to operate autonomously in deep sea up to 1000 meters and an autonomy to acomplish missions of some months. To achieve these tasks the vehcile has a variable bouyancy system that makes it capable of change his depth in a power eficient way for vertical motion, and, for the other degrees of fredoom it also is capable of faster movements using the available thrusters that can be used at deep sea or at surface. All of those combined features enable a better efficiency of the locomotion system.\nThis work consists in develop a control and locomotion system for vehicle TURTLE, using the variable buoyancy system (VBS) and propulsion system (thrusters). For this goal proposed, in the begin was analyzed the some aplication of vehicle TURTLE, for after this to create a control architecture able to satisfy the requirements of vehicle. In this way several maneuvers went developed and tested in simulation. With simulation it was possible conclude that maneuvers that using just the propulsion system are easly to controller by the PID controller. However the maneuvers that using the variable buoyancy system, are more sensitive of error in position, there is a need to implement others techniques that minimize the error. This work also present the some tests performed in the environment real (sea) making it possible the validation of system control.\nConte\u00fado\nResumo\tiv\nAbstract\tvi\nLista de Figuras\txi\nLista de Tabelas\txv\nLista de Acr\u00f3nimos\txviii\n1\tIntrodu\u00e7\u00e3o\t1\n1.1\tEnquadramento e motiva\u00e7\u00e3o..................................... 2\n1.2\tCenarios de opera\u00e7\u00e3o.......................................... 3\n1.3\tObjetivos..................................................... 3\n1.4\tEstrutura do relat\u00f3rio........................................ 4\n2\tEstado da Arte\t7\n2.1\tVe\u00edculos roboticos para\to mar profundo deep sea............... 7\n2.1.1\tCaracteriza\u00e7\u00e3o de ve\u00edculos submarinos................... 7\n2.1.2\tVe\u00edculos para o mar profundo............................ 9\n2.2\tSistemas de variac\u00e3o de lastro............................... 11\n2.2.1\tTipos de sistemas de variac\u00e3o de lastro ............... 12\n2.2.2\tMecanismos de varia\u00e7\u00e3o de lastro....................... 13\n3\tModeliza\u00e7\u00e3o de ve\u00edculos submarinos\t19\n3.1\tReferenciais................................................. 19\n3.1.1\tSistemas de coordenadas ............................... 21\n3.1.2\t\u00c2ngulos Euler .............................................. 23\n3.2\tDin\u00e2mica de um corpo r\u00edgido....................................... 26\n3.2.1\tMovimento de translacao .................................... 28\n3.2.2\tMovimento de rota\u00e7\u00e3o........................................ 28\n3.2.3\tRepresenta\u00e7\u00e3o matricial das equa\u00e7\u00f5es do movimento............30\n3.3\tFor\u00e7as e momentos hidrost\u00e1ticos e hidrodin\u00e2micos ................. 31\n3.3.1\tModelos din\u00e2micos estudados................................. 32\n3.3.2\tMassa e in\u00e1rcia adicionada ................................. 33\n3.3.3\tAmortecimento hidrodinamico ................................ 34\n3.3.4\tFor\u00e7as e momentos de restabelecimento....................... 36\n3.3.5\tEquacao do movimento ....................................... 37\n3.3.6\tModelo do Thruster.......................................... 38\n3.3.7\tFlutuabilidade.............................................. 38\n4\tRobo submarino TURTLE\t41\n4.1\t\u00c2rquitetura ...................................................... 43\n4.2\tEstrutura ........................................................ 44\n4.3\tArmazenamento de energia.......................................... 46\n4.4\tSistema de varia\u00e7ao de lastro..................................... 47\n4.5\tSistema de Propuls\u00e3o - Thrusters.................................. 51\n4.6\tComunica\u00e7\u00e3es...................................................... 53\n4.7\tControlo e Navegac\u00e3o ............................................. 54\n4.8\tOpera\u00e7\u00e3o.......................................................... 59\n5\tModeliza\u00e7\u00e3o TURTLE\t61\n5.1\tVe\u00edculo subaqu\u00e1tico aut\u00e1nomo\tTURTLE............................... 61\n5.1.1\tGeometria do ve\u00edculo........................................ 63\n5.1.2\tPeso e flutua\u00e7\u00e3o ........................................... 68\n5.1.3\tCentro de gravidade e de flutuabilidade..................... 69\n5.1.4\tMomentos de In\u00e1rcia......................................... 69\n5.1.5\tSistema de Propuls\u00e3o ....................................... 70\n5.1.6\tSimulac\u00e3o CFD - Drag........................................ 73\n6\tControlo do TURTLE\t77\n6.1\tArquitetura de controlo............................................ 77\n6.2\tImplementacao software............................................. 78\n6.3\tManobras........................................................... 84\n6.4\tControlador\tPID................................................... 87\n6.4.1\tA\u00e7ao\tProporcional.......................................... 89\n6.4.2\tAc\u00e3o\tintegral.............................................. 89\n6.4.3\tAc\u00e3o\tderivativa............................................ 90\n6.4.4\tResumo das caracteristicas\tdo\tPID......................... 91\n7\tSimulacao\t93\n7.1\tModela\u00e7c\u00e3ao do movimento vertical\tdo\tTURTLE ....................... 94\n7.2\tTuning do controlador PID.......................................... 98\n7.3\tControlo thrusters ................................................ 99\n7.4\tControlo VBS ..................................................... 100\n7.5\tManobras Compostas ................................................102\n7.5.1\tManobra\tDIVE...............................................104\n7.5.2\tManobra\tDIVE para 1000 metros..............................107\n7.5.3\tManobra\tDIVE e GOTO ...................................... 109\n7.5.4\tManobra\tSUBMERGE ......................................... 111\n7.5.5\tMiss\u00e3o......................................................111\n8\tResultados\t115\n8.1\tSistema de varia\u00e7ao de lastro -\tVBS ...............................116\n8.1.1\tMergulhos com VBS...........................................116\n8.1.2\tLog com dura\u00e7\u00e3o de 12\thoras..............................128\n8.2\tThrusters..........................................................131\n8.3\tTrajet\u00f3ria.........................................................135\n9\tConclus\u00e3o e Trabalho Futuro\t137\nBibliografia\t141\nEsta p\u00e1gina foi intencionalmente deixada em branco.\nLista de Figuras\n1.1\tAlguns rob\u00f4s aqu\u00e1ticos do Laborat\u00f3rio de Sistemas Aut\u00f3nomos......... 3\n2.1\tClassifica\u00e7\u00e3o de ve\u00e1culos submarinos................................ 8\n2.2\tAlguns exemplos de ROVs e MUVs..................................... 11\n2.3\tModos de flutuabilidade............................................ 12\n2.4\tSistema de membrana extens\u00e1vel usando oleo......................... 15\n2.5\tSistema usando ar comprimido....................................... 16\n2.6\tExemplos de sistemas com pist\u00e3o. [32].............................. 16\n2.7\tSistema de varia\u00e7\u00e3o usando agua do mar............................. 17\n2.8\tSistema termal..................................................... 18\n3.1\tReferencial Inercial................................................20\n3.2\tReferencial NED em relac\u00e3o ao referencial ECEF..................... 21\n3.3\tReferencial inercialearth frame e do corpo body frame...............23\n3.4\tRepresenta\u00e7ao do sistema de coordenadas inercial e m\u00f3vel de um corpo\nr\u00e1gido [43]........................................................ 27\n3.5\tDemonstra\u00e7\u00e3o do princ\u00e1pio de Arquimedes............................ 39\n3.6\tEfeitos da densidade de um corpo em contacto com a agua.............40\n3.7\tEstabilidade de um corpo em contacto com a \u00e1gua.................... 40\n4.1\tDesmonstrador do TURTLE.............................................42\n4.2\tComponentes do TURTLE.............................................. 43\n4.3\tDiagrama com os v\u00e1rios sistemas do TURTLE...........................44\n4.4\tConjuto da espuma e OpenCell .......................................45\n4.5\tExemplo de algumas estruturas sujeitas \u00e0 press\u00e3o....................45\n4.6\tEstrutura do TURTLE.................................................46\n4.7\tHousing das baterias...................................................47\n4.8\tVBS - Sistema de varia\u00e7\u00e3o de lastro................................... 47\n4.9\tPrincipais componentes do VBS..........................................48\n4.10\tCircuito VBS......................................................... 49\n4.11\tEsquema para entrada de agua......................................... 50\n4.12\tEsquema para sa\u00edda de \u00e1gua............................................50\n4.13\tConfigura\u00e7\u00e3o dos thrusers............................................ 52\n4.14\tPotencia vs thrust .................................................. 53\n4.15\tArquitetura de comunica\u00e7\u00e3es do TURTLE.................................54\n4.16\tArquitetura geral da navegac\u00e3o....................................... 55\n4.17\tSpatial Fog Advanced Navigation.......................................56\n4.18\tDVL Teledyne Explorer Phased Array\tSelf-Contained.....................57\n4.19\tSistema USBL/Modem e sensor de pressao............................... 58\n4.20\tOpera\u00e7\u00e3o TURTLE...................................................... 59\n5.1\tReferenciais do ve\u00edculo TURTLE........................................ 62\n5.2\tProje\u00e7\u00e3o superior do TURTLE........................................... 64\n5.3\tProje\u00e7\u00e3o frontal do TURTLE............................................ 64\n5.4\tProje\u00e7ao lateral do TURTLE............................................ 65\n5.5\tPrincipais componentes do TURTLE.......................................66\n5.6\tDisposi\u00e7\u00e3o dos thrusters.............................................. 71\n5.7\tPress\u00e3o superficial em surge.......................................... 74\n5.8\tVelocidade e vorticidade do flu\u00eddo em\tsurge........................ 74\n5.9\tVelocidade e vorticidade do flu\u00eddo em\tsway..........................75\n5.10\tPress\u00e3o superficial em heave..........................................75\n5.11\tVelocidade e vorticidade do flu\u00eddo em\theave........................ 76\n6.1\tArquitetura geral do software de controlo vers \u00e3o 2................... 78\n6.2\tArquitetura geral do software de controlo vers \u00e3o 1 (testes basicos de\nfuncionalidade)...................................................... 79\n6.3\tArquitetura do gestor de missa\u00e3o. .................................... 80\n6.4\tExemplo de uma m\u00edquina de estados......................................81\n6.5\tArquitetura do gestor de manobras.\t........................... 81\n6.6\tArquitetura do gestor de controlo do\tthrusters. ..................... 82\n6.7\tArquitetura do gestor de controlo do VBS................................ 83\n6.8\tArquitetura driver thrusters.............................................83\n6.9\tArquitetura driver VBS.................................................. 84\n6.10\tExemplo de um ficheiro tipo yaml de uma missao...........................87\n6.11\tDiagrama de blocos de um controlador PID................................ 88\n6.12\tAc\u00e3o proporcional com varia\u00e7\u00e3o do Kp.....................................89\n6.13\tA\u00e7\u00e3o integral com variac\u00e3o do Ki.........................................90\n6.14\tA\u00e7\u00e3o derivativa com varia\u00e7\u00e3o do Kd...................................... 91\n7.1\tBlocos Simulink do simulador do sistema..................................94\n7.2\tDiagrama da simula\u00e7\u00e3o do VBS.............................................95\n7.3\tDiagrama da simula\u00e7ao dos thrusters......................................96\n7.4\tDiagrama da simula\u00e7\u00e3o do movimento\tvertical do TURTLE................... 98\n7.5\tMetodo ZieglerNichols................................................... 98\n7.6\tDiferentes ganhos para a mesma posic\u00e3o (thrusters).......................99\n7.7\tAfina\u00e7\u00e3o do controlador para o VBS......................................101\n7.8\tSa\u00edda do controlador para o VBS.........................................102\n7.9\tExemplo de um diagrama de estados usando Stateflow......................103\n7.10\tArquitetura do sistema de simula\u00e7\u00e3o.....................................104\n7.11\tDiagrama Stateflow da manobra \u201dDIVE\u201d....................................105\n7.12\tManobra \u201dDIVE\u201d..........................................................106\n7.13\tVelocidade vs volume de \u00edagua. ........................................ 106\n7.14\tPosi\u00e7c\u00e3ao do ve\u00edculo para 1000 metros usando apenas o VBS. ............ 107\n7.15\tSa\u00edda do controlador PID............................................... 108\n7.16\tVelocidade e volume de agua.............................................108\n7.17\tDiagrama StateFlow da manobra \u201dGOTO\u201d....................................109\n7.18\tPosi\u00e7c\u00e3ao do ve\u00edculo usando VBS e Thrusters............................ 110\n7.19\tSa\u00edda do controlador PID do VBS vs thrusters............................110\n7.20\tDiagrama Stateflow da manobra \u201d SUBMERGE\u201d...............................111\n7.21\tArquitetura do sistema de simula\u00e7ao.....................................113\n7.22\tMiss\u00e3o executada........................................................113\n7.23\tSa\u00edda do controlador para cada manobra..................................114\n8.1\tTURTLE na ba\u00eda de Sesimbra..............................................115\n8.2\tPosi\u00e7\u00e3o em heave do TURTLE ao longo do tempo..........................116\n8.3\tEstados do VBS, v\u00e1lvulas e rota\u00e7\u00e3o da bomba do log 7\t...............117\n8.4\tVelocidade e vorticidade do flu\u00e1do em heave...........................118\n8.5\tRela\u00e7\u00e3o dos rpms com a corrente consumida e press\u00e3o interna do reservat\u00f3rio do VBS do log 1...............................................119\n8.6\tRelac\u00e3o entre pressao interna e volume de \u00e1gua log 3..................120\n8.7\tVariacao de quatidade de agua longo da posi\u00e7ao vertical relativo\tao\tlog 3 121\n8.8\tRelac\u00e3o entre a velocidade e a posi\u00e7\u00e3o vertical ......................122\n8.9\tVelocidade terminal vs Volume de \u00e1gua ................................123\n8.10\tVelocidade de descida versus subida .................................124\n8.11\tAn\u00e1lise da manobra executada atraves dos dados obtidos pelo\tIMU\t(log 3) 125\n8.12\tImpacto na aterragem.................................................126\n8.13\tPosi\u00e7\u00e3o do TURTLE ao longo do log 4..................................127\n8.14\tAtitude do TURTLE durante o log 4....................................127\n8.15\tProfundidade do TURTLE...............................................129\n8.16\tTemperatura externa vs press\u00e3ao vs litros perdidos ................. 130\n8.17\tAtitude do ve\u00edculo...................................................131\n8.18\tRela\u00e7\u00e3o entre PWM, corrente consumida e rota\u00e7\u00e3o do motor.............132\n8.19\tVerificac\u00e3o da matriz de aloca\u00e7ao de thrust..........................132\n8.20\tVelocidade m\u00e1xima em surge e heave...................................133\n8.21\tResultado em posi\u00e7\u00e3o da atua\u00e7\u00e3o dos thrusters verticais e do\tVBS.....134\n8.22\tExemplo de uma trajet\u00e1ria na realoca\u00e7\u00e3o do TURTLE na coluna de\tagua. 135\n8.23\tAtitude do veiculo ao longo da realocacao............................136\n8.24\tTrajet\u00e1ria do TURTLE no largo de Sesimbra............................136\nLista de Tabelas\n3.1\tNota\u00e7\u00e3o dos seis graus de liberdade................................... 22\n4.1\tPrincipais caracter\u00edsticas f\u00edsicas do TURTLE.......................... 43\n4.2\tEspecifica\u00e7\u00e3es t\u00e9cnicas dos thrusters................................. 52\n4.3\tEspecifica\u00e7\u00e3es t\u00e9cnicas dos Spatial Fog............................... 56\n4.4\tEspecifica\u00e7\u00e3es t\u00e9cnicas do DVL 600kHz Phased\tArray Explored............57\n4.5\tEspecificac\u00e3es t\u00e9cnicas do USBL S2CR 7/17..............................58\n4.6\tEspecifica\u00e7\u00e3es t\u00e9cnicas do sensor de pressao Keller\tPA35X..............59\n5.1\tPrincipais dimens\u00e3es do TURTLE........................................ 63\n5.2\tVolume dos diversos componentes do TURTLE............................. 67\n5.3\tMassa dos diversos componentes do TURTLE.\t....................... 67\n5.4\tCoordenadas dos prinicpais componentes do TURTLE...................... 68\n5.5\tPeso e for\u00e7ca de impuls\u00e3ao total do TURTLE............................ 68\n5.6\tPosi\u00e7c\u00e3ao do centro de gravidade...................................... 69\n5.7\tPosi\u00e7c\u00e3ao do centro de flutua\u00e7c\u00e3ao. .................................. 69\n5.8\tMomentos de in\u00e9rcia................................................... 69\n5.9\tCoeficientes da matriz de aloca\u00e7ca\u00e3o.................................. 72\n5.10\tFor\u00e7a de propuls\u00e3o................................................... 73\n5.11\tCoeficientes de Drag................................................. 76\n6.1\tComportamento do controlador PID face ao aumento do Kp, Ki, Kd. . . . 92\n7.1\tCa\u00e9lculos dos ganhos PID propostos por Ziegler-Nicholes............... 99\n7.2\tGanhos usados para o resultado da Figura 7.6.\t...................... 100\n7.3\tGanhos usados para o resultado da Figura 7.7.\t...................... 100\n8.1\tDescri\u00e7\u00e3o geral dos logs ...............................................117\n8.2\tDescric\u00e3o dos estados do VBS e v\u00e1lvulas.................................118\n8.3\tVolume de \u00e1gua durante os v\u00e1rios processos de mergulho..................121\n8.4\tTempos de encher/esvaziar tanque VBS....................................121\n8.5\tTempo de descida e subida do TURTLE.....................................123\n8.6\tVelocidade vertical m\u00e1xima..............................................124\n8.7\tDrift da posi\u00e7ao .......................................................128\nLista de Siglas e Acr\u00f4nimos\nAUV Autonomous Underwater Vehicles\nLSA Laborat\u00f3rio de Sistemas Aut\u00f4nomos\nSVL Sistema de Varia\u00e7\u00e3o de Lastro\nCPU Central Processing Unit\nDVL Doppler Velocity Log\nIMU Inertial Measerument Unit\nUSBL Ultra-Short BaseLine\nROV Remotely Operated Vehicles\nROS Robot Operating System\nUV Underwater Vehicle\nMUV Manned Underwater Vehicle\nURV Underwater Robotic Vehicle\nHURV Hybrid Underwater Robotic Vehicle\nWHOI Woods Hole Oceanographic Institution\nIFREMER Institut Fran\u00e7ais de Recherche pour \u00a1\u2019Exploitation de la Mer\nMBARI Monterey Bay Aquarium Research Institute\nPCM Phase Change Material\nECEF Earth-Centered Earth-Fixed\nLPT Local Plan Tangent\nLTP Local Tangent Plan\nNED North East Down\nENU East North Up\nJB Junction Box\nGNSS Global Navigation Sattelite System\nEKF Extended Kalman Filter\nAHRS Attitude and heading reference system\nCFD Computer Fluid Dynamics\nPID Proporcional Integrated Derivative\nVBS Variable Buoyancy System\nFOG Fiber Optic Gyros\nCap\u00edtulo 1\nIntrodu\u00e7\u00e3o\nO paradigma de Portugal em rela\u00e7\u00e3o ao mar, n\u00e3o \u00e9 apenas recordar uma na\u00e7\u00e3o de marinheiros, mas sim uma perspectiva de futuro sustent\u00e9vel como fator determinante nos recursos que o mar tem para oferecer. Os 70Z do planeta Terra que esta coberto de \u00e9gua, por si s\u00e9 representam um evidente manifesto de que tem que existir uma vis\u00e3o global na explora\u00e7ao do mar, nomeadamente do mar profundo [1]. Esta visao n\u00e3o pode estar apenas focada na explorac\u00e3o pontual de energia (oil &amp; gas), mas estender-se a todas as restantes \u00e9reas socio-econ\u00f4micas.\nA imensid\u00e3o, adversidade e complexidade da natureza oce\u00f4nica mudaram o padr\u00e3o na investiga\u00e7\u00e3o oceanogr\u00e9fica. Esta necessidade resultou num avan\u00e7o de tecnologias rob\u00f3ticas (AUV - Autonomous Underwater Vehicle e ROV - Remotely Operated underwater Vehicle) permitindo metodologias mais seguras, mais r\u00e9pidas e mais adequadas para o estudo e explora\u00e7\u00e3o dos oceanos. Contudo, para isto, os ve\u00edculos necessitam de estar dotados de capacidades de locomo\u00e7\u00e3o que permitem torna-los totalmente aut\u00e9nomos ou remotamente controlaveis. E neste ponto, do controlo da locomo\u00e7ao que incide esta dis-serta\u00e7ao, tendo por base um veiculo submarino rob\u00e9tico para o mar profundo, o lander rob\u00e9tico TURTLE.\nO TURTLE [2] \u00e9 um veiculo de opera\u00e7\u00e3o aut\u00e9noma com capacidade de mergulho ate 1000 metros de profundidade de uma forma energeticamente eficiente devido ao seu sistema de varia\u00e7\u00e3o de lastro. Pode permanecer no fundo oce\u00f4nico por longos per\u00edodos de tempo (meses) e realocar a sua posi\u00e7\u00e3o autonomamente servindo assim como observat\u00e9rio m\u00e9vel ou como meio de transporte de equipamento para o mar profundo. Este conceito requer menores requisitos log\u00e9sticos e operacionais face aos meios convencionais (e.g ROVs com grandes navios de apoio, ou solu\u00e7\u00f5es pouco flex\u00e9veis como landers classicos).\nAbordando mais especificamente o mar portugues, tendo em conta a proposta da\nextens\u00e3o da plataforma continental [3] e analisando as caracter\u00edsticas da mesma, verificase efetivamente a necessidade de apostar no desenvolvimento em sistemas m\u00f3veis como o TURTLE. Este ve\u00edculo podera incidir em diversas \u00f3reas de aplicac\u00e3o desde: investigac\u00e3o oceanogr\u00f3fica, monitorizac\u00e3o ambiental, vigil\u00e2ncia mar\u00edtima, transporte de cargas para grandes profundidades, aplica\u00e7\u00f5es no \u00e2mbito da defesa nacional e apoio a outros sistemas sub/aqu\u00f3ticos m\u00f3veis. Em todas as aplicac\u00e3es mencionadas anteriormente, o ve\u00edculo TURTLE necessita de um controlo robusto que lhe permite a execu\u00e7\u00e3o de manobras de uma forma eficaz. O ambiente aqu\u00f3tico \u00e9 adverso, bastante din\u00e2mico e n\u00e3o linear pelo que se torna importante o desenvolvimento m\u00edetodos de simula\u00e7c\u00e3ao deste tipo de ve\u00edculos, antes de realiza\u00e7ao de missoes no mundo real. l\u00ed neste conjunto alargado de necessidades que se insere esta disserta\u00e7ca\u00e3o de forma a que o TURTLE n\u00e3ao passe apenas por uma fase de projeto mas sim progrida para a procura de aplica\u00e7c\u00e3oes pra\u00edticas e que contribua para o desenvolvimento cient\u00edfico e econ\u00e2mico do pa\u00eds.\n1.1\tEnquadramento e motiva\u00e7\u00e3o\nO forte crescimento do Laborat\u00f3rio de Sistemas Aut\u00f3nomos (LSA) (Laborat\u00f3rio de Sistemas Aut\u00f3nomos)1 nos ultimos anos, tem levado \u00e0 participa\u00e7\u00e3o em diversos projetos relevantes na investiga\u00e7ao de rob\u00edtica aut\u00f3noma, nomeadamente na \u00e1rea maritima que possibilitou o desenvolvimento de ve\u00edculos de superficie e subaqu\u00edticos. O ROAZ [4] \u00ed um dos ve\u00edculos de superfice usados no LSA que tem como principal finalidade a realiza\u00e7ao de tarefas como busca e salvamento e batimetria do fundo oce\u00e2nico. O EVA, tambem desenvolvido integralmente no LSA no contexto do projeto VAMOS [5], [6], trata-se de um ve\u00edculo subaqu\u00edatico direcionado para o mapeamento e auxilio na explora\u00e7ca\u00e3o de minas inundadas. Estes dois ve\u00edculos pode ser visualizados na Figura 2.2.\nNa sequencia do projeto Autonoums Support System for Subsea Operations surgiu o veiculo TURTLE, que tem como principal objetivo atuar a grandes profundidades, com capacidade de realizar movimento de ascensa\u00e3o e imers\u00e3ao de forma energeticamente eficiente devido ao seu sistema de varia\u00e7\u00e3o de lastro. Possui tamb\u00edm quatro thrusters para auxilo ao movimento vertical e quatro para o movimento horizontal. Para o seu movimento \u00ede necess\u00edario um sistema de controlo que permite integrar o conjunto dos meios de locomo\u00e7\u00e3o (thrusters2 verticais, horizontais e VBS3). Desta forma surgiu o\n1\twww.lsa.isep.ipp.pt\n2\tThrusters de denominacao anglo-sax\u00f3nica, \u00e9 muitas vezes usado neste documento para designar o sistema de propuls\u00e3o do TURTLE.\n3Neste documento \u00e9 mencionado diversas vezes VBS ou sistema de variac\u00e3o de flutuabilidade, mas todos estes termos se referem ao sistema de varia\u00e7ao de lastro usado no ve\u00edculo TURTLE.\n(a) HROV EVA - VAMOS.\n(b) ASV ROAZ.\nFigura 1.1: Alguns rob\u00f4s aqu\u00e1ticos do Laboratorio de Sistemas Aut\u00f3nomos.\ntrabalho desta disserta\u00e7\u00e3o com o objetivo de desenvolver e validar o sistema de controlo e locumoc\u00e3o do TURTLE em ambiente real.\n1.2\tCen\u00e1rios de opera\u00e7\u00e3o\nO ve\u00e1culo TURTLE devido as suas potencialidades pode ser aplicado em diversos cenarios, tais como:\n\u2022\tEm aplica\u00e7\u00f5es civis o TURTLE pode ser usado como um equipamento para transporte de cargas para o fundo oceanico. Outra utilidade em que pode ser usado \u00e1 no apoio a outros sistemas m\u00f3veis, operando como sat\u00e1lite de posicionamento.\n\u2022\tRelativamente a aplica\u00e7\u00f5es militares pode ser usado como meio de defesa, sendo capaz de efetuar a monitoriza\u00e7\u00f5o do trafego mar\u00edtimo.\n\u2022\tPara aplica\u00e7\u00f5es cient\u00edficas, este ve\u00edculo \u00e1 capaz de efetuar as mais diversas miss\u00f5es de monitoriza\u00e7\u00f5o, desde temperatura, salinidade, registo de atividade s\u00edsmicas, etc. Pode tambem suportar diversos sensores de monitorizac\u00f5o ambiental (e.g MarinEye) [7] entre outros. Poder\u00e1 tamb\u00e1m, realizar mapeamento e batimetria de forma localizada quando necess\u00e1rio.\n1.3\tObjetivos\nOs objetivos que se pretendem alcancar com o desenvolvimento desta dissertac\u00f5o podem ser resumidos nos seguintes pontos:\n\u2022\tDesenvolver modelo din\u00e2mico do ve\u00edculo rob\u00f3tico TURTLE tendo em vista o seu controlo de profundidade;\n\u2022\tDesenvolver o sistema de controlo para o sistema de varia\u00e7\u00e3o de flutuabilidade;\n\u2022\tDesenvolver arquitectura de controlo para a locomo\u00e7\u00e3o do rob\u00e2 TURTLE;\n\u2022\tControlo de movimento do rob\u00e2 TURTLE no plano vertical usando o VBS;\n\u2022\tImplementac\u00e3o do modelo de simula\u00e7\u00e3o do ve\u00edculo;\n\u2022\tValidar sistema de locomo\u00e7\u00e3o em ambientes reais;\n\u2022\tCaracterizar desempenho do sistema de locomo\u00e7\u00e3o em ambiente real.\n1.4\tEstrutura do relat\u00f3rio\nEste documento est\u00f3 organizado em nove cap\u00edtulos. No primeiro cap\u00edtulo aborda-se de uma forma introdut\u00f3ria a contextualiza\u00e7ao do assunto desta disserta\u00e7\u00e3o assim como a sua motivacao. l\u00ed apresentado tambem um leque de cen\u00f3rios de aplica\u00e7ao para o ve\u00edculo TURTLE e tamb\u00edm sao estabelecidos os objetivos do trabalho.\nO segundo cap\u00edtulo diz respeito ao estudo preliminar de sistemas de varia\u00e7\u00e3o de flutuabilidade abordados na literatura atual, assim como alguns sistemas rob\u00edticos relacionados importantes na investiga\u00e7\u00e3o submarina.\nNo terceiro cap\u00edtulo exp\u00e3e-se alguns conhecimentos fundamentais na modeliza\u00e7\u00e3o de ve\u00edculos submarinos.\nRelativamente ao quarto cap\u00edtulo este descreve em detalhe o rob\u00e2 submarino TURTLE implementado.\nA modeliza\u00e7\u00e3o do ve\u00edculo TURTLE \u00e9 abordada no quinto cap\u00edtulo. Numa primeira fase determina-se o modelo geometrico do ve\u00edculo e posteriormente alguns coeficientes de for\u00e7as hidrodin\u00e2micas.\nNo cap\u00edtulo seis, \u00e9 apresentada a arquitetura de controlo do ve\u00edculo, assim como detalha varias manobras de controlo propostas para o mesmo. S\u00e3o tambem estudados fundamentos te\u00edricos do controlador PID.\nA simulac\u00e3o do ve\u00edculo est\u00ed exposta no cap\u00edtulo sete. Neste cap\u00edtulo \u00e9 apresentado o simulador desenvolvido, bem como os resultados obtidos ap\u00eds implementa\u00e7\u00e3o de controladores.\nNo cap\u00edtulo oito mostram-se os resultados adquiridos em ambiente real (mar), bem como e efetuado a an\u00edlise comparativa dos testes realizados.\nPor fim, no cap\u00edtulo 9 s\u00e3o apresentadas as conclus\u00f5es realizadas ap\u00f3s cuidada e sao expostas perspectivas de trabalho futuro.\numa ana\u00edlise\nEsta p\u00e1gina foi intencionalmente deixada em branco.\nCap\u00edtulo 2\nEstado da Arte\nO presente cap\u00e1tulo cont\u00e1m uma analise cr\u00e1tica do estado da arte tendo em vista o desenvolvimento de novas soluc\u00f5es para o controlo de profundidade para ve\u00e1culos rob\u00e1ticos para o mar profundo com particular aten\u00e7ao a sistemas de varia\u00e7ao de lastro. Perante isso, este cap\u00e1tulo ser\u00e1 dividido em duas partes. Numa primeira fase serao abordados diversos ve\u00e1culos para o mar profundo e que tiveram grande enfase na historia da robotica submarina. Numa segunda fase ser\u00e1 especificado alguns dos sistemas de varia\u00e7ao de lastro mais comuns, assim como algumas das suas particularidades.\n2.1\tVe\u00edculos roboticos para o mar profundo deep sea\nCom o interesse global na explora\u00e7\u00f5o das profundezas do oceano, por parte das mais diversas institui\u00e7\u00f5es (universidades, centros investiga\u00e7ao, entidades governamentais), surgiu uma consider\u00e1vel evolu\u00e7ao no desenvolvimento de sistemas subaqu\u00e1ticos [8]. Nos dias de hoje podemos encontrar sistemas sofisticados para lidar com as mais diversas operac\u00e7o\u00f5es desde, monitoriza\u00e7c\u00f5ao e recolha de dados das profundezas do oceano at\u00e1e a extra\u00e7ca\u00f5o de recursos naturais. Nesta sec\u00e7c\u00f5ao ser\u00f5ao abordados alguns desses sistemas que possuem sistemas de varia\u00e7c\u00f5ao de lastro como principal fonte de propuls\u00f5ao para movimento vertical na coluna de \u00e1agua.\n2.1.1\tCaracteriza\u00e7\u00e3o de ve\u00edculos submarinos\nAntes de abordar os ve\u00edculos subaquaticos mais influentes da hist\u00e1ria \u00e1 importante perceber que estes s\u00f5o caracterizados mediante algumas particularidades tais como: os\nmodos de opera\u00e7\u00e3o e os tipos de miss\u00f5es que podem executar. De uma forma generalizada pode-se utilizar a sigla Underwater Vehicle (UV) (Laborat\u00e1rio de Sistemas Autonomos)(Underwater Vehicle4) para descrever todo tipo de ve\u00e1culos submerg\u00e1veis. No entanto, podemos especificar estes ve\u00e1culos em subcategorias como mostra a Figura\n2.1.\nManned Underwater Vehicle\n\t\t\u2019\t(MUV)\nRemotly Operated Vehicle (ROV)\t\t\n\t\tUnderwater Robotic Vehicle\n\t\t(URV)\nFigura 2.1: Classifica\u00e7ao de ve\u00e1culos submarinos.\n\u2022\tMUV - Manned Underwater Vehicle\nForam os primeiros ve\u00e1culos submarinos que surgiram para colmatar a curiosidade do ser humano em conhecer presencialmente as profundezas do oceano. O interesse foi aumentando e estes ve\u00e1culos come\u00e7aram cada vez mais a ser usados para investiga\u00e7ao e exploracao de \u00e1guas profundas. Permitiram alem do piloto, transportar tambem bi\u00e1logos marinhos com o intuito de observarem o fundo do oceano, recolherem amostras atraves de manipuladores rob\u00e1ticos para posterior an\u00e1lise. Estima-se que atualmente existam cerca de uma centena de MUVs em opera\u00e7ao [9]. Com a evolu\u00e7ao da tecnologia e com a preocupa\u00e7\u00e3o de retirar o ser-humano dos perigos inerentes \u00e0 profundidade elevada, come\u00e7aram a surgir os URVs Underwater Robotic Vehicle, ou seja ve\u00e1culos n\u00e3o tripulados capazes de ser controlados a distancia.\nEstes ve\u00e1culos podem estar divididos em tr\u00eas categorias:\n\u2022\tURV - Underwater Robotic Vehicle\n- ROV - Remotely Operated Vehicle\nEstes ve\u00e1culos podem ser operados por um piloto que permanece numa esta\u00e7\u00e3o de controlo e que tem uma liga\u00e7\u00e3o f\u00e1sica (normalmente fibra \u00e1tica) com o ROV. Dependendo do seu equipamento, este tipo de ve\u00e1culos pode realizar\n4 Underwater Vehicle de denomina\u00e7\u00e3o anglo-sax\u00f3nica, \u00e9 muitas vezes usado neste documento para designar ve\u00e9culos submarinos.\num vasto n\u00famero de tarefas, desde inspe\u00e7\u00e3o visual, prote\u00e7\u00e3o ambiental e perfura\u00e7\u00e3o para offshores. l\u00ed de momento o ve\u00edculo mais utilizado para o trabalho mar\u00edtimo, em particular para opera\u00e7\u00e3es de interven\u00e7\u00e3es a grande profundidade. Segundo a Douglas-Westwood, empresa l\u00edder no ramo da energia, estima-se que mais de 1100 ROVs estejam vinculados \u00e0 industria submarina, sendo que 50% destes ve\u00edculos estejam ligados \u00e0 atividade de petr\u00f3leo e g\u00e1s.\n-\tAUV - Autonomous Underwater Vehicle\nS\u00e3ao ve\u00edculos em que a sua principal vantagem consiste em realizar tarefas autonomamente sem necessidade de interven\u00e7c\u00e3ao humana. O pro\u00edprio ve\u00edculo tem a capacidade de realizar miss\u00e3oes, tomar decis\u00e3oes e mudar os seus comportamentos de missa\u00e3o com base nos dados ambientais. Al\u00edem disso, uma outra vantagem refere-se ao facto de n\u00e3ao possuir qualquer cabo que possa interferir nas manobras executadas [10].\n-\tHURV - Hybrid Underwater Robotic Vehicle\nAo combinar as vantagens dos ROVs e dos AUVs, surgem ent\u00e3o os HURVs. Estes sao ve\u00edculos que tanto podem ser operados como AUVs, para uma explorac\u00e7\u00e3ao de uma \u00edarea mais alargada e posteriormente ser convertido em ROV para interven\u00e7\u00e3es mais precisas [11]. A grande vantagem dos HURVs e consequentemente dos ROVs, prende-se essencialmente na comunicac\u00e7\u00e3ao, uma vez que utiliza um cabo de fibra \u00edptica para comunica\u00e7\u00e3o com a esta\u00e7\u00e3o de controlo. Caso contrario, para comunica\u00e7\u00e3o no mar a longas distancias apenas \u00ed poss\u00edvel atrav\u00eds de modems acusticos estando limitado \u00e0 sua pequena largura de banda (na ordem dos Kbps) [12].\n2.1.2\tVe\u00edculos para o mar profundo\nO forte interesse nos recursos oce\u00e2nicos fez disparar meios capazes de monitorizar, inspecionar e explorar as profundezas do oceano. Este fasc\u00ednio refor\u00e7ou a necessidade de investir em tecnologia marinha, tendo esta um papel econ\u00edomico e cientifico fundamental da explora\u00e7ca\u00e3o do oceano. O resultado deste investimento surgiu na concepc\u00e7\u00e3ao de ve\u00edculos subaqu\u00edaticos e na conquista de novos horizontes e novos desafios devido aos recursos expressivos existentes no meio subaqu\u00edtico. Foram sem duvida muitos ve\u00edculos que fizeram e fazem parte deste crescimento, contudo o objetivo desde subcap\u00edtulo \u00ed abordar os principais ve\u00edculos/sistemas que tem por base no seu movimento na coluna de \u00edgua, sistemas de varia\u00e7\u00e3o de flutuabilidade e mencionar as suas principais caracter\u00edsticas. Um dos ve\u00edculos mais notaveis da investiga\u00e7ao submarina \u00e9 o submers\u00edvel ALVIN (MUV). Foi\ndesenvolvido em 1964 pela Woods Hole Oceanographic Institution (WHOI), nos Estados Unidos da America. J\u00e1 efetuou mais de 4600 mergulhos, levando mais de 13000 cientistas a profundidades do oceano [13]. Trata-se de um ve\u00e1culo que pesa cerca de 13.5 toneladas, permite ir a profundidades maximas de 6000 metros e com autonomia de 10 horas de operac\u00e3o. O sistema de varia\u00e7\u00e3o de flutuabilidade deste submers\u00e1vel \u00e9 feito atrav\u00e9s da varia\u00e7\u00e3o de volume. Existem 6 esferas resistentes \u00e0 press\u00e3o que possuem \u00e1leo no interior das mesmas, e para realizar a varia\u00e7\u00e3o a flutuabilidade do vefculo, esse mesmo \u00e1leo \u00e1 transferido para 2 tanques flex\u00e1veis atraves de uma bomba de alta pressao. A capacidade de varia\u00e7\u00e3o de flutuabilidade deste vefculo e de 272 kg. Incorpora tambem um outro sistema de varia\u00e7\u00e3o de flutuabilidade, para efetuar o trim do veiculo ate no maximo 25o [ ].\nOutros ve\u00edculos tripulados com refer\u00eancia na investiga\u00e7ao submarina, \u00e1 o caso do NAUTILE (MUV), desenvolvido pelo IFREMER - Institut fran\u00e7ais de recherche pour Sexploitation de la mer em 1984. Este submers\u00e1vel \u00e1 capaz de alcan\u00e7ar profundezas de 6000 metros, pesa 19,5 toneladas e com autonomia de 5 horas para miss\u00f5es de 6000 metros [15].\nJIAOLONG(MUV) foi o primeiro submers\u00e1vel desenvolvido na China, iniciando os seus primeiros testes em 2009. Tem capacidade de atingir 7000 metros de profundidade, pesa 22 toneladas e tem 12 horas de autonomia. A altera\u00e7\u00e3o de flutuabilidade deste vefculo faz-se atraves da varia\u00e7\u00e3o de peso [16]. Todos estes ve\u00edculos t\u00eam capacidade para transportar 3 elementos, sendo um o piloto e mais duas pessoas ligadas \u00e0 investiga\u00e7\u00e3o marinha.\nO VICTOR - IFREMER, \u00e1 um ROV dedicado \u00e0 investiga\u00e7\u00e3o do fundo do oceano. Pode ser instrumentado com diversos sensores para executar as mais diversas tarefas at\u00e1 6000 metros de profundidade. A varia\u00e7ao de flutuabilidade e feita atraves da varia\u00e7\u00e3o de peso. A capacidade do sistema de variac\u00e3o de lastro \u00e9 de 70 litros com um fluxo de 2 lpm a 600 bar. O peso total deste ve\u00e1culo \u00e1 de 6 toneladas. [17].\nOutro ROV relevante \u00e1 o TIBURON, desenvolvido pelo Monterey Bay Aquarium Research Institute (MBARI). Este ve\u00e1culo tamb\u00e1m usa um sistema de varia\u00e7\u00e3o de lastro recorrendo \u00e0 \u00e1gua ambiente para fazer o seu movimento vertical na coluna de \u00e1gua. A capacidade de varia\u00e7\u00e3o \u00e1 de 68 kg com um fluxo de 9.6 lpm. Este ve\u00e1culo tem um peso total de 3.4 toneladas. [18].\n(a) MUV ALVIN.\t(b) ROV NAUTILE.\n(c) ROV VICTOR.\t(d) ROV TIBURON.\nFigura 2.2: Alguns exemplos de ROVs e MUVs [19].\n2.2\tSistemas de varia\u00e7\u00e3o de lastro\n\u201cUm corpo mergulhado, total ou parcial num fluido, sofre por parte deste, uma forca ascendente, cuja intensidade \u00e9 igual ao peso do fluido deslocado pelo corpo\u201d ( Arquime-des (287 a.c.- 212 a.c.) ) [20].\nA altera\u00e7\u00e3o da flutuabilidade possibilita movimentar o ve\u00e9culo na coluna de \u00e9gua, sem recorrer a dispositivos de propulsao el\u00e9trica nomeadamente thrusters. Estes dispositivos de propuls\u00e3o requerem um custo energetico consideravel e a quantidade de energia dis-pon\u00e9vel no ve\u00e9culo, tem um efeito direto sobre as suas capacidades (principalmente em miss\u00e3oes deep sea). Outro aspeto importante, prende-se com o facto de a temperatura e a salinidade da a\u00e9gua alterar a sua densidade. Estas variac\u00e7\u00e3oes interferem diretamente na flutuabilidade do ve\u00edculo [21]. Atraves destas afirma\u00e7\u00e3es, refor\u00e7a-se pois a ideia de que os thrusters ter\u00e3ao que compensar este excesso ou diminui\u00e7c\u00e3ao de flutuabilidade e isto leva a custos energ\u00e9eticos consider\u00e9aveis. A solu\u00e7c\u00e3ao para este tipo de problemas passam por\nsistemas de variac\u00e3o de lastro VBS (Variable Buoyancy System)5. Com estes sistemas \u00e9 possivel variar a flutuabilidade do ve\u00edculo (positiva, negativa e neutra), de uma forma energeticamente eficiente (Figura 2.3 ).\nFigura 2.3: Modos de flutuabilidade.\nOs VBS t\u00eam nos ve\u00edculos submarinos duas fun\u00e7\u00f5es principais: permitir o\tdo\nve\u00edculo de forma a coloc\u00e1-lo neutro na profundidade de opera\u00e7ao e com equil\u00edbrio vertical do centro de impulsao e massa; e alterar significativamente a rela\u00e7\u00e3o impulsao/peso de forma a mergulhar ou emergir.\n2.2.1\tTipos de sistemas de varia\u00e7\u00e3o de lastro\nSegundo o autor do livro \u201dBuoyancy, Stability, and Ballast\u201d [22], o processo de ajuste de lastro consiste na mudan\u00e7a da flutuabilidade de um ve\u00edculo subaqu\u00e1tico. Pela literatura analisada, verifica-se que grande parte dos investigadores, dividem os sistemas de varia\u00e7\u00e3o de lastro em dois tipos: passivos e ativos.\n\u2022 Sistemas passivos\nSistemas passivos envolvem ajustes na flutuabilidade do ve\u00edculo antes de este executar a missao. Este ajuste e efetuado atrav\u00eds da coloca\u00e7\u00e3o ou retirada de pesos\n5VBS \u00e9 referido muitas vezes neste documento para designar o sistema de varia\u00e7\u00e3o de lastro do ve\u00edculo.\ndo ve\u00edculo de forma a obter a flutuabilidade desejada. Como este m\u00e9todo \u00e9 feito manualmente, nao \u00ed poss\u00edvel o ve\u00edculo mudar a sua flutuabilidade durante a sua miss\u00e3o.\n\u2022\tSistemas ativos\nOs sistemas ativos, ao contrario dos anteriormente referidos, podem alterar a flutuabilidade do ve\u00edculo durante a sua miss\u00e3o. Com estes sistemas \u00ed poss\u00edvel, em qualquer momento, mudar o centro de gravidade do ve\u00edculo e o seu centro de flutuabilidade. Este ajuste da flutuabilidade pode ser poss\u00edvel atrav\u00eds de tr\u00eas formas:\n\u2014 Descarga de massa - Esta \u00ed a forma mais simples e rudimentar de alterar a flutuabilidade do ve\u00edculo. Trata-se de um sistema que para variar a flutuabilidade de um ve\u00edculo liberta uma massa presa ao mesmo.\n- Variac\u00e3o de massa - Nestes sistemas a varia\u00e7\u00e3o de flutuabilidade recorre ao armazenamento de \u00e0gua ambiente no interior de um deposito. E poss\u00edvel em qualquer altura da missao variar a flutuabilidade do ve\u00edculo alterando a quantidade de \u00edgua existente no deposito [23].\n\u2014 Variac\u00e3o de volume - Relativamente \u00e0 varia\u00e7\u00e3o do volume, este tipicamente \u00e9 feito recorrendo a um flu\u00eddo (normalmente \u00edleo), que se desloca de um tanque r\u00edgido pressurizado para uma membrana flex\u00edvel que se encontra no exterior do ve\u00edculo. O oleo ao ocupar a membrana aumenta o volume total do ve\u00edculo alterando a flutuabilidade do ve\u00edculo [24]. Desta forma o peso total do ve\u00edculo permanece inalterado e apenas \u00e9 ajustado o seu volume.\n2.2.2\tMecanismos de varia\u00e7\u00e3o de lastro\nNa secc\u00e3o 2.2.1, foram abordados os tipos de sistema de varia\u00e7ao de flutuabilidade. Contudo para obter estas varia\u00e7\u00f5es existem diversos mecanismos que poder\u00e3o ser utilizados mediante os requisitos a que estes est\u00e3o sujeitos. Face ao estado da arte estudado, nesta sec\u00e7\u00e3o ser\u00e3o abordados esses mecanismos de varia\u00e7\u00e3o de lastro, as suas principais caracter\u00edsticas e o desempenho dos mesmos. Simultaneamente ser\u00ed feita uma cr\u00edtica sobre os mesmos de forma a diferencia-los entre si, e com isso, adquirir conhecimento para projetar um sistema de varia\u00e7\u00e3o de lastro mais completo, mediante os requisitos propostos.\n\u2022\tSistema descarga de massa\nUma das formas mais simples de ajustar a flutuabilidade de um ve\u00edculo \u00e1 atraves da liberta\u00e7\u00e3o de uma massa presa ao mesmo. Estes sistemas sao acionados quando o veiculo atinge a profundidade desejada. Trata-se de um sistema bastante rudimentar, uma vez que depois ser acionado, a sua reutiliza\u00e7ao n\u00e3o \u00e9 poss\u00edvel. Sendo estes sistemas de elevada simplicidade e fiabilidade podem ser utilizados em situa\u00e7\u00f5es de emerg\u00eancia ou onde \u00e1 necess\u00e1rio uma maior velocidade de desloca\u00e7\u00e3o na coluna de \u00e1gua. Em termos de miss\u00e3o apenas podem ser utilizados para iniciar a ascensao na coluna de \u00e1gua possuindo fortes limita\u00e7oes j\u00e1 referidas.\n\u2022 Sistema de membrana expans\u00edvel\nTipicamente estes mecanismos utilizam a movimenta\u00e7\u00e3o do \u00f3leo num circuito fechado para fazer a altera\u00e7\u00e3o do volume (Figura 2.4). Para aumentar a flutuabilidade do ve\u00edculo o \u00e1leo \u00e1 movimentado do interior do ve\u00edculo para uma membrana flex\u00edvel instalada no exterior do mesmo. A medida que a membrana se expande, aumenta o volume total do veiculo provocando uma flutuabilidade positiva. Para diminuir a flutuabilidade, o oleo \u00e9 transferido novamente para o tanque r\u00edgido, diminuindo o volume da membrana. Em todo este processo, a massa total do veiculo permanece inalterada, apenas existe varia\u00e7\u00e3o de volume. V\u00e1rios s\u00e3o os autores [25], [26] que utilizam este tipo de sistemas nos seus projetos de ve\u00edculos submers\u00edveis. Repetibilidade e fiabilidade s\u00e3o os principais benef\u00edcios deste sistema, por\u00e1m destacam-se tamb\u00e1m pela elimina\u00e7\u00e3o do risco de entupimento ou outro tipo de contaminac\u00f5es provocados pela \u00e1gua ou sedimentos. Este sistemas s\u00e3o frequentemente utilizados para ve\u00edculos que n\u00e3o exigem grandes varia\u00e7\u00e3es de flutuabilidade (<20 litros), uma vez que o sistema cresce a medida que aumenta a varia\u00e7ao de flutuabilidade. As dimens\u00e3es do sistema s\u00e3o proporcionais face ao volume variado. Este tipo de sistemas s\u00e3o frequentemente utilizados em ve\u00edculos glider para pequeno volume de varia\u00e7\u00e3o [27].\nFigura 2.4: Sistema de membrana extens\u00e1vel usando \u00e1leo [28].\n\u2022 Sistema varia\u00e7\u00e3o de lastro pneum\u00e1tico\nOs autores em [29], [30], [31] abordam um sistema de varia\u00e7\u00f5o de lastro, que recorre a um mecanismo de ar comprimido (Figura 2.5). Neste caso o sistema recorre a inje\u00e7\u00f5o de ar comprimido para o tanque de lastro para aumentar a flutuabilidade do sistema. No caso em que seja requerido diminuir a flutuabilidade \u00e1 libertado o ar armazenado dentro do tanque de lastro. Tipicamente estes sistemas recorrem a ar comprimido que \u00e9 previamente armazenado no sistema.\nA opera\u00e7\u00f5o dos mesmos \u00e9 restringida quer pela quantidade de ar comprimido armazenada, sendo que o controlo dever\u00e1 ser primoroso, de forma a n\u00f5o desperdi\u00e7ar o ar armazenado; quer pela pressao de ar comprimido dispon\u00e1vel no sistema de armazenamento, visto que este deve de ser superior a press\u00f5o exterior, de forma a ser poss\u00e1vel a evacua\u00e7\u00f5o de ar dos reservat\u00f3rios de lastro. Estas desvantagens tornam estes sistemas limitados em termos de transic\u00f5es de flutuabilidade e invi\u00e1veis para miss\u00f5es de longo prazo. Porem o recurso a estes sistemas permite r\u00e1pidas va-riac\u00f5es de flutuabilidade e tamb\u00e1m ser utilizado em complementariedade noutros mecanismos de variac\u00f5o de flutuabilidade com o objetivo de aumentar a efici\u00eancia energ\u00e1tica e mec\u00eanica [32], [28]. Estes mecanismo tem como base sistemas similares utilizados em submarinos tripulados.\nC ompressed air tank Vt\u00ed tank\nFigura 2.5: Sistema usando ar comprimido [29].\n\u2022 Sistema de varia\u00e7\u00e3o de flutuabilidade mec\u00e2nico/pist\u00e3o\nUm outro mecanismo usado para fazer a variac\u00e3o de flutuabilidade, recorre \u00e0 atua\u00e7\u00e3o de um veio que por sua vez desloca um embolo de forma a introduzir e retirar agua para uma c\u00e2mara, fazendo com que altere o volume global do ve\u00edculo e consequetemente a sua flutuabilidade [32] (Figura 2.6). A vantagem deste tipo de mecanismo consiste na redu\u00e7ao do risco de forma\u00e7\u00e3es de bolhas de ar que \u00e9 prop\u00edcio nas bombas hidr\u00e1ulicas. Uma caracter\u00edstica deste mecanismos \u00e9 que \u00e9 frequentemente utilziado para pequenas variac\u00e3es (entre um e tres litros) pois, o tamanho do sistema cresce proporcionalmente com a varia\u00e7\u00e3o de flutuabilidade o que poder\u00e9 ser eventualmente uma limita\u00e7ao. Este mecanismo tanto pode ser usado para varia\u00e7\u00e3es de flutuabilidade atraves do volume ou de peso. O autor [33], utiliza este principio de funcionamento, mas aplicado a uma esfera, em que altera a flutuabilidade atrav\u00e9s do peso. No caso do autor [34], utiliza este mecanismo mas com recurso a um fole met\u00e9lico flex\u00e9vel, realizando assim a altera\u00e7\u00e3o de flutuabilidade atraves do volume. Para aumentar a eficiencia deste mecanismo o autor [32] usa ar comprimido de forma a auxiliar o movimento do pist\u00e3o na ejec\u00e3o da \u00e9gua. Esta implementa\u00e7\u00e3o pode reduzir assim o custo energ\u00e9tico em 45%.\n(a) Sistema ar comprimido e pist\u00e3o.\nFigura 2.6: Exemplos de sistemas com pist\u00e3o. [32]\n\u2022 Sistema de varia\u00e7\u00e3o de lastro hidr\u00e1ulico\nEstes sistemas de varia\u00e7\u00e3o de lastro s\u00e3o dos mecanismos mais comuns na literatura atual devido \u00e0 flexibilidade de controlo e tamb\u00e9m pelo facto de conceder uma ampla gama de par\u00e2metros relevantes para uma s\u00e9rie de ve\u00edculos [35]. Frequentemente estes sistemas operam com recurso \u00e0 varia\u00e7\u00e3o da quantidade de \u00e9gua armazenada no tanque de lastro atraves de um sistema de bombeamento hidr\u00e9ulico. A altera\u00e7\u00e3o de flutuabilidade \u00e9 obtida atraves da varia\u00e7\u00e3o da quantidade de \u00e9gua armazenada dentro do tanque. O volume total do ve\u00edculo permanece inalterado, alterando apenas a massa do mesmo.\nFigura 2.7: Sistemas de varia\u00e7ao usando \u00edgua do mar [28].\nComparando este sistema, ao sistema tradicional de movimenta\u00e7\u00e3o de \u00e9leo as seguintes vantagens s\u00e3o consideradas [36]:\n-\tInexist\u00e2ncia de contamina\u00e7\u00e3o por fuga uma vez que, o flu\u00eddo \u00e9 a pr\u00e9pria \u00e9gua do mar;\n-\tMenor peso, porque n\u00e3o existe necessidade de manter sempre o l\u00e9quido dentro do reservat\u00f3rio;\n-\tMaior capacidade de flutuabilidade;\n- Escabilidade dado que a mesma bomba pode ser utilizada com diferentes reservat\u00f3rios de diferentes dimens\u00f5es.\nDevido a estes sistemas proporcionarem grande varia\u00e7ao de flutuabilidade (>50 litros), s\u00e3o frequentemente utilizados em ve\u00edculos de grandes dimensoes, sejam eles tripulados ou n\u00e3o, [21], [37]. Tal como se pode verificar em [38], observase que existe uma constante investigac\u00e3o neste tipo de mecanismos, de forma a encontrar novas solu\u00e7oes, para permitir levar ve\u00edculos subaqut\u00e1ticos a elevadas profundidades.\n\u2022 Phase Change Material\nEstes sistemas diferenciam-se dos demais mencionados, devido \u00e0 inten\u00e7ao de aproveitar a energia da diferenca termica entre a profundidade do oceano e a sua superf\u00edcie. A forma de captar essa energia \u00e1 na utiliza\u00e7\u00e3o de materiais mudan\u00e7a de fase (PCM - Phase Change Materiais). Estes materiais t\u00eam como principal caracter\u00edstica o armazenamento e libertac\u00e3o de energia termica durante o processo de fus\u00e3o e solidifica\u00e7ao. Ao descer na coluna de agua, a temperatura da \u00e1gua envolvente diminui e com isso o PCM liberta calor e transita da sua fase liquida para a s\u00e1lida. No sentido inverso, a temperatura da \u00e1gua aumenta, o que faz com que o PCM absolva calor, regresse \u00e0 fase liquida e na mudan\u00e7a de fase dilate a mesma proporcao em que havia encolhido. E a partir desta varia\u00e7\u00e3o volumetrica do PCM que se produz a energia necess\u00e1ria a mudan\u00e7a de flutuabilidade do ve\u00e1culo [39]. Um dos prot\u00e1tipos desenvolvidos que usam este sistema de varia\u00e7\u00e3o de flutuabilidade e o SLOCUM THERMAL [40]. Contudo os autores deste prot\u00e1tipo evidenciam ainda algumas dificuldades tanto na eficiencia do processo como tamb\u00e9m no controlo de estabilidade do ve\u00e1culo. A principal limita\u00e7\u00e3o deste tipo de sistemas incide no volume de varia\u00e7\u00e3o que \u00e9 relativamente pequeno.\nFigura 2.8: Sistema termal [40].\nCap\u00edtulo 3\nModeliza\u00e7\u00e3o de ve\u00edculos submarinos\nPretende-se neste capitulo abordar os conceitos de modela\u00e7\u00e3o de ve\u00edculos subaqu\u00e1ticos com seis graus de liberdade.\n3.1\tReferenciais\nA caracteriza\u00e7ao de referencial refere-se a um sistema de coordenadas, em que \u00e9 poss\u00edvel representar gradezas f\u00edsicas, como posic\u00e3es, velocidades, acelera\u00e7\u00e3es entre outras. Estas grandezas f\u00edsicas sao provenientes de diversos sensores que fornecem dados em diferentes referenciais e que posteriormente s\u00e3o sujeitos a transforma\u00e7\u00e3es de coordenadas para um unico referencial. Entre os varios sistemas referenciais usados na rob\u00e1tica marinha destacam-se os seguintes:\n\u2022\tReferencial Inercial\nUm referencia inercial pode ser definido como sendo uma referencia para o qual se cumpre o movimento linear. A origem do sistema de coordenadas inercial (x\\y\\zz), e arbitr\u00e1ria e os eixos de coordenadas podem apontar em qualquer das tr\u00eas dire\u00e7\u00e3es perpendiculares. O centro de gravidade da Terra \u00e9 a origem deste referencial, o eixo x1 aponta na direc\u00e3o do ponto vernal (determinado pela posi\u00e7ao do sol), o eixo z1 paralelo ao eixo de rota\u00e7ao da Terra, quanto ao eixo yz este est\u00e1 definido pela regra da m\u00e3o-direita (ver Figura 3.1).\n\u2022\tReferencial ECEF\nO referencial terrestre convencional \u00e1 um sistema de coordenadas cartesiano (xe, ye, ze) do tipo ECEF, acr\u00eanimo de earth-centered earth-fixed. A sua origem \u00e1 no centro de massa da Terra, o eixo xe passa pelo cruzamento entre a linha do equador e o meridiano de Greenwich, o eixo ze paralelo ao eixo de rota\u00e7\u00e3o da Terra e por fim o eixo ye definido assim como o anterior (inercial) pela regra da m\u00e3o-direita do sistema de coordenadas ortogonais.\n\u2022\tReferencial Local\nUm referencial local (xl,yl,zl), tamb\u00e1m designado por LTP (Local Tangent Plan), consiste numa superf\u00e1cie plana tangencial num ponto na Terra onde decorre a navega\u00e7\u00e3o. Os referenciais locais mais utilizados s\u00e3o NED (North-East-Down) e ENU(East-North-Up). O referencial NED \u00e9 mais utilizado para ve\u00e1culos a\u00e1reos e subaquaticos e ENU para ve\u00e1culos terrestres. No caso do NED, o eixo xl aponta para Norte, o eixo yl para Este e zl para o centro da Terra. No caso do ENU, xl aponta para Este, yl para Norte e zl para cima. A origem destes dois referenciais (NED e ENU) pode ser estabelecida em qualquer ponto do globo. Na Figura 3.2 pode-se visualizar o referencial NED em rela\u00e7\u00e3o ao ECEF.\n\u2022\tReferencial do Corpo\nO referencial do corpo, cont\u00e1m normalmente os seus eixos (xb, yb, zb) coincidentes com o do ve\u00e1culo, sendo este o referencial base para todos os sensores inerciais. Geralmente xb aponta para a frente do ve\u00e1culo, yb para a direita e zb para baixo.\nEquator\nPrime Meridian\ny=East\nz=-Normal (Down)\nFigura 3.2: Referencial NED em rela\u00e7\u00e3o ao referencial ECEF [41].\nA orienta\u00e7ao pode ser expressa em angulos de Euler em que a rotac\u00e3o em torno de xl \u00e9 designado por roll, em torno de yb, pitch em torno de zb, yaw. Relativamente ao movimento, nos ve\u00edculos aquaticos, surge representa o movimento longitudinal, sway o transversal e heave o movimento vertical.\n3.1.1\tSistemas de coordenadas\nNa representa\u00e7\u00e3o da dinamica de ve\u00e9culos submarinos \u00e9 comum usar dois sistemas de referenciais distintos: um referencial inercial e o referencial do corpo. O sistema de coordenadas do corpo, tambem chamado sistema de coordenadas m\u00e9vel \u00e9 constitu\u00eddo por {Xo, Yo, Zo}. A origem deste sistema de coordenadas, usualmente \u00e9 escolhida mediante o centro de gravidade do ve\u00edculo. Podera ser escolhido qualquer outro ponto, contudo \u00e9 aconselhado que seja no seu plano de simetria. Para ve\u00edculos aquaticos as suas acelerac\u00e3es num ponto da Terra podem ser desprezados, uma vez que o movimento da Terra n\u00e3o afeta ve\u00edculos com baixa velocidade. Desta forma o referencial {X, Y, Z}, e assumido como referencial inercial, uma vez que se trata de um ponto fixo na Terra. Na Figura 3.3, pode ser visualizado o sistema de coordenadas usados em ve\u00edculos subaqu\u00e9aticos. A posic\u00e7\u00e3ao e orienta\u00e7ca\u00e3o de ve\u00e9culos submarinos \u00e9e expressa relativamente ao referencial inercial, enquanto que as velocidades lineares e angulares sa\u00e3o relativas ao referencial do corpo.\n\u2022 Sistema inercial (fixo \u00e0 Terra):\n-\tO: Origem do sistema de coordenadas inercial;\n-\tX: Eixo longitudinal absoluto;\n-\tY: Eixo transversal absoluto;\n-\tZ: Eixo vertical absoluto.\n\u2022 Sistema do corpo, movel (fixo ao corpo)\n-\tOo: Origem do sistema de coordenadas movel;\n-\tX: Eixo longitudinal, positivo a frente do ve\u00edculo;\n-\tY: Eixo transversal, positivo \u00e0 direita do ve\u00edculo;\n-\tZ: Eixo vertical, positivo para baixo do ve\u00edculo.\nComo mencionado anteriormente dois sistemas de referenciais (corpo e inercial) s\u00e3o usados para relacionar as grandezas f\u00edsicas associadas ao veiculo, e com isso caracterizar o seu movimento. Estas grandezas correspondem aos seis graus de liberdade do ve\u00edculo e que est\u00e3o descritas na tabela 3.1.\nTabela 3.1: Notac\u00e3o dos seis graus de liberdade\nDOF\tFor\u00e7as e Momentos\t\tVelocidades linear e angular\tPosi\u00e7\u00e3o e angulos Euler\n1\ttrans. na dire\u00e7\u00e3o x (surge)\tX\tu\tx\n2\ttrans. na direc\u00e3o y (sway)\tY\tv\ty\n3\ttrans. na dire\u00e7\u00e3o z (heave)\tZ\tw\tz\n4\trot. em torno de x (roll)\tK\tP\t0\n5\trot. em torno de y (picth)\tM\tq\te\n6\trot. em torno de z (yaw)\tN\tr\t\nBaseado na nomenclatura SNAME(1950), o movimento de um ve\u00edculo subaqu\u00e1tico \u00e9 descrito pelos seguintes vetores:\nn = [nT, nT] ; ni = [x y, ; n = [0, e,\t(3.i)\nv =\tv',\tVf!\t; Vi =\t\\u,\tv, W\t; v2\t=\t\\p,\tq, r|\t(3.2)\nReferencial inercial - fixo \u00e0 terra\n\n\nFigura 3.3: Referential inercialearth frame e do corpo body frame.\nt = [rf, t^T ; ti = [x, Y, z]T; T = [k, M,\t(3.3)\nSendo que n1 representa a posi\u00e7\u00e3o e n2 a orienta\u00e7\u00e3o do veiculo relativamente ao referencial inercial. v1 e v2, sao velocidades lineares e angular, respetivamente, no referencial do corpo. r1 representa o vetor de forcas assim como r2 representa os vetor de momentos exercidos sobre o corpo.\n3.1.2\t\u00c2ngulos Euler\nExiste v\u00e1rias formas de representar a orientac\u00e3o (n2) do ve\u00edculo, seja atrav\u00e9s do angulos Euler ou de quaternioes. Nesta disserta\u00e7\u00e3o sao utilizados os angulos de Euler uma vez que o problema da singularidade para valores de pitch e roll n\u00e3o se levanta para o\nve\u00edculo TURTLE, sendo esta representacao mais intuitiva de que alternativas como os quaternioes. Como visto anteriormente a orientac\u00f5o \u00e1 descrita em tres \u00eangulos, um por cada eixo de um plano cartesiano (x,y,z), sendo denominado por roll (f), pith (0), yaw (f), respetivamente. Embora a interpreta\u00e7ao f\u00edsica dos \u00eangulos de Euler seja direta, esta representacao apresenta singularidades para 0 = \u00b190Q, sendo pass\u00e1vel das seguintes restri\u00e7\u00f5es:\n- 90\u00b0 &lt;0 &lt;+90\u00b0\t(3.4)\ne\n- 180\u00b0&lt;f,f&lt;+180\t(3.5)\nNo entanto, na maioria dos casos pr\u00e1ticos de opera\u00e7oes com ve\u00e1culos submarinos, a regi\u00f5o pr\u00f3xima dos valores que apresentam singularidades \u00e9 improvavel de ser atingida. Uma das formas de ultrapassar esta restri\u00e7\u00f5o \u00e1 recorrer ao m\u00e1todo de quaterni\u00f5es ou par\u00eametros de Rodriguez cujo custo computacional \u00e1 mais reduzido mas torna a per-cep\u00e7ao da orientac\u00f5o do ve\u00e1culo menos intuitiva [42].\nA trajetoria do ve\u00e1culo em rela\u00e7\u00f5o ao sistema de coordenadas inercial \u00e1 obtida pela transforma\u00e7\u00f5o da velocidade, juntamente com os \u00eangulos de Euler (n2) do ve\u00e1culo.\nEsta transforma\u00e7\u00f5o \u00e1 expressa por:\n= Ji (n2 )vi\nInversamente a velocidade \u00f3 obtida por:\nvi = J11(n2)n'i\n(3.6)\n(3.7)\nAs matrizes que correspondem aos respetivos \u00e2ngulos de Euler s\u00e3o definidas por:\nA rota\u00e7ao em torno do eixo X (^) \u00e9 expressa matematicamente atrav\u00e9s da seguinte matriz:\n\t'1\t0\t0\t\nRx(f) =\t0 c\tos f\tsin f\t(3.8)\n\to -\tsin f\tcos f\t\nEm torno do eixo Y (0):\t\t\t\t\n\tcos 0\t0\t- sin 0\t\nRy (0) =\t0\t1\t0\t(3.9)\n\tsin 0\t0\tcos 0\t\nEm torno do eixo Z (f):\ncos f\n\u2014 sin f\n0\nR (f) =\nsin f 0 cos f 0\n0 1\n(3.10)\nTransforma\u00e7\u00e3o da velocidade linear\nDado que as velocidades de transla\u00e7\u00e3o (v1 = [u, v,w]T) s\u00e3o dados no referencial m\u00f3vel (fixo ao ve\u00edculo), estas devem de ser referenciadas em rela\u00e7ao ao sistema de coordenadas global (sistema fixo). Na express\u00e3o 3.6, J1(p2) representa a matriz de transforma\u00e7\u00e3o obtida pela sequencia da rota\u00e7\u00e3o dos \u00e2ngulos de Euler.\nJi(ns) = Ji(f,^3f) = RzT ,-fRyT ,0RxT ,f\t(3.11)\nSubstituindo as matrizes 3.10, 3.9, 3.8, em 3.11, obtem-se a matriz de transforma\u00e7\u00e3o entre referenciais (m\u00f3vel e fixo):\nJi(n2) =\ncos f cos 0\nsin f cos 0\n\u2014 sin 0\n\u2014 sin f cos f + cos f sin 0 sin f cos f cos f + sin f sin 0 sin f cos 0 sin f\nsin f sin f + cos f cos f sin 0 \u2014 cos f sin f + sin 0 sin f cos f\ncos 0 cos f\n(3.12)\nDado que as matrizes de transforma\u00e7c\u00e3ao s\u00e3ao obtidas por operac\u00e7\u00e3oes que envolvem\nproduto das matrizes de rota\u00e7c\u00e3ao, sendo esta uma opera\u00e7c\u00e3ao na\u00e3o comutativa, a sequ\u00e2encia\nescolhida para as rotac\u00e3es influenciam o resultado final.\nUma das propriedades da matriz de transformac\u00e3o J1(p2), \u00f3 o facto de ser ortogonal, logo:\nJ 1(n2) =\t(n2) = Rx,fRy,0Rz,f\n(3.13)\nTransforma\u00e7\u00e3o da velocidade angular\nAssim como as velocidades de transla\u00e7ao, as velocidades angulares (v2 = [p, q,r]T) tamb\u00f3em sa\u00e3o referidas ao sistema m\u00f3ovel.\nA transforma\u00e7\u00e3o da velocidade angular (p2) e (v2), entre os dois sistemas de coordenadas \u00f3e obtida de acordo com:\nn\u20192 = J2(n2)v2\n(3.14)\nA orientac\u00e7\u00e3ao do sistema referencial do corpo com respeito ao sistema inercial \u00ede dado\npor:\n\t\t\t0\nV2 =\t0\t+ Rx, i\t0\n\t0\t\t0\n+ Rx, $Ry, 0\n0\n0\n(3.15)\nReescrevendo a express\u00e3o anterior (3.15) sob a forma v2 = J- 1n\"2, obtem-se:\n\t1\t0\t\u2014 sin(0)\nJ2 1(R2) =\t0\tcos(i)\tcos(0) sin(i)\n\t0\t\u2014 sin(i)\tcos(0) cos(i)\n(3.16)\nNote-se J- 1 = J. A matriz de transformacao dos vetores angulares \u00e9 dada por:\n\t1\tsin(i) tan(0)\tcos(i) tan(0)\t\nJ2(n2) =\t0\tcos(i)\t\u2014 sin(i)\t(3.17)\n\t0\tsin(i)/cos(0)\tcos(i)/cos(0)\t\nDe uma forma generalizada, para ve\u00edculos com seis graus de liberdade pode-se escrever a transforma\u00e7c\u00e3oes abordadas anteriormente da seguinte forma:\nm\nn-2\nJ1(R2)\nO3\nO3\nJ2 (n2)\n\tV1\n\tV2\no tf = J (n2 )v\n(3.18)\n3.2\tDinamica de um corpo r\u00edgido\nA caracteriza\u00e7ca\u00e3o da din\u00e2amica consiste em obter um modelo de movimento atendendo a forcas e momentos a que um corpo r\u00edgido esta sujeito. E admitido um corpo r\u00edgido como constitu\u00eddo por um nu\u00edmero finito de part\u00edculas. A din\u00e2amica de um corpo r\u00edgido pode ser obtida aplicando a segunda lei de Newton, que relaciona a acelera\u00e7\u00e3o de um corpo r\u00edgido com as for\u00e7as que nele atuam. Isto \u00e9, um corpo em repouso tende a movimentar-se apenas se uma forc\u00e7a lhe for aplicada. No caso contr\u00edario, um corpo em movimento atingir\u00eda o estado de repouso apenas se uma for\u00e7ca no sentido contr\u00edario ao seu movimento lhe for aplicada. A segunda lei de Newton \u00ede descrita da seguinte forma:\nmrji = t\t(3.19)\nNa equacao 3.19, m representa a massa total do corpo, rji a aceleracao resultante\nda atua\u00e7\u00e3o de todos os esfor\u00e7os externos t. A Figura 3.4 representa o movimento geral de um corpo r\u00edgido (transla\u00e7\u00e3o e rota\u00e7\u00e3o) relativo ao sistema de coordenadas inercial (X,Y,Z), apresentando-se tamb\u00e9m o sistema de coordenadas movel (Xo,Yo,Zo), associado ao corpo.\nFigura 3.4: Representa\u00e7\u00e3o do sistema de coordenadas inercial e m\u00f3vel de um corpo r\u00edgido [ 13].\nPelo facto do ve\u00edculo submarino possuir dimens\u00e3es nao negligenci\u00e9veis, a sua massa nao est\u00e9 concentrada em um unico ponto mas sim distribu\u00edda pela sua estrutura, desta forma deve ser considerado um corpo r\u00edgido. A representa\u00e7\u00e3o da din\u00e2mica para um corpo r\u00edgido possui termos adicionais em relac\u00e3o \u00e0 din\u00e2mica do ponto material que est\u00e3o relacionados com o movimento de rota\u00e7\u00e3o do corpo em torno dos seus eixos. Estes termos adicionais correspondem a for\u00e7a centr\u00edpeta e \u00e0 for\u00e7a de Coriolis. Para fins de controlo \u00ed conveniente escrever as equa\u00e7\u00f5es da dinamica do movimento do corpo r\u00edgido segundo uma parametriza\u00e7ao no sistema de coordenadas m\u00edvel, visto a ac\u00e3o dos agentes externos e a inercia do ve\u00edculo serem constantes em rela\u00e7\u00e3o a este referencial.\n3.2.1\tMovimento de transla\u00e7\u00e3o\nBaseado na literatura [43], a equa\u00e7\u00e3o do movimento de transla\u00e7\u00e3o e dada da seguinte express\u00e3o:\nm(vB + wb * vb + wb * rcM + wb * (w * rcc))\t^2 fext\t(3-20)\nem que:\n\u2022\tvb = n'i \u00e9 a velocidade da origem do referencial fixo ao corpo em relac\u00e3o ao referencial inercial;\n\u2022\tv'b = v\\ \u00e9 a derivada em ordem ao tempo da velocidade no referencial fixo ao corpo;\n\u2022\twb = v2 e a velocidade angular segundo cada eixo do referencial fixo ao corpo;\n\u2022\trCG = (XCG, Ycg, ZCG)T \u00e9 a posi\u00e7ao do centro de gravidade do corpo;\n\u2022\tE fext = (E Xext, E Yext, E Zext)T \u00e9 a soma das forcas externas que atuam no corpo.\n3.2.2\tMovimento de rota\u00e7\u00e3o\nRelativamente ao momento angular este \u00e1 dado pela seguinte expressao:\nmrG * Vo + mrG * (wb * vB) + IBwb + wb * (Ibwb)\tmext\t(3.21)\nem que: E mext = (E Kext,^2 Mext,^2 Next)T \u00e1 a soma dos momentos exercidos no corpo e IB G R3*3 o tensor de in\u00e1rcia dado por:\n\tIxX\tIxy\tI-Z\nIb =\tIxy\tIyy\t~!yz\n\t_ Ixz\t-Iyz\tIzz\n(3.22)\nIx, IyeIz sao momentos de inercia em torno de Xo, Yo, Zo e Ixy = Iyx, Ixz = IzxeIyz =\nIzy s\u00e3o produtos de inercia definidos como:\n\u00edxx\nlyy\nIzz\n\u2014 \u00ed(y2\nJ v\n= /(x2\nJ v\n= /(x2\nJv\nIxy \u2014\n+ z2)pb dV;\nIxz\n+ y2)pB dV;\n/ xypBdV;\nJv\n/ xzpBdV;\nJv\nIyz \u2014 yzpB dV;\nJv\n(3.23)\n+ z2)pb dV;\ncom pB densidade da massa do corpo e V o seu volume.\nAs equa\u00e7\u00f5es 3.20 e 3.21 relativas a um corpo rigido de seis graus de liberdade podem ser reescritas de acordo com a notac\u00f5o de (SNAME 1950):\n\u2022\t52 fext \u2014 t1 \u2014 [X, Y, Z]T forcas externas;\n\u2022\t52 mext \u2014 t2 \u2014 [K, M,N]T momentos externos;\n\u2022\tvo \u2014 v1 \u2014 [u,v,w]T velocidade linear;\n\u2022\tw \u2014 v2 \u2014 [p, q, r]T velocidade angular;\n\u2022\trG \u2014 [XG, Yg, Zg]t centro de gravidade;\nDecompondo as for\u00e7as segundo os eixos cartesianos do referencial do corpo, obt\u00e9m-se as seguintes equa\u00e7\u00f5es relativamente ao movimento de transla\u00e7\u00e3o :\nm[U - vr + wq - Xco(q2 + r2) + Yco(pq - r) + Zco(pr + q)] \u2014 X;\nm[v - wp + ur - Yco(r2 + p2) + Zco(qr - p) + Xcg(qp + r)] \u2014 Y;\t(3.24)\nm[W - uq + vp - Zcg(p2 + q2) + XcG(rp - q) + YcG(rq + p)] \u2014 Z;\nRelativamente aos momentos sobre o corpo em cada eixo de rota\u00e7\u00e3o no seu referencial, o movimento de rota\u00e7\u00e3o \u00e9 dado pelas seguintes equac\u00e3es:\nIxp + (Iz - Iy)qr - (r + pq)Ixz + (r2 - q2)Iyz + (pr - (j)IXy\n+m[YG(W - uq + vp) - ZG(v - wp + ur)] = K;\nIyq + (Ix - Iz)rp - (p + qr)Ixy + (p2 - r2)Izx + (qp - r)Iyz\n+m[ZG(u - vr + wq) - XG(W - uq + vp)] = M;\t(3.25)\nIzr + (Iy - Ix)pq - (q + rp)Iyz + (q2 - p2)Ixy + (rq - p)Izx\n+m[XG(v - wp + ur) - YG(U - vr + wq)] = N;\n3.2.3\tRepresenta\u00e7\u00e3o matricial das equa\u00e7\u00f5es do movimento\nO conjunto das equa\u00e7\u00e3es 3.25 e 3.26 s\u00e3o parametrizadas e expostas matricialmente de forma a facilitar a modela\u00e7ao de ve\u00e1culos com varios graus de liberdade. Desta forma as equac\u00e3es referidas anteriormente podem-se escrever na seguinte forma matricial:\nMrb V + Crb (v )v = trb\t(3.26)\nOnde:\n\u2022\tMrb : representa a matriz de in\u00f3rcia do corpo r\u00edgido;\n\u2022\tCRB (v): representa a matriz que agrupa os termos de for\u00e7a de Coriolis e centr\u00edpeta do corpo r\u00edgido;\n\u2022\tv = [u,v,w,p,q,r]T: representa o vetor de velocidades lineares e angulares do ve\u00edculo no sistema de coordenadas m\u00f3vel;\n\u2022\ttrb = [X, Y, Z, K, M, N]T: corresponde ao vetor de for\u00e7as e momentos resultantes no ve\u00edculo;\nA matriz Mrb \u00ed defina como:\nMrb =\nMn\nM21\nM21\nM22\nm\t0\t0\t0\tmzG\t-mYG\n0\tm\t0\t-mzG\t0\tmxG\n0\t0\tm\tmYG\t-mxG\t0\n0\t-mzG\tmYG\tIx\tIxy\tIzx\nmzG\t0\t-mxG\tIyx\t\t-Iyz\n-mYG\tmxG\t0\tIzx\tIxy\tIz\nA matriz Crb (v) \u00e9 definida por:\n\t0 0\t0 0\t0 0\t\u2014m(yG q+zGr) m^XQX-'q\u2014\tm\u00c7yGP+w) -\u2014m^GG^+GP)\tm(zGp+v)\t- m(zGq+u)\t\n\t0\t0\t0\tm\u00edXQr-wj\t\t\u2014m(xGq+yGq) (\t3 28)\nCRB \u2014\tm(yGq+zGr)\t\u2014m(xGq\u2014w)\t\u2014m(xGr+v)\t\u2014m(ya p+w)\tm(zGr+xGp)\t\u2014m(yGr\u2014u)\t'\t3.20)\n\t\u2014m(zGp\u2014v)\t\u2014m(zGq+u)\tm(xGP+yGq)\t0\t!yzq Ixzp + Izr\t!yzr+!xyp ^yq\t\n\t- lyzq +Ixzp 1 zr\t0\t\u2014 Ixzr \u2014Ixyq+Ixp\t\u00edyzr !xyp+ !yq\t!xzr+^xyq !xp\t0\t\nA matriz Mrb (3.27) corresponde a matriz de in\u00e9rcia, contendo a massa m, momentos e produtos de inercia. A matriz Crb (3.28) \u00e9 denominada matriz centr\u00e9peta e de Coriolis, contendo os termos das for\u00e7as centr\u00e9peta e de Coriolis. A matriz (Crb), ao contr\u00e1rio da matriz de inercia, pode ser parametrizada de v\u00e9rias formas (Fossen, 1994):\nMRB = MRB > 06x6,\t(3.29)\nMrB = 0\t(3.30)\ne\nCRB(v) = -CRB(v)> KeR6\t(3.31)\nE importante salientar que em ve\u00e9culos que possuem partes internas m\u00e9veis a condic\u00e3o Mrb nao \u00e9 verdadeira. Ve\u00e9culo constitu\u00e9do por bra\u00e7os rob\u00e9ticos, movimentando pecas s\u00e3o exemplos t\u00e9picos. Nestes casos, podem ocorrer variac\u00e3es dos par\u00e2metros das matrizes do modelo do corpo r\u00e9gido Mrb e Crb .\n3.3\tFor\u00e7as e momentos hidrost\u00e1ticos e hidrodin\u00e2micos\nAs for\u00e7as e momentos de origem hidrost\u00e9tica e hidrodin\u00e2mica [44] podem ser divididas em:\n\u2022\tFor\u00e7as geradas pela massa adicional, associadas \u00e0 inercia do flu\u00e9do;\n\u2022\tFor\u00e7as geradas pelo amortecimento hidrodin\u00e2mico, devidas \u00e0 viscosidade do flu\u00e9do;\n\u2022\tForcas de restabelecimento (peso e impuls\u00e3o).\nSomando estes tr\u00e2s efeitos, obtem-se a express\u00e3o que representa a for\u00e7a hidrodinamica resultante que atua no ve\u00e9culo:\nth = Ma\u00ed, - CA(V)V - D(v)v - g(n)\t(3.32)\n\u2022\tMa: representa a matriz de massas e in\u00e9rcias adicionais;\n\u2022\tCa(v): representa a matriz de Coriolis e centr\u00edpeta adicional;\n\u2022\tD(v): representa a matriz de amortecimento;\n\u2022\tgn: representa a matriz das for\u00e7as de restabelecimento;\nA equa\u00e7ao das forcas e momentos do corpo r\u00edgido (3.26), \u00e9 igual \u00e0 soma da for\u00e7a hidrodin\u00e2mica total th (3.32) juntamente com as for\u00e7as e momentos provenientes do controlo/propuls\u00e3o (t), ou seja:\ntrb = th + t = Mav - Ca(v)v - D(v)v - g(n) + t\t(3.33)\n3.3.1\tModelos din\u00e2micos estudados\nNa literatura tal como abordado nas sec\u00e7\u00e3es anteriores, pode-se encontrar uma abordagem matricial para o modelo din\u00e2mico de AUVs, baseando-se na parametriza\u00e7\u00e3o das variaveis associadas com os coeficientes hidrodinamicos de amortecimento, coeficientes de massa adicional e coeficientes de Coriolis e produto de massas adicionais. Nos modelos dinamicos estudados mostra-se as forcas externas associadas \u00e0 din\u00e2mica de um ve\u00edculo submarino. Estas podem ser divididos em forca associada \u00e0 varia\u00e7\u00e3o da press\u00e3o no casco do ve\u00edculo (relacionado com os coeficientes de massa adicional), forcas de arrasto, for\u00e7as de peso e flutua\u00e7\u00e3o e for\u00e7as externas externas relacionadas com sistema de propuls\u00e3o ou for\u00e7as ambientais. Este tipo de forcas ser\u00e3o abordados posteriormente.\nSeguidamente ser\u00ed apresentado um dos modelos amplamente utilizados na modelac\u00e3o de ve\u00edculos submarinos apresentado por [43].\nNesta modelacao, a din\u00e2mica do ve\u00edculo subaquatico \u00e9 dada por:\nMRBv + CRB(v)v = -MAv - CA(v)v - D(v)v - g(n) + TProp\t(3.34)\nNa equa\u00e7ao 3.34, sao apresentadas cada uma das for\u00e7as mencionadas anteriormente, al\u00edm disso deve-se clarificar que o vetor velocidade do ve\u00edculo (v) deve de ser medido em rela\u00e7ao a velocidade do flu\u00eddo a que esse est\u00ed inserido. Quando um corpo se encontra em estado de submersao, este est\u00ed sujeito a for\u00e7as de pressao induzidas devido ao deslocamento do corpo no flu\u00eddo. Estas forcas s\u00e3o proporcionais \u00e0 acelerac\u00e3o e podem\nser interpretados como massa adicional. A massa adicional, afeta a dinamica do corpo r\u00edgido, logo \u00e1 poss\u00edvel definir as matrizes M como a soma da matriz de in\u00e9rcia Mrb e a matriz de massa adicionada Ma da seguinte forma:\nM = Mrb + Ma\t(3.35)\nDa mesma forma acontece com a matriz que contem os termos associados \u00e0s for\u00e7as de Coriolis e centrifuga:\nC(v) = CRB(v) + CA(v)\t(3.36)\nCom esta nova defini\u00e7\u00e3o \u00e9 poss\u00edvel estabelecer a seguinte expressao:\nMv + C(v)v + D(v)v + g(n) = TProp\t(3.37)\nObserva-se que na equa\u00e7\u00e3o 3.37, os termos C(v)v associados \u00e0s forcas de Coriolis e centrifugas, e as for\u00e7as de arrasto D(v)v, s\u00e3o funcoes da velocidade relativa ao ve\u00edculo, isto estabelece o comportamento destes termos como na\u00e3o linear.\n3.3.2\tMassa e in\u00e9rcia adicionada\nQuando um corpo permanece mergulhado num fluido, este leva em consideracao o efeito que o fluido exerce sobre o corpo quando este se encontra em movimento. Assim quando o ve\u00edculo se movimenta est\u00ed sujeito a press\u00e3es que sao proporcionais \u00e0 acelerac\u00e3o. Estas for\u00e7as sao consideradas como inerciais e sao denominadas for\u00e7as de massa adicional/a-crescentada e atuam na superf\u00edcie do corpo em contacto com o fluido.\nA matriz de massa acrescentada \u00ede dada por:\nMa =\nA11\nA21\nA21\nA22\nXu\tXv\tX*\tXp\tXq\tXr\nYu\tYv\tY\u00fa,\tYp\tYq\tYr\nZu\tZv\tZw\tzp\tZq\tZr\nKu\tKv\tKi,\tKp\tKq\tKr\nMu\tMv\tM\u00fa,\tMp\tMq\tMr\nNu\tNv\tN\u00fa,\tNp\tNq\tNr\n(3.38)\nNa equa\u00e7\u00e3o 3.38, os elementos da primeira coluna representam as massas e in\u00e9rcias adicionais que atuam no ve\u00edculo quando este acelera com magnitude |u| na dire\u00e7ao do eixo Xo. Especificamente, Xu, Yu, Zu s\u00e3o respetivamente as massas adicionadas nos eixos X0,Y0, Zo do ve\u00edculo e Ku, Mu, Nu, s\u00e3o respetivamente as in\u00e9rcias adicionadas ao redor\ndos eixos X, Y, Z do ve\u00edculo [45].\nPor outro lado, com a adi\u00e7\u00e3o das for\u00e7as associadas \u00e0 massa acrescentada, deve-se incluir o efeito que a variac\u00e3o da massa gera nas for\u00e7as de Coriolis e centrifugas. Na re-presentac\u00e3o da modela\u00e7\u00e3o din\u00e2mica apresentada por [43], a matriz de coriolis e centr\u00edpeta \u00e9 representada da seguinte forma:\n\t0\t0\t0\t0\t\u2014a3\ta2\n\t0\t0\t0\ta3\t0\t\u2014a1\n=\t0\t0\t0\t\u2014a2\ta1\t0\n\t0\t\u2014a3\ta2\t0\t\u2014b3\tb2\n\ta3\t0\t\u2014a1\tb3\t0\t\u2014b1\n\t\u2014a2\ta1\t0\t\u2014b2\tb1\t0\n(3.39)\nonde,\na1 = X\u00fa U + Xy V + Xw W + Xpp + XgQ + Xr r\na2 = Y\u00fa u + Yy v + Yw w + Ypp + Yq q + Yf r\na3 = Zy u + Zv v + Zw w + Zpp + Zq q + Zf r\t(3.40)\nb1 = K\u00fa u + Kv v + Kw w + Kpp + Kyq + Kf r\nb2 = M\u00fa u +\tv + Mw w + Myp + Mq q + Mf r\nb3 = N\u00fa u + N v + Nw w + Npp + Nqq + Nf r\nO c\u00e9lculo te\u00e9rico dos coeficientes de massa adicionada \u00e9 uma tarefa complicada, uma vez que estes valores sa\u00e3o calculados a partir do formato do ve\u00edculo para cada um dos planos de movimento. Logo, para c\u00e9lculos destes coeficientes, na maioria dos casos recorre-se a v\u00e9rios testes elaborados em tanques pr\u00e9prios para o efeito.\n3.3.3\tAmortecimento hidrodin\u00e2mico\nO amortecimento hidrodinamico pode ser originado devido a factores tais como a energia contida na ondula\u00e7\u00e3o criada pelo ve\u00edculo (DP), a friccao das moleculas de \u00e9gua com o corpo, chamado amortecimento linear (DS), ao arrasto da ondulacao (DW) e por fim ao ao amortecimento quadr\u00e1tico (DM) que se refere aos v\u00e9rtices criados pelo movimento relativo do flu\u00eddo na superfice do corpo. O amortecimento hidrodin\u00e2mico total que atua sobre um ve\u00e9culo subaqua\u00e9tico pode ser expresso como a soma destes componentes: D(v) = DP + DS + DW + Dm, sendo: DP - energia contida na ondulacao criada pelo ve\u00e9culo; DS - atrito na superf\u00edcie do corpo; DW - arrasto da ondula\u00e7\u00e3o e DM as perdas\nprovocadas pelos v\u00f3rtices.\nContudo o amortecimento hidrodin\u00e2mico pode ser simplificado nos seguintes modos:\n\u2022\tQuando o ve\u00edculo encontra-se deslocando com baixa velocidade;\n\u2022\tO ve\u00edculo possui tr\u00eas planos de simetria;\n\u2022\tOs termos que relacionam os efeitos hidrodin\u00eamicos acima da segunda ordem s\u00e3o desprezaveis, ou seja, o amortecimento hidrodin\u00eamico \u00f3 devido ao atrito viscoso superficial (DS) e aos efeitos dos v\u00f3rtices (DM).\ne,\n\tXu\tXv\tXw\n\tYu\tYv\tYw\nDs =\tZu\tZv\tZw\n\tKu\tKv\tKw\n\tMu\tMv\tMw\n\t1\tNv\tNw\n\tXu|u| Yu\\u\\\tXv | v | Yv \\v |\tXw|w ^w|w|\nDm =\tZu|u|\tZv\\v\\\tZw\\w\\\n\tKu|u|\t^Cv\\v\\\tKw\\w\n\tMu|u|\t\tMw\\w\n\t1\tNv | v |\tNw\\w\nXp\tXq\tXr\t\t\nYP\tYq\tYr\t\t\nZp\tZq\tZr\t\t\np\tq\t\t\t(3.41)\nKp\tKq\tKr\t\t\nMp\tMq Mr\t\t\t\nNp\tNq\tNr\t\t\nXp\\p\tXq|q|\t\tXr\\r\\\t\nYp|p|\tYq\\q\\\t\tYr\\r\\\t\nZp \\ p \\\tZq\\q\\\t\tZr\\r\\\t(3.42)\nKp | p\tKq\\q\\\t\tKr\\r\\\t\nMp\\p\tMq\\q\\\t\tMr\\r\\\t\nNp\\p\\\tNq\\q\\\t\tNr\\r\\\t\nCada elemento que comp\u00f5e as matrizes de amortecimento linear e quadr\u00e1tico pode ser interpretado de maneira an\u00e1loga as massas acrescentadas. Ou seja, cada elemento na matriz representa uma for\u00e7a que atua em num determinado eixo para deslocamentos no mesmo ou em outro eixo. Exemplificando, Yuu representa a for\u00e7a de amortecimento no eixo Y0, devido a uma velocidade u no eixo Xo.\nEm virtude da simplificado do amortecimento hidrodin\u00e2mico mencionado anteriormente, a matriz de amortecimento hidrodin\u00e2mico so possui componentes da diagonal principal, dessa forma as matrizes 3.41 e 3.42, podem ser reescritas da seguinte forma:\n\t\" X>> 1 X\u201e ,,\t|u| 0\t0\t0\t0\t0\n\t0\tYv 1\t| v\t|v| 0\t0\t0\t0\nD(v ) =\t0 0\t0 0\tZw\t| w 0\t\\w\\\t0 Kp + KpM \\p\\\t0 0\t0 0\n\t0\t0\t0\t0\tMq +Mq|q| \\q\\\t0\n\t0\t0\t0\t0\t0\tNr +Nr|r||r|-\n(3.43)\n3.3.4\tFor\u00e7as e momentos de restabelecimento\nEm hidrodin\u00e2amica as forc\u00e7a da gravidade assim como de flutua\u00e7c\u00e3ao sa\u00e3o denominadas forcas de restabelecimento. A for\u00e7a causada pela gravidade FG e a forca de flutuacao FB, sao produzidas pelo W = mg e B = pgV, respetivamente. A densidade da \u00f3gua \u00f3 representada por p, V o volume deslocado pelo corpo e g e a acelera\u00e7\u00e3o da gravidade. A forca FG \u00e9 descrita por um vetor paralelo ao eixo vertical do sistema (z), que atua no centro de gravidade rG = [xG, yG, zG]T e a for\u00e7a de flutua\u00e7ao \u00e9 um vetor paralelo ao mesmo eixo que atua no centro de flutuacao do corpo rB = [xB, yB, zB]T.\nDevido \u00e0s forcas FG e FB, estarem referenciadas com respeito ao sistema de coordenadas inercial (fixo), estas devem de ser transformadas relativamente ao sistema de refer\u00e2ncia do ve\u00edculo (movel) para ser adicionadas ao modelo dinamico.\nPara realizar o processo de transforma\u00e7\u00e3o entre os sistemas de referencia, \u00e9 preciso multiplicar a resultante das forc\u00e7as FG e FB em formato vetorial, pela inversa da matriz de transforma\u00e7\u00e3o de coordenadas J1(p2), ou seja:\nFg(P2) = Ji 1(n)\n0\n0\nW\nfb (%) = \u2014Ji 1(n)\n(3.44)\n(3.45)\n0\n0\nB\nDevido a centro de gravidade rG e o centro de flutuacao rB, nao coincidirem, o efeito da for\u00e7ca de restabelecimento resultante, introduz for\u00e7cas e momentos, ao longo e em torno dos eixos referenciados do ve\u00edculo no sentido de alinhar tais centros ao eixo z [46].\nBaseado nas equa\u00e7\u00f5es 3.44 e 3.45 a matriz das for\u00e7as de restabelecimento \u00f3 dada da seguinte forma:\n(W \u2014 B) sin(0)\n\u2014(B \u2014 W) cos(0) sin(f)\n\u2014 (B \u2014 W) cos(0) cos(f)\n\u2014(yGW \u2014 yBB) cos(0) cos(f) + (zGW \u2014 zBB) cos(theta) sin(f) (zGW \u2014 zBB) sin(0) + (xGW \u2014 xBB) cos(theta) cos(f)\n\u2014(xGW \u2014 xBB) cos(0) sin(f) \u2014 (yGW \u2014 yBB) sin(theta)\n(3.46)\n3.3.5\tEqua\u00e7\u00e3o do movimento\nComo verificado nos sub-cap\u00e1tulos anteriores a equac\u00f5o geral para a dinamica de um ve\u00edculo subaqu\u00e1tico \u00e9 dada pela seguinte express\u00f5o:\nMv + c(v)v + D(v)v + g(n) = TProp\t(3.47)\ni]\t= J (n)v\t(3.48)\nonde a matrizes de massa do corpo r\u00edgido MRB e de massa acrescentada Ma s\u00f5o somadas em uma u\u00e1nica matriz de in\u00e1ercia:\nM = Mrb + Ma\t(3.49)\nO mesmo acontece com as matrizes de Coriolis e centr\u00edpeta:\nC (v) = Crb (v) + Ca(v)\t(3.50)\nRelativamente \u00e0 matriz de amortecimento hidrodinamico D(v)v esta tambem \u00e1 somada atraves da matriz DS e DM:\nD(v) = Ds + Dm\t(3.51)\nA matriz gn, corresponde as for\u00e7as de restabelecimento mostrada anteriormente na equa\u00e7ca\u00f5o 3.46.\nComo se pode verificar a representa\u00e7\u00f5o da equa\u00e7\u00f5o 3.47, est\u00e1 expressada com rela\u00e7\u00f5o ao sistema referencial do ve\u00e1culo. A representa\u00e7c\u00f5ao correspondente no sistema inercial (fixo), e dada por:\nM(n)(n)n + cn (v,n)n + Dn (v,n)n + g(n) (n) =\t(3.52)\nonde,\nM(n)(n) = J ~T (n)MJ\t\u25a0\t(3.53)\nCn (v,n) = J-T (n)[c (v) \u2014 MJ-1(n)J(n)]J-1(n)\t(3.54)\nDn (v,n) = J-T (n)D(v)J ~1(n)\t(3.55)\ng(n)(n) = J-T (n)g(n)\t(3.56)\nTn (n) = J-T (n)T\t(3.57)\n(3.58)\nO vetor T incorpora as diversas for\u00e7a externas que atuam no ve\u00edculo:\nT = npriyp + Tc\t(3.59)\nonde Tprop e tc representam forcas relativas ao sistemas de propuls\u00e3o e correntes mar\u00edtimas, respetivamente, assim como podem existir outras tais como for\u00e7a gerada pela caba umbilical.\n3.3.6\tModelo do Thruster\nO vetor Tprop e constitu\u00eddo pelas forcas e momentos gerados pelos thrusters do ve\u00edculo, pelo que resulta n\u00e3ao s\u00edo da forc\u00e7a gerada mas tamb\u00edem da configura\u00e7ca\u00e3o dos mesmos. A forca de propulsao gerada por um thruster \u00e9 dada pela seguinte equa\u00e7\u00e3o:\nT = pD4(a1 + a nD )n\\n\\\t(3.60)\nem que pea densidade do fluido, D di\u00eametro da helice, n taxa de rotac\u00e3o da h\u00edlice e Va representa a velocidade da agua que entra na h\u00edlice. (a1 + a2 nD), representa o coeficiente da for\u00e7ca do thruster. E\u00ed uma fun\u00e7c\u00e3ao n\u00e3ao-linear de quatro quadrantes, onde a1 e a2 s\u00e3o constantes dadas por caracter\u00edsticas da helice (a2 &lt;0) [47].\n3.3.7\tFlutuabilidade\nComo mencionado no capitulo 2, o f\u00edsico Arquimedes estabeleceu o principio da flutuabilidade, afirmando que: \u201dUm corpo mergulhado, total ou parcial num fluido, sofre por parte deste, uma for\u00e7ca ascendente, cuja intensidade \u00ede igual ao peso do fluido deslocado pelo corpo\u201d [20]. Todos os objetos submersos est\u00e3o sujeitos a uma for\u00e7a ascendente, da\u00ed qualquer objeto pesar menos na \u00edgua do que no ar (Figura 3.5).\nFigura 3.5: Demonstra\u00e7\u00e3o do princ\u00edpio de Arquimedes [48].\nW = m * g\n(3.61)\nB = V * p * g\n(3.62)\nA capacidade de um determinado objeto flutuar ou afundar depende da magnitude do seu peso em rela\u00e7\u00e3o \u00e0 sua forca de flutuabilidade. Se a for\u00e7a de flutua\u00e7\u00e3o (B) for maior que o peso (W) o corpo ir\u00ed flutuar, se a for\u00e7a de flutua\u00e7ao for menor que o peso, o corpo ira\u00ed afundar, caso estas duas for\u00e7cas sejam iguais o corpo permanecer\u00eda neutro. Este efeito est\u00ed ilustrado na Figura 3.6.\nEstabilidade\nA estabilidade de um corpo \u00ede afetada essencialmente pela posic\u00e7a\u00e3o do centro de massa, mas tambem pelo centro de flutuabilidade. Caso estes dois pontos nao estejam alinhados verticalmente, existir\u00ed instabilidade devido \u00e0 criac\u00e3o de um momento n\u00e3o nulo (Figura 3.7).\nf\nB > W\tb\nRobotic Aulono\nZ\\z&lt;num\nW\nI\tI\nFlutua\nFigura 3.6: Efeitos da densidade de um corpo em contacto com a \u00e1gua.\nt\nt\nB\nf\nEst\u00e1vel\nB\nInst\u00e1vel\nCB\nDeep Sea Vehicle\n1\t'CM\n\u25a0\t\u25a0\n\t\nW\nI\n*CM\nPosi\u00e7\u00e3o na \u00e1gua\nW\nI\nFigura 3.7: Estabilidade de um corpo em contacto com a \u00e1gua.\nSe o centro de massa coincidir com o centro de flutuabilidade o ve\u00edculo ir\u00e1 ser suscet\u00edvel a pertubac\u00f5es. Idealmente, os dois centroides dever\u00e3o ser alinhados verticalmente entre si, com o centro de massa abaixo do centro de flutuabilidade, resultando numa configura\u00e7ao basica de estabilidade. A instabilidade do ve\u00edculo em roll e pitch \u00e1 diretamente proporcional a distancia perpendicular entre o centro de massa e flutuabilidade do ve\u00e1culo.\nCap\u00edtulo 4\nRob\u00f4 submarino TURTLE\nO TURTLE \u00e9 um ve\u00edculo submarino aut\u00e9nomo para operac\u00e3o no mar profundo. Este resulta de um cons\u00e9rcio entre a empresa metalurgica A. Silva Matos 6 juntamente com a instituic\u00e3o de investigac\u00e3o INESCTEC 7 e a Marinha Portuguesa 8. As condi\u00e7\u00e3es extremas da press\u00e3o hidrost\u00e9tica, de temperatura e dos ambientes naturais n\u00e3o control\u00e9veis s\u00e3o adversidades impostas pelas grandes profundidades. Estes foram os principais motivos que levaram ao desenvolvimento deste projeto inovador, sem precedentes em territorio portugu\u00eas, realizado apenas com mao de obra nacional e resultando num ve\u00e9culo dotado para operar em aguas profundas ate 1000 metros.\nNo \u00eambito deste projeto foram previstos dois objetivos fundamentais [2]:\n\u2022\tDesenvolver tecnologias e estruturas capazes de suportar altas press\u00e3es hidrost\u00e9ticas (> 100 bar), para aplica\u00e7\u00e3o em \u00e9guas profundas.\n\u2022\tDesenvolver um veiculo aut\u00f3nomo multi-funcional com elevada eficiencia do seu movimento aquando da desloca\u00e7\u00e3o na coluna de agua.\nA combinac\u00e3o dos dois pontos anteriores permitiram desenvolver um veiculo com inumeras capacidades e que abrange diversos cen\u00e9rios, tais como:\n\u2022\tO robo TURTLE tem a capacidade de atuar como uma estacao de observa\u00e7ao (sismografia, temperatura, salinidade, estudos de poluic\u00e3o/biol\u00e9gicos) e instrumenta\u00e7\u00e3o no fundo do oceano por longos per\u00edodos de tempo (meses).\n\u2022\tTem a possibilidade de se reposicionar autonomamente, seja no fundo do oceano na coluna de \u00e9gua ou ate mesmo na superf\u00edcie.\n6http://www.asilvamatos.pt/?lang=en\n7https://www.inesctec.pt/\n8 http://www.marinha.pt/pt-pt/Paginas/default.aspx\n\u2022\tMovimenta\u00e7\u00f5o na coluna de \u00e1gua de uma forma energeticamente eficiente recorrendo ao sistema de varia\u00e7\u00f5o de lastro (bombeamento da \u00e1gua atraves de uma bomba hidr\u00e1ulica) como principal meio de movimenta\u00e7\u00f5o vertical.\n\u2022\tMovimenta\u00e7\u00f5o nos quatro graus de liberdade (surge, sawy, heave e yaw) com o aux\u00e1lio de propulsores. 9\n\u2022\tPoder\u00e1, igualmente, ser uma mais valia na vertente militar / seguran\u00e7a, atraves de monitoriza\u00e7\u00f5o do trafego mar\u00e1timo para controlo de trafico de bens materiais ou humanos.\n\u2022\tTem tambem como objetivo permitir atuar como meio de transporte eficiente de cargas at\u00e9 200Kg para o fundo do oceano (e.g prospec\u00e7\u00f5o de petr\u00f3leo/ minerio).\n\u2022\tVers\u00e1til na integra\u00e7\u00f5o de outros sensores ou unidade sensorial para estudos cient\u00edficos sem necessidade de grande intervencao.\n\u2022\tPor fim tem como caracter\u00edstica relevante a possibilidade da avalia\u00e7\u00f5o do fundo oce\u00e2nico reconhecendo o melhor local para aterrar com seguran\u00e7a.\nFigura 4.1: Desmonstrador do TURTLE.\n9 Neste documento \u00e9 mencionado diversas vezes propulsores que se refere aos thrusters.\n4.1\tArquitetura\nDe forma a criar um ve\u00edculo robusto e eficaz, optou-se por desenvolver sistemas que fossem independentes da principal unidade de processamento. Isto permite uma arquitetura descentralizada, reduz o processamento de informa\u00e7\u00f5o da unidade principal (CPU) e acima de tudo possibilita alguns sistemas manterem-se ativos caso haja alguma anomalia noutros. Na Figura 4.2, est\u00f5o descritos os componentes b\u00e1sicos para manter o TURTLE em funcionamento.\nR 4 Thrusters k\nSyntactic foam\nUSBL\nr\u2014\nTop glass sphere^-\u00b0PenCel1 structure\nFigura 4.2: Componentes do TURTLE.\nA Tabela seguinte (4.1) menciona as principais caracter\u00edsticas deste ve\u00edculo.\nTabela 4.1: Principais caracter\u00edsticas f\u00edsicas do TURTLE.\nPar\u00e2metros\tValor\tUnidades\nPeso\t1400\tkg\nCarga\t200\tkg\nProfundidade m\u00e9ax\t1000\tm\nTipo de c\u00e9elulas\tLifePo4\t-\nPotencia M\u00e1xima\t8\tKW\nTipo de VBS\tVar. de lastro\t-\nFluxo VBS\t6.5\tlpm\nVelocidade Nominal\t(0.5 - 1)\tm/s\nCapacidade Deposito VBS\t45\tl\nNa Figura 4.3, \u00e1 poss\u00edvel visualizar o diagrama com os v\u00e1rios sistemas do TURTLE.\nTOP SPHERE\nFigura 4.3: Diagrama com os varios sistemas do TURTLE.\n4.2\tEstrutura\nUma caracter\u00edstica fundamental da estrutura deste veiculo, \u00f3 o material maioritariamente respons\u00f3vel pela flutuabilidade do veiculo (Figura 4.4a). Optou-se por utilizar uma espuma que suporta profundidades de at\u00f3 2000 metros e com densidade de 445 kg/m3.\nO estudo e a explora\u00e7\u00e3o de materiais usados em aplica\u00e7oes aeronauticas, permitiu desenvolver novas estruturas metalicas mais leves e resistentes, sendo uma grande vantagem para ve\u00f3culos aut\u00f3nomos de grandes profundidades. Este estudo resultou no desenvolvimento de estruturas baseadas na tecnologia OpenCell10 \u2122 [49], a qual faz parte da estrutura do TURTLE (Figura 4.4b).\n10A tecnologia OpenCell consiste na forma\u00e7\u00e3o de estruturas do tipo sandwich por forma a melhorar as propriedades de compressao, tracao, torcao ou flex\u00e3o do material.\n(a) Espuma.\n(b) Estrutura OpenCell \u2122\nFigura 4.4: Conjuto da espuma e OpenCell \u2122\nA integrac\u00e3o deste bloco de flutuabilidade com a estrutura OpenCell \u2122em forma de sandwich, possibilitou um aumento da rigidez estrutural. Foram desenvolvidas outras estruturas em aco inoxid\u00e9vel (cilindro VBS, CPU, JB) para armazenar e proteger os v\u00e9rios sistemas eletr\u00f4nicos da \u00e0gua e da press\u00e3o (ver Figura 4.4 e 4.5). A esfera foi posteriormente adquirida, tendo capacidade de suportar profundidades de 11000 metros (Figura 4.6).\n(a) Cilindro CPU.\n(b) Esfera.\nFigura 4.5: Exemplo de algumas estruturas sujeitas \u00e0 press\u00e3o.\n(a) Estrutura de prote\u00e7\u00e3o dos thrusters.\n(b) Estrutura geral.\nFigura 4.6: Estrutura do TURTLE.\n4.3\tArmazenamento de energia\nO sistema de pot\u00eancia do ve\u00edculo cont\u00e9m at\u00e9 4 m\u00f3dulos de baterias com 2Kw cada, permitindo optimizar a quantidade de energia entre miss\u00f5es efetuadas. Cada m\u00f3dulo \u00e9 composto por 64 c\u00e9lulas LiFePO4 de 10 Ah, 16 conjuntos de serie, compostos por 4 c\u00e9lulas em paralelo, resultando numa tens\u00f5o nominal de 48 V e 40 Ah. Ao contr\u00f3rio de algumas estruturas explicadas anteriormente, o compartimento das baterias utiliza \u00e9leo sint\u00e9tico como forma de efetuar compensa\u00e7\u00f5o de press\u00f5o entre o interior e o exterior do compartimento atrav\u00e9s de uma membrana flex\u00edvel capaz de contrair e expandir para fazer diferen\u00e7a a altera\u00e7\u00f5es volum\u00e9tricas do interior do compartimento, causadas maioritariamente pela temperatura e pressa\u00f5o. Assim evita-se o desenvolvimento de compartimentos com grandes capacidades de suportar press\u00f5oes elevadas e assim reduzir o seu peso e tamanho. Cada bateria \u00e9 conectada ao cilindro JB (Junction Box), onde cont\u00e9em dispositivos de protec\u00e7\u00f5ao e conversores de tens\u00f5ao para que, posteriormente, seja realizada a sua distribui\u00e7\u00f5o pelos diversos sistemas (sensores, thrusters, VBS, etc).\nFigura 4.7: Housing das baterias.\n4.4\tSistema de varia\u00e7\u00e3o de lastro\nA grande efici\u00eancia do TURTLE no seu movimento vertical, deve-se essencialmente ao sistema de varia\u00e7\u00e3o de lastro. Como explicado no cap\u00edtulo 2, este sistema tem como principal objetivo a variac\u00e3o de flutuabilidade do ve\u00edculo para o movimento vertical, permanecer neutro, ou mesmo servir de auxilio na ancoragem quando permanecido no fundo do oceano. O sistema de varia\u00e7\u00e3o de lastro, apesar do seu principio de funcionamento simples, pode complicar-se mediante a exig\u00eancia de alguns requisitos de opera\u00e7\u00e3o (e.g. press\u00e3o, taxa de varia\u00e7\u00e3o de flutuabilidade, autonomia, entre outros). Na Figura 4.8b, podem ser visualizados algumas fotos que ilustram o VBS do TURTLE.\n(a) Circuito do VBS.\n(b) Placa de controlo do VBS.\nFigura 4.8: VBS - Sistema de varia\u00e7\u00e3o de lastro.\nO VBS do TURTLE \u00e1 composto essencialmente por tr\u00eas componentes principais:\n\u2022\tBomba\nA exigencia de uma bomba sujeita a press\u00f5es superiores a 100 bar, de pequenas dimens\u00f5es e cujo o fluido e agua do mar, limita a janela de procura, uma vez que estes requisitos nao se encontram nos mais variados sistemas de bombeamento. Ap\u00e1s um grande estudo do mercado optou-se por adquirir a bomba Hydra-Cell, modelo D/G-04-X (Figura 4.9a). Esta trata-se de uma bomba adequada para a \u00e1gua salgada, movimenta o flu\u00eddo apenas num sentido, permite uma taxa de fluxo m\u00e1ximo at\u00e1 11.0 litros e uma pressao m\u00e1xima \u00e0 sa\u00edda de 170 bar.\n\u2022\tMotor\nPara acionamento da bomba foi usado um motor brushless - HPM3000B (ver Figura 4.9b),3Kw, 48V, sendo este bastante compacto e com efici\u00eancia a rondar os 90%. O controlador Roboteq 1660, foi utilizado para controlo do motor, atuac\u00f5o nas v\u00e1lvulas e monitorizac\u00f5o de outros dados (tens\u00f5o, corrente, temperatura, etc) que sejam relevantes para o funcionamento do sistema.\n\u2022\tEsquema revers\u00f5o de fluxo\nComo mencionado anteriormente, a bomba utilizada \u00e1 de sentido unico, ou seja movimenta o liquido apenas numa direcao. Uma vez que \u00e1 necess\u00e1rio introduzir e retirar \u00e1gua do deposito, houve a necessidade de criar uma solu\u00e7ao (g\u00eanero de uma ponte H) recorrendo a eletrov\u00e1lvulas, para assim inverter o sentido do fluxo da agua. Foram usadas eletrov\u00e1lvulas da marca parker (Figura 4.9c), do tipo duas vias (ou seja duas conex\u00f5es) sentidos e duas posicoes e alimentadas a 24V-24W.\n(a) Bomba Hydra-Cell.\n(d) Valvula Anti-retorno.\n(b) Motor.\t(c) Eletrovalvulas.\nFigura 4.9: Principais componentes do VBS.\n(12)\n(1)\t- Electrov\u00e1lvula 1\n(2)\t- Electrov\u00e1lvula 2\n(3)\t- Electrov\u00e1lvula 3\n(4)\t- Electrov\u00e1lvula 4\n(5)\t- Motor\n(6)\t- Bomba\n(7)\t- V\u00e1lvula anti-retorno\n(8)\t- Filtro Entrada\n(9)\t- Reservat\u00f3rio\n(10)\t- V\u00e1lvula de seguran\u00e7a\n(11)\t- Sensor de press\u00e3o\n(12)\t- Cilindro VBS\nFigura 4.10: Circuito VBS.\nNa Figura 4.10, est\u00e1 representado um esquema do circuito do VBS.\nO processo de varia\u00e7ao de lastro resume-se essencialmente a introduzir e retirar \u00e1gua do reservat\u00edrio e com isso variar a flutuabilidade do ve\u00edculo atrav\u00eds da variacao do peso global do ve\u00edculo. Como mencionado anteriormente, como a bomba funciona apenas num sentido \u00e9 necessario a combinac\u00f5o de um conjunto de eletrov\u00e1lvulas que consoante o seu estado (abertas ou fechadas) permite conduzir o fluxo da \u00e1gua pelo caminho desejado. Apesar deste VBS possuir 4 eletrov\u00e1lvulas, n\u00f5o \u00e9 poss\u00edvel um controlo independente de cada uma. Ou seja, existe dois conjuntos de eletrov\u00e1lvulas que s\u00f5o atuados em simult\u00e2neo. O conjunto composto pela eletrov\u00e1lvula 4 e 1, controla a entrada de \u00e1gua. O conjunto que controla a sa\u00edda de agua \u00e9 feito pela eletrov\u00e1lvula 3 e 2.\nPosto isto sera explicado o processo de entrada e sa\u00edda de \u00e1gua:\n\u2022\tIntroduzir \u00e1gua\nPara introduzir agua no reservat\u00edrio as eletrov\u00e1lvulas 4 e 1 s\u00f5o abertas e a 3 e 2 fechadas, posteriormente a bomba inicia o seu movimento e a \u00e1gua ap\u00eds entrar no filtro (8), realiza o fluxo mostrado na Figura 4.11. Como as eletrov\u00e1lvulas apenas bloqueiam o fluxo num sentido, a \u00e1gua tambem acaba por passar atrav\u00eds da eletrov\u00e1lvula 2.\n\u2022\tRetirar \u00e1gua\nFigura 4.11: Esquema para entrada de agua.\nPara retirar a agua, o processo inverte-se, ou seja, as eletrov\u00edlvulas 3 e 2 sao abertas e a 4 e 1 fechadas, a bomba inicia o seu movimento e expulsa a agua como se pode verificar na Figura 4.12. Se a press\u00e3o do interior do reservat\u00f3rio for maior que a press\u00e3ao exterior, parte da \u00edagua tamb\u00edem ir\u00eda sair pela eletrova\u00edlvula 1, devido ao bloqueio do fluxo apenas num sentido.\nFigura 4.12: Esquema para sa\u00edda de \u00edgua.\nPara obter um melhor controlo, mas tamb\u00e1m por limita\u00e7\u00e3es f\u00e1sicas dos equipamentos, e importante conhecer a press\u00e3o e a quantidade de agua existente no reservat\u00e1rio. Deste modo o reservat\u00f3rio contem o sensor de press\u00e3o no seu interior. Relativamente \u00e0 quantidade de \u00e1gua existente dentro no reservat\u00e1rio, a medida \u00e9 obtida atraves do sensor de press\u00e3o baseado na lei de Boyle. Esta lei mencionada na equac\u00e3o 4.1, enuncia que a press\u00e3o absoluta e o volume de uma certa quantidade de g\u00e1s no interior de um reservat\u00e1rio fechado s\u00e3o inversamente proporcionais se a temperatura permanecer constante. Por uma quest\u00e3o tamb\u00e1m de seguranca, foi instalado uma v\u00e1lvula de seguran\u00e7a no topo do reservat\u00e1rio que abrira, quando a press\u00e3o no interior do reservat\u00f3rio exceder os 14 bar.\np1 * v1 = p2 * v2 o v2 = (p1 * v1)/p2\n(4.1)\n4.5\tSistema de Propuls\u00e3o - Thrusters\nO ve\u00edculo TURTLE possu\u00ed um total de 8 thrusters, SI-MCT01, dos quais 4 sao usados para movimento horizontal, e 4 para o movimento vertical. A escolha destes thrusters, deveu-se essencialmente a sua razao pot\u00eancia/thrust (Figura 4.14), a sua alimenta\u00e7\u00e3o estar dentro das caracter\u00edsticas pretendidas (&lt;48V) e possuir comunicac\u00e3o diferencial RS-485, imune a ambientes sujeitos ao ru\u00eddo. O movimento vertical do TURTLE \u00e1 maioritariamente efetuado pelo sistema de variac\u00e3o de lastro, contudo os thrusters verticais s\u00e3o usados de forma a auxiliar em manobras que requerem um movimento mais preciso. No capitulo 5 , sera descrito toda a justificacao da import\u00eancia que tem em considera\u00e7\u00e3o o posicionamento e orientac\u00e3o dos thrusters, para suportar todos os graus de liberdade necess\u00e1rios (surge, sway, heave e yaw) de uma forma eficiente. Uma vez que os thrusters verticais apenas tem a fun\u00e7\u00e3o de criar propuls\u00e3o em heave, foram todos colocados paralelamente ao eixo z, de forma a criar apenas um vetor de for\u00e7a nessa direc\u00e3o (ver Figura 4.13b). Relativamente ao sistema de propulsao horizontal, o objetivo \u00e1 permitir o movimento em tres graus de liberdade (surge, sway e yaw). Para isso os thrusters foram colocados com uma orienta\u00e7\u00e3o de 45Q relativamente ao eixo x. Perante [50], esta configurac\u00e3o torna-se a mais eficiente para abranger os tres graus de liberdade mencionados anteriormente, sendo desta forma poss\u00edvel criar thrust com a mesma intensidade em surge e sway, permitindo movimento omnidirecional no plano xy. Contudo o TURTLE, possibilita um ajuste manual na configura\u00e7ao dos thrusters horizontais, de forma a conseguir melhor efici\u00eancia em diferentes tipos de miss\u00f5es.\n(a) Thruster em configura\u00e7\u00e3o horizontal.\n(b) Thruster em configura\u00e7\u00e3o vertical.\nFigura 4.13: Configura\u00e7ao dos thrusers.\nTabela 4.2: Especifica\u00e7\u00f5es t\u00e9cnicas dos thrusters [51].\nPar\u00e2metros\tValor\tUnidades\nTens\u00e3o Nominal\t48\tV\nPot\u00eancia\t300\tW\nForca positiva\t13\tkf\nFor\u00e7a negativa\t12.8\tkgf\nM\u00e1x. rota\u00e7\u00e3o\t980\tRPM\nM\u00e1x. profundidade\t1000\tm\nInterface com.\tRS-485\t-\nDi\u00eametro H\u00e1lice\t180\tmm\nFigura 4.14: Potencia vs thrust [51]\n4.6\tComunica\u00e7\u00f5es\nUma vez que o TURTLE possibilita comunica\u00e7\u00e3o sem fios quando est\u00e9 submerso, e quando est\u00e9 \u00e0 superf\u00edcie, dividiu-se este sistema de comunica\u00e7\u00e3o em duas partes:\n\u2022 Superf\u00edcie\nA principal comunica\u00e7\u00e3o efetuada a superf\u00edcie \u00e9 atraves do WI-FI (802.11) (4), uma vez que permite elevada largura de banda para comunica\u00e7\u00e3es que exijam grande transfer\u00eancia de dados. Outro modo de comunica\u00e7\u00e3o e via frequencia r\u00e9dio (5), que tem como principal vantagem comunica\u00e7\u00e3o a longas dist\u00eancias, mas \u00e9 restrito a uma largura de banda bastante reduzida. Por esta raz\u00e3o este sistema apenas e usado para envio e rece\u00e7\u00e3o de pequenos dados de informa\u00e7\u00e3o, tais como dados de telemetria. O sistema Iridium (2), comunica\u00e7\u00e3o via satelite, tambem esta incorporado no TURTLE, contudo o objetivo deste sistema e um pouco diferente. A utiliza\u00e7\u00e3o deste sistema maioritariamente e feita em situac\u00e3es de emergencia, onde o principal proposito e o envio das coordenadas GNSS (3) da localiza\u00e7\u00e3o do ve\u00edculo, caso este volte a superf\u00edcie e nenhum dos sistemas anteriores esteja no raio de alcance.\n\u2022 Subaqu\u00e1tica\nDevido \u00e0 impossibilidade das ondas eletromagn\u00e1ticas se propagarem na \u00e1gua (<10 metros), a comunica\u00e7\u00e3o subaquatica \u00e1 realizada atrav\u00e1s de modems acUsticos. Esta comunica\u00e7\u00e3o \u00e9 bastante limitada na sua largura de banda uma vez que apenas permite taxas de transferencias de 11Kbps. O conjunto do sistema de comunicac\u00e3o (transceiver / transponder) usados no TURTLE ser\u00e3o abordados na subsec\u00e7\u00e3o seguinte. Para auxilio desta comunicac\u00e3o recorreu-se ao uso de uma boia que faz interface entre comunicac\u00e3o na superf\u00edcie e subaqu\u00e1tica.\n\nSat. Com. /\nGNSS\nInter net\n(<f>)\n-- Wifi / I\nSupport Buoy\nRobotic\nSea Vehicle\ndr>)\nSurface Position - GNSS\nWifi / Radio\n\nFigura 4.15: Arquitetura de comunica\u00e7\u00f5es do TURTLE.\n4.7\tControlo e Navega\u00e7\u00e3o\nQualquer ve\u00edculo aut\u00f3nomo para executar determinada miss\u00e3o com sucesso, \u00e9 inevit\u00e1vel o uso de um sistema de localiza\u00e7ao e navega\u00e7\u00e3o capaz de obter a sua posicao com precisao e exatid\u00e3o e um sistema de controlo para realizar diversas manobras. Uma abordagem simples de obter a posi\u00e7ao do ve\u00edculo seria recorrer ao uso de sensores GNSS, contudo esta tecnica apenas \u00e9 usada \u00e0 superf\u00edcie. No que respeita aos ve\u00edculos subaqu\u00e1ticos,\neste sistema \u00e9 um problema devido \u00e0 impossibilidade de propaga\u00e7\u00e3o de ondas eletromagn\u00e9ticas que compromete a comunica\u00e7ao do sinal GNSS. Por esse motivo o ve\u00edculo TURTLE est\u00e1 equipado com diversos sensores subaqu\u00e1ticos para navega\u00e7\u00e3o. Contudo a incerteza associada \u00e0s medidas destes mesmos sensores, induzem em erro a localiza\u00e7\u00e3o do ve\u00edculo. Para colmatar esses erros de localizac\u00e3o recorreu-se \u00e0 implementac\u00e3o de um filtro EKF (Extended Kalman Filter) que tem como objetivo estimar os estados de localiza\u00e7\u00e3o do ve\u00edculo (posi\u00e7\u00e3o, velocidade e atitude) [52]. O sistema de controlo sera explicado com mais detalhe no capitulo 6. Na Figura 4.16 est\u00e1 descrita a arquitetura geral de navegac\u00e3o do TURTLE.\nFigura 4.16: Arquitetura geral da navega\u00e7\u00e3o [52].\nSeguidamente serao mencionados todos os sensores do TURTLE que fazem parte do sistema de localiza\u00e7ao.\n\u2022 Global Navigation Sattelite System - GNSS\nComo o TURTLE, se trata de um ve\u00edculo subaqu\u00e1tico para profundidades a rondar os 1000 metros, o GNSS poderia nao ter muita influencia na posi\u00e7\u00e3o de ve\u00edculo. Contudo para quest\u00e3es de inicializa\u00e7\u00e3o da localizacao do ve\u00edculo, \u00e1 recorrente o uso do GNSS. Tambem existem solu\u00e7\u00f5es onde os ve\u00edculos subaquaticos recorrem ao uso de GNSS, se estes operarem em \u00e1guas pouco profundas e possam voltar a superf\u00edcie regularmente [53]. No caso do TURTLE, esta situa\u00e7\u00e3o n\u00e3o acontece com regularidade, contudo e indispens\u00e1vel obter a posi\u00e7\u00e3o do TURTLE quando este\npermanece ' superficie. O GNSS usado \u00e9 o Trimble BD930 que est\u00e1 incorporado no sensor inercial, o qual ser\u00e1 abordado seguidamente.\n\u2022 Inertial Measerument Unit - IMU\nO sistema de navega\u00e7ao inercial \u00e9 normalmente constituido por tres aceler\u00e1metros, giroscopios e, por vezes, magnet\u00e1metros ortogonais. Atraves da integrac\u00e3o deste tipo de sensores e poss\u00edvel obter a posi\u00e7\u00e3o e a atitude do veiculo. O sensor inercial usado no ve\u00edculo TURTLE \u00e1 o Spatial FOG da empresa Advanced Navigation\nFigura 4.17: Spatial Fog Advanced Navigation\nTabela 4.3: Especifica\u00e7\u00f5es t\u00e1cnicas do Spatial Fog\nPerformance\tGirosc\u00e1pio\tAceler\u00e1metro\nM\u00e1x. Input Rate ARW Instabilidade do Bias Data Rate\t490 \u00b1 /sec 0.8/h/VHZ 0.05/h 1000Hz\t10g 120ug/\\/Hz 50ug 1000Hz\n\u2022 Doppler Velocity Log - DVL\nO DVL \u00e9 um sensor subaqu\u00e1tico usado em muitos ve\u00edculos marinhos que fornece velocidades com grande precis\u00e3o. Utiliza o efeito de doppler para obter as medidas de velocidade, ou seja, atrav\u00e1s da distor\u00e7\u00e3o de frequ\u00eancia entre o sinal emitido e o recebido, obt\u00e1m-se a velocidade relativo ao objeto referido. Normalmente este sensor utiliza o fundo do oceano para obter a velocidade, por\u00e1m quando o fundo esta fora do local de opera\u00e7\u00e3o pode utilizar a coluna de agua. Na Figura 4.18 est\u00e1 presente o DVL instalado no TURTLE.\nFigura 4.18: DVL Teledyne Explored Phased Array SelfContained.\nTabela 4.4: Especificares t\u00e9cnicas do DVL 600kHz Phased Array Explored 1.\nPar\u00e2metros\tValor\nLong-term Accuracy Precis\u00e3o @ 3m/s2 Precisao @ 5m/s2 Frequ\u00eancia\t\u00b10.3% \u00b1 0.2cm/s \u00b11.8cm/s \u00b12.6cm/s 614.4kHz\n\u2022 Ultra-Short BaseLine - USBL\nO sistema de posicionamento ac\u00fastico mais utilizado em ve\u00edculos aut\u00f3nomos \u00e9 o USBL, pois \u00f3 de simples instala\u00e7\u00e3o, tamanho reduzido e baixo custo de imple-menta\u00e7ao. O sistema USBL \u00f3 composto por um transceiver e transponder, sendo o transceiver que calcula a posi\u00e7\u00e3o relativa do ve\u00edculo. Este sistema pode ser configurado de diversas formas, contudo a configura\u00e7ao habitual do Turtle \u00f3 colocar transponder no ve\u00edculo e o transceiver \u00e0 superf\u00edcie. Apesar da localizacao ser calculada no transceiver, \u00f3 enviada para o ve\u00edculo por modem acustico (1), que neste conjunto de sensores j\u00e1 est\u00e1 integrado para a comunica\u00e7\u00e3o. O Turtle possu\u00ed um sistema USBL (transceiver e transponder) da empresa Evologics, modelo S2CR 7/17, presente na Figura 4.19.\n(a) Transceiver\n(b) Transponder\n(c) Sensor de press\u00e3o.\nFigura 4.19: Sistema USBL/Modem e sensor de pressao\nSegue na Tabela 4.5 as especifica\u00e7\u00f5es t\u00e9cnicas do sistema USBL.\nTabela 4.5: Especifica\u00e7\u00f5es t\u00e9cnicas do USBL S2CR 7/17\nPar\u00e2metros\tValor\nMax Alcance\t8000m (10000m - boas condi\u00e7\u00f5es)\nFrequ\u00eancia\t7 - 17kHz\nSlant Range Acuracy\t0.01m\nBearing Resolution\t0.1\n\u2022 Sensor de Press\u00f5o\nAo contr\u00e1rio do que acontece noutros ve\u00edculos (terrestres e a\u00e9reos), a localizac\u00f5o subaqu\u00e1tica permite obter melhor posi\u00e7\u00f5o no plano vertical z, devido ao uso do sensor de press\u00f5o. Isto porque, a profundidade de um determinado objeto subaqu\u00e1tico e diretamente proporcional a press\u00f5o. As medidas do sensor de press\u00f5o sao absolutas, obtendo facilmente precisao abaixo dos cent\u00edmetros. O sensor de press\u00f5o incorporado no TURTLE \u00e9 o Keller PA35X.\nTabela 4.6: Especifica\u00e7\u00f5es t\u00e9cnicas do sensor de press\u00e3o Keller PA35X\nParametros\tValor\nExatidao\t0.05%FS\nLong Term Stability\t0 Ambar\nResolu\u00e7\u00e3o\t0.002%\nData Rate\t400Hz\n4.8\tOpera\u00e7\u00e3o\nPor fim e baseado nos requisitos inicias do ve\u00edculo TURTLE, este pode ter tr\u00eas modos de opera\u00e7ao:\n\u2022\tMUltiplos movimentos ascendentes e descendentes atrav\u00e9s da variac\u00e3o de flutuabi-lidade;\n\u2022\tTransporte de cargas/equipamento de e para o fundo do oceano, autonomamente com posicionamento preciso.\n\u2022\tReposicionamento no fundo do oceano sem a necessidade de voltar \u00e9 superf\u00edcie, usando os thrusters para movimento na horizontal.\nMultiple dives/ascents\nCargo transport/ positioning\nAutonomous repositioning\nFigura 4.20: Opera\u00e7\u00e3o Turtle [54].\nEsta p\u00e1gina foi intencionalmente deixada em branco.\nCap\u00edtulo 5\nModeliza\u00e7\u00e3o TURTLE\nO cap\u00edtulo anterior apresentou uma introdu\u00e7ao a modeliza\u00e7\u00e3o de ve\u00edculos subaqu\u00e1ticos. O objetivo deste cap\u00edtulo \u00e1 aplicar alguns desses conceitos e obter um modelo do TURTLE, bem como os seus par\u00e2metros de forma a caracterizar com mais detalhe o comportamento do TURTLE.\n5.1\tVe\u00edculo subaqu\u00e1tico autonomo TURTLE\nObter um modelo do sistema TURTLE, \u00ede representar atrav\u00edes de relac\u00e7\u00e3oes matem\u00edaticas ou l\u00f3gicas o funcionamento do mesmo no mundo real. Isto permite analisar e avaliar o seu comportamento mediante par\u00e2ametros de entrada e verificar o sequente resultado. Para simular o comportamento de um sistema com razo\u00edavel precis\u00e3ao deve-se identificar os seus par\u00e2ametros mais relevantes. Informa\u00e7c\u00e3ao como peso, for\u00e7ca de flutua\u00e7c\u00e3ao, volume e as dimens\u00e3es do ve\u00edculo s\u00e3o calculadas com procedimentos simples, a obten\u00e7ao de um modelo dos efeitos hidrodin\u00e2amicos como o arrasto e massa acrescentada \u00ede mais dif\u00edcil. Estes podem ser aproximados por um conjuto de coeficientes que embora simplifiquem o modelo apresentam tamb\u00edem problemas no seu c\u00edalculo.\nAlguns destes dados foram obtidos recorrendo a ferramentas computacionais. Na Figura 5.1, pode-se observar o referencial do ve\u00edculo e o inercial, que t\u00eam por base os referencias propostos por [43].\nYb v (sway)\n\u00f5\nq (pitch)\nBody-frame\np (roll)\nu (surge)\nr (yaw)\nEarth frame\nw (weave)\nZ\nFigura 5.1: Referenciais do ve\u00edculo TURTLE.\n5.1.1\tGeometria do ve\u00edculo\nNa tabela 5.1, s\u00e3o apresentadas as principais dimens\u00f5es do TURTLE, indicadas nas figuras 5.2, 5.3 e 5.4.\nTabela 5.1: Principais dimens\u00f5es do TURTLE.\nPar\u00e2metros\tValor [m]\tDescri\u00e7\u00f5o\nxTURTLEmax\t2.20\tComprimento do TURTLE ao longo do eixo x\nxFrame\t1.97\tComprimento m\u00e1ximo da estrutura ao longo do eixo x\nxFoam\t1.90\tComprimento m\u00e1ximo da espuma ao longo do eixo x\nxOpenCell\t1.57\tComprimento do OpenCell ao longo do eixo x\nxThrustersV ertical\t1.03\tDist\u00e2ncia entre os propulsores verticais ao londo do eixo x\nxThrustersHorizontais\t1.72\tDistancia entre os propulsores verticais ao londo do eixo x\nyTURTLEmax\t2.11\tComprimento do TURTLE ao longo do eixo y\ny Structure\t1.67\tComprimento ma\u00e1ximo da estrutura ao longo do eixo y\ny FoamMax\t1.60\tComprimento ma\u00e1ximo da espuma ao longo do eixo y\nyF oamSuperior\t1.30\tComprimento m\u00e1nimo da espuma ao longo do eixo y\ny OpenCell\t1.14\tComprimento do OpenCell ao longo do eixo y\nyThrusterHorizonatis\t1.24\tDist\u00e2ncia entre os propulsores horizontais ao londo do eixo y\nyT hrustersV erticais\t1.95\tDista\u00e2ncia entre os propulsores verticais ao londo do eixo y\nyStructureMin\t1.27\tComprimento m\u00e1nimo da estrutura ao longo do eixo y\nzTURTLEmax\t1.85\tAltura do TURTLE\n\u00bfThrustersHorizontais\t1.02\tAltura dos thrusters horizontais em rela\u00e7\u00f5o \u00e0 base do ve\u00edculo\n\u00bfThrustersV erticais\t1.07\tAltura dos thrusters verticais em relac\u00f5o a base do ve\u00edculo\n\u00bfStructure\t1.33\tAltura da estrutura\n\u00bfFoam\t37-10-2\tAltura da espuma\n\u00bfOpenCell\t5-10-2\tAltura do OpenCell\ndmaxT hruster\t22-10\"2\tDia\u00e2metro da h\u00e1elice do propulsor\nd sphere\t33-10-2\tDi\u00e2metro da esfera\nFigura 5.2: Projecao superior do TURTLE.\nY_Structure\nY_FoamM\u00e1x\nY FoomSuperior\nFigura 5.3: Projecaofrontal do TURTLE.\nFigura 5.4: Projecao lateral do TURTLE.\nApesar do TURTLE ser constitu\u00eddo por m\u00faltiplas estruturas e componentes, apenas ser\u00e3o mencionados os principais componentes que t\u00eam grande influ\u00eancia na modeliza\u00e7\u00e3o do mesmo.\n\u2022\tEstrutura: Estrutura mec\u00eanica de suporte.\n\u2022\tEspuma: Este \u00e9 o bloco principal respons\u00e1vel pela flutuacao do ve\u00edculo.\n\u2022\tBaterias: Housing onde cont\u00e9m a associa\u00e7ao das celulas.\n\u2022\tThrusters: Sistema de propulsao (8 motores de propuls\u00e3o).\n\u2022\tCPU: l\u00ed o cilindro onde est\u00e1 a unidade de processamento respons\u00e1vel pelo controlo e navegacao do ve\u00edculo.\n\u2022\tJB: Neste cilindro esta toda a distribui\u00e7\u00e3o de energia para os v\u00e1rios sensores, motores e demais componentes do ve\u00edculo.\n\u2022\tEsfera: Esta \u00e9 a unica compartic\u00e3o transparente do ve\u00edculo. E aqui que estao todos os sistemas de comunicacao a superf\u00edcie do ve\u00edculo, assim como uma c\u00eamera de espectro vis\u00edvel.\n\u2022 Tanque Lastro (deposito): Este neste cilindro onde e a armazenada a agua injetada pela bomba.\n\u2022 VBS: Este e o cilindro onde esta todo o circuito composto pelo motor, bomba e eletrovalvulas, e que e responsavel por fazer variar o peso do ve\u00edculo e assim realizar movimento no plano z.\n\u2022 OpenCell: Estrutura que suporta a espuma.\n(a) Estrutura.\n(b) Bloco de flutua\u00e7\u00e3o.\n(c) Caixa das baterias.\n(f) Cilindro Junc-\n(e) Cilindro CPU.\ttion Box.\t(g) Esfera.\n(d) Thruster.\n(h) Reservatorio VBS\n(i) OpenCell.\nFigura 5.5: Principais componentes do TURTLE.\nNa seguinte tabela \u00e9 apresentado o volume correspondente a cada componente do TURTLE.\nTabela 5.2: Volume dos diversos componentes do TURTLE.\nPar\u00e2metros\tValor[m3]\tDescri\u00e7ao\nvvbs\t145.5 \u2022 10-3\tVolume do Cilindro de VBS\nvcpu\t20.94 \u2022 10-3\tVolume do Cilindro do CPU\nVjb\t11.40 \u2022 10-3\tVolume do Cilindro de Junction Box\nVSPHE\t5.98 \u2022 10-3\tVolume da esfera\nVFOAM\t1027.75 \u2022 10-3\tVolume de espuma\nVFRAME\t5.11 \u2022 10-3\tVolume da estrutura\nvbatt\t29.70 \u2022 10-3\tVolume das baterias\nvopencell\t7.45 \u2022 10-3\tVolume do Open Cell\nvballast\t65.0 \u2022 10-3\tVolume do cilindro de balastro\nvthruster\t0.001 \u2022 10-3\tVolume de um propulsor\nVdiverso\t0.013 \u2022 10-3\tVolume diverso\nVTotal\t1.42 \u2022 10-3\tVolume total do TURTLE\nNa seguinte tabela pode-se observar a massa correspondente a cada componente do TURTLE.\nTabela 5.3: Massa dos diversos componentes do TURTLE.\nPar\u00e2metros\tValor[kg]\tDescri\u00e7\u00e3o\nmvBS\t152\tMassa do Cilindro de VBS\nmcpu\t39.6\tMassa do Cilindro do CPU\nmjB\t29.6\tMassa do Cilindro de Junction Box\nmsPHE\t19.2\tMassa da esfera\nwfoam\t500\tMassa de espuma\nmFRAME+OPENCELL\t300\tMassa da estrutura\nwbatt\t(33.9) * 2\tMassa das baterias\nmBALLAST\t80\tMassa do cilindro de balastro\nmTHRUSTER\t(4.4) * 4\tMassa de um propulsor\nmdiversa\t(50)\tMassa diversa\nmTotal\t(1400)\tMassa total do TURTLE\nTanto os valores totais de volume como de massa podem apresentar alguma incerteza (\u00ab 1Z).\nNa tabela 5.4, apresentam-se os valores das coordenadas dos principais componentes que constituem o TURTLE.\nTabela 5.4: Coordenadas dos prinicpais componentes do TURTLE.\nPar\u00e2metros\tValor(x, y, z) [m]\tDescri\u00e7\u00e3o\nVBS\t(-5.93 \u2022 10-1,0,11.32 \u2022 10-1)\tCilindro VBS\nCPU\t(7.07 \u2022 10-1,0, 6.92 \u2022 10-1)\tCilindro CPU\nJB\t(4.07 \u2022 10-1,0, 6.92 \u2022 10-1)\tCilindro JB\nBALLAST\t(0, 0, 8.58 \u2022 10 1)\tTanque de Balastro\nSPHERE\t(10.50 \u2022 10-1,0, 5.25 \u2022 10-1)\tEsfera\nFOAM\t(0, 0, 2.50 \u2022 10-1)\tEspuma\nBATTERIES\t(5.93 \u2022 10-1,0, 7.54 \u2022 10-1)\tBaterias\nTHRUSTER1\t(86-10-2, -62-10-2, 73-10-2)\tPropulsor 1\nTHRUSTER2\t(-86T0-2,-62-10-2,73T0-2)\tPropulsor 2\nTHRUSTER3\t(-86T0-2,62-10-2,73T0-2)\tPropulsor 3\nTHRUSTER4\t(86T0-2,62-10-273T0-2)\tPropulsor 4\nTHRUSTER5\t(51T0-2,-97T0-2,68T0-2)\tPropulsor 5\nTHRUSTER6\t(-51-10-2,-97T0-2,6840-2)\tPropulsor 6\nTHRUSTER7\t(-51T0-2,97T0-2,68T0-2)\tPropulsor 7\nTHRUSTER8\t(51T0-2,97T0-2,68T0-2)\tPropulsor 8\n5.1.2\tPeso e flutua\u00e7\u00e3o\nO peso e a for\u00e7ca de impuls\u00f5ao do ve\u00e1culo TURTLE, podem sofrer pequenas alterac\u00e7\u00f5oes consoante as missoes a executar. Essas alterac\u00f5es devem-se essencialmente a mudan\u00e7a de sensores que comparadamente ao peso e a for\u00e7a de impuls\u00f5o total do TURTLE s\u00f5o desprez\u00e1aveis. Neste sentido ao longo desta disserta\u00e7ca\u00f5o o peso e a for\u00e7ca de impuls\u00f5ao ser\u00e1a considerado o que est\u00e1 mencionado na tabela 5.5, assumindo tambem que o sistema de variac\u00e7\u00f5ao de lastro permanece vazio. Estes c\u00e1alculos tiverem como base a densidade de 1000 Kg/m3.\nTabela 5.5: Peso e forca de impuls\u00f5o total do TURTLE.\nPar\u00e2metros\tValor (N)\tDescri\u00e7\u00e3o\nW\t13734\tPeso\nB\t13930\tForc\u00e7a de impuls\u00e3ao\n5.1.3\tCentro de gravidade e de flutuabilidade\nNa Tabela 5.6, apresentam-se as posi\u00e7\u00e3es do centro de gravidade (CG) e do centro de flutua\u00e7ao (CB). A inser\u00e7\u00e3o ou remo\u00e7\u00e3o de dispositivos no interior ou exterior do ve\u00edculo pode alterar estes valores. Ou seja, na verdade com o sistema de variac\u00e3o de lastro, estes valores sa\u00e3o alterados, contudo a variac\u00e7\u00e3ao dos mesmos \u00e9e desprez\u00e9avel, da\u00e9 assume-se que estes valores permanecem inalterados.\nTabela 5.6: Posi\u00e7\u00e3o do centro de gravidade.\nPar\u00eametros\tValor\t(m)\nxcg\t-10.45\t\u2022 10-2\nycg\t0\t\nzcg\t58.23 \u2022\t10-2\nTabela 5.7: Posic\u00e3o do centro de flutua\u00e7\u00e3o.\nPar\u00eaametros\tValor (m)\nxcb\t0\nycb\t3.6 \u2022 10 2\nzcb\t39.2 \u2022 10-2\nMomentos de In\u00e9rcia\t\tMomentos de in\u00e9rcia.\n\tTabela 5.8:\t\nPara\u00eametros\tValor (kg/m2)\tDescri\u00e7\u00e3o\nhx\t536.087\tMomento de in\u00edercia segundo o eixo x\n!yy\t429.55\tMomento de inercia segundo o eixo y\nIZZ\t573.25\tMomento de inercia segundo o eixo z\nPela an\u00e1lise dos valores presentes nas tabelas anteriores j\u00e1 \u00e9 poss\u00edvel concluir determinadas caracter\u00edsticas do ve\u00edculo TURTLE. Este ve\u00edculo tem flutuabilidade positiva devido a sua for\u00e7a de impulsao ser maior que o seu peso. l\u00ed hidrostaticamente est\u00e9vel na \u00e9gua devido \u00e0 distribuic\u00e3o do seu peso, ou seja, o seu centro de gravidade encontra-se abaixo\ndo centro de flutuabilidade. Tamb\u00e1m se pode verificar que embora o ve\u00edculo n\u00e3o seja perfeitamente sim\u00e1trico nos tr\u00eas planos de simetria, est\u00e1 perto disso (ver figuras 5.2, 5.3 e 5.4). Esta propriedade permite simplificar algumas express\u00f5es da hidrodinamica como visto no capitulo 3.\n5.1.5\tSistema de Propuls\u00e3o\nO veiculo TURTLE possui um total de oito thrusters, em que quatro (T 1,T2,T3 e T4) s\u00e3o responsaveis pelo movimento horizontal, ou seja movimento em surge, sway, yaw e os restantes quatro (T5,T6,T7 e T8) pelo movimento vertical (heave), como mostra a figura 5.6. Para o movimento em heave, a for\u00e7a gerada pelos thrusters \u00e1 a soma de da for\u00e7a de cada um, isto porque a configura\u00e7ao dos thrusters est\u00e1 paralela ao eixo Z. O mesmo n\u00e3o acontece na for\u00e7a gerada para o movimento em surge, sway e yaw. Desta forma e baseado na configura\u00e7\u00e3o dos thrusters \u00e1 necess\u00e1rio calcular a for\u00e7a no eixo longitudinal (X), transversal (Y) e no momento (N), ou seja, movimento em torno do eixo Z. Embora o processo de modeliza\u00e7\u00e3o do veiculo tenha por base um corpo com 6DOF (capitulo 3), devido \u00e0 sua utilizacao pr\u00e1tica, apenas sao considerados 4 graus de liberdade (surge, heave, sway e yaw). Considera-se tamb\u00e1m o TURTLE um veiculo completamente atuado devido a este possuir atuadores nos seus graus de liberdade.\nO processo de alocacao de thrusters abordado seguidamente tem como base m\u00e1todos propostos em [50].\nSistema de Propuls\u00e3o Horizontal\nAs for\u00e7as e os momentos de atua\u00e7ao no veiculo sao descritas pela seguinte express\u00e3o:\nonde, t = [ti,T2,t3]t,\t\tT = T (a)Pf\t\t(5.1)\t\nti -4Forca no movimento surge, t2\tForca no movimento sway, t3\tMomento em torno do eixo Z T \u2014>Matriz de alocacao.\t\tyaw,\t\t\t\n\tcos(a1)\tcos(a2)\tcos(a3)\tcos(a4)\t\nT =\tsin(a1)\tsin(a2)\tsin(a3)\tsin(a4)\t(5.2)\n\td1sin(Y1)\td2sin(Y2)\td3sin(Y3)\td4sin(Y4)\t\nonde Yi = ai - ^i; 72 = \u00ab2 - ^2; Y3 = 03 - ^3; e 74 = \u00ab1 - ^4;\na= \u00e2ngulo entre o eixo longitudinal e a dire\u00e7\u00e3o de thrust.\nd= dist\u00e2ncia de cada thruster com o centro de gravidade.\n= \u00e2ngulo entre o eixo longitudinal e a linha que liga ao centro de gravidade de cada thruster.\nf=[f1, f2, f3, f4] - Thrust necess\u00e1rio para gerar as for\u00e7as pretendidas em cada eixo.\nP - Matriz diagonal que representa a atividade dos thrusters. Se o thruster estiver ativo e representado pelo \u201d1\u201d, caso esteja inativo pelo \u201d0\u201d. Neste caso assumiu-se que todos os thrusters estariam ativos.\nNa figura 5.6 esta representada a configura\u00e7ao dos thrusters e na tabela 5.9 os coeficientes representados na matriz 5.2.\na2\nT1\nXpJ\np2\nd2\ndl\nYp\nY\nd3\nd4\n\u25a0Xp\\\nT3\nT2\na3\na4\nQ\nT8\nQ\nT5\nQ\nT7\n<?\nT6\nk p4\nal\nT4\nFigura 5.6: Disposi\u00e7\u00e3o dos thrusters.\npl\n\u2022\nI\nI\nI\nI\nI\nI\nI\nI\nI\nI\n-Yp!\nfe - - - -I- -\nI\nI\nI\nI\nI\nI\nI\nI\nI\nI --------- -\nI\nI\nI\nI\nI\np3\n\u25a0 y\n\u2022\nTabela 5.9: Coeficientes da matriz de alocac\u00e3o.\nPar\u00e2metros\tValor\ndl\t1.06m\nd2\t1.06m\nd3\t1.06m\nd4\t1.06m\na1\t35\u00b0\na2\t35\u00b0\na3\t35\u00b0\na4\t35\u00b0\n^1\t35.7748\u00b0\n^2\t35.7748\u00b0\n^>3\t35.7748\u00b0\n^4\t35.7748\u00b0\nIndependentemente de o TURTLE estar a ser controlado manualmente, semi-aut\u00f3nomo ou mesmo aut\u00f3nomo, o sistema de propulsao do TURTLE est\u00e1 preparado para receber tr\u00eas par\u00e2metros (valores) que representam o movimento em: surge, sway e yaw. Esses par\u00e2metros podem representar referencias de um determinado joystick, assim como forcas ou velocidades. Posteriormente estes valores sao traduzidos para referencias de cada thruster pela seguinte equac\u00e3o:\nf = T' * T =\n0.9037\n-0.9037\n-0.9037\n0.9037\n0.4282\n0.4282\n-0.4282\n-0.4282\n-0.7415\t\tT1\n0.7415\tX\tT2\n-0.7415\t\t_T3\n0.7415\t\t\n(5.3)\nOs sinais provenientes dos coeficientes da matriz T, representam o movimento do thruster, ou seja se for positivo, sentido hor\u00e1rio, negativo anti-hor\u00e1rio.\nSistema de Propuls\u00e3o Vertical\nNo movimento vertical (heave) a configurac\u00e3o \u00e1 bastante mais simples, dessa forma a forca aplicada a cada thruster \u00e9 a mesma forca que atua no ve\u00edculo paralela ao eixo Z, que resulta num somat\u00f3rio da for\u00e7a debitada de cada thruster.\nf =\n1\n1\n1\n1\nx H\n(5.4)\nNa Tabela 5.10, estao mencionadas as for\u00e7as totais de eixo do movimento, tendo por base as caracter\u00edsticas fornecidas pelo fabricante dos thrusters - Seaeye e a configurac\u00e3o dos mesmos no ve\u00edculo (Figura 5.6).\nTabela 5.10: Forca de propulsao.\nPar\u00eametros\tValor\tDescric\u00e7\u00e3ao\nFp surge\t124.16(N)\tFor\u00e7ca no movimento em surge\nPpsway\t86.94(N)\tFor\u00e7ca no movimento em sway\nFpyaw\t251.63(N/m)\tForc\u00e7a no movimento em yaw\nF pheavepos\t510.1(N)\tFor\u00e7ca no movimento vertical positivo\nFpheaveneg\t502.3(N)\tFor\u00e7ca no movimento vertical negativo\n5.1.6\tSimula\u00e7\u00e3o CFD - Drag\nA for\u00e7a de arrasto resulta da interac\u00e3o entre o corpo do ve\u00edculo (TURTLE) e o flu\u00eddo que o rodeia, que se modifica com base na dinamica do ve\u00edculo bem como nas condic\u00e3es ambientais [55]. Recorrendo ao software CFD - (Computer Fluid Dynamics) do SolidWorks, foi poss\u00edvel analisar o fluxo e a pressao exercida pelo flu\u00eddo ao longo da superf\u00edcie do TURTLE, assim como as zonas mais prop\u00edcias \u00e0 forma\u00e7\u00e3o de v\u00edrtices [56]. As condic\u00e3es iniciais de simulac\u00e3o foram a densidade da \u00edgua de 1000 kg/m3, a temperatura de 293,2K e a velocidade do flu\u00eddo de 0,5 m/s, cuja dire\u00e7\u00e3o foi simulada em tr\u00eas graus de liberdade do TURTLE (i.e surge, sway e heave). Os resultados destas simulac\u00f5es s\u00e3o uteis para retirar conclus\u00f5es acerca do comportamento hidrodinamico do TURTLE.\nSurge\nNa Figura 5.7a pode observar-se a pressao exercida no TURTLE quando este se movimenta em surge. Como esperado, a zona de maior pressa\u00e3o \u00ede na face frontal do TURTLE, junto \u00e0 espuma. Embora se trate de uma zona pouca hidrodin\u00eamica, o diferencial dos pontos de maior e menor press\u00e3o s\u00e3o apenas &lt;160Pa. Como tal considera-se a pressao uniformemente distribu\u00edda pela superf\u00edcie do TURTLE.\n\u25a0 - 101449.44\n101438.52\n\u25a0 101427.60\n101416.68\n101405.76\n101394.84\n101383.92\n101373.00\n101362.08\n101351.16\n101340.24\n101329.32\n101318.40\n101307.48\n101296.56\nPressure [Pa]\n(a) Contorno da press\u00e3o no movimento\t(b) Vetor da press\u00e3o no movimento\nsurge positivo.\tsurge positivo.\nFigura 5.7: Press\u00e3o superficial em surge.\nNa Figura 5.7b, \u00e9 tamb\u00e9m poss\u00edvel verificar a distribui\u00e7\u00e3o da press\u00e3o sobre o TURTLE, apoiada de vetores do fluxo da agua.\nE tambem poss\u00edvel observar na Figura 5.8a a zona cr\u00edtica de forma\u00e7\u00e3o de v\u00e9rtices aquando da navega\u00e7\u00e3o do TURTLE. Como esperado \u00e9 no topo do ve\u00edculo que se formam os vortices mais fortes, chegando a atingir valores triplos da velocidade de navegacao, assim como na face contr\u00e9ria \u00e0 navega\u00e7\u00e3o, deixando um rasto de passagem.\n(a) Velocidade dos vortices no movimento surge positivo.\n(b) Velocidade do flu\u00eddo no movimento lateral - surge positivo.\nFigura 5.8: Velocidade e vorticidade do flu\u00eddo em surge.\nSway Negative\nRelativamente ao movimento em sway (Figura 5.9), verifica-se que na aus\u00eancia da esfera para quebrar a \u00e1gua tem-se uma forma\u00e7ao mais agressiva de v\u00f3rtices no topo do ve\u00edculo. Contudo, os v\u00f3rtices na face contr\u00e1ria \u00e0 de navega\u00e7\u00e3o s\u00e3o atenuados devido \u00e0 quebra da \u00e1gua pelo cilindro do VBS.\n(a) Velocidade dos vortices no movimento lateral - sway negativo.\n(b) Velocidade do flu\u00eddo no movimento lateral - sway negativo.\nFigura 5.9: Velocidade e vorticidade do flu\u00eddo em sway.\nHeave\nObservando a Figura 5.10, facilmente se percebe a dire\u00e7\u00e3o do fluido em cada simula\u00e7\u00e3o. Como e poss\u00edvel verificar a Figura 5.10a, tem uma maior press\u00e3o na parte superior, o que corresponde ao TURTLE no seu movimento ascendente. Enquanto que na Figura 5.10b o TURTLE realizou o movimento descendente. Ou seja, pela observa\u00e7\u00e3o das figuras pode-se concluir que no movimento descendente existe uma maior area de contacto onde a press\u00e3o \u00e9 maior, enquanto no movimento ascendente grande parte da press\u00e3o est\u00e1 concentrada na parte superior do TURTLE. Assim pode afirmar-se que o TURTLE tem um melhor comportamento hidrodin\u00e2mico no movimento ascende do que descendente.\n(a) Contorno da press\u00e3o no movimento heave negativo.\n101500.44\n101484.52 101468.59 101452.67\n101436.75 101420.83 101404.91 101388.98 101373.06 101357.14 101341.22 101325.30 101309.37\n101293.45\n101277.53 101261.61 101245.69\n101229.76\nPressure [Pa]\n(b) Contorno da press\u00e3o no movimento heave positivo.\n101470.13 101455.99 101441.85 101427.71 101413.58 101399.44 101385.30 101371.16 101357.02 101342.88 101328.74 101314.60 101300.46 101286.32 101272.18 101258.04 101243.90 101229.76\nPressure [Pa]\nFigura 5.10: Press\u00e3o superficial em heave.\nRelativamente ao comportamento dos vortices estes s\u00e3o mais notaveis no movimento ascendente.\n(a) Velocidade dos vortices no movimento heave negativo.\n(b) Velocidade dos v\u00e1rtices no movimento heave positivo.\nFigura 5.11: Velocidade e vorticidade do flu\u00eddo em heave.\nAp\u00e1s a simula\u00e7\u00e3o obtiveram-se os coeficientes de drag representados na Tabela 5.11.\nTabela 5.11: Coeficientes de Drag\nPar\u00eametros\tValor\tUnidades\nXu|u|\t10.83\tKg/m\nYv|v|\t-17.80\tKg/m\nz zw\\w\\\t40.71\tKg/m\nKp^\t0.19\tKg\nMq\\q\\\t0.232\tKg\nNr|r|\t-0.19\tKg\nCap\u00edtulo 6\nControlo do TURTLE\nNeste cap\u00e1tulo ser\u00e1 abordado a arquitetura do controlo, a implementac\u00e3o do software e algumas manobras propostas. Ser\u00e1 ainda aprofundado alguns fundamentos teoricos relativos ao controlador PID.\n6.1\tArquitetura de controlo\nNa Figura 6.1, apresenta-se a arquitetura geral dos principais blocos de software do TURTLE. A camada de comunica\u00e7\u00e3o respons\u00e1vel pela gest\u00e3o da comunica\u00e7ao do rob\u00e2 com o exterior recorre a sistemas apropriados consoante as condic\u00e3es de opera\u00e7ao (superf\u00edcie, submerso).Este baseia-se tanto na posic\u00e3o do TURTLE (superficie ou subaqu\u00e1tica), mas tamb\u00e9m na melhor forma de comunica\u00e7\u00e3o (WI-FI, RF, Iridium, Acustica) consoante as condi\u00e7\u00f5es atuais. O bloco de localiza\u00e7\u00e3o, este l\u00e2 dados de diversos sensores, que apos a utiliza\u00e7\u00e3o de um filtro EKF - Extended Kalman Filter, fornece medidas previstas de posi\u00e7\u00e3o, velocidades e atitude nos tr\u00e2s eixos de navega\u00e7\u00e3o. O bloco \u2019\u2019outros perifercios\u201drepresenta todos os outros m\u00e1dulos de software que existem no TURTLE mas que na\u00e3o interferem diretamente no controlo do rob\u00e2o, como por exemplo sistemas de gest\u00e3ao de energia, sistemas de monitoriza\u00e7ca\u00e3o de outras vari\u00e1aveis como temperatura interna, fugas de \u00e1agua, corrente, tens\u00e3ao, etc. Por fim o bloco que sera\u00e1 abordado com mais detalhe, \u201dGuidance Control\u201d, e respons\u00e1vel por todo o movimento do TURTLE, nos seus tr\u00e2es eixos de navega\u00e7c\u00e3ao.\nCOMUNICATION\nMANAGER_COMUNIOAT\u00a1ON\nLOCALIZATION\nGUIDANCE &amp; CONTROL\nACTUATORS\nI\nOTHER PERIPHERALS\nNetwork of microcontroll\ners\nSafety Systems\nEnergy Management\n\u00ed\nTHRUSTERS\n(VBS)\nFigura 6.1: Arquitetura geral do software de controlo versao 2.\n6.2\tImplementa\u00e7\u00e3o software\nGrande parte do software de controlo tem por base o middleware ROS. ROS (Robotic Operation System), \u00e9 uma plataforma open source que possui uma serie de servi\u00e7os e bibliotecas que simplificam a cria\u00e7ao e partilha de aplica\u00e7\u00f5es atrav\u00e9s do sistema de subscri\u00e7ao e publicac\u00f5o de nodes [57]. Uma outra vantagem deste middleware, refere-se ao facto de permitir a programa\u00e7ao em diferentes linguagens de como: Python, C++, etc.\nA seguinte 6.2 mostra a arquitetura geral do software de controlo elaborado numa fase inicial. Esta fase corresponde a testes de operacionalidade ba\u00e9sica de forma a validar os diferentes subsistemas do ve\u00e9culo.\nFigura 6.2: Arquitetura geral do software de controlo vers\u00e3o 1 (testes basicos de funcionalidade).\nNuma fase posterior foram desenvolvidos os diferentes mo\u00e1dulos de software correspondentes \u00e0 arquitetura de controlo definida.\nFigura 6.3: Arquitetura do gestor de miss\u00f5es.\nEste modulo (Figura 6.3) corresponde ao gestor de miss\u00f5o do TURTLE. Como mencionado anteriormente todas as miss\u00f5es a executar, ser\u00f5o um conjunto de manobras que interligadas entre si, realizam determinadas tarefas pr\u00e1-programadas. Este bloco gere o tipo de miss\u00f5o a executar. Como se pode observar na Figura 6.3, existem cinco modos em que o gestor de miss\u00f5o pode estar:\n\u2022\tMMSTOP\nComuta para este modo, sempre que se pretenda cancelar uma determinada miss\u00f5o, ou outra manobra que este esteja a realizar.\n\u2022\tMMIDLE\nAp\u00e1s o TURTLE passar pelo modo MM STOP, e verificar que realmente cancelou aquilo que estava a realizar, comuta para o modo \u201dMM_IDLE\u201d e mantem-se at\u00e1 \u00e0 espera de uma nova ordem.\n\u2022\tMMTELE\nNeste modo, o TURTLE pode ser controlado pelo Joystick de uma forma manual. Contudo mesmo sendo controlado pelo Joystick, pode ter modos de controlo aut\u00e1nomo como por exemplo: manter a mesma dire\u00e7\u00f5o, velocidade e profundidade.\n\u2022\tMMMISSION\nE poss\u00edvel ler um ficheiro de configura\u00e7\u00f5o, onde est\u00f5o descritas todas as manobras que o TURTLE ir\u00e1 realizar para completar uma determinada missao. O pr\u00e1prio gestor de miss\u00f5o \u00e1 que verifica quanto comuta para uma nova manobra, verificando determinadas condi\u00e7oes que o validam de comutar.\n\u2022 MMEMERGENCY\nS\u00e3o v\u00e1rios os sistemas que alertam para uma poss\u00edvel anomalia existente. Essa anomalia posteriormente \u00e1 analisada para determinar qual o modo de emerg\u00eancia a ativar.\nFigura 6.4: Exemplo de uma m\u00e1quina de estados.\nFigura 6.5: Arquitetura do gestor de manobras.\nA descric\u00e3o de todas as manobras est\u00e3o descritas no bloco \u201d Turtle Motion Control\u201d. Este bloco tem a principal fun\u00e7\u00e3o de executar as fun\u00e7\u00e3es de PID (controlo proporcional, integral e derivativo), baseadas no dados de navega\u00e7\u00e3o e posteriormente publicar o resultado dessas mesmas fun\u00e7oes (PID) para o bloco thrusters control e VBS control. Este e o bloco que valida se uma determinada manobra foi ou n\u00e3o conclu\u00edda com sucesso, dando permissa\u00e3o ao gestor de misso\u00e3es para iniciar uma nova manobra. Este bloco tamb\u00edem pode a pedido do gestor de miss\u00e3oes abortar a manobra atual.\nFigura 6.6: Arquitetura do gestor de controlo do thrusters.\nO bloco \u201d Thrusters Control\u201d, trata informa\u00e7ao de controlo enviada para os thrusters. Ou seja, recebe informac\u00e3o proveninete do bloco \u201d Turtle Motion Control\u2019\u2019aplica a matriz de alocaca\u00e7\u00e3o e publica as referencias de cada thruster para o \u201d driver thrusters\u201d. Este bloco tambem cont\u00e9m func\u00e3es PID, usadas quando o TURTLE est\u00e1 no modo de teleo-perac\u00e7\u00e3ao e o utilizador pretende manobrar mas mantendo uma determinada orienta\u00e7c\u00e3ao, velocidade, profundidade, etc. O objetivo deste bloco \u00e1e tamb\u00e1em tratar erros provenientes dos thrusters e se necess\u00e1ario ajustar a matriz de aloca\u00e7cao, caso algum thruster esteja inativo.\nFigura 6.7: Arquitetura do gestor de controlo do VBS.\nEste bloco equipara-se ao anterior (Thrusters Control), mas direcionado para o VBS. Apenas recebe instru\u00e7\u00e3es do \u201d Turtle Motion Control\u201de comuta para o estado desejado. Este bloco cont\u00edm todo o c\u00eddigo necess\u00edrio para executar essencialmente duas tarefas: introduzir \u00edgua e retirar a \u00e0gua. Obviamente que estes dois processos ser\u00e3o precedidos de outras varia\u00edveis como por exemplo, quantidade de \u00edagua a movimentar e o fluxo da mesma.\nAs figuras 6.8 e 6.9, representam os blocos de baixo n\u00edvel que sao os drivers, tanto dos thrusters como do VBS. A principal fun\u00e7\u00e3o destes blocos \u00ed fazer a comunica\u00e7\u00e3o direta com o hardware, ler dados de monitoriza\u00e7ca\u00e3o dos mesmos e disponibiliza-los para melhor execu\u00e7ca\u00e3o das manobras implementadas.\nFigura 6.8: Arquitetura driver thrusters.\nDRIVER ROBOTEQ\nSubscriver( \u201cthrusters_Ref\")\nFigura 6.9: Arquitetura driver VBS.\n6.3\tManobras\nExecutar determinadas miss\u00f5es sem interven\u00e7\u00e3o de um operador, contribui para um acr\u00e9scimo das capacidades inerentes \u00e0s necessidades de caracter militar, civil ou cientificas. Abrangendo estes tr\u00eas grupos mencionados anteriormente o TURTLE pode desenvolver miss\u00f5es tais como:\n\u2022\tPermanecer no fundo do oce\u00eaneo por um determinado per\u00edodo e realocar a sua posi\u00e7ao para outra zona do oceano;\n\u2022\tAl\u00e9m da sua realoca\u00e7\u00e3o no fundo do oceanico pode tamb\u00e9m executar miss\u00f5es para a perman\u00eancia na coluna de \u00e9gua;\n\u2022\tDurante o per\u00edodo que esta no fundo oceanico poder\u00e9 recolher dados de monito-rizac\u00e3o ambientais, biol\u00e9gicos, sismicos, etc;\n\u2022\tPoder\u00e9 incorporar um novo m\u00e9dulo de sensores (e.x MarinEye) e tomar decis\u00f5es baseadas no m\u00f3dulo incorporado;\n\u2022\tTransporte de cargas para o fundo oceanico, e tambem uma poss\u00edvel miss\u00e3o, devido ao seu payload de 200kg;\n\u2022\tOutra miss\u00e3o em que o TURTLE poder\u00e9 estar inserido \u00e9 no apoio \u00e0 navega\u00e7ao subaqu\u00e9tica juntamente com outros ve\u00edculos.\nPara todas estas e muitas outras miss\u00e3es que o TURTLE poder\u00e9 estar abrangido \u00e9 ne-cess\u00e9rio dividir determinados comportamentos do TURTLE em pequenas manobras em que a sequencia das mesmas, resultam em miss\u00e3es como as mencionadas anteriormente.\n\u2022\tLAND\nEsta manobra e respons\u00e9vel por aterrar o TURTLE. Dependendo do seu n\u00e9vel de exig\u00eancia, pode atrav\u00e9s de sensores batimetricos analisar o fundo do oceano e\nperceber se o local \u00e9 propicio a uma aterragem suave e segura tanto para o ve\u00edculo como para o meio envolvente.\n\u2022\tANCHOR\nPermanecer no fundo do oceano por longos periodos de tempo \u00e1 um dos principais objetivos do TURTLE. Para isso e em muitos casos \u00e1 importante que este fique fixo ao ch\u00e3o, evitando que seja movido pela corrente. Para esses casos existe esta manobra que al\u00e1m de encher o tanque de lastro do VBS, pode tambem ativar outro tipos de mecanismos (futuramente implementados) que o permitem estar fixo ao solo.\n\u2022\tUNDOCK\nManobra inversa da anterior. Sempre que \u00e9 feito um ANCHOR, posteriormente para mover o TURTLE de posi\u00e7\u00e3o, \u00e9 necess\u00e1rio ter um certo cuidado para que este n\u00e3o fique enterrado no solo. Desta forma esta monobra faz uso do VBS e dos thrusters ate que esteja numa posi\u00e7\u00e3o segura de realizar outro tipo de manonbra.\n\u2022\tSUBMERGE\nEsta manobra \u00e9 usada para submergir o TURTLE, quando este esta \u00e0 superf\u00edcie. Dependendo da miss\u00e3o, podera executar esta manobra de uma forma mais r\u00e1pida usando os thrusters verticais para submergir at\u00e1 ficar completamente coberto de \u00e1gua, ou de uma forma mais lenta usando o VBS. Corresponde a transic\u00e3o entre o estado \u00e0 superf\u00edcie e completamente submerso.\n\u2022\tEMERGE\nE a manobra equivalente \u00e0 SUBMERGE, mas neste caso para a transicao entre o estado submers\u00e1vel e a superficie. Esta manobra limita a velocidade de subida do TURTLE usando os thrusters verticais para uma ascensao em seguran\u00e7a.\n\u2022\tDIVE\nManobra usada para o TURTLE executar descidas na coluna de \u00e1gua para grandes profundidades. Numa primeira fase faz uso do VBS para encher o reservat\u00f3rio e assim atingir mais velocidade vertical, e numa segunda fase usa os thrusters verticais para uma aproxima\u00e7\u00e3o mais suave \u00e0 profundidade desejada.\n\u2022\tASCEND\nManobra inversa da anterior, mas neste caso usada para a subida vertical do TURTLE na coluna de agua.\n\u2022 NEUTRAL\nEsta manobra \u00e9 usada para colocar o TURTLE neutro, podendo ser grande parte das vezes usada para colocar o TURTLE com flutuabilidade neutra na coluna de agua. Para realizac\u00e3o desta monobra o TURTLE usa os thrusters verticais de forma a permanecer numa determinada profundidade e consoante a flutuabilidade do TURTLE, este retira ou introduz agua no tanque VBS, ate obter a posi\u00e7\u00e3o correta e n\u00e3o ser necessario a atua\u00e7ao nos thrusters, para que o TURTLE se mantenha na mesma posi\u00e7\u00e3o.\n\u2022 HOVER\nMesmo com o TURTLE neutro, as correntes existentes na coluna de agua provocam um movimento involuntario no mesmo. Desta forma a manobra HOVER, usa os thrusters verticais como horizontais para manter uma determinada posic\u00e3o predeterminada evitando o movimento do TURTLE na coluna de agua.\n\u2022 GOTO\nEsta manobra recorre apenas ao sistema de propuls\u00e3o (thrusters), para movimentar o ve\u00edculo para a posi\u00e7\u00e3o desejada. Tanto pode ser usada no movimento vertical como horizontal. Para grandes exatid\u00e3es na posi\u00e7\u00e3o em Z, \u00e9 usual recorrer a esta manobra.\nOutro aspeto a ter om conta no desenvolvimento do software para o ve\u00edculo TURTLE e a sua interface com o utilizador. Esta ainda se encontra em fase de desenvolvimento, contudo e poss\u00edvel de uma forma rapida e simples o carregamento de uma determinada miss\u00e3o, preenchendo apenas o ficheiro (yaml - linguagem de marca\u00e7\u00e3o estruturada) que se encontra mostrado na Figura 6.10.\n1\tnManeuvers: 3\t> Qtd. de manobras\n2\ttypeManeuver: [6,13, 7]\t> ID de cada manobra\n3\twayPoint _x: [0,0,0]\t> WayPoint em X\n4\twayPoint _y: [0,0, 0]\t> WayPoint em Y\n5\twayPoint _z: [0,0,5]\t> WayPoint em Z\n6\tvel_x: [0,0,0]\t> Vel em X\n7\tvel_y: [0,0,0]\t> Vel em Y\n8\tvel_z: [0,0,0]\t> Vel em Z\n9\theading: [0,0,0]\t> Heading\n10\ttimeOut: [15,15,15]\t> Tempo m\u00e1ximo de execu\u00e7\u00e3o\n11\tvelMax: [20,0,20]\tt> Velocidade m\u00e1xima\n12\tthreshold: [1,0,1]\t> Erro m\u00e1ximo\n13\theightFloor: [5,0,0]\t> Altura do fundo\n14\tliters: [1,0,1]\tt> Qtd. litros do reservat\u00f3rio\nFigura 6.10: Exemplo de um ficheiro tipo yaml de uma miss\u00e3o.\nFazendo uso de todas estas manobras, \u00ed poss\u00edvel criar miss\u00e3es ou at\u00ed mesmo outro tipo de manobras compostas que permitem usar o TURTLE para realiza\u00e7\u00e3o de determinadas tarefas, como por exemplo: REPOSITION, BOTTOM FOLLOW, SURVEY (mapeamento, batimetria, detec\u00e7\u00e3o de determinados componentes no solo oce\u00e2nico, etc).\nTodas estas manobras podera\u00e3o ter n\u00edveis de robustez diferentes, possibilitando criar um TURTLE mais aut\u00ednomo e mais capaz de lidar com dificuldades n\u00e3o previstas. Podendo at\u00ede o pr\u00edoprio TURTLE possuir uma camada de avalia\u00e7ca\u00e3o se determinada manobra pode ou na\u00e3o ser executada, mediante vari\u00edaveis que possam por em causa o sucesso da manobra, como por exemplo, energia dispon\u00edvel, entre muitas outras. Contudo este processo n\u00e3ao ser\u00eda abordado nesta disserta\u00e7c\u00e3ao.\n6.4\tControlador PID\nUm sistema de controlo tem como principal objetivo, manter um determinado processo dentro dos para\u00e2metros desejados. Para este fim, existem v\u00edarias t\u00edecnicas de controlo como: Linear Quadratic Regulator, Backstepping, Sliding Mode, Fuzzy e PID, sendo esta \u00faltima usada nas execu\u00e7\u00f5es das manobras desta disserta\u00e7\u00e3o. O Controlador PID, \u00ed bastante usado em inu\u00edmeras aplicac\u00e7o\u00e3es que requerem um controlo linear eficaz e robusto numa ampla gama de condi\u00e7c\u00e3oes de funcionamento e que tem como grande vantagem o facto de nao ser necessario o conhecimento do modelo do sistema. A t\u00edcnica do contro-\nlador PID consiste em calcular um valor de atua\u00e7\u00e3o sobre o processo a partir do valor desejado e do valor atual da vari\u00e1vel do processo. Este valor de atua\u00e7\u00e3o sobre o processo \u00e9 transformado num sinal adequado ao atuador em quest\u00e3o (PWM, tensao, etc). A afinac\u00e3o dos par\u00e2metros do PID, (Kp, Ki, Kd), \u00e9 feita atrav\u00e9s sobretudo empiricamente, contudo existem alguns processos que facilitam a obten\u00e7\u00e3o dos par\u00e2metros [58].\nO sinal de controlo gerado pelo controlador PID e dado pela seguinte equa\u00e7\u00e3o:\nu(t) = Kp e(t) + Ki\ne(t)dt + Kd\nde(t) dt\n(6.1)\nonde:\n\u2022\tu - sinal a controlar;\n\u2022\te - erro de controlo (diferen\u00e7a entre variavel do processo e valor desejavel);\n\u2022\tKp - Ganho proporcional;\n\u2022\tKi - Ganho integral;\n\u2022\tKd - Ganho derivativo;\nComo e percet\u00e1vel pela equa\u00e7\u00e3o anterior este controlador e composto por tr\u00e2s a\u00e7\u00e3es de controlo: proporcional, integrativa e derivativa. Com este tipo de controlador pode-se obter quatro tipo de configurac\u00e3es poss\u00e1veis:\n\u2022\tP - Proporcional;\n\u2022\tPI - Proporcional e integral;\n\u2022\tPD - Proporcional e derivativo;\n\u2022\tPID - Proporcional, integral e derivativo;\nFigura 6.11: Diagrama de blocos de um controlador PID.\n6.4.1\tA\u00e7\u00e3o Proporcional\nPout   Kpe(t')\n(6.2)\nEsta a\u00e7\u00e3o do PID, produz um valor na sa\u00edda proporcional ao erro obtido na reali-menta\u00e7\u00e3o. A resposta proporcional pode ser ajustada a partir da constante de ganho Kp. Quanto maior a constante Kp, maior ser\u00e1 o ganho do erro e mais inst\u00e1vel ser\u00e1 o sistema. Contudo se o valor da constante for muito pequeno, maior ser\u00e1 o tempo de resposta.\n\nFigura 6.12: Ac\u00e3o proporcional com variacao do Kp [59].\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n6.4.2\tA\u00e7\u00e3o integral\n\u00edout   Ki\te(t)dt\n(6.3)\nA fun\u00e7\u00e3o integral soma todos os erros instant\u00e2neos sendo esse somat\u00f3rio multiplicado pela constante Ki. A func\u00e3o integral do controlador PID acelera o movimento do processo ate o ponto desejado e elimina o erro que ocorre na funcao anterior. Como a fun\u00e7\u00e3o soma dados instantaneos, o resultado do processo pode ultrapassar o ponto desejado. Essa consequencia se chama overshoot. A Figura 6.13 mostra um gr\u00f3fico com uma entrada (linha azul) e as sa\u00eddas com Ki de v\u00f3rios valores.\n6.4.3\tA\u00e7\u00e3o derivativa\nDout\nK de(t) = Kd~\n(6.4)\nA fun\u00e7\u00e3o derivativa retarda a taxa de varia\u00e7\u00e3o de sa\u00edda do controlador. Essa fun\u00e7\u00e3o diminui o overshoot da fun\u00e7\u00e3o anterior e melhora a estabilidade do controlador. Por outro lado, a fun\u00e7\u00e3o derivativa causa um retardo na resposta e \u00e9 muito suscet\u00edvel \u00e0 ru\u00eddos. Isto acontece porque essa fun\u00e7\u00e3o amplifica o ru\u00eddo e caso o ru\u00eddo e o ganho Kd forem muito grandes, podem causar instabilidade no controlador. A Figura 6.14 mostra um grafico com uma entrada (linha azul) e as sa\u00edda geradas pela func\u00e3o.\n6.4.4\tResumo das caracter\u00edsticas do PID\nAs ac\u00f5es do PID podem ser vistas como sendo realizadas por controladores independentes:\n\u2022\t1. Um controlador proporcional Kp ir\u00e1 reduzir o tempo de subida, mas n\u00f5o elimina o erro em regime permanente;\n\u2022\t2. Um controlador integra Ki, ir\u00e1 eliminar o erro em regime permanente, mas ir\u00e1 piorar a resposta transit\u00e1ria;\n\u2022\t3. Um controlador derivativo Kd ter\u00e1 o efeito de aumentar a estabilidade do sistema, reduzindo o overshoot e melhorando a resposta transit\u00e1ria;\nAs quatro caracter\u00edsticas mais importantes que definem a resposta de um controlador PID s\u00f5o [60]:\n\u2022\tTempo de Subida - o intervalo de tempo para que a sa\u00e1da do sistema suba alem dos 90Zdo n\u00e1vel desejado;\n\u2022\tOvershoot - quanto o n\u00e1vel de pico \u00e1 superior ao estado estacion\u00e1rio face ao estado estacion\u00e1rio;\n\u2022\tTempo de estabelecimento - tempo necessario para que o sistema converja para o estado estacionario;\n\u2022\tErro do estado estacionario - diferenca entre a sa\u00edda do estado estacionario e a sa\u00edda desejada;\nTabela 6.1: Comportamento do controlador PID face \u00e0 variac\u00e3o (aumento) dos par\u00e2metros Kp, Ki, Kd.\nPar\u00e2metro\tTempo de subida\tOvershoot\tTempo de estabelecimento\tErro do estado estacionario\nKp\tdiminui\taumenta\tpequena varia\u00e7\u00e3o\tdiminui\nKi\tdiminui\taumenta\tpequena varia\u00e7ao\tdiminui\nKd\tpequena varia\u00e7\u00e3o\tdiminui\tdiminui\tpequena varia\u00e7\u00e3o\nContudo e importante realcar que nem sempre o aumento dos par\u00e2metros mencionados na tabela anterior (6.1) correspondem ao comportamento desejado, isto porque todos os sistemas s\u00e3o diferentes gerando assim comportamentos diferentes.\nCap\u00edtulo 7\nSimula\u00e7\u00e3o\nO modelo de simula\u00e7c\u00e3ao desenvolvido teve por base a arquitetura do software implementado no TURTLE (capitulo 6). Este modelo tem como objetivo testar multiplas manobras de locomo\u00e7c\u00e3ao com diversos m\u00edetodos de controlo sem a necessidade de recorrer ao ve\u00edculo real.\nFoi desenvolvido um modelo de simulac\u00e7\u00e3ao do TURTLE, tendo em vista estudar o comportamento do ve\u00edculo e validar o controlo. Desta forma recorreu-se ao software Matlab/Simulink, que permite a simulac\u00e3o de sistemas n\u00e3o lineares complexos, possuindo uma interface simples e poderosa.\nA organiza\u00e7\u00e3o da simula\u00e7\u00e3o pode ser visualizada na Figura 7.1. O bloco \u2019\u2019Interface Manual\u201d cont\u00edm a interface com o joystick de forma a possibilitar o controlo manual realizado pelo utilizador. O bloco \u2019Manager Mission\u2019 gere as v\u00edarias misso\u00e3es a serem executadas pelo ve\u00edculo, que por sua vez cada miss\u00e3o tem um conjunto de manobras que est\u00e3o detalhadas no bloco \u201dDescription Maneuvers\u201d. O bloco \u201dTurtle Vehicle\u201d representa o modeliza\u00e7c\u00e3ao do ve\u00edculo TURTLE com os seus principais componentes. O bloco \u201dPlots Visualization\u201d \u00e9 responsavel pela apresenta\u00e7\u00e3o grafica dos resultados. A simula\u00e7ca\u00e3o foi abordada tendo em conta um ambiente ideal, sem perturba\u00e7c\u00e3oes de for\u00e7cas externas, exceto do VBS e thrusters assim como alguma incerteza no modelo din\u00eaamico do VBS (bomba + reservat\u00edrio) e do sistema de propuls\u00e3o (thrusters).\nPLOTS VISUALIZATION\nEE\tE\ne-------m\nEE)-------Cl\ne|\nEE--------H\nEE\tE\u00c91\nEEE-------\nFF\tBfl\n\nFigura 7.1: Blocos Simulink do simulador do sistema.\n7.1\tModela\u00e7\u00e3o do movimento vertical do TURTLE\nNo que respeita ao ve\u00e1culo TURTLE, para simula\u00e7c\u00e3ao teve-se em conta a modelizac\u00e7\u00e3ao do VBS (bomba + reservat\u00e1rio), thrusters e uma aproxima\u00e7\u00e3o da geometria do ve\u00e1culo.\nNa Figura 7.2 encontra-se o diagrama da simula\u00e7\u00e3o em simulink, relativamente ao VBS.\nFigura 7.2: Diagrama da simula\u00e7\u00e3o do VBS.\nA bomba recebe os valores provenientes de uma sa\u00edda de um controlador que resulta numa rota\u00e7\u00e3o e que por sua vez produz um fluxo de agua ao longo do tempo. Esse fluxo posteriormente serve de entrada para o deposito que vai integrando esse fluxo ao longo do tempo para obter a quantidade de agua armazenada. Na sa\u00edda do dep\u00f3sito resulta a quantidade de \u00edagua assim como a press\u00e3ao existente dentro do mesmo.\nBaseado na equa\u00e7\u00e3o de Bernouli, obtem-se a equa\u00e7ao do fluxo (7.1):\nqout =\t2 * g * h\t(7.1)\nonde a representa a se\u00e7\u00e3o do tubo, g, gravidade e h altura do dep\u00f3sito.\nRelativamente \u00e0 modeliza\u00e7\u00e3o dos thrusters, esta foi gerada atraves de uma fun\u00e7\u00e3o linear tendo por base o gr\u00f3fico mencionado no capitulo 4, na Figura 4.14. Na Figura\n7.3,\t\u00f3 apresentado o bloco de simulink em que recebe o valor de refer\u00eancia dos thrusters e traduz em forca para criar o movimento em heave.\nPara o modelo do TURTLE, nos testes iniciais, optou-se por uma decomposi\u00e7\u00e3o simples, assumindo que o movimento vertical no ve\u00edculo apenas depende da varia\u00e7ao da massa, ou seja introdu\u00e7\u00e3o de \u00f3gua no cilindro e da for\u00e7a de propuls\u00e3o. N\u00e3o s\u00f3 para o modelo do TURTLE, mas tamb\u00e9m de outros sistemas, nomeadamente o VBS, recorreu-se a blocos do Simulink do tipo \u201dS-function\u201d, para calculo da evoluc\u00e3o do sistema em fun\u00e7\u00e3o dos seus estados e das entradas. Este bloco \u201dS-function\u201d tem uma estrutura pr\u00f3-definida e que durante a sua execucao, percorre diversas func\u00e3es baseadas na flag interna do bloco. Este bloco permite a implementac\u00e3o de um sistema din\u00eamico generico.\nCD\t\t\tPropHorizontal\tPropHori(N)\n\t\t\t\noutPidThrustersHorizontal\t\t\t\nm\t\t\u25ba\tPropvertical\tPropVert (N)\noutPidThrustersVertical\t\t\t\nTHRUSTERS\n\u2666CD\npropHori\n>CD\npropVert\nFigura 7.3: Diagrama da simula\u00e7\u00e3o dos thrusters.\nO sistema possu\u00ed duas entradas (varia\u00e7\u00e3o de massa no VBS e forca de propuls\u00e3o nos thrusters).\n\u00ed u(1) \u2014 ^m\n^u(2) \u2014 Fprop\ne como estados tem-se que:\nx(1) \u2014 posicao\nx(2) \u2014 velocidade\n(7.2)\n(7.3)\nneste caso particular, as sa\u00eddas do sistema, s\u00e3o os proprios estados:\ny (1) = posi\u00e7\u00e3o\ny (2) = velocidade\nBaseado na nomenclatura SNAME(1950) tem-se que Z, corresponde \u00e0 posi\u00e7\u00e3o ver\ntical do ve\u00edculo e w \u00e0 velocidade, tamb\u00e9m vertical. O que quer dizer que: w = Z\n(7. w = aceleracao vertical\nTendo em conta a segunda lei de Newton, obtem-se a equa\u00e7\u00e3o diferencial do sistema:\n(Am + m) * Z = Fw - Fb - Fd + Fprop;\n(7.6)\nem que:\n\u2022\tAm = variac\u00e3o de massa, ou seja litros que s\u00e3o introduzidos no deposito\n\u2022\tFW=m * g;\n\u2022\tg = gravidade;\n\u2022\tFb=Vol * p * g;\n\u2022\tVol, volume do ve\u00edculo;\n\u2022\tFD=2 * CD * A * p * v|v|, em que CD corresponde ao coeficiente de drag, A \u00e9 area de superficie em contacto com a \u00edgua p, densidade do flu\u00eddo e v, velocidade;\n\u2022\tFprop = Forca propulsores (thrusters).\nResolvendo a equa\u00e7\u00e3o 7.6, em ordem \u00e3 acelera\u00e7\u00e3o obtem-se:\nZ   (Am * g)\tFD I Fprop\nm\n(7.7)\nConsiderando a observa\u00e7\u00e3o de 7.5, obtem-se a seguinte equa\u00e7\u00e3o de espa\u00e7o de estados:\n\u00ed \u00bf = x(2)\nj JW  \tFd I Fprop\n(7.8)\nm\nNa Figura 7.4, \u00ed apresentado o bloco da S-function, respons\u00edvel pelo solu\u00e7\u00e3o da equa\u00e7ao (7.8). Tem-se como entrada u(1), ou seja os litros que s\u00e3o traduzimos em massa (Am) e u(2) o valor de propuls\u00e3o vertical. Apos a S-function, obtem-se as sa\u00eddas anteriormente mencionadas: posi\u00e7\u00e3o e velocidade.\nFigura 7.4: Diagrama da simula\u00e7ao do movimento vertical do TURTLE.\n7.2\tTuning do controlador PID\nUma das dificuldades que surgem na utiliza\u00e7\u00e3o de controladores PID, refere-se ao ajuste dos ganhos Kp , Ki e Kd. Para c\u00e1lculos desses ganhos, nesta dissertac\u00e3o, optou-se pelo metodo Ziegler-Nichols desenvolvido em 1942 [61]. Este metodo baseia-se na resposta ao degrau unit\u00e1rio de um sistema est\u00e1vel e com sa\u00edda da planta em forma de \u201dS\u201dem malha aberta e e caracterizado por dois par\u00e2metros L - tempo de atraso e T, constante de tempo, os quais s\u00e3o determinados como mostra a Figura 7.5.\nFigura 7.5: M\u00e9todo Ziegler-Nichols [62].\nAp\u00e1s obter os valores de L e T, facilmente e poss\u00edvel calcular os respectivos ganhos, pela forma proposta por Ziegler e Nichols, mencionados na tabela 7.1.\nTabela 7.1: C\u00e1lculos dos ganhos PID propostos por Ziegler-Nichols [61].\nTipo de Controlo\tKp\tTi\tKd\t\nP\tT/L\tTO\t0\nPI\t0.9(T/L)\tL/0.3\t0\nPID\t1.2(T/L)\t2L\t0.5L\n7.3\tControlo thrusters\nNa figura 7.6, pode-se observar tr\u00eas tipos de resposta do sistema com tr\u00eas ganhos diferentes para a profundidade de 100 metros. N\u00e3o recorrendo ao uso de nenhum metodo de afina\u00e7\u00e3o e selecionando ganhos de uma forma iterativa, pode-se observar que o sistema convergiu para a profundidade desejada, mas com bastante oscila\u00e7\u00e3o. Recorrendo ao metodo Ziegler-Nichols, conclui-se que existe uma boa presta\u00e7\u00e3o na resposta do sistema. Nao existe qualquer tipo de overshoot, o tempo de estabelecimento \u00e1 aceit\u00e1vel, contudo existe um pequeno erro estacionario (w 0.6m) entre sa\u00edda do sistema e a profundidade desejada. De forma a melhorar ainda mais essa resposta e uma vez que j\u00e1 eram conhecidos os ganhos para uma resposta aceit\u00e1avel, ajustou-se novamente os ganhos de forma a obter uma resposta que reduz o erro para (w 0.1) metros.\nFigura 7.6: Diferentes ganhos para a mesma posi\u00e7ao (thrusters).\nTabela 7.2: Ganhos usados para o resultado da Figura 7.6.\nDescri\u00e7c\u00e3ao\tKP\tKI\tKd\nPID Tuned Z-N\t19.8\t0.1250\t2\nPID Accuracy Tuned\t18\t0.0250\t1.5\nEm muitas aplicacoes pr\u00e1ticas do ve\u00edculo TURTLE, mais importante do que o erro existente no processo, e tambem a resposta do controlador. Isto \u00e1, a resposta de um controlador ser\u00e1 na maior parte das vezes as refer\u00eancias enviadas para um determinado atuador, neste caso, os thrusters. Ou seja, se a sa\u00e1da do controlador for uma resposta com bastante variacao, prejudicar\u00e1 fisicamente o equipamento em quest\u00e3o.\n7.4\tControlo VBS\nRelativamente ao controlador do VBS, este difere um pouco do controlo do sistema de propuls\u00e3o, principalmente pelo grande tempo de reacao \u00e0 resposta do controlador. Na Figura 7.7 pode-se visualizar o comportamento do sistema, quando recorrendo a um controlador do tipo PID ou do tipo PD. Como se pode verificar, utilizando a a\u00e7\u00e3o integral este tende a ter um overshoot maior e o seu erro tende a diminuir mas muito lentamente. Enquanto o controlador PD, tem um comportamento mais lento, ou seja o tempo de estabelecimento \u00e1e maior, mas tem um erro estacion\u00e1ario muito menor.\nTabela 7.3: Ganhos usados para o resultado da Figura 7.7.\nDescri\u00e7c\u00e3ao\tKP\tKI\tKd\nController PID\t30\t3.5\t35\nController PD\t30\t0\t35\nFigura 7.7: Afina\u00e7ao do controlador para o VBS.\nAnalisando a Figura 7.8, pode-se concluir que a sa\u00edda do controlador cont\u00f3m oscila\u00e7ao e que nao converge para zero, devido ao controlador nao conseguir resolver o erro estacionario. Em simula\u00e7\u00e3o, recorrendo a tecnicas de controlo, muitas vezes obtem-se boa precis\u00e3ao no valor desejado do processo, contudo por vezes a resposta dos controladores t\u00e2em bastante oscilac\u00e7a\u00e3o e com grande frequ\u00e2encia que pode vir a danificar componentes mecanicos. E neste caso em particular, do VBS instalado no TURTLE, sempre que existe uma variac\u00e3o na dire\u00e7ao do flu\u00eddo (introduzir ou retirar agua), \u00e9 necessario parar o motor, comutar va\u00f3lvulas e s\u00f3o depois rodar o motor para a dire\u00e7ca\u00e3o pretendia. Para realiza\u00e7ca\u00e3o deste processo \u00f3e necess\u00f3ario um tempo de aproximadamente 3 segundos, o que atrasa ainda mais a reac\u00e7\u00e3ao do sistema. Tendo em conta a aplica\u00e7c\u00e3ao no mundo real do TURTLE, mais importante que a grande precisao (<0.5 metros) em profundidade \u00e9 a sua robustez e a efic\u00f3acia na realizac\u00e7a\u00e3o das miss\u00e3oes.\nFigura 7.8: Sa\u00e1da do controlador para o VBS.\n7.5\tManobras Compostas\nComo j\u00e1a explicado no cap\u00e1tulo 6, o controlo do TURTLE \u00e1e constitu\u00e1do por um conjunto de manobras que podem ser usadas para compor a miss\u00e3ao pretendida. Como mencionado anteriormente, e tendo em conta o contexto real do TURTLE, \u00e1e necess\u00e1ario que essas manobras sejam executadas de uma forma robusta reduzindo o desgaste dos componentes meca\u00eanicos e melhorar a efici\u00eaencia energ\u00e1etica do movimento. Desta forma, optou-se por implementar em cada manobra uma ma\u00e1quina de estados, de tal forma a que dependendo do comportamento do ve\u00e1culo (sistema VBS e propulsa\u00e3o), vai transitando entre estados e ajustando os coeficientes dos ganhos e valores desejados de cada controlador. Isto permite uma melhor efici\u00eaencia no controlo e uma prevenc\u00e7\u00e3ao no desgaste mec\u00eaanico de diversos componentes.\nUma das ferramentas exploradas na simula\u00e7ao em Simulink foi o Stateflow. Trata-se de um produto incorporado no Simulink que tem por finalidade projetar uma maquina de estados finitos. Mais concretamente permite a implementacao de uma StateChart [63]. Ou seja, com esta ferramenta \u00e1 poss\u00e1vel descrever o comportamento de situa\u00e7\u00f5es especificas oferecendo de uma forma intuitiva e de f\u00e1acil compreensa\u00e3o a visualiza\u00e7ca\u00e3o do procedimento considerado. Cada procedimento pode ser composto por um conjunto de estados, que cada qual define uma circunstancia existente na situa\u00e7ca\u00e3o que ocorre em qualquer instante do tempo.\nA transi\u00e7\u00e3o entre os diferentes estados \u00e9 controlada pelo estado atual em quest\u00e3o ou por outros valores de entrada. Na figura 7.9, pode ser visualizado um exemplo de um bloco Stateflow.\nFigura 7.9: Exemplo de um diagrama de estados usando Stateflow.\nComo se pode constatar pela figura 7.21, a simula\u00e7\u00e3o do TURTLE, tem por base tres blocos base: Missions, Maneuver e Vehicle TURTLE. No bloco Missions, est\u00e3o descritas todas as miss\u00e3es que o TURTLE poder\u00e1 realizar. Antes de iniciar qualquer simulacao, apenas \u00e1 necess\u00e1rio mencionar qual a miss\u00e3o a executar, posteriormente a simulacao termina quando toda a miss\u00e3o estiver conclu\u00edda. O bloco Maneuvers, contem as manobras que s\u00e3o executados perante a miss\u00e3o pretendida. Cada manobra tem implementado o seu controlador. Tanto o processo de miss\u00e3oes como o de manobras est\u00e1a implementado em simula\u00e7\u00e3o usando o Stateflow, o que facilita a definkao de manobras e implementa\u00e7\u00e3o bem como a simplicidade em acrescentar novas manobras ou miss\u00e3es. Por fim, o modelo din\u00e2mico do TURTLE est\u00e1 contido no bloco Vehicle TURTLE. Neste bloco estao tambem contidos os modelos dos sistemas respons\u00e1veis pela movimentac\u00e3o do TURTLE, o sistema de propuls\u00e3o e o VBS.\nTypeMission\nn={z} v={w}\nManeuverDone\nMissions\nFigura 7.10: Arquitetura do sistema de simulac\u00e3o.\n7.5.1\tManobra DIVE\nTendo em conta mais uma vez a eficiencia e rebustez que se pretende no controlo do TURTLE a manobra \u201dDIVE\u201d\u00e1 executada tendo em conta a maquina de estados apresentada na Figura 7.11. Esta manobra est\u00e1 dividida em duas partes: Se a posi\u00e7\u00e3o desejada for maior ou igual a 132 metros, opta-se por um controlo diferente comparado com posic\u00e3es desejadas inferiores a 132 metros. Enquanto o VBS introduz ou retira \u00e1gua do reservat\u00f3rio, a velocidade vertical do TURTLE tende a variar. Mas quando o reservat\u00e1rio estiver totalmente cheio, haver\u00e1 um momento em que o TURTLE atinge a velocidade terminal e se mant\u00e9m ate retirar \u00e1gua do reservatorio. Sabendo o fluxo da bomba instalada no TURTLE, facilmente se consegue estimar o tempo que demora a esvaziar o reservat\u00e1orio ate o TURTLE permanecer neutro. Sabendo tamb\u00e1em a velocidade terminal do ve\u00e1culo, facilmente se consegue prever quanto tempo este demorar\u00e1a at\u00e1e atingir a posi\u00e7\u00e3o desejada. Ou seja, quando o tempo para ficar neutro foi maior que o tempo para atingir a posi\u00e7ca\u00e3o desejada, \u00e1e nesse instante que se inicia o processo de retirar a \u00e1agua do reservato\u00e1rio at\u00e1e o ve\u00e1culo ficar neutro.\ncdis(seiPQmt-\nposition)<=5\nou-RefVBS==0\nFigura 7.11: Diagrama Stateflow da manobra \u201dDIVE\u201d.\nO resultado da manobra \u201dDIVE\u201dpara uma posi\u00e7\u00e3o inferior a 132 metros \u00e9 mostrado na Figura 7.12. Como se pode observar, devido a aus\u00e9n\u00e7ia da a\u00e7ao integrador, o erro estacionario mantem-se ao longo do tempo. Contudo a sa\u00edda do controlador PI cont\u00e9m valores que permitem o VBS ter uma comportamento est\u00e9vel sem oscila\u00e7\u00e3es como mostrado na Figura 7.8.\nFigura 7.12: Manobra \u201dDIVE\u201d.\nEm rela\u00e7\u00e3o \u00e1 velocidade da manobra \u201dDIVE\u201dpara 100 metros, pode-se verificar pela Figura 7.13 que o TURTLE nunca chega a atingir a sua velocidade terminal, isto tambem porque nao continha o reservat\u00f3rio cheio.\nFigura 7.13: Velocidade vs volume de \u00e1gua.\n7.5.2\tManobra DIVE para 1000 metros\nNa Figura 7.14 \u00e9 poss\u00edvel observar-se o comportamento do TURTLE para profundidade de 1000 metros (profundidade m\u00e9xima do TURTLE). Como se pode verificar obtem-se uma boa exatidao na posi\u00e7\u00e3o.\nFigura 7.14: Posi\u00e7ao do ve\u00edculo para 1000 metros usando apenas o VBS.\nAlem da boa exatid\u00e3o, o tempo em que a bomba esta em funcionamento \u00e9 muito pouco, isto para profundidades de 1000 metros. Ou seja, para atingir a profundidade de 1000 metros, durante todo o percurso a bomba esta inativa durante 80% do processo o que torna o seu movimento em heave muito eficiente.\n1000\n800\n600\n400\nm'\n200\n-200 -\nO\n-400 -\n-600 -\n-800 -\n-1000 I-----------------------L\n0\t500\n1000\n1500\nTime (s)\n2000\n2500\n3000\nFigura 7.15: Sa\u00f3da do controlador PID.\nRelativamente \u00e0 velocidade, como era de esperar, atinge a velocidade terminal quando o reservato\u00f3rio fica totalmente cheio.\nFigura 7.16: Velocidade e volume de agua.\n7.5.3\tManobra DIVE e GOTO\nNesta sec\u00e7\u00e3o ser\u00e1 explicado a jun\u00e7\u00e3o de duas manobras: \u201dDIVE\u201de \u201dGOTO\u201d. Como ja explicado anteriormente, apenas com a manobra \u201dDIVE\u201dn\u00e3o \u00e9 poss\u00edvel alcan\u00e7ar com exatid\u00e3o a profundidade desejada, pelo menos para profundidades inferiores a 132 metros. Para isso \u00e9 poss\u00edvel recorrer ao sistema de propuls\u00e3o para alcan\u00e7ar a profundidade desejada. Relativamente a manobra \u201dDIVE\u201do seu processo de execu\u00e7ao em m\u00e9quina de estados j\u00e9 foi mencionado na figura 7.11, quando \u00e0 maquina de estados da manobra \u201dGOTO\u201d, esta pode ser observada na Figura 7.17. Como \u00e9 poss\u00edvel observar, para esta manobra existem um controlador PID para erros maiores que 5 metros e outro para erros inferiores a 2 metros.\nabs(setPositin-position)<=l\nFigura 7.17: Diagrama StateFlow da manobra \u201dGOTO\u201d.\nO resultado destas duas manobras pode ser observado na Figura 7.18. Como se pode verificar \u00e9 not\u00e9vel a mudan\u00e7a da manobra \u201dDIVE\u201dpara a \u201dGOTO\u201d. Ou seja, inicialmente \u00e9 executada a manobra \u201d DIVE\u201de quando termina a sua execu\u00e7\u00e3o o pr\u00e9prio gestor de miss\u00e3es inicia a nova manobra (\u201dGOTO\u201d).\nFigura 7.18: Posi\u00e7\u00e3o do ve\u00edculo usando VBS e Thrusters.\nQuanto a sa\u00e1da dos controladores, tanto do VBS como sistema de propulsao, obtem-se uma resposta moderada, sem grandes oscilacoes.\n100\n80\nd 60 -a\n40 Q\n0\t100\t200\t300\t400\t500\t600\t700\t800\t900\t1000\nTime (s)\n7.5.4\tManobra SUBMERGE\nOutro conceito importante a validar em simula\u00e7\u00e3o, \u00e9 o facto do ve\u00edculo utilizar o VBS e o sistema de propulsao em simult\u00e2neo. Este processo e realizado na manobra \u201d SUBMERGE\u201d. Ou seja, nesta manobra o ve\u00edculo recorre \u00e0 for\u00e7a dos thrusters, e em simultaneo ao VBS para introduzir \u00e1gua no interior do reservat\u00f3rio. Isto permite um aumento na efici\u00e2ncia do tempo da submers\u00e3o do ve\u00edculo.\ntypeManeuver~=SUBMERGE\nabs(setPositin-\nposition)<=0.8\nFigura 7.20: Diagrama Stateflow da manobra \u2019\u2019SUBMERGE\u201d.\n7.5.5\tMiss\u00e3o\nAp\u00f3s desenvolvimento e ajuste de cada manobra individual, foi realizada uma miss\u00e3o em simula\u00e7\u00e3o que contem todas as manobras mencionadas no cap\u00edtulo 6. Seguidamente sera explicado todo o processo da missao:\n\u2022\tNo inicio desta miss\u00e3o o TURTLE executa a manobra \u2019\u2019SUBMERGE\u201d, em que alcanca a profundidade de 3 metros, com o auxilio dos thrusters e do VBS.\n\u2022\tAp\u00f3s conclus\u00e3o da manobra anterior, o gestor de miss\u00e3es executa a manobra seguinte, \u201dDIVE\u201d. Esta manobra tem como objetivo movimentar o TURTLE atrav\u00f3s\ndo VBS ate uma profundidade mais elevada, neste caso de 150 metros. Se houver a necessidade de ter grande exatid\u00e3o na posi\u00e7\u00e3o desejada, o \u201dDIVE\u201d recorre \u00e0 manobra \u201dGOTO\u201d, para que com o sistema de propuls\u00e3o atingir com mais exatidao essa posi\u00e7ao.\n\u2022\tDepois do \u201dDIVE\u201d estar conclu\u00eddo, inicia-se a manobra \u2019\u2019NEUTRO\u201d, onde o TURTLE e colocado neutro durante 100 segundos. S\u00f3 depois do TURTLE concluir a manobra \u2019NEUTRO\u201d, \u00f3 que o gestor de miss\u00e3es transita para a manobra \u201dGOTO\u201d.\n\u2022\tA manobra \u201dGOTO\u201d utiliza apenas o sistema de propuls\u00e3o para mover o TURTLE \u00e0 profundidade de 160 metros, ou seja mais 10 metros que o sua posi\u00e7\u00e3o anterior.\n\u2022\tPosteriormente a manobra \u201dDIVE\u201d \u00f3 realizada a manobra \u201dLAND\u201d. O objetivo \u00f3 simular a aterragem em condicoes moderadas, ou seja, faz uso de um controlador menos reativo aumentando o tempo para executar a manobra. Ap\u00f3s isso coloca-se neutro por mais 100 segundos.\n\u2022\tAp\u00f3s os 100 segundos em \u201dNEUTRO\u201d, \u00f3 executada a manobra \u201dASCEND\u201d para a posi\u00e7ao 50 metros. Atingindo a profundidade desejada (50 metros), o ve\u00f3culo \u00f3 colocado neutro durante 400 segundos. Ao longo deste tempo o TURTLE tem um drift na sua posi\u00e7\u00e3o. De forma a corrigir isto, a manobra \u2019NEUTRO\u201d, sempre que deteta que o ve\u00f3culo se afasta da sua posicao desejada em cerca de 2 metros, e feita uma aproximacao corrigida pelo sistema de propuls\u00e3o.\n\u2022\tAo fim do tempo estabelecido (400 segundos), o ve\u00edculo volta a executar o \u2019ASCEND\u201d ate aos 10 metros.\n\u2022\tPor fim a manobra \u201d EMERGE\u201d utiliza os thrusters para fazer a emers\u00e3o do TURTLE com velocidade controlada.\nO resultado de todo o processo explicado anteriormente pode ser visualizado na Figura\n7.22.\tRelativamente \u00e0 descri\u00e7ao da missao, isto \u00e9, todos os passos que o TURTLE ter\u00f3 que realizar esta apresentado na Figura 7.21.\nFigura 7.21: Arquitetura do sistema de simula\u00e7\u00e3o.\nFigura 7.22: Miss\u00e3o executada.\nNa Figura 7.23 \u00e9 poss\u00edvel analisar que a resposta do controlador, tando no VBS como no sistema de propuls\u00e3o para cada manobra. Como mencionado ao longo deste cap\u00edtulo, e importante que o resultado do controlador nao coloque em causa a degradacao f\u00edsica do VBS e dos thrusters. No caso do VBS isso \u00e9 perfeitamente vis\u00edvel, j\u00e1 nos thrusters verifica-se alguma oscila\u00e7ao, mas \u00e9 proveniente da exatidao que se pretendo dos resultados.\nOutput PID Thrusters\t, Output PID VBS\nFigura 7.23: Sa\u00edda do controlador para cada manobra.\nCap\u00edtulo 8\nResultados\nNeste cap\u00edtulo s\u00e3o apresentados diversos resultados de m\u00faltiplas experi\u00eancias elaboradas em ambiente real com o objetivo de validar varios sistemas existentes no TURTLE, nomeadamente o sistema de varia\u00e7\u00e3o de lastro (VBS) e o sistema de propulsao (thrusters). Os datasets apresentados seguidamente, foram realizados no porto de Sesimbra, com a colabora\u00e7ao da Marinha Portuguesa.\nNa Figura 8.1 observa-se o TURTLE a ser colocado no mar em Sesimbra.\nFigura 8.1: TURTLE na ba\u00eda de Sesimbra.\n8.1\tSistema de varia\u00e7ao de lastro - VBS\n8.1.1\tMergulhos com VBS\nNa Figura 8.2, pode-se observar a posi\u00e7\u00e3o vertical (profundidade) ao longo do tempo, dos diferentes testes realizados. O objetivo foi realizar v\u00e1rios datasets com diferentes profundidades e tempos de permanencia no fundo oceanico. Nesta se\u00e7\u00e3o de resultados sobre o VBS serao considerados tr\u00eas logs, log 1, feito numa profunidade relativamente baixa (<5 metros), o log 2, realizado com uma carga extra, isto \u00e9, um sistema de monitoriza\u00e7\u00e3o de variaveis biol\u00e1gicas integradas em dados ambientais - (MarinEye) [7], e por fim o log 3 e 4, que foram os dois realizados a profundidades a rondar os 14 metros.\nA localiza\u00e7\u00e3o usada pelo TURTLE nestes datasets foi baseada na tecnica Dead Reckoning - DR. Esta t\u00e1cnica consiste em determinar a posic\u00e3o atual estimada, atraves das velocidades do ve\u00edculo, sabendo a posic\u00e3o inicial, ou seja, o somat\u00f3rio da posic\u00e3o inicial com a integra\u00e7ao das velocidades. A localiza\u00e7\u00e3o por DR e apenas uma aproximac\u00e3o uma vez que n\u00e3o contabiliza os erros associados aos sensores (bias, offset, atitude,etc). Deste modo pode-se concluir que as figuras seguintes associadas \u00e0 posi\u00e7\u00e3o do ve\u00edculo contem erro inerente a t\u00e1cnica DR.\nNa Figura 8.2 \u00e1 poss\u00edvel visualizar a posi\u00e7ao em z do ve\u00edculo em cada log.\n5\n0\n-5\n0\n200\t400\n600 800 1000\n1200\nLog 1\n1400\t1600\n5\n0\n-5\n0\n\u00ed20 r\n0\nO -20 I\u2014\n0\nI\n500\n200\nL\n1000\nL\n1500\nl\n2000\nl\n2500\n400\n600\n800\n1000\nLog 2\n3000\nLog 3\n1200\n20 r\n0\n-20 L\n0\nLog 4\n200\n400\n600\n800\nTime (s)\n1000\t1200\t1400\nFigura 8.2: Posicao em heave do TURTLE ao longo do tempo.\nNa tabela 8.1, \u00e9 referida a profundidade m\u00e1xima de cada log assim como o tempo de perman\u00eancia no fundo do oceano. Este tempo \u00e1 pr\u00e1-estabelecido no in\u00edcio de cada miss\u00e3o. Foi apenas colocado um tempo adequado (em fun\u00e7\u00e3o das restri\u00e7\u00f5es log\u00edsticas e operacionais) para validar os diferentes sistemas.\nTabela 8.1: Descri\u00e7\u00e3o geral dos logs.\nLog\tProfundidade M\u00e1xima (m)\tTempo no fundo (s)\nLogl\t2.99\t900\nLog2\t4,28\t600\nLog3\t14,32\t300\nLog4\t14,28\t600\nComo explicado no capitulo 6, o sistema de VBS \u00e9 controlador por uma m\u00e1quina de estados que dependendo do estado atual, realiza uma determinada tarefa. Na Figura\n8.3\tpode-se observar os estados do VBS e das v\u00e1lvulas e consequentemente a rota\u00e7\u00e3o da bomba.\n4 |-\nC/j\nCQ\t3 -\n>\t3\n2 -\n-4-3\nCO\n1 -\n0\n200\n400\n600\nTime (s)\n800\n1000\n1200\ns\n\u2014\nCO\n2\n1.5\n1\n0.5\n0\n0\t200\t400\n600\ng\n1500\nTime (s)\n1200\nc\n+-\u25a0\no\n&amp;\nS\n2 x\n1000 -\n500 -\nL\n200\nI\n400\n800\n1000\n600 800\nTime (s)\n1000\n0 L\n0\nFigura 8.3: Estados do VBS, valvulas e rotac\u00e3o da bomba relativo ao log 3.\nA Tabela 8.2 descreve cada estado do VBS e das v\u00e1lvulas.\nTabela 8.2: Descri\u00e7\u00e3o dos estados do VBS e das v\u00e9lvulas.\nEstado VBS\tDescri\u00e7\u00e3o\tEstado Va\u00e9lvulas\tDescri\u00e7ao\n0\tVBS Stop\t0\tV\u00e9lvulas Fechadas\n1\tInput Water\t1\tV\u00e9lvulas (4,1) Abertas, V\u00e9alvulas (3,2) Fechadas\n2\tOutput Water\t2\tV\u00e9alvulas (3,2) Abertas, V\u00e9alvulas (4,1) Fechadas\n3\tKeep Water\t3\tValvulas abertas\n4\tIdle\t-\t-\n5\tImergency\t-\t-\nNa figuras 8.4a e 8.4b, est\u00e9 representado a m\u00e9quina de estados do VBS e das v\u00e9lvulas, respetivamente.\n(a) Ma\u00e9quina de estados do VBS.\n(b) M\u00e9aquina de estados das va\u00e9lvulas.\nFigura 8.4: Velocidade e vorticidade do flu\u00e9do em heave.\nPode-se observar em todos os logs realizados, \u00e0 medida que a press\u00e3o interna vai aumentando, aumenta tamb\u00e9m a corrente consumida pela bomba, contudo a rota\u00e7\u00e3o da bomba tem tendencia a diminuir. Este ultimo caso acontece devido ao controlo do motor estar em malha aberta, ou seja, n\u00e3o existe realimenta\u00e7ao da rota\u00e7\u00e3o de forma a manter a mesma rotac\u00e3o independentemente da press\u00e3o interna do tanque. Na Figura\n8.5,\tpode-se visualizar esse comportamento que \u00e9 referido ao log 1.\n1000\no\no\u00ed\nO\n500 -\n\u00cdX\n\n0\n<\u00a1'\nC\n0\n6\n4\n2\n10\n5\n2\nO\n2\n(X\n0\t1 200 1\t1 1 400\t600 |\t1\t1 1 800 1000 Time (s) 1 1\t1 1200 1\t1 1400 \t\t\t 1\t1 1600\n\t 0\t200\t400\t600\t800 1000 Time (s)\t1200\t1400\t1600\n-\t1 \t1 1\t1 1\t1\t\t1\n200\n400\n600\n1000\n1200\n1400\n1600\n800\nTime (s)\n0\n0\nFigura 8.5: Rela\u00e7\u00e3o dos rpms com a corrente consumida e pressao interna do reservat\u00e9rio do VBS do log 1.\nO controlo do VBS pode ser facilitado e melhorado atrav\u00e9s do conhecimento do volume de agua existente no interior do tanque do mesmo. Este VBS nao incorpora nenhum medidor de caudal(caudalimetro) que seria o sensor mais adequado para contabilizar a quantidade de agua no interior do tanque. Para colmatar este problema, recorreu-se ao sensor de press\u00e3o instalado no interior do tanque. Atraves da lei de Boyle, que nos diz: \u201dPara uma quantidade fixa de um g\u00e9s ideal mantido a uma temperatura constante, a pressa\u00e3o e o volume s\u00e3ao inversamente proporcionais (enquanto um dobra, o outro fica a metade)\u201d. Na pratica aplicar esta lei, nao \u00e9 o ideal, isto porque na realidade a temperatura n\u00e3o \u00e9 constante. Contudo na ausencia de outros sistemas mais eficazes optou-se por calcular o volume de \u00e9agua no interior do tanque atrav\u00e9es da pressa\u00e3o interna do mesmo.\nNa Figura 8.6, pode-se analisar a rela\u00e7\u00e3o entre pressao e volume de agua tendo por base a lei de Boyle.\nFigura 8.6: Rela\u00e7\u00e3o entre press\u00e3o interna e volume de \u00e1gua log 3.\nNa Figura 8.7, \u00e9 poss\u00edvel visualizar a rela\u00e7\u00e3o entre o volume de agua no interior do cilindro com a profundidade ao longo do tempo. Como explicado no cap\u00edtulo 5, a densidade da agua do mar em rela\u00e7\u00e3o \u00e0 agua doce, altera significativamente a flutuabilidade do ve\u00edculo. Ou seja, para testes em laboratorio o TURTLE iniciava a descida com cerca de 20 litros no interior do VBS, mas em testes no mar verifica-se que o valor aumenta para cerca de 30 litros. Como visto na Tabela 8.3, apenas o log 2 precisa de menos litros para iniciar a descida devido ao peso extra que tinha ao transportar o sistema MarinEye.\nWater Vol. (l)\tPosition (m)\n50\n-10 L\n0\n200\n400\n600 800 1000 1200\nTime (s)\nFigura 8.7: Varia\u00e7\u00e3o de litros ao longo da posi\u00e7\u00e3o vertical relativo ao log 3.\nTabela 8.3: Volume de \u00e1gua durante os v\u00e1rios processos de mergulho.\nLog\tDescida\tAterragem\tTakeOff\tSuperficie\nLog2\t30,7\t38,3\t25,8\t17,08\nLog3\t31,49\t44,69\t20,74\t10,29\nLog4\t32,3\t44,6\t20,61\t9,4\nTabela 8.4: Tempos de encher/esvaziar tanque VBS.\nLog\tEncher (s)\tEsvaziar (s)\nLog2\t367\t273\nLog3\t382\t315\nLog4\t370\t304\nNa Tabela 8.3 n\u00e3o foi mencionado o volume de \u00e1gua relativo ao log 1, isto porque o sensor de pressao estava com problemas t\u00e9cnicos, onde posteriormente procedeu-se a sua substituicao.\nNa Figura 8.8, observa-se a rela\u00e7\u00e3o da velocidade com a posi\u00e7\u00e3o do ve\u00edculo ao longo do mergulho do log 3. Verifica-se mesmo com o TURTLE \u00e0 tona da agua, uma varia\u00e7\u00e3o de velocidade na ordem dos 0.15 m/s. Isto \u00e9 devido ao ru\u00eddo criado pela pr\u00f3pria oscila\u00e7\u00e3o das ondas do mar. Como j\u00f3 esperado, a velocidade vai aumentando mediante a introducao de \u00f3gua no interior do tanque do VBS e havera um momento em que atinge a velocidade terminal. Apesar de n\u00e3o ser totalmente notorio, verifica-se que no final da descida a velocidade tende a estabilizar, alcancando um valor pr\u00f3ximo da velocidade terminal. Contudo neste log, nao \u00f3 not\u00f3rio que se atinga a velocidade do TURTLE, por isso seria necess\u00f3rio mais profundidade (>14 metros) para validar verdadeiramente o valor da velocidade terminal. Na Figura 8.9, pode-se visualizar a velocidade e o volume de \u00f3agua com maior detalhe.\nFigura 8.8: Rela\u00e7\u00e3o entre a velocidade e a posi\u00e7ao vertical.\nFigura 8.9: Velocidade terminal vs Volume de agua.\nNa Tabela 8.5, est\u00e3o apresentados os tempos de subida e descida de cada log. A varia\u00e7\u00e3o do tempo corresponde diretamente com as diferentes profundidades em que o log foi realizado.\nTabela 8.5: Tempo de descida e subida do TURTLE.\nLog\tTempo Descida (s)\tTempo Subida (s)\nLogl\t35\t46\nLog2\t49\t56\nLog3\t87\t90\nLog4\t81\t93\nA Figura 8.10 mostra a diferen\u00e7a de velocidades entre o submergir e o emergir do TURTLE. Como se pode verificar no inicio da submersao e no fim da emersao existe um maior drift das velocidades que se deve a ondula\u00e7\u00e3o criada pelas ondas do mar. No decorrer do mergulho e ascens\u00e3o do ve\u00edculo as velocidades permanecem semelhantes. Ou seja, mesmo o TURTLE n\u00e3o sendo totalmente simetrico no plano horizontal, \u00e9 poss\u00edvel que o seu comportamento em termos de velocidade seja muito semelhante.\n0\n1000\n2000\n3000\n4000\n5000\n6000\n7000\n8000\n9000\n10000\n0.5 I-\n0^A\nDive Log 4\nAscend Log 4\nI I\n9000\t10000\nl\n8000\n-0.5 L\n0\nl\n1000\nl\n2000\nl\n3000\nl\n4000\nI l\n5000\t6000\nSamples\nl\n7000\n\nFigura 8.10: Velocidade de descida versus subida.\nTabela 8.6: Velocidade vertical m\u00e1xima.\nLog\tDescida (m/s)\tSubida(m/s)\nLogl\t0.1293\t0.1345\nLog2\t0.1381\t0.1765\nLog3\t0.2426\t0.3039\nLog4\t0.2719\t0.2815\nDevido \u00e0s diferentes medidas do sensor inercial (nomeadamente do aceler\u00f4metro), \u00e9 poss\u00edvel distinguir atraves da Figura 8.11 algumas fases do processo de mergulho, tais como: determinar quando o ve\u00edculo deixa de flutuar e inicia a sua descida; verificar o instante em que ocorre a aterragem; assim como o funcionamento da bomba (ligada e desligada).\nFigura 8.11: An\u00e1lise da manobra executada atrav\u00e9s dos dados obtidos pelo IMU (log 3).\nOutra aspeto que pode ser analisado pelo sensor inercial \u00e9 o impacto que o TURTLE faz na aterragem. Analisado esses dados \u00e9 poss\u00edvel melhorar tecnicas de controlo para aterragens mais estaveis, e com isso proteger o ve\u00edculo assim como tambem o meio envolvente. Pela Figura 8.12, verifica-se que o log em que teve mais impacto no solo foi o log 3, isto devido ao velocidade que atingiu at\u00e9e chegar ao solo. Uma vez que o log 4, foi realizado em condi\u00e7\u00f5es muito semelhantes ao anterior, tambem se nota um impacto maior comparando com os restantes logs. E de notar no entanto que o impacto em contacto com o fundo marinho \u00e9e fortemente dependente do tipo de fundo. Tem-se tamb\u00e9m que dada a velocidade terminal reduzida, bem como a possibilidade de atuacao nos thrusters verticais, este impacto pode ser controlado.\nLog 1\nii r\n10 -\n9 \u2014\n226\n227\t228\n229\n230\nTime (s)\n231\n232\t233\nTime (s)\n12 I-\n10 -\n8 \u2014\n370\nl\n371\nl\n372\nl l\n373\t374\nTime (s)\nLog 4\nl\n375\nl\n376\n377\nFigura 8.12: Impacto na aterragem.\nNa Figura 8.13 \u00e9 poss\u00edvel visualizar a posi\u00e7\u00e3o do TURTLE tanto no processo de descida como subida. Como \u00e9 poss\u00edvel observar existe um maior drift em Y do que em X. Na subida o drift em Y tamb\u00e9m \u00e9 maior que em X, contudo nao tao significativo comparado com o processo de descida. Este drift \u00e9 tambem causado pelo facto de tanto a descida como a subida serem realizadas muito devagar, pelo que torna o ve\u00edculo mais sens\u00edvel a correntes e ondulac\u00e3o bem como a atitude inicial. Contudo outra componente deste drift adv\u00e9m da integracao dos dados do DVL, proporcionarem assim mairo erro na posicao.\nContudo pela Figura 8.14 verifica-se que o TURTLE n\u00e3o tem rotacao sobre o eixo Z, nem mesmo sobre os restantes eixos. Observa-se que depois da aterragem, o ve\u00e9culo muda um pouco a sua atitude em roll (w 4) e pitch (w 2), que se deve ao impacto que este tem no momento de aterragem.\nFigura 8.13: Posi\u00e7\u00e3o do TURTLE ao longo do log 4-\nFigura 8.14: Atitude do TURTLE durante o log 4.\nNa Tabela 8.7 s\u00e3o apresentados os desvios do TURTLE ao longo do seu movimento de submers\u00e3o e ascen\u00e7ao. De notar que os valores de drift observados ocorreram em testes sem controlo de posi\u00e7\u00e3o horizontal. Estes refletem acima de tudo o efeito das condic\u00e3es inicias e de ondulacao uma vez que o ve\u00edculo nao se encontrava perfeitamente estacionario\nTabela 8.7: Drift da posi\u00e7ao.\nLog\tDrift X Down (m)\tDrift Y Down (m)\tDrift X Up (m)\tDrift Y Up (m)\nLogl\t-1.4202\t-3.9250\t15.2893\t-10.0017\nLog2\t0.1861\t-0.2534\t12.2278\t0.6727\nLog3\t-1.0935\t-11.5299\t3.8073\t-2.6701\nLog4\t-1.1917\t-6.3737\t0.9568\t5.8968\n8.1.2\tLog com dura\u00e7\u00e3o de 12 horas\nOutro teste significativo para valida\u00e7\u00e3o de subsistemas do TURTLE, foi realizar um log onde a permanencia no fundo do oceano ultrapassa-se os tempos dos logs anteriores. Neste sentido foi realizado um teste com a permanecia do TURTLE no fundo do oceano durante 12 horas.\nNa seguinte Figura podemos visualizar a posi\u00e7\u00e3o em Z do TURTLE. Este gr\u00e1fico pode induzir em erro, devido \u00e0 varia\u00e7ao em forma sinusoidal da posi\u00e7\u00e3o. Isto acontece, n\u00e3ao porque o TURTLE se movimentou no eixo Z, mas sim porque a posi\u00e7ca\u00e3o \u00e1e dada pelo sensor de press\u00e3ao e como a altura da mar\u00e1e variou, alterou a profundidade do TURTLE, contudo o TURTLE permaneceu est\u00e1atico como ser\u00e1a analisado posteriormente.\nFigura 8.15: Profundidade do TURTLE.\nEm testes com maiores tempos de perman\u00eancia no fundo oceanico, nota-se que a press\u00e3o interna do reservat\u00f3rio do VBS vai diminuindo com o decorrer do tempo. Uma vez que a pressao \u00f3 proporcional \u00e0 temperatura, a diminuic\u00e3o da pressao pode estar relacionada com a diminuic\u00e3o da temperatura. Contudo verificando a Figura 8.16, verifica-se que a temperatura inicialmente est\u00f3 est\u00e1vel, depois tende a diminuir 1\u00b0C, mantendo-se por um per\u00edodo e mais tarde sobe novamente. Relativamente \u00e0 pressao esta tende sempre a diminuir. Ou seja, perante este facto pode-se concluir que existe uma pequena fuga da pressao, possivelmente atrav\u00f3s das v\u00f3lvulas.\nContudo atraves dos dados dispon\u00f3veis \u00e9 dif\u00edcil detetar se a fuga \u00f3 do ar, \u00f3gua ou dos dois.\nSe relacionarmos diretamente a diminui\u00e7ao da pressao com a fuga de agua, tem-se o volume de \u00f3gua perdidos ao longo do tempo mostrado na Figura 8.16. Pelos resultados mostrados nos logs anteriores, com w 30 litros no interior do tanque, o TURTLE fica com flutuabilidade neutra. Ou seja, com o tanque cheio (45 litros), o TURTLE tem uma flutuabilidade negativa de 15 kg. Se houver uma fuga com um fluxo medio de 0.75 l/h, quer dizer que em termos m\u00e9dios o TURTLE ao fim de 20 horas tornaria-se neutro e assim voltaria \u00e0 superf\u00edcie apenas pela fuga de \u00f3gua existente.\nOh o \\\u00bf____________________I____________________I_____________________I____________________I____________________I__________________________________________I\n0\t2\t4\t6\t8\t10\t12\t14\nFigura 8.16: Temperatura externa vs press\u00e3o vs litros perdidos.\nO objetivo da Figura 8.17 \u00e9 avaliar se o TURTLE quando permanecido no fundo do oceaneo por um longo per\u00edodo, (neste caso, cerca de 12 horas) varia a sua posic\u00e3o. Devido ao DVL n\u00e3o fornecer medidas a menos de 60 cm do solo, a conclus\u00e3o acerca do drift ter\u00e1 que ser analisado pela atitude do ve\u00edculo. Pelo que se verifica a oscila\u00e7ao em roll tende a ser maior comparativamente a pitch, no entanto isto pode ser devido a uma pequena diferenca na estimacao do bias dos gyros que \u00e9 integrada. Depois outro aspeto que se pode ter em conta, \u00ede o facto de existir um comportamento diferente depois das 7 horas. Provavelmente isto seja no momento em que a mar\u00ede comec\u00e7a novamente a descer e o TURTLE fica mais pr\u00f3ximo da superf\u00edcie est\u00e1 mais sujeito a ru\u00eddo de embarcacoes que naquela zona passam.\n10\n\nJ\n400 i-\nbO\n<D\na\n200\nI\nL\n2\nL\n4\nJ L\n6\t8\nTime (h)\nL\n10\n\u2014I\u2014\n12\nJ\n14\n0 L\n0\nFigura 8.17: Atitude do ve\u00edculo.\n8.2\tThrusters\nNeste subcap\u00edtulo \u00e9 analisado o comportamento dos thrusters do rob\u00f4 TURTLE. Na Figura 8.18 pode-se verificar a relac\u00e3o que existe entre o thrust 11 aplicado aos thrusters, o seu consumo de corrente e consequentemente a rota\u00e7ao gerada pelos mesmos. Perante as especifica\u00e7\u00f5es do fabricante, pode-se concluir que os valores de corrente consumida e rpm estao dentro daquilo que era expect\u00e1vel. Outro aspeto vis\u00edvel na figura e o facto de que os thrusters t\u00eam uma r\u00e1pida resposta ao valor de rotac\u00e3o (thrust) que lhe \u00e1 aplicado.\nOutro aspeto j\u00e1 verificado, mas que se pode comprovar pelo comportamento dos thrusters e a matriz de aloca\u00e7\u00e3o de thrust do TURTLE. Como explicado anteriormente, a matriz de alocacao \u00e1 necess\u00e1ria para converter, neste caso, dire\u00e7\u00e3o do movimento, em thrust aplicado aos thrusters. Baseado na matriz de aloca\u00e7\u00e3o mencionada no capitulo 5, quando o TURTLE se desloca-se em surge, o sinal do valor de thrust tem que ser igual para o thruster 1 e o thruster 4 e sinal contrario para o thruster 2 e o thruster 3. No caso em que o TURTLE faz uma rota\u00e7c\u00e3ao sobre o eixo Z , o sinal do valor thurst tem que ser igual para o thruster 1 e o thruster 3 e o contr\u00e1rio para thruster 2 e thruster 4. Este processo pode ser verificado na Figura 8.19.\nnAo longo deste documento thrust refere-se ao valor de refer\u00eancia (0-100) dado aos thrusters para rota\u00e7ao dos mesmos.\nFigura 8.18: Relagao entre PWM, corrente consumida e rotagao do motor.\nFigura 8.19: Verificagao da matriz de alocagao thrust.\nTime (s)\nTime (s)\nFigura 8.20: Velocidade em surge e heave.\nNa Figura 8.20, pode-se visualizar as velocidades m\u00e9ximas, em surge e heave dos datasets realizados. E poss\u00edvel concluir que em surge o TURTLE atinge velocidades maximas de 0.5 m/s. Enquanto em heave tem um pico de 0.4 m/s. De notar que a medida de velocidade vertical na\u00e3o corresponde a uma situa\u00e7c\u00e3ao em que o ve\u00e9culo possu\u00e9 todos os propulsores operacionais, uma vez que nos testes um dos thrusters verticais esteve desabilitado devido a problemas de hardware.\nNa Figura 8.21, pode-se visualizar a atua\u00e7\u00e3o do sistema de propuls\u00e3o juntamente com o VBS. Numa primeira fase o TURTLE afunda apenas usando o thrusters verticais, fazendo cerca de tr\u00eas mergulhos. Como o TURTLE est\u00e9 com flutuabilidade positiva, assim que os thrusters verticais sao desligados, o TURTLE volta \u00e0 superf\u00edcie. Observase numa segunda fase que o TURTLE mergulha apenas com o VBS, e que de seguida usa os thrusters verticais para diminuir a profundidade, mas como est\u00e9 com flutuabilidade negativa e ainda a introduzir a\u00e9gua, apo\u00e9s desligar os thrusters verticais o TURTLE volta a mergulhar.\nTime (s)\nFigura 8.21: Resultado em posicao da atua\u00e7ao dos thrusters verticais e do VBS.\n8.3\tTrajet\u00f3ria\nUm dos grandes objetivos do TURTLE e sem duvida a sua capacidade de realoca\u00e7\u00e3o, ou seja movimentar-se na coluna de agua. Na Figura 8.22 pode ser visualizado um movimento onde o ve\u00edculo inicialmente esta a cerca de 2.5 metros, faz a ascens\u00e3o perto da superf\u00edcie e depois volta a fazer o mergulho movimentando-se para uma nova posi\u00e7\u00e3o em heave de 1.8 metros e depois volta novamente a superf\u00edcie.\n23\nFigura 8.22: Exemplo de uma trajet\u00e1ria na realoca\u00e7\u00e3o do TURTLE na coluna de agua.\nObservando a trajet\u00f3ria efetuada, pode-se analisar a Figura 8.23 e verificar que houve uma altera\u00e7ao no yaw em cerca de 140\u00b0originando uma curva que \u00e9 viv\u00e1vel na Figura\n8.22.\tRelativamente ao roll e pitch estes permanecem estaveis.\nFigura 8.23: Atitude do ve\u00edculo ao longo da realocacao.\nA trajet\u00f3ria do TURTLE em que fez parte a sua realocac\u00e3o (Figura 8.22), \u00e9 mostrada na Figura 8.24 projetada no referencial mundo.\n38.4414\n38.4412\n38.441\n38.4408 oC\n38.4406\nc\u00f4\n38.4404\n38.4402\n38.44\n38.4398\nTrajet\u00f3ria TURTLE\n-9.112\t-9.1115\t-9.111\t-9.1105\t-9.11\t-9.1095\t-9.109\t-9.1085\nLongitude (deg)\nFigura 8.24: Trajet\u00f3ria do TURTLE no largo de Sesimbra.\nCapitulo 9\nCap\u00edtulo 9\nConclus\u00e3o e Trabalho Futuro\nEsta disserta\u00e7\u00e3o visou o desenvolvimento de um sistema de controlo para o ve\u00e1culo TURTLE, com recurso ao sistema de varia\u00e7\u00e3o de lastro.\nVerifica-se que entre os diferentes sistemas de variac\u00e3o de flutuabilidade comuns na literatura, o sistema utilizado pelo TURTLE \u00e1 o que mais se adequa \u00e0s necessidades do veiculo, uma vez que os restantes sistemas possuem aspetos como a pequena varia\u00e7\u00e3o de flutuabilidade (<20 litros) e limita\u00e7ao para missoes de longo prazo, que seriam entraves ao objetivo final do mesmo. Sendo assim, conclui-se que o sistema de varia\u00e7\u00e3o de lastro hidr\u00e1ulico \u00e1 o mais adequado devido \u00e0 elevada varia\u00e7ao de flutuabilidade e poder\u00e1a facilmente ser escal\u00e1avel alterando apenas a dimens\u00e3ao do reservat\u00e1orio. Contudo, de forma a melhorar o VBS do TURTLE, fica a recomendac\u00e7\u00e3ao de que a introdu\u00e7ca\u00e3o de um caudal\u00e1metro e de v\u00e1alvulas com controlo de fluxo, permitira\u00e1 um controlo mais esta\u00e1vel e preciso do ve\u00e1culo.\nQuanto ao modelo dinamico do ve\u00e1culo pode-se constatar atrav\u00e9s da for\u00e7a de arrasto (drag), nos seus movimentos mais comuns, heave e surge, que o TURTLE \u00e1 mais hidrodin\u00e2mico em cerca de 25% no movimento surge comparativamente ao movimento heave. Esta diferencia\u00e7c\u00e3ao poderia ser mais not\u00e1avel se o TURTLE se movimentasse apenas com recurso ao VBS. No entanto, como a movimenta\u00e7\u00e3o do TURTLE recorre \u00e0 a\u00e7\u00e3o dos propulsores e do VBS, estes 25% acabam por na\u00e3o ter relev\u00e2ancia, pois o ve\u00e1culo no movimento heave \u00e1e eficientemente energ\u00e1etico atrav\u00e1es do uso do VBS. Associando a este fator o sistema de propulsao vertical produz cerca 510N, que representam mais 24% da for\u00e7a produzia em surge. Desta forma o movimento menos hidrodin\u00e2mico \u00e1 compensado pela for\u00e7ca exercida pelos thrusters.\nAinda relativamente ao modelo din\u00e2mico do ve\u00e1culo, mais especificamente a valida\u00e7\u00e3o pr\u00e1evia dos coeficientes de forc\u00e7a e momentos hidrost\u00e1aticos, os resultados obtidos s\u00e3ao\nainda preliminares, uma vez que requerem testes experimentais que devido a propria geometria/dimensao do ve\u00f3culo, nao seriam viaveis de executar no tanque do LSA, sendo que o local ideal seria no mar. No entanto esta soluc\u00e3o possui custos abusivos que acabou por ser uma limita\u00e7ca\u00e3o a este estudo. Contudo realizaram-se alguns testes recorrendo a sistemas computacionais (CFD), mas que num futuro pr\u00f3ximo, seria interessante obter resultados experimentais de identificac\u00e7a\u00e3o do sistema, possibilitando assim a compara\u00e7c\u00e3ao entre os resultados reais e os resultados obtidos com a simula\u00e7c\u00e3ao.\nNo cap\u00f3tulo referente \u00e0 arquitectura de controlo de locomo\u00e7\u00e3o (integrando a ac\u00e3o dos propulsores e do sistema de variac\u00e3o de lastro (VBS)), foram especificadas um conjunto de manobras de locomoc\u00e7\u00e3ao que seriam a base para o desenvolvimento de diversas miss\u00e3oes. Conclui-se que a melhor forma de abordar aspetos pra\u00f3ticos de controlo do TURTLE, seria desacoplar os mecanismos de for\u00e7as de propuls\u00e3o em tres vertentes: VBS, thrusters verticais e thrusters horizontais. Isto permitiu descentralizar o sistema de controlo e com isso simplificar os seus modelos. O desenvolvimento de diversas manobras surgiu n\u00e3ao s\u00f3o pelo desacoplamento das forc\u00e7as de propuls\u00e3ao, mas tamb\u00f3em pelos diferentes processos existentes ao longo do mergulho a grandes profundidades, bem como pelos requisitos das miss\u00e3oes pretendidas.\nFoi desenvolvido e implementado um modelo de simula\u00e7\u00e3o em Matlab/Simulink que incorporou caracter\u00edsticas hibridas (continuas e discretas) tendo sido usado a ferramenta Stateflow. Isto permitiu uma maior facilidade na descri\u00e7\u00e3o das v\u00f3rias manobras tornando-as mais intuitivas e facilmente implement\u00f3aveis. Com esta simula\u00e7c\u00e3ao foi poss\u00f3vel concluir que o controlo para manobras que usam apenas os VBS na\u00e3o \u00f3e uma tarefa simples. No caso da manobra \u201dDIVE\u201d, devido as suas intr\u00ednsecas caracter\u00edsticas (atua\u00e7\u00e3o lenta/ resposta lenta), torna um desafio a sua implementa\u00e7\u00e3o. Relativamente \u00e0s manobras que usam o sistema de propuls\u00e3o (thrusters), estas apresentam como esperado um resposta temporal muito mais ra\u00f3pida.\nRelativamente aos controladores usados na implementac\u00e7\u00e3ao das manobras foram PID e PD.\nUma poss\u00f3vel melhoria na efic\u00f3acia e efici\u00eaencia das manobras que recorrem ao VBS, seria utilizar algor\u00f3timos de estimacao (e.g. EKF), no sentido de prever o comportamento do ve\u00f3culo em termos de posic\u00e7\u00e3ao e velocidade de forma a atuar com anteced\u00eaencia no sistema de varia\u00e7c\u00e3ao de lastro.\nUma outra melhoria a implementar no simulador seria criar um m\u00f3odulo que representase as caracter\u00f3sticas de ambientes reais, como ru\u00f3do nos sensores, par\u00eaametros de correntes, entre outros, para assim aproximar a simula\u00e7c\u00e3ao da realidade.\nO controlo em profundidade foi implementado no ve\u00f3culo real bem como a estrutura\nde controlo base foi testada no mar. Com isto foi poss\u00edvel verificar que o controlo de baixo n\u00edvel, isto \u00e9 arquitetura que faz interface com os thrusters e VBS est\u00e9 validada, assim como o controlo manual do ve\u00edculo. Durante os testes realizados nao foi poss\u00edvel concluir qual a velocidade terminal do ve\u00edculo, devido \u00e0 baixa profundidade de mergulho (&lt;14 metros). Contudo pelos dados analisados a uma profundidade de 20 metros talvez j\u00ed seja poss\u00edvel obter esse dado. Verificou-se pelos mergulhos efetuados que o TURTLE atinge velocidades de emersao e imersao na ordem dos 0.3 m/s, recorrendo ao VBS. Relativamente \u00e0 velocidade em surge usando os thrusters chega a alcan\u00e7ar os 0.5 m/s.\nEm relac\u00e3o ao mergulho em que o TURTLE permaneceu 12 horas no fundo do oceano, foi poss\u00edvel perceber que o sistema de varia\u00e7\u00e3o de lastro contem uma fuga de \u00edgua que ronda os 0.75 lpm. Relativamente \u00e0 estabilidade do ve\u00edculo, as conclus\u00e3es divergem um pouco. Ou seja, verificou-se pela atitude do ve\u00edculo que este permanece estavel tanto na imers\u00e3o/emers\u00e3o como na perman\u00eancia no fundo. Contudo analisando a posi\u00e7\u00e3o e dependendo da profundidade de mergulho, verifica-se algum drift (w 8 metros) relativamente \u00e0 sua posi\u00e7\u00e3o inicial de mergulho. Provavelmente esta ambiguidade adv\u00edm do erro acumulado pelo sistema de navegac\u00e3o, uma vez que utiliza apenas o metodo Dead Reckoning. Devido a esta situa\u00e7\u00e3o, no futuro seria importante a implementa\u00e7\u00e3o de um sistema de navega\u00e7ca\u00e3o robusto permitindo assim obter um m\u00edetodo de ground truth, de forma a retirar melhores concluso\u00e3es relativamente ao sistema de controlo implementado.\nA integrac\u00e3o de manobras e do gestor de miss\u00f5es que foi abordado nesta disserta\u00e7\u00e3o tamb\u00edm foi implementado no ve\u00edculo TURTLE, contudo, apesar do esfor\u00e7o n\u00e3o foi poss\u00edvel gerar resultados que pudessem ser incorporados nesta disserta\u00e7\u00e3o. O mesmo se passou com dados relativos a eficiencia energetica do ve\u00edculo. Levando em conta todos os aspetos abordados neste documento e tendo em vista o tema abrangente, concluiu-se que foram atingidos os objetivos propostos. Por fim, deseja-se com esta disserta\u00e7\u00e3o impulsionar aquele que se espera vir a ser um dos ve\u00edculos subaqu\u00edticos com maior relev\u00eancia no desenvolvimento cient\u00edfico do pais, o TURTLE.\nEsta p\u00e1gina foi intencionalmente deixada em branco.\nBibliografia\n[1]\tNuno Vieira Matias. A\u201dclusteriza\u00e7\u00e3o\u201dda economia mar\u00edtima. Na\u00e7\u00e3o e defesa, (122),\n2009.\n[2]\tHugo Ferreira, Alfredo Martins, Jos\u00e9 Miguel Almeida, Ant\u00f3nio Valente, Antonio Figueiredo, Batista da Cruz, Maur\u00edcio Camilo, Victor Lobo, Carlos Pinho, Augustin Olivier, et al. Turtle\u2014systems and technologies for deep ocean long term presence. In Oceans-St. John\u2019s, 2014, pages 1-10. IEEE, 2014.\n[3]\tyear = 2017 url = www.emepc.pt/pt/a-submissao-portuguesa urldate = 2017-10-1 empec, title = Estrutura de miss\u00e3o para a extens\u00e3o da plataforma continental.\n[4]\tHugo Miguel Ferreira, Carlos Almeida, Alfredo Martins, Jos\u00ede Miguel Almeida, Andr\u00e9 Dias, Guilherme Silva, and Eduardo Silva. Environmental modeling with precision navigation using roaz autonomous surface vehicle. In IROS 2012-IEEE/RSJ International Conference on Intelligent Robots and Systems, pages 1-6, 2012.\n[5]\tJ Almeida, A Ferreira, B Matias, A Dias, A Martins, F Silva, J Oliveira, P Sousa, M Moreira, T Miranda, et al. Air and underwater survey of water enclosed spaces for vamos! project. In OCEANS 2016 MTS/IEEE Monterey, pages 1-5. IEEE, 2016.\n[6]\tCameron Sword, Balazs Bodo, Stef Kapusniak, Frank Bosman, Jenny Rainbird, and Eduardo Silva. j vamos!(viable alternative mine operating system)-a\u2019horizon 2020\u2019project. In EGU General Assembly Conference Abstracts, volume 19, page 348, 2017.\n[7]\tAlfredo Martins, Andr\u00ede Dias, Eduardo Silva, Hugo Ferreira, Ireneu Dias, Jos\u00ede Miguel Almeida, Lu\u00eds Torgo, Marco Gon\u00e7calves, Maur\u00edcio Guedes, Nuno Dias, et al. Marineye\u2014a tool for marine monitoring. In OCEANS 2016-Shanghai, pages 1-7. IEEE, 2016.\n[8]\tAndrea Caiti, Francesco Di Corato, Davide Fenucci, Simone Grechi, Manuel Novi, Francesco Pacini, and Giacomo Paoli. The project v-fides: A new generation auv for deep underwater exploration, operation and monitoring. In Oceans-St. John\u2019s, 2014, pages 1-7. IEEE, 2014.\n[9]\tWilliam Kohnen. 2007 mts overview of manned underwater vehicle activity. Marine Technology Society Journal, 42(1):26-37, 2008.\n[10]\tGiacomo Marani, Song K Choi, and Junku Yuh. Underwater autonomous manipulation for intervention missions auvs. Ocean Engineering, 36(1):15-23, 2009.\n[11]\tXianbo Xiang, Zemin Niu, Lionel Lapierre, and Mingjiu Zuo. Hybrid underwater robotic vehicles: the state-of-the-art and future trends. HKIE Transactions, 22(2):103-116, 2015.\n[12]\tDaniel B Kilfoyle and Arthur B Baggeroer. The state of the art in underwater acoustic telemetry. IEEE Journal of oceanic engineering, 25(1):4-27, 2000.\n[13]\tPatricia Fryer, James B Gill, and Michael C Jackson. Volcanologic and tectonic evolution of the kasuga seamounts, northern mariana trough: Alvin submersible investigations. Journal of Volcanology and Geothermal Research, 79(3):277-311,\n1997.\n[14]\tJames Watt Mavor, Harold E Froehlich, William M Marquet, and William O Rain-nie. Alvin, 6000-ft. Submergence Research Vehicle. Woods Hole Oceanographic Institution, 1967.\n[15]\tKimiaki Kudo. Overseas trends in the development of human occupied deep submersibles and a proposal for japan\u2019s way to take. Sci. Technol. Trends, 26:104-123, 2008.\n[16]\tWeicheng Cui. Development of the jiaolong deep manned submersible. Marine Technology Society Journal, 47(3):37-54, 2013.\n[17]\tMarc Nokin. Victor 6000-a deep teleoperated system for scientific research. In OCEANS\u201997. MTS/IEEE Conference Proceedings, volume 1, pages 167-171. IEEE, 1997.\n[18]\tWJ Kirkwood and DE Steele. Active variable buoyancy control system for mbari\u2019s rov. In OCEANS\u201994.\u2019Oceans Engineering for Today\u2019s Technology and Tomorrow\u2019s Preservation.\u2019Proceedings, volume 2, pages II-471. IEEE, 1994.\n[19]\tAssistente do Presidente da Eletrobras Eletronuclear e membro do Standing Advisory Group on Nuclear Energy. A nova fronteira: O mar profundo, 2017.\n[20]\tAYHAN Altintas. Archimedes\u2019 principle as a application of the divergence theorem. IEEE Transactions on Education, 33(2):222, 1990.\n[21]\tSekhar Tangirala and John Dzielski. A variable buoyancy control system for a large auv. IEEE journal of oceanic engineering, 32(4):762-771, 2007.\n[22]\tSteven W Moore, Harry Bohm, and Vickie Jensen. Underwater robotics: Science, design &amp; fabrication. Marine Advanced Technology Education (MATE) Center,\n2010.\n[23]\tWE Schneider and JA Sasse. 12,000-ft sea-water variable ballast system for the submersible\u2019alvin\u2019. American Society of Mechanical Engineers, New York, pages 74-79, 1973.\n[24]\tTaro Aoki, Satoshi Tsukioka, Hiroshi Yoshida, Tadahiro Hyakudome, Shojiro Ishi-bashi, Takao Sawa, Akihisa Ishikawa, Junichiro Tahara, Ikuo Yamamoto, Makoto Ohkusu, et al. Advanced technologies for cruising auv urashima. International Journal of Offshore and Polar Engineering, 18(02), 2008.\n[25]\tMathieu Kemp, Matt Palanza, Cheryl Skibski, Josh Ormsby, and Michelle Es-taphan. Persistence at full ocean depth. In Autonomous Underwater Vehicles (AUV), 2012 IEEE/OES, pages 1-7. IEEE, 2012.\n[26]\tJian-an Xu, Ming-jun Zhang, et al. A variable buoyancy system for long cruising range auv. In Computer, Mechatronics, Control and Electronic Engineering (CMCE), 2010 International Conference on, volume 2, pages 585-588. IEEE, 2010.\n[27]\tDaniel L Rudnick, Russ E Davis, Charles C Eriksen, David M Fratantoni, and Mary Jane Perry. Underwater gliders for ocean research. Marine Technology Society Journal, 38(2):73-84, 2004.\n[28]\tShawn A Woods, Robert J Bauer, and Mae L Seto. Automated ballast tank control system for autonomous underwater vehicles. IEEE Journal of Oceanic Engineering, 37(4):727-739, 2012.\n[29]\tMin Xu and SM Smith. Adaptive fuzzy logic depth controller for variable buoyancy system of autonomous underwater vehicles. In Fuzzy Systems, 1994. IEEE World\nCongress on Computational Intelligence., Proceedings of the Third IEEE Conference on, pages 1191-1196. IEEE, 1994.\n[30]\tRoberto Font and Javier Garc\u00eda-Pel\u00e1ez. On a submarine hovering system based on blowing and venting of ballast tanks. Ocean Engineering, 72:441-447, 2013.\n[31]\tKS Wasserman, JL Mathieu, MI Wolf, A Hathi, SE Fried, and AK Baker. Dynamic buoyancy control of an rov using a variable ballast tank. In OCEANS 2003. Proceedings, volume 5, pages SP2888-SP2893. IEEE, 2003.\n[32]\tI Masmitja, J Gonz\u00e1lez, and S Gomariz. Buoyancy model for guanay ii auv. In OCEANS 2014-TAIPEI, pages 1-7. IEEE, 2014.\n[33]\tBambang Sumantr, MN Karsiti, and H Agustiawan. Development of variable ballast mechanism for depth positioning of spherical urv. In Information Technology, 2008. ITSim 2008. International Symposium on, volume 4, pages 1-6. IEEE, 2008.\n[34]\tThiyagarajan Ranganathan, Vijendra Singh, Ranjith Nair, and Asokan Thondiyath. Design of a controllable variable buoyancy module and its performance analysis as a cascaded system for selective underwater deployment. Proceedings of the Institution of Mechanical Engineers, Part M: Journal of Engineering for the Maritime Environment, page 1475090216688819, 2017.\n[35]\tFeng Liu, WeiCheng Cui, and XiangYang Li. China\u2019s first deep manned submersible, jiaolong. Science China Earth Sciences, 53(10):1407-1410, 2010.\n[36]\tYasuharu TERADA, Akira KOMATSU, Shuji KANDA, Morihiko INOKUMA, Minoru MAKIMURA, and Yukiaki NAGATA. 17. development of high pressure sea water plump. Naval architecture and ocean engineering, 22:227-232, 1984.\n[37]\tSo-Nam Yun, Young-Bog Ham, Yoshito Tanaka, and Pan-Mook Lee. New circuit strategy of the variable ballast system for a deep sea submersible. In Fluid Power and Mechatronics (FPM), 2015 International Conference on, pages 514-517. IEEE,\n2015.\n[38]\tWu Defa, Liu Yinshui, Cheng Jinyue, Jiang Zhuo, and Jiang Tao. Research on the pump of seawater hydraulic variable ballast system in submersible. In Fluid Power and Mechatronics (FPM), 2011 International Conference on, pages 429-434. IEEE,\n2011.\n[39]\tQiaoling Kong, Jie Ma, and Dongying Xia. Numerical and experimental study of the phase change process for underwater glider propelled by ocean thermal energy. Renewable Energy, 35(4):771-779, 2010.\n[40]\tDouglas C Webb, Paul J Simonetti, and Clayton P Jones. Slocum: An underwater glider propelled by environmental energy. IEEE Journal of oceanic engineering, 26(4):447-452, 2001.\n[41]\tAided navigation: Gps with high rate sensors. 2008.\n[42]\tPeter C Hughes. Spacecraft attitude dynamics john wiley and sons. New York, 1986.\n[43]\tThor I Fossen. Guidance and control of ocean vehicles. John Wiley &amp; Sons Inc, 1994.\n[44]\tOdd Faltinsen. Sea loads on ships and offshore structures, volume 1. Cambridge university press, 1993.\n[45]\tI Fossen Thor. Guidance and control of ocean vehicles, 1994.\n[46]\tPepijn van de Ven, Colin Flanagan, and Daniel Toal. Identification of underwater vehicle dynamics with neural networks. In OCEANS\u201904. MTTS/IEEE TECHNO-OCEAN\u201904, volume 3, pages 1198-1204. IEEE, 2004.\n[47]\tMaria Jo\u00e3o Correia Soares da Costa. Manobras de condu\u00e7\u00e3o assistida para ve\u00edculos submarinos subactuados. PhD thesis, 2013.\n[48]\tThe Editors of Encyclopedia Britannica. Arquimed\u2019sprinciple, 2017.\n[49]\tAli Najafi and Antonio Valente. Design and optimization of opencell\u2122 metal sandwich cylindrical panel.\n[50]\tJerzy Garus. A method of power distribution in the power transmission system of a remotely operated vehicle. Journal of Theoretical and Applied Mechanics, 42(2):239-251, 2004.\n[51]\tseaye. Mct1 thruster performance, 2017.\n[52]\tMatias Bruno. Sistema de localizaca subaquatico para ve\u00edculos aut\u00f4nomos. INESC-TEC, 2016.\n[53]\tPan-Mook Lee, Bong-Huan Jun, Kihun Kim, Jihong Lee, Taro Aoki, and Tadahiro Hyakudome. Simulation of an inertial acoustic navigation system with range aiding for an autonomous underwater vehicle. IEEE Journal of Oceanic Engineering, 32(2):327-345, 2007.\n[54]\tEduardo Silva, Alfredo Martins, Jos\u00e9 Miguel Almeida, Hugo Ferreira, Ant\u00f4nio Valente, Mauricio Camilo, Ant\u00f4nio Figueiredo, and Cl\u00e9udia Pinheiro. Turtle-a robotic autonomous deep sea lander. In OCEANS 2016 MTS/IEEE Monterey, pages 1-5. IEEE, 2016.\n[55]\tKM Tan, A Anvar, and TF Lu. Autonomous underwater vehicle (auv) dynamics modeling and performance evaluation. World Academy of Science, Engineering and Technology, 6:2012-10, 2012.\n[56]\tG Rui, S Alexandre, F Sergio, S Joao, and P Fernando. A new rov design: Issues on low drag and mechanical symmetry. Underwater Systems and Technology Laboratory, Porto, 2005.\n[57]\tAlvaro Garc\u00eda Cazorla et al. Ros: Robot operating system. 2013.\n[58]\tKarl Johan \u00c2str\u00f4m and Tore Hagglund. Automatic tuning of PID controllers. Instrument Society of America (ISA), 1988.\n[59]\tenacademic. Pid controller, 2017.\n[60]\tGuilherme Marques Amaral Silva. Desenvolvimento e Controlo de um Ve\u00edculo Aut\u00f3nomo A\u00e9reo Quadrotor. PhD thesis, 2009.\n[61]\tJohn G Ziegler and Nathaniel B Nichols. Optimum settings for automatic controllers. trans. ASME, 64(11), 1942.\n[62]\tNone. Tuning for pid controllers, 2017.\n[63]\tMary Shaw and David Garlan. Software architecture: perspectives on an emerging discipline, volume 1. Prentice Hall Englewood Cliffs, 1996."}]}}}