{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.11836"}, {"@name": "filename", "#text": "17260_dmt.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "Universidade Federal de Pernambuco\n\nCentro de Inform\u00e1tica\n\nMestrado em Ci\u00eancia da Computa\u00e7\u00e3o\n\nModelagem e Renderiza\u00e7\u00e3o da G\u00eanese e\nCrescimento de Espeleotemas em\n\nTempo-Real\n\nDaniel Menin Tortelli\n\nDisserta\u00e7\u00e3o de Mestrado\n\nRecife\n\n03 de mar\u00e7o de 2009\n\n\n\nUniversidade Federal de Pernambuco\n\nCentro de Inform\u00e1tica\n\nDaniel Menin Tortelli\n\nModelagem e Renderiza\u00e7\u00e3o da G\u00eanese e Crescimento de\nEspeleotemas em Tempo-Real\n\nTrabalho apresentado ao Programa de Mestrado em Ci\u00ean-\ncia da Computa\u00e7\u00e3o do Centro de Inform\u00e1tica da Universi-\ndade Federal de Pernambuco como requisito parcial para\nobten\u00e7\u00e3o do grau de Mestre em Ci\u00eancia da Computa\u00e7\u00e3o.\n\nOrientador: Marcelo Walter\n\nRecife\n\n03 de mar\u00e7o de 2009\n\n\n\nTortelli, Daniel Menin   \n       Modelagem e renderiza\u00e7\u00e3o da g\u00eanese e \ncrescimento de espeleotemas em tempo-real / Daniel \nMenin Tortelli - Recife : O Autor, 2009. \n        xi,  58  folhas : il., fig., tab.  \n\n       Disserta\u00e7\u00e3o (mestrado) \u2013 Universidade Federal \nde Pernambuco. CIn.  Ci\u00eancia da Computa\u00e7\u00e3o, 2009. \n\n       Inclui bibliografia. \n\n 1. Computa\u00e7\u00e3o Gr\u00e1fica.   I. T\u00edtulo. \n\n      006.6                CDD (22. ed.)                MEI2009-036  \n\n\n\n\n\nPorque ser\u00e1 que o pensamento, esse eterno viajante, nos\ncarrega a todo instante... Sempre a procurar...\n\nHorizontes...\n\n\n\nAgradecimentos\n\nA Deus pelo dom da vida.\n\nAos meus pais Ad\u00e3o e Nadir pelo incentivo e coragem. Por acreditarem e financiarem\n\n(espero que pela \u00faltima vez... :) ) os meus sonhos. Por sempre me incentivarem a correr atr\u00e1s\n\nda maior riqueza que algu\u00e9m pode acumular... o conhecimento!\n\nAos meus irm\u00e3os Denise e F\u00e1bio.\n\nA minha namorada Kelin pela paci\u00eancia e compreens\u00e3o durante a realiza\u00e7\u00e3o de mais esse\n\ntrabalho.\n\nAo professor e orientador Marcelo Walter por sua orienta\u00e7\u00e3o impec\u00e1vel e sua dedica\u00e7\u00e3o,\n\najudando-me a realizar um bom trabalho.\n\nAo professor Jacques Duilio Brancher por ter, h\u00e1 muito tempo atr\u00e1s, me mostrado um\n\ncaminho a seguir.\n\nAo professor Francisco da Cruz (Chico Bill) da Universidade de S\u00e3o Paulo (USP), que nos\n\najudou com os conhecimentos da \u00e1rea de Geologia.\n\nAos amigos queridos que fiz durante essa jornada.\n\niv\n\n\n\nPara alcan\u00e7ar conhecimento, adicione coisas todo dia. Para alcan\u00e7ar\nsabedoria, elimine coisas todo dia.\n\n\u2014LAO TS\u00c9\n\n\n\nResumo\n\nDentre os v\u00e1rios fen\u00f4menos naturais estudados atualmente em pesquisas na \u00e1rea de Com-\n\nputa\u00e7\u00e3o Gr\u00e1fica, o interior de cavernas permanece ainda inexplorado. O presente trabalho apre-\n\nsenta uma abordagem plaus\u00edvel, baseada em estudos geol\u00f3gicos, para a modelagem da g\u00eanese\n\ne crescimento de espeleotemas. Espeleotemas s\u00e3o dep\u00f3sitos de minerais formados em caver-\n\nnas, tais como estalactites, estalagmites e colunas. Nossa abordagem toma vantagem das novas\n\ncapacidades do pipeline gr\u00e1fico atual, apresentado na nova gera\u00e7\u00e3o de GPUs, particularmente\n\na capacidade de amplifica\u00e7\u00e3o de geometria do novo est\u00e1gio program\u00e1vel (Geometry-Shader),\ne pode gerar em uma maneira controlada, alguns espeleotemas encontrados em cavernas cal-\n\nc\u00e1rias, baseado em par\u00e2metros geol\u00f3gicos reais. O modelo proposto utiliza dados reais do fen\u00f4-\n\nmeno de g\u00eanese e crescimento de espeleotemas. Dessa forma, ele tamb\u00e9m pode ser usado por\n\nprofissionais da \u00e1rea de geologia que desejem simular o crescimento de certos espeleotemas,\n\nsob determinadas condi\u00e7\u00f5es.\n\nPalavras-chave: Cavernas, espeleotemas, estalactites, estalagmites, gr\u00e1ficos em tempo-real,\nmodelagem de cenas e f\u00eanomenos naturais\n\nvi\n\n\n\nAbstract\n\nAmong the many natural phenomena already studied in computer graphics research, the inte-\n\nrior of caves remains largely unexplored. We present in this paper a plausible approach, based\n\non Geological studies, for modeling the genesis and growth of speleothems. Speleothems are\n\nmineral depositions formed in caves, such as stalactites, stalagmites and columns. Our ap-\n\nproach takes advantage of the new geometry shader, present in the new generation of GPUs,\n\nparticularly the capacity of geometry amplification of the new programmable stage (Geome-\ntry Shader), and can generate in a controlled way, some speleothems founded in limestone\ncaves, with meaningful geological parameters. The proposed model using real data of the phe-\n\nnomenon of genesis and growth of speleothems. In this way, it may also be used by geology\n\nprofessionals wishing simulate the growth of certain types of speleothems, under certain con-\n\nditions.\n\nKeywords: Caves, speleothems, stalactite, stalagmite, real-time graphics, modeling of natural\nscenes and phenomena\n\nvii\n\n\n\nSum\u00e1rio\n\n1 Introdu\u00e7\u00e3o 1\n1.1 Objetivo deste Trabalho 2\n\n1.2 Organiza\u00e7\u00e3o da Disserta\u00e7\u00e3o 2\n\n2 Conceitos B\u00e1sicos 4\n2.1 O Pipeline Gr\u00e1fico do Direct3D 10 4\n\n2.2 Como os Espeleotemas Crescem 6\n\n2.3 Est\u00e1gios do Crescimento dos Espeleotemas 7\n\n2.3.1 Est\u00e1gio de Acidula\u00e7\u00e3o da \u00c1gua das Chuvas 7\n\n2.3.2 Est\u00e1gio de Dissolu\u00e7\u00e3o da Rocha Calc\u00e1ria 8\n\n2.3.3 Est\u00e1gio de Deposi\u00e7\u00e3o Mineral 8\n\n2.4 Equa\u00e7\u00f5es Qu\u00edmicas 8\n\n2.5 Defini\u00e7\u00e3o da Apar\u00eancia dos Espeleotemas 9\n\n2.6 Propriedades \u00d3ticas da Calcita 10\n\n2.6.1 Transpar\u00eancia, translucidez, brilho e cintil\u00e2ncia dos espeleotemas 11\n\n2.7 Tipos de Espeleotemas 11\n\n3 Revis\u00e3o Bibliogr\u00e1fica 14\n3.1 Espeleotemas abordados em trabalhos relacionados com a \u00e1rea de Computa\u00e7\u00e3o\n\nGr\u00e1fica 14\n\n3.2 Espeleotemas abordados em trabalhos relacionados com outras \u00e1reas 16\n\n4 Modelo Proposto 24\n4.1 Inicializa\u00e7\u00e3o 24\n\n4.1.1 Definindo a primitiva base (semente) 25\n\n4.1.2 Posicionamento dos v\u00e9rtices 25\n\n4.2 Cria\u00e7\u00e3o do Corpo/Forma dos Espeleotemas 26\n\n4.2.1 Defini\u00e7\u00e3o dos valores do par\u00e2metro IDVERT 26\n4.2.2 Processo de Amplifica\u00e7\u00e3o da Geometria 26\n\n4.3 Controle do Crescimento dos Espeleotemas 29\n\n4.3.1 \u00cdndice Pluviom\u00e9trico (PIL) 30\n\n4.3.2 Intervalo de Gotejamento (Drip Int.) 30\n\n4.3.3 Concentra\u00e7\u00e3o de CO2 (CO2 Conc.) 31\n4.4 Forma\u00e7\u00e3o de Deformidades na Superf\u00edcie dos Espeleotemas 31\n\n4.4.1 O Fator de Solidifica\u00e7\u00e3o da Solu\u00e7\u00e3o Saturada 31\n\n4.4.2 O Fator de Circula\u00e7\u00e3o de Ar 33\n\nviii\n\n\n\nSUM\u00c1RIO ix\n\n4.5 Condi\u00e7\u00f5es de T\u00e9rmino da Simula\u00e7\u00e3o 33\n\n4.6 Apar\u00eancia dos Espeleotemas 34\n\n4.7 Interface da Aplica\u00e7\u00e3o 36\n\n5 Resultados 39\n\n6 Considera\u00e7\u00f5es Finais e Trabalhos Futuros 51\n\n\n\nLista de Figuras\n\n2.1 Est\u00e1gios do pipeline gr\u00e1fico do Direct3D 10 5\n\n2.2 Est\u00e1gios do crescimento dos espeleotemas 7\n\n2.3 Equa\u00e7\u00f5es qu\u00edmicas dos est\u00e1gios de crescimento dos espeleotemas 9\n\n2.4 Tipos de espeleotemas reais 13\n\n3.1 Passos do modelo de cria\u00e7\u00e3o de estalactites apresentado em [OY93, YO92] 15\n\n3.2 Resultados obtidos em [OY93, YO92] (modo wireframe) 19\n\n3.3 Resultados obtidos em [OY93, YO92] 20\n\n3.4 Resultados obtidos em [Bal09] 21\n\n3.5 Resultados obtidos em [LF04] 21\n\n3.6 Resultados obtidos em [SBG05] e [SBB+05] 22\n\n3.7 Resultados obtidos em [SBG06] 22\n\n3.8 Resultados obtidos em [SL95] 23\n\n4.1 Primitiva base (cilindro) 25\n\n4.2 Configura\u00e7\u00e3o inicial do par\u00e2metro IDVERT dos v\u00e9rtices da primitiva base 26\n4.3 Incremento do par\u00e2metro IDVERT dos v\u00e9rtices da primitiva base 27\n4.4 Primitiva base e nova primitiva, criada a partir dos par\u00e2metros Height e Radius 28\n4.5 Liga\u00e7\u00e3o dos cilindros 28\n\n4.6 Estrutura do espeleotema. Sucessivas passadas pelo pipeline 29\n\n4.7 Efeitos da circula\u00e7\u00e3o de ar no interior da caverna 34\n\n4.8 Colora\u00e7\u00e3o de minerais (mc) 35\n\n4.9 Widgets de controle interativo de par\u00e2metros da simula\u00e7\u00e3o 38\n\n5.1 Gr\u00e1ficos gerados com dados obtidos durante a simula\u00e7\u00e3o - Parte 1 43\n\n5.2 Gr\u00e1ficos gerados com dados obtidos durante a simula\u00e7\u00e3o - Parte 2 45\n\n5.3 Efeito da presen\u00e7a de circula\u00e7\u00e3o de ar no ambiente cavern\u00edcola 46\n\n5.4 Espeleotemas virtuais - parte 1 47\n\n5.5 Espeleotemas virtuais - parte 2 48\n\n5.6 Espeleotemas em modo solid/wireframe 49\n\n5.7 Formas de visualiza\u00e7\u00e3o dos espeleotemas 50\n\n6.1 Tipos de Espeleotemas Reais 53\n\nx\n\n\n\nLista de Tabelas\n\n4.1 Par\u00e2metros dos V\u00e9rtices 26\n\n4.2 Par\u00e2metros de controle do crescimento de espeleotemas 32\n\n5.1 Dados da Estalactite e Estalagmite da figura 5.1 42\n5.2 Dados da Coluna exibida na figura 5.2 44\n\nxi\n\n\n\nCAP\u00cdTULO 1\n\nIntrodu\u00e7\u00e3o\n\nToda grande jornada come\u00e7a com o primeiro passo!\n\u2014AUTOR DESCONHECIDO\n\nNa \u00e1rea de Computa\u00e7\u00e3o Gr\u00e1fica, pesquisadores t\u00eam sido atra\u00eddos para reproduzir visual-\n\nmente a beleza da natureza e a complexidade presente em seus diversos fen\u00f4menos, de simu-\n\nla\u00e7\u00e3o de chuva [RJG06], modelos de ilumina\u00e7\u00e3o e sombreamento de nuvens [BNL06], simu-\n\nla\u00e7\u00e3o de fogo [MM07], entre muitos outros fen\u00f4menos. Durante esse tempo, diversas aborda-\n\ngens t\u00eam sido usadas para a simula\u00e7\u00e3o de fen\u00f4menos naturais. Pesquisas em entretenimento\n\nenfatizam a representa\u00e7\u00e3o da beleza visual destes fen\u00f4menos, enquanto que pesquisas de cunho\n\ncient\u00edfico focam seus esfor\u00e7os na precis\u00e3o matem\u00e1tica dos modelos, representando os proces-\n\nsos naturais fundamentais de sua forma\u00e7\u00e3o e evolu\u00e7\u00e3o. A visualiza\u00e7\u00e3o de fen\u00f4menos naturais\n\n\u00e9 muito importante no sentido de aumentar o realismo das cenas de Computa\u00e7\u00e3o Gr\u00e1fica.\n\nA constru\u00e7\u00e3o e simula\u00e7\u00e3o em tempo-real de modelos tridimensionais de fen\u00f4menos natu-\n\nrais aperfei\u00e7oam a visualiza\u00e7\u00e3o e proporcionam uma melhor interpreta\u00e7\u00e3o de suas formas e\n\napar\u00eancias. As principais vantagens da constru\u00e7\u00e3o e manipula\u00e7\u00e3o de modelos tridimensionais\n\ns\u00e3o:\n\n1. Aumentar o realismo visual;\n\n2. Diagnosticar poss\u00edveis erros em projetos atrav\u00e9s de interpreta\u00e7\u00f5es das formas geom\u00e9tri-\n\ncas geradas pelo modelo;\n\n3. Aumentar o n\u00edvel de interpreta\u00e7\u00e3o dos resultados:\n\n(a) Representa\u00e7\u00e3o simult\u00e2nea de um modelo com informa\u00e7\u00f5es geom\u00e9tricas e par\u00e2me-\n\ntros f\u00edsicos ou qu\u00edmicos distintos;\n\n(b) A possibilidade de visualizar o modelo de todos os pontos de vista poss\u00edveis de\n\nvisualiza\u00e7\u00e3o;\n\n(c) Representa\u00e7\u00e3o de estruturas que s\u00e3o tridimensionais por natureza, exibindo todas\n\nas suas particularidades;\n\n(d) A partir de certos par\u00e2metros iniciais, simular processos e fen\u00f4menos, que variam\n\nprogressivamente conforme o decorrer do tempo.\n\nEntretanto, desde os trabalhos iniciais neste assunto em Computa\u00e7\u00e3o Gr\u00e1fica [BGMR83],\n\nj\u00e1 ficava claro que a visualiza\u00e7\u00e3o de fen\u00f4menos naturais \u00e9 desafiante cientificamente, pois en-\n\n1\n\n\n\n1.1 OBJETIVO DESTE TRABALHO 2\n\nvolve um grande volume de dados e uma grande carga computacional, se todas as particu-\n\nlaridades matem\u00e1ticas e f\u00edsicas desses modelos forem levadas em considera\u00e7\u00e3o. A natureza\n\n\u00e9 capaz de criar diversos detalhes complexos. Como citado nesse mesmo trabalho, \u00e1rvores,\n\nnuvens, terrenos, fogo e outros elementos da natureza nem sempre s\u00e3o mostrados de forma in-\n\nteiramente real\u00edstica em Computa\u00e7\u00e3o Gr\u00e1fica. A modelagem de fen\u00f4menos naturais em Com-\n\nputa\u00e7\u00e3o Gr\u00e1fica \u00e9 um eterno desafio que motiva pesquisadores e grupos de pesquisa at\u00e9 hoje,\n\ncomo podemos observar em Workshops ativos espec\u00edficos desta \u00e1rea, como o Eurographics\n\nWorkshop on Natural Phenomena (http://liris.cnrs.fr/ egwnp/). Situada na fronteira entre duas\n\n\u00e1reas, na modelagem de fen\u00f4menos naturais n\u00e3o \u00e9 raro a computa\u00e7\u00e3o buscar conhecimento na\n\n\u00e1rea intr\u00ednseca ao fen\u00f4meno sendo estudado. Alguns exemplos desses estudos podem ser vistos\n\nem [WCMT07], [NWD05], [BA05b] e [HFR06].\n\nAo mesmo tempo, com a constante evolu\u00e7\u00e3o dos dispositivos de hardware gr\u00e1fico e o alto\n\npoder de processamento dos computadores modernos, os recursos atuais de Computa\u00e7\u00e3o Gr\u00e1-\n\nfica permitem a simula\u00e7\u00e3o em tempo-real de estruturas naturais complexas. Com o advento do\n\npipeline gr\u00e1fico program\u00e1vel, atrav\u00e9s de linguagens de shader [Ros06] [Eng06], a implemen-\n\nta\u00e7\u00e3o de t\u00e9cnicas de modelagem cada vez mais complexas tornou-se poss\u00edvel em aplica\u00e7\u00f5es em\n\ntempo-real [TW07] [MH99].\n\nUm exemplo de fen\u00f4menos naturais que apresentam certa complexidade na sua g\u00eanese e\n\ncrescimento, e que ainda n\u00e3o foram devidamente modelados em Computa\u00e7\u00e3o Gr\u00e1fica s\u00e3o os\n\nespeleotemas, encontrados no interior de cavernas calc\u00e1rias. Os espeleotemas mais conhecidos\n\ns\u00e3o estalactites, estalagmites e colunas. Neste contexto, a principal contribui\u00e7\u00e3o deste trabalho\n\n\u00e9 a cria\u00e7\u00e3o de um modelo que simule em tempo-real a g\u00eanese e crescimento dos espeleotemas\n\ncitados anteriormente, baseando-se em par\u00e2metros do modelo real de sua forma\u00e7\u00e3o.\n\n1.1 Objetivo deste Trabalho\n\nEste trabalho apresenta um modelo para g\u00eanese e crescimento de espeleotemas em tempo-real,\n\nque toma como base dados reais do fen\u00f4meno geol\u00f3gico e utiliza o potencial do hardware gr\u00e1-\n\nfico atual. Este projeto multidisciplinar tem como objetivo principal a simula\u00e7\u00e3o e visualiza\u00e7\u00e3o\n\nde espeleotemas em tempo-real, usando o modelo proposto, para aplica\u00e7\u00e3o em Computa\u00e7\u00e3o\n\nGr\u00e1fica e Geologia.\n\n1.2 Organiza\u00e7\u00e3o da Disserta\u00e7\u00e3o\n\nNo cap\u00edtulo 2 \u00e9 apresentada a base geol\u00f3gica e espeleol\u00f3gica, descrevendo o processo natu-\n\nral de origem de cavernas e espeleotemas e suas particularidades. Tamb\u00e9m \u00e9 feita uma des-\n\ncri\u00e7\u00e3o dos est\u00e1gios do novo pipeline gr\u00e1fico do Direct3D 10, utilizados na cria\u00e7\u00e3o do modelo\n\nproposto. O cap\u00edtulo 3 mostra algumas poucas abordagens existentes sobre a modelagem de\n\nespeleotemas, feitas por pesquisadores n\u00e3o s\u00f3 da \u00e1rea de Computa\u00e7\u00e3o Gr\u00e1fica, mas tamb\u00e9m\n\nde outras \u00e1reas como F\u00edsica, Qu\u00edmica e Matem\u00e1tica. S\u00e3o demonstrados os seus modelos e\n\nabordagens, bem como os resultados obtidos em seus trabalhos. O cap\u00edtulo 4 mostra o mo-\n\ndelo proposto, descrevendo sua implementa\u00e7\u00e3o, caracter\u00edsticas e funcionalidades. O cap\u00edtulo\n\n\n\n1.2 ORGANIZA\u00c7\u00c3O DA DISSERTA\u00c7\u00c3O 3\n\n5 mostra o resultado de simula\u00e7\u00f5es com diferentes valores para os par\u00e2metros do modelo pro-\n\nposto. Finalmente, o cap\u00edtulo 6 apresenta as considera\u00e7\u00f5es finais e os trabalhos futuros nessa\n\nlinha de pesquisa.\n\n\n\nCAP\u00cdTULO 2\n\nConceitos B\u00e1sicos\n\nN\u00e3o s\u00e3o pedras! S\u00e3o Espeleotemas!\n\u2014AUTOR DESCONHECIDO\n\nA palavra espeleotema \u00e9 derivada das palavras gregas spelaion (caverna) e thema (dep\u00f3sito).\nO processo pelo qual os espeleotemas s\u00e3o formados \u00e9 o reverso do processo de dissolu\u00e7\u00e3o da\n\nrocha calc\u00e1ria para forma\u00e7\u00e3o de cavernas. Todo o processo de forma\u00e7\u00e3o de espeleotemas se\n\nbaseia nos mecanismos de precipita\u00e7\u00e3o e escorrimento. De acordo com [Lin01], espeleotemas\n\ns\u00e3o dep\u00f3sitos minerais formados em cavernas, basicamente por processos qu\u00edmicos de dis-\n\nsolu\u00e7\u00e3o e precipita\u00e7\u00e3o. Os espeleotemas mais comuns s\u00e3o estalactites, estalagmites e colunas.\n\nEste cap\u00edtulo apresenta uma base em espeleologia e geologia, mostrando como \u00e9 o processo\n\nde forma\u00e7\u00e3o dos espeleotemas, suas principais caracter\u00edsticas e distin\u00e7\u00f5es entre alguns tipos\n\ncomuns de espeleotemas. Os conceitos apresentados neste cap\u00edtulo formam a base para a com-\n\npreens\u00e3o do processo real de forma\u00e7\u00e3o dos espeleotemas e s\u00e3o importantes para a compreens\u00e3o\n\nda mec\u00e2nica do modelo proposto para a g\u00eanese e crescimento dos espeleotemas, apresentados\n\nneste trabalho. Tamb\u00e9m \u00e9 apresentada uma descri\u00e7\u00e3o dos est\u00e1gios do novo pipeline gr\u00e1fico do\n\nDirect3D 10, utilizado no desenvolvimento do modelo.\n\n2.1 O Pipeline Gr\u00e1fico do Direct3D 10\n\nDevido ao fato da implementa\u00e7\u00e3o do modelo fazer uso do pipeline gr\u00e1fico do Direct3D 10\n\n[Boy07, Bly06], esta se\u00e7\u00e3o descreve brevemente cada um de seus est\u00e1gios e suas respectivas\n\nfuncionalidades. A figura 2.1 mostra a ordem dos est\u00e1gios do pipeline gr\u00e1fico do Direct3D 10.\n\n\u2022 Est\u00e1gio de Input-Assembler (IA): \u00e9 respons\u00e1vel pela leitura de tipos de dados primi-\ntivos (pontos, linhas e tri\u00e2ngulos) fornecidos por buffers definidos pelo usu\u00e1rio e reun\u00ed-\nlos em forma de primitivas que ser\u00e3o usadas pelos est\u00e1gios subsequentes do pipeline. O\n\nest\u00e1gio de Input-Assembler pode reunir v\u00e9rtices para formar v\u00e1rios tipos diferentes de\n\nprimitivas, tais como: tri\u00e2ngulos, linhas, lista de linhas, lista de tri\u00e2ngulos ou primitivas\n\ncom adjac\u00eancia.\n\n\u2022 Est\u00e1gio de Vertex-Shader (VS): sua fun\u00e7\u00e3o \u00e9 o processamento de v\u00e9rtices vindos do\nest\u00e1gio de IA, realizando tipicamente opera\u00e7\u00f5es como transforma\u00e7\u00f5es espaciais, ilumi-\n\nna\u00e7\u00e3o por v\u00e9rtice, morphing e skinning. A entrada desse est\u00e1gio \u00e9 sempre um \u00fanico\nv\u00e9rtice por vez, que, ap\u00f3s realizadas as opera\u00e7\u00f5es desejadas, \u00e9 passado para o pr\u00f3ximo\n\nest\u00e1gio do pipeline.\n\n4\n\n\n\n2.1 O PIPELINE GR\u00c1FICO DO DIRECT3D 10 5\n\nFigura 2.1 Est\u00e1gios do pipeline gr\u00e1fico do Direct3D 10\n\n\u2022 Est\u00e1gio de Geometry-Shader (GS): a entrada deste est\u00e1gio \u00e9 uma primitiva inteira,\npodendo ser tr\u00eas v\u00e9rtices representando um tri\u00e2ngulo, dois v\u00e9rtices representando uma\nlinha ou, como no est\u00e1gio de VS, apenas um \u00fanico v\u00e9rtice. Al\u00e9m disso, cada primitiva\npode conter informa\u00e7\u00e3o adicional sobre primitivas adjacentes. O est\u00e1gio de GS tamb\u00e9m\n\nsuporta amplifica\u00e7\u00e3o e remo\u00e7\u00e3o de geometrias. Dessa forma, dada uma primitiva de\n\nentrada, este est\u00e1gio pode descartar esta primitiva, apenas repass\u00e1-la para o pr\u00f3ximo\n\nest\u00e1gio ou criar novas primitivas baseadas na mesma.\n\n\u2022 Est\u00e1gio de Stream-Output (SO): este est\u00e1gio \u00e9 respons\u00e1vel por repassar dados de pri-\nmitivas vindos do est\u00e1gio de GS (ou do VS caso o GS for nulo) para um ou mais buffers\n\nna mem\u00f3ria da placa de video. Estes dados contidos na mem\u00f3ria podem ser enviados\n\npara qualquer est\u00e1gio do pipeline gr\u00e1fico.\n\n\u2022 Est\u00e1gio de Rasteriza\u00e7\u00e3o (RS): respons\u00e1vel por converter informa\u00e7\u00e3o de vetores (com-\nposta por formas ou primitivas) em uma imagem formada atrav\u00e9s de pixels de cores\n\ndiferentes. Durante a rasteriza\u00e7\u00e3o, cada primitiva \u00e9 convertida em pixels, enquanto \u00e9 rea-\n\nlizada a interpola\u00e7\u00e3o de valores por v\u00e9rtice atrav\u00e9s de cada primitiva. Tamb\u00e9m realiza\n\nopera\u00e7\u00f5es de clipping (corte) em primitivas, preparando as mesmas para o est\u00e1gio de\nPixel-Shader.\n\n\u2022 Est\u00e1gio de Pixel-Shader (PS): recebe dados interpolados para uma determinada primi-\ntiva e gera dados per-pixel tais como t\u00e9cnicas de sombreamento (shading) e p\u00f3s-processa-\n\n\n\n2.2 COMO OS ESPELEOTEMAS CRESCEM 6\n\nmento. Combina vari\u00e1veis constantes, dados de textura, valores por v\u00e9rtice interpolados\n\ne outros dados para produzir sa\u00eddas por pixel.\n\n\u2022 Est\u00e1gio de Output-Merger (OM): realiza a combina\u00e7\u00e3o de diversos tipos de sa\u00edda de\ndados, entre os quais est\u00e3o valores vindos do est\u00e1gio de PS e informa\u00e7\u00e3o de depth e\nstencil. Este est\u00e1gio gera a cor final do pixel a ser renderizado.\n\nA adi\u00e7\u00e3o dos novos est\u00e1gios do pipeline (Geometry-Shader e Stream-Output), possibilitam\numa nova forma de explora\u00e7\u00e3o de t\u00e9cnicas de modelagem procedural. A capacidade de amplifi-\n\nca\u00e7\u00e3o de geometrias do est\u00e1gio de GS possibilita tamb\u00e9m, a implementa\u00e7\u00e3o de outras t\u00e9cnicas,\n\ntais como, geometry tessellation, extrus\u00e3o de sombra volum\u00e9trica [SHP03], a implementa\u00e7\u00e3o\nda t\u00e9cnica de Environment Mapping [BN76, MH76] com apenas uma passada pelo pipeline\ne a cria\u00e7\u00e3o de LODs (Level of Detail) [Lue03, LKR+96] diretamente na GPU. No modelo\nproposto, o est\u00e1gio de GS foi utilizado em todo o processo de cria\u00e7\u00e3o da estrutura/corpo dos\n\nespeleotemas, descrito na se\u00e7\u00e3o 4.2. Outros processos que fizeram uso do est\u00e1gio de GS foram\n\na adi\u00e7\u00e3o de irregularidades no corpo dos espeleotemas, pelo fator de solidifica\u00e7\u00e3o da solu\u00e7\u00e3o\n\nsaturada, descrito na se\u00e7\u00e3o 4.4.1. Tamb\u00e9m, suas capacidades foram empregadas na distor\u00e7\u00e3o\n\nda estrutura dos espeleotemas atrav\u00e9s do fator de circula\u00e7\u00e3o de ar, aplicado quando da presen\u00e7a\n\nde correntes de ar no ambiente cavern\u00edcola, descrito na se\u00e7\u00e3o 4.4.2.\n\n2.2 Como os Espeleotemas Crescem\n\nAo penetrar nas fraturas da rocha calc\u00e1ria, a \u00e1gua das chuvas, acidulada pelo di\u00f3xido de carbono\n\n(CO2) presente na atmosfera e pela decomposi\u00e7\u00e3o de mat\u00e9ria org\u00e2nica no solo, dissolvem lenta-\nmente a rocha calc\u00e1ria, criando canais (fraturas) e carregam consigo carbonato de c\u00e1lcio at\u00e9 que\n\nfinalmente emergem no teto da caverna. A gota de solu\u00e7\u00e3o saturada, composta de carbonato de\n\nc\u00e1lcio (calcita (CaCO3)) e outros minerais encontrados na rocha calc\u00e1ria, fica suspensa no teto\nda caverna e \u00e9 exposta \u00e0s condi\u00e7\u00f5es ambientais cavern\u00edcolas, tais como: ventila\u00e7\u00e3o, altera\u00e7\u00f5es\n\nde temperatura, pH, e press\u00e3o de CO2. Estas condi\u00e7\u00f5es do ambiente cavern\u00edcola criam instabi-\nlidade qu\u00edmica atrav\u00e9s da libera\u00e7\u00e3o de CO2 na caverna, ocorrendo a consequente precipita\u00e7\u00e3o\nde parte do carbonato dissolvido. A gota de solu\u00e7\u00e3o saturada permanece pendurada no teto\n\nat\u00e9 que alcance volume e peso necess\u00e1rios para vencer a tens\u00e3o superficial e cair. Enquanto\n\nsuspensa no teto da caverna, a gota \u00e9 exposta \u00e0s condi\u00e7\u00f5es ambientais do interior da caverna\n\ne desenvolve os primeiros cristais de calcita; estes, organizando-se durante o per\u00edodo de sus-\n\npens\u00e3o, formam o anel de cristalinos inicial que ir\u00e1 servir de base para a futura estalactite.\n\nGota ap\u00f3s gota, uma estalactite tubular oca cresce em sentido ao ch\u00e3o da caverna. A gota, ao\n\nse desprender do teto, ainda carrega consigo uma solu\u00e7\u00e3o de carbonato que lentamente forma\n\ncamadas sucessivas no piso da caverna, imediatamente abaixo de onde a estalactite est\u00e1 sendo\n\nformada. Neste processo de precipita\u00e7\u00e3o, ocorre o surgimento das estalagmites. O cresci-\n\nmento oposto de estalactites e estalagmites resulta da uni\u00e3o de ambas, formando o espeleotema\n\ndenominado coluna. As figuras 2.4 (a) e 2.4 (b) mostram, respectivamente, exemplos de Esta-\nlactites e Estalagmites. A figura 2.4 (c) ilustra um espeleotema denominado Colunas, formado\npela uni\u00e3o de estalactites com uma estalagmite. Resumindo este processo, \u00e9 poss\u00edvel concluir\n\n\n\n2.3 EST\u00c1GIOS DO CRESCIMENTO DOS ESPELEOTEMAS 7\n\nque os espeleotemas s\u00e3o criados pela solidifica\u00e7\u00e3o e acumula\u00e7\u00e3o de calcita, mesmo mineral\n\nque comp\u00f5e a rocha calc\u00e1ria.\n\n2.3 Est\u00e1gios do Crescimento dos Espeleotemas\n\nDe acordo com [Lin01], o processo de forma\u00e7\u00e3o dos espeleotemas \u00e9 dividido em tr\u00eas est\u00e1-\n\ngios distintos, como mostra a figura 2.2. Cada um destes est\u00e1gios possui caracter\u00edsticas deter-\n\nminantes que interferem de alguma maneira nas formas, dimens\u00f5es, colora\u00e7\u00e3o e textura dos\n\nespeleotemas formados atrav\u00e9s do mecanismo de precipita\u00e7\u00e3o de calcita.\n\nFigura 2.2 Est\u00e1gios do crescimento dos espeleotemas\n\n2.3.1 Est\u00e1gio de Acidula\u00e7\u00e3o da \u00c1gua das Chuvas\n\nNo primeiro est\u00e1gio, deve-se levar em considera\u00e7\u00e3o o ambiente externo, localizado acima da\n\ncaverna calc\u00e1ria. O \u00edndice pluviom\u00e9trico, a periodicidade das chuvas, a cobertura vegetal do\n\nsolo, temperatura m\u00e9dia, e a composi\u00e7\u00e3o qu\u00edmica do solo, al\u00e9m de outros fatores menos rele-\n\nvantes, ir\u00e3o influenciar a forma\u00e7\u00e3o dos espeleotemas. Um volume e regularidade maiores de\n\nchuva determinam um aumento na taxa de fluxo de \u00e1gua acidulada (H2CO3) que penetra na\nrocha calc\u00e1ria, criando assim mais canais e pontos de precipita\u00e7\u00e3o no teto da caverna. Assim,\n\na gota tende a permanecer pouco tempo suspensa no teto da caverna, sendo logo substitu\u00edda\n\npor outras gotas. Dessa forma, uma pequena quantidade de carbonato ir\u00e1 se depositar no teto\n\n\n\n2.4 EQUA\u00c7\u00d5ES QU\u00cdMICAS 8\n\nda caverna. Em outras palavras, considerando um n\u00edvel razo\u00e1vel de satura\u00e7\u00e3o, as estalactites,\n\nnestas condi\u00e7\u00f5es, ser\u00e3o pequenas ou mesmo inexistentes. As estalagmites ter\u00e3o um cresci-\n\nmento acelerado e/ou formas mais volumosas. Caso contr\u00e1rio, se o volume de \u00e1gua for baixo,\n\na tend\u00eancia \u00e9 de que as estalactites se tornem maiores que as estalagmites. Tamb\u00e9m, se n\u00e3o\n\nhouver uma quantidade e regularidade de chuvas suficientes, nenhum dos espeleotemas ir\u00e1\n\nse formar ou ter\u00e3o seu crescimento interrompido at\u00e9 que valores de volume de chuvas satis-\n\nfat\u00f3rios sejam alcan\u00e7ados. A cobertura do solo, assim como o ar, \u00e9 respons\u00e1vel pela concen-\n\ntra\u00e7\u00e3o de di\u00f3xido de carbono. Quanto maior for esta concentra\u00e7\u00e3o, considerando um \u00edndice\n\npluviom\u00e9trico aceit\u00e1vel, haver\u00e1 uma maior dissolu\u00e7\u00e3o da camada de rocha calc\u00e1ria pela \u00e1gua\n\nacidulada, adicionando, por conseguinte, uma maior concentra\u00e7\u00e3o de calcita na solu\u00e7\u00e3o satu-\n\nrada. Quanto mais calcita estiver presente \u00e0 solu\u00e7\u00e3o, maior ser\u00e1 a probabilidade de cria\u00e7\u00e3o dos\n\nespeleotemas no ambiente cavern\u00edcola.\n\n2.3.2 Est\u00e1gio de Dissolu\u00e7\u00e3o da Rocha Calc\u00e1ria\n\nNo segundo est\u00e1gio, \u00e9 considerada a espessura da camada de rocha calc\u00e1ria, seu grau de pureza,\n\nn\u00edvel de fraturamento e solubilidade. Estas propriedades ir\u00e3o condicionar o n\u00edvel de satura\u00e7\u00e3o\n\nda solu\u00e7\u00e3o, definindo assim as caracter\u00edsticas do espeleotema que ser\u00e1 formado. O grau de\n\npureza da camada rochosa, por exemplo, pode influenciar diretamente a colora\u00e7\u00e3o dos es-\n\npeleotemas. Em geral, espeleotemas possuem a colora\u00e7\u00e3o branca, devido a natureza do cal-\n\nc\u00e1rio. Entretanto, a presen\u00e7a de outros minerais tais como ferro, cobre, mangan\u00eas e malaquita,\n\nquando misturados com a solu\u00e7\u00e3o, adicionam um pigmento caracter\u00edstico ao espeleotema. De-\n\ntalhes de colora\u00e7\u00e3o dos espeleotemas s\u00e3o descritos na se\u00e7\u00e3o 2.5.\n\n2.3.3 Est\u00e1gio de Deposi\u00e7\u00e3o Mineral\n\nNo terceiro est\u00e1gio, fatores relacionados com o interior da caverna ir\u00e3o condicionar a tipologia\n\ndos espeleotemas. O primeiro aspecto a ser considerado \u00e9 a morfologia e dimens\u00f5es do espa\u00e7o\n\nsubterr\u00e2neo (teto plano ou inclinado, abismos, grandes sal\u00f5es, ch\u00e3o da caverna submerso, etc).\n\nPor exemplo, ao atingir a caverna, se a gota de solu\u00e7\u00e3o saturada n\u00e3o encontrar um ambiente\n\nprop\u00edcio para que ocorra o gotejamento (espa\u00e7o interior suficiente), o processo de crescimento\n\n\u00e9 interrompido. O segundo aspecto a considerar \u00e9 a interrela\u00e7\u00e3o entre o ambiente interno e\n\nexterno da caverna. Esta interrela\u00e7\u00e3o implica em maior ou menor circula\u00e7\u00e3o de ar e \u00e1gua.\n\nAssim, a regularidade e a perpendicularidade dos espeleotemas podem ser modificadas, devido\n\n\u00e0 presen\u00e7a de correntes de ar vindas do ambiente externo, atrav\u00e9s de corredores ou mesmo da\n\nentrada da caverna. Tal circula\u00e7\u00e3o de ar pode causar deforma\u00e7\u00f5es no crescimento normal de\n\nespeleotemas como estalactites, mudando sua dire\u00e7\u00e3o de crescimento (al\u00e9m de verticalmente,\n\ntamb\u00e9m horizontalmente).\n\n2.4 Equa\u00e7\u00f5es Qu\u00edmicas\n\nNesta se\u00e7\u00e3o, s\u00e3o descritas as equa\u00e7\u00f5es qu\u00edmicas presentes em cada est\u00e1gio do crescimento de\n\nespeleotemas, referentes a solu\u00e7\u00e3o aquosa, bem como um breve resumo da se\u00e7\u00e3o anterior.\n\n\n\n2.5 DEFINI\u00c7\u00c3O DA APAR\u00caNCIA DOS ESPELEOTEMAS 9\n\n1. Est\u00e1gio de Acidula\u00e7\u00e3o da \u00c1gua das Chuvas: A \u00e1gua captura di\u00f3xido de carbono do ar\ne do solo, formando \u00e1cido carb\u00f4nico. A equa\u00e7\u00e3o qu\u00edmica \u00e9 mostrada na figura 2.3 (a).\n\n2. Est\u00e1gio de Dissolu\u00e7\u00e3o da Rocha Calc\u00e1ria: O \u00e1cido carb\u00f4nico dissolve lentamente a\nrocha calc\u00e1ria, produzindo uma solu\u00e7\u00e3o de bicarbonato de c\u00e1lcio e criando fissuras na\n\ncamada rochosa. A equa\u00e7\u00e3o qu\u00edmica \u00e9 mostrada na figura 2.3 (b).\n\n3. Est\u00e1gio de Deposi\u00e7\u00e3o Mineral: A cria\u00e7\u00e3o das cavernas continua at\u00e9 que a \u00e1gua acidu-\nlada \u00e9 exposta ao ar externo, liberando CO2. Uma vez dentro da caverna, o di\u00f3xido de\ncarbono \u00e9 liberado do carbonato de c\u00e1lcio, deixando apenas calcita e \u00e1gua na solu\u00e7\u00e3o. A\n\nequa\u00e7\u00e3o qu\u00edmica \u00e9 mostrada na figura 2.3 (c). Espeleotemas s\u00e3o criados a medida que a\n\n\u00e1gua com baixo teor de acidez deposita minerais dentro da caverna em forma de calcita.\n\nFigura 2.3 Equa\u00e7\u00f5es qu\u00edmicas dos est\u00e1gios de crescimento dos espeleotemas\n\n2.5 Defini\u00e7\u00e3o da Apar\u00eancia dos Espeleotemas\n\nPor serem ricos em detalhes, os espeleotemas podem se diferenciar em forma e cor dependendo\n\nda sua composi\u00e7\u00e3o mineral. Em cavernas calc\u00e1rias, por raz\u00f5es \u00f3bvias, v\u00e3o predominar os\n\nminerais de c\u00e1lcio como calcita, aragonita e gipsita. A presen\u00e7a desses minerais faz com que a\n\ncolora\u00e7\u00e3o branca seja predominante, embora espeleotemas de branco puro sejam raros, dada a\n\nfreq\u00fcente presen\u00e7a de impurezas nas solu\u00e7\u00f5es aquosas saturadas que lhes d\u00e3o origem. Segundo\n\n[HF97], a colora\u00e7\u00e3o dos espeleotemas \u00e9 proveniente de duas vias:\n\n1. O espeleotema \u00e9 colorido (tingido), por impurezas entre os cristais ou recobrindo super-\n\nficialmente a sua superf\u00edcie.\n\n2. A colora\u00e7\u00e3o resulta da substitui\u00e7\u00e3o do \u00edon de c\u00e1lcio por outros \u00edons, como o n\u00edquel, ferro\n\nou cobre, na pr\u00f3pria estrutura cristalina do carbonato.\n\nDurante a fase de dissolu\u00e7\u00e3o da rocha calc\u00e1ria, a presen\u00e7a do mineral de ferro na rocha\n\ncalc\u00e1ria, misturada com a solu\u00e7\u00e3o de carbonato de c\u00e1lcio, pode produzir ornamenta\u00e7\u00f5es de co-\n\nlora\u00e7\u00e3o vermelha, ocre, parda, laranja e amarela para os espeleotemas em forma\u00e7\u00e3o no interior\n\nda caverna. \u00d3xidos de mangan\u00eas produzem espeleotemas de cor negra, rosa, cinza-azulados\n\n\n\n2.6 PROPRIEDADES \u00d3TICAS DA CALCITA 10\n\ne azul profundo e brilhante. Sais de cobre produzem espeleotemas azuis e o cromo produz\n\num azul escuro. A malaquita \u00e9 o produtor mais comum de colora\u00e7\u00e3o azul-esverdeado nos\n\nespeleotemas.\n\nEntretanto, ainda citado em [HF97], as cores mais comuns encontradas nas cavernas s\u00e3o\n\ntons de marrom, como: marrom claro, marrom amarelado, marrom avermelhado. Esses tons\n\nde marrom encontrados em quase todas as cavernas s\u00e3o causados por \u00e1cido h\u00famico presente na\n\ncalcita. O \u00e1cido h\u00famico \u00e9 proveniente da decomposi\u00e7\u00e3o de material org\u00e2nico presente no solo.\n\nDessa forma, uma pequena por\u00e7\u00e3o s\u00e3o de vermelho profundo ou laranja e uma por\u00e7\u00e3o ainda\n\nmenor de tons de verde, azul, amarelo e rosa. A calcita \u00e9 o mineral de c\u00e1lcio o qual quase todos\n\nos espeleotemas s\u00e3o constitu\u00eddos. Da mesma forma, a aragonita e a gipsita s\u00e3o todos minerais\n\nde c\u00e1lcio que apresentam uma colora\u00e7\u00e3o de branco puro e, muitas vezes, branco transl\u00facido,\n\ncomo visto nas figuras 2.4 (b, c, e).\n\nAlguns exemplos de espeleotemas coloridos podem ser vistos na figura 2.4. A figura 2.4 (a)\n\nmostra exemplos de estalactites com colora\u00e7\u00e3o vermelha e laranja, proveniente da mistura do\n\nmineral de ferro com a calcita. O mesmo pode ser notado na figura 2.4 (d), onde o espeleotema\n\ndenominado cortina tamb\u00e9m possui mineral de ferro na sua constitui\u00e7\u00e3o. Na figura 2.4 (g), h\u00e1\n\na presen\u00e7a de \u00f3xido de mangan\u00eas, o que acarreta a colora\u00e7\u00e3o cinza-azulado das helictites.\n\n2.6 Propriedades \u00d3ticas da Calcita\n\nOs cristais de calcita possuem propriedades \u00f3ticas interessantes que fazem de sua renderiza\u00e7\u00e3o\n\num grande desafio computacional. Os cristais de calcita s\u00e3o transl\u00facidos e, dessa forma, pro-\n\npiciam uma grande dispers\u00e3o de luz. Este fato \u00e9 devido \u00e0 presen\u00e7a de impurezas org\u00e2nicas e de\n\noutros min\u00e9rios nesses cristais, misturados \u00e0 solu\u00e7\u00e3o saturada durante a fase de dissolu\u00e7\u00e3o da\n\nrocha calc\u00e1ria. Esses cristais tamb\u00e9m exibem a birefringence (\u00edndices refrativos anisotr\u00f3picos\n\nque \u00e9 uma propriedade que t\u00eam certas subst\u00e2ncias de desdobrarem um raio luminoso incidente\n\nem dois), mas que n\u00e3o afeta a apar\u00eancia dos espeleotemas. A propriedade mais importante para\n\nrenderiza\u00e7\u00e3o s\u00e3o as propriedades de dispers\u00e3o dos cristais com impurezas.\n\nSegundo [BBFS01], os espeleotemas apresentam duas propriedades \u00f3ticas importantes.\n\nPrimeiramente, quando visualizados tanto em luz vis\u00edvel refletida ou transmitida, os espeleote-\n\nmas mostram varia\u00e7\u00f5es de graus de tonalidade (cores) e intensidade. Segundo, quando ilumina-\n\ndos com luz ultravioleta, eles emitem luz fluorescente no espectro vis\u00edvel. Ambos estes efeitos\n\ns\u00e3o aparentemente ligados \u00e0 presen\u00e7a de componentes menores nesses dep\u00f3sitos de calcita,\n\nvisto que quimicamente a calcita pura n\u00e3o \u00e9 nem colorida e nem fluorescente.\n\nTrabalhos como de Gilson e MacCarthney [GM54], suportados por Gascoyne [Gas77],\n\nLauritzen et al. [LFS86], e White et al. [WB89], sugerem que a fluoresc\u00eancia \u00e9 causada por\n\nsubst\u00e2ncias org\u00e2nicas. Ainda em [LFS86], foi demonstrado que muito da cor dos espeleotemas\n\n\u00e9 devido \u00e0 presen\u00e7a de subst\u00e2ncias org\u00e2nicas (compostos de decomposi\u00e7\u00e3o) dispersas na cal-\n\ncita. De maneira similar, Shopov et al. [SFS94] argumentaram que as propriedades fluores-\n\ncentes foram o resultado da presen\u00e7a de compostos org\u00e2nicos presos aos espeleotemas. Final-\n\nmente, Baker et al. [BGS98] mostraram uma forte rela\u00e7\u00e3o entre as propriedades de emiss\u00e3o de\n\nluz (luminesc\u00eancia) dos espeleotemas e a extens\u00e3o de compostos em decomposi\u00e7\u00e3o presentes\n\nno solo acima da caverna.\n\n\n\n2.7 TIPOS DE ESPELEOTEMAS 11\n\n2.6.1 Transpar\u00eancia, translucidez, brilho e cintil\u00e2ncia dos espeleotemas\n\n\u2022 Transpar\u00eancia: \u00c9 notada em espeleotemas de pequena massa, tais como os canudos de\nrefresco, que possuem uma forma fina e alongada. A transpar\u00eancia pode ser percebida\n\nna figura 2.4 (h).\n\n\u2022 Translucidez: Espeleotemas formados exclusivamente por cristaliza\u00e7\u00e3o s\u00e3o constitu\u00eddos\npor milh\u00f5es de micro cristais transparentes, (mesmo os de grande massa), onde um feixe\n\nde luz incidente \u00e9 refratado de cristal a cristal sendo quase que totalmente absorvido pela\n\nmassa cristalina, sendo que pequena parte consegue atravess\u00e1-la.\n\n\u2022 Brilho: Como os espeleotemas normalmente s\u00e3o cristalinos, suas superf\u00edcies externas\ns\u00e3o compostas por milh\u00f5es de micro faces planas, e possuem alto \u00edndice de reflex\u00e3o,\n\ntornando-se brilhantes quando iluminadas (o efeito \u00e9 intensificado se os espeleotemas\n\nestiverem molhados).\n\n\u2022 Cintil\u00e2ncia: \u00c9 causada por reflex\u00e3o pontual na superf\u00edcie dos espeleotemas. Cada mini-\nface brilha quando o raio de luz que o atinge, reflete, atingindo o olho do observador, o\n\nefeito \u00e9 intensificado quando se movimenta a fonte de luz.\n\n2.7 Tipos de Espeleotemas\n\nEm geral, todas as forma\u00e7\u00f5es que ocorrem em um teto plano de uma caverna s\u00e3o estalactites.\n\nEntretanto, como o ambiente cavern\u00edcola tende a ser bastante irregular, os espeleotemas podem\n\nassumir diversas formas distintas. Eles podem ser divididos em tipos espec\u00edficos. Esta se\u00e7\u00e3o\n\ndescreve alguns dos tipos mais comuns de espeleotemas encontrados em cavernas calc\u00e1rias:\n\n1. Estalactites: Crescem para baixo a partir do teto da caverna. S\u00e3o formadas com camadas\nde calcita que s\u00e3o depositadas pela \u00e1gua que flui sobre a parte de fora de um canudo de\n\nrefresco. Elas se formam depois que o centro de um canudo de refresco oco \u00e9 trancado.\n\nA figura 2.4 (a) mostra exemplos de estalactites.\n\n2. Estalagmites: crescem a partir do ch\u00e3o, formadas pelo gotejamento de calcita excedente\ndas estalactites localizadas logo acima no teto da caverna. As estalagmites s\u00e3o com-\n\npostas por camadas sucessivas de calcita. A figura 2.4 (b) e (e) mostram exemplos de\n\nestalagmites.\n\n3. Colunas: quando uma estalactite e uma estalagmite crescem juntas, ou quando uma delas\ncresce todo o caminho para o ch\u00e3o ou para o teto da caverna, uma coluna \u00e9 formada.\n\nA coluna \u00e9 a jun\u00e7\u00e3o de uma estalactite com uma estalagmite. A figura 2.4 (c) mostra\n\nexemplos de colunas.\n\n4. Canudos de Refresco: s\u00e3o o primeiro est\u00e1gio do crescimento das estalactites. S\u00e3o tubos\nocos, alongados e transl\u00facidos, medindo 0,635 cent\u00edmetros de di\u00e2metro. Eles crescem a\n\npartir do teto das cavernas, \u00e0 medida que a solu\u00e7\u00e3o saturada desce dentro delas e deposita\n\n\n\n2.7 TIPOS DE ESPELEOTEMAS 12\n\nos an\u00e9is de calcita em suas pontas. A figura 2.4 (h) mostra exemplos de canudos de\n\nrefresco.\n\n5. Helictites: desafiando as leis da gravidade, as helictites s\u00e3o pequenas estruturas em es-\npiral projetadas do teto, paredes e do ch\u00e3o de cavernas. Sua forma espiral \u00e9 devida \u00e0\n\ninfiltra\u00e7\u00e3o de \u00e1gua, correntes de ar que favorecem o crescimento em uma determinada\n\ndire\u00e7\u00e3o e podem ser projetadas em todos os \u00e2ngulos. O entupimento do canal central\n\npode favorecer a abertura de um novo canal na superf\u00edcie lateral do espeleotema. A\n\nfigura 2.4 (g) mostra exemplos de helictites.\n\n6. Flowstones: formadas quando um fluxo de \u00e1gua consider\u00e1vel desce pelas paredes da\ncaverna sobre o ch\u00e3o e outras forma\u00e7\u00f5es mais antigas, construindo l\u00e2minas de calcita\n\nque se parecem muito com cachoeiras congeladas. A figura 2.4 (f) mostra exemplos de\n\nflowstones.\n\n7. Cortinas: crescem quando a gota de \u00e1gua emerge em uma parede ou teto inclinado, es-\ncorrendo pela sua superf\u00edcie e deixando um fino rastro de calcita, que, com a continuidade\n\ndo processo, cresce verticalmente dando origem a uma l\u00e2mina ondulada, branca e transl\u00fa-\n\ncida. A figura 2.4 (d) mostra exemplos de cortinas.\n\n8. Bacon: durante a forma\u00e7\u00e3o de cortinas, a solu\u00e7\u00e3o saturada pode conter outros minerais\nal\u00e9m da calcita, como visto na se\u00e7\u00e3o 2.5. Isso pode resultar em uma colora\u00e7\u00e3o laranja\n\nescuro ou marrom que assemelha-se muito com um bacon. Esse outro mineral pode ser\n\n\u00f3xido de ferro, mais comumente conhecido como ferrugem. A figura 2.4 (d) mostra\n\nexemplos de bacons.\n\nUma melhor compreens\u00e3o dos conceitos de forma\u00e7\u00e3o de cavernas e espeleotemas em geral,\n\npode ser encontrada em [Lin01, Kau03, SH03, HF97].\n\n\n\n2.7 TIPOS DE ESPELEOTEMAS 13\n\nFigura 2.4 Tipos de espeleotemas reais\n\n\n\nCAP\u00cdTULO 3\n\nRevis\u00e3o Bibliogr\u00e1fica\n\nConhecimento \u00e9 poder!\n\u2014FRANCIS BACON\n\nA grande variedade e beleza da estrutura dos espeleotemas t\u00eam sido fonte de curiosidade\n\ne mist\u00e9rio por centenas ou mesmo milhares de anos. Estudos cient\u00edficos em diferentes \u00e1reas\n\ncomo F\u00edsica, Qu\u00edmica, Matem\u00e1tica e Geologia, tentam explicar a origem e crescimento dos\n\nespeleotemas. Este cap\u00edtulo mostra o resultado da pesquisa sobre trabalhos previamente rea-\n\nlizados, abordando o tema espeleotemas em Computa\u00e7\u00e3o Gr\u00e1fica e diversas outras \u00e1reas do\n\nconhecimento.\n\n3.1 Espeleotemas abordados em trabalhos relacionados com a \u00e1rea de\nComputa\u00e7\u00e3o Gr\u00e1fica\n\nApesar dos v\u00e1rios trabalhos dentro da modelagem de fen\u00f4menos naturais no Reino Mineral,\n\ncomo encontrados em [WCMT07], [BA05b] e [Bel07], os fen\u00f4menos geol\u00f3gicos em cavernas\n\nn\u00e3o tiveram a mesma aten\u00e7\u00e3o.\n\nO trabalho pioneiro de Yang e Ouhyoung usa teoria fractal para modelar estalactites e es-\n\ntalagmites [OY93, YO92]. A escolha do m\u00e9todo fractal \u00e9 defendida porque, geralmente, este\n\nm\u00e9todo produz bons resultados na modelagem de terrenos e montanhas [Mil86, MKM89,\n\nBA05a], e, segundo os autores, espeleotemas possuem uma estrutura similar. Outro fato da\n\ndecis\u00e3o de se usar a teoria fractal \u00e9 a sua propriedade rand\u00f4mica. Essa propriedade do modelo\n\nfractal foi utilizada para a cria\u00e7\u00e3o de formas variadas nos espeleotemas gerados pelo modelo\n\nproposto pelos autores. Para modelar a forma irregular dos espeleotemas, os autores usaram\n\nsubdivis\u00e3o rand\u00f4mica e recursiva sobre um modelo geom\u00e9trico inicial simples. O modelo\n\ncome\u00e7a com um quadrado (primitiva esta usada geralmente em modelos fractais) e sua subdi-\n\nvis\u00e3o sucessiva \u00e9 realizada at\u00e9 que um determinado crit\u00e9rio de parada \u00e9 alcan\u00e7ado. Aos novos\n\nquadrados s\u00e3o atribu\u00eddas alturas aleat\u00f3rias que ir\u00e3o compor a estrutura do espeleotema. Para\n\naumentar as deforma\u00e7\u00f5es na estrutura dos espeleotemas, \u00e9 realizada uma rota\u00e7\u00e3o na geometria\n\ndurante o processo de subdivis\u00e3o. O \u00e2ngulo de rota\u00e7\u00e3o foi fixado em 2PI/N (onde N \u00e9 o n\u00famero\nde bordas) para ter certeza de que a geometria n\u00e3o ir\u00e1 se sobrepor, criando alguns artefatos in-\n\ndesej\u00e1veis. Yang e Ouhyoung usaram t\u00e9cnicas de radiosidade [SP94] para ilumina\u00e7\u00e3o da cena.\n\nNesse trabalho, Yang e Ouhyoung enfatizam uma dificuldade maior na modelagem de estalag-\n\nmites por causa de sua maior complexidade de forma\u00e7\u00e3o. Assim, ao inv\u00e9s de utilizar subdivis\u00e3o\n\nfractal, foram utilizados processos de eros\u00e3o e acumula\u00e7\u00e3o. A figura 3.1 exibe etapas do mo-\n\n14\n\n\n\n3.1 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM A \u00c1REA DE COMPUTA\u00c7\u00c3O GR\u00c1FICA15\n\ndelo apresentado em [OY93, YO92]. A figura 3.1 (a) mostra a geometria inicial. A figura\n\n3.1 (b) mostra as alturas aleat\u00f3rias que s\u00e3o atribu\u00eddas a alguns pontos da geometria gerada. Na\n\nfigura 3.1 (c) pode ser observado o resultado da subdivis\u00e3o fractal realizada na geometria base,\n\nbem como o efeito de rota\u00e7\u00e3o aplicado. Resultados intermedi\u00e1rios da estrutura das estalactites\n\npodem ser vistos (em modo wireframe) na figura 3.2 (a), criada sem o efeito de rota\u00e7\u00e3o e, na\n\nfigura 3.2 (b), criada com o efeito de rota\u00e7\u00e3o. Os resultados finais podem ser vistos na figura\n\n3.3. Conforme mencionado pelos pr\u00f3prios autores, apesar dos resultados obtidos serem inte-\n\nressantes e encorajadores, nenhuma informa\u00e7\u00e3o referente ao processo real de crescimento de\n\nespeleotemas foi utilizada na concep\u00e7\u00e3o do modelo.\n\nFigura 3.1 Passos do modelo de cria\u00e7\u00e3o de estalactites apresentado em [OY93, YO92]\n\nEm [Bal09], Kavita Bala desenvolveu um modelo de renderiza\u00e7\u00e3o para capturar os efeitos\n\nde ilumina\u00e7\u00e3o suaves, produzidos por estalactites e estalagmites. Esse trabalho nunca foi publi-\n\ncado, estando dispon\u00edvel apenas uma p\u00e1gina web. Nesse trabalho foram exploradas, principal-\n\nmente, as propriedades \u00f3ticas da calcita (mineral que comp\u00f5e os espeleotemas), que tamb\u00e9m\n\ns\u00e3o descritas nas se\u00e7\u00f5es 2.5 e 2.6 e, portanto, n\u00e3o h\u00e1 maiores detalhes sobre a modelagem da\n\nforma dos espeleotemas apresentados. Como os cristais de calcita possuem a propriedade de\n\nserem transl\u00facidos, quando a luz incide na superf\u00edcie do espeleotema ela pode ser: transmitida,\n\nabsorvida, refletida ou espalhada (scattered) para frente ou para tr\u00e1s. Atrav\u00e9s de uma t\u00e9cnica\nde ray-tracing, foi criado um modelo para simular a dispers\u00e3o da luz pelos espeleotemas. As\nfiguras 3.4 (a) e (b) mostram os resultados do modelo de dispers\u00e3o de luz com fonte de luz\n\nforte vinda de tr\u00e1s das estalactites. Cada uma das duas imagens demorou aproximadamente\n\n30-40 minutos para ser renderizada, usando um 250MHz MIPS R4400. A figura 3.4 (c) mostra\n\na mesma cena sem a fonte de luz forte por tr\u00e1s das estalactites. Foram usadas tr\u00eas fontes de\n\nluz localizadas acima das estalactites, nas tonalidades vermelho, azul e verde, respectivamente.\n\nA figura 3.4 (d) mostra estalactites usando coeficientes de dispers\u00e3o impr\u00f3prios (coeficiente de\n\ndispers\u00e3o de luz em \u00e1gua). Isso mostra, segundo Kavita Bala, que o uso desse tipo de coefi-\n\nciente pode ser usado na renderiza\u00e7\u00e3o de icicles (estalactites de gelo).\n\nApesar de n\u00e3o ser um trabalho relacionado diretamente com a modelagem de espeleotemas,\n\nem [LF04] \u00e9 descrita a cria\u00e7\u00e3o de uma interface intuitiva e interativa de pintura, que realiza\n\ndeforma\u00e7\u00f5es em superf\u00edcies de modelos 3D. Essa interface de pintura permite a manipula\u00e7\u00e3o de\n\nv\u00e9rtices de objetos previamente modelados, criando deforma\u00e7\u00f5es em suas formas originais. A\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 16\n\nfigura 3.5 mostra o passo-a-passo do uso dessa ferramenta. A figura 3.5 (a) mostra um modelo\n\nem sua forma original, fornecido pelo usu\u00e1rio no in\u00edcio da simula\u00e7\u00e3o. Em 3.5 (b) o usu\u00e1rio\n\nseleciona o tipo de pincel que dar\u00e1 o tipo de deforma\u00e7\u00e3o desejada e, tamb\u00e9m, o tamanho da\n\nponta do pincel que ditar\u00e1 a intensidade da deforma\u00e7\u00e3o. Em 3.5 (c) o usu\u00e1rio pinta o local na\n\nsuperf\u00edcie do modelo original aonde deseja que a deforma\u00e7\u00e3o ocorra. Em 3.5 (d), o usu\u00e1rio\n\naciona a simula\u00e7\u00e3o da ferramenta at\u00e9 que o resultado desejado seja alcan\u00e7ado. Finalmente em\n\n3.5 (e), os autores mostram um dos resultados poss\u00edveis da aplica\u00e7\u00e3o da ferramenta, modelando\n\num ambiente de caverna com estalactites e estalagmites, a partir de uma superf\u00edcie plana. Essa\n\nabordagem n\u00e3o leva em considera\u00e7\u00e3o nenhuma informa\u00e7\u00e3o do fen\u00f4meno real para a cria\u00e7\u00e3o da\n\ncaverna e de seus espeleotemas, nem tampouco apresenta detalhes sobre a dificuldade de gerar\n\nos espeleotemas (o trabalho manual necess\u00e1rio) ou o modelo de ilumina\u00e7\u00e3o utilizado.\n\nApesar dos poucos trabalhos encontrados sobre o assunto, nos parece que a riqueza geo-\n\nm\u00e9trica e visual dos espeleotemas merece maior aten\u00e7\u00e3o por parte dos pesquisadores em Com-\n\nputa\u00e7\u00e3o Gr\u00e1fica em geral. Este trabalho vai ao encontro desta necessidade.\n\n3.2 Espeleotemas abordados em trabalhos relacionados com outras\n\u00e1reas\n\nNesta se\u00e7\u00e3o s\u00e3o abordados trabalhos sobre forma\u00e7\u00e3o de espeleotemas relacionados com outras\n\n\u00e1reas do conhecimento, tais como F\u00edsica e Matem\u00e1tica. Apesar de n\u00e3o estarem relacionados\n\ncom a \u00e1rea de Computa\u00e7\u00e3o Gr\u00e1fica, algumas id\u00e9ias dos trabalhos apresentados nesta se\u00e7\u00e3o\n\nserviram como base para a cria\u00e7\u00e3o do nosso modelo. Sobretudo porque as abordagens apresen-\n\ntadas a seguir seguem par\u00e2metros do modelo real de crescimento de espeleotemas.\n\nEm [SBG05], Short e outros pesquisadores descrevem uma teoria para a forma de esta-\n\nlactites como um problema envolvendo fronteiras livres (free-boundary problem), analisando\n\na din\u00e2mica dos fluidos respons\u00e1veis pela sua forma\u00e7\u00e3o. Em [SBB+05], o mesmo grupo de\n\npesquisadores apresentou a primeira abordagem para o crescimento de estalactites orientados\n\na um determinado eixo (eixo das ordenadas Y). Os autores derivaram uma lei de movimento\n\nna qual a taxa de crescimento local depende do raio e inclina\u00e7\u00e3o da superf\u00edcie da estalactite.\n\nEsta lei trabalha sobre um conjunto de suposi\u00e7\u00f5es limitantes, v\u00e1lidas para condi\u00e7\u00f5es t\u00edpicas\n\nde crescimento de estalactites. Estudos num\u00e9ricos desta din\u00e2mica de superf\u00edcie mostraram a\n\nexist\u00eancia de um atrator no espa\u00e7o das formas, atrav\u00e9s do qual as estalactites ser\u00e3o formadas,\n\nsem levar em considera\u00e7\u00e3o as suas condi\u00e7\u00f5es iniciais. A geometria apresentada como resultado\n\nilustra que a f\u00edsica essencial, que d\u00e1 base para a forma das estalactites, \u00e9 a varia\u00e7\u00e3o da espes-\n\nsura local da pel\u00edcula de fluido de solu\u00e7\u00e3o saturada, que percorre a superf\u00edcie das estalactites. A\n\nfigura 3.6 exibe os resultados obtidos nessas duas abordagens. Esses trabalhos s\u00e3o provenientes\n\nda \u00e1rea de F\u00edsica. Entretanto, como estes modelos seguem dados reais do crescimento de es-\n\npeleotemas, eles foram de fundamental import\u00e2ncia para a concep\u00e7\u00e3o de alguns dos par\u00e2metros\n\ndo modelo proposto, descritos na se\u00e7\u00e3o 4.3.\n\nOutro trabalho do mesmo grupo [SBG06], descreve a g\u00eanese e crescimento de estalactites\n\nutilizando a mesma abordagem descrita em [SBG05], espec\u00edfico para estalactites de gelo, co-\n\nnhecidas como icicles. Nesta abordagem, a forma das icicles depende dos valores dos par\u00e2me-\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 17\n\ntros iniciais e de suas modifica\u00e7\u00f5es nas futuras intera\u00e7\u00f5es. Os autores mostram a similaridade\n\nde formas geom\u00e9tricas entre estalactites formadas por calcita e de estalactites de gelo, apesar\n\ndas diferen\u00e7as nos processos f\u00edsicos e qu\u00edmicos de suas forma\u00e7\u00f5es. A sugest\u00e3o dos autores \u00e9\n\nque h\u00e1 uma mesma estrutura matem\u00e1tica por tr\u00e1s do crescimento e formas dos dois fen\u00f4menos.\n\nA figura 3.7 exibe os resultados obtidos nesta abordagem.\n\nOs trabalhos de [SBG05], [SBB+05] e [SBG06], apresentam resultados renderizados\n\napenas em duas dimens\u00f5es (2D). Dessa forma, apenas a silhueta da estrutura de estalactites de\n\ncalcita e gelo s\u00e3o mostradas, tornando imposs\u00edvel a an\u00e1lise de toda a estrutura do espeleotema.\n\nEm [SL95], foi desenvolvido um modelo tridimensional baseado no modelo matem\u00e1tico\n\nde random-walk para simular o crescimento de icicles. A simula\u00e7\u00e3o trata do comportamento\ndin\u00e2mico de um elemento de fluido (gota) na superf\u00edcie de uma icicle, que percorre um ca-\n\nminho rand\u00f4mico dentro de um lattice 3D. O fluxo da \u00e1gua ao longo da superf\u00edcie da icicle\n\u00e9 dividido em elementos de fluido que seguem um caminho estoc\u00e1stico at\u00e9 a ponta da icicle.\n\nDurante este movimento, um elemento de fluido pode congelar na superf\u00edcie lateral da icicle\n\nou congelar na ponta. O elemento de fluido tamb\u00e9m pode ultrapassar a ponta, ocasionando\n\nsua precipita\u00e7\u00e3o. Este modelo utiliza quatro par\u00e2metros fundamentais, definidos no in\u00edcio da\n\nsimula\u00e7\u00e3o e que variam seus valores conforme o passar do tempo. Esses par\u00e2metros controlam\n\no comportamento dos elementos de fluido, que ir\u00e3o afetar diretamente a forma geom\u00e9trica da\n\nestalactite de gelo. S\u00e3o eles:\n\n\u2022 Par\u00e2metro de Movimento: determina a rela\u00e7\u00e3o entre as probabilidades de movimento,\n\ngerando uma nova posi\u00e7\u00e3o aleat\u00f3ria para o elemento de fluido durante a simula\u00e7\u00e3o. Se-\n\ngundo os autores, para manter a simplicidade, a gota pode apenas se deslocar em cinco\n\ndire\u00e7\u00f5es poss\u00edveis, ou seja, quatro horizontais (esquerda-direita, tr\u00e1s-frente) e uma verti-\n\ncal (baixo).\n\n\u2022 Probabilidade de Congelamento: determina a possibilidade de congelamento do ele-\n\nmento de fluido em algum local da superf\u00edcie ou da ponta da icicle. Ao alcan\u00e7ar um\n\nvalor limite, a gota para de se locomover e fixa-se em um determinado ponto da estrutura\n\nda icicle.\n\n\u2022 Par\u00e2metro de Gotejamento: determina o n\u00famero de time steps necess\u00e1rios para um e-\nlemento permanecer n\u00e3o congelado na ponta da estalactite antes de pingar ou conge-\n\nlar. Este par\u00e2metro est\u00e1 ligado diretamente com a taxa de vaz\u00e3o de \u00e1gua (\u00edndice plu-\n\nviom\u00e9trico). Esse \u00edndice de gotejamento \u00e9 proporcional \u00e0 vaz\u00e3o de \u00e1gua.\n\n\u2022 Limite de Congelamento: fornece o lado do lattice onde se encontra a localiza\u00e7\u00e3o final\n\ndo elemento de fluido, depois que um limite de congelamento tenha sido determinado.\n\nA figura 3.8 mostra os resultados obtidos com a simula\u00e7\u00e3o deste modelo. A figura 3.8\n\n(a) mostra o elemento de fluido se deslocando dentro de um lattice 3D, at\u00e9 se fixar em uma\ndeterminada posi\u00e7\u00e3o. A figura 3.8 (b) mostra uma estalactite em um est\u00e1gio intermedi\u00e1rio da\n\nsimula\u00e7\u00e3o e, na figura 3.8 (c), sua forma final ap\u00f3s o t\u00e9rmino da simula\u00e7\u00e3o. Apesar de n\u00e3o ser\n\num trabalho relacionado diretamente com a \u00e1rea de Computa\u00e7\u00e3o Gr\u00e1fica, essa abordagem fez\n\nuso de t\u00e9cnicas que permitiram a cria\u00e7\u00e3o e visualiza\u00e7\u00e3o de uma estrutura 3D de estalactites de\n\ngelo com certo grau de deformidades, como pode ser visto nos resultados obtidos.\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 18\n\nOs trabalhos descritos neste cap\u00edtulo apresentam abordagens distintas para resolver o pro-\n\nblema do crescimento dos espeleotemas. Entretanto, devido \u00e0 complexidade de algumas abor-\n\ndagens e defici\u00eancia de par\u00e2metros reais de outras, decidimos criar um modelo pr\u00f3prio para\n\nsimula\u00e7\u00e3o do crescimento de espeleotemas. Nossa abordagem, al\u00e9m de trabalhar com par\u00e2me-\n\ntros do mundo real, tamb\u00e9m faz uso das capacidades gr\u00e1ficas atuais de programa\u00e7\u00e3o em GPU.\n\nDessa forma, propomos um modelo simples, por\u00e9m consistente, para o processo real da g\u00eanese\n\ne crescimento de espeleotemas. Todo o processo \u00e9 feito em tempo-real, propiciando ao usu\u00e1rio\n\ntotal flexibilidade e controle da simula\u00e7\u00e3o, atrav\u00e9s de controles interativos.\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 19\n\nFigura 3.2 Estrutura de estalactites em modo wireframe [OY93, YO92]\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 20\n\nFigura 3.3 Resultado final renderizado com modelo ilumina\u00e7\u00e3o global [OY93, YO92]\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 21\n\nFigura 3.4 Resultados obtidos em [Bal09]\n\nFigura 3.5 Resultados obtidos em [LF04]\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 22\n\nFigura 3.6 (a) Estalactites reais - (b) resultados obtidos em [SBG05] e [SBB+05]\n\nFigura 3.7 (a) Icicles reais - (b) resultados obtidos em [SBG06]\n\n\n\n3.2 ESPELEOTEMAS ABORDADOS EM TRABALHOS RELACIONADOS COM OUTRAS \u00c1REAS 23\n\nFigura 3.8 Resultados obtidos em [SL95]\n\n\n\nCAP\u00cdTULO 4\n\nModelo Proposto\n\nPensar \u00e9 o trabalho mais pesado que h\u00e1, e talvez seja essa a raz\u00e3o para t\u00e3o\npoucos se dedicarem a isso.\n\n\u2014HENRY FORD\n\nNeste cap\u00edtulo \u00e9 descrito, em detalhes, como o modelo foi desenvolvido e implementado\n\npara realizar a modelagem e renderiza\u00e7\u00e3o do crescimento de espeleotemas em tempo-real. O\n\nmodelo proposto, baseado nas informa\u00e7\u00f5es dos processos f\u00edsico-qu\u00edmicos reais apresentadas\n\nno cap\u00edtulo 2, realiza uma simula\u00e7\u00e3o interativa para a cria\u00e7\u00e3o dos espeleotemas mais comuns\n\nencontrados no interior de cavernas calc\u00e1rias. A simula\u00e7\u00e3o compreende a cria\u00e7\u00e3o de estalactites\n\n(figura 2.4 (a)), estalagmites (figura 2.4 (b) e (e)) e colunas (figura 2.4 (c)).\n\nO objetivo deste modelo \u00e9 criar uma aproxima\u00e7\u00e3o da forma geom\u00e9trica e apar\u00eancia dos es-\n\npeleotemas citados anteriormente, usando as novas capacidades do hardware gr\u00e1fico. O modelo\n\nimplementado fez uso da nova arquitetura do pipeline gr\u00e1fico do Direct3D 10 [Bly06, Boy07].\n\n\u00c9 importante salientar que, no modelo proposto, a simula\u00e7\u00e3o do crescimento dos espeleote-\n\nmas pode ser controlada de duas formas:\n\n1. Os par\u00e2metros da simula\u00e7\u00e3o s\u00e3o gerados randomicamente pela aplica\u00e7\u00e3o em tempo de\n\nexecu\u00e7\u00e3o, baseado nos limites de valor de cada par\u00e2metro, descritos na se\u00e7\u00e3o 4.3. Dessa\n\nforma, a aplica\u00e7\u00e3o controla o processo de forma\u00e7\u00e3o dos espeleotemas, definindo suas\n\nformas e apar\u00eancias.\n\n2. Atrav\u00e9s de controles interativos, o usu\u00e1rio pode definir todos os par\u00e2metros da simula\u00e7\u00e3o\n\nem tempo de execu\u00e7\u00e3o, controlando assim a forma e apar\u00eancia dos espeleotemas. Esse\n\nmodo d\u00e1 liberdade para que o usu\u00e1rio crie o seu pr\u00f3prio conjunto de espeleotemas.\n\nA cada time step, ocorre o crescimento de parte da estrutura de um espeleotema. Cada time\nstep da simula\u00e7\u00e3o \u00e9 equivalente a um s\u00e9culo no mundo real.\n\n4.1 Inicializa\u00e7\u00e3o\n\nEsta se\u00e7\u00e3o descreve, em detalhes, o procedimento realizado para a cria\u00e7\u00e3o da forma geom\u00e9trica\n\ndos espeleotemas, usando as novas capacidades do pipeline gr\u00e1fico descrito na se\u00e7\u00e3o 2.1. So-\n\nbretudo, esta se\u00e7\u00e3o mostra como o modelo proposto faz uso da capacidade de amplifica\u00e7\u00e3o de\n\ngeometria, fornecida pelos novos est\u00e1gios de Geometry-Shader e Stream-Output, presentes no\n\npipeline do Direct3D 10.\n\n24\n\n\n\n4.1 INICIALIZA\u00c7\u00c3O 25\n\n4.1.1 Definindo a primitiva base (semente)\n\nA primitiva base (ou semente) \u00e9 a geometria inicial a qual, como o pr\u00f3prio nome sugere, ser\u00e1 a\n\nbase para todos os espeleotemas criados durante a simula\u00e7\u00e3o do modelo. Independente do tipo\n\ndo espeleotema (estalactite, estalagmite, colunas...), a primitiva base \u00e9 sempre fixa. Ela consiste\n\nde um cilindro fino contendo apenas as laterais (sem base e topo) que \u00e9 definido em tempo de\n\nconfigura\u00e7\u00e3o pela aplica\u00e7\u00e3o. A escolha de um cilindro como primitiva base foi baseada na\n\nforma cil\u00edndrica apresentada pelos tipos de espeleotemas reais simulados pelo modelo. Este\n\ncilindro \u00e9 passado para o pipeline gr\u00e1fico onde ser\u00e1 posteriormente amplificado no est\u00e1gio de\n\nGS. A primitiva base representa o primeiro anel cristalino composto de calcita que \u00e9 formado\n\nno in\u00edcio do processo de crescimento de todos os espeleotemas reais. Ela \u00e9 ilustrada na figura\n\n4.1.\n\nFigura 4.1 Primitiva base (cilindro)\n\nDevido ao fato do modelo simular o crescimento de um ou mais espeleotemas ao mesmo\n\ntempo, cada espeleotema iniciar\u00e1 com a sua respectiva primitiva base associada \u00e0 ele. Entre-\n\ntanto, para manter a diversidade de formas e tamanhos, cada primitiva base ter\u00e1 o seu raio\n\ninicial vari\u00e1vel. O raio de uma primitiva base \u00e9 gerado randomicamente pela aplica\u00e7\u00e3o em\n\ntempo de configura\u00e7\u00e3o e, ent\u00e3o, \u00e9 associado a um determinado espeleotema a ser criado. A\n\nquantidade de espeleotemas a serem criados \u00e9 outro fator que deve ser configurado antes do\n\nin\u00edcio da simula\u00e7\u00e3o, mantendo seu valor fixo at\u00e9 o t\u00e9rmino da mesma.\n\n4.1.2 Posicionamento dos v\u00e9rtices\n\nCada v\u00e9rtice que forma a primitiva base \u00e9 composto por um conjunto de par\u00e2metros, al\u00e9m\n\ndos par\u00e2metros b\u00e1sicos que s\u00e3o passados geralmente para o est\u00e1gio de IA, tais como: posi\u00e7\u00e3o,\n\nvetor normal e coordenadas de textura. Cada um desses par\u00e2metros ser\u00e1 utilizado em um\n\ndeterminado momento pela aplica\u00e7\u00e3o, ou dentro do pipeline gr\u00e1fico, para realizar uma fun\u00e7\u00e3o\n\nespec\u00edfica no desenvolvimento dos espeleotemas. A tabela 4.1 mostra todos os par\u00e2metros\n\nque comp\u00f5em cada v\u00e9rtice da primitiva base e uma breve descri\u00e7\u00e3o de suas funcionalidades,\n\nque ser\u00e3o explicadas e demonstradas com maiores detalhes no decorrer deste cap\u00edtulo. Estes\n\npar\u00e2metros formam tamb\u00e9m o layout de entrada do est\u00e1gio de IA.\n\n\n\n4.2 CRIA\u00c7\u00c3O DO CORPO/FORMA DOS ESPELEOTEMAS 26\n\nTabela 4.1 Par\u00e2metros dos V\u00e9rtices\nNome do Par\u00e2metro Tipo de Dados Descri\u00e7\u00e3o\nPOSITION float3 Posi\u00e7\u00e3o do v\u00e9rtice no espa\u00e7o 3D (X,Y,Z)\n\nNORMAL float3 Vetor Normal (X,Y,Z)\n\nBINORMAL float3 Vetor Binormal (X,Y,Z)\n\nTANGENT float3 Vetor Tangente (X,Y,Z)\n\nCOLOR float4 Cor do v\u00e9rtice (RGBA)\n\nTEXCOORD float2 Coordenadas de textura (U,V)\n\nIDVERT float ID do v\u00e9rtice\n\nIDSHAREDVERT float ID indicando v\u00e9rtices q compartilham a mesma posi\u00e7\u00e3o no espa\u00e7o 3D\n\nIDRING float ID que define o n\u00famero do anel (cilindro) que o v\u00e9rtice comp\u00f5e\n\nRINGRADIUS float Raio do cilindro\n\nSPELEOTYPE float Tipo do espeleotema (Estalactite = 0 ou Estalagmite = 1)\n\n4.2 Cria\u00e7\u00e3o do Corpo/Forma dos Espeleotemas\n\n4.2.1 Defini\u00e7\u00e3o dos valores do par\u00e2metro IDVERT\n\nO processo de cria\u00e7\u00e3o do corpo de todos os espeleotemas \u00e9 realizado dentro do est\u00e1gio de GS.\n\nUm dos elementos chave para a amplifica\u00e7\u00e3o de geometria \u00e9 o par\u00e2metro IDVERT, presente em\ncada v\u00e9rtice da primitiva base.\n\nDurante a cria\u00e7\u00e3o da primitiva base, s\u00e3o atribu\u00eddos os valores iniciais para o par\u00e2metro\n\nIDVERT de cada v\u00e9rtice que a comp\u00f5e. Assim, todos os v\u00e9rtices localizados na parte superior\ndo cilindro recebem o IDVERT = 0 e, todos os v\u00e9rtices localizados na parte inferior do cilindro\nrecebem o IDVERT = -1. A figura 4.2 mostra a primitiva base (cilindro) planarizado com os\nvalores do par\u00e2metro IDVERT no momento de sua cria\u00e7\u00e3o.\n\nFigura 4.2 Configura\u00e7\u00e3o inicial do par\u00e2metro IDVERT dos v\u00e9rtices da primitiva base\n\nAo passar pelo pipeline pela primeira vez, todos os v\u00e9rtices que comp\u00f5em a primitiva base\n\npassam sem sofrer altera\u00e7\u00f5es pelo est\u00e1gio de VS. Ou seja, nenhuma transforma\u00e7\u00e3o ocorre sobre\n\nos v\u00e9rtices e eles passam diretamente para o est\u00e1gio de GS. Dentro do est\u00e1gio de GS, os v\u00e9rtices\n\nda primitiva base ser\u00e3o utilizados como informa\u00e7\u00e3o para a cria\u00e7\u00e3o de novas primitivas, que ir\u00e3o\n\ncompor o corpo do espeleotema em forma\u00e7\u00e3o. Neste primeiro momento, todos os v\u00e9rtices da\n\nprimitiva base ter\u00e3o o valor de seu par\u00e2metro IDVERT incrementado em 2 (duas) unidades. A\nfigura 4.3 mostra, respectivamente, os v\u00e9rtices da primitiva base ao entrar no est\u00e1gio de GS e,\n\nap\u00f3s, com seus IDVERT incrementados.\n\n4.2.2 Processo de Amplifica\u00e7\u00e3o da Geometria\n\nAp\u00f3s o incremento dos IDs, \u00e9 criada uma nova primitiva baseada na primitiva base. Este novo\n\ncilindro \u00e9 similar ao primeiro. Entretanto, suas novas dimens\u00f5es s\u00e3o definidas atrav\u00e9s de dois\n\npar\u00e2metros fornecidos pela aplica\u00e7\u00e3o: Height e Radius.\n\n\n\n4.2 CRIA\u00c7\u00c3O DO CORPO/FORMA DOS ESPELEOTEMAS 27\n\nFigura 4.3 Incremento do par\u00e2metro IDVERT dos v\u00e9rtices da primitiva base\n\nO par\u00e2metro Radius modela o di\u00e2metro da nova primitiva (cilindro) criada. Para a cria\u00e7\u00e3o\nde espeleotemas do tipo estalactite, o valor para o par\u00e2metro Radius \u00e9 sempre menor ou igual\nao raio da primitiva base que lhe originou. Para a cria\u00e7\u00e3o de espeleotemas do tipo estalagmite,\n\no valor para o par\u00e2metro Radius pode ser maior, menor ou igual ao da primitiva base.\nO par\u00e2metro Height modela a dist\u00e2ncia entre a primitiva base e a nova primitiva que foi\n\ngerada. A nova primitiva ser\u00e1 transladada na dire\u00e7\u00e3o do eixo Y negativo (para estalactites), ou\n\nna dire\u00e7\u00e3o do eixo Y positivo (para estalagmites), de acordo com o valor deste par\u00e2metro.\n\nOs valores do par\u00e2metro Height, bem como os valores do par\u00e2metro Radius, s\u00e3o gerados\nrandomicamente pela aplica\u00e7\u00e3o ou definidos pelo usu\u00e1rio atrav\u00e9s de controles interativos. Eles\n\ns\u00e3o passados da aplica\u00e7\u00e3o para o arquivo de efeitos (shader file) atrav\u00e9s de vari\u00e1veis e seus\nvalores podem ser utilizados por qualquer est\u00e1gio do pipeline gr\u00e1fico. O intervalo de valores\n\nposs\u00edveis dos par\u00e2metros Height e Radius pode ser observado na tabela 4.2.\nAs equa\u00e7\u00f5es 4.1 e 4.2 criam a nova primitiva, definindo a posi\u00e7\u00e3o de cada um de seus v\u00e9r-\n\ntices, baseado nos valores de Height e Radius fornecidos pela aplica\u00e7\u00e3o, em rela\u00e7\u00e3o \u00e0 primitiva\nbase original.\n\n?v? =?v + (0.0, Height, 0.0) (4.1)\n\n?vnew = ?v? + ?N ? Radius (4.2)\nonde ?v? \u00e9 a posi\u00e7\u00e3o intermedi\u00e1ria do v\u00e9rtice da nova primitiva (novo anel), ?v \u00e9 a posi\u00e7\u00e3o do\nv\u00e9rtice da primitiva base, ?N \u00e9 o vetor normal do v\u00e9rtice e ?vnew \u00e9 a posi\u00e7\u00e3o final do v\u00e9rtice do\nnovo anel.\n\nA figura 4.4 mostra, respectivamente, a primitiva base e a nova primitiva gerada dentro do\n\nest\u00e1gio de GS.\n\nPara a nova primitiva, s\u00e3o atribu\u00eddos novos valores para o par\u00e2metro IDVERT. Os novos\nvalores ser\u00e3o exatamente os mesmos valores da primitiva base ao entrar pela primeira vez no\n\npipeline, antes da ocorr\u00eancia do incremento. Em outras palavras, todos os v\u00e9rtices localizados\n\n\n\n4.2 CRIA\u00c7\u00c3O DO CORPO/FORMA DOS ESPELEOTEMAS 28\n\nFigura 4.4 Primitiva base e nova primitiva, criada a partir dos par\u00e2metros Height e Radius\n\nna parte superior do novo cilindro recebem o IDVERT = 0 e, todos os v\u00e9rtices localizados na\nparte inferior do novo cilindro recebem o IDVERT = -1.\n\nFinalmente, a \u00faltima tarefa do est\u00e1gio de GS \u00e9 conectar os v\u00e9rtices do primeiro e do segundo\n\ncilindros. A liga\u00e7\u00e3o \u00e9 feita apenas entre os v\u00e9rtices que possuem o par\u00e2metro IDVERT = 0\ne IDVERT = 1. A figura 4.5 mostra os dois cilindros criados anteriormente e a liga\u00e7\u00e3o de\nseus v\u00e9rtices, criando uma primitiva na forma de um cone. \u00c9 importante observar tamb\u00e9m a\n\nconfigura\u00e7\u00e3o dos IDs depois da primeira passada pelo est\u00e1gio de GS.\n\nFigura 4.5 Liga\u00e7\u00e3o dos cilindros\n\nEntretanto, s\u00e3o necess\u00e1rias sucessivas passadas pelo pipeline para que a forma ideal do\n\nespeleotema seja alcan\u00e7ada. Em cada nova passada, todas as primitivas criadas pela \u00faltima\n\npassada ser\u00e3o a nova entrada para o est\u00e1gio de GS. Para isso, toda a estrutura contendo as\n\nprimitivas criadas \u00e9 mandada de volta para os est\u00e1gios iniciais do pipeline, atrav\u00e9s do est\u00e1gio\n\nde SO. Antes de passar o resultado para os pr\u00f3ximos est\u00e1gios do pipeline (RS e PS), os dados\n\ns\u00e3o armazenados em um buffer de geometrias e mandados para a mem\u00f3ria. A aplica\u00e7\u00e3o se\n\n\n\n4.3 CONTROLE DO CRESCIMENTO DOS ESPELEOTEMAS 29\n\nencarrega de enviar esses dados para os est\u00e1gios iniciais do pipeline, iniciando uma nova in-\n\ntera\u00e7\u00e3o com as geometrias previamente criadas. A figura 4.6 mostra a evolu\u00e7\u00e3o da constru\u00e7\u00e3o\n\nda estrutura do espeleotema em diversas passadas sucessivas pelo pipeline (time steps), antes\nde sua renderiza\u00e7\u00e3o final. O processo de cria\u00e7\u00e3o dos espeleotemas \u00e9 encerrado por uma das\n\ndiversas possibilidades explicadas na se\u00e7\u00e3o 4.5.\n\nFigura 4.6 Estrutura do espeleotema. Sucessivas passadas pelo pipeline\n\n4.3 Controle do Crescimento dos Espeleotemas\n\nUsando uma aproxima\u00e7\u00e3o do modelo real de crescimento de espeleotemas descrito em [Kau03],\n\nos valores para par\u00e2metros Height e Radius, que controlam a taxa de crescimento dos es-\npeleotemas e suas formas, s\u00e3o definidos atrav\u00e9s dos par\u00e2metros descritos nas se\u00e7\u00f5es subse-\n\nquentes. Um resumo de todos os poss\u00edveis valores para Height e Radius pode ser visualizado\n\n\n\n4.3 CONTROLE DO CRESCIMENTO DOS ESPELEOTEMAS 30\n\nna tabela 4.2.\n\n4.3.1 \u00cdndice Pluviom\u00e9trico (PIL)\n\nO \u00edndice pluviom\u00e9trico (PIL) do est\u00e1gio de acidula\u00e7\u00e3o da \u00e1gua, descrito na se\u00e7\u00e3o 2.3, \u00e9 a\n\nquantidade de \u00e1gua das chuvas em um determinado per\u00edodo. Para o modelo proposto, o PIL\n\npode assumir tr\u00eas n\u00edveis poss\u00edveis:\n\n\u2022 N\u00edvel 0: relacionado com a aus\u00eancia de chuvas ou quantidade de chuva insuficiente para\nque ocorra o crescimento de espeleotemas.\n\n\u2022 N\u00edvel 1: se o PIL atingir este n\u00edvel, a quantidade de chuvas \u00e9 suficiente para que ocorra o\ncrescimento de espeleotemas. Entretanto, neste n\u00edvel a vaz\u00e3o de \u00e1gua acidulada \u00e9 apenas\n\nsuficiente para o crescimento de estalactites, n\u00e3o ocorrendo precipita\u00e7\u00e3o de calcita em\n\nexcesso para o ch\u00e3o do ambiente cavern\u00edcola. Assim, a gota de solu\u00e7\u00e3o saturada pode se\n\nsolidificar apenas no teto, no corpo ou na ponta de estalactites em forma\u00e7\u00e3o.\n\n\u2022 N\u00edvel 2: devido \u00e0 ocorr\u00eancia de grande vaz\u00e3o de \u00e1gua acidulada, se o PIL atingir este\nn\u00edvel ocorrer\u00e1 o gotejamento de solu\u00e7\u00e3o saturada no ch\u00e3o da caverna. Esta \u00e9 uma con-\n\nfigura\u00e7\u00e3o prop\u00edcia para o crescimento de todos os tipos de espeleotemas e, dessa forma,\n\ntanto estalactites quanto estalagmites se formar\u00e3o.\n\n4.3.2 Intervalo de Gotejamento (Drip Int.)\n\nO intervalo de gotejamento est\u00e1 relacionado diretamente com a modelagem do di\u00e2metro do\n\nespeleotema em forma\u00e7\u00e3o. Ou seja, \u00e9 o intervalo de gotejamento que configura o par\u00e2metro\n\nRadius, descrito na se\u00e7\u00e3o 4.2.2. Ele depende do \u00edndice pluviom\u00e9trico e, tamb\u00e9m, da quantidade\nde fraturas e caminhos criados pela \u00e1gua acidulada na rocha calc\u00e1ria, em seu caminho at\u00e9\n\no ambiente cavern\u00edcola. O intervalo de gotejamento \u00e9 inversamente proporcional ao \u00edndice\n\npluviom\u00e9trico e \u00e9 medido em tr\u00eas est\u00e1gios, conforme segue:\n\n\u2022 DRY (0): define um intervalo de gotejamento longo, devido \u00e0 ocorr\u00eancia de um baixo\n\u00edndice pluviom\u00e9trico ou mesmo a outros fatores como: cobertura vegetal do solo abun-\n\ndante ou, tamb\u00e9m, pouca incid\u00eancia de fraturas na camada de rocha calc\u00e1ria. Esses\n\nfatores acarretam pouca infiltra\u00e7\u00e3o de solu\u00e7\u00e3o saturada para o interior da caverna, culmi-\n\nnando em uma diminui\u00e7\u00e3o do di\u00e2metro do espeleotema em forma\u00e7\u00e3o.\n\n\u2022 STANDARD (1): define um intervalo de gotejamento de n\u00edvel equilibrado. O di\u00e2metro\ndos espeleotemas tende a ser regular, acarretando apenas pequenas deforma\u00e7\u00f5es na forma\ngeom\u00e9trica de seus corpos.\n\n\u2022 WET (2): define um intervalo de gotejamento curto, devido ao fato da ocorr\u00eancia de um\nalto \u00edndice pluviom\u00e9trico ou mesmo de outros fatores como: cobertura vegetal do solo\n\npequena ou mesmo inexistente ou, tamb\u00e9m, camada de rocha calc\u00e1ria bastante fraturada.\n\nEsses fatores acarretam uma grande infiltra\u00e7\u00e3o de solu\u00e7\u00e3o saturada para o interior da\n\ncaverna, promovendo um aumento do di\u00e2metro do espeleotema em forma\u00e7\u00e3o.\n\n\n\n4.4 FORMA\u00c7\u00c3O DE DEFORMIDADES NA SUPERF\u00cdCIE DOS ESPELEOTEMAS 31\n\n4.3.3 Concentra\u00e7\u00e3o de CO2 (CO2 Conc.)\n\nA concentra\u00e7\u00e3o de CO2 est\u00e1 relacionada diretamente com a modelagem da altura do espeleote-\nma em forma\u00e7\u00e3o. Ou seja, \u00e9 a concentra\u00e7\u00e3o de CO2 que configura o par\u00e2metro Height, descrito\nna se\u00e7\u00e3o 4.2.2. A concentra\u00e7\u00e3o de calcita, encontrada na gota de solu\u00e7\u00e3o saturada, depende de\n\nfatores como a cobertura vegetal do solo (que \u00e9 fonte de di\u00f3xido de carbono (CO2) para a \u00e1gua\ndas chuvas) e, tamb\u00e9m, da concentra\u00e7\u00e3o de CO2 presente na pr\u00f3pria atmosfera, descritos no\nest\u00e1gio de acidula\u00e7\u00e3o da \u00e1gua, na se\u00e7\u00e3o 2.3. Quanto maior o n\u00edvel de CO2, mais acidulada ser\u00e1 a\n\u00e1gua das chuvas que ir\u00e1 dissolver a camada de rocha calc\u00e1ria. Por conseguinte, a quantidade de\n\ncalcita presente na solu\u00e7\u00e3o saturada, ap\u00f3s a dissolu\u00e7\u00e3o da rocha, \u00e9 proporcional \u00e0 concentra\u00e7\u00e3o\n\nde CO2. O n\u00edvel de concentra\u00e7\u00e3o de CO2 \u00e9 determinado pelo modelo proposto como segue:\n\n\u2022 LOW (0): n\u00edvel baixo na concentra\u00e7\u00e3o de CO2 na gota de solu\u00e7\u00e3o saturada. Este n\u00edvel\n\u00e9 proveniente de taxas de CO2 baixas na cobertura vegetal do solo ou na atmosfera.\nEssa condi\u00e7\u00e3o implica em menor quantidade de c\u00e1lcio na solu\u00e7\u00e3o saturada que, com a\n\nlibera\u00e7\u00e3o de CO2 da solu\u00e7\u00e3o ao atingir o ambiente cavern\u00edcola, ret\u00e9m pouca concentra\u00e7\u00e3o\nde calcita (CaCO3). Isso faz com que a altura do novo anel cristalino em forma\u00e7\u00e3o seja\na metade da taxa de crescimento t\u00edpica de espeleotemas, ou seja, (T CE/2).\n\n\u2022 NORMAL (1): n\u00edvel normal na concentra\u00e7\u00e3o de CO2 na gota de solu\u00e7\u00e3o saturada. Essa\nconfigura\u00e7\u00e3o implica na cria\u00e7\u00e3o de um anel cristalino com altura padr\u00e3o, seguindo a taxa\nde crescimento t\u00edpica de espeleotemas (TCE), que \u00e9, segundo [SBB+05], de 1 cm/s\u00e9culo.\n\n\u2022 HIGH (2): n\u00edvel alto na concentra\u00e7\u00e3o de CO2 na gota de solu\u00e7\u00e3o saturada. Essa condi\u00e7\u00e3o\nimplica em maior quantidade de c\u00e1lcio na solu\u00e7\u00e3o saturada que, com a libera\u00e7\u00e3o de CO2\nda solu\u00e7\u00e3o ao atingir o interior da caverna, ret\u00e9m um n\u00edvel grande de concentra\u00e7\u00e3o de\n\ncalcita (CaCO3). Isso faz com que a altura do novo anel cristalino em forma\u00e7\u00e3o seja o\ndobro da taxa de crescimento t\u00edpica, ou seja, (T CE ? 2).\n\n4.4 Forma\u00e7\u00e3o de Deformidades na Superf\u00edcie dos Espeleotemas\n\nDurante o processo de forma\u00e7\u00e3o da estrutura dos espeleotemas, descrito na se\u00e7\u00e3o 4.2, outros\n\nfatores importantes que influenciam na forma final da estrutura devem ser levados em conside-\n\nra\u00e7\u00e3o. Esta se\u00e7\u00e3o descreve o fator de solidifica\u00e7\u00e3o da solu\u00e7\u00e3o saturada e a presen\u00e7a de circu-\n\nla\u00e7\u00e3o de ar no ambiente da caverna. Ambos s\u00e3o processos que criam deformidades na estru-\n\ntura/corpo dos espeleotemas.\n\n4.4.1 O Fator de Solidifica\u00e7\u00e3o da Solu\u00e7\u00e3o Saturada\n\nQuando a concentra\u00e7\u00e3o de di\u00f3xido de carbono (CO2) estiver em n\u00edvel muito baixo, a gota de\nsolu\u00e7\u00e3o saturada pode solidificar antes de alcan\u00e7ar a ponta da estalactite ou a base de uma\n\nestalagmite. Se essa condi\u00e7\u00e3o ocorrer, a gota ir\u00e1 se solidificar na parte lateral da estrutura do\n\nespeleotema, criando deforma\u00e7\u00f5es (sali\u00eancias). Dessa forma, ocorrer\u00e1 apenas o crescimento\n\nhorizontal do espeleotema, ao inv\u00e9s do crescimento vertical. A magnitude da deformidade,\n\n\n\n4.4 FORMA\u00c7\u00c3O DE DEFORMIDADES NA SUPERF\u00cdCIE DOS ESPELEOTEMAS 32\n\nTabela 4.2 Par\u00e2metros de controle do crescimento de espeleotemas\n\nPIL Drip Int. CO2 Conc. Type Radius Height\n0 - - - - -\n\n1 - low stalactite decrease x2 TCE/2\n\n1 - normal stalactite decrease x1 TCE\n\n1 - high stalactite same TCE*2\n\n2 dry low stalagmite decrease x1 TCE/2\n\n2 standard low stalagmite same TCE/2\n\n2 wet low stalagmite increase x1 TCE/2\n\n2 dry normal stalagmite decrease x1 TCE\n\n2 standard normal stalagmite same TCE\n\n2 wet normal stalagmite increase x1 TCE\n\n2 dry high stalagmite decrease x1 TCE*2\n\n2 standard high stalagmite same TCE*2\n\n2 wet high stalagmite increase x1 TCE*2\n\nprovocada por esse evento, \u00e9 proporcional ao raio do anel cristalino no local aonde a gota se\n\nsolidificou. A cada time step da simula\u00e7\u00e3o, \u00e9 definido randomicamente um v\u00e9rtice (atrav\u00e9s\ndo par\u00e2metro IDSHAREDVERT) e um anel cristalino (atrav\u00e9s do par\u00e2metro IDRING) que j\u00e1\n\ncomp\u00f5e o corpo de um determinado espeleotema. Ent\u00e3o, o crescimento horizontal \u00e9 aplicado\n\nneste v\u00e9rtice espec\u00edfico e nos v\u00e9rtices que compartilham a mesma posi\u00e7\u00e3o no espa\u00e7o 3D. No\n\nmodelo proposto, o crescimento horizontal (deformidades) s\u00e3o calculados com a equa\u00e7\u00e3o 4.3.\n\nvd = k f (arr/irr) (4.3)\nonde vd \u00e9 o fator de deslocamento dos v\u00e9rtices na posi\u00e7\u00e3o de solidifica\u00e7\u00e3o da gota, k f \u00e9 um\nescalar de valor fixo, usado para ajustar o deslocamento dos v\u00e9rtices proporcionalmente com o\n\nraio do anel cristalino, arr \u00e9 o raio do anel onde ocorreu a deformidade e irr \u00e9 o raio do primeiro\nanel formado do espeleotema. Ap\u00f3s calculado o fator de deslocamento dos v\u00e9rtices (vd), este\nser\u00e1 aplicado aos v\u00e9rtices que sofrer\u00e3o um deslocamento horizontal, sempre na dire\u00e7\u00e3o do seu\n\nrespectivo vetor normal. A equa\u00e7\u00e3o 4.4 realiza o deslocamento dos v\u00e9rtices.\n\n?v? =?v + ?N(vd, 1.0, vd) (4.4)\nonde ?v \u00e9 a posi\u00e7\u00e3o atual do v\u00e9rtice, ?v? \u00e9 a nova posi\u00e7\u00e3o do v\u00e9rtice depois do deslocamento, ?N\n\u00e9 o vetor normal do respectivo v\u00e9rtice e vd \u00e9 o fator de deslocamento calculado na equa\u00e7\u00e3o\n4.3. Um exemplo das deformidades na estrutura dos espeleotemas em forma\u00e7\u00e3o pode ser visto\n\nna figura 4.6, onde a \u00faltima intera\u00e7\u00e3o, em wireframe, apresenta a estrutura de uma estalactite\n\ncom alguns v\u00e9rtices deslocados, simulando as deformidades provenientes da solidifica\u00e7\u00e3o da\n\nsolu\u00e7\u00e3o saturada na superf\u00edcie de sua estrutura.\n\n\n\n4.5 CONDI\u00c7\u00d5ES DE T\u00c9RMINO DA SIMULA\u00c7\u00c3O 33\n\n4.4.2 O Fator de Circula\u00e7\u00e3o de Ar\n\nA presen\u00e7a de circula\u00e7\u00e3o de ar no ambiente cavern\u00edcola \u00e9 outro fator muito importante que\n\ndeve-se levar em conta. Ela ir\u00e1 afetar diretamente a estrutura/forma do espeleotema em for-\n\nma\u00e7\u00e3o. A trajet\u00f3ria normal de deslocamento de uma gota de solu\u00e7\u00e3o saturada \u00e9 sempre na\n\ndire\u00e7\u00e3o do eixo das ordenadas (eixo Y) negativo (estalactites). Se n\u00e3o houver a presen\u00e7a de\n\ncircula\u00e7\u00e3o de ar, a estalactite em forma\u00e7\u00e3o tende a assumir uma forma mais c\u00f4nica e regular\n\n(sem muitas deformidades), como mostra a figura 4.7 (a). Com a presen\u00e7a de circula\u00e7\u00e3o de\n\nar, os espeleotemas podem adquirir maior grau de deformidades na sua estrutura. A figura 4.7\n\n(b) mostra as formas distorcidas do corpo de icicles devido \u00e0 presen\u00e7a de ar circundando a sua\n\nestrutura, durante a sua forma\u00e7\u00e3o. As icicles apresentam um grande grau de deformidade de-\n\nvido \u00e0 presen\u00e7a constante de circula\u00e7\u00e3o de ar, visto que se encontram em um ambiente aberto.\n\nDa mesma maneira, a figura 4.7 (c) mostra o mesmo efeito causado em estalactites de calcita,\n\nformadas no interior de uma caverna com a presen\u00e7a de circula\u00e7\u00e3o de ar. Os v\u00e9rtices do novo\n\nanel em forma\u00e7\u00e3o poder\u00e3o sofrer um deslocamento na sua posi\u00e7\u00e3o de acordo com a dire\u00e7\u00e3o da\n\ncorrente de ar, se esta existir. Os par\u00e2metros que modelam a presen\u00e7a ou n\u00e3o de uma corrente\n\nde ar no interior da caverna, tais como dire\u00e7\u00e3o e intensidade, s\u00e3o fornecidos pela aplica\u00e7\u00e3o\n\nou por controles interativos presentes na interface, durante a simula\u00e7\u00e3o. A nova posi\u00e7\u00e3o de\n\ncada v\u00e9rtice que comp\u00f5e o anel em forma\u00e7\u00e3o, atribu\u00edda pela presen\u00e7a de circula\u00e7\u00e3o de ar, \u00e9\n\ncalculado com a equa\u00e7\u00e3o 4.5.\n\n?v? =?v + (wi, 0.0, 0.0) (4.5)\nonde ?v? \u00e9 a nova posi\u00e7\u00e3o do v\u00e9rtice do anel em forma\u00e7\u00e3o ?v, wi \u00e9 um escalar que indica tanto a\nintensidade da corrente de ar, quanto a sua dire\u00e7\u00e3o, implicando em um maior ou menor deslo-\n\ncamento dos v\u00e9rtices do anel em forma\u00e7\u00e3o. Seu valor varia entre (-1.0&lt;-> 1.0). O par\u00e2metro\n\nwi, como citado anteriormente, pode ser gerado randomicamente pela aplica\u00e7\u00e3o, ou definido\npelo usu\u00e1rio atrav\u00e9s de um controle interativo presente na interface da aplica\u00e7\u00e3o.\n\n4.5 Condi\u00e7\u00f5es de T\u00e9rmino da Simula\u00e7\u00e3o\n\nDurante a simula\u00e7\u00e3o, o crescimento dos espeleotemas pode ser interrompido quando determi-\n\nnados fatores condicionantes forem alcan\u00e7ados. A simula\u00e7\u00e3o \u00e9 suspensa se:\n\n1. O \u00cdndice Pluviom\u00e9trico (PIL), descrito na se\u00e7\u00e3o 4.3.1, estiver no N\u00edvel 0 (zero);\n\n2. O raio do novo anel em forma\u00e7\u00e3o for igual a 0 (zero);\n\n3. A estrutura do espeleotema em forma\u00e7\u00e3o atingir alguma extremidade da caverna. i.e.\n\nteto (estalagmites) ou ch\u00e3o (estalactites);\n\n4. Uma coluna \u00e9 criada pela uni\u00e3o de uma estalactite e uma estalagmite;\n\n5. Pausada por interven\u00e7\u00e3o do usu\u00e1rio, que pode reiniciar no mesmo estado em que se\n\nencontrava antes da pausa.\n\n\n\n4.6 APAR\u00caNCIA DOS ESPELEOTEMAS 34\n\nFigura 4.7 Efeitos da circula\u00e7\u00e3o de ar no interior da caverna\n\nQuando alguma dessas condi\u00e7\u00f5es for satisfeita, o crescimento vertical dos espeleotemas\n\u00e9 interrompido. Entretanto, o crescimento horizontal e as deformidades na superf\u00edcie conti-\nnuar\u00e3o ocorrendo (exceto itens 1 e 5).\n\n4.6 Apar\u00eancia dos Espeleotemas\n\nUma vez que a forma/estrutura est\u00e1 definida, \u00e9 necess\u00e1rio modelar a apar\u00eancia dos espeleotemas.\n\nDe acordo com [BBFS01], quando os espeleotemas s\u00e3o visualizados com luz vis\u00edvel ou trans-\n\nmitida, eles apresentam varia\u00e7\u00f5es de cor e intensidade. A cor padr\u00e3o dos espeleotemas \u00e9 branca\n\ndevido \u00e0s propriedades da rocha calc\u00e1ria. Entretanto, outros minerais e impurezas presentes na\n\nrocha calc\u00e1ria podem se misturar na solu\u00e7\u00e3o saturada, durante o est\u00e1gio de dissolu\u00e7\u00e3o da rocha\n\ncalc\u00e1ria. Dependendo do tipo do mineral misturado, a cor dos espeleotemas poder\u00e1 assumir ca-\n\nracter\u00edsticas deste mineral. Por exemplo: a presen\u00e7a de ferro na solu\u00e7\u00e3o saturada pode produzir\n\nornamenta\u00e7\u00f5es de colora\u00e7\u00e3o vermelha, ocre, marrom, amarelo e laranja. \u00d3xidos de mangan\u00eas\n\nproduzem espeleotemas com colora\u00e7\u00e3o preta, cinza-azulado e azul profundo e brilhante. Sais\n\nde cobre produzem espeleotemas da cor azul. A malaquita produz colora\u00e7\u00e3o azul-esverdeada.\n\nNo modelo proposto, o usu\u00e1rio pode escolher, atrav\u00e9s de controles interativos, o tipo de\n\nmineral que ser\u00e1 misturado \u00e0 solu\u00e7\u00e3o saturada, e que ir\u00e1 produzir uma colora\u00e7\u00e3o espec\u00edfica\n\npara o(s) espeleotema(s) em forma\u00e7\u00e3o. \u00c9 poss\u00edvel tamb\u00e9m, em tempo de execu\u00e7\u00e3o, alterar a\n\ntaxa de intensidade da mistura do mineral na solu\u00e7\u00e3o saturada, variando assim a intensidade\n\nda colora\u00e7\u00e3o aplicada ao(s) espeleotema(s). Apesar de n\u00e3o termos encontrado na literatura um\n\nmodelo de distribui\u00e7\u00e3o da cor ao longo do corpo dos espeleotemas, n\u00f3s usamos uma varia\u00e7\u00e3o\n\nlinear da base para a ponta da estrutura do(s) espeleotema(s), baseado em observa\u00e7\u00f5es de fotos\n\nde espeleotemas reais. O c\u00e1lculo da varia\u00e7\u00e3o na colora\u00e7\u00e3o, que ser\u00e1 a cor final aplicada aos\n\n\n\n4.6 APAR\u00caNCIA DOS ESPELEOTEMAS 35\n\nv\u00e9rtices (fvc), \u00e9 implementada com a equa\u00e7\u00e3o 4.6.\n\nf vc = mc(arID/rc) (4.6)\nonde f vc \u00e9 a cor final para um determinado v\u00e9rtice, arID \u00e9 o ID do anel atual, rc \u00e9 a quantidade\ntotal de an\u00e9is que formam a estrutura do espeleotema e mc \u00e9 um valor RGB representando a\ncor proveniente do tipo de mineral selecionado. A taxa de intensidade da cor ir\u00e1 incrementar\n\nlinearmente de acordo com o anel atual que est\u00e1 sendo formado. Os valores RGB para cada tipo\n\nde mineral s\u00e3o valores aproximados da colora\u00e7\u00e3o real. Estes valores foram definidos tomando\n\ncomo base observa\u00e7\u00f5es de fotos de espeleotemas reais, visto que n\u00e3o h\u00e1 valores RGB expl\u00edcitos\n\nna literatura sobre este assunto. Os valores RGB para cada poss\u00edvel mineral misturado \u00e0 solu\u00e7\u00e3o\n\nsaturada s\u00e3o mostrados na tabela da figura 4.8.\n\nFigura 4.8 Colora\u00e7\u00e3o de minerais (mc)\n\nAinda em [BBFS01], os cristais de calcita que formam o corpo dos espeleotemas s\u00e3o\n\ntransl\u00facidos. Dessa forma, eles prov\u00eam grande dispers\u00e3o e reflex\u00e3o quando expostos a qualquer\n\nforma de ilumina\u00e7\u00e3o e, fluoresc\u00eancia no espectro vis\u00edvel quando expostos a luz ultravioleta. Es-\n\ntas propriedades \u00f3ticas s\u00e3o atribu\u00eddas tamb\u00e9m a presen\u00e7a de impurezas misturadas \u00e0 solu\u00e7\u00e3o,\n\nno est\u00e1gio de dissolu\u00e7\u00e3o da rocha calc\u00e1ria. Para melhorar a apar\u00eancia dos espeleotemas e para\n\nsimular as propriedades \u00f3ticas citadas anteriormente, foram usadas algumas t\u00e9cnicas conheci-\n\ndas de Computa\u00e7\u00e3o Gr\u00e1fica, tais como: Normal Mapping [COM98, CMSR98], Tone Mapping\ne Blooming [Ash02] e Environment Mapping [BN76, MH76]. Normal Mapping \u00e9 utilizada\npara aumentar o efeito de rugosidade na superf\u00edcie dos espeleotemas, da mesma forma como\n\no deslocamento horizontal, descrito na se\u00e7\u00e3o 4.4.1. Tone Mapping e Environment Mapping\ns\u00e3o usadas para efeitos de brilho e reflex\u00e3o, simulando as propriedades dos cristais de calcita e\n\numidade causada pela solu\u00e7\u00e3o aquosa que cobre a superf\u00edcie do(s) espeleotema(s). Blooming \u00e9\nusado para criar efeitos de fluoresc\u00eancia, que \u00e9 uma das propriedades \u00f3ticas da calcita, descritas\n\nanteriormente.\n\nConforme mencionado na se\u00e7\u00e3o 4.2.2, s\u00e3o necess\u00e1rias sucessivas passadas pelo pipeline\n\nat\u00e9 que a forma do espeleotema seja completada. O n\u00famero atual de passadas necess\u00e1rias \u00e9\n\ninteiramente dependente dos valores rand\u00f4micos das vari\u00e1veis Height e Radius atribu\u00eddas pela\naplica\u00e7\u00e3o. Por esta raz\u00e3o, a cada nova execu\u00e7\u00e3o da simula\u00e7\u00e3o, ser\u00e3o criados espeleotemas\n\ndiferentes. O modelo tamb\u00e9m permite a cria\u00e7\u00e3o de espeleotemas em Modo Manual, como\n\n\n\n4.7 INTERFACE DA APLICA\u00c7\u00c3O 36\n\ndescrito na se\u00e7\u00e3o 4.7. Durante o processo de cria\u00e7\u00e3o dos espeleotemas, \u00e9 poss\u00edvel efetuar qual-\n\nquer manipula\u00e7\u00e3o na aplica\u00e7\u00e3o, tais como: mudan\u00e7a nos valores dos par\u00e2metros que controlam\n\na cria\u00e7\u00e3o da forma e apar\u00eancia dos espeleotemas, navega\u00e7\u00e3o pelo cen\u00e1rio para visualiza\u00e7\u00e3o em\n\ntr\u00eas dimens\u00f5es (3D) dos espeleotemas e altera\u00e7\u00e3o nos par\u00e2metros de configura\u00e7\u00e3o das t\u00e9cnicas\n\nde Normal Mapping, Tone Mapping e Environment Mapping.\n\n4.7 Interface da Aplica\u00e7\u00e3o\n\nNa parte da aplica\u00e7\u00e3o, o usu\u00e1rio conta com widgets que podem ser usados para controlar ma-\nnualmente a cria\u00e7\u00e3o dos espeleotemas durante a simula\u00e7\u00e3o do modelo. Estes controles intera-\n\ntivos, presentes na interface da aplica\u00e7\u00e3o, s\u00e3o usados para atribuir valores para os par\u00e2metros\n\nque controlam a forma, apar\u00eancia e, tamb\u00e9m, configurar em tempo-real os par\u00e2metros das t\u00e9c-\n\nnicas de Normal Mapping, Tone Mapping e Environment Mapping. Utilizando os controles\ninterativos, o usu\u00e1rio pode inserir valores desejados em todos os par\u00e2metros descritos na tabela\n\n4.2. Os controles interativos podem ser usados para direcionar a cria\u00e7\u00e3o de certas formas de-\n\nsejadas de espeleotemas, ao inv\u00e9s de cri\u00e1-las pelo modo rand\u00f4mico (padr\u00e3o) do modelo. A\n\nfigura 4.9 exibe os controles interativos presentes na interface da aplica\u00e7\u00e3o. Na figura 4.9 os\n\npar\u00e2metros est\u00e3o divididos em conjuntos distintos, de acordo com suas finalidades espec\u00edficas.\n\nA seguir, descrevemos a finalidade de cada conjunto de controles interativos:\n\n1. O combobox Simulation Mode exibe os dois modos dispon\u00edveis para a simula\u00e7\u00e3o: Rand\u00f4-\nmico e Manual. No modo Rand\u00f4mico, a aplica\u00e7\u00e3o se encarrega de gerar os valores para\n\nos par\u00e2metros da simula\u00e7\u00e3o a cada time step. No modo Manual \u00e9 o usu\u00e1rio que configura\nos valores para os par\u00e2metros da simula\u00e7\u00e3o. O bot\u00e3o Add \u00e9 ativo apenas no modo Manual.\nAp\u00f3s configurar os par\u00e2metros, o usu\u00e1rio pode clicar no bot\u00e3o Add para que seja inserido\num time step para a simula\u00e7\u00e3o.\n\n2. Este \u00e9 o conjunto de controles que configura os par\u00e2metros que controlam o crescimento\n\ndos espeleotemas. Se o modo Rand\u00f4mico estiver ativo, esses valores s\u00e3o gerados pela\n\naplica\u00e7\u00e3o. Se o modo Manual estiver ativo, \u00e9 o usu\u00e1rio que configura os valores. Os\n\ntr\u00eas par\u00e2metros configur\u00e1veis neste conjunto compreendem o \u00cdndice Pluviom\u00e9trico, o\n\nIntervalo de Gotejamento e a Concentra\u00e7\u00e3o de CO2. Os valores poss\u00edveis podem ser\nvistos na tabela 4.2.\n\n3. A barra de rolagem Wind \u00e9 respons\u00e1vel pela defini\u00e7\u00e3o da dire\u00e7\u00e3o e da intensidade da\ncorrente de ar e seus efeitos na estrutura dos espeleotemas, descritos na se\u00e7\u00e3o 4.4.2. Seu\n\nvalor varia entre (-1.0&lt;-> 1.0), sendo que (0.0) significa que N\u00c3O h\u00e1 circula\u00e7\u00e3o de ar no\n\nambiente cavern\u00edcola.\n\n4. As barras de rolagem deste conjunto s\u00e3o usadas para a configura\u00e7\u00e3o de par\u00e2metros das\n\nt\u00e9cnicas de HDR (High Dynamic Range) utilizadas pela aplica\u00e7\u00e3o: Tone Mapping e\nBlooming. Elas controlam o n\u00edvel de ilumina\u00e7\u00e3o da cena. Os par\u00e2metros podem ser\nconfigurados pelo usu\u00e1rio a qualquer momento da simula\u00e7\u00e3o.\n\n\n\n4.7 INTERFACE DA APLICA\u00c7\u00c3O 37\n\n5. Neste conjunto de controles \u00e9 poss\u00edvel a sele\u00e7\u00e3o do tipo de mineral que ser\u00e1 misturado\n\n\u00e0 solu\u00e7\u00e3o saturada. Tamb\u00e9m \u00e9 poss\u00edvel definir a intensidade do mineral selecionado\n\nna solu\u00e7\u00e3o saturada, implicando em uma maior colora\u00e7\u00e3o dos espeleotemas. Maiores\n\ndetalhes sobre os tipos de minerais podem ser encontrados na se\u00e7\u00e3o 4.6 e na tabela da\n\nfigura 4.8.\n\n6. Os controles deste conjunto configuram a intensidade de rugosidade proveniente da t\u00e9c-\n\nnica de Normal Mapping. O controle Mineral Cave Tex controla o n\u00edvel de rugosidade\ndas paredes da caverna. Enquanto que o controle NormalMap Factor controla o n\u00edvel de\nrugosidade da superf\u00edcie dos espeleotemas em forma\u00e7\u00e3o.\n\n7. Este conjunto tem por finalidade a exibi\u00e7\u00e3o de informa\u00e7\u00f5es \u00fateis ao usu\u00e1rio, tais como:\n\nresolu\u00e7\u00e3o de tela atual, taxa de quadros por segundo (FPS), o tempo corrente desde o\n\nin\u00edcio da simula\u00e7\u00e3o, e a posi\u00e7\u00e3o da c\u00e2mera (do observador) no espa\u00e7o 3D.\n\n8. Este conjunto \u00e9 constitu\u00eddo por dois bot\u00f5es: Ativar/Desativar a visualiza\u00e7\u00e3o da simula\u00e7\u00e3o\n\nno modo tela cheia ou janela (fullscreen/windowed). A resolu\u00e7\u00e3o padr\u00e3o de exibi\u00e7\u00e3o \u00e9\n1024x768 pixels. O bot\u00e3o Render Options exibe diversas configura\u00e7\u00f5es referentes \u00e0 API\ndo Direct3D 10, tais como: vers\u00e3o da API, formatos de resolu\u00e7\u00e3o de tela e taxas de\n\natualiza\u00e7\u00e3o, escolha do adaptador de video (caso exista mais de um dispon\u00edvel), op\u00e7\u00e3o\n\npara modo fullscreen e windowed, formato do backbuffer, anti-aliasing e sincroniza\u00e7\u00e3o\nvertical (vsync).\n\n\n\n4.7 INTERFACE DA APLICA\u00c7\u00c3O 38\n\nFigura 4.9 Widgets de controle interativo de par\u00e2metros da simula\u00e7\u00e3o\n\n\n\nCAP\u00cdTULO 5\n\nResultados\n\nPara realizar grandes conquistas, devemos n\u00e3o apenas agir, mas tamb\u00e9m\nsonhar; n\u00e3o apenas planejar, mas tamb\u00e9m acreditar.\n\n\u2014ANATOLE FRANCE\n\nNeste cap\u00edtulo s\u00e3o apresentados os resultados gerados pelo modelo proposto. Os resultados\n\nconsistem em uma s\u00e9rie de imagens de espeleotemas, criados a partir de certas configura\u00e7\u00f5es\n\niniciais da simula\u00e7\u00e3o e que desenvolvem sua forma e apar\u00eancia com o decorrer da mesma.\n\nTodas as simula\u00e7\u00f5es foram realizadas em um Pentium D 2.8 GHz, 2GB RAM, placa de\n\nvideo NVIDIA\u2122 GeForce 8600 GT (necess\u00e1ria para utilizar as capacidades do novo pipeline\n\ngr\u00e1fico), rodando sob o Windows Vista\u00ae. A aplica\u00e7\u00e3o foi implementada em C++ [Str97],\n\njuntamente com a API do Direct3D 10\u00ae ( [Boy07] [Bly06]). Todos os arquivos de efeitos\n\n(shaders) foram implementados com HLSL (High Level Shading Language) ( [SL05] [Eng06]).\nA taxa de quadros da implementa\u00e7\u00e3o depende, em grande parte, da quantidade de espeleotemas\n\nque se deseja simular num determinado momento. Essa quantidade \u00e9 definida antes do in\u00edcio\n\nda simula\u00e7\u00e3o e permanece fixa at\u00e9 o t\u00e9rmino da mesma. Assim, a taxa de quadros por segundo\n\ndiminui \u00e0 medida que a quantidade de espeleotemas simulados aumenta. Outro fator impor-\n\ntante que interfere no desempenho da simula\u00e7\u00e3o \u00e9 o uso, principalmente, da custosa t\u00e9cnica\n\nde Tone Mapping/Blooming. Contudo, a taxa de quadros por segundo m\u00e9dia, obtida em cada\nsimula\u00e7\u00e3o, \u00e9 de 30 FPS. Ou seja, a aplica\u00e7\u00e3o mant\u00e9m um n\u00edvel de interatividade aceit\u00e1vel.\n\nAp\u00f3s o t\u00e9rmino de uma simula\u00e7\u00e3o, os valores computados de cada espeleotema simulado\n\ns\u00e3o armazenados em um arquivo externo. Estes dados, listados na tabela 5.1, podem ser usados\n\npara a cria\u00e7\u00e3o de gr\u00e1ficos individuais que mostram o valor de par\u00e2metros gerados pela simu-\n\nla\u00e7\u00e3o, durante o processo de crescimento de cada espeleotema. Dessa forma, pode-se visualizar\n\nas varia\u00e7\u00f5es de altura e raio de cada novo anel cristalino, inserido a cada time step (a cada 100\nanos) da simula\u00e7\u00e3o.\n\nA figura 5.1 mostra uma estalactite e uma estalagmite geradas durante uma simula\u00e7\u00e3o. S\u00e3o\n\nmostrados gr\u00e1ficos contendo os valores do Intervalo de Gotejamento e da Concentra\u00e7\u00e3o de\n\nCO2 que, quando combinados, geram valores para os par\u00e2metros Height e Radius, descritos\nnas se\u00e7\u00f5es 4.2 e 4.3. Os valores seguem as medidas estipuladas na tabela 4.2.\n\nA coluna exibida na figura 5.2 foi criada com a configura\u00e7\u00e3o de par\u00e2metros listada na tabela\n\n5.2, durante uma simula\u00e7\u00e3o. Trata-se da jun\u00e7\u00e3o de uma estalactite e uma estalagmite que se\n\ndesenvolveram com determinados valores rand\u00f4micos de Intervalo de Gotejamento e Concen-\n\ntra\u00e7\u00e3o de CO2 durante o mesmo intervalo de tempo dos espeleotemas mostrados na figura 5.1.\n\n39\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 40\n\nComo citado anteriormente, os espeleotemas das figuras 5.1 e 5.2 foram criados de forma\n\nrand\u00f4mica pela aplica\u00e7\u00e3o. Os valores para o Intervalo de Gotejamento e Concentra\u00e7\u00e3o de\n\nCO2 foram gerados a cada time step, de acordo com as poss\u00edveis combina\u00e7\u00f5es mostradas na\ntabela 4.2. Estes valores s\u00e3o mostrados nas tabelas 5.1 e 5.2, respectivamente. Entretanto, \u00e9\n\nimportante salientar que o usu\u00e1rio pode criar de maneira manual os mesmos espeleotemas, se\natribuir a cada time step, os valores das tabelas 5.1 e 5.2 aos controles interativos da interface\nda aplica\u00e7\u00e3o, referentes aos par\u00e2metros de Intervalo de Gotejamento e Concentra\u00e7\u00e3o de CO2.\n\nA figura 5.4 sumariza outros resultados obtidos com as simula\u00e7\u00f5es, descritas como segue:\n\nA figura 5.4 (a) mostra estalactites criadas com valores rand\u00f4micos para os par\u00e2metros\n\nHeight e Radius, baseado nos par\u00e2metros da tabela 4.2 (Par\u00e2metros de controle do crescimento\nde espeleotemas).\n\nA figura 5.4 (b) mostra o crescimento de estalactites com a concentra\u00e7\u00e3o de CO2 em n\u00edvel\nNORMAL, enquanto que os demais par\u00e2metros tem seus valores vari\u00e1veis durante toda a\n\nsimula\u00e7\u00e3o. Com esta configura\u00e7\u00e3o, as estalactites mant\u00e9m um padr\u00e3o de crescimento de 1\n\ncm/s\u00e9culo, como descrito na se\u00e7\u00e3o 4.3.\n\nNa figura 5.4 (c) a concentra\u00e7\u00e3o de CO2 foi fixada no n\u00edvel LOW. Novamente os demais\npar\u00e2metros variam seus valores durante toda a simula\u00e7\u00e3o. Com esta configura\u00e7\u00e3o, \u00e9 poss\u00edvel\n\nobservar que a altura dos espeleotemas \u00e9 menor devido as baixas taxas de CO2 na solu\u00e7\u00e3o\nsaturada.\n\nA figura 5.4 (d) mostra o crescimento de estalactites com a concentra\u00e7\u00e3o de CO2 em n\u00edvel\nHIGH durante toda a simula\u00e7\u00e3o de crescimento. Esta configura\u00e7\u00e3o constante \u00e9 prop\u00edcia para a\n\ncria\u00e7\u00e3o do tipo de espeleotema denominado Soda Straws.\nA figura 5.4 (e) mostra estalagmites resultantes de um intervalo de gotejamento em n\u00edvel\n\nDRY e concentra\u00e7\u00e3o de CO2 em n\u00edvel NORMAL durante toda a simula\u00e7\u00e3o. Durante a simu-\nla\u00e7\u00e3o, pode ocorrer a jun\u00e7\u00e3o de uma estalactite com uma estalagmite. Essa uni\u00e3o gera um\n\nespeleotema denominado coluna.\n\nA figura 5.4 (f) representa uma coluna criada a partir dos controles interativos da interface,\n\nna qual o usu\u00e1rio atribui valores para o Intervalo de Gotejamento e para a Concentra\u00e7\u00e3o de\n\nCO2 a cada time step da simula\u00e7\u00e3o, utilizando os controles interativos da interface descritos na\nse\u00e7\u00e3o 4.7.\n\nAs figuras 5.4 (g) e (h) mostram ambas estalactites e estalagmites criadas a partir de valores\n\nrand\u00f4micos, gerados pela aplica\u00e7\u00e3o em tempo de execu\u00e7\u00e3o, a cada time step da simula\u00e7\u00e3o.\nQuanto \u00e0 apar\u00eancia, nas figuras 5.4 (a, b, c, f) o mineral que \u00e9 misturado na solu\u00e7\u00e3o saturada\n\n\u00e9 o calc\u00e1rio. Dessa forma, a cor predominante nos espeleotemas \u00e9 branca. Nas figuras 5.4 (e,\n\ng) o mineral predominante \u00e9 o ferro, gerando colora\u00e7\u00e3o vermelha e amarela nos espeleotemas.\n\nNas figuras 5.4 (d, h) a cor dos espeleotemas \u00e9 azul-esverdeado devido \u00e0 presen\u00e7a de malaquita\n\nna solu\u00e7\u00e3o saturada. A figura 5.5 (a) mostra colora\u00e7\u00e3o t\u00edpica do mangan\u00eas.\n\nA figura 5.3 mostra duas simula\u00e7\u00f5es distintas e um gr\u00e1fico com os valores da varia\u00e7\u00e3o de\n\ndire\u00e7\u00e3o e da intensidade da corrente de ar dentro da caverna. Na figura 5.3 (a), as estalactites\n\nse formaram sem a presen\u00e7a de ar durante todo o processo de crescimento. O gr\u00e1fico para esse\n\nespeleotema mostra uma linha cont\u00ednua, indicando a aus\u00eancia da circula\u00e7\u00e3o de ar. Por outro\n\nlado, a figura 5.3 (b) mostra estalactites onde a dire\u00e7\u00e3o da circula\u00e7\u00e3o de ar variou muito durante\n\nsua fase de crescimento. As irregularidades em sua estrutura s\u00e3o vis\u00edveis. Da mesma maneira,\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 41\n\ndiferentemente da figura 5.5 (a), as figuras 5.5 (b) e (c) mostram estalactites de malaquita, onde\n\na presen\u00e7a de circula\u00e7\u00e3o de ar no ambiente cavern\u00edcola, descrito na se\u00e7\u00e3o 4.4.2, deformou as\n\nformas geom\u00e9tricas, criando superf\u00edcies com maior grau de irregularidades.\n\nAs figuras apresentadas na figura 5.6 mostram a estrutura de alguns espeleotemas em modo\n\nsolid e em modo wireframe. \u00c9 poss\u00edvel observar nessas figuras, a baixa quantidade de pol\u00edgonos\ngerada na cria\u00e7\u00e3o da estrutura dos espeleotemas, durante as simula\u00e7\u00f5es do modelo proposto.\n\nPode-se observar tamb\u00e9m, as deformidades realizadas em suas superf\u00edcies pela utiliza\u00e7\u00e3o da\n\nt\u00e9cnica de Normal Mapping e do fator de solidifica\u00e7\u00e3o da solu\u00e7\u00e3o saturada (se\u00e7\u00e3o 4.4.1), que\ndesloca alguns v\u00e9rtices que comp\u00f5em a estrutura dos espeleotemas, criando deforma\u00e7\u00f5es adi-\n\ncionais. Por exemplo, nas figuras 5.6 (a) e (b), pode-se notar a aplica\u00e7\u00e3o do fator de solid-\n\nifica\u00e7\u00e3o da solu\u00e7\u00e3o saturada, observando que alguns v\u00e9rtices que comp\u00f5em a estrutura dos\n\nespeleotemas foram transladados. As figuras 5.6 (c) e (d), mostram deforma\u00e7\u00f5es da estrutura\n\nde estalactites criadas pela presen\u00e7a de circula\u00e7\u00e3o de ar no ambiente cavern\u00edcola (se\u00e7\u00e3o 4.4.2),\n\nem modo solid e wireframe respectivamente. As figuras 5.6 (e) e (f) mostram a estrutura de\nestalactites e estalagmites em modo solid e wireframe respectivamente.\n\nA figura 5.7 mostra as varia\u00e7\u00f5es poss\u00edveis de visualiza\u00e7\u00e3o dos espeleotemas. A figura 5.7\n\n(a) apresenta estalactites em modo wireframe. A figura 5.7 (b), mostra um mapa de textura\n\nsimples, aplicado atrav\u00e9s de coordenadas cil\u00edndricas na superf\u00edcie das estalactites. Ainda nessa\n\nmesma figura, \u00e9 poss\u00edvel observar a distribui\u00e7\u00e3o da colora\u00e7\u00e3o do mineral aplicada linerarmente\n\naos v\u00e9rtices que comp\u00f5em a estrutura dos espeleotemas (se\u00e7\u00e3o 4.6). A figura 5.7 (c) mostra o\n\nefeito causado pela adi\u00e7\u00e3o das t\u00e9cnicas de Normal Mapping, Environment Mapping e Bloom-\ning, que definem a apar\u00eancia final dos espeleotemas.\n\nComparado com o trabalho realizado por Yang e Ouhyoung [OY93, YO92], nosso modelo\n\nfaz uso de par\u00e2metros reais para controlar a forma e a apar\u00eancia dos espeleotemas criados\n\ndurante as simula\u00e7\u00f5es. Nosso modelo apresenta uma melhora significante na qualidade visual\n\ne tamb\u00e9m cria uma forma simples com uma quantidade baixa de pol\u00edgonos, tirando vantagem\n\ndo uso do est\u00e1gio de GS e de t\u00e9cnicas como Normal Mapping. Nossa abordagem \u00e9 plaus\u00edvel\ncom o crescimento real de espeleotemas.\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 42\n\nTabela 5.1 Dados da Estalactite e Estalagmite da figura 5.1\nEstalactite\n\nIdade (anos) Drip Int. CO2 Conc. Radius Height\n0 - - - -\n\n100 - HIGH same TCE*2\n\n200 - HIGH same TCE*2\n\n300 - NORMAL decrease x1 TCE\n\n400 - NORMAL decrease x1 TCE\n\n500 - NORMAL decrease x1 TCE\n\n600 - LOW decrease x2 TCE/2\n\n700 - LOW decrease x2 TCE/2\n\n800 - HIGH same TCE*2\n\n900 - HIGH same TCE*2\n\n1000 - HIGH same TCE*2\n\n1100 - LOW decrease x2 TCE/2\n\n1200 - LOW decrease x2 TCE/2\n\n1300 - HIGH same TCE*2\n\n1400 - NORMAL decrease x1 TCE\n\nEstalagmite\nIdade (anos) Drip Int. CO2 Conc. Radius Height\n\n0 - - - -\n\n100 DRY HIGH decrease x1 TCE*2\n\n200 DRY HIGH decrease x1 TCE*2\n\n300 STANDARD NORMAL same TCE\n\n400 STANDARD NORMAL same TCE\n\n500 STANDARD LOW same TCE/2\n\n600 WET LOW increase x1 TCE/2\n\n700 DRY HIGH decrease x1 TCE*2\n\n800 DRY NORMAL decrease x1 TCE\n\n900 DRY NORMAL decrease x1 TCE\n\n1000 STANDARD NORMAL same TCE\n\n1100 STANDARD NORMAL same TCE\n\n1200 STANDARD LOW same TCE/2\n\n1300 WET NORMAL increase x1 TCE\n\n1400 WET HIGH increase x1 TCE*2\n\n1500 WET HIGH increase x1 TCE*2\n\n1600 DRY HIGH decrease x1 TCE*2\n\n1700 DRY HIGH decrease x1 TCE*2\n\n1800 STANDARD NORMAL same TCE\n\n1900 STANDARD NORMAL same TCE\n\n2000 STANDARD NORMAL same TCE\n\n2100 WET LOW increase x1 TCE/2\n\n2200 WET LOW increase x1 TCE/2\n\n2300 WET HIGH increase x1 TCE*2\n\n2400 DRY LOW decrease x1 TCE/2\n\n2500 DRY HIGH decrease x1 TCE*2\n\nMixed Mineral Type: Calcareous\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 43\n\nFigura 5.1 Gr\u00e1ficos gerados com dados obtidos durante a simula\u00e7\u00e3o - Parte 1\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 44\n\nTabela 5.2 Dados da Coluna exibida na figura 5.2\nEstalactite\n\nIdade (anos) Drip Int. CO2 Conc. Radius Height\n0 - - - -\n\n100 - LOW decrease x2 TCE/2\n\n200 - HIGH same TCE*2\n\n300 - NORMAL decrease x1 TCE\n\n400 - NORMAL decrease x1 TCE\n\n500 - NORMAL decrease x1 TCE\n\n600 - NORMAL decrease x1 TCE\n\n700 - NORMAL decrease x1 TCE\n\n800 - HIGH same TCE*2\n\n900 - LOW decrease x2 TCE/2\n\n1000 - HIGH same TCE*2\n\n1100 - HIGH same TCE*2\n\n1200 - NORMAL decrease x1 TCE\n\n1300 - NORMAL decrease x1 TCE\n\n1400 - NORMAL decrease x1 TCE\n\n1500 - LOW decrease x2 TCE/2\n\nEstalagmite\nIdade (anos) Drip Int. CO2 Conc. Radius Height\n\n0 - - - -\n\n100 WET LOW increase x1 TCE/2\n\n200 WET LOW increase x1 TCE/2\n\n300 DRY HIGH decrease x1 TCE*2\n\n400 DRY HIGH decrease x1 TCE*2\n\n500 STANDARD NORMAL same TCE\n\n600 STANDARD NORMAL same TCE\n\n700 WET LOW increase x1 TCE/2\n\n800 DRY HIGH decrease x1 TCE*2\n\n900 DRY HIGH decrease x1 TCE*2\n\n1000 DRY HIGH decrease x1 TCE*2\n\n1100 STANDARD NORMAL same TCE\n\n1200 STANDARD NORMAL same TCE\n\n1300 WET LOW increase x1 TCE/2\n\n1400 WET LOW increase x1 TCE/2\n\n1500 WET HIGH increase x1 TCE*2\n\n1600 DRY HIGH decrease x1 TCE*2\n\n1700 STANDARD NORMAL same TCE\n\n1800 STANDARD NORMAL same TCE\n\n1900 WET LOW increase x1 TCE/2\n\n2000 WET HIGH increase x1 TCE*2\n\n2100 DRY HIGH decrease x1 TCE*2\n\n2200 DRY HIGH decrease x1 TCE*2\n\n2300 DRY NORMAL decrease x1 TCE\n\n2400 STANDARD NORMAL same TCE\n\n2500 STANDARD LOW same TCE/2\n\nMixed Mineral Type: Iron\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 45\n\nFigura 5.2 Gr\u00e1ficos gerados com dados obtidos durante a simula\u00e7\u00e3o - Parte 2\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 46\n\nFigura 5.3 Efeito da presen\u00e7a de circula\u00e7\u00e3o de ar no ambiente cavern\u00edcola\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 47\n\nFigura 5.4 Espeleotemas virtuais - parte 1\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 48\n\nFigura 5.5 Espeleotemas virtuais - parte 2\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 49\n\nFigura 5.6 Espeleotemas em modo solid/wireframe\n\n\n\nCAP\u00cdTULO 5 RESULTADOS 50\n\nFigura 5.7 Formas de visualiza\u00e7\u00e3o dos espeleotemas\n\n\n\nCAP\u00cdTULO 6\n\nConsidera\u00e7\u00f5es Finais e Trabalhos Futuros\n\nAlguns dos resultados apresentados neste trabalho, bem como uma descri\u00e7\u00e3o mais simplificada\ndo modelo proposto, podem ser encontrados no artigo [TW09]. Este trabalho apresentou um\nmodelo para g\u00eanese e crescimento de espeleotemas em tempo-real, baseado em par\u00e2metros\ngeol\u00f3gicos reais do crescimento de espeleotemas. Mostramos tamb\u00e9m, a poderosa capacidade\nde amplifica\u00e7\u00e3o de geometrias dos est\u00e1gios de Geometry-Shader e Stream-Output, presentes na\nnova arquitetura do pipeline gr\u00e1fico da nova gera\u00e7\u00e3o de GPUs. Tornou-se claro que a presen\u00e7a\ndestes dois novos est\u00e1gios do pipeline gr\u00e1fico se torna uma rica fonte de explora\u00e7\u00e3o para novas\nmaneiras de se criar geometrias em tempo-real. Entretanto, h\u00e1 muito o que ser explorado neste\nassunto, n\u00e3o somente na simula\u00e7\u00e3o do fen\u00f4meno natural de crescimento de espeleotemas (que\n\u00e9 muito rico em informa\u00e7\u00f5es e diversidades de tipos), mas tamb\u00e9m, no lado da aplica\u00e7\u00e3o dos\nnovos est\u00e1gios do pipeline. Conclu\u00edmos que os resultados finais foram satisfat\u00f3rios comparados\ncom as formas reais dos espeleotemas encontrados na natureza.\n\nComo trabalhos futuros, salientamos que o modelo pode ser melhorado, levando em conta\nos seguintes aspectos:\n\n\u2022 Gera\u00e7\u00e3o de uma gama maior de tipos de espeleotemas, visto que a diversidade de tipos\nencontrada na natureza \u00e9 muito grande, como pode ser visto nas figuras 2.4 e 6.1. Dessa\nforma, poder\u00e1 ser adicionada a cria\u00e7\u00e3o de espeleotemas que utilizam outros mecanismos\nde forma\u00e7\u00e3o, al\u00e9m do mecanismo de gotejamento que \u00e9 utilizado neste modelo. Por e-\nxemplo, o mecanismo de escorrimento \u00e9 o respons\u00e1vel pela forma\u00e7\u00e3o de espeleotemas do\ntipo Cortinas (Draperies), mostrados na figura 6.1 (g). Outro mecanismo \u00e9 o dep\u00f3sito em\n\u00e1guas estagnadas, que formam espeleotemas a partir de deposi\u00e7\u00e3o de minerais nas pare-\ndes submersas ou superficiais dos represamentos de \u00e1gua existentes nas cavernas. Um\ntipo de espeleotema criado a partir desse mecanismo s\u00e3o as P\u00e9rolas (pearls), mostradas\nna figura 6.1 (h).\n\n\u2022 Estender o modelo para a cria\u00e7\u00e3o de cavernas, inspirado no trabalho apresentado por\n[LF04], descrito no cap\u00edtulo 3. Assim, ser\u00e1 poss\u00edvel ao usu\u00e1rio, criar previamente um\nambiente cavern\u00edcola para ap\u00f3s inserir os espeleotemas e iniciar uma simula\u00e7\u00e3o. Com\nessa possibilidade, poder\u00e3o ser criados tamb\u00e9m obst\u00e1culos para a forma\u00e7\u00e3o de certos\nespeleotemas, como as helictites mostradas na figura 6.1 (c) e (d). As helictites possuem a\npropriedade de desafiar a lei da gravidade, desviando obst\u00e1culos durante a sua forma\u00e7\u00e3o.\n\n\u2022 S\u00e3o necess\u00e1rias melhorias no modelo de ilumina\u00e7\u00e3o global para aumentar o desempenho\nda aplica\u00e7\u00e3o e prover uma melhor qualidade gr\u00e1fica. Apesar das t\u00e9cnicas de HDR usadas\nno modelo, n\u00e3o foram exploradas algumas das propriedades \u00f3ticas da calcita como a\n\n51\n\n\n\nCAP\u00cdTULO 6 CONSIDERA\u00c7\u00d5ES FINAIS E TRABALHOS FUTUROS 52\n\ndispers\u00e3o de luz ao passar pela estrutura dos espeleotemas. O trabalho apresentado por\n[Bal09], descrito no cap\u00edtulo 3, nos inspirou para adicionar essas melhorias. A adi\u00e7\u00e3o de\nsombras projetadas e reflex\u00f5es mais reais tamb\u00e9m entram nessas melhorias propostas.\n\n\u2022 Adi\u00e7\u00e3o de transpar\u00eancia, descrita na se\u00e7\u00e3o 2.6, na estrutura dos espeleotemas. Com\ntranspar\u00eancia, ser\u00e1 poss\u00edvel a cria\u00e7\u00e3o de Icicles (estalacites de gelo), mostradas na figura\n6.1 (a) e (b). Outro espeleotema que pode utilizar desse recurso \u00e9 o Pool Spar, que pode\nser visto na figura 6.1 (f).\n\n\u2022 A exibi\u00e7\u00e3o do fluxo e precipita\u00e7\u00e3o de \u00e1gua na superf\u00edcie dos espeleotemas, para simular\no gotejamento entre uma estalactite e uma estalagmite. Uma simula\u00e7\u00e3o f\u00edsica de fluidos\nseria algo a ser explorado, aumentando assim o grau de realismo das simula\u00e7\u00f5es. A\nforma\u00e7\u00e3o da gota de solu\u00e7\u00e3o saturada pode ser vista nas figuras 6.1 (a) e 2.4 (h). A\ninclus\u00e3o de uma biblioteca para simula\u00e7\u00e3o de f\u00edsica que possua o recurso de simula\u00e7\u00e3o\nde fluidos \u00e9 cogitada, como por exemplo, a PhysX\u00ae da NVIDIA\u2122 [NVI].\n\n\n\nCAP\u00cdTULO 6 CONSIDERA\u00c7\u00d5ES FINAIS E TRABALHOS FUTUROS 53\n\nFigura 6.1 Tipos de Espeleotemas Reais\n\n\n\nRefer\u00eancias Bibliogr\u00e1ficas\n\n[Ash02] Michael Ashikhmin. A tone mapping algorithm for high contrast images. In\nEGRW \u201902: Proceedings of the 13th Eurographics workshop on Rendering, pages\n145\u2013156, Aire-la-Ville, Switzerland, Switzerland, 2002. Eurographics Associa-\ntion.\n\n[BA05a] Fares Belhadj and Pierre Audibert. Modeling landscapes with ridges and rivers.\nIn VRST \u201905: Proceedings of the ACM symposium on Virtual reality software and\ntechnology, pages 151\u2013154, New York, NY, USA, 2005. ACM.\n\n[BA05b] B. Benes and X. Arriaga. Table mountains by virtual erosion. Eurographics\nWorkshop on Natural Phenomena, pages 33\u201339, 2005.\n\n[Bal09] Kavita Bala. Rendering stalactite and stalagmite formation.\nhttp://www.cs.cornell.edu/ kb/6.891/render.html, 2009.\n\n[BBFS01] Philip Van Beynen, Rick Bourbonniere, Derek Ford, and Henry Schwarcz. Causes\nof colour and fluorescence in speleothems. Chemical Geology, 175(3-4):319\u2013341,\n2001.\n\n[Bel07] Far\u00e8s Belhadj. Terrain modeling: a constrained fractal model. In AFRIGRAPH\n\u201907: Proceedings of the 5th international conference on Computer graphics, vir-\ntual reality, visualisation and interaction in Africa, pages 197\u2013204, New York,\nNY, USA, 2007. ACM.\n\n[BFN+92] S. Bhattacharji, G. M. Friedman, H. J. Neugebauer, R. Pflug, A. Adolf Selacher,\nand John W. Harbaugh, editors. Computer Graphics in Geology: Three-\nDimensional Computer Graphics in Modeling Geologic Structures and Simulat-\ning Geologic Processes. Springer-Verlag New York, Inc., Secaucus, NJ, USA,\n1992.\n\n[BGMR83] James Blinn, Julian Gomez, Nelson Max, and William Reeves. The simulation of\nnatural phenomena (panel session). SIGGRAPH Comput. Graph., 17(3):137\u2013139,\n1983. Chairman-Charles A. Csuri.\n\n[BGS98] A. Baker, D. Genty, and P.L. Smart. High-resolution records of soil humification\nand paleoclimate change from variations in speleothem luminescence excitation\nand emission wavelengths. Geology, 26:903\u2013906, 1998.\n\n54\n\n\n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS 55\n\n[Bly06] D. Blythe. The direct3d 10 system. Proceedings of ACM SIGGRAPH 2006,\n25(3):724\u2013734, 2006.\n\n[BN76] James F. Blinn and Martin E. Newell. Texture and reflection in computer gener-\nated images. Commun. ACM, 19(10):542\u2013547, 1976.\n\n[BNL06] Antoine Bouthors, Fabrice Neyret, and Sylvain Lefebvre. Real-time realistic illu-\nmination and shading of stratiform clouds. In Eurographics Workshop on Natural\nPhenomena, pages 41\u201350, September 2006.\n\n[Boy07] C. Boyd. The direct3d 10 pipeline. ACM SIGGRAPH 2007 courses, pages 52\u2013\n109, 2007.\n\n[CMSR98] P. Cignoni, C. Montani, R. Scopigno, and C. Rocchini. A general method for\npreserving attribute values on simplified meshes. In VIS \u201998: Proceedings of the\nconference on Visualization \u201998, pages 59\u201366, Los Alamitos, CA, USA, 1998.\nIEEE Computer Society Press.\n\n[COM98] Jonathan Cohen, Marc Olano, and Dinesh Manocha. Appearance-preserving sim-\nplification. In SIGGRAPH \u201998: Proceedings of the 25th annual conference on\nComputer graphics and interactive techniques, pages 115\u2013122, New York, NY,\nUSA, 1998. ACM.\n\n[CTHD01] Jonathan Cohen, Chris Tchou, Tim Hawkins, and Paul E. Debevec. Real-time high\ndynamic range texture mapping. In Proceedings of the 12th Eurographics Work-\nshop on Rendering Techniques, pages 313\u2013320, London, UK, 2001. Springer-\nVerlag.\n\n[DEL+99] Julie Dorsey, Alan Edelman, Justin Legakis, Henrik Wann Jensen, and Hans K\u00f8h-\nling Pedersen. Modeling and rendering of weathered stone. In Proceedings\nof SIGGRAPH 99, Computer Graphics Proceedings, Annual Conference Series,\npages 225\u2013234, August 1999.\n\n[Eng06] W. Engel. ShaderX4: Advanced Rendering Techniques. Charles River Media,\n2006.\n\n[Gas77] M. Gascoyne. Trace element geochemistry of speleothems. Proc. 7th Int. Speleo.\nCong., pages 205\u2013208, 1977.\n\n[GM54] J.R. Gilson and E. MacCarthney. Luminescence in speleothems from devon, uk:\nthe presence of organic activators. Ashford Speleol. Soc. J., 6:8\u201311, 1954.\n\n[HF97] Carol Hill and Paolo Forti. Cave Minerals of the World. Natl Speleological Soci-\nety, 1997.\n\n[HFR06] William Van Haevre, Fabian Di Fiore, and Frank Van Reeth. Physically-based\ndriven tree animations. Eurographics Workshop on Natural Phenomena, pages\n75\u201382, 2006.\n\n\n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS 56\n\n[HS99] Wolfgang Heidrich and Hans-Peter Seidel. Realistic, hardware-accelerated shad-\ning and lighting. In SIGGRAPH \u201999: Proceedings of the 26th annual conference\non Computer graphics and interactive techniques, pages 171\u2013178, New York, NY,\nUSA, 1999. ACM Press/Addison-Wesley Publishing Co.\n\n[JIRL01] Kathleen R. Johnson, B. Lynn Ingram, E. Brendan Roark, and\nGeraldine Lamble. Major and minor element variations in\nspeleothems as a high resolution paleoclimatic record. www-\nals.lbl.gov/als/compendium/AbstractManager/uploads/johnson.pdf, 2001.\n\n[Jr.79] W. Dungan Jr. A terrain and cloud computer image generation model. In Com-\nputer Graphics (Proceedings of SIGGRAPH 79), pages 143\u2013150, August 1979.\n\n[Kau03] Georg Kaufmann. Stalagmite growth and palaeo-climate: the numerical perspec-\ntive. Earth and Planetary Science Letters, 214(1-2):251\u2013266, 2003.\n\n[LF04] Jason Lawrence and Thomas Funkhouser. A painting interface for interactive\nsurface deformations. Graph. Models, 66(6):418\u2013438, 2004.\n\n[LFS86] S.E. Lauritzen, D.C. Ford, and H.P. Schwarcz. Humic substances in speleothem\nmatrix, paleoclimate significance. Proc. 9th Int. Cong. Speleology, pages 77\u201379,\n1986.\n\n[Lin01] Clayton F. Lino. Cavernas: O Fascinante Brasil Subterr\u00e2neo. Gaia, S\u00e3o Paulo,\n2001.\n\n[LKR+96] Peter Lindstrom, David Koller, William Ribarsky, Larry F. Hodges, Nick Faust,\nand Gregory A. Turner. Real-time, continuous level of detail rendering of height\nfields. In SIGGRAPH \u201996: Proceedings of the 23rd annual conference on Com-\nputer graphics and interactive techniques, pages 109\u2013118, New York, NY, USA,\n1996. ACM.\n\n[Lue03] David P. Luebke, editor. Level of Detail for 3D Graphics: application and theory.\nMorgan Kaufmann, 2003.\n\n[MH76] G. S. Miller and C. R. Hoffman. Illumination and reflection maps: Simulated\nobjects in simulated and real environments. SIGGRAPH \u201984 Advanced Computer\nGraphics Animation seminar notes, 1976.\n\n[MH99] T. Moller and E. Haines. Real-Time Rendering - 1st Edition. AK Peters, Ltd,\n1999.\n\n[Mil86] Gavin S. P. Miller. The definition and rendering of terrain maps. In Computer\nGraphics (Proceedings of SIGGRAPH 86), pages 39\u201348, August 1986.\n\n\n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS 57\n\n[MKM89] F. K. Musgrave, C. E. Kolb, and R. S. Mace. The synthesis and rendering of\neroded fractal terrains. In SIGGRAPH \u201989: Proceedings of the 16th annual confer-\nence on Computer graphics and interactive techniques, pages 41\u201350, New York,\nNY, USA, 1989. ACM.\n\n[MM07] KyungHa Min and Dimitris Metaxas. A combustion-based technique for fire an-\nimation and visualization. The Visual Computer, 23(9-11):679\u2013687, September\n2007.\n\n[NVI] NVIDIA. Physx. http://developer.nvidia.com/object/physx.html.\n\n[NWD05] B. Neidhold, M. Wacker, and O. Deussen. Interactive physically based fluid and\nerosion simulation. Eurographics Workshop on Natural Phenomena, pages 25\u2013\n32, 2005.\n\n[OY93] M. Ouhyoung and C. Yang. The synthesis of a cavern with eroded stalactites\nand stalagmites. Proc. of CAD/Graphics\u201993, New Advances in Computer Aided\nDesign and Computer Graphics, 1993.\n\n[RJG06] Pierre Rousseau, Vincent Jolivet, and Djamchid Ghazanfarpour. Realistic real-\ntime rain rendering. Computers &amp; Graphics, 30(4):507\u2013518, August 2006.\n\n[Ros06] R. J. Rost. OpenGL Shading Language, 2nd Edition. Addison-Wesley Profes-\nsional, 2006.\n\n[SBB+05] Martin B. Short, James C. Baygents, J. Warren Beck, David A. Stone, Rickard\nS. Toomey III, and Raymond E. Goldstein. Stalactite growth as a free-boundary\nproblem: A geometric law and its platonic ideal. Phys. Rev. Lett., 94(018510),\n2005.\n\n[SBG05] Martin B. Short, James C. Baygents, and Raymond E. Goldstein. Stalactite growth\nas a free-boundary problem. Physics of Fluids, 17(8), 2005.\n\n[SBG06] Martin B. Short, James C. Baygents, and Raymond E. Goldstein. A free-boundary\ntheory for the shape of the ideal dripping icicle. Physics of Fluids, 18(8), 2006.\n\n[SFS94] Y.Y. Shopov, D.C. Ford, and H.P. Schwarcz. Luminescence microbanding in\nspeleothems: high resolution chronology and paleoclimate. Geology, 22:407\u2013\n410, 1994.\n\n[SH03] Charles A. Self and Carol A. Hill. How speleothems grow: An introduction to the\nontogeny of cave minerals. Journal of Cave and Karst Studies, 65(2):130\u2013151,\n2003.\n\n[SHP03] Brabec Stefan and Seidel Hans-Peter. Shadow volumes on programmable graph-\nics hardware. Computer Graphics Forum, 22(3):433\u2013440, 2003.\n\n\n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS 58\n\n[SL95] K. Szilder and E.P. Lozowski. Simulation of icicle growth using a three-\ndimensional random walk model. Atmospheric Research, 36(3-4):243\u2013249, 1995.\n\n[SL05] Sebastien St-Laurent. The COMPLETE Effect and HLSL Guide. Paradoxal Press,\n2005.\n\n[SP94] Francois Sillion and Claude Puech. Radiosity and Global Illumination. Morgan\nKaufmann, New York, 1994.\n\n[Str97] B. Stroustrup. The C++ Programming Language. AT and T Labs, 1997.\n\n[TW07] Daniel Menin Tortelli and Marcelo Walter. Implementa\u00e7\u00e3o da t\u00e9cnica de displace-\nment mapping em hardware gr\u00e1fico. SBGames 2007 - VI Brazilian Symposium on\nComputer Games and Digital Entertainment, 2007.\n\n[TW09] Daniel Menin Tortelli and Marcelo Walter. Modeling and rendering the genesis\nand growth of speleothems in real-time. International Conference on Computer\nGraphics Theory and Applications, Proceedings of the International Joint Con-\nference on Computer Vision, Imaging and Computer Graphics Theory and Appli-\ncations, pages 27\u201334, 2009.\n\n[WB89] W.B. White and E.S. Brennan. Luminescence of speleothems due to fulvic acid\nand other activators. Proc. 10th Int. Cong. Speleology, pages 212\u2013214, 1989.\n\n[WCMT07] Chris Wojtan, Mark Carlson, Peter Mucha, and Greg Turk. Animating corrosion\nand erosion. Eurographics Workshop on Natural Phenomena, 2007.\n\n[YO92] C. Yang and M. Ouhyoung. A stalactite cave by stochastic modeling with radiosity\nillumination. Proc. of 1992 International Computer Symposium, 1992.\n\n\n\tDANIEL.CIN2.2009.pdf\n\tDANIEL.CIN21.2009.pdf"}]}}}