{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.09342"}, {"@name": "filename", "#text": "14325_2010001038.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "Universidade de Aveiro\n2009\nDepartamento de Electr\u00f3nica, Telecomunica\u00e7\u00f5es e Inform\u00e1tica\nV\u00edtor Morgado Ribeiro\nEolitor: Sistema de gera\u00e7\u00e3o e\u00f3lica\nmonitoriza\u00e7\u00e3o em micro-\nV\u00edtor Morgado Ribeiro\nEolitor: Sistema de monitoriza\u00e7\u00e3o em micro-gera\u00e7\u00e3o e\u00f3lica\nDisserta\u00e7\u00e3o apresentada \u00e0 Universidade de Aveiro para cumprimento dos requisitos necess\u00e1rios \u00e0 obten\u00e7\u00e3o do grau de Mestre em Engenharia Electr\u00f3nica e de Telecomunica\u00e7\u00f5es (Mestrado Integrado), realizada sob a orienta\u00e7\u00e3o cient\u00edfica do Prof. Doutor Jo\u00e3o Paulo Cunha - Professor Associado do Departamento de Electr\u00f3nica, Telecomunica\u00e7\u00f5es e Inform\u00e1tica da Universidade de Aveiro e do Prof. Doutor Bernardo Cunha - Professor Auxiliar do Departamento de Electr\u00f3nica, Telecomunica\u00e7\u00f5es e Inform\u00e1tica da Universidade de Aveiro.\nUniversidade de Aveiro\nUniversidade de Aveiro\nii\nUniversidade de Aveiro\niv\no j\u00fari\npresidente\tProf. Doutor Dinis Gomes Magalh\u00e3es Santos Professor Catedr\u00e1tico da Universidade de Aveiro\nvogal arguente\tProf. Doutor Lu\u00eds Paulo Gon\u00e7alves dos Reis Professor Auxiliar da Faculdade de Engenharia da Universidade do Porto\nvogal orientador\tProf. Doutor Jo\u00e3o Paulo Trigueiros da Silva Cunha Professor Associado da Universidade de Aveiro\nvogal co-orientador\tProf. Doutor Manuel Bernardo Salvador Cunha Professor Auxiliar da Universidade de Aveiro\nUniversidade de Aveiro\nvi\nAos Professores Jo\u00e3o Paulo Cunha e Bernardo Cunha pela orienta\u00e7\u00e3o em todo o processo de elabora\u00e7\u00e3o deste trabalho;\nAo colega David Ribeiro por toda a disponibilidade, colabora\u00e7\u00e3o e sugest\u00f5es apresentadas;\nAos meus Pais e Av\u00f3s por toda a for\u00e7a que obtive deles;\nAos meus Irm\u00e3os por estarem sempre presentes;\n\u00c0 minha namorada por toda a paci\u00eancia, apoio e ajuda;\nPor \u00faltimo, aos meus amigos Pedro Gaspar, Ricardo Matos, Rui Rebelo, Marco Oliveira, Nelson Medina e Nuno Balula por toda a amizade e estima;\nagradecimentos\nUniversidade de Aveiro\nviii\nNos \u00faltimos anos tem ocorrido um aumento gradual do interesse na utiliza\u00e7\u00e3o de fontes renov\u00e1veis para a produ\u00e7\u00e3o de energia el\u00e9ctrica. Uma das raz\u00f5es principais em destaque foi a necessidade de encontrar alternativas que ajudem a reduzir a depend\u00eancia dos combust\u00edveis f\u00f3sseis, devido \u00e1 sua limita\u00e7\u00e3o f\u00edsica, o seu elevado custo, e por serem muito poluentes. Na base desta mudan\u00e7a de paradigma est\u00e3o os graves problemas ambientais causados pela emiss\u00e3o de gases de efeito de estufa e a grave crise energ\u00e9tica de petr\u00f3leo e seus derivados.\nAs energias renov\u00e1veis s\u00e3o um novo aux\u00edlio no combate ao aquecimento global. A instala\u00e7\u00e3o de sistemas produtores de energia el\u00e9ctrica a partir de fontes renov\u00e1veis tem aumentado, tanto a n\u00edvel dom\u00e9stico, sob a forma de pequenos sistemas de produ\u00e7\u00e3o de energia, mas sobretudo a n\u00edvel industrial com a instala\u00e7\u00e3o de parques e\u00f3licos capazes de gerarem quantidades abundantes de MW.\nO sistema Eolitor surgiu da necessidade de monitorizar o comportamento de um Aerogerador de pequeno porte instalado pela Universidade de Aveiro no seu campus universit\u00e1rio. Esta iniciativa foi concebida de acordo com as necessidades actuais da sociedade, e tem como objectivo verificar a viabilidade de produ\u00e7\u00e3o de energia e\u00f3lica no \u00e2mbito da Investiga\u00e7\u00e3o e Desenvolvimento da tem\u00e1tica Energias Renov\u00e1veis.\npalavras-chave resumo\nUniversidade de Aveiro\nx\nkeywords\tRenewable Energy, Wind Energy, Wind Generators, Micro-Wind Generation, Sensors, Monitoring.\nabstract\tIn recent times it has occurred a gradual increase of interest in the use of renewable sources to obtain electricity. One of the main reasons to use those types of sources was the necessity to found solutions that help to replace fossil fuels, because they are physically limited, expensive, and cause high levels of pollution. Behind this change are the serious environmental problems caused by emission of gases resulting from the greenhouse effect, and the severe energy crisis of petroleum and its derivatives. Renewable energy is the new way to fight against global warming. The installation of electric energy-producing systems from renewable sources has increased both at home through small power systems, but especially at industrial level through the installation of wind farms with capacity of production many MW of energy. Eolitor system arose with the need to monitor the behavior of a small wind turbine, installed at the University of Aveiro. This initiative is designed to meet the needs of today's society, with the aim to assess the feasibility of wind generation, under the Research and Development of Renewable Energies issue.\nUniversidade de Aveiro\nxii\nSum\u00e1rio\n\u00cdndice de Figuras\t4\n\u00cdndice de Diagramas\t6\n\u00cdndice de Tabelas\t7\n\u00cdndice de Equa\u00e7\u00f5es\t9\nCap\u00edtulo 1 - Introdu\u00e7\u00e3o\t11\n1.1.\tObjectivos\t11\n1.1.1.\tObjectivos Espec\u00edficos\t11\n1.2.\tMotiva\u00e7\u00e3o\t11\n1.3.\tEstrutura da Disserta\u00e7\u00e3o\t12\nCap\u00edtulo 2 - Revis\u00e3o da Literatura\t15\n2.1.\tIntrodu\u00e7\u00e3o\t15\n2.2.\tEnergia Mundial\t15\n2.3.\tProtocolo de Quioto, Jap\u00e3o\t16\n2.4.\tEnergias Renov\u00e1veis\t17\n2.5.\tEnergia E\u00f3lica\t18\n2.5.1.\tVento - Fonte Natural Renov\u00e1vel\t19\n2.5.2.\tPanorama Actual\t27\n2.5.3.\tAspectos Econ\u00f3micos da Energia E\u00f3lica\t34\n2.6.\tAerogeradores\t35\n2.6.1.\tTipos de Aerogeradores\t37\n2.6.2.\tDimens\u00f5es dos Aerogeradores\t40\n2.6.3.\tComponentes de um Aerogerador\t41\n2.6.4.\tMecanismos de controlo\t43\n2.6.5.\tImpacto Ambiental\t46\n2.7.\tSistema E\u00f3lico\t48\n2.7.1.\tSistema de Armazenamento de Energia\t48\n2.7.2.\tAplica\u00e7\u00f5es dos Sistemas E\u00f3licos\t49\n2.7.3.\tSistemas em \"Offshore\"\t50\nCap\u00edtulo 3 - Modela\u00e7\u00e3o do Sistema Eolitor\t51\n3.1.\tIntrodu\u00e7\u00e3o\t51\n3.1.1.\tVis\u00e3o geral do sistema\t51\n3.1.2.\t\u00c2mbito\t52\n3.1.3.\tCliente\t53\n3.1.4.\tFontes e material de refer\u00eancia\t53\n3.2.\tModelo de caso de utiliza\u00e7\u00e3o\t54\n3.2.1.\tVis\u00e3o geral\t54\n3.2.2.\tActores\t54\n3.3.\tEspecifica\u00e7\u00e3o Suplementar\t62\n3.3.1.\tFuncionalidades Comuns\t62\n3.3.2.\tRequisitos de Usabilidade\t62\n3.3.3.\tRequisitos de desempenho\t63\n3.3.4.\tRequisitos de Seguran\u00e7a e integridade de dados\t63\n3.3.5.\tRequisitos de interface com sistemas externos e com ambientes de execu\u00e7\u00e3o\t64\n3.3.6.\tRequisitos de Hardware\t64\n3.4.\tModelo do Dom\u00ednio\t65\n3.5.\tProt\u00f3tipo Explorat\u00f3rio\t66\n3.5.1.\tArquitectura aplicacional\t66\n3.5.2.\tArquitectura de Instala\u00e7\u00e3o\t67\n3.5.3.\tProt\u00f3tipos dos Produtos\t67\n3.6.\tPlano de Implementa\u00e7\u00e3o do Projecto\t80\n3.7.\tModelo de Dados Persisten te\t81\n3.7.1.\tDicion\u00e1rio de dados\t81\nCap\u00edtulo 4 - Eolitor - Sistema de Monitoriza\u00e7\u00e3o\t83\n4.1.\tIntrodu\u00e7\u00e3o\t83\n4.2.\tAerogerador 20kW\t84\n4.3.\tSensores\t86\n4.3.1.\tSensor de Velocidade do Vento (Anem\u00f3metro)\t86\n4.3.2.\tSensor de Direc\u00e7\u00e3o do Vento\t87\n4.3.3.\tB\u00fassola Magn\u00e9tica\t88\n4.3.4.\tSensor de Temperatura\t89\n4.3.5.\tSensor de Rota\u00e7\u00e3o\t89\n4.3.6.\tSensor de Corrente\t91\n4.4.\tArquitectura do Sistema\t93\n4.5.\tTecnologias Implementadas\t96\n4.6.\tProcessamento de Tramas - Envio\t97\n4.7.\tM\u00f3dulo de Armazenamento de Dados Local\t100\n4.8.\tSistema de Alimenta\u00e7\u00e3o\t102\n4.8.1.\tRegulador de Tens\u00e3o\t105\n4.8.2.\tCarregador de Baterias Lithium\t105\n4.8.3.\tCharge Pump\t106\n4.8.4.\tSupervisor\t107\n4.9.\tLiga\u00e7\u00e3o Wireless\t108\n4.9.1.\tBluetooth\t108\n4.9.2.\tZigBee\t109\n4.10.\tEolitor Server\t112\n4.10.1.\tServidor TCP\t112\n4.10.2.\tProcessamento de Tramas - Recep\u00e7\u00e3o\t114\nCap\u00edtulo 5 - Eolitor - Sistema de Informa\u00e7\u00e3o\t117\n5.1.\tIntrodu\u00e7\u00e3o\t117\n5.2.\tArquitectura do Sistema\t118\n5.3.\tTecnologias Implementadas\t119\n5.3.1.\tMicrosoft Visual Studio\t119\n5.3.2.\tVisual Basic.Net\t120\n5.3.3.\tC#\t121\n5.3.4.\tMS SQL Server 2005\t121\n5.4.\tProcessamento de Dados\t124\n5.5.\tInterface Visual\t125\n5.5.1.\tHome\t127\n5.5.2.\tMonitor\t127\n5.5.3.\tConnection to Database\t128\n5.5.4.\tEolitor Database\t129\n5.5.5.\tEolitor DB Charts\t130\n5.5.6.\tEmailer\t131\n5.5.7.\t^SD Terminal\t132\n5.6.\tInstala\u00e7\u00e3o e Execu\u00e7\u00e3o do Programa\t133\n5.7.\tInstala\u00e7\u00e3o da Base de Dados\t134\n5.8.\tEolitor - Web Page\t135\nCap\u00edtulo 6 - Resultados\t137\n6.1.\tSistema de Monitoriza\u00e7\u00e3o\t137\n6.2.\tSistema de Informa\u00e7\u00e3o\t138\nCap\u00edtulo 7 - Coment\u00e1rios Finais\t145\n7.1.\tConclus\u00f5es\t145\n7.1.1.\tBase de Dados\t145\n7.1.2.\tSistema de Monitoriza\u00e7\u00e3o\t145\n7.1.3.\tSistema de Informa\u00e7\u00e3o\t146\n7.2.\tDesenvolvimentos Futuros\t147\nBibliografia\t149\nANEXO A - Parques E\u00f3licos em \"offshore\"\t153\nANEXO B - Relat\u00f3rio de Especifica\u00e7\u00e3o de Requisitos\t161\nANEXO C - M\u00f3dulo do Sistema de Ficheiros FatFS\t175\nANEXO D - Projectos Visual Studio\t179\nANEXO E - PCB do Sistema de Monitoriza\u00e7\u00e3o\t190\nANEXO F - Programa do Sistema de Monitoriza\u00e7\u00e3o\t199\n\u00cdndice de Figuras\nFigura 2.1 - Moinho Holand\u00eas\t21\nFigura 2.2 - Mapa Europeu de Vento a 50 metros\t23\nFigura 2.3 - Mapa Europeu de Vento em \u201coffshore\u201d\t24\nFigura 2.4 - Caracter\u00edsticas El\u00e9ctricas do Sistema E\u00f3lico\t26\nFigura 2.5 - Sensor de direc\u00e7\u00e3o e Anem\u00f3metro\t26\nFigura 2.6 - Anem\u00f3metro ultra s\u00f3nico\t27\nFigura 2.7 - Capacidade de Energia E\u00f3lica na EU no final de 2007 [EWEA]\t30\nFigura 2.8 - Capacidade de Energia E\u00f3lica dos estados membros da EU-27 at\u00e9 ao final de 2007 [EWEA]\t30\nFigura 2.9 - Capacidade de Energia E\u00f3lica dos estados membros da EU-27 durante 2007 [EWEA]\n31 Figura 2.10 - Capacidade de Energia E\u00f3lica global 1990-2007 (em MW)\t32\nFigura 2.11 - Capacidade de Energia E\u00f3lica anual 1990-2007 (em MW)\t32\nFigura 2.12 - Capacidade anual de instala\u00e7\u00e3o de Energia E\u00f3lica por regi\u00e3o 2003-2007 [GWEC] 34 Figura 2.13 - Aerogerador inventado por Charles Brush\t35\nFigura 2.14 - Aerogeradores descobertos por Poul la Cour\t36\nFigura 2.15 - Aerogerador de Gedser\t36\nFigura 2.16 - Rela\u00e7\u00e3o pot\u00eancia x tamanho dos Aerogeradores [EWEA] [11]\t37\nFigura 2.17 - Aerogerador Darrieus e Savonius, respectivamente\t39\nFigura 2.18 - Aerogerador de 3 p\u00e1s e eixo horizontal\t40\nFigura 2.19 - Componentes de um Gerador E\u00f3lico NORDEX N54 [1]\t41\nFigura 2.20 - Curvas de pot\u00eancia: pitch (Bonus) e stall (NEG e Nordex) [DanishAssoc]\t45\nFigura 2.21 - \u00c2ngulo de yaw\t46\nFigura 2.22 - Aerogerador em \"offshore\"\t50\nFigura 3.1 - Modelo do Dom\u00ednio do Sistema\t65\nFigura 3.2 - Eolitor Server\t68\nFigura 3.3 - Eolitor System - Home\t68\nFigura 3.4 - Eolitor System - Monitor\t69\nFigura 3.5 - Eolitor System - SQL Database\t69\nFigura 3.6 - Eolitor System - pSD Terminal\t70\nFigura 3.7 - Eolitor System - Options\t70\nFigura 3.8 - Eolitor System - Emailer\t71\nFigura 3.9 - Eolitor System - Connection to Database\t71\nFigura 3.10 - Eolitor System - Database Charts\t72\nFigura 3.11 - Eolitor System - Logs\t72\nFigura 3.12 - Eolitor System - Reports\t73\nFigura 3.13 - Eolitor System - Box\t79\nFigura 3.14 - Eolitor System - PCB\t79\nFigura 3.15 - Modelo da base de dados\t81\nFigura 4.1- Aerogerador de 20kW instalado perto do IEETA\t84\nFigura 4.2 - Gr\u00e1fico da curva de pot\u00eancia (em condi\u00e7\u00f5es \u00f3ptimas) do Aerogerador de 20 kW, pot\u00eancia de sa\u00edda (kW) em fun\u00e7\u00e3o da velocidade do vento (m/s) [48]\t85\nFigura 4.3 - Anem\u00f3metro\t87\nFigura 4.4 - Sensor de Direc\u00e7\u00e3o\t88\nFigura 4.5 - B\u00fassola Magn\u00e9tica M\u00f3dulo HM55B [Parallax]\t88\nFigura 4.6 - Circuito de liga\u00e7\u00e3o e sinal de sa\u00edda do m\u00f3dulo [Parallax]23\t88\nFigura 4.7 - Sensor de temperatura MAX6608 [Maxim]\t89\nFigura 4.8 - Efeito de Hall\t90\nFigura 4.9 - Sensor de Rota\u00e7\u00e3o efeito de Hall [Hamlin]\t90\nFigura 4.10 - Bloco de diagrama e exemplo de aplica\u00e7\u00e3o (Geartooth)\t91\nFigura 4.11 - Princ\u00edpio de funcionamento dos sensores\t91\nFigura 4.12 - Sensor de Corrente efeito de Hall [Tamura]\t92\nFigura 4.13 - Resposta em Tens\u00e3o do Sensor L01Z [Tamura]27\t92\nFigura 4.14 - Resposta em Frequ\u00eancia do Sensor L01Z [Tamura]27\t92\nFigura 4.15 - Arquitectura de montagem do Sistema de Monitoriza\u00e7\u00e3o\t95\nFigura 4.16 - Programador de Microcontroladores ICD2 [Microchip]\t97\nFigura 4.17 - Frequ\u00eancia de processamento de tramas\t99\nFigura 4.18 - M\u00f3dulo Armazenamento Local\t100\nFigura 4.19 - Sistema de Alimenta\u00e7\u00e3o remoto\t104\nFigura 4.20 - Sistema de Alimenta\u00e7\u00e3o local\t104\nFigura 4.21 - Diagrama de Blocos do TL2575-05 [TI]\t105\nFigura 4.22 - Perfil de carregamento t\u00edpico [TI]\t106\nFigura 4.23 - Diagrama de Blocos do Charge Pump TPS60130 [TI]\t107\nFigura 4.24 - Diagrama de Blocos do ADM696 [Analog Devices]\t108\nFigura 4.25 - Topologia em estrela (star)\t110\nFigura 4.26 - Topologia malha (mesh)\t110\nFigura 4.27 - Topologia \u00e1rvore (cluster tree)\t110\nFigura 4.28 - Posi\u00e7\u00e3o das v\u00e1rias tecnologias wireless\t111\nFigura 4.29 - Lista de mensagens que s\u00e3o trocadas entre Servidor/Cliente\t113\nFigura 4.30 - Rede Servidor/Cliente do projecto Eolitor\t114\nFigura 5.1 - Microsoft Visual Studio 2008\t119\nFigura 5.2 - Arquitectura do LINQ\t120\nFigura 5.3 - Principais componentes do SQL Server 2005\t122\nFigura 5.4 - Op\u00e7\u00f5es do\tinterface Eolitor System - Home\t127\nFigura 5.5 - Op\u00e7\u00f5es do\tinterface Eolitor System - Monitor\t128\nFigura 5.6 - Op\u00e7\u00f5es do\tinterface Eolitor System - Connectionto Database\t129\nFigura 5.7 - Op\u00e7\u00f5es do\tinterface Eolitor System - SQL Database\t130\nFigura 5.8 - Op\u00e7\u00f5es do\tinterface Eolitor System - Database Charts\t131\nFigura 5.9 - Op\u00e7\u00f5es do\tinterface Eolitor System - Emailer\t132\nFigura 5.10 - Op\u00e7\u00f5es do interface Eolitor System - Terminal\t132\nFigura 5.11 - Execut\u00e1vel de instala\u00e7\u00e3o do Programa Eolitor\t133\nFigura 5.12 - Execut\u00e1vel de instala\u00e7\u00e3o da base de dados EolitorDB\t134\nFigura 6.1 - Programa Servidor Eolitor Server em execu\u00e7\u00e3o\t137\nFigura 6.2 - Interface Monitor do Programa Eolitor System em execu\u00e7\u00e3o, recep\u00e7\u00e3o da monitoriza\u00e7\u00e3o do comportamento do tempo\t138\nFigura 6.3 - Interface Database Charts do Programa Eolitor System em execu\u00e7\u00e3o, vari\u00e1vel Wind\nSpeed e tipo de gr\u00e1fico Line\t139\nFigura 6.4 - Interface Database Charts do Programa Eolitor System em execu\u00e7\u00e3o, vari\u00e1vel Wind\nDir e tipo de gr\u00e1fico Radar\t139\nFigura 6.5 - Interface Database Charts do Programa Eolitor System em execu\u00e7\u00e3o, vari\u00e1vel\nTemperature e tipo de gr\u00e1fico Combo\t140\nFigura 6.6 - Interface Reports do Programa Eolitor System em execu\u00e7\u00e3o, Info Report\t140\nFigura 6.7 - Interface Logs do Programa Eolitor System em execu\u00e7\u00e3o\t141\nFigura 6.8 - Interface Web Browser do Programa Eolitor System em execu\u00e7\u00e3o, p\u00e1gina Web do\nProjecto Eolitor\t141\nFigura 6.9 - Guia de In\u00edcio R\u00e1pido de suporte aos programas do projecto Eolitor\t142\nFigura 6.10 - Guia de In\u00edcio R\u00e1pido de suporte aos programas do projecto Eolitor, interface\nMonitor do programa Eolitor System\t143\nFigura A.1 - Desenvolvimento da energia e\u00f3lica \"offshore\" na UE 1998-2008 e previs\u00e3o at\u00e9 2030 [EWEA]\t159\nFigura A.2- Total de energia e\u00f3lica \"offshore\" instalada at\u00e9 Novembro 2008 [EWEA]\t160\nFigura A.3 - Total de energia e\u00f3lica \"offshore\" prevista at\u00e9 2015 [EWEA]\t160\nFigura C.4 - Liga\u00e7\u00f5es dos cart\u00f5es MMC / SD\t175\nFigura C.5 - Camadas do Modulo de Sistema de Ficheiros\t176\nFigura D.6 - Projecto Microsoft Visual Studio\t179\nFigura D.7 - Projecto DBI\t179\nFigura D.8 - Projecto Eolitor Client\t180\nFigura D.9 - Projecto Eolitor Server\t181\nFigura D.10 - Projecto TCPServer\t182\nFigura D.11 - Projecto Eolitor System\t183\nFigura D.12 - Projecto Setup\t189\n\u00cdndice de Diagramas\nDiagrama 3.1 - Diagrama do \u00c2mbito do Projecto\t52\nDiagrama 3.2 - Diagrama de Pacotes\t54\nDiagrama 3.3 - Diagrama de CaU do Administrador e de um Utilizador\t56\nDiagrama 3.4 - Diagrama de CaU do T\u00e9cnico Instalador\t57\nDiagrama 3.5 - Diagrama de CaU de T\u00e9cnico de Manuten\u00e7\u00e3o\t57\nDiagrama 3.6 - Diagrama da Arquitectura Aplicacional\t66\nDiagrama 3.7 - Diagrama de instala\u00e7\u00e3o\t67\nDiagrama 4.1 - Diagrama de processamento de tramas - Envio\t99\nDiagrama 4.2 - Diagrama Armazenamento de dados Local\t101\nDiagrama 4.3 - Diagrama do Sistema de Alimenta\u00e7\u00e3o remoto\t104\nDiagrama 4.4 - Diagrama do Sistema de Alimenta\u00e7\u00e3o local\t104\nDiagrama 4.5 - Diagrama do carregador de baterias\t107\nDiagrama 4.6 - Diagrama do supervisor ADM696\t107\nDiagrama 4.7 - Diagrama de Estados do Servidor TCP\t112\nDiagrama 4.8 - Diagrama de processamento de tramas - Recep\u00e7\u00e3o\t115\nDiagrama 5.1 - Diagrama da arquitectura do Sistema de Informa\u00e7\u00e3o\t118\nDiagrama 5.2 - Estrutura do Programa\t125\n\u00cdndice de Tabelas\nTabela 2.1 - Capacidade de Energia E\u00f3lica na EU no final de 2008 [EWEA]\t29\nTabela 2.2 - Capacidade de Energia E\u00f3lica em \u00c1frica e M\u00e9dio Oriente no final de 2007 [GWEC] 33 Tabela 2.3 - Capacidade de Energia E\u00f3lica na \u00c1sia no final de 2007 [GWEC]\t33\nTabela 2.4 - Capacidade de Energia E\u00f3lica na Am\u00e9rica do Sul no final de 2007 [GWEC]\t33\nTabela 2.5 - Capacidade de Energia E\u00f3lica em Am\u00e9rica do Norte no final de 2007 [GWEC]\t33\nTabela 2.6 - Capacidade de Energia E\u00f3lica na regi\u00e3o do Pac\u00edfico no final de 2007 [GWEC]\t33\nTabela 3.1 - Tabela de descri\u00e7\u00e3o dos Actores do Sistema\t56\nTabela 3.2 - Tabela de descri\u00e7\u00e3o do CaU1 Instalar Sensores\t58\nTabela 3.3 - Tabela de descri\u00e7\u00e3o do CaU2 Criar Sistema de Monitoriza\u00e7\u00e3o\t58\nTabela 3.4 - Tabela de descri\u00e7\u00e3o do CaU3 Projectar Base de Dados\t59\nTabela 3.5 - Tabela de descri\u00e7\u00e3o do CaU4 Criar Sistema de Informa\u00e7\u00e3o\t59\nTabela 3.6 - Tabela de descri\u00e7\u00e3o do CaU5 Registar novo Aerogerador\t59\nTabela 3.7 - Tabela de descri\u00e7\u00e3o do CaU6 Monitoriza\u00e7\u00e3o\t60\nTabela 3.8 - Tabela de descri\u00e7\u00e3o do CaU7 Envio dos Dados\t60\nTabela 3.9 - Tabela de descri\u00e7\u00e3o do CaU8 Visualizar desempenho do Sistema (Dados e Eventos)\n61 Tabela 3.10 - Tabela de descri\u00e7\u00e3o do CaU9 Pedir relat\u00f3rio de Produ\u00e7\u00e3o\t61\nTabela 3.11 - Tabela de Requisitos de Usabilidade\t62\nTabela 3.12 - Tabela de Requisitos de Desempenho\t63\nTabela 3.13 - Tabela de Requisitos de seguran\u00e7a, privacidade e integridade de dados\t63\nTabela 3.14 - Tabela de Requisitos de interface com sistemas externos e com ambientes de execu\u00e7\u00e3o\t64\nTabela 3.15 - Tabela de prioridades dos CaU\t80\nTabela 4.1 - Par\u00e2metros do Aerogerador de 20kW [48]\t85\nTabela 4.2 - Estrutura da Trama\t98\nTabela 4.3 - Identificadores dos dados da Trama\t98\nTabela 4.4 - Fun\u00e7\u00f5es dos M\u00f3dulos de acesso ao Disco I/O e RTCC\t102\nTabela 4.5 - Fun\u00e7\u00f5es do Sistema de Ficheiros FatFS\t102\nTabela 4.6 - Alcance e pot\u00eancia m\u00e1xima das diferentes Classes Bluetooth\t109\nTabela 4.7 - ZigBee vs Bluetooth\t111\nTabela 4.8 - ZigBee vs Bluetooth\t111\nTabela A.1 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na B\u00e9lgica [EWEA]\t153\nTabela A.2 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na Dinamarca [EWEA]\t154\nTabela A.3 - Energia E\u00f3lica\tem \u201cOffshore\" instalada no Reino Unido [EWEA]\t155\nTabela A.4 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na Holanda [EWEA]\t156\nTabela A.5 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na Su\u00e9cia [EWEA]\t156\nTabela A.6 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na Irlanda [EWEA]\t157\nTabela A.7 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na Noruega [EWEA]\t157\nTabela A.8 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na It\u00e1lia [EWEA]\t157\nTabela A.9 - Energia E\u00f3lica\tem \u201cOffshore\" instalada na Alemanha[EWEA]\t159\nTabela B.10 - Tabela de descri\u00e7\u00e3o do CaU10 Or\u00e7amentar Sistema E\u00f3lico.\t161\nTabela B.11 - Tabela de descri\u00e7\u00e3o do CaU11 Vender Sistema E\u00f3lico.\t161\nTabela B.12 - Tabela de descri\u00e7\u00e3o do CaU12 Contratar Respons\u00e1vel Instala\u00e7\u00e3o.\t162\nTabela B.13 - Tabela de descri\u00e7\u00e3o do CaU13 Estudo do local de Instala\u00e7\u00e3o\t162\nTabela B.14 - Tabela de descri\u00e7\u00e3o do CaU14 Instalar Sistema E\u00f3lico.\t162\nTabela B.15 - Tabela de descri\u00e7\u00e3o do CaU15 Documenta\u00e7\u00e3o do Sistema E\u00f3lico.\t163\nTabela B.16 - Tabela de descri\u00e7\u00e3o do CaU16 Verificar funcionamento do Sistema E\u00f3lico. 163 Tabela B.17 - Tabela de descri\u00e7\u00e3o do CaU17 Registar novo Parque E\u00f3lico.\t164\nTabela B.18 - Tabela de descri\u00e7\u00e3o do CaU18 Registar novo Modelo de Aerogerador.\t164\nTabela B.19 - Tabela de descri\u00e7\u00e3o do CaU19 Gerir comportamento do Parque E\u00f3lico.\t164\nTabela B.20 - Tabela de descri\u00e7\u00e3o do CaU19 Gerir Sistema de Monitoriza\u00e7\u00e3o e Base de Dados.\n165\nTabela B.21 - Tabela de descri\u00e7\u00e3o do CaU21 Desenvolvimento do Sistema de Monitoriza\u00e7\u00e3o. 165\nTabela B.22 - Tabela de descri\u00e7\u00e3o do CaU22 Desenvolvimento do Sistema de Informa\u00e7\u00e3o. 166\nTabela B.23 - Tabela de descri\u00e7\u00e3o do CaU23 Pedir/Contratar Manuten\u00e7\u00e3o do Sistema.\t166\nTabela B.24 - Tabela de descri\u00e7\u00e3o do CaU24 Fazer Manuten\u00e7\u00e3o do Sistema.\t167\nTabela B.25 - Tabela de descri\u00e7\u00e3o do CaU25 Recep\u00e7\u00e3o dos Dados.\t167\nTabela B.26 - Tabela de descri\u00e7\u00e3o do CaU26 Tratamento dos Dados.\t167\nTabela B.27 - Tabela de descri\u00e7\u00e3o do CaU27 Armazenar os Dados.\t168\nTabela B.28 - Tabela de descri\u00e7\u00e3o do CaU28 Disponibilizar os Dados.\t168\nTabela B.29 - Dicion\u00e1rio de Dados\t-\tEntidade WindFarms\t169\nTabela B.30 - Dicion\u00e1rio de Dados -\tEntidade Aeros\t169\nTabela B.31 - Dicion\u00e1rio de Dados\t-\tEntidade Models\t169\nTabela B.32 - Dicion\u00e1rio de Dados\t-\tEntidade Manufactures\t170\nTabela B.33 - Dicion\u00e1rio de Dados\t-\tEntidade SellEnergy\t170\nTabela B.34 - Dicion\u00e1rio de Dados\t-\tEntidade Meteo\t170\nTabela B.35 - Dicion\u00e1rio de Dados\t-\tEntidade Productions\t171\nTabela B.36 - Dicion\u00e1rio de Dados\t-\tEntidade Payments\t171\nTabela B.37 - Dicion\u00e1rio de Dados\t-\tEntidade Interruptions\t171\nTabela B.38 - Dicion\u00e1rio de Dados\t-\tEntidade Maintenances\t172\nTabela B.39 - Dicion\u00e1rio de Dados\t-\tEntidade Companies\t172\nTabela B.40 - Dicion\u00e1rio de Dados\t-\tEntidade Pieces\t172\nTabela B.41 - Dicion\u00e1rio de Dados\t-\tEntidade ModelPiece\t173\nTabela B.42 - Dicion\u00e1rio de Dados\t-\tEntidade Logs\t173\nTabela B.43 - Dicion\u00e1rio de Dados\t-\tEntidade StatisticsAeros\t173\nTabela B.44 - Dicion\u00e1rio de Dados\t-\tEntidade StatisticsMeteo\t174\nTabela C.45 - Lista de Comandos\t177\n\u00cdndice de Equa\u00e7\u00f5es\nEqua\u00e7\u00e3o 2.1 - Pot\u00eancia do vento\t22\nEqua\u00e7\u00e3o 4.1 - Velocidade do Vento\t87\nEqua\u00e7\u00e3o 4.2 - Velocidade do Vento\tem fun\u00e7\u00e3o de n\t87\nEqua\u00e7\u00e3o 4.3 - Valor da ADC para o\tsensor de Direc\u00e7\u00e3o\t87\nEqua\u00e7\u00e3o 4.4 - Valor da ADC para o\tsensor de Temperatura\t89\nEqua\u00e7\u00e3o 4.5 - Valor da ADC para o\tsensor de Corrente\t92\nUniversidade de Aveiro\n10\nCap\u00edtulo 1 - Introdu\u00e7\u00e3o\n1.1.\tObjectivos\nO objectivo desta disserta\u00e7\u00e3o \u00e9 a cria\u00e7\u00e3o e instala\u00e7\u00e3o de um sistema que permita a monitoriza\u00e7\u00e3o de um Aerogerador e o armazenamento de toda a informa\u00e7\u00e3o inerente ao estado do tempo (velocidade e direc\u00e7\u00e3o do vento) e ao comportamento do aparelho, por forma a que essa informa\u00e7\u00e3o venha a estar dispon\u00edvel para posteriores consultas.\n1.1.1.\tObjectivos Espec\u00edficos\nOs objectivos espec\u00edficos deste trabalho s\u00e3o:\n-Concep\u00e7\u00e3o e desenvolvimento de um conjunto de sensores;\n-Monitoriza\u00e7\u00e3o do estado do tempo medindo a velocidade e a direc\u00e7\u00e3o;\n-Monitoriza\u00e7\u00e3o do estado do Aerogerador influenciado pelo vento, medindo a velocidade de rota\u00e7\u00e3o das p\u00e1s, a direc\u00e7\u00e3o do Aerogerador e a quantidade de energia produzida;\n-Comunica\u00e7\u00e3o com um sistema de informa\u00e7\u00e3o;\n-Envio da informa\u00e7\u00e3o para uma unidade central de processamento que recebe essa informa\u00e7\u00e3o, efectua o tratamento da mesma e por fim a armazena;\n-Visualiza\u00e7\u00e3o e consulta do estado actual do vento e aerogerador num interface gr\u00e1fico;\n-Consulta do hist\u00f3rico da informa\u00e7\u00e3o armazenada localmente e remotamente.\n1.2.\tMotiva\u00e7\u00e3o\nAs energias renov\u00e1veis s\u00e3o cada vez mais importantes no combate ao aquecimento global e \u00e0 polui\u00e7\u00e3o ambiental. Destas energias a E\u00f3lica \u00e9 uma das mais desenvolvidas e mais utilizadas em todo o mundo [2] [5] [6], desde a instala\u00e7\u00e3o de parques e\u00f3licos com capacidade de produ\u00e7\u00e3o de grandes quantidades de MW e a produ\u00e7\u00e3o de energia el\u00e9ctrica dom\u00e9stica produzida por micro geradores e\u00f3licos. A explora\u00e7\u00e3o deste tipo de energia \u00e9 cada vez maior e Portugal encontra-se bem posicionado na lista dos maiores produtores de energia e\u00f3lica do mundo.\nEsta tese enquadra-se nos projectos de inova\u00e7\u00e3o, que t\u00eam aumentado a par das grandes preocupa\u00e7\u00f5es correntes, influenciadas pela grave crise energ\u00e9tica actual e pelo aumento substancial dos gases propagados provocando efeito de estufa, que est\u00e3o a afectar significativamente o equil\u00edbrio dos ecossistemas. No \u00e2mbito do combate a esta problem\u00e1tica torna-se necess\u00e1rio o contributo de todas as pessoas, e a consciencializa\u00e7\u00e3o das mesmas acerca dos problemas actuais.\nA escolha desta tese pelo autor foi precisamente o facto de esta se enquadrar no desenvolvimento e inova\u00e7\u00e3o de sistemas de micro gera\u00e7\u00e3o com base na energia e\u00f3lica,\nporque se a produ\u00e7\u00e3o deste tipo de energia aumentar, a depend\u00eancia das energias n\u00e3o renov\u00e1veis, especialmente o petr\u00f3leo e seus derivados vai diminuir. A explora\u00e7\u00e3o deste tipo de energia tem sido evidente nos \u00faltimos anos. No entanto a energia el\u00e9ctrica produzida continua a ser obtida essencialmente por empresas de explora\u00e7\u00e3o privadas. A utiliza\u00e7\u00e3o de micro-aerogeradores dom\u00e9sticos ainda n\u00e3o \u00e9 uma realidade consolidada.\nPara al\u00e9m da explora\u00e7\u00e3o desta energia estar relacionada com as preocupa\u00e7\u00f5es actuais, os pr\u00e9-requisitos a n\u00edvel de conhecimento para a realiza\u00e7\u00e3o da mesma s\u00e3o igualmente motivadores. Isto deve-se \u00e0 grande diversifica\u00e7\u00e3o de conte\u00fados, para poder desenvolver e explorar novos conhecimentos. Desde a electr\u00f3nica de baixo n\u00edvel, com a cria\u00e7\u00e3o de placas impressas (do esquema do projecto ao desenho final, e soldadura dos circuitos integrados), \u00e0 programa\u00e7\u00e3o do microcontrolador, at\u00e9 ao desenvolvimento de software utilizando as mais avan\u00e7adas ferramentas dispon\u00edveis, para a implementa\u00e7\u00e3o de um programa que proporciona a interac\u00e7\u00e3o com o utilizador; e ainda a cria\u00e7\u00e3o de uma base de dados de suporte a todo o sistema em quest\u00e3o.\n1.3.\tEstrutura da Disserta\u00e7\u00e3o\nA disserta\u00e7\u00e3o est\u00e1 organizada em 7 cap\u00edtulos e 6 anexos.\nO cap\u00edtulo 1 - Introdu\u00e7\u00e3o, insere uma breve apresenta\u00e7\u00e3o da disserta\u00e7\u00e3o. Nos subcap\u00edtulos, o autor exp\u00f5e os objectivos gen\u00e9ricos da disserta\u00e7\u00e3o, apresentando as motiva\u00e7\u00f5es que estiveram na base da escolha deste tema e os desenvolvimentos importantes para a realiza\u00e7\u00e3o dos objectivos. O cap\u00edtulo \u00e9 finalizado com estrutura da Disserta\u00e7\u00e3o, que cont\u00e9m um resumo dos cap\u00edtulos que a constituem.\nO cap\u00edtulo 2 - Revis\u00e3o da Literatura, apresenta o enquadramento te\u00f3rico da tese estruturado em v\u00e1rios subcap\u00edtulos: uma breve Introdu\u00e7\u00e3o, Energia Mundial, Protocolo de Quioto, Jap\u00e3o, Energias Renov\u00e1veis, Energia E\u00f3lica, Aspectos Econ\u00f3micos da Energia E\u00f3lica, Aerogeradores, e Sistema E\u00f3lico. Na Introdu\u00e7\u00e3o \u00e9 feita uma pequena descri\u00e7\u00e3o do mesmo, come\u00e7ando por enquadramento do estado actual da energia no subcap\u00edtulo seguinte. \u00c9 feita uma refer\u00eancia ao Protocolo de Quioto, Jap\u00e3o explicando a sua import\u00e2ncia constituindo um ponto de viragem especialmente para a produ\u00e7\u00e3o das Energias Renov\u00e1veis. No subcap\u00edtulo Energia E\u00f3lica, o tipo de energia central na presente disserta\u00e7\u00e3o, \u00e9 explicada de forma mais pormenorizada come\u00e7ando por referenciar as primeiras utiliza\u00e7\u00f5es, at\u00e9 ao panorama actual, passando pelos seus elementos b\u00e1sicos, como o vento e as suas caracter\u00edsticas que s\u00e3o extremamente importantes para a produ\u00e7\u00e3o de energia el\u00e9ctrica. Os aspectos mais t\u00e9cnicos do elemento central s\u00e3o detalhados no ponto Aerogeradores, onde \u00e9 feita uma classifica\u00e7\u00e3o quanto ao tipo e ao tamanho, incluindo todas as suas componentes, e os v\u00e1rios mecanismos de controlo. Em Sistema E\u00f3lico, s\u00e3o referenciadas as v\u00e1rias aplica\u00e7\u00f5es da energia e\u00f3lica, incluindo os sistemas \"offshore\" que est\u00e3o a ser instalados em grande escala. Em suma, neste cap\u00edtulo \u00e9 feito um enquadramento do que motivou a produ\u00e7\u00e3o de energias renov\u00e1veis, bem como o estado actual das mesmas, principalmente a energia e\u00f3lica, passando depois \u00e0 exposi\u00e7\u00e3o das principais aplica\u00e7\u00f5es e componentes necess\u00e1rios \u00e0 produ\u00e7\u00e3o de energia el\u00e9ctrica a partir do vento.\nNo cap\u00edtulo 3 - Modela\u00e7\u00e3o do Sistema Eolitor, \u00e9 descrito todo o sistema em linguagem UML (Unified Modeling Language) utilizando o m\u00e9todo SLiM do grupo SIAS. Inicia-se com uma breve Introdu\u00e7\u00e3o, a vis\u00e3o geral do sistema, respondendo \u00e0s perguntas para qu\u00ea, e para quem se destina o sistema. No subcap\u00edtulo seguinte s\u00e3o expostos os Casos de Utiliza\u00e7\u00e3o do sistema pelos v\u00e1rios utilizadores. Para cada caso de utiliza\u00e7\u00e3o \u00e9 especificado o \u00e2mbito, a finalidade, os utilizadores (Actores), as pr\u00e9-condi\u00e7\u00f5es, e os aspectos em aberto. No subcap\u00edtulo Especifica\u00e7\u00e3o Suplementar s\u00e3o referidos as funcionalidades mais comuns do sistema e os v\u00e1rios requisitos do mesmo, de desempenho, de usabilidade, de seguran\u00e7a e de interface. Em Modelo do Dom\u00ednio \u00e9 feita uma representa\u00e7\u00e3o l\u00f3gica e estrutural dos elementos do dom\u00ednio e os seus relacionamentos. Por sua vez, no ponto Prot\u00f3tipo Explorat\u00f3rio, \u00e9 demonstrada a arquitectura aplicacional e de instala\u00e7\u00e3o do sistema, atrav\u00e9s da utiliza\u00e7\u00e3o de um diagrama de pacotes e de um diagrama de instala\u00e7\u00e3o, terminando com o prot\u00f3tipo de produtos, onde \u00e9 feita a exposi\u00e7\u00e3o da grande maioria dos interfaces do sistema. Na sec\u00e7\u00e3o, Plano de Implementa\u00e7\u00e3o do Projecto \u00e9 apresentada uma tabela de prioridades contendo os v\u00e1rios casos de utiliza\u00e7\u00e3o pontuados segundo os crit\u00e9rios do m\u00e9todo SLiM. Por fim em, Modelo de Dados Persistente, \u00e9 representada a base de dados de suporte \u00e0 informa\u00e7\u00e3o do sistema e explica todas as suas tabelas no dicion\u00e1rio de dados.\nNo cap\u00edtulo 4 - Eolitor - Sistema de Monitoriza\u00e7\u00e3o, \u00e9 descrito todo o Sistema de Monitoriza\u00e7\u00e3o, incluindo os sensores utilizados, e a forma como este organiza a informa\u00e7\u00e3o para ser enviada para o programa servidor. Inicia-se, com a apresenta\u00e7\u00e3o do Aerogerador que foi instalado seguido pelo subcap\u00edtulo Sensores com uma abordagem dos sensores dispon\u00edveis no mercado mais indicados \u00e0 utiliza\u00e7\u00e3o neste sistema para medir as vari\u00e1veis necess\u00e1rias. No segmento seguinte, Arquitectura do Sistema, s\u00e3o expostas as v\u00e1rias solu\u00e7\u00f5es e alternativas de instala\u00e7\u00e3o dos referidos sensores para proporcionar uma melhor leitura das grandezas em jogo. As tecnologias utilizadas para o desenvolvimento do sistema de monitoriza\u00e7\u00e3o s\u00e3o explicadas no subcap\u00edtulo, Tecnologias Implementadas. A forma como este sistema de monitoriza\u00e7\u00e3o \u201cl\u00ea\u201d os sensores e processa todos os dados no formato de uma trama com cabe\u00e7alho, dados e c\u00f3digo de erros, e a frequ\u00eancia com que envia os dados \u00e9 explicada no subcap\u00edtulo Processamento de Tramas - Envio. No que diz respeito ao ponto subsequente, M\u00f3dulo de Armazenamento de Dados Local, s\u00e3o referidas todas as fun\u00e7\u00f5es necess\u00e1rias para a cria\u00e7\u00e3o de um sistema de ficheiros, suportado num cart\u00e3o SD/MMC, um dos requisitos para n\u00e3o serem perdidos os dados da monitoriza\u00e7\u00e3o. Os circuitos electr\u00f3nicos presentes no sistema de monitoriza\u00e7\u00e3o, a come\u00e7ar pelo microcontrolador e por todos os sensores, necessitam de energia el\u00e9ctrica para poderem funcionar correctamente. Devido a este princ\u00edpio b\u00e1sico, \u00e9 necess\u00e1ria a adop\u00e7\u00e3o de um Sistema de Alimenta\u00e7\u00e3o, explicado no subcap\u00edtulo seguinte, que permite o fornecimento de energia el\u00e9ctrica aos circuitos. Em Liga\u00e7\u00e3o Wireless, refere-se as tecnologias de comunica\u00e7\u00e3o utilizadas, Bluetooth e ZigBee, juntamente com a exposi\u00e7\u00e3o das caracter\u00edsticas mais importantes de ambas, que permitem o envio da informa\u00e7\u00e3o atrav\u00e9s de uma liga\u00e7\u00e3o sem fios. Este cap\u00edtulo termina com o ponto Eolitor Server que faz refer\u00eancia ao programa que foi desenvolvido com o mesmo nome, para juntamente com a placa de circuito impresso, constitu\u00edrem o sistema de monitoriza\u00e7\u00e3o. Este programa \u00e9 respons\u00e1vel por receber e processar as tramas criadas pela placa, para seguidamente guardar a informa\u00e7\u00e3o na base de dados, e \u00e9 tamb\u00e9m intermedi\u00e1rio entre o\nO cap\u00edtulo 5 - Eolitor - Sistema de Informa\u00e7\u00e3o, descreve toda a unidade central de processamento de informa\u00e7\u00e3o, com um interface gr\u00e1fico para a interac\u00e7\u00e3o com o utilizador e com capacidade de armazenamento da informa\u00e7\u00e3o numa base de dados. Inicialmente \u00e9 exposta uma breve introdu\u00e7\u00e3o do mesmo, passando a ser explicada a Arquitectura do Sistema no segundo subcap\u00edtulo. Na sec\u00e7\u00e3o subsequente, Tecnologias Implementadas, s\u00e3o de algum modo explicadas e justificadas as op\u00e7\u00f5es tomadas pelo autor, em compara\u00e7\u00e3o com as alternativas, no que refere \u00e0 programa\u00e7\u00e3o de todo o sistema de informa\u00e7\u00e3o, desde a plataforma, at\u00e9 \u00e0s ferramentas utilizadas. De seguida \u00e9 desenvolvido o tema Processamento de Dados. No \u00e2mbito da Interface Visual, s\u00e3o explicadas todas as op\u00e7\u00f5es que est\u00e3o dispon\u00edveis aos utilizadores para consultar e visualizar os dados nas v\u00e1rias interfaces do sistema de informa\u00e7\u00e3o. A forma como os programas do projecto Eolitor e a base de dados podem ser instalados \u00e9 explicada nos subcap\u00edtulos, Instala\u00e7\u00e3o e Execu\u00e7\u00e3o do Programa e Instala\u00e7\u00e3o da Base de Dados, respectivamente. No \u00faltimo subcap\u00edtulo \u00e9 feita refer\u00eancia \u00e0 Web Page desenvolvida para disponibilizar informa\u00e7\u00f5es do projecto.\nNo cap\u00edtulo 6 - Resultados, s\u00e3o expostos os efeitos que derivam do desenvolvimento dos v\u00e1rios sistemas que comp\u00f5em o projecto Eolitor. A aten\u00e7\u00e3o \u00e9 dada em especial aos interfaces que correspondem \u00e0 execu\u00e7\u00e3o dos v\u00e1rios programas.\nNo cap\u00edtulo 7 - Coment\u00e1rios Finais, s\u00e3o relatadas todas as conclus\u00f5es e explicadas algumas alternativas e desenvolvimentos futuros que poder\u00e3o ser introduzidos no sistema Eolitor de modo a tornar o sistema mais eficiente, mais robusto e inovador.\nO texto desta disserta\u00e7\u00e3o \u00e9 conclu\u00eddo com os 6 anexos. No ANEXOS A - Parques E\u00f3licos em \"offshore\" s\u00e3o mencionados os parques e\u00f3licos instalados em opera\u00e7\u00e3o, em constru\u00e7\u00e3o e planeados at\u00e9 2015 em alguns dos principais pa\u00edses exploradores deste tipo de tecnologia. No ANEXO B - Relat\u00f3rio de Especifica\u00e7\u00e3o de Requisitos, apresenta-se as restantes informa\u00e7\u00f5es menos importantes que constam do m\u00e9todo SLiM e que n\u00e3o foram colocadas no decorrer do cap\u00edtulo 3 - Modela\u00e7\u00e3o do Sistema Eolitor. No ANEXO C - M\u00f3dulo do Sistema de Ficheiros FatFS, \u00e9 mencionado o Sistema de Ficheiros FatFS e \u00e9 feita uma descri\u00e7\u00e3o das fun\u00e7\u00f5es de baixo n\u00edvel que permitem interac\u00e7\u00e3o com a unidade de I/O e as fun\u00e7\u00f5es do sistema de ficheiros FatFS. No ANEXO D - Projectos Visual Studio, apresentam-se os v\u00e1rios projectos desenvolvidos na plataforma Microsoft Visual Studio, as v\u00e1rias informa\u00e7\u00f5es da estrutura e interfaces desenvolvidas. No ANEXO E - PCB do Sistema de Monitoriza\u00e7\u00e3o s\u00e3o apresentados os circuitos \"schematics\" resultantes do desenvolvimento da placa de circuito impresso deste sistema. Por fim, no ANEXO F - Programa do Sistema de Monitoriza\u00e7\u00e3o s\u00e3o detalhadas algumas fun\u00e7\u00f5es mais importantes do programa, escrito em Linguagem C, que ir\u00e1 correr no microcontrolador da placa de circuito impresso.\n2.1.\tIntrodu\u00e7\u00e3o\nNeste cap\u00edtulo vai ser feita uma exposi\u00e7\u00e3o dos assuntos mais importantes e significativos no \u00e2mbito das Energias Renov\u00e1veis, com especial aten\u00e7\u00e3o e destaque \u00e0 Energia E\u00f3lica e todos os seus elementos necess\u00e1rios. Desta exposi\u00e7\u00e3o v\u00e3o constar as motiva\u00e7\u00f5es que estiveram na base da explora\u00e7\u00e3o e crescimento das Energias Renov\u00e1veis, comparativamente com as Energias N\u00e3o Renov\u00e1veis, bem como o actual estado de produ\u00e7\u00e3o de energia relativamente ao consumo necess\u00e1rio. No decorrer do cap\u00edtulo v\u00e3o ser tamb\u00e9m detalhados os componentes e os tipos de instala\u00e7\u00e3o, necess\u00e1rios \u00e0 produ\u00e7\u00e3o de Energia E\u00f3lica.\n2.2.\tEnergia Mundial\nO mundo est\u00e1 a enfrentar uma grande crise energ\u00e9tica e clim\u00e1tica.\nGlobalmente, o sector da energia emite 26 bilh\u00f5es de toneladas de CO2 por ano e a produ\u00e7\u00e3o de electricidade, representa cerca de 41% das emiss\u00f5es. A Ag\u00eancia Internacional de Energia prev\u00ea que as emiss\u00f5es de CO2 em 2030 tenham aumentado 55%, atingindo mais de 40 bilh\u00f5es de toneladas de CO2. Por sua vez, as emiss\u00f5es provenientes da produ\u00e7\u00e3o de energia el\u00e9ctrica iram aumentar para 44% em 2030, chegando a 18 bilh\u00f5es de toneladas de CO2 [14].\nA Europa tem de investir em novas capacidades, e no per\u00edodo 2005-2030, precisa de instalar novas estruturas com capacidade de gerar 862 GW de electricidade para satisfazer as crescentes necessidades. A capacidade necess\u00e1ria excede o total de capacidade dispon\u00edvel na Europa (723 GW). A satisfa\u00e7\u00e3o das necessidades energ\u00e9ticas vai ser, nas pr\u00f3ximas d\u00e9cadas, um grande desafio. Actualmente a Europa importa cerca de 56%1 da energia, com tend\u00eancia para atingir os 70% nos pr\u00f3ximos 20 a 30 anos2.\nOs recursos energ\u00e9ticos f\u00f3sseis est\u00e3o a esgotar-se rapidamente, os pre\u00e7os dos combust\u00edveis est\u00e3o a aumentar e o ambiente \u00e9 quem mais sofre, devido ao actual pol\u00edtica energ\u00e9tica. Em 2030 a Uni\u00e3o Europeia estar\u00e1 a importar 84% de g\u00e1s, 59% de carv\u00e3o e 94% de petr\u00f3leo, ficando assim, extremamente vulner\u00e1vel \u00e0 disponibilidade e pre\u00e7os destes compostos energ\u00e9ticos. Todos os dias, as empresas europeias e os consumidores est\u00e3o a pagar o seu abastecimento energ\u00e9tico, cujo pre\u00e7o \u00e9 alvo de controlo externo. Comparando a factura anual actual da importa\u00e7\u00e3o de g\u00e1s com a factura de alguns anos atr\u00e1s, quando o barril de petr\u00f3leo custava cerca de 20 Euros, a Europa paga 50 bilh\u00f5es de Euros a mais. A Europa n\u00e3o tem os recursos energ\u00e9ticos f\u00f3sseis para poder disputar a lideran\u00e7a do abastecimento de combust\u00edvel e diminuir as reservas remanescentes, mas tem uma enorme riqueza de recursos energ\u00e9ticos renov\u00e1veis dispon\u00edveis, e as ind\u00fastrias europeias s\u00e3o l\u00edderes mundiais em transformar esses recursos em energia [7].\n1\tEurostat, News Release 126/2006 21 Setembro 2006\n2\tComiss\u00e3o Europeia, A European Strategy for Sustainable, Competitive and Secure Energy, 8 Mar\u00e7o 2006\n\t\t\nUniversidade de Aveiro\t15\t\n2.3.\tProtocolo de Quioto, Jap\u00e3o\nDurante o ultimo s\u00e9culo, com o desenvolvimento da industrializa\u00e7\u00e3o, o consumo de energia e os n\u00edveis de polui\u00e7\u00e3o ambientais dispararam em flecha deixando o planeta em estado preocupante.\nAssim, os pa\u00edses mais industrializados promoveram em meados da d\u00e9cada de noventa um Tratado Internacional, do qual surge o Protocolo de Quioto3, com o objectivo de mudar o rumo do planeta, nomeadamente promover a estabiliza\u00e7\u00e3o da concentra\u00e7\u00e3o de gases efeito de estufa na atmosfera. Este tratado resultou da iniciativa de v\u00e1rios eventos que culminaram, em Junho de 1992 na ECO 92 no Rio de Janeiro, na CQNUAC, Confer\u00eancia Quadro das Na\u00e7\u00f5es Unidas para as Altera\u00e7\u00f5es Clim\u00e1ticas. Aqui n\u00e3o foram estabelecidos limites obrigat\u00f3rios para as emiss\u00f5es de gases efeito de estufa, mas foram criados protocolos, entre os quais se destaca o Protocolo de Quioto que ficou mais conhecido que a pr\u00f3pria conven\u00e7\u00e3o.\nEste protocolo discutido e negociado no Jap\u00e3o em 1997, que foi aberto para assinatura em 16 de Mar\u00e7o de 1998, vigora oficialmente desde 16 de Fevereiro de 2005 depois de a R\u00fassia o ratificar em Novembro de 2004. No total, est\u00e3o vinculados a esta iniciativa 175 pa\u00edses, nomeadamente os pa\u00edses mais desenvolvidos, dos quais se destacam: Argentina, Brasil, M\u00e9xico, Dinamarca, Fran\u00e7a, Espanha, Alemanha, It\u00e1lia, Portugal, Reino Unido, Jap\u00e3o e a China. Por outro lado, entre as aus\u00eancias destaca-se os Estados Unidos da Am\u00e9rica que negaram comprometer-se com o protocolo, pois segundo o Presidente George W. Bush, interferia com a economia norte-americana.\nAtrav\u00e9s deste acordo os pa\u00edses t\u00eam a obriga\u00e7\u00e3o de reduzir, no per\u00edodo de 2008 a 2012, a emiss\u00e3o dos gases provenientes do efeito de estufa em pelo menos 5.2% em rela\u00e7\u00e3o aos n\u00edveis atingidos em 1990. Esta redu\u00e7\u00e3o corresponde a cerca de 15 % das emiss\u00f5es esperadas para 2008. Para que realmente se impulsione a redu\u00e7\u00e3o dessas emiss\u00f5es devem ser tidas em conta v\u00e1rias actividades econ\u00f3micas.\nO protocolo estimula os pa\u00edses signat\u00e1rios a cooperarem entre si, atrav\u00e9s de algumas ac\u00e7\u00f5es b\u00e1sicas:\n-Reformar os sectores de energia e transportes;\n-Implementar Fontes de energia renov\u00e1veis;\n-Eliminar mecanismos financeiros e de mercado inapropriados aos fundos da conten\u00e7\u00e3o;\n-Limitar as emiss\u00f5es de metano;\n-Proteger as florestas.\nSe o Protocolo de Quioto for comprido com sucesso, estima-se que a temperatura global venha a comportar uma redu\u00e7\u00e3o entre 1,4\u00b0C e 5,8\u00b0C at\u00e9 ao final do s\u00e9culo, apesar de\n3 Protocolo de Quioto - http://pt.wikipedia.org/wiki/Protocolo_de_Quioto\n\t\t\nUniversidade de Aveiro\t16\t\n2.4.\tEnergias Renov\u00e1veis\nNo \u00e2mbito da redu\u00e7\u00e3o da emiss\u00e3o dos gases do efeito de estufa as energias renov\u00e1veis passaram a assumir um papel dominante. Estas s\u00e3o consideradas como energias alternativas ao modelo energ\u00e9tico actual, tanto pela sua disponibilidade ilimitada (presente e futura) como pelo seu menor impacto ambiental. S\u00e3o estas as principais caracter\u00edsticas em que as energias renov\u00e1veis se mostram mais ben\u00e9ficas que as energias ditas n\u00e3o renov\u00e1veis (Petr\u00f3leo, Carv\u00e3o, G\u00e1s natural).\nAs Fontes de Energia Renov\u00e1vel (FER) s\u00e3o praticamente ilimitadas pois a sua utiliza\u00e7\u00e3o \u201choje\u201d n\u00e3o p\u00f5e em causa a sua disponibilidade de \u201camanha\u201d. S\u00e3o exemplos destas fontes: a energia solar, e\u00f3lica, hidr\u00e1ulica, das ondas, biomassa e geot\u00e9rmica.\nPraticamente inesgot\u00e1vel, a energia solar pode ser usada para a produ\u00e7\u00e3o de energia el\u00e9ctrica. A convers\u00e3o dever\u00e1 ser feita atrav\u00e9s de pain\u00e9is solares e c\u00e9lulas foto voltaicas e ser\u00e1 t\u00e3o mais elevada quanto maior for a exposi\u00e7\u00e3o solar. Desta forma a produ\u00e7\u00e3o da energia solar torna-se mais estimulante nos pa\u00edses onde o sol \u00e9 mais predominante.\nA energia solar \u00e9 essencialmente utilizada atrav\u00e9s de duas formas: activa e passiva. O m\u00e9todo activo consiste em transformar os raios solares em outras formas de energia (t\u00e9rmica ou el\u00e9ctrica) enquanto o passivo \u00e9 utilizado para o aquecimento de edif\u00edcios ou pr\u00e9dios, aprimorando as concep\u00e7\u00f5es e as estrat\u00e9gias construtivas. Os pain\u00e9is foto voltaicos s\u00e3o uma das mais promissoras fontes de energia renov\u00e1vel, sendo a sua principal benesse a quase total aus\u00eancia de polui\u00e7\u00e3o. No entanto, uma das limita\u00e7\u00f5es actuais dos dispositivos foto voltaicos \u00e9 seu baixo rendimento e os custos de produ\u00e7\u00e3o elevados devido \u00e0 pouca disponibilidade de materiais semicondutores.\nA energia hidr\u00e1ulica (ou h\u00eddrica) baseia-se na utiliza\u00e7\u00e3o da for\u00e7a cin\u00e9tica das \u00e1guas de um rio e posterior convers\u00e3o em energia el\u00e9ctrica, que \u00e9 feita com base na rota\u00e7\u00e3o de uma turbina hidr\u00e1ulica. Actualmente, a produ\u00e7\u00e3o desta energia est\u00e1 associada a grandes ind\u00fastrias hidroel\u00e9ctricas, no entanto, h\u00e1 a considerar a utiliza\u00e7\u00e3o da energia h\u00eddrica em outras aplica\u00e7\u00f5es, tais como pequenas centrais hidroel\u00e9ctricas (mini-hidricas) fundadas em rios de pequeno porte.\nA energia biomassa prov\u00e9m de tr\u00eas classes de biomassa: a biomassa s\u00f3lida, l\u00edquida e gasosa. A primeira \u00e9 composta por produtos e res\u00edduos da agricultura (incluindo subst\u00e2ncias vegetais e animais), por res\u00edduos florestais e parte dos res\u00edduos industriais e urbanos biodegrad\u00e1veis. A biomassa l\u00edquida est\u00e1 presente em biocombust\u00edveis l\u00edquidos com elevado potencial de utiliza\u00e7\u00e3o, tais como: o biodiesel, obtido a partir de \u00f3leos de girassol; o etanol, produzido com a fermenta\u00e7\u00e3o de hidratos de carbono (a\u00e7\u00facar, amido, celulose); e o metanol, gerado pela s\u00edntese do g\u00e1s natural. Por sua vez, a biomassa gasosa pode ser encontrada nos res\u00edduos agro-pecu\u00e1rios provenientes da agro-ind\u00fastria e do meio urbano, poder\u00e1 tamb\u00e9m ser descoberta nos aterros de RSU (res\u00edduos s\u00f3lidos urbanos). Estes res\u00edduos s\u00e3o resultado da degrada\u00e7\u00e3o biol\u00f3gica anaer\u00f3bia da mat\u00e9ria org\u00e2nica, e s\u00e3o constitu\u00eddos por uma mistura\n2.5.\tEnergia E\u00f3lica\nA energia e\u00f3lica \u00e9 outra das formas de produ\u00e7\u00e3o de energia proveniente de fontes renov\u00e1veis. Esta \u00e9 gerada pelo vento, fonte de energia natural e inesgot\u00e1vel. Utilizada h\u00e1 anos sob a forma de moinhos de vento, pode ser actualmente captada pelos modernos aerogeradores, tamb\u00e9m conhecidos por turbinas ou geradores e\u00f3licas.\nOs aerogeradores t\u00eam como fun\u00e7\u00e3o transformar a energia cin\u00e9tica do vento, resultante do deslocamento das massas de ar, em energia mec\u00e2nica e consequentemente em energia el\u00e9ctrica. Este \u00e9 o princ\u00edpio b\u00e1sico de um aerogerador. Primeiro o rotor retira a energia cin\u00e9tica do vento e converte-a em energia mec\u00e2nica de rota\u00e7\u00e3o possibilitando em seguida o gerador a converter esta energia em energia el\u00e9ctrica.\nUm aerogerador, contudo n\u00e3o tem capacidade de transformar a totalidade da energia do vento em energia el\u00e9ctrica. Assim, a produ\u00e7\u00e3o de energia \u00e9 limitada, e em condi\u00e7\u00f5es ideais, o valor da energia captada por um rotor e\u00f3lico \u00e9 dado pelo limite de Betz (ver 2.5.1.4 - Lei de Betz). O rendimento global do sistema e\u00f3lico relaciona a pot\u00eancia dispon\u00edvel do vento com a pot\u00eancia final que \u00e9 entregue pelo sistema. Os rotores e\u00f3licos ao extra\u00edrem a energia do vento induzem a sua velocidade; ou seja, a velocidade do vento frontal ao rotor (velocidade n\u00e3o perturbada) \u00e9 maior do que a velocidade do vento atr\u00e1s do rotor. Uma redu\u00e7\u00e3o muito grande da velocidade do vento faz com que o ar circule em volta do rotor, ao inv\u00e9s de passar atrav\u00e9s dele.\nTodos os sistemas e\u00f3licos s\u00f3 come\u00e7am a funcionar a partir de uma certa velocidade, chamada de velocidade de entrada ou inicial, que \u00e9 necess\u00e1ria para vencer algumas perdas e atritos. No outro extremo, quando o sistema atinge a chamada velocidade de corte um mecanismo de protec\u00e7\u00e3o \u00e9 accionado com a finalidade de n\u00e3o causar riscos ao rotor e \u00e0 estrutura. Para os sistemas e\u00f3licos, a velocidade de rota\u00e7\u00e3o \u00f3ptima do rotor varia com a velocidade do vento. Um sistema e\u00f3lico tem o seu rendimento m\u00e1ximo a uma dada velocidade do vento (chamada de velocidade nominal) e diminui para velocidades diferentes desta.\nProjectar um sistema e\u00f3lico, para um determinado tamanho de rotor e para uma carga pr\u00e9-fixada, sup\u00f5e trabalhar no intervalo \u00f3ptimo de rendimento do sistema com rela\u00e7\u00e3o a curva de pot\u00eancia dispon\u00edvel do vento local. Isto requer encontrar uma rela\u00e7\u00e3o de multiplica\u00e7\u00e3o, de maneira que se tenha um bom acoplamento rotor/carga. \u00c9 necess\u00e1rio tamb\u00e9m, ter mecanismos de controlo apropriados para melhorar o rendimento noutras velocidades de vento e aumentar o intervalo de funcionamento do sistema e\u00f3lico.\nPara a produ\u00e7\u00e3o de energia el\u00e9ctrica em grande escala, s\u00f3 s\u00e3o interessantes regi\u00f5es que tenham ventos com velocidade m\u00e9dia de 6 m/seg ou superior. Ventos com velocidade inferior a 2 ou 3m/seg n\u00e3o s\u00e3o suficientes para fazer funcionar os aerogeradores. Vamos ver quais as caracter\u00edsticas dos ventos bem como todas as componentes de um sistema e\u00f3lico posteriormente. Este tipo de produ\u00e7\u00e3o de energia \u00e9 a que se tem destacado mais de entre todos os tipos de produ\u00e7\u00e3o de energia renov\u00e1veis.\n2.5.1.\tVento - Fonte Natural Renov\u00e1vel\n2.5.1.1.\tOrigem\nO vento \u00e9 a fonte respons\u00e1vel pela produ\u00e7\u00e3o de energia e\u00f3lica. A sua origem est\u00e1 relacionada com o aquecimento diferenciado da superf\u00edcie da Terra e resulta do deslocamento de massas de ar. A n\u00e3o uniformidade na temperatura da superf\u00edcie da Terra, e consequentemente, na atmosfera, \u00e9 devida principalmente \u00e0 orienta\u00e7\u00e3o da Terra no espa\u00e7o e aos seus movimentos de rota\u00e7\u00e3o e transla\u00e7\u00e3o. Assim, os ventos s\u00e3o causados pela diferente distribui\u00e7\u00e3o de incid\u00eancia de energia solar na superf\u00edcie da Terra. A energia cin\u00e9tica contida nas massas de ar, e que pode originar energia e\u00f3lica, \u00e9 cerca de 1 a 2%4 da energia proveniente do sol5. Esta, e comparando com a biomassa dispon\u00edvel no planeta produzida por todas as plantas, \u00e9 cerca de 50 a 100 vezes superior (0.011%).\nAs regi\u00f5es Equatoriais (com latitude 0\u00b0) s\u00e3o aquecidas pelo sol mais do que as restantes zonas do globo. Como o ar quente \u00e9 mais leve que o ar frio, este sobe at\u00e9 uma altura aproximada de 10 km e estende-se para norte e para sul, se a terra n\u00e3o tivesse movimento rotacional, esse ar chegaria ao P\u00f3lo Norte e ao P\u00f3lo Sul, para posteriormente voltarem ao Equador. Devido ao movimento rotacional da terra, entre outros factores, os ventos pode ter diferentes caracter\u00edsticas, no que respeita \u00e1 sua origem:\n-\tVentos globais;\n-\tVentos locais;\n-\tVentos superficiais.\nVentos globais\nOs ventos globais s\u00e3o ventos que circulam pelas camadas mais altas da atmosfera. Estes com origem no Equador deslocam-se em direc\u00e7\u00e3o aos P\u00f3los. A zona de altas press\u00f5es, que se encontra por volta do 30\u00b0 de latitude, faz com que o vento comece a descer em direc\u00e7\u00e3o ao Equador. Este movimento do vento origina uma zona de baixas press\u00f5es perto do solo o que atrai ventos do Norte e do Sul. Nos p\u00f3los, devido \u00e1 temperatura e ao ar frio, s\u00e3o originadas zonas de altas press\u00f5es. Estes ventos na realidade s\u00e3o considerados como ventos geostr\u00f3ficos, e ocorrem a partir da altitude dos 1.000 m. As velocidades destes ventos podem ser medidas por bal\u00f5es meteorol\u00f3gicos.\nVentos superficiais\nOs ventos s\u00e3o muito influenciados pela superf\u00edcie terrestre at\u00e9 altitudes de 100 metros e s\u00e3o travados pela rugosidade da superf\u00edcie da terra e pelos obst\u00e1culos. As direc\u00e7\u00f5es perto da superf\u00edcie s\u00e3o ligeiramente diferentes das direc\u00e7\u00f5es dos ventos globais, devido \u00e0 rota\u00e7\u00e3o da terra.\nVentos locais\n4\tVento - http://pt.wikipedia.org/wiki/Vento\n5\tO sol irradia cerca de 174.423.000.000.000 kWh\nBrisas Marinhas: Durante o dia, pela influ\u00eancia do sol, a terra aquece mais rapidamente que o mar. O ar sobe e circula em direc\u00e7\u00e3o ao mar, originando uma depress\u00e3o ao n\u00edvel do solo, atraindo o ar frio, resultando da\u00ed a chamada brisa marinha. Normalmente, durante a tarde, quando as temperaturas do solo e do mar est\u00e3o mais semelhantes, existe um per\u00edodo em que a brisa mar\u00edtima \u00e9 mais suave, j\u00e1 durante a noite os ventos sopram em sentido contr\u00e1rio, tendo a brisa terrestre, normalmente, velocidades inferiores, uma vez que a diferen\u00e7a entre a temperatura do solo e do mar tamb\u00e9m \u00e9 inferior.\nVentos da montanha: t\u00eam origem nos declives orientados a sul (no hemisf\u00e9rio sul) e nos declives orientados a norte (no hemisf\u00e9rio norte), como por exemplo o vento dos vales. Quando o ar pr\u00f3ximo dos declives est\u00e1 quente, a sua densidade diminui, fazendo-o subir seguindo a superf\u00edcie do declive, e \u00e1 noite a direc\u00e7\u00e3o do vento inverte-se, passando a descer o declive.\nO vento \u00e9 definido essencialmente por dois par\u00e2metros: velocidade e direc\u00e7\u00e3o. A sua intensidade n\u00e3o \u00e9 regular e a sua disponibilidade depende do local. Como tal, para a instala\u00e7\u00e3o de um dispositivo promotor de energia e\u00f3lica, \u00e9 necess\u00e1rio um estudo do local para determinar as caracter\u00edsticas locais do vento. Ser\u00e1 tanto melhor quanto menores forem as altera\u00e7\u00f5es do relevo, pois ser\u00e3o menos as barreiras f\u00edsicas e assim o vento ser\u00e1 mais regular. Esta constitui uma das raz\u00f5es principais porque est\u00e1 a aumentar consideravelmente o n\u00famero de parques e\u00f3licos em \"offshore\"6 (ver 2.7.3 - Sistemas em \u201cOffshore\u201d).\n2.5.I.2.\tHist\u00f3ria do uso\nSegundo algumas publica\u00e7\u00f5es o vento come\u00e7ou a ser utilizado por volta de 4000 a.C., recentemente testemunhadas por um barco encontrado num t\u00famulo sumeriano da \u00e9poca. Por volta de 1.000 a.C. os fen\u00edcios, pioneiros na navega\u00e7\u00e3o comercial, utilizavam barcos movidos exclusivamente a for\u00e7a dos ventos. Ao longo de muitos anos v\u00e1rios tipos de embarca\u00e7\u00f5es \u00e0 vela foram desenvolvidos, com grande destaque para as Caravelas - surgidas na Europa no s\u00e9culo XIII e que tiveram papel importante nas Grandes Descobertas Mar\u00edtimas. As embarca\u00e7\u00f5es \u00e0 vela dominaram os mares durante s\u00e9culos, at\u00e9 o surgimento do navio a vapor, em 1807, que veio dividir este dom\u00ednio. No in\u00edcio do s\u00e9culo XX, foram praticamente abandonados em favor do vapor.\nAs primeiras m\u00e1quinas que aproveitaram o vento foram provavelmente os moinhos de vento de eixo vertical usados para moer gr\u00e3os na P\u00e9rsia (actualmente Ir\u00e3o) por volta de 200AC.\nOs moinhos de vento de eixo horizontal apareceram na regi\u00e3o mediterr\u00e2nea por volta do s\u00e9culo X e estavam colocados de forma permanente de cara para os ventos mar\u00edtimos que eram predominantes.\n6\tParques e\u00f3licos instalados em alto mar perto da costa terrestre.\nO moinho de vento holand\u00eas do s\u00e9culo XV tinha um corpo fixo e uma parte rotativo com uma componente que apontava as p\u00e1s em direc\u00e7\u00e3o ao vento. Estas m\u00e1quinas tinham p\u00e1s com di\u00e2metros de at\u00e9 25 m e espalharam-se muito pela Europa at\u00e9 o final do s\u00e9culo XIX.\nFigura 2.1 - Moinho Holand\u00eas7\nMediante o evoluir da tecnologia e as recentes necessidades de produ\u00e7\u00e3o de energia, essencialmente proveniente de fontes renov\u00e1veis, o vento passou a ser aproveitado para a produ\u00e7\u00e3o de energia el\u00e9ctrica com a introdu\u00e7\u00e3o dos aerogeradores.\n2.5.1.3.\tEnergia do Vento\nO aerogerador obt\u00e9m energia convertendo a energia do vento num bin\u00e1rio actuando sobre as p\u00e1s do rotor. A quantidade de energia transferida ao rotor pelo vento depende: da densidade do ar, da \u00e1rea de varrimento do rotor e da velocidade do vento.\n-\tDensidade do ar: A energia cin\u00e9tica de um corpo em movimento \u00e9 proporcional a sua massa, assim a energia cin\u00e9tica do vento depende da densidade do ar, i.e., da sua massa por unidade de volume. Quanto \u201cmais pesado ou denso\u201d for o ar, maior quantidade de energia transmite ao aerogerador. A press\u00e3o atmosf\u00e9rica normal a densidade do ar \u00e9 de 1,225 Kg/m3. Quanto maior for a altitude, menor a press\u00e3o do ar e o ar \u00e9 menos denso.\n-\t\u00c1rea de varrimento do rotor: \u00c9 a \u00e1rea de uma circunfer\u00eancia que determina quanta energia, contida no vento, o aerogerador \u00e9 capaz de captar. Assim quanto maior for a dimens\u00e3o das paz maior a \u00e1rea de varrimento e maior a capacidade de captar energia. Dado que a \u00e1rea do rotor aumenta com o quadrado do raio, um aerogerador duas vezes maior recebe 4 vezes mais energia.\n-\tDesvio do Vento: Na realidade o aerogerador desvia o vento antes de o vento chegar ao plano do rotor, pelo que nunca ser\u00e1 poss\u00edvel capturar toda a energia do vento. (ver 2.5.1.4 - Lei de Betz). O rotor do aerogerador trava a velocidade do vento quando captura a sua energia cin\u00e9tica e a converte em energia rotacional. Isto implica que a velocidade do vento\n7 Imagem retirada de http://olhares.aeiou.pt/galerias/detalhe foto.php?tc=1&amp;origem=&amp;id=1588591\n\t\t\nUniversidade de Aveiro\t21\t\nque sai do aerogerador \u00e9 menor do que a velocidade do vento inicial. Assim, uma vez que a quantidade de ar (por segundo) que passa atrav\u00e9s da \u00e1rea de varrimento do rotor deve ser igual \u00e1 quantidade de vento que abandona a \u00e1rea do rotor, o ar ocupar\u00e1 uma maior sec\u00e7\u00e3o transversal (di\u00e2metro), por tr\u00e1s do plano do rotor.\n- Distribui\u00e7\u00e3o da press\u00e3o no rotor: A press\u00e3o do ar aumenta gradualmente \u00e0 medida que o vento se aproxima do rotor, uma vez que o rotor actua como barreira ao vento. Detr\u00e1s do rotor a press\u00e3o cai imediatamente, estabilizando gradualmente a medida que a dist\u00e2ncia do rotor aumenta.\n2.5.I.4.\tLei de Betz\nComo j\u00e1 vimos, a energia cin\u00e9tica resultante das desloca\u00e7\u00f5es de massas de ar, pode ser transformada em:\n-\tEnergia mec\u00e2nica: atrav\u00e9s de aeromotores;\n-\tEnergia el\u00e9ctrica: atrav\u00e9s de geradores e\u00f3licos.\nA pot\u00eancia mec\u00e2nica dispon\u00edvel (P) num gerador depende essencialmente (factor c\u00fabico) da velocidade do caudal de ar que passa atrav\u00e9s dela, o que faz com que o interesse e o aproveitamento deste recurso variem muito com a intensidade e a direc\u00e7\u00e3o do vento.\nA pot\u00eancia do vento que passa perpendicularmente atrav\u00e9s de uma \u00e1rea circular, pode-se resumir em:\nP = 1P v 3 n r 2\n2\tH\nEqua\u00e7\u00e3o 2.1 - Pot\u00eancia do vento\nOnde:\nP = pot\u00eancia m\u00e9dia do vento em Watts [W]\np = densidade do ar seco = 1,225 [kg/m3] (PTN)\nv = velocidade m\u00e9dia do vento [m/s]\nn \u00ab 3.141592...\nr = raio do rotor em m [metros]\nQuanto maior for a energia cin\u00e9tica extra\u00edda do vento pelo aerogerador, maior ser\u00e1 o abrandamento do vento que deixa o aerogerador. Teoricamente se fosse poss\u00edvel extrair toda a energia, o vento sairia com energia cin\u00e9tica nula, i.e., com velocidade nula. Isto significaria que, o ar n\u00e3o poderia abandonar o aerogerador. No outro caso extremo, consideramos que o ar passa pelo rotor sem nenhum abrandamento, tamb\u00e9m n\u00e3o seria poss\u00edvel extrair energia do vento. Entre estes dois extremos existe um valor para o qual \u00e9 mais eficiente a convers\u00e3o da energia do vento em energia mec\u00e2nica: um aerogerador ira travar at\u00e9 cerca de 2/3 da sua velocidade inicial. Este valor resulta da formula\u00e7\u00e3o de 1919, realizada pelo f\u00edsico Albert Betz, e conhecida como Lei de Betz8. A Lei de Betz diz que s\u00f3 se pode converter at\u00e9 16/27 (59%) da energia cin\u00e9tica em energia mec\u00e2nica. Por outras palavras, 59,3% da energia cin\u00e9tica do ar pode ser teoricamente extra\u00edda por um aerogerador. Na pr\u00e1tica, esse valor vai ser reduzido\n8 Lei de Betz - http://en.wikipedia.org/wiki/Betz'_law\n2.5.1.5.\tCaracteriza\u00e7\u00e3o de Locais com potencial e\u00f3lico\nJ\u00e1 foi referido que a pot\u00eancia varia com o cubo da velocidade do vento, e proporcionalmente com a densidade do ar, para a produ\u00e7\u00e3o de energia el\u00e9ctrica, quanto maior for a velocidade do vento maior o potencial e\u00f3lico do local e maior a viabilidade do projecto. Para tal, s\u00f3 locais com valores de velocidades m\u00e9dia anuais superiores a 5 ou 6 metros por segundos (m/seg) s\u00e3o interessantes, abaixo deste valor n\u00e3o existe viabilidade para este tipo de aplica\u00e7\u00f5es. O que significa que a pot\u00eancia m\u00e9dia do vento para a viabilidade de parques e\u00f3licos deve ser superior a 415.6r2 W (r igual ao raio do rotor ver 2.5.1.4).\nPara a determina\u00e7\u00e3o de locais com potencial s\u00e3o utilizadas regras b\u00e1sicas e de primeira an\u00e1lise:\n-Os topos das montanhas s\u00e3o, em geral, locais muito ventosos.\n-Os planaltos e as plan\u00edcies elevadas podem ser locais com bastante vento, assim como as zonas costeiras.\n-Os vales s\u00e3o normalmente locais com menos vento, embora, por vezes, possam ocorrer efeitos de concentra\u00e7\u00e3o local.\nSeguidamente podemos ver que os pa\u00edses mais perto do p\u00f3lo norte t\u00eam m\u00e9dias de vento, tanto terrestres como mar\u00edtimas, superior aos pa\u00edses mediterr\u00e2nicos. Logo, a energia e\u00f3lica \u00e9 atractiva, sendo os projectos nesta \u00e1rea muito mais vi\u00e1veis.\nFigura 2.2 - Mapa Europeu de Vento a 50 metros9\n9 Imagem retirada de http://www.windatlas.dk/Europe/landmap.html\nFigura 2.3 - Mapa Europeu de Vento em offshore\n2.5.I.6.\tEfeitos\nA varia\u00e7\u00e3o do vento \u00e9 muito influenciada pela altura relativamente ao solo (rugosidade). A turbul\u00eancia ou a presen\u00e7a de obst\u00e1culos, s\u00e3o outros factores que influenciam o aproveitamento desta fonte de energia.\n-Rugosidade: s\u00f3 a partir dos mil metros de altura \u00e9 que a superf\u00edcie terrestre deixa de ter influ\u00eancia significativa sobre o vento. Nas camadas mais baixas a velocidade do vento \u00e9 afectada pela superf\u00edcie terrestre, e em geral, quanto maior a rugosidade do terreno maior o abrandamento do vento. Numa floresta ou numa cidade, onde existem arvores e pr\u00e9dios respectivamente, abrandam muito o vento, classe de rugosidade 3 a 4 (defini\u00e7\u00e3o utilizada pela industria e\u00f3lica para classificar a rugosidade de uma superf\u00edcie). J\u00e1 numa plan\u00edcie, o abrandamento sofrido pelo vento \u00e9 muito menor, classe 0,5-1, enquanto a superf\u00edcie do mar tem uma influ\u00eancia quase nula, classe 0.\n-Variabilidade do vento: a velocidade do vento est\u00e1 sempre a flutuar, pelo que a sua energia cin\u00e9tica varia continuamente. A magnitude destas flutua\u00e7\u00f5es depende das condi\u00e7\u00f5es climat\u00e9ricas e das condi\u00e7\u00f5es locais. A produ\u00e7\u00e3o energ\u00e9tica de um aerogerador varia com este fen\u00f3meno, no entanto pequenas varia\u00e7\u00f5es r\u00e1pidas podem ser compensadas pela in\u00e9rcia do rotor.\n-Turbul\u00eancia: a turbul\u00eancia pode estar associada a fen\u00f3menos naturais como tempestades com rajadas de vento em v\u00e1rias direc\u00e7\u00f5es, ou em \u00e1reas em que a superf\u00edcie \u00e9 muito acidentada (grande rugosidade), e por detr\u00e1s de obst\u00e1culos como edif\u00edcios. A turbul\u00eancia reduz a possibilidade de utilizar o vento de forma efectiva num aerogerador, e\n-Obst\u00e1culos: os obst\u00e1culos ao vento tais como edif\u00edcios, \u00e1rvores, forma\u00e7\u00f5es rochosas, entre outros, para al\u00e9m de causarem turbul\u00eancia, tamb\u00e9m diminuem a velocidade do vento de forma significativa. Grande parte da turbul\u00eancia \u00e9 gerada na regi\u00e3o por detr\u00e1s do obst\u00e1culo, e pode propagar-se at\u00e9 3 vezes a dimens\u00e3o do objecto, pelo que \u00e9 de evitar grandes obst\u00e1culos perto dos aerogeradores.\n-Efeito da esteira: o vento que abandona o rotor de um aerogerador tem um conte\u00fado energ\u00e9tico inferior, criando um \u201cabrigo\u201d na direc\u00e7\u00e3o a favor do vento. De facto, existe uma esteira por tr\u00e1s da cabine, i.e., uma \u201ccauda\u201d de vento muito turbulenta e abrandada, em compara\u00e7\u00e3o com o vento que chega ao aerogerador. Nos parques e\u00f3licos, de forma a evitar a turbul\u00eancia ao redor dos aerogeradores, deve existir uma dist\u00e2ncia m\u00ednima entre aerogeradores equivalente \u00e0 dist\u00e2ncia de tr\u00eas di\u00e2metros de rotor. Nas direc\u00e7\u00f5es do vento dominante esta dist\u00e2ncia ainda deve ser maior.\n-Efeito do Parque: como referido no efeito esteira, cada aerogerador ir\u00e1 travar o vento ao extrair energia. O Ideal seria poder separar os aerogeradores o m\u00e1ximo poss\u00edvel na direc\u00e7\u00e3o dominante do vento. Isto fazia aumentar o custo dos parques e\u00f3licos, por causa dos custos do terreno e da liga\u00e7\u00e3o \u00e0 rede. As perdas t\u00edpicas de energia devida e este efeito situam-se em 5%, j\u00e1 tendo em conta as formas de minimizar este tipo de efeitos.\n-Efeito T\u00fanel: o vento que passa numa passagem estreita (como dois edif\u00edcios altos ou entre duas montanhas) \u00e9 comprimido na parte exposta ao vento e a sua velocidade cresce consideravelmente entre os dois obst\u00e1culos. Este efeito tem o nome de \u201cefeito t\u00fanel\u201d. Assim seria poss\u00edvel, na teoria, obter velocidades de vento 1/3 superiores. A coloca\u00e7\u00e3o de um aerogerador entre duas colinas, sobretudo em colinas muito acidentadas pode haver efeitos da turbul\u00eancia que poder\u00e3o anular as eventuais vantagens do efeito t\u00fanel e criar problemas de fadiga nos materiais.\n-Condi\u00e7\u00f5es mar\u00edtimas: a rugosidade da superf\u00edcie da \u00e1gua \u00e9 muito baixa, muito menor que na terra pelo que as condi\u00e7\u00f5es para a instala\u00e7\u00e3o de aerogeradores \u00e9 mais indicada. Contudo n\u00e3o deve ser desprezados alguns obst\u00e1culos como, ondas, ilhas, far\u00f3is. Assim, no mar a turbul\u00eancia \u00e9 menor do que em terra, devido \u00e0s menores diferen\u00e7as de temperatura a diferentes alturas, os aerogeradores tem todas as condi\u00e7\u00f5es para poderem produzir mais energia el\u00e9ctrica e o tempo de vida ser mais prolongado.\n2.5.I.7.\tMedi\u00e7\u00e3o\nIdealmente, a caracteriza\u00e7\u00e3o do recurso e\u00f3lico num local deve ser feita com base em medi\u00e7\u00f5es realizadas em v\u00e1rios pontos da zona e ao longo de um per\u00edodo significativo. Na pr\u00e1tica, as decis\u00f5es de instalar um parque s\u00e3o, muitas vezes baseadas num \u00fanico registo medido ao longo de pouco tempo.\nComo j\u00e1 foi referido, a velocidade m\u00e9dia do vento deve ser superior a 5 ou 6 metros por segundos (m/seg). A velocidade \u00e0 qual os aerogeradores come\u00e7am a rodar situa-se nos 35 (m/s), pelo que abaixo de 5 (m/s) a quantidade de energia no vento \u00e9 muito baixa e n\u00e3o permite ao aerogerador a produ\u00e7\u00e3o de energia. Os valores ideais de aproveitamento andam a\nvolta do 10-12 (m/seg), no entanto os aerogeradores podem ser desenhados para serem o mais eficiente poss\u00edvel dependendo da velocidade m\u00e9dia do vento numa determinada zona. O valor limite dessa velocidade \u00e9 por volta dos 25 (m/seg) A estas velocidades os geradores t\u00eam de ser capazes de dissipar a energia em excesso contida no vento.\nA medi\u00e7\u00e3o das caracter\u00edsticas do vento \u00e9 feita com instrumentos espec\u00edficos: anem\u00f3metros para medir a velocidade e sensores de direc\u00e7\u00e3o para medir a direc\u00e7\u00e3o. \u00c9 essencial que estes instrumentos de medida estejam bem expostos a todas as direc\u00e7\u00f5es do vento, isto para o resultado das medi\u00e7\u00f5es n\u00e3o ser muito afectado pelos obst\u00e1culos em redor.\nFigura 2.5 - Sensor de direc\u00e7\u00e3o e Anem\u00f3metro\nA Figura 2.5 ilustra o tipo de anem\u00f3metro mais difundido, o chamado anem\u00f3metro de copos, e um sensor de direc\u00e7\u00e3o. A principal desvantagem do anem\u00f3metro de copos reside no facto de a sua constante de tempo ser inversamente proporcional \u00e0 velocidade do vento, i.e., aceleram mais rapidamente do que desaceleram. Na pr\u00e1tica, se o vento desacelerar rapidamente, a informa\u00e7\u00e3o da velocidade do vento dada pelo anem\u00f3metro \u00e9 superior \u00e1 real. A medi\u00e7\u00e3o do vento deve ser efectuada a uma altura pr\u00f3xima da altura a que vai ficar o rotor. A frequ\u00eancia de amostragem est\u00e1 dependente dos objectivos da aplica\u00e7\u00e3o mas dever andar entre os 0.1 e o 1 Hertz.\nFigura 2.6 - Anem\u00f3metro ultra s\u00f3nico\nA frequ\u00eancia de amostragem destes anem\u00f3metros \u00e9 muito mais elevada do que os anem\u00f3metros de copos, cerca de 50 Hz, implicaria armazenar muitos dados pelo que alguns s\u00e3o descartados. Estes j\u00e1 n\u00e3o t\u00eam o problema da constante de tempo de desacelera\u00e7\u00e3o ser mais elevada do que a constante de tempo de acelera\u00e7\u00e3o presente nos anem\u00f3metros de copos.\nA velocidade de rota\u00e7\u00e3o dos anem\u00f3metros \u00e9 proporcional \u00e0 velocidade do vento, sendo medida atrav\u00e9s de uma tens\u00e3o vari\u00e1vel. A calibra\u00e7\u00e3o dos anem\u00f3metros deve ser efectuada antes da sua aplica\u00e7\u00e3o (idealmente num t\u00fanel de vento) e em utiliza\u00e7\u00f5es durante per\u00edodos longos, deve ser peri\u00f3dica a sua recalibra\u00e7\u00e3o no local com o aux\u00edlio a outro anem\u00f3metro de refer\u00eancia. Os sensores de direc\u00e7\u00e3o fornecem uma tens\u00e3o proporcional \u00e0 direc\u00e7\u00e3o. Tipicamente, a tens\u00e3o m\u00e1xima \u00e9 obtida para a direc\u00e7\u00e3o do norte relativo ao sensor, pelo que tem de ser adequadamente orientado.\n2.5.2.\tPanorama Actual\nO ano de 2007 foi o melhor ano na ind\u00fastria mundial do vento com perto de 20.000 MW instalados [5] [6]. Este constituiu um aumento de 31%, comparando com o ano de 2006, liderado por os E.U.A, China, Espanha, \u00cdndia e Alemanha.\nOs E.U., em 2007 e pelo terceiro ano consecutivo, foram o pa\u00eds que mais contribuiu para o aumento da produ\u00e7\u00e3o de energia el\u00e9ctrica a partir da energia e\u00f3lica, com cerca de 5244 MW instalados, mais do dobro de 2006. Globalmente a capacidade de produ\u00e7\u00e3o de energia e\u00f3lica dos E.U. cresceu 45% em 2007, com capacidade total instalada de 16.8 GW. Os parques e\u00f3licos nos E.U. t\u00eam capacidade de gerar cerca de 48 mil milh\u00f5es de kWh de electricidade em 2008, pouco mais de 1% da energia el\u00e9ctrica consumida nos E.U., o equivalente a mais de 4.5 milh\u00f5es de lares. Em 2007, 34 estados dos E.U. produziram electricidade a partir do vento. Dos estados que mais influenciaram o aumento da produ\u00e7\u00e3o de energia e\u00f3lica fazem parte: Texas (4356 MW), Calif\u00f3rnia (2439 MW), Minnesota (1.299 MW), Iowa (1.273 MW) e Washington (1.163 MW). Como este ritmo de crescimento verificado \u00e9 esperado que os E.U. ultrapassem a Alemanha como o maior produtor de energia e\u00f3lica at\u00e9 ao final de 2009, segundo estimativas da AWEA (American Wind Energy Association, em portugu\u00eas, Associa\u00e7\u00e3o Americana de Energia E\u00f3lica), que estima a instala\u00e7\u00e3o de cerca de 5GW durante o ano de 2008.\nA China foi tamb\u00e9m um dos pa\u00edses que mais contribuiu, com a instala\u00e7\u00e3o de 3304 MW de capacidade e\u00f3lica durante 2007, representando crescimento de 145% do mercado em rela\u00e7\u00e3o a 2006, e j\u00e1 ocupa quinta posi\u00e7\u00e3o na lista dos maiores produtores mundiais, com capacidade de 5906 MW no final de 2007. No entanto, os peritos estimam que este \u00e9 apenas o come\u00e7o, e que o crescimento real da China ainda est\u00e1 para vir. Com base nas actuais taxas de crescimento, o chin\u00eas Renewable Energy Industry Association (CREIA) prev\u00ea uma capacidade de cerca de 50,000 MW at\u00e9 2015. As regi\u00f5es com os melhores regimes de vento est\u00e3o localizadas principalmente ao longo da costa sudeste e interior da Mong\u00f3lia, Xinjiang, prov\u00edncia de Gansu Hexi e em algumas partes do Nordeste, do Noroeste, e do Norte da China e da Qinghai-tibetano Plateau.\nA ind\u00fastria e\u00f3lica na China est\u00e1 portanto a crescer. Enquanto no passado, as importa\u00e7\u00f5es de geradores e\u00f3licas dominou o mercado chin\u00eas, a tend\u00eancia actual est\u00e1 a mudar rapidamente como o crescente mercado de energia e\u00f3lica e a clara orienta\u00e7\u00e3o pol\u00edtica t\u00eam incentivado a produ\u00e7\u00e3o interna. No final de 2007, eram 40 os fabricantes chineses envolvidos em energia e\u00f3lica, respons\u00e1vel por cerca de 56% dos equipamentos instalados ao longo do ano, aumentando 41% em rela\u00e7\u00e3o a 2006. Enquanto em 2006, apenas cerca de 400 MW foram fabricados por fabricantes chineses, em 2007, apenas duas empresas chinesas (Gold Wind e Sinovel) contabilizaram 1460 MW de capacidade instalada, representando cerca de 42% do mercado anual [Global Wind 2007 Report GWEC].\nNa Europa, o ano de 2007 ser\u00e1 recordado como um ano crucial na hist\u00f3ria da pol\u00edtica energ\u00e9tica europeia. Um enorme passo em frente foi dado em Mar\u00e7o, com os 27 chefes de Estado aprovaram, por unanimidade, uma meta vinculativa de 20% da energia que prov\u00eam de fontes renov\u00e1veis at\u00e9 2020. Em Janeiro de 2008, a Comiss\u00e3o Europeia publicou o seu projecto de legisla\u00e7\u00e3o das energias renov\u00e1veis, que prop\u00f5e um quadro est\u00e1vel e flex\u00edvel da UE e dever\u00e1 garantir uma enorme expans\u00e3o da energia e\u00f3lica na Europa. A combina\u00e7\u00e3o das medidas apresentadas no quadro proposto ir\u00e1 reduzir as barreiras administrativas e privilegiar acesso \u00e0 rede para as energias renov\u00e1veis, ao mesmo tempo que introduz um mecanismo de negocia\u00e7\u00e3o volunt\u00e1ria controlada pelos Estados-Membros. A decis\u00e3o de 2007, e a proposta legislativa do in\u00edcio de 2008, mostram que a Europa compreendeu a gravidade da situa\u00e7\u00e3o energ\u00e9tica e clim\u00e1tica, e da necessidade urgente de encontrar e entregar solu\u00e7\u00f5es. Para a meta de 20% da energia ser cumprida, a Europa precisa de aumentar a produ\u00e7\u00e3o de electricidade a partir de fontes renov\u00e1veis 15% do consumo de hoje para mais de um ter\u00e7o em 15 anos. A Comiss\u00e3o Europeia estima que, para que isso aconte\u00e7a, a quota da electricidade proveniente da energia e\u00f3lica, deve subir do n\u00edvel actual de 3,7% para 12%.\nO actual abastecimento energ\u00e9tico da Uni\u00e3o Europeia \u00e9 insustent\u00e1vel. A Europa depende dos combust\u00edveis n\u00e3o renov\u00e1veis, principalmente do petr\u00f3leo. Os pre\u00e7os est\u00e3o a subir de forma constante e atingiu um recorde superior a 140\u20ac por barril de petr\u00f3leo durante o primeiro semestre de 2008. Muitos pa\u00edses importadores, e as suas economias nacionais, dependem muito dos pa\u00edses exportadores que fazem parte da OPEP (Organiza\u00e7\u00e3o dos Pa\u00edses Exportadores de Petr\u00f3leo) que tem o monop\u00f3lio da produ\u00e7\u00e3o de petr\u00f3leo com cerca de 78% das reservas mundiais. Este sistema energ\u00e9tico tradicional tamb\u00e9m tem repercuss\u00f5es muito conhecido no ambiente. Agora, reduzir as emiss\u00f5es de CO2 de modo \u00e0 redu\u00e7\u00e3o das altera\u00e7\u00f5es clim\u00e1ticas tornaram-se uma das prioridades mundiais e a janela de tempo que nos resta para agir \u00e9 cada vez menor. A energia e\u00f3lica oferece uma solu\u00e7\u00e3o imediata e concreta para a\nenergia. Vento \u00e9 uma limpa, abundante, omnipresente e inesgot\u00e1vel forma de energia. Se a Europa atingir a meta de 12% da electricidade gerada, proveniente da energia e\u00f3lica, at\u00e9 2020, os benef\u00edcios ser\u00e3o concretos e vis\u00edveis. A procura de petr\u00f3leo e g\u00e1s iria cair, como resultado, e a press\u00e3o inflacionista sobre a economia seria flexibilizada. Com esses 12% da energia e\u00f3lica, seria tamb\u00e9m muito importante para o desemprego, na cria\u00e7\u00e3o de cerca de 368.000 novos postos de trabalho nos pr\u00f3ximos 12 anos (at\u00e9 2020), para aumentar a independ\u00eancia energ\u00e9tica, para manter a lideran\u00e7a global da UE na produ\u00e7\u00e3o de energia e\u00f3lica, para gera\u00e7\u00e3o de riqueza e poderia resultar na poupan\u00e7a de cerca de 330 milh\u00f5es de toneladas de emiss\u00f5es de CO2 por ano. Em 2010, isso seria equivalente \u00e0 redu\u00e7\u00e3o de um ter\u00e7o das emiss\u00f5es de CO2 actuais da EU, alvo no \u00e2mbito do Protocolo de Quioto.\nEuropa\tFinal de 2006\tDurante 2007\tFinal de 2007\tDurante 2008\tFinal de 2008\nAustria\t965\t20\t985\t14\t999\nB\u00e9lgica\t194\t93\t287\t104\t384\nBulg\u00e1ria\t36\t34\t70\t101\t171\nChipre\t0\t0\t0\t\t\nRep\u00fablica Checa\t54\t63\t116\t34\t150\nDinamarca\t3,136\t3\t3,125\t77\t3,180\nEst\u00f3nia\t32\t26\t58\t20\t78\nFinl\u00e2ndia\t86\t24\t110\t33\t143\nFran\u00e7a\t1,567\t888\t2454\t950\t3.404\nAlemanha\t20,622\t1,667\t22,247\t1,665\t23,903\nGr\u00e9cia\t746\t125\t871\t114\t985\nHungria\t64\t4\t65\t62\t127\nIrlanda\t746\t59\t805\t208\t1,012\nIt\u00e1lia\t2,123\t603\t2,726\t1,010\t3,736\nLet\u00f3nia\t27\t0\t27\t0\t27\nLitu\u00e2nia\t48\t7\t51\t3\t54\nLuxemburgo\t35\t0\t35\t0\t35\nMalta\t0\t0\t0\t0\t0\nHolanda\t1,558\t210\t1,746\t500\t2,225\nPol\u00f3nia\t153\t123\t276\t196\t472\nPortugal\t1,716\t434\t2,150\t712\t2,862\nRom\u00e9nia\t3\t5\t8\t2\t10\nEslov\u00e1quia\t5\t0\t5\t0\t3\nEslov\u00e9nia\t0\t0\t0\t0\t0\nEspanha\t11,623\t3,522\t15,145\t1,609\t16,740\nSu\u00e9cia\t571\t217\t788\t236\t1,021\nReino Unido\t1,962\t427\t2,389\t836\t3,241\nTotal EU-12\t419\t263\t675\t417\t1,078\nTotal EU-15\t47,651\t8,291\t55,860\t8,067\t63,857\nTotal EU-27\t48,069\t8,554\t56,535\t8,484\t64,935\nTabela 2.1 - Capacidade de Energia E\u00f3lica na EU no final de 2008 [EWEA]\nFaroe Islands\n4\nRep al Ireland\n805\nFinland\n\tNorway 333\t\t110\n\t\tSweden\tEstonia\n\t\t\t\n\t\t\t\n\t\t\tLatvia\n\tDanmark\t\t27\nUK\t3,125\t\tLithuania\n2,389\t\t\t59\nNetherlands\t\t\t\n\t\tPoland\t\nBelgium\tGermany\t276\t\n287\t22.247\t\t\nLuxembourg\n35\nFrance\n2,454\nPortugal\n2.150\nSpain\n15,145\nSwitzerland\n12\nHungary\nCroatia\nAustria\n987\nCzech Republic\n116 Slovakia\nUkraine\n89\nRomania\n8\nBulgaria\n70\nTurkey\n146\nGreece\n871\nEuropean Union: 56.535 MW Candidate Countries: 163 MW EFTA: 345 MW\nTotal Europe: 57,136 MW\nFigura 2.7 - Capacidade de Energia E\u00f3lica na EU no final de 2007 [EWEA]\nBelgium 0.51%\nIreland 1.42%\t, Sweden 1.39%\n'Czech Republic, Finland, Bulgaria, Hungary, Estonia, Latvia, Romania and Slovakia represent less than 0.5% of the EU cumulative capacity.\nCyprus, Malta and Slovenia have no wind power installed.\nFigura 2.8 - Capacidade de Energia E\u00f3lica dos estados membros da EU-27 at\u00e9 ao final de 2007 [EWEA]\nEm 2007, a capacidade e\u00f3lica cresceu mais do que qualquer outra tecnologia na Europa, um aumento impulsionado pela Espanha. Estat\u00edsticas fornecidas pela associa\u00e7\u00e3o EWEA (European Wind Energy Association, em portugu\u00eas, Associa\u00e7\u00e3o Europeia de Energia E\u00f3lica, em princ\u00edpios de Fevereiro de 2008 mostrou que a capacidade e\u00f3lica instalada aumentou 18% em 2007 para atingir um n\u00edvel de 56.535 MW. Apesar deste aumento, o crescimento n\u00e3o foi t\u00e3o elevada como previsto em alguns pa\u00edses da UE. No entanto, a energia e\u00f3lica continuou a ser uma das mais populares fontes de novas centrais de produ\u00e7\u00e3o na Uni\u00e3o Europeia durante o ano de 2007, sendo respons\u00e1vel por 40% de todas as novas instala\u00e7\u00f5es. A capacidade total dos novos geradores e\u00f3licas instalados, em toda a Uni\u00e3o Europeia no ano passado, foi de 8554 MW, um aumento de 935 MW em rela\u00e7\u00e3o ao ano 2006. A capacidade instalada no final de 2007 vai produzir 119 TW horas de electricidade com uma m\u00e9dia do vento ano, igual a 3,7% da energia da UE.\nFigura 2.9 - Capacidade de Energia E\u00f3lica dos estados membros da EU-27 durante 2007 [EWEA]\nEm 2007, o desempenho mais impressionante veio de Espanha. Foram instalados 3522 MW de energia e\u00f3lica - que representam 40% do total europeu instalado no mesmo ano. O sucesso espanhol resultou de um claro incentivo nacional na energia renov\u00e1vel, assim como fortes metas regionais. Os outros principais pa\u00edses s\u00e3o: Alemanha (1667 MW de nova capacidade), Fran\u00e7a (888 MW), It\u00e1lia (603 MW), Portugal (434 MW) e Reino Unido (427 MW). Fran\u00e7a aumentou o seu n\u00edvel de energia e\u00f3lica para 2454 MW, uma indica\u00e7\u00e3o de que o regime de incentivos e regras de planeamento introduzidas h\u00e1 alguns anos, est\u00e3o agora a obter os resultados. Outros pa\u00edses que tiveram bom desempenho foram a Su\u00e9cia, que instalou 218 MW at\u00e9 atingir um total de 788 MW, e a Pol\u00f3nia, a mais bem sucedida dos novos Estados-Membros, com um total de 276 MW. A Rep\u00fablica Checa tamb\u00e9m instalados 63 MW e da Bulg\u00e1ria, 34 MW.\n\u00c9 muito positivo que a energia e\u00f3lica est\u00e1 actualmente a aumentar mais rapidamente do que qualquer outra tecnologia na Europa. No entanto, se excluirmos os n\u00fameros da Espanha, o mercado europeu de energia e\u00f3lica teve um pequeno decl\u00ednio no decorrer do ano de 2007.\nComo resultado, o crescimento global de 12% n\u00e3o foi t\u00e3o impressionante como poderia ter sido. O mercado global para geradores e\u00f3licos cresceu em cerca de 30% no ano passado para 20000 MW, e as empresas europeias continuam a ser l\u00edderes na \u00e1rea. O mercado europeu estima que tenha sido no valor de cerca de \u20ac 25 mil milh\u00f5es em 2007. A diferen\u00e7a de ritmo em alguns pa\u00edses pode ser explicadas por uma mistura de lentid\u00e3o de processos administrativos, com problemas no acesso \u00e0 rede e incertezas legislativas.\nO crescimento da produ\u00e7\u00e3o da Energia E\u00f3lica tem estimulado a crescimento das economias europeias contribuindo tamb\u00e9m, para o aumento da percentagem de energia el\u00e9ctrica proveniente do vento, no total de energia el\u00e9ctrica necess\u00e1ria. A Espanha obt\u00e9m agora 10% da sua electricidade a partir de energia e\u00f3lica, a Alemanha 7,2% [EWEA 2007 ANNUAL REPORT, EWEA]. Em termos globais, a Europa contribui actualmente com 61% da capacidade mundial de energia e\u00f3lica, que agora atingiu mais de 94 GW (20 GW foram instalado em 2007), de acordo com a Global Wind Energy Council (GWEC - Global Wind 2007 Report).\nFigura 2.10 - Capacidade de Energia E\u00f3lica global 1990-2007 (em MW)\nFigura 2.11 - Capacidade de Energia E\u00f3lica anual 1990-2007 (em MW)\n\u00c1frica e M\u00e9dio Oriente\tFinal de 2006\tDurante 2007\tFinal de 2007\nEgipto\t230\t80\t310\nMarrocos\t64\t60\t124\nIr\u00e3o\t48\t19\t67\nTun\u00edsia\t20\t0\t20\nOutros\t16\t1\t17\nTotal\t378\t160\t538\nTabela 2.2 - Capacidade de Energia E\u00f3lica em \u00c1frica e M\u00e9dio Oriente no final de 2007 [GWEC]\n\u00c1sia\tFinal de 2006\tDurante 2007\tFinal de 2007\n\u00cdndia\t6,270\t1,575\t7,845\nChina\t2,599\t3,304\t5,906\nJap\u00e3o\t1,309\t229\t1,538\nTail\u00e2ndia\t188\t100\t282\nKorea do Sul\t173\t18\t191\nFilipinas\t25\t0\t25\nOutros\t5\t0\t5\nTotal\t10,569\t5,226\t15,831\nTabela 2.3 - Capacidade de Energia E\u00f3lica na \u00c1sia no final de 2007 [GWEC]\nAm\u00e9rica do Sul\tFinal de 2006\tDurante 2007\tFinal de 2007\nBrasil\t237\t10\t247\nM\u00e9xico\t87\t0\t87\nCosta Rica\t74\t0\t74\nCara\u00edbas\t35\t0\t35\nArgentina\t27\t2\t29\nCol\u00f4mbia\t20\t0\t20\nJamaica\t20\t0\t20\nChile\t2\t18\t20\nCuba\t5\t0\t5\nTotal\t507\t30\t537\nTabela 2.4 - Capacidade de Energia E\u00f3lica na Am\u00e9rica do Sul no final de 2007 [GWEC]\nAm\u00e9rica do Norte\tFinal de 2006\tDurante 2007\tFinal de 2007\nUSA\t11,575\t5,244\t16,818\nCanada\t1,460\t386\t1,846\nTotal\t13,035\t5,630\t18,664\nTabela 2.5 - Capacidade de Energia E\u00f3lica em Am\u00e9rica do Norte no final de 2007 [GWEC]\nRegi\u00e3o do Pac\u00edfico\tFinal de 2006\tDurante 2007\tFinal de 2007\nAustr\u00e1lia\t817\t7\t824\nNova Zel\u00e2ndia\t171\t151\t322\nIlhas Pac\u00edfico\t12\t0\t12\nTotal\t10,000\t158\t1,158\nTabela 2.6 - Capacidade de Energia E\u00f3lica na regi\u00e3o do Pac\u00edfico no final de 2007 [GWEC]\nFigura 2.12 - Capacidade anual de instala\u00e7\u00e3o de Energia E\u00f3lica por regi\u00e3o 2003-2007 [GWEC]\n2.5.3.\tAspectos Econ\u00f3micos da Energia E\u00f3lica\nA quest\u00e3o energ\u00e9tica est\u00e1 sempre ligada ao desenvolvimento de uma regi\u00e3o ou pais. \u00c9 nos pa\u00edses mais desenvolvidos que est\u00e3o os grandes parques e\u00f3licos com capacidade para produ\u00e7\u00e3o de muitos MWs [9] [12] [13]. Hoje, \u00e9 necess\u00e1ria muito mais energia el\u00e9ctrica, e cada vez mais, do que em qualquer outro per\u00edodo da historia industrial. Em consequ\u00eancia, tamb\u00e9m s\u00e3o muito mais vis\u00edveis os efeitos dessa elevada necessidade de energia, ligada \u00e0 industrializa\u00e7\u00e3o, com os crescentes \u00edndices de polui\u00e7\u00e3o.\nAs abordagens econ\u00f3micas de sistemas e\u00f3licos com liga\u00e7\u00e3o \u00e0 rede podem ser feitas do ponto de vista das autoridades governamentais que regulam os custos anuais de energia \u20ac/kWh para as diferentes formas de produ\u00e7\u00e3o de energia. Esta abordagem \u00e9 feita ao n\u00edvel da economia internacional n\u00e3o incluindo factores sociais ou influ\u00eancias governamentais tais como taxas de infla\u00e7\u00e3o, taxas de CO2 ou outro tipo de taxas. O outro tipo de abordagem \u00e9 da perspectiva dos investidores privados na produ\u00e7\u00e3o de energia el\u00e9ctrica. Nesta abordagem j\u00e1 est\u00e3o inclu\u00eddos as taxas10 aplicadas por cada pa\u00eds. Como consequ\u00eancia, e devido ao n\u00edvel da economia de cada pa\u00eds, a viabilidade dos sistemas de energia e\u00f3lica difere muito de pa\u00eds para pa\u00eds. Ainda na perspectiva dos investidores privados, a an\u00e1lise econ\u00f3mica poder\u00e1 ser feita de duas formas diferentes: considerando os custos anuais de energia \u20ac/kW; ou fazendo um estudo individual para cada projecto onde se tem em conta o montante do investimento, o cash-flow e o tempo de amortiza\u00e7\u00e3o do investimento.\nEstudos da EWEA demonstram que o pre\u00e7o \u20ac/kWh de energia e\u00f3lica est\u00e1 inflacionado e pode ter uma elevada redu\u00e7\u00e3o (cerca de 25%), com o incentivo e ajuda em novos desenvolvimentos da tecnologia e com o aumento do volume da produ\u00e7\u00e3o.\nPortugal, no \u00e2mbito da Estrat\u00e9gia de Sustentabilidade Econ\u00f3mica, Social e Ambiental, tem vindo a investir cada vez mais em energias renov\u00e1veis, o que lhe faculta uma maior independ\u00eancia energ\u00e9tica e um aumento da competitividade. Considera-se assim, que o investimento neste tipo de energias \u00e9 um elemento das pol\u00edticas econ\u00f3micas anti-crise.\n10 Taxa de infla\u00e7\u00e3o, taxa de actualiza\u00e7\u00e3o, entre outras taxas.\n2.6.\tAerogeradores\nComo referido no ponto 2.5.1.2 - Hist\u00f3ria do uso os moinhos foram uma das primeiras aplica\u00e7\u00f5es com suporte no vento, que evoluiu para os aerogeradores com o elevado aumento de produ\u00e7\u00e3o de energia e a necessidade de esta ser produzida utilizando os recursos naturais (inesgot\u00e1veis) poss\u00edveis. Assim, no decorrer do \u00faltimo s\u00e9culo existiram grandes avan\u00e7os para chegar dos moinhos aos aerogeradores com MW que s\u00e3o instalados actualmente.\nEm finais do s\u00e9c. XIX construiu-se o primeiro aerogerador para a produ\u00e7\u00e3o el\u00e9ctrica [1]. Este moinho de vento foi constru\u00eddo por Charles Brush (1849 - 1929) e tinha 17 metros de altura e um rotor de 144 p\u00e1s, totalmente constru\u00eddo de madeira de cedro. Charles Brush foi um dos fundadores da energia el\u00e9ctrica. Entre as suas descobertas destaca-se o d\u00ednamo11 utilizado na rede el\u00e9ctrica p\u00fablica.\nFigura 2.13 - Aerogerador inventado por Charles Brush12\nPouco depois, o dinamarqu\u00eas Poul la Cour (1846-1908), que teve, originalmente, uma forma\u00e7\u00e3o como meteorologista, descobriu que os geradores de vento que rodavam rapidamente e possu\u00edam rotores com poucas p\u00e1s geravam electricidade mais eficientemente que os geradores de vento de movimento lento com rotores de muitas p\u00e1s. Ele preocupou-se com o armazenamento de energia e por essa raz\u00e3o, utilizava a electricidade produzida pelos geradores e\u00f3licos para obter hidrog\u00e9nio para as l\u00e2mpadas de g\u00e1s. 11 12\n11\tSistema de rota\u00e7\u00e3o que transforma energia mec\u00e2nica em el\u00e9ctrica.\n12\tImagem retirada de www.naosmm.org/confer/cleveland/first.html\nFigura 2.14 - Aerogeradores descobertos por Poul la Cour13\nIsto proporcionou in\u00fameros avan\u00e7os nos geradores e\u00f3licos durante o s\u00e9c. XX. Estes avan\u00e7os incluem a introdu\u00e7\u00e3o dos geradores de corrente alterna, a normaliza\u00e7\u00e3o do modelo com rotor, das equipas de orienta\u00e7\u00e3o electromec\u00e1nicas para assegurar-se de que o rotor est\u00e1 sempre virado directamente de para vento, e de freios de controlo para prevenir que o rotor rode demasiado r\u00e1pido face a ventos fortes. Os aerogeradores modernos t\u00eam poucas p\u00e1s mas estas s\u00e3o muito mais largas para capturar energia do vento.\nEm 1956, foi constru\u00eddo um inovador aerogerador, por J. Juul para a companhia el\u00e9ctrica SEAS, na costa de Gedser, na parte sul da Dinamarca. O aerogerador constitu\u00eddo por 3 p\u00e1s, com orienta\u00e7\u00e3o electromec\u00e1nica e um gerador ass\u00edncrono, foi um desenho pioneiro, apesar do rotor, com cabos de apoio, parecer um modelo ultrapassado. Este gerador possu\u00eda a op\u00e7\u00e3o de regula\u00e7\u00e3o aerodin\u00e1mica. Foram inventados freios aerodin\u00e1micos de emerg\u00eancia na ponta das p\u00e1s, que se soltavam com o aumento da velocidade (for\u00e7a centr\u00edfuga). Basicamente, \u00e9 o mesmo sistema utilizado nos actuais aerogeradores de regula\u00e7\u00e3o aerodin\u00e1mica. Durante muitos anos, este gerador foi o maior do mundo.\nFigura 2.15 - Aerogerador de Gedser14\n13 Imagem retirada de www.windpower.org/en/pictures/lacour.htm\nO aerogerador de Gedser foi evolu\u00eddo, em 1975, a pedido da NASA, para os Estados Unidos verificarem a viabilidade da produ\u00e7\u00e3o da energia e\u00f3lica, isto depois da primeira crise do petr\u00f3leo, em 1973. O interesse pela energia e\u00f3lica disparou e nos Estados Unidos foram instalados, entre 1980 e 1995 cerca de 1700 MW de capacidade e\u00f3lica, mais de metade depois de 1985 quando as taxas de cr\u00e9dito foram reduzidas 15%.\nNo inicio dos anos 80, muitas das quest\u00f5es tecnologias ligadas aos rotores foram investigadas. Os rotores de a\u00e7o, foram rejeitados por serem demasiado pesados, o alum\u00ednio foi considerada demasiado incerto no contexto de fadiga. A constru\u00e7\u00e3o foi dominada pela fibra de poli\u00e9ster.\nO crescimento da energia e\u00f3lica na Calif\u00f3rnia n\u00e3o foi sustentado, em contrapartida, na Europa existiu um marcante desenvolvimento, por exemplo, na Alemanha com uma taxa de instala\u00e7\u00e3o de cerca de 200 MW por ano, no inicio da d\u00e9cada de 1990. Desde ent\u00e3o, na Europa, o n\u00famero de fabricantes ligados \u00e1 explora\u00e7\u00e3o da energia e\u00f3lica \u00e9 maior, e t\u00eam evolu\u00eddo muito tecnologicamente na produ\u00e7\u00e3o de aerogeradores.\nActualmente tem existido uma grande diversifica\u00e7\u00e3o na produ\u00e7\u00e3o e instala\u00e7\u00e3o de aerogeradores. Cada vez mais os aerogeradores instalador nos parques e\u00f3licos s\u00e3o de maior pot\u00eancia, na ordem dos 2/5 MW, e de maiores dimens\u00f5es, na ordem da centena de metros (ver Figura 2.16), mas por seu lado a produ\u00e7\u00e3o de micro aerogeradores caseiros ou para pequenos sistemas (na ordem dos poucos KW) tamb\u00e9m tem vindo a crescer a um ritmo bastante elevado na \u00faltima d\u00e9cada.\nFigura 2.16 - Rela\u00e7\u00e3o pot\u00eancia x tamanho dos Aerogeradores [EWEA] [11]\n2.6.1.\tTipos de Aerogeradores\nApesar do princ\u00edpio de funcionamento de um aerogerador ser f\u00e1cil de entender, e j\u00e1 referido pelo autor da tese, esta m\u00e1quina \u00e9 um sistema complexo que resulta de v\u00e1rias \u00e1reas\n14Imagem retirada de\nhttD://www.intranet.cathedralgrammar.school.nz/Inhouse%20web%20sites/WindPower/fr/pictures/iuul.htm\nde conhecimento tais como aerodin\u00e2mica, mec\u00e2nica, el\u00e9ctrica e controlo. As p\u00e1s das m\u00e1quinas modernas s\u00e3o dispositivos aerodin\u00e2micos com perfis especialmente desenvolvidos, equivalentes \u00e0s asas dos avi\u00f5es, e que funcionam pelo princ\u00edpio f\u00edsico da sustenta\u00e7\u00e3o. S\u00e3o as p\u00e1s juntamente com a velocidade do vento permitem rodar\nActualmente os principais geradores existentes no mercado s\u00e3o de tr\u00eas tipos. As principais diferen\u00e7as entre eles dizem respeito ao sistema de gera\u00e7\u00e3o e o modo como a efici\u00eancia aerodin\u00e2mica do rotor \u00e9 limitada durante as altas velocidades do vento de maneira a prevenir sobrecargas mec\u00e2nicas. Os tr\u00eas tipos s\u00e3o:\n-\tGerador de indu\u00e7\u00e3o de rotor em gaiola;\n-\tGerador de indu\u00e7\u00e3o duplamente alimentado (rotor bobinado);\n-\tGerador s\u00edncrono acoplado directamente ao rotor do gerador e\u00f3lico;\nO primeiro sistema de gera\u00e7\u00e3o \u00e9 o mais antigo. Este sistema consiste num gerador de indu\u00e7\u00e3o de rotor em gaiola conectado directamente a rede el\u00e9ctrica. O escorregamento e, consequentemente, a velocidade, variam com a quantidade de pot\u00eancia gerada. A varia\u00e7\u00e3o de velocidade, contudo, \u00e9 pequena, aproximadamente 1% a 2%. Dessa forma, este tipo de sistema \u00e9 chamado de velocidade constante ou aerogerador de velocidade fixa. De referir que o gerador de indu\u00e7\u00e3o de rotor em gaiola usado em aerogeradores pode girar em duas velocidades diferentes, mas constantes, pela mudan\u00e7a do n\u00famero de p\u00f3los do enrolamento do estator. O gerador de indu\u00e7\u00e3o de rotor em gaiola consome energia reactiva. Na maioria dos casos isto \u00e9 particularmente indesejado por causa dos problemas de n\u00edvel de tens\u00e3o no ponto de conex\u00e3o devido ao fluxo de pot\u00eancia reactiva na rede el\u00e9ctrica. Dessa forma, o consumo de pot\u00eancia reactiva pelo gerador de indu\u00e7\u00e3o \u00e9 compensado, em parte ou totalmente, por condensadores. Os outros dois sistemas de gera\u00e7\u00e3o s\u00e3o os de velocidade vari\u00e1vel. Para permitir a opera\u00e7\u00e3o em velocidade vari\u00e1vel, a velocidade mec\u00e2nica e a frequ\u00eancia da rede devem estar desacopladas. Para tal, s\u00e3o usados dispositivos electr\u00f3nicos. No gerador de indu\u00e7\u00e3o duplamente alimentado um conversor alimenta o enrolamento trif\u00e1sico do rotor. Desse modo, a frequ\u00eancia mec\u00e2nica e el\u00e9ctrica do rotor est\u00e3o desacopladas e a frequ\u00eancia el\u00e9ctrica do estator e do rotor s\u00e3o equivalentes, independente da velocidade mec\u00e2nica do rotor. Este sistema tem as seguintes vantagens:\n-Redu\u00e7\u00e3o de custo do inversor, pois a pot\u00eancia do mesmo \u00e9 da ordem de 25% da pot\u00eancia total do sistema;\n-Redu\u00e7\u00e3o de custo dos filtros, pois os mesmos s\u00e3o dimensionados para 25% da pot\u00eancia total do sistema, e os harm\u00f3nicos produzidos pelo inversor representa apenas uma pequena frac\u00e7\u00e3o da distor\u00e7\u00e3o harm\u00f3nica total;\n-Ganho de efici\u00eancia de aproximadamente 2% a 3%;\n-Desacoplamento das pot\u00eancias activa e reactiva do gerador;\n-Implementa\u00e7\u00e3o do controlo do factor de pot\u00eancia, pois o conjunto gerador de indu\u00e7\u00e3o e inversor operam basicamente como um gerador s\u00edncrono. O inversor fornece a pot\u00eancia de excita\u00e7\u00e3o para a m\u00e1quina de indu\u00e7\u00e3o.\nNo caso do gerador s\u00edncrono acoplado directamente ao eixo do gerador e\u00f3lico, o mesmo \u00e9 completamente desacoplado da rede el\u00e9ctrica por um dispositivo electr\u00f3nico conectado aos enrolamentos do estator. O gerador s\u00edncrono \u00e9 excitado usando um enrolamento de campo ou \u00edm\u00e3s permanentes. Este sistema tem como principal vantagem\n-O inversor deve ser dimensionado para suportar a pot\u00eancia total do sistema;\n-Como consequ\u00eancia a efici\u00eancia do inversor vai afectar a efici\u00eancia total do sistema.\nOs aerogeradores s\u00e3o normalmente caracterizados pela orienta\u00e7\u00e3o do eixo do rotor: vertical e horizontal. Apesar de os geradores e\u00f3licos de eixo vertical terem as grandes vantagens o facto de o gerador estar na base e de poder captar os ventos sem nenhum mecanismo de orienta\u00e7\u00e3o, os geradores e\u00f3licos de eixo horizontal s\u00e3o as mais produzidas e comercializadas. Poucos s\u00e3o os aerogeradores de eixo vertical que se encontram dispon\u00edveis comercialmente.\n2.6.1.1.\tAerogeradores de Eixo Vertical\nOs aerogeradores de eixo vertical t\u00eam a vantagem de n\u00e3o necessitarem de mecanismos para varia\u00e7\u00f5es em fun\u00e7\u00e3o da direc\u00e7\u00e3o do vento, o que reduz a complexidade do projecto. Estes tamb\u00e9m podem ser movidos por for\u00e7as de sustenta\u00e7\u00e3o (lift) e por for\u00e7as de arrasto (drag). Os principais tipos de rotores de eixo vertical s\u00e3o Darrieus e Savonius. Os rotores do tipo Darrieus s\u00e3o movidos por for\u00e7as de sustenta\u00e7\u00e3o e constituem-se de l\u00e2minas curvas (duas ou tr\u00eas) de perfil aerodin\u00e2mico, atadas pelas duas pontas ao eixo vertical. Apesar de os aerogeradores com eixo vertical existirem h\u00e1 s\u00e9culos, n\u00e3o s\u00e3o menos comuns, devido ao facto de aproveitarem menos as velocidades altas dos ventos em grandes eleva\u00e7\u00f5es e \u00e0 sua incapacidade de auto-arranque necessitando de meios externos de aux\u00edlio.\nFigura 2.17 - Aerogerador Darrieus e Savonius, respectivamente15\n2.6.1.2.\tAerogeradores de Eixo Horizontal\nOs rotores de eixo horizontal s\u00e3o os mais explorados mundialmente na produ\u00e7\u00e3o de energia e\u00f3lica. S\u00e3o movidos por for\u00e7as aerodin\u00e2micas chamadas de for\u00e7as de sustenta\u00e7\u00e3o\n15 Imagens retiradas de http://www.bellera.org/molins/aerogeneradors darrieus.htm e www.oswego.edu/nova/facts/wind/wind.html\n(lift) e for\u00e7as de arrasto (drag). Os projectos das p\u00e1s deste tipo de rotores, beneficiaram da tecnologia das asas dos avi\u00f5es, que t\u00eam o mesmo princ\u00edpio de funcionamento. Ambas as for\u00e7as aerodin\u00e2micas que actuam nas p\u00e1s do rotor s\u00e3o proporcionais ao quadrado da velocidade relativa do vento. Adicionalmente, as for\u00e7as de sustenta\u00e7\u00e3o dependem da geometria do corpo e do \u00e2ngulo de ataque16.\nOs rotores de eixo horizontal ao s\u00e3o predominantemente movidos por for\u00e7as de sustenta\u00e7\u00e3o e devem possuir mecanismos capazes de permitir as p\u00e1s estejam sempre em posi\u00e7\u00e3o perpendicular ao vento. Estes rotores podem ser constitu\u00eddos de uma p\u00e1 e contrapeso, duas p\u00e1s, tr\u00eas p\u00e1s ou m\u00faltiplas p\u00e1s. As p\u00e1s podem ser dos mais variados materiais e ter as mais variadas formas. Em geral, utilizam-se p\u00e1s r\u00edgidas de madeira, alum\u00ednio ou fibra de vidro refor\u00e7ada. Os rotores mais utilizados para gera\u00e7\u00e3o de energia el\u00e9ctrica s\u00e3o os de eixo horizontal (tipo h\u00e9lice), ultimamente compostos de 3 p\u00e1s. A Figura\n2.18 ilustra um gerador e\u00f3lico de grande porte.\nFigura 2.18 - Aerogerador de 3 p\u00e1s e eixo horizontal17\n2.6.2.\tDimens\u00f5es dos Aerogeradores\nA dimens\u00e3o dos aerogeradores depende da pot\u00eancia que desejamos. Quanto mais energia for produzida pelo aerogerador maior \u00e9 o seu tamanho. Actualmente existe uma grande gama de geradores e\u00f3licas, que podem ser divididos quanto ao seu tamanho (pot\u00eancia):\nPequeno porte: possuem pot\u00eancias nominais na faixa de centenas de W a unidades de kW e di\u00e2metros de rotor de 2m a 10m, sendo destinadas tipicamente \u00e0 utiliza\u00e7\u00e3o em sistemas isolados\nM\u00e9dio porte: pot\u00eancias nominais na faixa de unidades a dezenas de kW e di\u00e2metros de rotor de 10m a 15m;\nGrande porte: pot\u00eancias nominais variando de centenas de kW a unidades de MW e di\u00e2metros de rotor de 30m a 100m, sendo destinadas \u00e0 utiliza\u00e7\u00e3o em parques e\u00f3licos. As maiores m\u00e1quinas dispon\u00edveis comercialmente t\u00eam pot\u00eancia nominal entre 2 e 5 MW.\n16\t\u00c2ngulo entre o vento e a superf\u00edcie das p\u00e1s\n17\tImagem retirada de httD://engambiente3.blogspot.com/2007/08/turbina-de-eixo-vertical.html\n\t\t\nUniversidade de Aveiro\t40\t\nTodos estes geradores e\u00f3licos produzem energia para fornecerem a rede el\u00e9ctrica mas a produ\u00e7\u00e3o de energia pode ter outros fins (ver 2.7.2 - Aplica\u00e7\u00f5es dos Sistemas E\u00f3licos).\nPara estimar a energia produzida por uma m\u00e1quina e\u00f3lica \u00e9 necess\u00e1rio conhecer, al\u00e9m das caracter\u00edsticas da m\u00e1quina que ser\u00e1 utilizada (curva pot\u00eancia x velocidade do vento), a distribui\u00e7\u00e3o estat\u00edstica da velocidade do vento no local onde ela ser\u00e1 instalada.\n2.6.3.\tComponentes de um Aerogerador\nNa Figura 2.19 est\u00e3o identificados os componentes de um sistema e\u00f3lico de um aerogerador de eixo horizontal, dos mais comuns e mais modernos para interligar \u00e0 rede el\u00e9ctrica [1], entre os quais se destacam:\n-o vento: fonte de energia natural respons\u00e1vel pela instala\u00e7\u00e3o do sistema e\u00f3lico;\n-o rotor: respons\u00e1vel por transformar energia cin\u00e9tica do vento em energia mec\u00e2nica de rota\u00e7\u00e3o;\n-a cabine: que cont\u00e9m o sistema mec\u00e2nico;\n-a transmiss\u00e3o ou caixa de velocidades: respons\u00e1vel por transmitir a energia mec\u00e2nica entregue pelo eixo do rotor at\u00e9 ao gerador. Alguns geradores n\u00e3o utilizam este componente, neste caso o eixo do rotor est\u00e1 directamente acoplado;\n-o gerador el\u00e9ctrico: respons\u00e1vel pela produ\u00e7\u00e3o de energia el\u00e9ctrica a partir de energia mec\u00e2nica;\n-os mecanismos de controlo: respons\u00e1vel pela orienta\u00e7\u00e3o do rotor, controlo de velocidade, controlo de carga;\n-a torre: que permite elevar as p\u00e1s e todo o sistema mec\u00e2nico e el\u00e9ctrico para ventos mais regulares;\nFigura 2.19 - Componentes de um Gerador E\u00f3lico NORDEX N54 [1]\n1 - p\u00e1s do rotor; 2 - cubo do rotor; 3 - cabine; 4 - chumaceira do rotor; 5 - veio do rotor; 6 - caixa de velocidades; 7 - trav\u00e3o de disco; 8 - veio do gerador; 9 - gerador; 10 -sistema de arrefecimento; 12 - anem\u00f3metro e sensor de direc\u00e7\u00e3o; 13 - sistema de controlo; 14 - sistema hidr\u00e1ulico; 15 - mecanismo de orienta\u00e7\u00e3o direccional; 16 - chumaceira do mecanismo de orienta\u00e7\u00e3o direccional; 17 - cobertura da cabine; 18 - torre;\n2.6.3.I.\tRotor E\u00f3lico\nSendo o rotor o componente do sistema e\u00f3lico respons\u00e1vel por captar a energia cin\u00e9tica dos ventos e transform\u00e1-la em energia mec\u00e2nica de rota\u00e7\u00e3o, \u00e9 tamb\u00e9m, o componente mais caracter\u00edstico de um sistema e\u00f3lico. A sua configura\u00e7\u00e3o influenciar\u00e1 directamente no rendimento global do sistema. Estes s\u00e3o classificados segundo v\u00e1rios crit\u00e9rios sendo o mais importante a orienta\u00e7\u00e3o do eixo. Assim, existem os rotores de eixo horizontal e os rotores de eixo vertical (ver 2.6.1 Tipos de Aerogeradores).\n2.6.3.2.\tTransmiss\u00e3o\nA transmiss\u00e3o possui a finalidade de expedir a energia mec\u00e2nica entregue pelo eixo do rotor at\u00e9 ao gerador. \u00c9 composta por eixos, mancais, engrenagens de transmiss\u00e3o e acoplamentos.\nEste mecanismo \u00e9 respons\u00e1vel por adaptar as velocidades reduzidas do rotor \u00e0 velocidade de rota\u00e7\u00e3o muito mais elevada dos geradores. A velocidade angular dos rotores geralmente varia na faixa de 20 a 150 RPM, limitada pela velocidade na ponta das p\u00e1s que superior (tip speed). Os geradores (principalmente os geradores s\u00edncronos) trabalham a rota\u00e7\u00f5es muito mais elevadas (normalmente, entre 1200 a 1800 RPM), sendo portanto necess\u00e1rio a instala\u00e7\u00e3o de um sistema de multiplica\u00e7\u00e3o entre os eixos. Actualmente, alguns aerogeradores constru\u00eddos por alguns fabricantes n\u00e3o t\u00eam transmiss\u00e3o. Assim, em vez de ser utilizada uma caixa de velocidades para adaptar as velocidades do rotor e do gerador, s\u00e3o utilizados geradores de baixa velocidade. Ambos os sistemas, com ou sem transmiss\u00e3o, t\u00eam vantagens e desvantagens. A escolha deve ser feita mediante os objectivos do sistema e\u00f3lico.\n2.6.3.3.\tGeradores\nA transforma\u00e7\u00e3o da energia mec\u00e2nica de rota\u00e7\u00e3o em energia el\u00e9ctrica atrav\u00e9s de equipamentos de convers\u00e3o electromec\u00e2nica \u00e9 um problema tecnologicamente evolu\u00eddo. Contudo, muitos fabricantes tem dado uma resposta a este problema tecnol\u00f3gico e cada vez mais t\u00eam sido instalados sistemas e\u00f3licos e com geradores capazes de produzir mais energia el\u00e9ctrica, por todo o mundo. As caracter\u00edsticas dos geradores e\u00f3licos podem ser consultadas no ponto 2.6 - Aerogeradores.\n2.6.3.4.\tTorre\nA torre suporta a cabine e eleva o rotor at\u00e9 uma altura onde a velocidade do vento \u00e9 maior, com menos perturba\u00e7\u00f5es e mais constante. As torres modernas podem ter 100m, pelo que a estrutura tem de ser dimensionada para suportar a carga significativa da cabine, bem como para resistir \u00e0 exposi\u00e7\u00e3o de condi\u00e7\u00f5es naturais rigorosas durante a sua vida \u00fatil (cerca de 20 anos).\nA produ\u00e7\u00e3o destas torres tem sido dividida em dois tipos: tubulares, de bet\u00e3o ou a\u00e7o, sendo constitu\u00edda por v\u00e1rios elementos montados no local com aux\u00edlio a uma grua; ou entrela\u00e7adas, mais baratas, com suportes mais ligeiros, contudo t\u00eam vindo a ser menos utilizadas devido a quest\u00f5es de impacto visual.\n2.6.4.\tMecanismos de controlo\nOs mecanismos de controlo s\u00e3o essenciais ao funcionamento do aerogerador evitando danos estruturais e permitindo a orienta\u00e7\u00e3o do rotor, o controlo de velocidade, o controlo de carga, entre outros. Estes mecanismos permitem limitar a pot\u00eancia extra\u00edda do vento pelas p\u00e1s, evitando que a pot\u00eancia obtida com ventos superiores ao nominal provoque a destrui\u00e7\u00e3o dos componentes do sistema e\u00f3lico.\nOs mecanismos de controlo podem ser mec\u00e2nicos (velocidade, passo, freio), aerodin\u00e2micos (posicionamento do rotor), ou electr\u00f3nicos (controlo da carga).\nDevido \u00e0 actua\u00e7\u00e3o das for\u00e7as aerodin\u00e2micas nas p\u00e1s do rotor, uma torre e\u00f3lica converte a energia cin\u00e9tica do vento em energia mec\u00e2nica rotacional. Estas for\u00e7as aerodin\u00e2micas s\u00e3o geradas ao longo das p\u00e1s do rotor que necessitam de perfis especialmente projectados. Com a velocidade do fluxo de ar aumentando, as for\u00e7as de sustenta\u00e7\u00e3o aerodin\u00e2mica aumentam com a segunda pot\u00eancia (i.e., elevada ao quadrado) e a energia extra\u00edda do rotor com a terceira pot\u00eancia (i.e., elevada ao cubo) da velocidade do vento. Esta situa\u00e7\u00e3o necessita de um controlo de pot\u00eancia do rotor muito efectivo e r\u00e1pido de modo a evitar sobre carregamento el\u00e9ctrico e mec\u00e2nico no sistema de transmiss\u00e3o.\nOs modernos de aerogeradores utilizam dois diferentes princ\u00edpios de controlo aerodin\u00e2mico para limitar a extrac\u00e7\u00e3o de pot\u00eancia \u00e0 pot\u00eancia nominal do aerogerador, chamados de controlo de perdas aerodin\u00e2micas (stall) e controlo do \u00e2ngulo de passo (pitch).\n2.6.4.1.\tControlo de \u00c2ngulo de Passo (Pitch)\nO controlo de passo \u00e9 um sistema activo que normalmente necessita de uma informa\u00e7\u00e3o vinda do controlador do sistema. Sempre que a velocidade do vento aumente e leve a que a pot\u00eancia produzida pelo aerogerador ultrapasse uma pot\u00eancia espec\u00edfica, o controlador envia um sinal ao mecanismo de mudan\u00e7a do \u00e2ngulo de passo e as p\u00e1s do rotor giram em torno do seu eixo longitudinal, i.e., as p\u00e1s mudam o seu \u00e2ngulo de passo para reduzir o \u00e2ngulo de ataque de forma a diminuir a oposi\u00e7\u00e3o ao vento. Esta redu\u00e7\u00e3o diminui as for\u00e7as aerodin\u00e2micas (sustenta\u00e7\u00e3o e de arrasto) e, consequentemente, a extrac\u00e7\u00e3o de pot\u00eancia.\nPara velocidades do vento superiores \u00e0 velocidade nominal do aerogerador, o \u00e2ngulo \u00e9 alterado e mantido de forma a produzir apenas a pot\u00eancia nominal. Os aerogeradores com este mecanismo s\u00e3o mais sofisticados porque necessitam de um sistema de varia\u00e7\u00e3o do \u00e2ngulo de passo, que funciona de forma hidr\u00e1ulica.\nEste mecanismo de controlo tem como vantagens permitir o dito controlo de produ\u00e7\u00e3o de pot\u00eancia para quase todas as condi\u00e7\u00f5es do vento, alcan\u00e7ando a pot\u00eancia nominal mesmo para condi\u00e7\u00f5es em que a massa de ar \u00e9 baixa. Verifica-se, portanto, que a instala\u00e7\u00e3o deste tipo de aerogeradores em grandes altitudes \u00e9 aconselh\u00e1vel permitindo in\u00fameras vantagens, tais como: uma maior produ\u00e7\u00e3o de energia sob as mesmas condi\u00e7\u00f5es, a inutilidade de sistemas de travagem e possibilidade de as p\u00e1s serem colocadas de modo a permitirem a passagem de ventos elevados sem grande obst\u00e1culo.\n2.6.4.2.\tControlo de Perdas (Stall)\nAo contr\u00e1rio do controlo de perdas de \u00e1ngulo de passo, em que o sistema para velocidades elevadas reage apenas com informa\u00e7\u00e3o vinda do sistema de controlo (sistema activo), o controlo de perdas aerodin\u00e1micas (stall) \u00e9 um sistema passivo que reage \u00e0 velocidade do vento. As p\u00e1s do rotor s\u00e3o fixas e n\u00e3o podem girar em torno do seu eixo longitudinal. Como tal, o \u00e1ngulo de passo tem de ser escolhido de forma que, para velocidades de vento superiores a velocidade nominal, o aerogerador entre em perdas aerodin\u00e1micas, reduzindo as for\u00e7as de sustenta\u00e7\u00e3o e aumentando as for\u00e7as de arrasto. Assim, e devido a menores for\u00e7as de sustenta\u00e7\u00e3o e maiores de arrasto, o rotor mant\u00e9m a velocidade n\u00e3o aumentando a velocidade com o vento. Para evitar que o efeito stall ocorra em todas as posi\u00e7\u00f5es radiais das p\u00e1s ao mesmo tempo, o que reduziria significativamente a pot\u00eancia do rotor, as p\u00e1s possuem uma pequena tor\u00e7\u00e3o longitudinal que as levam a um suave desenvolvimento deste efeito.\nA produ\u00e7\u00e3o deste modelo de aerogeradores apresenta certas vantagens, tais como: ter uma estrutura da cabine do rotor muito mais simples e mais robusto, uma vez n\u00e3o ser necess\u00e1rio o sistema de controlo de passo. A manuten\u00e7\u00e3o dos sistemas com este tipo de controlo tamb\u00e9m \u00e9 menor devido ao facto de existirem menos pe\u00e7as m\u00f3veis, tornando o sistema muito mais simples. Contudo, como a aerodin\u00e1mica das p\u00e1s \u00e9 maior, estas t\u00eam de ser cuidadosamente projectadas para uma pot\u00eancia nominal.\n2.6.4.3. Controlo Stall Activo\nUltimamente t\u00eam sido produzidos aerogeradores com um mecanismo de controlo denominado stall activo, que consiste na jun\u00e7\u00e3o dos dois tipos de sistemas de controlo stall e de passo (pitch), cujo objectivo \u00e9 aproveitar as vantagens de ambos.\nTecnicamente as m\u00e1quinas de regula\u00e7\u00e3o activa por perda aerodin\u00e1mica (stall) s\u00e3o parecidas com as de controlo de pitch, contudo o controlo de perdas aerodin\u00e1micas permite uma maior regula\u00e7\u00e3o da produ\u00e7\u00e3o de pot\u00eancia do que com regula\u00e7\u00e3o passiva (pitch). Outra\n2.6.4.4. Pitch vsStall\nA discuss\u00e3o em torno de qual o m\u00e9todo de controlo mais vantajoso tem sido grande na industria e\u00f3lica. At\u00e9 ao aparecimento da produ\u00e7\u00e3o de Aerogeradores com capacidades de MW, em meados da d\u00e9cada de 1990, o controlo do tipo Stall era predominante em rela\u00e7\u00e3o ao controlo Pitch [1]. No entanto, actualmente o controlo Picth \u00e9 o favorito para os Aerogeradores de grande porte, existindo hoje mais do dobro de Aerogeradores com controlo Picth no mercado. Este facto acontece devido a uma combina\u00e7\u00e3o de v\u00e1rios factores. Os Custos globais s\u00e3o bastante semelhantes para cada tipo de desenho, mas o controlo Picth oferece potencialmente melhor qualidade e pot\u00eancia de sa\u00edda (este talvez tenha sido o factor mais importante no mercado alem\u00e3o). As vibra\u00e7\u00f5es induzidas pelo controlo Stall, tem motivado uma certa preocupa\u00e7\u00e3o, especialmente para as maiores m\u00e1quinas. T\u00eam sido poucos os ind\u00edcios de que ocorram estas vibra\u00e7\u00f5es em grande escala, embora tenha havido problemas espec\u00edficos associados com perdas de amortecimento aerodin\u00e2mico. No entanto, esta tem sido abordada atrav\u00e9s da introdu\u00e7\u00e3o de amortecedores de p\u00e1s do rotor.\n|\u2014Ou\u00bb 100064\u2014ICGMw 1CQ064 \u2014*fcrifc\u00ab4rl\u00d5\u00d5\u00d5]\nFigura 2.20 - Curvas de pot\u00eancia: pitch (Bonus) e stall (NEG e Nordex) [DanishAssoc]18\n2.6.4.5.\tControlo de Azimute\nUma t\u00e9cnica para regula\u00e7\u00e3o da pot\u00eancia que est\u00e1 a cair em desuso \u00e9 o desvio do rotor de modo a criar um erro de azimute em rela\u00e7\u00e3o ao vento. Esta t\u00e9cnica \u00e9 na pr\u00e1tica, apenas utilizada por torres e\u00f3licas de pequeno porte devido \u00e0 fadiga que provoca no rotor e que se transmite a toda a estrutura. O aerogerador apresenta um erro de yaw se o rotor n\u00e3o se apresentar perpendicular ao vento. Isto significa que apenas uma frac\u00e7\u00e3o da energia (cos j) dispon\u00edvel no vento pode ser aproveitada. No entanto, a parte do rotor que se apresenta mais avan\u00e7ada face ao vento \u00e9 sujeita a uma for\u00e7a de tor\u00e7\u00e3o superior \u00e1 parte de tr\u00e1s do rotor, o que\n18 Danish Wind Turbine Manufacturers Association\n2.6.5.\tImpacto Ambiental\nA Energia E\u00f3lica \u00e9 uma fonte produ\u00e7\u00e3o de electricidade que al\u00e9m de ter uma grande rentabilidade e efici\u00eancia, tem tamb\u00e9m as vantagens de ter como fonte o vento, sendo este inesgot\u00e1vel, livre e abundante. \u00c9 portanto, uma energia limpa que veio trazer enormes vantagens relativamente \u00e0 redu\u00e7\u00e3o da emiss\u00e3o de gases poluentes, mas apesar destas evidentes vantagens existem alguns efeitos secund\u00e1rios consider\u00e1veis que n\u00e3o podem ser esquecidos relativamente ao uso de aerogeradores. Destes constam elementos tais como: emiss\u00e3o de ru\u00eddo, morte de aves, utiliza\u00e7\u00e3o de terrenos, impacto nas paisagens, interfer\u00eancias electromagn\u00e9ticas e seguran\u00e7a, devem ser tomados em conta.\n2.6.5.1.\tEmiss\u00e3o de Ru\u00eddo\nO ru\u00eddo produzido pelo funcionamento dos aerogeradores resulta da actividade mec\u00e2nica e do efeito aerodin\u00e2mico dos mesmos. Para aerogeradores de m\u00e9dio/grande porte os efeitos aerodin\u00e2micos contribuem de forma significativa para a emiss\u00e3o de ru\u00eddos, embora existam no mercado aerogeradores de baixo ru\u00eddo19.\nOs ru\u00eddos emitidos variam entre os 50dB junto do aerogerador e os 35dB a uma dist\u00e2ncia de 450m deste [1].\nOs efeitos fisiol\u00f3gicos, sobre o sistema auditivo, que estes ru\u00eddos podem provocar, variam de organismo para organismo, mas s\u00f3 para valores superiores a 65dB \u00e9 que o ru\u00eddo pode ser considerado gravemente prejudicial. No entanto, para valores superiores a 30dB, o ru\u00eddo pode provocar efeitos ps\u00edquicos sobre o homem, sedo claramente recomendado valores inferiores. O ru\u00eddo com intensidade igual a 40dB corresponde a uma dist\u00e2ncia dos aerogeradores por volta dos 200m. Como tal esta deve ser a dist\u00e2ncia m\u00ednima das habita\u00e7\u00f5es ao aerogeradores. Esta dist\u00e2ncia \u00e9 respeitada na Europa.\n19 Nos sistemas que funcionam com velocidade vari\u00e1vel, o gerador \u00e9 de baixa rota\u00e7\u00e3o e a caixa de velocidades \u00e9 dispensada.\n2.6.5.2.\tImpacto Visual nas Paisagens\nO impacto visual dos aerogeradores modernos, com alturas da torre superiores a 40m e comprimento das p\u00e1s de 20m, \u00e9 perfeitamente vis\u00edvel nas paisagens e a alguns quil\u00f3metros de dist\u00e2ncia. Este impacto tem suscitado algumas controv\u00e9rsias e restri\u00e7\u00f5es \u00e1 coloca\u00e7\u00e3o destes aerogeradores em determinadas paisagens. Para al\u00e9m do impacto \u00f3bvio, os efeitos das sombras em movimento e das reflex\u00f5es intermitentes, devido a incid\u00eancia do sol nas p\u00e1s s\u00e3o tamb\u00e9m efeitos incomodativos que podem ser ultrapassados com um pr\u00e9vio planeamento do parque.\nPor vezes, e com vista a minimizar o impacto visual, os aerogeradores s\u00e3o pintados em conformidade com a paisagem.\n2.6.5.3.\tAproveitamento de Terrenos\nA constru\u00e7\u00e3o de parques e\u00f3licos inviabiliza a utiliza\u00e7\u00e3o do terreno para diferentes fins, contudo, a actividade agr\u00edcola poder\u00e1 ser continuada em alguns casos. A instala\u00e7\u00e3o das torres e\u00f3licas constitui um princ\u00edpio de compromisso, uma vez que a \u00e1rea ocupada pelos parques n\u00e3o pode ser muito grande para n\u00e3o encarecer o projecto do parque mas tamb\u00e9m n\u00e3o pode ser muito reduzida. A redu\u00e7\u00e3o da \u00e1rea dos parques e\u00f3licos provocaria um mau funcionamento dos aerogeradores devido a estes serem afectados por perturba\u00e7\u00f5es aerodin\u00e2micas dos aerogeradores vizinhos. A coloca\u00e7\u00e3o de obst\u00e1culos entre os aerogeradores iria contribuir tamb\u00e9m para a cria\u00e7\u00e3o de perturba\u00e7\u00f5es e instabilidades aerodin\u00e2micas afectando a produ\u00e7\u00e3o de energia do parque. Apesar disso, e de uma forma geral, os aerogeradores e os parques e\u00f3licos n\u00e3o alteram significativamente o habitat natural.\nA \u00e1rea ocupada pelos parques e\u00f3licos n\u00e3o \u00e9 excessiva, comparando com outras energias alternativas, como o caso das h\u00eddricas. A rela\u00e7\u00e3o entre a \u00e1rea das p\u00e1s e a pot\u00eancia dos aerogeradores \u00e9 de aproximadamente 3 m2/kW. Como exemplo, podemos observar que um aerogerador de 500 kW ter\u00e1 um comprimento de p\u00e1s de aproximadamente 21 m.\nEstes factos implicam que a dist\u00e2ncia entre aerogeradores respeite uma dist\u00e2ncia m\u00ednima de 4 a 5 vezes o comprimento das p\u00e1s. Assim, podemos admitir que a \u00e1rea necess\u00e1ria para a instala\u00e7\u00e3o de um parque e\u00f3lico anda \u00e1 volta dos 8 a 12 MW/km2.\n2.6.5.4.\tBalan\u00e7o Energ\u00e9tico\nO balan\u00e7o energ\u00e9tico resultante da energia necess\u00e1ria para produzir, instalar e manter um parque e\u00f3lico \u00e9 claramente positivo, apesar de a produ\u00e7\u00e3o de energia estar muito dependente de factores externos como a exist\u00eancia de vento. Contudo, ao fim de um ano de funcionamento normal e regular do parque e\u00f3lico, essa energia ter\u00e1 sido produzida. O balan\u00e7o energ\u00e9tico na energia e\u00f3lica \u00e9 dos melhores, tornando a produ\u00e7\u00e3o desta energia muito atractiva.\n2.6.5.5.\tImpacto sobre Aves Migrat\u00f3rias\nUma descuidada planifica\u00e7\u00e3o pr\u00e9via da instala\u00e7\u00e3o de um parque e\u00f3lico pode provocar a colis\u00e3o de aves com as p\u00e1s do aerogerador provocando a morte, sobretudo se o parque estiver localizado na rota de aves migrat\u00f3rias. Apesar disso, estes incidentes n\u00e3o s\u00e3o significativos na grande maioria dos parques actualmente instalados.\n2.6.5.6.\tInterfer\u00eancias electromagn\u00e9ticas\nEm casos pontuais, a reflex\u00e3o de ondas electromagn\u00e9ticas podem perturbar sistemas de telecomunica\u00e7\u00f5es, no entanto, essas interfer\u00eancias n\u00e3o costumam ser significativas. Contudo, poder\u00e1 ser necess\u00e1rio um estudo mais aprofundado em alguns casos.\n2.6.5.7.\tSeguran\u00e7a\nNo que diz respeito \u00e1 seguran\u00e7a, verifica-se que os parques e\u00f3licos instalados s\u00e3o bastante seguros, constituindo esta uma das formas mais seguras de produzir energia el\u00e9ctrica. Apenas h\u00e1 a referir pequenos peda\u00e7os de p\u00e1s que provocaram alguns ferimentos.\n2.7.\tSistema E\u00f3lico\nOs sistemas e\u00f3licos s\u00e3o constitu\u00eddos por um aerogerador e por todas as suas componentes mas tamb\u00e9m, dependendo da aplica\u00e7\u00e3o para o qual \u00e9 utilizado, pode ser constitu\u00eddo por inversores, transformadores, sistemas de armazenamento de energia.\n2.7.1.\tSistema de Armazenamento de Energia\nComo a velocidade e direc\u00e7\u00e3o do vento \u00e9 muito inst\u00e1vel, nem sempre o sistema e\u00f3lico est\u00e1 a produzir energia por forma a poder ter uma distribui\u00e7\u00e3o mais uniforme e a necessidade de um fornecimento mais adequado (mais constante), pode ser necess\u00e1rio, mediante a aplica\u00e7\u00e3o, um sistema de armazenamento de energia.\nNos casos em que a energia e\u00f3lica \u00e9 produzida para ser injectada directamente na rede n\u00e3o \u00e9 necess\u00e1rio o armazenamento da energia.\nQuando a energia e\u00f3lica \u00e9 utilizada como fonte prim\u00e1ria de energia, \u00e9 necess\u00e1rio armazenamento da energia produzida para estar dispon\u00edvel para consumo. Este armazenamento \u00e9 indispens\u00e1vel devido \u00e0 aleatoriedade dos per\u00edodos de intensidade da velocidade do vento e de produ\u00e7\u00e3o de energia, para poder ser utilizada posteriormente. As formas mais utilizadas de armazenamento de energia e\u00f3lica s\u00e3o atrav\u00e9s de baterias ou sob a forma de energia potencial gravitacional [1].\n2.7.2.\tAplica\u00e7\u00f5es dos Sistemas E\u00f3licos\nOs sistemas de energia e\u00f3lica s\u00e3o caracterizados por diferentes dimens\u00f5es e para diferentes aplica\u00e7\u00f5es consoante a disponibilidade financeira ou natural (vento). No entanto, os sistemas e\u00f3licos instalados obedecem a uma configura\u00e7\u00e3o tipo, s\u00e3o constitu\u00eddos por uma unidade central de controlo de produ\u00e7\u00e3o de pot\u00eancia, e dependendo da aplica\u00e7\u00e3o e das necessidades, por um sistema de armazenamento da energia. Contudo, as instala\u00e7\u00f5es dos sistemas e\u00f3licos generalizam-se em aplica\u00e7\u00f5es de sistemas distribu\u00eddos de grandes dimens\u00f5es (ligados \u00e0 rede), isolados de pequenas dimens\u00f5es e h\u00edbridos de dimens\u00f5es m\u00e9dias.\n2.7.2.I.\tSistemas Isolados\nOs sistemas de pequenas dimens\u00f5es, geralmente, encontram-se privados de energia el\u00e9ctrica e s\u00e3o usados para armazenar energia em baterias de modo a serem usada quando necess\u00e1ria. Estes sistemas e\u00f3licos com capacidade de produ\u00e7\u00e3o de pot\u00eancia, at\u00e9 algumas dezenas de kW, s\u00e3o muito bem sucedidos comercialmente. Alguns sistemas isolados n\u00e3o necessitam de armazenamento de energia, como no caso dos sistemas de rega ou aquecimento. Estes sistemas de bombagem de \u00e1gua s\u00e3o numericamente os mais representativos.\n2.7.2.2.\tSistemas H\u00edbridos\nOs sistemas h\u00edbridos s\u00e3o aqueles que apresentam mais do que uma fonte de energia como, por exemplo, torres e\u00f3licas, geradores diesel, m\u00f3dulos foto voltaicos, entre outras. Representando esta, a grande diferen\u00e7a em rela\u00e7\u00e3o aos sistemas isolado. Contudo, a utiliza\u00e7\u00e3o de v\u00e1rias fontes de gera\u00e7\u00e3o de energia el\u00e9ctrica aumenta a complexidade do sistema e exige a optimiza\u00e7\u00e3o do uso de cada uma das fontes. Nesses casos, \u00e9 necess\u00e1rio realizar um controlo de todas as fontes para que haja m\u00e1xima efici\u00eancia e optimiza\u00e7\u00e3o dos fluxos energ\u00e9ticos na entrega da energia para o usu\u00e1rio. Estes podem ter ou n\u00e3o sistemas de armazenamento de energia.\nEm geral, a capacidade de produ\u00e7\u00e3o dos sistemas h\u00edbridos varia entre as dezenas e centenas de kW (sistemas de m\u00e9dio porte) sendo dimensionados consoante as necessidades implicando um estudo pr\u00e9vio para o seu dimensionamento. Como tal, o valor deste sistema \u00e9 elevado pela necessidade do referido estudo.\n2.7.2.3.\tSistemas Distribu\u00eddos\nOs sistemas interligados \u00e0 rede n\u00e3o necessitam de sistemas de armazenamento de energia pois toda a energia produzida \u00e9 entregue directamente \u00e0 rede el\u00e9ctrica. Estes sistemas apresentam as vantagens inerentes aos sistemas de gera\u00e7\u00e3o distribu\u00edda, tais como: a\nredu\u00e7\u00e3o de perdas e do custo proveniente da expans\u00e3o de rede. A gera\u00e7\u00e3o durante o regime dos ventos coincide com o pico da curva de carga.\nEstes sistemas encontram-se normalmente agrupados num parque e\u00f3lico com capacidades actuais de dezenas ou centenas de MW ligados directamente \u00e1 rede.\n2.7.3. Sistemas em \"Offshore\"\nActualmente, as instala\u00e7\u00f5es offshore constituem apenas uma pequena parte do mercado e contribuem de forma menos significativa na produ\u00e7\u00e3o de energia. Contudo, os sistemas \"offshore\" t\u00eam grande potencial, e esse tem sido o principal motivo de desenvolvimento tecnol\u00f3gico para a concep\u00e7\u00e3o de Aerogeradores de grande porte [3] [4].\nH\u00e1 10 anos atr\u00e1s come\u00e7aram a dar-se os primeiros passos na instala\u00e7\u00e3o \"offshore\", mas actualmente, com a concep\u00e7\u00e3o dos Aerogeradores de maior porte, o desenvolvimento deste tipo de projectos est\u00e1 mais atractivo. Ironicamente, as condi\u00e7\u00f5es ambientais s\u00e3o frequentemente mais hostis do que as condi\u00e7\u00f5es terrestres onde s\u00e3o instalados os parques e\u00f3licos \"onshore\". Toda a log\u00edstica de transporte, montagem e manuten\u00e7\u00e3o de Aerogeradores em \"offshore\" \u00e9 um grande desafio e bem mais dif\u00edcil de sustentar.\nEm 2003, a EWEA publicou um cen\u00e1rio de previs\u00f5es para a energia e\u00f3lica, onde inclu\u00eda a meta de 70 GW para a energia e\u00f3lica em \"offshore\". Por diversas raz\u00f5es, politicas e industriais, essa meta ainda n\u00e3o foi cumprida, mas se a energia e\u00f3lica em \"offshore\" crescer ao mesmo ritmo da energia em \"onshore\", cuja taxa m\u00e9dia anual foi de 33,4% nos \u00faltimos anos, em 2020 estar\u00e3o instalados cerca de 50GW de energia e\u00f3lica em \"offshore\". No final de 2007, a energia e\u00f3lica instalada em \"offshore\" \u00e9 cerca de 1100MW mas muitos projectos j\u00e1 est\u00e3o planeados at\u00e9 2015 e muitos mais aerogeradores ser\u00e3o instalados nos pr\u00f3ximos anos [3] [4].\nPode ser consultado no ANEXO A os parques e\u00f3licos instalados em \"offshore\", os que est\u00e3o em constru\u00e7\u00e3o e os que est\u00e3o planeados at\u00e9 2015, em alguns dos principais pa\u00edses produtores de energia e\u00f3lica em \"offshore\" do mundo.\nFigura 2.22 - Aerogerador em \"offshore\u201d\n3.1.\tIntrodu\u00e7\u00e3o\nNeste cap\u00edtulo o autor ir\u00e1 modelar o Sistema Eolitor em nota\u00e7\u00e3o UML, utilizando o modelo de especifica\u00e7\u00e3o baseado no m\u00e9todo SLiM do grupo SIAS20 (Sistemas de Informa\u00e7\u00e3o na \u00c1rea da Sa\u00fade). As informa\u00e7\u00f5es mais relevante ir\u00e3o ser mantidas no prolongar deste documento, as restantes poder\u00e3o ser consultadas no ANEXO B do mesmo.\n3.1.1.\tVis\u00e3o geral do sistema\nNos \u00faltimos anos tem ocorrido um aumento significativo no interesse da utiliza\u00e7\u00e3o de fontes renov\u00e1veis para a produ\u00e7\u00e3o de energia el\u00e9ctrica. Uma das raz\u00f5es principais em destaque foi a necessidade de encontrar alternativas que ajudem a minimizar o uso de combust\u00edveis f\u00f3sseis, devido \u00e1 sua limita\u00e7\u00e3o f\u00edsica, o seu elevado custo, e por serem muito poluentes. Como j\u00e1 foi referido anteriormente, na base desta mudan\u00e7a de paradigma est\u00e3o os graves problemas ambientais causados pela emiss\u00e3o de gases de efeito de estufa e a grave crise energ\u00e9tica de petr\u00f3leo e seus derivados.\nGrandes empresas mundiais da \u00e1rea das energias t\u00eam feito um grande investimento no desenvolvimento da tecnologia para permitir a produ\u00e7\u00e3o de energia a partir de fontes naturais renov\u00e1veis (sol, vento, ondas, biomassa, s\u00e3o exemplos). Na base deste investimento, est\u00e3o objectivos como por exemplo, at\u00e9 2010, 40% da produ\u00e7\u00e3o de energia dever\u00e1 resultar da explora\u00e7\u00e3o das energias alternativas. A lideran\u00e7a desta mudan\u00e7a de paradigma dever\u00e1 ser assumida pelos governos e pelas pr\u00f3prias empresas, tamb\u00e9m respons\u00e1veis por ensinar os seus clientes a consumirem energia de forma mais eficiente (outro dos grandes problemas tem sido o aumento do consumo de forma descontrolada).\nAs energias renov\u00e1veis s\u00e3o um novo folgo no combate ao aquecimento global. Como tal, para optimizar a produ\u00e7\u00e3o \u00e9 necess\u00e1rio optimizar a monitoriza\u00e7\u00e3o e controlo de todo o sistema e\u00f3lico. O objectivo deste sistema \u00e9 precisamente monitorizar e controlar um sistema e\u00f3lico.\n20\twww.ieeta.pt/sias\n\t\t\nUniversidade de Aveiro\t51\t\n3.1.2.\t\u00c2mbito\nA proposta deste projecto aponta para cria\u00e7\u00e3o e implementa\u00e7\u00e3o de um sistema de monitoriza\u00e7\u00e3o e controlo de par\u00e2metros e\u00f3licos e el\u00e9ctricos de um sistema e\u00f3lico. Este sistema e\u00f3lico caracteriza-se pela instala\u00e7\u00e3o de um aerogerador de 20kW, de um controlador e um inversor. Para tal, devem ser implementadas as seguintes funcionalidades:\nSistema de Monitoriza\u00e7\u00e3o - um sistema que permita o controlo de todo o sistema e\u00f3lico de modo a poder monitorizar e optimizar o seu desempenho na produ\u00e7\u00e3o de energia el\u00e9ctrica. Ao n\u00edvel do hardware ser\u00e3o usados microcontroladores e diferentes sensores que ser\u00e3o integrados em PCBs. Ser\u00e1 igualmente usada tecnologia sem fios (Bluetooth ou ZigBee) para comunica\u00e7\u00e3o com um PC como Servidor que recebe, processa e armazena os dados da monitoriza\u00e7\u00e3o numa base de dados.\nSistema de Informa\u00e7\u00e3o - um sistema que permita a visualiza\u00e7\u00e3o das informa\u00e7\u00f5es da monitoriza\u00e7\u00e3o em tempo real ou de posteriores consultas atrav\u00e9s da cria\u00e7\u00e3o de gr\u00e1ficos e configura\u00e7\u00e3o do sistema. Este sistema deve ser constitu\u00eddo por uma interface Web (desenvolvida em ASP.NET), por uma interface m\u00f3vel (PDAs/SmartPhones) e por uma interface local/remota (programa de computador desenvolvido em VB.NET).\nBase de Dados - uma base de dados (em MSSQL Server) que permita armazenar dados relativos ao sistema, ao hist\u00f3rico de eventos e de resultados da produ\u00e7\u00e3o de energia.\nFora do \u00e2mbito deste sistema fica o estudo pr\u00e9vio que foi feito para ver a disponibilidade e viabilidade da instala\u00e7\u00e3o de um Aerogerador, bem como toda a negocia\u00e7\u00e3o para a compra e instala\u00e7\u00e3o do Aerogerador, no qual participaram o Administrador/Cliente e o Vendedor como principais e \u00fanicos actores.\nMonitorizar\nFabricante/Vendedor\nAdministrador/Cliente\nT\u00e9cnico Instalador\nVisualizar Resultados\nInstala\u00e7\u00e3o do\nAerogerador\nEstudar Viabilidede do Local\nSistema Eolitor\nA\nUtilizador\nDiagrama 3.1 - Diagrama do \u00c2mbito do Projecto\n\t\t\nUniversidade de Aveiro\t52\t\n\u00a9\nSUM ////'\n3.1.3.\tCliente\nEste sistema ser\u00e1 produzido no \u00e2mbito de um projecto de mestrado21 no IEETA22 (Instituto de Electr\u00f3nica e Telem\u00e1tica de Aveiro) o qual ser\u00e1 propriet\u00e1rio de todo o sistema, sendo respons\u00e1vel pelo desenvolvimento e manuten\u00e7\u00e3o do mesmo.\n3.1.4.\tFontes e material de refer\u00eancia\nAMBLER, Scott W.; The elements of UML 2.0 style. Cambridge: Cambridge University Press, 2005.\nNAIBURG, Eric J.; UML for database design. Boston: Addison - Wesley, 2001.\nPILONE, Dan; PITMAN, Neil; UML 2.0 in a Nutshell. United States of America: O'Reilly Media, Inc, 2005.\nRIORDAN, Rebecca M.; Designing Relational Database Systems. Washington: Microsoft Press, 1999.\nCUNHA, Jo\u00e3o Paulo; SLiM: SIAS Light Method. Aveiro. - http://www.ieeta.sias\nCUNHA, Jo\u00e3o Paulo; CUNHA, Bernardo; Proposta de tema de disserta\u00e7\u00e3o. Aveiro -http://www.av.it.pt/mi/docs/128.pdf\n21\tProposta em http://www.av.it.pt/mi/docs/128.pdf\n22\tIEETA online http://www.ieeta.pt/\n\t\t\nUniversidade de Aveiro\t53\t\n3.2.\tModelo de caso de utiliza\u00e7\u00e3o\n3.2.1.\tVis\u00e3o geral\nO projecto est\u00e1 organizado em v\u00e1rios packages tendo como objectivo facilitar a percep\u00e7\u00e3o mesmo. Pode ainda ser dividido em tr\u00eas camadas:\nBase de dados: Camada de suporte do projecto onde s\u00e3o armazenados todos os valores de forma persistente.\nMonitoriza\u00e7\u00e3o: Camada interm\u00e9dia que permite a recolha de todas as informa\u00e7\u00f5es do aerogerador e o processamento das mesmas informa\u00e7\u00f5es. Composta por Hardware e Software desenvolvidos pelo autor.\nVisualiza\u00e7\u00e3o: Camada superior de interface com os utilizadores do sistema, permitindo a visualiza\u00e7\u00e3o de todos os valores, incluindo gr\u00e1ficos e relat\u00f3rios.\nEm seguida s\u00e3o apresentados todos os Actores do sistema com uma descri\u00e7\u00e3o respectiva. Depois s\u00e3o apresentados todos os casos de utiliza\u00e7\u00e3o relativos a cada um dos Actores do sistema, sendo deita uma descri\u00e7\u00e3o dos mais importantes.\nDiagrama 3.2 - Diagrama de Pacotes\n3.2.2. Actores\nActor\tDescri\u00e7\u00e3o\nAdministrador/Cliente\tRespons\u00e1vel por adquirir e pagar o Aerogerador ao F abricante /Vendedor Participa no estudo pr\u00e9vio da viabilidade do projecto e do local da instala\u00e7\u00e3o do Aerogerador\n\t\t\nUniversidade de Aveiro\t54\t\nActor\tDescri\u00e7\u00e3o\n\tPode efectuar o pedido de manuten\u00e7\u00e3o do sistema e\u00f3lico, aquando de uma avaria, ou em caso uma pe\u00e7a exceda o tempo de vida Respons\u00e1vel por negociar e vender a energia produzida para entrega \u00e0 rede Respons\u00e1vel pela cria\u00e7\u00e3o e gest\u00e3o de todo o sistema de dados (hardware e software) de controlo do sistema e\u00f3lico e pelo funcionamento do parque e\u00f3lico Gestor de toda plataforma de sistemas de dados (local e remota) Providencias as altera\u00e7\u00f5es e desenvolvimento que achar convenientes tanto no sistema de dados e base de dados como na forma de aceder a eles (Interface gr\u00e1fica), redimensionando o sistema com poss\u00edveis necessidades\nF abricante /Vendedor\tPropriet\u00e1rio das componentes do sistema e\u00f3lico Parte respons\u00e1vel do neg\u00f3cio do Aerogerador e de todos os componentes Respons\u00e1vel pelo estudo pr\u00e9vio da viabilidade do projecto e do local da instala\u00e7\u00e3o do Aerogerador\nT\u00e9cnico de Instala\u00e7\u00e3o do Equipamento\tProvidencia pelas condi\u00e7\u00f5es necess\u00e1rias \u00e0 execu\u00e7\u00e3o da instala\u00e7\u00e3o, desde o local de instala\u00e7\u00e3o at\u00e9 \u00e0 montagem de todo o sistema e\u00f3lico garantindo o bom estado de funcionamento do equipamento. Respons\u00e1vel por instalar todos os componentes do Sistema E\u00f3lico Procede aos ensaios de forma a garantir o desempenho global do sistema aquando do arranque\nT\u00e9cnico Manuten\u00e7\u00e3o de equipamento\tEfectua o diagn\u00f3stico de anomalias, repara\u00e7\u00e3o ou substitui\u00e7\u00e3o das componentes respons\u00e1veis por dessas mesmas anomalias e efectua o ensaio do sistema e\u00f3lico reparado. Autoriza\u00e7\u00e3o Pode ser avisado de alguma anomalia atrav\u00e9s do Administrador para substituir/reparar alguma componente. Pode coincidir com o t\u00e9cnico de Instala\u00e7\u00e3o.\nSistema Monitoriza\u00e7\u00e3o Local\tSistema respons\u00e1vel por registar o valor dos v\u00e1rios sensores instalados localmente e de enviar essa informa\u00e7\u00e3o para o Sistema remoto por tecnologia Wireless\nSistema de Informa\u00e7\u00e3o Remoto (Tratamento de Dados/Base de dados)\tSistema respons\u00e1vel por receber os dados e os descodificar armazenando-os num base de dados Permite tamb\u00e9m a visualiza\u00e7\u00e3o e o tratamento dos dados bem como o registo de altera\u00e7\u00f5es e novas componentes do Sistema E\u00f3lico\nUtilizador geral\tUtente do sistema que apenas pode observar o estado e informa\u00e7\u00f5es publicas do sistema Apenas pode ver os resultados da produ\u00e7\u00e3o do sistema e tem restri\u00e7\u00e3o\n\t\t\nUniversidade de Aveiro\t55\t\nActor\tDescri\u00e7\u00e3o\n\tem toda a \u00e1rea de controlo e altera\u00e7\u00f5es do sistema\nTabela 3.1 - Tabela de descri\u00e7\u00e3o dos Actores do Sistema\nReceber dados\nVisualizar Dados\n\u00a1include\u00bb\n\u00abinclude\u00bb\nArmazenar dados\nEnviar Dados\nConsultar Eventos\n\u00a1include\u00bb\nConsultar Hist\u00f3rico\nUtilizador\n\u00abinclude\u00bb\n\u00a1include\u00bb\nLer RTCC\nGerar Gr\u00e1ficos\nGerir e Desenvolver\nGerir e Desenvoh/er\nGerir e Desenvolver\nAdministrador\nComportamento\nAerogerador\nComportamento Aerogerador\nEolitor System\nSistema Monitoriza\u00e7\u00e3o\nSistema Informa\u00e7\u00e3o\nBase de dados\nPreencher Trama\n\u00a1include\u00bb\nDisponibilizar dados\nDiagrama 3.3 - Diagrama de CaU do Administrador e de um Utilizador\nContratar gr\u00faa\n\u00abinclude\u00bb\nMontar Aerogerador\n(include\u00bb'\nAvaliar local Instala\u00e7\u00e3o\nDocumenta\u00e7\u00e3o Sistema E\u00f3lico\nVerificar funcionamento\n(extend \u00bb\nI\nI\nI\nT\u00e9cnico Instalador\n(include\u00bb\nAbrir buraco\n\u00abinclude\u00bb\n\u00abinclude\u00bb\nFazer Suporte torre E\u00f3lica\nFazer liga\u00e7\u00f5es de\ncabos\nDiagrama 3.4 - Diagrama de CaU do T\u00e9cnico Instalador\nSubstituir Pe\u00e7as\n(include\u00bb1\n(include\u00bb\nAdministrador\nNotificar fim repara\u00e7\u00e3o\nActualizar Documenta\u00e7\u00e3o\nVerificar Funcionamento\nEnsaiar e testar Sistema\nManuten\u00e7\u00e3o do Sistema\nSistema E\u00f3lico\n(include\u00bb\n\u00abextend\u00bb\nI /\nA x\nT\u00e9cnico Manuten\u00e7\u00e3o\nDiagrama 3.5 - Diagrama de CaU de T\u00e9cnico de Manuten\u00e7\u00e3o\n3.2.3.\tDescri\u00e7\u00e3o dos Casos de Utiliza\u00e7\u00e3o\nS\u00e3o descritos de seguida, os casos de utiliza\u00e7\u00e3o do sistema mais importante, incluindo as suas principais funcionalidades, e para os casos de utiliza\u00e7\u00e3o com uma sequ\u00eancia mais elaborada, \u00e9 apresentado um diagrama de actividades, com o objectivo de tornar mais expl\u00edcita a sua descri\u00e7\u00e3o.\nOs restantes casos de utiliza\u00e7\u00e3o podem ser consultados no Anexo B.\n3.2.3.I.\tCaU1 Instalar Sensores\nNome:\tCaU1 Instalar Sensores\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir recolher dados de todo o sistema desde o estado do tempo at\u00e9 ao comportamento do Aerogerador e a produ\u00e7\u00e3o de energia\nActores:\tAdministrador, Sistema de Monitoriza\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tA cabine ainda n\u00e3o ter sido instalada em cima da torre uma vez depois ser imposs\u00edvel instalar os sensores no seu interior devido \u00e0 altura da cabine\nRequisitos especiais:\tTer sido feito um levantamento dos sensores mais convenientes para este sistema e quais os locais mais pr\u00f3prios para a sua instala\u00e7\u00e3o\nTabela 3.2 - Tabela de descri\u00e7\u00e3o do CaU1 Instalar Sensores\n3.2.3.2.\tCaU2 Criar Sistema de Monitoriza\u00e7\u00e3o\nNome:\tCaU2 Criar Sistema de Monitoriza\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir recolher dados provenientes dos sensores e enviar para o sistema de informa\u00e7\u00e3o\nActores:\tAdministrador, Sistema de Monitoriza\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO sistema e\u00f3lico estar instalado juntamente com todos os sensores necess\u00e1rios \u00e0 recolha de informa\u00e7\u00e3o\nRequisitos especiais:\tEfectuar levantamento de quais as tecnologias mais indicadas para a cria\u00e7\u00e3o do sistema de monitoriza\u00e7\u00e3o\nTabela 3.3 - Tabela de descri\u00e7\u00e3o do CaU2 Criar Sistema de Monitoriza\u00e7\u00e3o\n3.2.3.3.\tCaU3 Projectar Base de Dados\nNome:\tCaU3 Projectar Base de Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir armazenar dados recebidos e tratados pelo sistema de informa\u00e7\u00e3o ou introduzidos no sistema de informa\u00e7\u00e3o\n\t\t\nUniversidade de Aveiro\t58\t\nNome:\tCaU3 Projectar Base de Dados\nActores:\tAdministrador, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tEfectuar levantamento de quais os dados que devem ficar armazenados na base de dados. Estudo das v\u00e1rias tabelas da base de dados e as rela\u00e7\u00f5es entre si.\nRequisitos especiais:\tTer dispon\u00edvel um computador para instalar o programa de base de dados MS Server da Microsoft\nAspectos em aberto:\tBase de dados estar armazenada num servidor para poder ser acedida atrav\u00e9s de uma liga\u00e7\u00e3o de internet\nTabela 3.4 - Tabela de descri\u00e7\u00e3o do CaU3 Projectar Base de Dados\n3.2.3.4.\tCaU4 Criar Sistema de Informa\u00e7\u00e3o\nNome:\tCaU4 Criar Sistema de Informa\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir receber e tratar os dados provenientes do sistema de monitoriza\u00e7\u00e3o Permitir registar novos parque e\u00f3licos, aerogeradores e o seu respectivo modelo entre outras informa\u00e7\u00f5es relevantes do sistema e\u00f3lico\nActores:\tAdministrador, Sistema de Monitoriza\u00e7\u00e3o, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tA base de dados de suporte a todas as informa\u00e7\u00f5es do sistema estar instalada e poder ser acedida pelo sistema de informa\u00e7\u00e3o\nRequisitos\tEfectuar levantamento de quais as tecnologias mais indicadas para a cria\u00e7\u00e3o do\nespeciais:\tsistema de informa\u00e7\u00e3o\nAspectos em aberto:\tSistema de informa\u00e7\u00e3o poder ser executado num computador comum com liga\u00e7\u00e3o \u00e0 internet e com todos as ferramentas instaladas e poder aceder \u00e0 base de dados para armazenar e consultar dados\nTabela 3.5 - Tabela de descri\u00e7\u00e3o do CaU4 Criar Sistema de Informa\u00e7\u00e3o\n3.2.3.5.\tCaU5 Registar novo Aerogerador\nNome:\tCaU5 Registar novo Aerogerador\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir registar os dados dos diferentes Aerogeradores instalados nos Parques E\u00f3licos\nActores:\tAdministrador, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO sistema de informa\u00e7\u00e3o e a Base de dados estarem correctamente criadas e instaladas\nRequisitos especiais:\tExistir registo do Modelo do Aerogerador e do Parque E\u00f3lico onde ser\u00e1 instalado\nTabela 3.6 - Tabela de descri\u00e7\u00e3o do CaU5 Registar novo Aerogerador\n\t\t\nUniversidade de Aveiro\t59\t\n3.2.3.6.\tCaU6 Monitoriza\u00e7\u00e3o\nNome:\tCaU6 Monitoriza\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir recolher informa\u00e7\u00e3o do estado do vento e dos Aerogeradores\nActores:\tSistema Monitoriza\u00e7\u00e3o Local\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Monitoriza\u00e7\u00e3o estar correctamente instado, todos os sensores estarem a funcionar e este estar ligado computador para a recolha e processamento dos dados.\nRequisitos\tA Alimenta\u00e7\u00e3o do Sistema de Monitoriza\u00e7\u00e3o estar assegurada.\nespeciais:\tO estado do Sistema de Monitoriza\u00e7\u00e3o deve ser consultado regularmente com o objectivo de verificar o seu estado f\u00edsico como o funcionamento correcto do mesmo. O incorrecto funcionamento do Sistema de Monitoriza\u00e7\u00e3o inviabiliza inevitavelmente a leitura de dados e consequentemente a inexist\u00eancia de dados resultantes da monitoriza\u00e7\u00e3o. A placa de Monitoriza\u00e7\u00e3o estar ligada ao computador que ir\u00e1 receber os dados e processa-los (atrav\u00e9s de uma liga\u00e7\u00e3o sem fios ou com fios), e ambos estarem ligados e a comunicar entre si. Os dados enviados pelo Sistema de Monitoriza\u00e7\u00e3o, resultantes da leitura dos sensores, t\u00eam de ser enviados em tramas e o computador que ir\u00e1 receber os dados tem de conhecer o formato da trama.\nAspectos em aberto:\tInstala\u00e7\u00e3o de mais sensores de modo a recolher mais informa\u00e7\u00f5es sobre o comportamento do Aerogerador permitindo uma melhor an\u00e1lise. Interpretar os dados recolhidos e utilizar algoritmos de an\u00e1lise dos dados para previs\u00e3o do comportamento do Aerogerador\nTabela 3.7 - Tabela de descri\u00e7\u00e3o do CaU6 Monitoriza\u00e7\u00e3o\n3.2.3.7.\tCaU7 Envio dos Dados\nNome:\tCaU7 Envio dos Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir a visualiza\u00e7\u00e3o e o armazenamento do estado do vento e dos Aerogeradores\nActores:\tSistema Monitoriza\u00e7\u00e3o Local\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Monitoriza\u00e7\u00e3o estar a funcionar e ligado correctamente atrav\u00e9s de um fio ou por tecnologia wireless\nRequisitos especiais:\tA fun\u00e7\u00e3o de processamento das tramas recebidas pelo programa servidor do sistema de monitoriza\u00e7\u00e3o deve estar em sintonia com as tramas geradas pelo processo de gera\u00e7\u00e3o das tramas realizado pelo microcontrolador do sistema de monitoriza\u00e7\u00e3o\nAspectos em aberto:\tAlguma altera\u00e7\u00e3o do formato da trama no microcontrolador deve ser repercutida no programa de recep\u00e7\u00e3o do sistema de monitoriza\u00e7\u00e3o\nTabela 3.8 - Tabela de descri\u00e7\u00e3o do CaU7 Envio dos Dados\t\n\t\t\nUniversidade de Aveiro\t60\t\n\u00a9\nSUM SEW*\nNome:\tCaU8 Visualizar desempenho do Sistema (Dados e Eventos)\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tConsultar e analisar os dados do estado do vento e dos Aerogeradores e os respectivos eventos gerados pelo sistema guardados na Base de Dados\nActores:\tSistema de Informa\u00e7\u00e3o, Administrador, Utilizador\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Informa\u00e7\u00e3o ter armazenado correctamente os dados e o sistema de informa\u00e7\u00e3o estar correctamente programado para ir ler os dados \u00e0 base de dados e disponibiliza-los na interface\nRequisitos\tA Base de Dados com os dados armazenados deve estar dispon\u00edvel.\nespeciais:\tO Sistema de Informa\u00e7\u00e3o deve poder estabelecer a conex\u00e3o com a Base de Dados.\nTabela 3.9 - Tabela de descri\u00e7\u00e3o do CaU8 Visualizar desempenho do Sistema (Dados e Eventos)\n3.2.3.9.\tCaU9 Pedir relat\u00f3rio de Produ\u00e7\u00e3o\nNome:\tCaU9 Pedir relat\u00f3rio de Produ\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir consultar os dados relativos a produ\u00e7\u00e3o de energia pelos v\u00e1rios Aerogeradores\nActores:\tSistema de Informa\u00e7\u00e3o, Administrador, Utilizador\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Informa\u00e7\u00e3o ter armazenado correctamente os dados e o sistema de informa\u00e7\u00e3o estar correctamente programado para ir ler os dados \u00e0 base de dados e gerar um relat\u00f3rio de produ\u00e7\u00e3o\nRequisitos\tA Base de Dados com os dados armazenados deve estar dispon\u00edvel.\nespeciais:\tO Sistema de Informa\u00e7\u00e3o deve poder estabelecer a conex\u00e3o com a Base de Dados.\nAspectos em aberto:\tEscolher a informa\u00e7\u00e3o que pretende que venha no relat\u00f3rio (valores, gr\u00e1fico, escala temporal)\nTabela 3.10 - Tabela de descri\u00e7\u00e3o do CaU9 Pedir relat\u00f3rio de Produ\u00e7\u00e3o\t\n\t\t\nUniversidade de Aveiro\t61\t\n\u00a9\nSLiM SSS*\n3.3.\tEspecifica\u00e7\u00e3o Suplementar\n3.3.1.\tFuncionalidades Comuns\nPara al\u00e9m dos casos de utiliza\u00e7\u00e3o descritos nas sec\u00e7\u00f5es anteriores, existem requisitos n\u00e3o funcionais gerais do sistema, comuns a alguns casos de utiliza\u00e7\u00e3o descritos.\n-Sempre que poss\u00edvel, a origem dos erros deve ser identificada.\n-Deve existir um mecanismo eficaz de tratamento de erros, que reporte correctamente e armazene de forma persistente os erros que s\u00e3o gerados no sistema.\n-Sempre que existir um erro de maior gravidade, tanto ao n\u00edvel do Aerogerador com a possibilidade avaria de alguma componente, como ao n\u00edvel da monitoriza\u00e7\u00e3o impossibilitando o correcto armazenamento dos dados, deve ser notificado o Administrador e respons\u00e1vel do Sistema para solucionar o problema.\n3.3.2.\tRequisitos de Usabilidade\nRef-\tRequisito de interface e usabilidade\tCaU relacionados\nRInt.1\tA informa\u00e7\u00e3o dever\u00e1 aparecer de um modo natural e l\u00f3gico\tCaU4, CaU5, CaU8\nRint.2\tUsar fontes e cores que facilitem a legibilidade da informa\u00e7\u00e3o\tCaU4, CaU8\nRint.3\tAs mensagens de erros devem ser claras e sem ambiguidades\tCaU4, CaU8\nRint.4\tO sistema dever\u00e1 permitir aos t\u00e9cnicos identificar facilmente a origem de erros\t\nRint.5\tO sistema deve fornecer sempre dados actualizados sobre o que se est\u00e1 a passar no sistema\tCaU6\nRint.6\tNas op\u00e7\u00f5es importantes e sens\u00edveis deveram aparecer mensagem de confirma\u00e7\u00e3o da realiza\u00e7\u00e3o da op\u00e7\u00e3o\tCaU4\nRint.7\tO sistema de informa\u00e7\u00e3o deve disponibilizar na interface inicial a op\u00e7\u00e3o de escolha do tipo de utilizador\tCaU4\nRint.8\tO sistema de informa\u00e7\u00e3o deve disponibilizar sempre na interface a op\u00e7\u00e3o para ver o hist\u00f3rico dos resultados\tCaU4\nRint.9\tO sistema poder\u00e1 informar o t\u00e9cnico de controlo do mau desempenho de alguma componente do sistema\tCaU4\nRint.10\tO sistema dever\u00e1 disponibilizar informa\u00e7\u00e3o das caracter\u00edsticas das componentes do sistema e\u00f3lico\tCaU4\nRint.11\tO sistema deve permitir visualizar a informa\u00e7\u00e3o do estado do sistema e dos seus par\u00e2metros, para permitir alter\u00e1-los\tCaU4\nRint.12\tExiste informa\u00e7\u00e3o do gestor/utilizador e das respectivas credenciais\tCaU3\nTabela 3.11 - Tabela de Requisitos de Usabilidade\n\t\t\nUniversidade de Aveiro\t62\t\n\u00a9\nSLiM SSS*\n3.3.3.\tRequisitos de desempenho\nReP\tRequisito de desempenho\tCaU relacionados\nRDes.1\tO t\u00e9cnico de instala\u00e7\u00e3o deve ter garantia de que o sistema foi instalado com sucesso e que todos os componentes do Sistema E\u00f3lico (Aerogerador, Controlador, Inversor) est\u00e3o a funcionar antes de notificar o Administrador Este deve ser responsabilizado em caso de avaria de algum componente devido a algum erro cometido durante a instala\u00e7\u00e3o\t\nRDes.2\tO t\u00e9cnico de manuten\u00e7\u00e3o deve ter garantia de que o sistema foi reparado com sucesso antes de notificar o Administrador Este deve ser responsabilizado em caso de avaria de algum componente devido a algum erro cometido durante a repara\u00e7\u00e3o\t\nRDes.3\tAs anomalias ou altera\u00e7\u00f5es do desempenho das componentes do sistema devem ser notificadas ao Administrador\t\nRDes.4\tSe o sistema aparentar alguma anomalia de alguma componente ou se o tempo de vida de alguma componente tiver sido ultrapassado dever\u00e1 ser pedido uma repara\u00e7\u00e3o no sistema\t\nRDes.5\tO sistema e\u00f3lico deve parar durante uma rajada de vento (velocidade do vento superior a 25m/S).\t\nRDes.6\tO sistema e\u00f3lico para estar ligado a rede el\u00e9ctrica deve produzir corrente alterna a 50 Hz. Caso n\u00e3o seja poss\u00edvel o sistema deve parar para n\u00e3o danificar nenhuma componente\t\nTabela 3.12 - Tabela de Requisitos de Desempenho\n3.3.4.\tRequisitos de Seguran\u00e7a e integridade de dados\nReP\tRequisito de seguran\u00e7a, privacidade e integridade de dados\tCaU relacionados\nRSeg.1\tApenas o T\u00e9cnico de Instala\u00e7\u00e3o com conhecimento pode instalar as componentes do sistema e\u00f3lico e determinar quando este pode ser ligado\t\nRSeg.2\tApenas o T\u00e9cnico de Manuten\u00e7\u00e3o pode reparar componentes do sistema e\u00f3lico ap\u00f3s de alguma anomalia notificando o fim da mesma\t\nRSeg.3\tApenas o Administrador pode desenvolver o sistema de monitoriza\u00e7\u00e3o, o sistema de informa\u00e7\u00e3o do Sistema E\u00f3lico e a base de dados de suporte do Sistema\tCaU2, CaU3, CaU4, CaU6\nRSeg.4\tO Administrador \u00e9 o respons\u00e1vel pela gest\u00e3o de Logins dos Utilizadores mantendo as informa\u00e7\u00f5es consideradas mais importantes restritas\tCaU3\nRSeg.5\tApenas o Administrador pode alterar a Base de Dados em conformidade com o Sistema de Informa\u00e7\u00e3o\tCaU3, CaU4\nRSeg.6\tApenas o Administrador pode receber notifica\u00e7\u00f5es de eventos anormais ao correcto funcionamento do sistema\tCaU4, CaU8\nTabela 3.13 - Tabela de Requisitos de seguran\u00e7a, privacidade e integridade de dados\n\t\t\nUniversidade de Aveiro\t63\t\n\u00a9\nSUM SEW*\n3.3.5.\tRequisitos de interface com sistemas externos e com ambientes de execu\u00e7\u00e3o\nRef-\tRequisito de interface com sistemas externos e com ambientes de execu\u00e7\u00e3o\tCaU relacionados\nRSeg.1\tSistema de Monitoriza\u00e7\u00e3o deve conter os v\u00e1rios circuitos integrados (Microcontrolador, Sensores, Reguladores, etc) montados numa PCB (placa de circuito impressa)\tCaU2, CaU6\nRSeg.2\tTecnologia Bluetooth, como solu\u00e7\u00e3o alternativa, para comunica\u00e7\u00e3o sem fios entre a placa do Sistema de Monitoriza\u00e7\u00e3o e o computador de suporte da base de dados.\tCaU2, CaU3\nRSeg.3\tServidor para interface web deve ser IIS num sistema operativo Windows 2000 ou posterior.\tCaU4\nRSeg.4\tBase de dados utilizada Microsoft SQL Server 2005\tCaU3\nRSeg.5\tPC com os SDK's .NET Framework 2.0 e .NET Framework 3.5 instalados para permitir a execu\u00e7\u00e3o do Servidor do Programa Eolitor System\t\nRSeg.6\tNecessidade de liga\u00e7\u00e3o \u00e0 Internet para permitir a liga\u00e7\u00e3o do Cliente do Programa Eolitor System ao Servidor e assim poder visualizar o comportamento do Aerogerador resultante da monitoriza\u00e7\u00e3o.\t\nTabela 3.14 - Tabela de Requisitos de interface com sistemas externos e com ambientes de execu\u00e7\u00e3o\n3.3.6.\tRequisitos de Hardware\nNa sua totalidade, o sistema poder\u00e1 ser executado na mesma m\u00e1quina, desde que esta possua capacidade de processamento e mem\u00f3ria dispon\u00edveis. No entanto, devido \u00e0 arquitectura do sistema Eolitor, este poder\u00e1 ser separado em dois m\u00f3dulos distintos (servidor/cliente), os quais podem ser executados cada um em computadores diferentes. Os m\u00f3dulos s\u00e3o: o m\u00f3dulo servidor constitu\u00eddo pela base de dados e pelo programa servidor Eolitor Server; e o m\u00f3dulo cliente constitu\u00eddo pelo programa cliente Eolitor System e pela aplica\u00e7\u00e3o da interface Web.\nPara isso \u00e9 necess\u00e1rio que exista uma boa conectividade TCP/IP entre o computador servidor e os diferentes computadores clientes. Qualquer que seja a configura\u00e7\u00e3o, o computador que executa a aplica\u00e7\u00e3o Eolitor Server e os computadores que executarem a aplica\u00e7\u00e3o Eolitor System ou a aplica\u00e7\u00e3o da interface Web, devem possuir liga\u00e7\u00e3o \u00e0 Internet.\nO sistema de monitoriza\u00e7\u00e3o dever\u00e1 ser constitu\u00eddo por diversos sensores que permitem recolher informa\u00e7\u00e3o tais como: velocidade do vento (anem\u00f3metro), direc\u00e7\u00e3o do vento, velocidade do aerogerador, tens\u00e3o e corrente produzida. Estes sensores devem estar ligados a um microcontrolador, juntamente com circuitos de condicionamento de sinal e de regula\u00e7\u00e3o e alimenta\u00e7\u00e3o, que devem estar integrados numa PCB. A placa do sistema de monitoriza\u00e7\u00e3o deve estar correctamente alimentada e este deve estar ligada ao programa de servidor atrav\u00e9s de uma liga\u00e7\u00e3o USB, ou atrav\u00e9s de uma liga\u00e7\u00e3o Bluetooth/ZigBee para permitir a comunica\u00e7\u00e3o entre ambos.\n\t\t\nUniversidade de Aveiro\t64\t\n3.4.\tModelo do Dom\u00ednio\n\u00a7 Torre E\u00f3lica\nEg tamanho iLa tipo controlo \u00a1ti tipo rotor\n@ Sistema Controlo\nl\u00cag data ocorr\u00eancia EJ prioridade evento\n{\u25a0' medirVelocidadeVento () medirDirec\u00e7\u00e3oVento () CalcPot\u00eamciaProduzida ()\nvento\ntipo vento Eg velocidade\nResol. Produ\u00e7\u00e3o\nteg data\n1..\n2 Interface\n\u00cag tipo interface\nE Login\ni^gid\nEg pass\nFigura 3.1 - Modelo do Dom\u00ednio do Sistema\n3.5.\tProt\u00f3tipo Explorat\u00f3rio\n3.5.1.\tArquitectura aplicacional\nO projecto do sistema Eolitor pode ser dividido basicamente em tr\u00eas camadas:\nA camada \u201cDatabase\u201d inclui todos os dados armazenados de forma persistente na base de dados de suporte a todo o Sistema.\nA camada \u201cMonitoring System\u201d inclui todos os circuitos do sistema de monitoriza\u00e7\u00e3o, (microcontrolador, sensores, comunica\u00e7\u00e3o Wireless, sistema de alimenta\u00e7\u00e3o, sistema de armazenamento num cart\u00e3o SD) bem como as ferramentas usadas para o desenvolvimento do programa de computador que recebe, processa os dados e os armazena na base de dados.\nA comunicar com esta camada est\u00e1 a camada \u201cInformation System\u201d, camada superior, que \u00e9 basicamente toda a Interface Gr\u00e1fica que permite interac\u00e7\u00e3o dos utilizadores com todo o sistema. Esta camada permite a visualiza\u00e7\u00e3o, atrav\u00e9s de um programa ou de uma p\u00e1gina Web.\ninformation System\nMonUoringSystam\nPC Server\nO PCB\n: Microcontroller\ntUADC\tt\u00b1j Timer\n\t\nr UART\t&amp;RTCC\n\t\n\t\n&amp;$P1\t1' Interruptions\n\t\nnosc\tDuSD\nC] SerialPort\nE3TCP\nE3 C Sharp\nDatabase\nt\u201c1 DBProvider\nC2 Framework})\nEjLIHQ\n\u2022prop* am\nE3 IIS SOL Serve\u00bb2005\nDiagrama 3.6 - Diagrama da Arquitectura Aplicacional\n3.5.2.\tArquitectura de Instala\u00e7\u00e3o\nComo j\u00e1 referido no ponto 3.3.6, o Sistema de Informa\u00e7\u00e3o \u00e9 constitu\u00eddo por um programa com interface gr\u00e1fico e por uma p\u00e1gina Web que podem ser acedidos a partir de qualquer PC que esteja ligado \u00e0 internet. Conectada com o interface est\u00e1 a base de dados MS SQL Server onde \u00e9 armazenada toda a informa\u00e7\u00e3o do sistema. Esta encontra-se instalada num PC Servidor onde est\u00e1 a correr o programa de servidor do sistema de monitoriza\u00e7\u00e3o Eolitor Server.\nTCP/IP\n[J PC Server\nf-j Eolitor Client\nV eb Server (IS)\nWeb Browser\nTCP/IP\nf-| Eolitor Server\nInternet\nEolitorSystem\nTCP\nTCP/IP\n\u25a0ial P rt\nEolitor PCB\n\u00abcomponent\u00bb d Sockets\n\u00abcomponent\u00bb d Socket\n\u00abcomponent\u00bb d uSD\n\u00abcomponent\u00bb d UART\n\u00abcomponent\u00bb d Serial Port\n\u00abcomponent\u00bb d Microcontroller\n\u00abcomponent\u00bb d SQL Database\nDesktop \u00b0 Web browser\n\u00abprocess\u00bb d EolitorSystem\n\u00abprocess\u00bb d TCP Server\n\u00abprocess\u00bb d Eolitor Server\n\u25a1 MS SQL Server 2005\n\u00abprocess\u00bb d Web Browser\nEolitorSystem\n\u00abcomponent\u00bb d Bluetooth Module\nDiagrama 3.7 - Diagrama de instala\u00e7\u00e3o\n3.5.3.\tProt\u00f3tipos dos Produtos\nNo prot\u00f3tipo s\u00e3o apresentados os ecr\u00e3s de ambas as interfaces gr\u00e1ficas do Sistema de Informa\u00e7\u00e3o e a placa de circuito impresso do sistema de monitoriza\u00e7\u00e3o.\n3.5.3.I.\tEolitor Server\n<<<EolitorServer has connected the Eolitor TCP Server\u00bb>\n11 -06-2009 15:39:23^M\u00abBaEBg8amiBmM\nFigura 3.2 - Eolitor Server\nAmbos os interfaces pertencem ao Servidor do sistema de monitoriza\u00e7\u00e3o. No interface da esquerda \u00e9 poss\u00edvel configurar a porta de comunica\u00e7\u00e3o com a placa de circuito impresso do sistema de monitoriza\u00e7\u00e3o, permitindo a recep\u00e7\u00e3o dos dados. Ap\u00f3s o processamento destes e paralelamente ao armazenamento na base de dados, estes s\u00e3o enviados para o Eolitor TCP Server, \u00e0 direita, que por sua vez aceita liga\u00e7\u00f5es TCP dos v\u00e1rios clientes Eolitor System.\n3.5.3.2.\tEolitor System - Home\nFigura 3.3 - Eolitor System - Home\n3.5.3.3. Eolitor System - Monitor\nFigura 3.4 - Eolitor System - Monitor\n3.5.3.4. Eolitor System - SQLDatabase\nFigura 3.5 - Eolitor System - SQL Database\n3.5.3.5.\tEolitor System - pSD Terminal\nFigura 3.6 - Eolitor System - pSD Terminal\n3.5.3.6.\tEolitor System - Options\nFigura 3.7 - Eolitor System - Options\n\u00a9\nSLiM SSS*\n3.5.3.7.\tEolitor System - Emailer\nFigura 3.8 - Eolitor System - Emailer\n3.5.3.8.\tEolitor System - Connections\nFigura 3.9 - Eolitor System - Connection to Database\n\u00a9\nSUM SEW*\n3.5.3.9. Eolitor System - Database Charts\nFigura 3.10 - Eolitor System - Database Charts\n3.5.3.10. Eolitor System - Logs\nFigura 3.11 - Eolitor System - Logs\n\u00a9\nSLiM SSS*\n3.5.3.11. Eolitor System - Reports\nFigura 3.12 - Eolitor System - Reports\n\u00a9\nSUM SEW*\n3.5.3.12.\tEolitor System - Web Page\nSlide S of 12\nTorre de Supcte\nbebebsb\nter\u00e7a-fera, 7 de Mho de 2009 22:10:24\n\t\t\t\t\n\t\t\tVetocidade(m/s):\tJ\t\nVelocidade(m/s):\nVoltagem(V):\nConente(A):\nPot\u00eancia(W):\n\u2014\t\u2019\tEm: 18-06-2009 19:20:51\n[ Entrar > J\n\nEnd\u00bb Eupore 0*--/\nf U renewables sector to create\n400,000 new jobs\n... .vx* y>e second j/er^ooon froten\n\u00bb*\u2022 o\u00e3i'\trte\nt^~On \u25a0*'*\u201c \u25a0r5\u00bf*rt-V*<e nd gather to celebrate the t\u00f3mense poner and...\n2009-06 0S SoK.m\nt nergus renovables tama\u00f1o XXI -. .sdccoon de las nstaiaoones hemos contado con el asesor amento de: turopean Wmdtnergy Associatton (\u00cdWLA), Amencan Wrtd Energ, Assoaabon...\n2009-06-02 Gut Tew*\nGreen eneryy goal to boost tU jobs .. - ie seen n many years. sard Christian Kjaer, ch*f executive of the furopean Wind Energy Association I think it nd have a large mpact. GDP...\n.tui-c' VALERIA AO VIVO\nLinks\n\u25a0\u2022INKS _\n\u2022S.\u00cdI\nN\u00b0vidades, Cahoot \u00bfJ0'0 Para v\nd\u00ab'OO<\u00ab tr^M\u00ab \u2022wdem a\nReS,,nwd\u00abPrOkno\nN\u00b0\u00ab \u00faltimo\u00ae ano_\nd\"\u201c\ndee. mJ! \u25a0 0 M\u201c '\u2018\u00ab\u00ab.do\teom'xm,v\u201e, l0MJ\u2022?\u00ab'\u00bb\u00ab\nd. Drod\t\u201c*W, \u00abmo . doXS^\u201c \u2019 A\u201d\u201d' A'\nH~^2SSS==.-:\nOutras Not\u00edcias\nv\u00abr mete foto.\nVideos\nMaglkal Powe\u00a3-_Mega Wind Turbine\n*'\"d GenZrX?\nEner0,a E<M.ca\nAltemet.ve Energv newer end w,nd Ener\u201ev\nCleenTechn.ee\nNorth American w.nrin--,,\nLer Feeds RSS\nooo/ro\u00ab a . efl O\n^Renov,\nEn'r0la E\u00f3ho,\n\u2019anOr#\"\u2019\u00abMUndla;\n^Quoto\nAer\u00b0geradores\nS'aem\u00ab E\u00f3lio\u00bb\nLe,deBttz\nmunoIal\n\u2014 neroia C\u00f3lica\t\"KS \u00a1\u00a1J aov^\nA\tQ Bl\u00e2cx \u2022 u,.\n. A ^rgia\t*Me\n\u25a0^rr'XXsdas,\u00b0\"^\nxa-^t\u00e9m\n\u2019\u2019^ersdorT \"\" e\"'rg.a eX\"\u201cSS\u201c de ar, em '\"'r\u00b0'a \u201c*.c. do 'm en\u00abrg,a\t0 rotor rabn, ' Es\" ' o\t'\n\u201c\"verte,\td' '\u00ab\u00bb\u00c7\u00e2o L?'?3 \u00b0^ce * * **\u201c \u00bb= um\n.\u00bfT.........\n\u2022*\u00ab\u00ab-* Pelo Slstema\"\u00a3\tdo \u00abmo XTX' 00 \u00ab\"\">\nndueem . veloQ(j * e\u00f3licos \u00ab X \u2019 T\tW \u00ea\n(velocidade nj0 perturbai *\u2019*' * ''\"\u201c'\u201c\u2019de do vento^\u2019 * '**\u00b0\n=S~j===^: chamada velood.de de corte um mcc.nL\"'\u2122' \u00b0 s\u00ae'\u2122 \u00ab\u2022\"* a neLdade de n\u00e2c causar nscos ,o Xe7X\u201d^*\u00b0 \u2018 \u2122 \u2022 Xxex:;::\n(-adade^XXZX:^\u2014^ do Sirtem. \u00abmXZ?; rabalhar \"\u00b0 ,rtBVato \u00d3*\"\u00bb de rendimento r~u\u2122 r\u00b0\nXo\tL\t\u201d\u2022 E n'\u201cS\u201cn\u00b0 tarnbe,r\" \"' \u2122\u201c\u2122\u2122 de\ncontrolo apropnados para melhorar o rendimento noutras veloodades de vento e aumentar o intervalo de funoonamento do sistema e\u00f3lico.\nPara a produ\u00e7\u00e3o de energia el\u00e9ctrica em grande escala, s\u00f3 s\u00e2o interessantes regi\u00f5es que tenham ventos com veloodade media de 6 m/seg ou superior. Ventos com velocidade inferior a 2 ou 3m/seg n\u00e0o s\u00e0o suficientes para fazer funcionar os aerogeradores. Vamos ver quais as caracter\u00edsticas dos ventos bem como todas as componentes de um sistema e\u00f3lico postenormente. Este tipo de produ\u00e7\u00e3o de energia \u00e9 a que se tem destacado mais de entre todos os tipos de produ\u00e7\u00e3o de energia renov\u00e1veis.\nInstala\u00e7\u00e3o\nEWEA Wind is Power\nEWEA OFFSHORE'\nEWEA No Fuel'\n'EWEA Seize the Opportunity*\n/ Escrever um Coment\u00e1rio\npro^olitor links galeria ao vivo\nhome ENERGIA MUNDIAL ------------------\nCopyright \u00a9 I EETA 2009. V\u00edtor Morgado R.be.ro. vitormnbeiroQua.pt\nh\u00b0me > GAL\u00a3Ria\nhome energi\t'/IM0S 1 \"\u201cC\u201c\"S\u00a3SS\u2018O\n' ENERGIA MUNDIAL \u201e\n' ' \u2019\t\u2018\t01 EOLrr\u00b0\u00ab I LINKS r\n5 ^eria AOwvo\n^m-vindo\u00e0 Galeria de Videos\n3.5.3.13. Eolitor System - PCB Monitoring\nFigura 3.13 - Eolitor System - Box\nFigura 3.14 - Eolitor System - PCB\n3.6.\tPlano de Implementa\u00e7\u00e3o do Projecto\nDe seguida \u00e9 apresentado um quadro com a pontua\u00e7\u00e3o dada a cada um dos casos de utiliza\u00e7\u00e3o, segundo os crit\u00e9rios definidos na SLiM.\nCaso de Utiliza\u00e7\u00e3o\tImpacto\tRisco\tNovidade\tCrucial\tConhecimento\tRank\tNotas\nCaU1 Instalar Sensores\t4\t3\t2\t4\t4\t17\tNecess\u00e1rios para recolher informa\u00e7\u00f5es\nCaU2 Criar Sistema de Monitoriza\u00e7\u00e3o\t4\t3\t2\t4\t3\t16\tIndispens\u00e1vel ao projecto\nCaU3 Projectar Base de Dados\t4\t2\t2\t4\t3\t15\tSuporte de informa\u00e7\u00e3o do sistema\nCaU4 Criar Sistema de Informa\u00e7\u00e3o\t3\t1\t2\t4\t3\t13\tNecess\u00e1rio para visualizar informa\u00e7\u00e3o do sistema\nCaU5 Registar novo Aerogerador\t3\t1\t1\t3\t1\t9\t\nCaU6 Monitoriza\u00e7\u00e3o\t4\t2\t2\t4\t2\t14\tEssencial para recolha de dados\nCaU8 Visualizar desempenho do Sistema (Dados e Eventos)\t2\t2\t2\t3\t2\t11\t\nCaU9 Pedir relat\u00f3rio de Produ\u00e7\u00e3o\t2\t2\t3\t2\t3\t12\t\nTabela 3.15 - Tabela de prioridades dos CaU\n\t\t\nUniversidade de Aveiro\t80\t\n3.7.\tModelo de Dados Persistente\nPowerCurve\nAeros\nPieces\nModelpieces\nMoteo\nCompany\n-ID: Integer -name: String -email: String -phone: Integer\n+GetData()\nMaintenances\n-ID: Integer -companylD: Integer -mainType: String -dt: Date\n-time: Integer -price: Decimal\n+GetData()\nInterruptions l>\n. i...\n4GetDa-.au\n\u25a0ID: Integer -aerolD: Integer \u25a0modellD: Integer \u25a0mainlD: Integer \u2022dt start: Date\n+GetData()\nLogs\n-ID : Integer -logID: Integer \u25a0aerolD: Integer -loginfo \u25a0 String -priority: Integer -dt: Date\n\u25a0ID: Integer \u25a0name; String -price: Decimal -timetolrve: Integer\n+GetP5ta()\n+GetData()\nProductions\n\u25a0ID: Integer \u25a0aerolD: Integer \u25a0aerospeed : Decimal -aerodir! Integer \u25a0aerodiir_c: String \u25a0aerovolt: Decimal -aerocurrent: Decimal \u25a0aeropower: Decimal -inveurrent: Decimal \u25a0dt: Date\n4GetData()\nSelEnergy\n-ID: Integer -farmID : Integer \u25a0dt: Date -pricettW: Decimal -quantity! Integer -price: Decimal\nWindFarms\n+GetDats()\n-ID: Integer -Name: String -Location ; String -di stant: Date -numAeros: Integer -powerinstalled: Decimal\nStetisticsAerosMonth\n-ID: Integer -manlD: Integer \u25a0model: Integer \u25a0powerrate: Integer \u25a0powermax! Integer -voltout: Integer -speedstartup: Integer \u25a0speedrate: Integer \u25a0speedmax: Integer -cortrolpltch: Boolean \u25a0diameterrotor: Integer -speedrotor: Integer \u25a0nblades: Integer \u25a0height: integer \u25a0weight: Integer\ni-GetDatai)\nPayments\n*GetData()\n-ID: Integer -statisticID: Integer -num: Integer -aerospeed Decimal -aerodir: Decimal -aerovott: Decimal -aerocurrent: Decimal -aeropower. Decimal -inveurrent: Decimal -emlsson CO2 : Decimal -dt_year: Integer +GetData()\n-ID : Integer -modellD: Integer -farmID: Integer -ref: String -state: Boolean -description : String -dt: Date\n-ID: Integer -aerolD: Integer -paymenttype: String -paymentstate: String \u25a0price: Decimal -dt: Date\n-ID: Integer -statisticID: Integer -num: Integer \u25a0windspeed : Decimal -winddir: Decimal -tempe: Decimal -dt_year: Integer\n+ C3\u00abt I lr.lr.il\n-ID : Integer \u25a0Name: String \u25a0Email : String -Phone: Integer\n+GetData()\n-modellD: Integer -speed: Decimal \u25a0power: Decimal\n+GetDataQ\nStatisticsAero5_Day\n+Get\n+GetData()\n-ID Integer olD: Integer ri : Integer ospeed: Decimal \u2022odir: Decimal woll: Decimal 'ocurrent: Decimal opower: Decimal current: Decimal isson_CO2: Decimal Dale_______________________\nBiDataf)\n\u25a0ID: Integer -aerolD: Integer -num : Integer -windspeed : Decimal -winddir: Decimal -tempe: Decimal -dt: Date +GetData() I\n-ID: Integer -statisticID; Integer -num \u2022 Integer -aerospeed: Decimal -aerodir: Decimal -aerovolt: Decimal -aerocurrent: Decimal -aeropower; Decimal -inveurrent: Decimal -emisson_CO2: Decimal -dt_day: Date\n\u25a0ID: Integer \u25a0statisticID: Integer -num \u25a0 Integer -aerospeed: Decimal -aerodir: Decimal -aerovolt: Decimal \u25a0aerocurrent ? Decimal -aeropower: Decimal -inveurrent: Decimal -emisson_CO2: Decimal \u25a0dt_month: Integer +GetData()\nStatistics Meteo_Month\t\tStatisticsMeteo_Day\n-ID: Integer -statisticID: Integer\t\t-ID; Integer -statisticID: Integer\n-num: Integer\t\t-num: Integer\n\u25a0windspeed: Decimal\t\t\u25a0windspeed: Decimal\n-winddir: Decimal\t\t-winddir: Decimal\n-tempe: Decimal\t\t-tempe: Decimal\n-dt_momii: Integer\t\t-dt_day: Date\n+GetData()\t\t+GelData()\nFigura 3.15 - Modelo da base de dados\n3.7.1.\tDicion\u00e1rio de dados\nO dicion\u00e1rio de dados descreve cada entidade da base de dados do sistema. \u00c9 composto pelo nome, por uma breve descri\u00e7\u00e3o da entidade, por uma tabela que cont\u00e9m os atributos, a descri\u00e7\u00e3o de cada atributo, o valor que este atributo pode assumir e um campo que identifica se esse atributo pode assumir o valor nulo. Este dicion\u00e1rio pode ser consultado no ANEXO B.\n\t\t\nUniversidade de Aveiro\t81\t\n\t\t\nUniversidade de Aveiro\t82\t\n4.1.\tIntrodu\u00e7\u00e3o\nO Sistema de Monitoriza\u00e7\u00e3o foi pensado de modo a satisfazer a necessidade de conhecer o comportamento do Aerogerador mediante o estado do tempo. As vari\u00e1veis mais importantes para caracterizar o estado do tempo s\u00e3o a sua velocidade e direc\u00e7\u00e3o. Da mesma forma, a velocidade, a corrente produzida e a tens\u00e3o gerada (formando a pot\u00eancia) s\u00e3o indispens\u00e1veis para exprimir o comportamento do Aerogerador. A estas informa\u00e7\u00f5es adicionou-se, o valor da temperatura e a direc\u00e7\u00e3o do rotor do Aerogerador. Efectuou-se ent\u00e3o um levantamento sobre as tecnologias mais usadas e mais dispon\u00edveis com a finalidade de solucionar esta necessidade.\nFaz parte ainda do sistema de monitoriza\u00e7\u00e3o, uma unidade central que recebe os dados, atrav\u00e9s de uma liga\u00e7\u00e3o USB ou atrav\u00e9s de uma liga\u00e7\u00e3o sem fios, os processa e armazena na base de dados.\nSendo o objectivo final deste sistema, disponibilizar os dados para a camada superior (Sistema de Informa\u00e7\u00e3o - Interface com o utilizador), foi desenvolvido tamb\u00e9m um servidor TCP que permite a liga\u00e7\u00e3o de m\u00faltiplos clientes atrav\u00e9s de uma rede de Internet ou Intranet.\nNo presente cap\u00edtulo s\u00e3o referidas todas as informa\u00e7\u00f5es que permitiram a cria\u00e7\u00e3o e desenvolvimento do sistema de monitoriza\u00e7\u00e3o, desde os sensores e microcontrolador, ou diagrama de processamento de dados, at\u00e9 ao programa de servidor.\n\t\t\nUniversidade de Aveiro\t83\t\n4.2.\tAerogerador 20kW\nO aerogerador instalado, que atrav\u00e9s do projecto Eolitor se pretende monitorizar, pode ser observado na figura seguinte. Este aerogerador tem como caracter\u00edsticas principais: gerador de tr\u00eas fases im\u00e3s permanentes, com uma pot\u00eancia nominal de 20 kW, alcan\u00e7ada para vento com velocidade pr\u00f3xima dos 12 m/s; tens\u00e3o de sa\u00edda entre 360V e 420V, e velocidade \u00f3ptima de rota\u00e7\u00e3o do rotor de 160 rpm, sem caixa multiplicadora nem controlo de Pitch. Todos os par\u00e2metros caracetristicos deste aerogerador podem ser consultados na Tabela 4.1 [48]. A curva caracteristica, pot\u00eancia de sa\u00edda (kW) em fun\u00e7\u00e3o da velocidade do vento (m/s) nas condi\u00e7\u00f5es \u00f3ptimas de funcionamento e de vento, pode ser observada na Figura 4.2.\nFigura 4.1- Aerogerador de 20kW instalado perto do IEETA\nPar\u00e2metros\t\nTipo\tLT10-20000W\nPot\u00eancia Nominal\t20 kW\nPot\u00eancia M\u00e1xima\t22 kW\nTens\u00e3o de Sa\u00edda\t360-420V\n\t\t\nUniversidade de Aveiro\t84\t\nGerador\tTr\u00eas fases, \u00edm\u00e3s permanentes\nVelocidade do vento inicial\t2 m/s\nVelocidade do vento nominal\t12 m/s\nVelocidade do vento m\u00e1xima\t25 m/s\nVelocidade do rotor \u00f3ptima\t160 rpm\nN\u00famero de P\u00e1s\t3\nDi\u00e2metro do rotor\t10\nLargura da P\u00e1\t60 cm\nEspessura da P\u00e1\t23 cm\nMaterial das P\u00e1s\tfibra de vidro refor\u00e7ada\nPeso do turbina com as p\u00e1s\t525 kg\nTransmiss\u00e3o\tN\u00e3o, transmiss\u00e3o directa\nControlo Pitch\tN\u00e3o\nCaixa de velocidades\tN\u00e3o\nProtec\u00e7\u00e3o\tAutom\u00e1tico\nDimens\u00f5es (altura)\t12 m ou 18 m\nCaracter\u00edsticas funcionais\tSlow-Mode, Brake\nTabela 4.1 - Par\u00e2metros do Aerogerador de 20kW [48]\nFigura 4.2 - Gr\u00e1fico da curva de pot\u00eancia (em condi\u00e7\u00f5es \u00f3ptimas) do Aerogerador de 20 kW, pot\u00eancia de sa\u00edda (kW) em fun\u00e7\u00e3o da velocidade do vento (m/s) [48]\n4.3.\tSensores\nOs sensores s\u00e3o dispositivos tecnol\u00f3gicos que permitem obter informa\u00e7\u00e3o proveniente das mais variadas naturezas recebendo e respondendo a um est\u00edmulo. Estes podem ser constitu\u00eddos por um transdutor e por uma parte el\u00e9ctrica que convertem a energia que resulta do transdutor em um sinal el\u00e9ctrico. A informa\u00e7\u00e3o gerada pelo sensor \u00e9 leg\u00edvel ou \u00e9 disponibilizada directamente, como o caso dos term\u00f3metros, ou ent\u00e3o, resulta num sinal anal\u00f3gico ou digital quantific\u00e1vel. A lista actual de sensores \u00e9 bastante extensa e \u00e9 caracterizada de acordo com a natureza do sinal. Esta lista \u00e9 integrada por sensores de calor, pot\u00eancia, velocidade, temperatura, acelera\u00e7\u00e3o, magn\u00e9tica, orienta\u00e7\u00e3o, press\u00e3o, entre outros.\n4.3.1.\tSensor de Velocidade do Vento (Anem\u00f3metro)\nPara medir a velocidade do vento os sensores que s\u00e3o utilizados, como j\u00e1 foi referido na sec\u00e7\u00e3o 2.5.1.7, \u00e9 utilizado um de dois tipos de Anem\u00f3metros, de tr\u00eas copos ou ultra s\u00f3nicos.\nDevido aos requisitos deste projecto, os sensores ultra s\u00f3nicos n\u00e3o eram os mais aconselhados pelo seu elevado pre\u00e7o relativamente aos Anem\u00f3metros de tr\u00eas copos. Assim, para este projecto foi disponibilizado um Anem\u00f3metro de tr\u00eas copos. O comportamento deste sensor, alimentado a uma tens\u00e3o de 3.3V e 0V e com um consumo de aproximadamente de 20mA, tem uma sa\u00edda em frequ\u00eancia proporcional \u00e0 velocidade do vento. A onda quadrada de sa\u00edda (aproximadamente 3.3V ou 0V) \u00e9 dada por um sensor \u00f3ptico que detecta a presen\u00e7a, ou aus\u00eancia, das sali\u00eancias de uma roda dentada durante o seu movimento de rota\u00e7\u00e3o.\nO valor da velocidade do vento tem diferentes formas de ser medido, tais como:\n-Ligar o sinal de sa\u00edda do sensor a uma entrada de rel\u00f3gio de um timer e configur\u00e1-lo para funcionar como contador durante um per\u00edodo de tempo definido.\n-Ligar o sinal de sa\u00edda do sensor a uma entrada de rel\u00f3gio de um timer e configur\u00e1-lo para funcionar como timer, medindo a frequ\u00eancia do sinal.\n-Ligar o sinal de sa\u00edda do sensor a uma linha de interrup\u00e7\u00e3o e contar o n\u00famero de interrup\u00e7\u00f5es durante um per\u00edodo de tempo definido.\nNo nosso caso como o microcontrolador, como \u00e9 limitado quanto ao n\u00famero de entradas de rel\u00f3gio dos timers, optou-se pela \u00faltima solu\u00e7\u00e3o.\nOutros tipos de sensores de tr\u00eas copos s\u00e3o tamb\u00e9m utilizados para medir a velocidade de vento mas com diferentes caracter\u00edsticas. T\u00eam uma tens\u00e3o de sa\u00edda proporcional \u00e0 velocidade do vento e s\u00e3o normalmente mais dispendiosos. Para estes sensores a solu\u00e7\u00e3o seria ligar a sa\u00edda a um canal da ADC interna do microcontrolador de modo a medir o valor da tens\u00e3o e obter o valor da velocidade do vento.\n\t\t\nUniversidade de Aveiro\t86\t\nFigura 4.3 - Anem\u00f3metro\nComo o sensor tem resposta em frequ\u00eancia, a velocidade do vento \u00e9 dada pela express\u00e3o: n\nv = \u2014f 2 nr [m/s]\nN\nEqua\u00e7\u00e3o 4.1 - Velocidade do Vento\nOnde:\nv = velocidade do vento [m/s]\nn = n\u00famero de transi\u00e7\u00f5es contadas pelo timer\nf = frequ\u00eancia de contagem do timer [Hz] =1 Hz\nN = n\u00famero de dentes por volta = 16 n = 3.141592...\nr = raio do anem\u00f3metro em m [metros] = 0.155 m\nv = 60.87x10 3n [m/s]\nEqua\u00e7\u00e3o 4.2 - Velocidade do Vento em fun\u00e7\u00e3o de n\n4.3.2.\tSensor de Direc\u00e7\u00e3o do Vento\nO sensor de direc\u00e7\u00e3o \u00e9 o sensor que comanda a direc\u00e7\u00e3o da cabine da torre e\u00f3lica. Este sensor \u00e9 alimentado a 3.3V e 0V (com um consumo aproximado de 20mA) e com um sinal de sa\u00edda proporcional ao valor da resist\u00eancia do potenci\u00f3metro, e consequentemente, \u00e0 direc\u00e7\u00e3o do Aerogerador.\nA leitura deste sensor \u00e9 feita utilizando um dos canais que integram a ADC interna do microcontrolador. Sabendo que o sensor \u00e9 constitu\u00eddo por um potenci\u00f3metro linear, a tens\u00e3o de sa\u00edda depende da posi\u00e7\u00e3o e varia entre as tens\u00f5es de alimenta\u00e7\u00e3o. Assim a tens\u00e3o de sa\u00edda pode variar entre 0V e 3.3V e o valor da ADC por sua vez, varia entre 0 e 1023,\nrespectivamente.\tVdir\t10 ADC =\tx (2\t-1) Vcc\nEqua\u00e7\u00e3o 4.3 - Valor da ADC para o sensor de Direc\u00e7\u00e3o\nFigura 4.4 - Sensor de Direc\u00e7\u00e3o\n4.3.3.\tB\u00fassola Magn\u00e9tica\nPara medir a direc\u00e7\u00e3o da cabina j\u00e1 vimos que temos um sensor de direc\u00e7\u00e3o, mas tamb\u00e9m pode ser utilizada uma b\u00fassola.\nA b\u00fassola magn\u00e9tica da Parallax, constitu\u00edda pelo sensor da HM55B da Hitachi que tem um duplo eixo campo magn\u00e9tico. Este aparelho permite determinar o \u00e2ngulo que o sensor faz com o Norte. O tipo de comunica\u00e7\u00e3o com o m\u00f3dulo \u00e9 serie, e a leitura e escrita s\u00e3o simples, utilizando os comandos PBASIC SHIFTIN, SHIFTOUT e ATN. Este sensor \u00e9 sens\u00edvel a varia\u00e7\u00f5es de campo magn\u00e9tico na ordem dos microteslas (T), tem 8 bits de resolu\u00e7\u00e3o angular, uma resposta cerca de 30 a 40 ms, resist\u00eancia de protec\u00e7\u00e3o para os pinos de dados e tudo numa pequena placa de cerca de 0,3 polegadas.\nEste sensor \u00e9 utilizado na orienta\u00e7\u00e3o de rob\u00f4s, em b\u00fassolas electr\u00f3nicas de bolso, em autom\u00f3veis, esta\u00e7\u00f5es meteorol\u00f3gicas e noutras aplica\u00e7\u00f5es similares a estas, em que a precis\u00e3o n\u00e3o seja muito importante e o sensor n\u00e3o seja influenciado por campos magn\u00e9ticos externos ao da terra.\nFigura 4.5 - B\u00fassola Magn\u00e9tica M\u00f3dulo HM55B [Parallax]23\nFigura 4.6 - Circuito de liga\u00e7\u00e3o e sinal de sa\u00edda do m\u00f3dulo [Parallax]23\n23 Informa\u00e7\u00e3o desta b\u00fassola em http://info.hobbyengineering.com/specs/PX-29123.pdf\n4.3.4.\tSensor de Temperatura\nPara medir a temperatura existe uma grande variedade de sensores com v\u00e1rios protocolos de comunica\u00e7\u00e3o (I2C, SPI, SMBus, Two-Wire), dos mais variados fabricantes (Texas Instruments, Maxim, Analog Devices, ST), com diferentes resolu\u00e7\u00f5es e em diferentes packages. O modelo escolhido foi um sensor de temperatura anal\u00f3gico da Maxim, o MAX6608. Este tem um sinal de sa\u00edda anal\u00f3gico dispon\u00edvel com 5 pinos, \u00e9 alimentado a 3.3V e 0V e funciona a baixa corrente 15uA, com mais ou menos 2 graus de resolu\u00e7\u00e3o, com uma escala de funcionamento que pode ir de -20\u00b0C a 85\u00b0C e com um deslocamento de 500mV em rela\u00e7\u00e3o a temperatura de 0 Graus.\nA leitura deste sensor \u00e9 feita utilizando um canal da ADC do microcontrolador. Como o sensor tem resolu\u00e7\u00e3o de 10mV/\u00b0C, uma escala de funcionamento de -20\u00b0C a 85\u00b0C e a 0\u00b0C, uma tens\u00e3o de 500mV, o valor devolvido pela ADC de 10 bits varia entre 93 (-20\u00b0C) e 418,5 (+85\u00b0C).\nVtemp 10 ADC =\tx (2 -1)\nVcc\nEqua\u00e7\u00e3o 4.4 - Valor da ADC para o sensor de Temperatura\n-Para -20eC a tens\u00e3o de sa\u00edda do sensor MAX6608 \u00e9 500mV + (-20*10mV) = 300mV.\n0,300\nADC\tx (1024 - 1) = 93\n3.3\n-Para 85\u00b0C a tens\u00e3o de sa\u00edda do sensor MAX6608 \u00e9 500mV + (85*10mV) = 1.350V.\n1,350\nADC\tx(1024 - 1) = 418 ,5\n3.3\nFigura 4.7 - Sensor de temperatura MAX6608 [Maxim]24\n4.3.5.\tSensor de Rota\u00e7\u00e3o\nO sensor para medir a velocidade de rota\u00e7\u00e3o das p\u00e1s foi escolhido de entre sensores baseados no efeito de Hall com capacidade de detectar materiais ferro magn\u00e9ticos. O efeito de Hall foi descoberto por Edwin H. Hall, quando este verificou que se colocar uma placa fina de ouro perpendicular a um campo magn\u00e9tico \u00e9 percorrida por uma corrente originando uma diferen\u00e7a de potencial (potencial de Hall).\n24 Informa\u00e7\u00e3o retirada de http://www.maxim-ic.com/quick view2.cfm/qv pk/2575/t/al\nO princ\u00edpio deste sensor \u00e9 o efeito de hall que permite detectar a passagem de um corpo ferro magn\u00e9tico, agarrado ao eixo do rotor, que roda \u00e0 mesma velocidade das p\u00e1s. Assim o sinal de sa\u00edda deste sensor \u00e9 aproximadamente uma onda quadrada com uma frequ\u00eancia igual \u00e0 velocidade das p\u00e1s do rotor.\nLegenda:\n1. Electr\u00f5es; 2. Elemento (Sensor) Hall; 3. Imanes; 4. Campo magn\u00e9tico; 5. Fonte de alimenta\u00e7\u00e3o\nDescri\u00e7\u00e3o:\nNa figura A, o elemento Hall fica polarizado negativamente na extremidade superior (simbolizado pela cor azul) e positivamente na extremidade inferior (cor vermelha). Em B e C, tanto a corrente el\u00e9ctrica ou o campo magn\u00e9tico s\u00e3o invertidos, causando a polariza\u00e7\u00e3o inversa relativamente \u00e1 situa\u00e7\u00e3o em A. Invertendo ambas, corrente e campo magn\u00e9tico, (figura D) faz com que o elemento Hall polarizado de igual forma em rela\u00e7\u00e3o a A.\nO sensor escolhido com estas caracter\u00edsticas para esta aplica\u00e7\u00e3o foi o modelo 55075 da Hamlin. Este \u00e9 um sensor robusto em a\u00e7o inoxid\u00e1vel do formato de um M12 e com 46 mil\u00edmetros de comprimento, que aufere protec\u00e7\u00e3o para ambientes severos, tem capacidade de comuta\u00e7\u00e3o at\u00e9 27V e um consumo de 20mA, tem auto-ajusto magn\u00e9tico, protec\u00e7\u00e3o EMC, contra curto-circuito e tens\u00e3o inversa, e detec\u00e7\u00e3o de velocidade nula. A vida \u00fatil do sensor \u00e9 elevada (at\u00e9 20 mil milh\u00f5es de opera\u00e7\u00e3o) e destina-se a aplica\u00e7\u00f5es de geartooth, encoders industriais e comerciais, linear e de rota\u00e7\u00e3o. A leitura deste sensor \u00e9 feita utilizando uma linha de interrup\u00e7\u00e3o externa do microcontrolador.\nFigura 4.9 - Sensor de Rota\u00e7\u00e3o efeito de Hall [Hamlin]26\n25\tImagem retirada de http://pt.wikipedia.org/wiki/Imagem:Hall effect.png\n26\tInforma\u00e7\u00e3o retirada de http://www.hamlin.com/product-detail.cfm?productid=102\n\t\t\nUniversidade de Aveiro\t90\t\nFigura 4.10 - Bloco de diagrama e exemplo de aplica\u00e7\u00e3o (Geartooth)\n4.3.6.\tSensor de Corrente\nO sensor utilizado para medir a corrente el\u00e9ctrica tem o mesmo princ\u00edpio do anterior, o efeito de Hall. Para aplica\u00e7\u00f5es onde a corrente \u00e9 muito elevada, para medir o seu valor, o contacto com o fio que transporta a corrente \u00e9 perigoso. Assim \u00e9 necess\u00e1rio medir o valor de corrente por outro m\u00e9todo. Como cada fio que conduz uma corrente gera um campo electromagn\u00e9tico em seu redor, que pode ser medido e com base no seu valor determinar o valor da corrente el\u00e9ctrica no condutor. Esta \u00e9 uma das grandes vantagens deste tipo de sensores, a medi\u00e7\u00e3o de fluxo de corrente, sem a necessidade de contacto. Comercialmente existem dois tipos de sensores baseados no efeito de Hall, os sensores de malha aberta (open loop) e os sensores de malha fechada (closed loop). Os sensores de malha fechada t\u00eam uma grande precis\u00e3o, de resposta r\u00e1pida, excelente linearidade e com pequenas varia\u00e7\u00f5es de temperatura. O princ\u00edpio de funcionamento (ver Figura 4.11) deste tipo de sensores de efeito de Hall consiste na utiliza\u00e7\u00e3o de uma bobine auxiliar e uma malha de feedback. O fluxo magn\u00e9tico criado pela corrente prim\u00e1ria (que se pretende medir), origina uma corrente na bobine secund\u00e1ria. O sensor de efeito de Hall constitu\u00eddo por um circuito electr\u00f3nico, e isolado galvanicamente, gera o sinal de sa\u00edda com base na corrente induzida na bobina que \u00e9 uma amostra real da corrente prim\u00e1ria.\nO princ\u00edpio de funcionamento dos sensores de efeito de Hall de malha aberta tem por base um fluxo magn\u00e9tico, que \u00e9 introduzido pela corrente prim\u00e1ria que se pretende medir originando, na sa\u00edda do sensor de efeito de Hall, uma r\u00e9plica do sinal de entrada, garantindo o isolamento galv\u00e1nico na sa\u00edda.\nFigura 4.11 - Princ\u00edpio de funcionamento dos sensores\nEfeito de hall open e closed loop, respectivamente\nPara medir a corrente produzida o sensor de corrente com efeito de Hall escolhido foi o modelo L01Z da Tamura. Este sensor destinado \u00e0 montagem num circuito impresso (PCB -Print Circuit Boad), \u00e9 alimentado a 0V e 5V, e t\u00eam um consumo de corrente na ordem dos\nrw\nFigura 4.12 - Sensor de Corrente efeito de Hall [Tamura]27\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n-120\t-\u00a90\t-60\t-30\t0\t30\t60\t\u00a90\t120\nInput current (A)\nFigura 4.13 - Resposta em Tens\u00e3o do Sensor L01Z [Tamura]27\nA leitura deste sensor \u00e9 feita utilizando um canal da ADC do microcontrolador. Neste sensor, temos um caso particular de a tens\u00e3o de sa\u00edda do sensor de corrente ter uma gama superior \u00e1 gama da ADC, a tens\u00e3o do sensor pode variar de 0V a 5V e a gama de leitura da ADC varia de 0V a 3.3V. A solu\u00e7\u00e3o para resolver este problema foi proceder \u00e0 implementa\u00e7\u00e3o de um divisor resistivo de modo a dividir a tens\u00e3o de sa\u00edda do sensor por dois. Assim, a gama de sa\u00edda do sensor vai de 0V a 2.5V.\nADC\nVcurr\nVcc\nx (2'\t1)\nx\nR1\nR1 + R 2\nEqua\u00e7\u00e3o 4.5 - Valor da ADC para o sensor de Corrente\n27 Informa\u00e7\u00e3o retirada de http://www.tamuracorp.com/clientuploads/Technical Documents/TCA-Current Sensor Data.pdf\n-Para Vcurr=0V, ADC = 0; -Para Vcurr=5V, ADC = 775;\n5\t100 k&amp;\nADC\tx\t(1024 -1) = 775\n3.3\t100 k^ + 100 k--\n4.4.\tArquitectura do Sistema\nEste sistema de monitoriza\u00e7\u00e3o foi pensado para poder dar resposta a duas formas poss\u00edveis de instala\u00e7\u00e3o, local e remota. Assim, o sistema pode ser instalado no Aerogerador e ligar-se com suporte numa tecnologia de rede sem fios (Wireless) \u00e0 unidade de processamento, ou ent\u00e3o, pode ser instalado junto \u00e0 caixa de controlo do Aerogerador, recorrendo \u00e0 utiliza\u00e7\u00e3o de v\u00e1rios fios ligados aos sensores.\nA primeira op\u00e7\u00e3o de instala\u00e7\u00e3o, local, tem a vantagem de n\u00e3o necessitar de tantos fios ligados dos sensores ao sistema de monitoriza\u00e7\u00e3o, mas em contrapartida \u00e9 necess\u00e1rio um sistema de Alimenta\u00e7\u00e3o local para ultrapassar a necessidade de energia el\u00e9ctrica e a inexist\u00eancia de rede el\u00e9ctrica no local de instala\u00e7\u00e3o. Este sistema de alimenta\u00e7\u00e3o tem de ser suportado num painel solar e num carregador de baterias para manter a alimenta\u00e7\u00e3o durante a aus\u00eancia de luz , necess\u00e1ria para a produ\u00e7\u00e3o de energia el\u00e9ctrica. Nesta instala\u00e7\u00e3o tamb\u00e9m \u00e9 necess\u00e1rio garantir total isolamento dos circuitos, necessitando assim de uma caixa \u00e0 prova de \u00e1gua e humidade.\nNa segunda op\u00e7\u00e3o de montagem, remota, as desvantagens da primeira op\u00e7\u00e3o de instala\u00e7\u00e3o s\u00e3o as vantagens desta, uma vez que existe energia el\u00e9ctrica local e n\u00e3o \u00e9 necess\u00e1rio o painel solar, nem um carregador de baterias, diminuindo assim a complexidade do sistema.\nPara este Aerogerador, a op\u00e7\u00e3o de instala\u00e7\u00e3o do sistema de monitoriza\u00e7\u00e3o foi a remota, uma vez que a dist\u00e2ncia do Aerogerador ao sistema de controlo (controlador) \u00e9 reduzida, aproximadamente 30m. Neste \u00e2mbito, o sistema foi montado perto do controlador, onde se ligam e re\u00fanem todos os dados provenientes dos sensores e os cabos de corrente provenientes do gerador.\nCada sensor foi colocado numa posi\u00e7\u00e3o estrat\u00e9gica para proporcionar uma melhor qualidade de recolha da informa\u00e7\u00e3o vinda do meio. Os sensores de velocidade e direc\u00e7\u00e3o do vento foram instalados no topo da Torre E\u00f3lica de modo a informa\u00e7\u00e3o inerente ao estado do vento ser mais aproximada do local de captura do mesmo pelo Aerogerador. O sensor de direc\u00e7\u00e3o, pelo facto de estar instalado na parte m\u00f3vel do rotor, n\u00e3o fornece a informa\u00e7\u00e3o da direc\u00e7\u00e3o absoluta, mas sim a informa\u00e7\u00e3o relativa deste. De forma a ultrapassar este problema, existem as seguintes solu\u00e7\u00f5es:\nSolu\u00e7\u00e3o 1 - Colocar um outro sensor de direc\u00e7\u00e3o auxiliar. Para este sensor informar a posi\u00e7\u00e3o absoluta do Aerogerador, teria de ser colocado numa parte fixa, como por exemplo na torre, ou mesmo na parte superior do edif\u00edcio IEETA. Assim, ter\u00edamos a informa\u00e7\u00e3o absoluta do vento, a informa\u00e7\u00e3o relativa do aerogerador face \u00e0 direc\u00e7\u00e3o do vento, e por diferencia\u00e7\u00e3o, ainda se iria obter a direc\u00e7\u00e3o absoluta do Aerogerador.\ndesvantagens: Utiliza\u00e7\u00e3o de mais um sensor de direc\u00e7\u00e3o do vento; o facto do sensor auxiliar estar sujeito a perturba\u00e7\u00e3o causadas pela torre, principalmente em regime estacion\u00e1rio, o que logo influencia a direc\u00e7\u00e3o absoluta do Aerogerador.\nSolu\u00e7\u00e3o 2 - Colocar na parte m\u00f3vel, cabine da torre, uma b\u00fassola magn\u00e9tica que iria disponibilizar, \u00e0 sa\u00edda, a informa\u00e7\u00e3o do \u00e2ngulo do Aerogerador relativamente ao Norte, obtendo assim o valor de direc\u00e7\u00e3o absoluto.\nvantagens: Simplicidade de instala\u00e7\u00e3o e de leitura do mesmo sensor.\ndesvantagens: Esta op\u00e7\u00e3o como \u00e9 baseada na informa\u00e7\u00e3o magn\u00e9tica e devido \u00e0 elevada quantidade de corrente produzida pelo aerogerador (logo o aparecimento de campo magn\u00e9tico), pode influenciar o funcionamento do mesmo sensor e saturar a sua sa\u00edda. O funcionamento do sensor magn\u00e9tico tamb\u00e9m pode ser influenciado pela exist\u00eancia de superf\u00edcies de ferro, e como a instala\u00e7\u00e3o \u00e9 relativamente pr\u00f3xima da cabine do Aerogerador, a sua utiliza\u00e7\u00e3o tem de ser equacionada. A precis\u00e3o deste sensor n\u00e3o \u00e9 muito grande para o objectivo desta aplica\u00e7\u00e3o.\nSolu\u00e7\u00e3o 3 - Instalar dentro da cabine do Aerogerador, um sensor que detecte o movimento rotacional da cabine. Assim, correlacionando os valores podemos determinar tamb\u00e9m a posi\u00e7\u00e3o absoluta do Aerogerador.\nvantagens: N\u00e3o existem vantagens desta solu\u00e7\u00e3o em rela\u00e7\u00e3o \u00e0s anteriores, sendo apenas uma alternativa.\ndesvantagens: Mais dif\u00edcil e mais cr\u00edtica a montagem, podendo p\u00f4r em risco o funcionamento do Aerogerador em caso dos sensores se desprenderem; mais complicado e mais prop\u00edcio a obten\u00e7\u00e3o de erros no c\u00e1lculo da direc\u00e7\u00e3o absoluta do Aerogerador; e torna-se mais complexo tamb\u00e9m no que respeita \u00e0 troca de sensores em caso de avaria.\nSolu\u00e7\u00e3o 4 - Instalar dentro da cabine um potenci\u00f3metro na parte fixa, com o princ\u00edpio de funcionamento igual ao sensor de direc\u00e7\u00e3o, e conectar a este uma vareta que v\u00e1 ligar \u00e0 parte m\u00f3vel, e que acompanhe os seus movimentos. Isto significa que uma volta deste potenci\u00f3metro teria de ser igual a uma volta da cabine do aerogerador.\nvantagens: Simplicidade de leitura do sensor e informa\u00e7\u00e3o absoluta do seu movimento.\ndesvantagens : Impossibilidade de uniformizar e generalizar a leitura da posi\u00e7\u00e3o da cabine atrav\u00e9s deste m\u00e9todo; e dificuldade de instala\u00e7\u00e3o do respectivo sensor.\nTendo em conta as vantagens e desvantagens referidas, a solu\u00e7\u00e3o que pareceu mais adequada e de f\u00e1cil instala\u00e7\u00e3o, foi a utiliza\u00e7\u00e3o de um sensor de direc\u00e7\u00e3o auxiliar.\nO sensor de temperatura foi instalado na pr\u00f3pria placa PCB, obtendo assim a temperatura ambiente a que os circuitos integrados est\u00e3o a funcionar.\nPara medir a velocidade de rota\u00e7\u00e3o das p\u00e1s do Aerogerador t\u00ednhamos igualmente algumas solu\u00e7\u00f5es. As mais simples de implementar eram:\nSolu\u00e7\u00e3o 1 - O sensor de rota\u00e7\u00e3o das P\u00e1s do Aerogerador ser montado dentro da cabine, fixo \u00e0 estrutura da torre. Este sensor estar virado perpendicularmente \u00e0 normal do eixo de rota\u00e7\u00e3o.\n\t\t\nUniversidade de Aveiro\t94\t\nvantagens : Simplicidade de leitura da velocidade de rota\u00e7\u00e3o das p\u00e1s devida \u00e0 onda quadrada de sa\u00edda do sensor com frequ\u00eancia vari\u00e1vel; fiabilidade de um mecanismo que tem como fun\u00e7\u00e3o detectar a passagem de um parafuso ferro magn\u00e9tico pelo sensor de rota\u00e7\u00e3o, devido \u00e0 robustez do sensor escolhido.\ndesvantagens: Poss\u00edveis oscila\u00e7\u00f5es da torre E\u00f3lica, o que pode resultar na desloca\u00e7\u00e3o do sensor e no aumento da dist\u00e2ncia m\u00ednima do sensor ao parafuso deixando de o detectar, inviabilizando deste modo, a monitoriza\u00e7\u00e3o da velocidade de rota\u00e7\u00e3o das p\u00e1s; elevado pre\u00e7o do sensor relativamente a outras solu\u00e7\u00f5es; impossibilidade de generalizar a medi\u00e7\u00e3o da velocidade utilizando esta solu\u00e7\u00e3o, devido ao facto de n\u00e3o ser sempre poss\u00edvel a instala\u00e7\u00e3o deste sensor, em outros Aerogeradores.\nSolu\u00e7\u00e3o 2 - Devido \u00e0 utiliza\u00e7\u00e3o de um sensor de corrente de efeito de hall para medir corrente alterna, este tamb\u00e9m pode ser utilizado para determinar a frequ\u00eancia da mesma corrente. Assim pode ser obtido o valor da velocidade de rota\u00e7\u00e3o atrav\u00e9s da frequ\u00eancia da corrente alterna produzida pelo Aerogerador.\nvantagens : Mais simples e mais barato do que a solu\u00e7\u00e3o 1, utilizando um sensor para medir duas vari\u00e1veis.\ndesvantagens: Devido \u00e0 utiliza\u00e7\u00e3o de um sensor para medir duas vari\u00e1veis, a monitoriza\u00e7\u00e3o de ambas ficaria sujeita ao funcionamento do mesmo.\nNeste caso optamos por instalar ambas as solu\u00e7\u00f5es, uma vez que o sensor utilizado para a solu\u00e7\u00e3o 2, j\u00e1 estava previsto a sua utiliza\u00e7\u00e3o para medir a corrente produzida. Assim, e como este projecto n\u00e3o se trata de um sistema terminal, mas sim de testes, podemos determinar qual a melhor solu\u00e7\u00e3o.\nPara medir a corrente produzida instalamos o sensor de corrente efeito de Hall perto do controlador (sistema de controlo).\nTodo o sistema de monitoriza\u00e7\u00e3o (PCB), com todos os circuitos impressos e os conectores para ligar aos sensores, foi ent\u00e3o instalado perto do controlador que ficou instalado no Edif\u00edcio do IEETA a cerca de 30 metros do Aerogerador. Como j\u00e1 foi referido, o sistema est\u00e1 tamb\u00e9m preparado para ser instalado localmente (no aerogerador - Solu\u00e7\u00e3o B).\nAerogerador 20kW\nEolitor Server\nControlador\n,.g\u00ab.a 4.15 - Arquitectura de montagem do Sistema de Monitoriza\u00e7\u00e3o\n4.5.\tTecnologias Implementadas\nPara implementar os v\u00e1rios sensores num sistema de monitoriza\u00e7\u00e3o local \u00e9 necess\u00e1ria a utiliza\u00e7\u00e3o de uma unidade de processamento que permita a recep\u00e7\u00e3o do valor dos sensores e o envio para uma unidade central. No mercado, existem muitos microcontroladores dos mais variados fabricantes (Microchip, Motorola, Atmel), capazes de resolver esta necessidade. A escolha de um fabricante tamb\u00e9m \u00e9 influenciada pela escolha do compilador e do programador do microcontroladores. Neste sentido, a escolha recaiu pelo Microchip, devido a este ser o mais utilizado nos projectos abrangidos pelo IEETA, e por isso existirem programadores e compilador da Microchip dispon\u00edveis. A gama de microcontroladores da Microchip de 8, 16 e 32 bits \u00e9 muito grande cobrindo quase todas as necessidades poss\u00edveis. Com o desenvolvimento das tecnologias, os microcontroladores disponibilizam cada vez mais mecanismos, e por um tamanho mais reduzido. Estes integram: Timers de 8 e/ou 16 bis, ADC de 10/12 bits, comunica\u00e7\u00e3o s\u00e9rie (UART, CAN, MSSP), mem\u00f3ria flash, mem\u00f3ria EEPROM, v\u00e1rios portes I/O Digitais de v\u00e1rios bits, Interrup\u00e7\u00f5es, registos de estado e dados.\nInicialmente, a op\u00e7\u00e3o do microcontrolador a usar recaiu pelo PIC18F458 da Microchip de 8 bits. Este \u00e9 constitu\u00eddo 4 Timers, um de 8 bits (Timer2), um de 8/16 bits (Timer0) e 2 de 16 bits (Timer 1 e 3), por uma UART, por m\u00f3dulos de comunica\u00e7\u00e3o s\u00e9rie I2C e SPI, por uma ADC com 8 canais de entrada e pelos portos de I/O A, B, C e D. Este microcontrolador tinha todas as caracter\u00edsticas necess\u00e1rias para o processamento de dados necess\u00e1rio para o sistema de monitoriza\u00e7\u00e3o, sendo a \u00fanica falha relativamente aos pr\u00e9-requisitos, o facto de n\u00e3o ter integrado nenhum RTCC (Real Time Clock and Calendar). Contudo, pode ser ultrapassado recorrendo a um externo com protocolo de comunica\u00e7\u00e3o SPI ou I2C, exemplo DS1388 da Maxim.\nCom a necessidade do sistema de monitoriza\u00e7\u00e3o local obter capacidade de armazenamento dos dados, caso n\u00e3o exista liga\u00e7\u00e3o wireless com o sistema de informa\u00e7\u00e3o, foi necess\u00e1ria a introdu\u00e7\u00e3o no projecto de um m\u00f3dulo de armazenamento (ver ponto 4.7).\nNo sentido de dar resposta \u00e0 introdu\u00e7\u00e3o de um m\u00f3dulo de armazenamento constitu\u00eddo por um cart\u00e3o SD, as necessidades do microcontrolador aumentaram, especialmente a mem\u00f3ria de programa necess\u00e1ria para processar o c\u00f3digo devido \u00e1 car\u00eancia da cria\u00e7\u00e3o de um sistema de ficheiros. Assim sendo, a escolha recaiu pela altera\u00e7\u00e3o do microcontrolador para 16 bits, e foi feito um novo levantamento de qual o microcontrolador de 16 bits da Microchip que se deveria utilizar. Optou-se ent\u00e3o por utilizar um microcontrolador PIC24FJ128GA006 que disponibiliza mais mem\u00f3ria para o programa, mais capacidade de processamento e mais pinos I/O.\nCom quase todos os componentes do circuito escolhidos, \u00e9 necess\u00e1rio passar do papel para um circuito impresso onde podem ser soldados todos os componentes. O programa utilizado para fazer o respectivo schematics foi o Orcad 15.7 com a ferramenta Orcad Capture CIS. Para desenhar os caminhos respeitantes \u00e0s liga\u00e7\u00f5es feitas no schematics, e os footprint dos v\u00e1rios circuitos impressos, foi utilizada a ferramenta Orcad Layout Plus, obtendo assim o desenho real da placa de circuito impresso do sistema de monitoriza\u00e7\u00e3o (ver ANEXO E). Esta ferramenta permitiu tamb\u00e9m criar os diferentes footprint dos v\u00e1rios componentes utilizados.\n\t\t\nUniversidade de Aveiro\t96\t\nResumindo, o programa do microcontrolador que ir\u00e1 controlar os sensores e processar os dados foi escrito em linguagem C, utilizando o MPLAB IDE v8.10 e compilado utilizando o compilador C30 da Microchip. A placa do circuito foi desenvolvida utilizando as ferramentas do Orcad 15.7. Para programar o programa no microcontrolador, foi utilizado, tamb\u00e9m da Microchip, o ICD2, que faculta o envio do resultado do compilador para o microcontrolador.\nFigura 4.16 - Programador de Microcontroladores ICD2 [Microchip]28\n4.6.\tProcessamento de Tramas - Envio\nOs sistema de monitoriza\u00e7\u00e3o recebe os dados dos v\u00e1rios sensores instalados a uma frequ\u00eancia programada e organiza esses mesmos dados para serem enviados para a unidade central (servidor) os poder processar. Os dados s\u00e3o introduzidos num buffer (trama) juntamente com um identificador respectivo do sensor e a diferen\u00e7a de tempo entre o instante de tempo da recolha dos dados e o instante inicial. Os dados s\u00e3o o resultado da convers\u00e3o da ADC ou ent\u00e3o, a soma do n\u00famero de interrup\u00e7\u00f5es que ocorrem durante um segundo, isto para os sensores de velocidade do vento ou velocidade do aerogerador (as gamas dos dados introduzidos na trama podem ser consultados na Tabela 4.3). Por sua vez, a trama \u00e9 enviada para o PC a uma determinada frequ\u00eancia ou ent\u00e3o quando o buffer da trama estiver cheio.\nA trama tem um cabe\u00e7alho que identifica o aerogerador da fonte de informa\u00e7\u00e3o e o tamanho da trama. No final da trama \u00e9 calculado e anexado um CRC (Cyclic redundancy check) com dois bytes que permite verificar a detec\u00e7\u00e3o de erros. CRC \u00e9 um c\u00f3digo de detector de erros que \u00e9 gerado em poucos bits, de modo a detectar erros de transmiss\u00e3o ou armazenamento.\nA trama (ou buffer) de dados que vai ser enviada placa do sistema de monitoriza\u00e7\u00e3o para o programa de servidor tem os seguintes campos; Cabe\u00e7alhos, Dados e CRC.\nCabe\u00e7alhos\tN\u00famero Bytes\tValor\nByte 0\t1\t00000000\nByte 1NNNNNNN\t1\tNNNNNNN = Tamanho total da trama\nDados\tN\u00famero Bytes\tValor\nByte AAAASSSS\t1\tAAAA = ID do Aerogerador SSSS = ID do Sensor/Informa\u00e7\u00e3o\n28 Todas as informa\u00e7\u00f5es de microcontroladores, do programador ICD2 e do MPLAB IDE em http://www.microchip.com\n\t\t\nUniversidade de Aveiro\t97\t\nBytes D\tvari\u00e1vel\tD = Data\nByte T\t1\tT = Diferen\u00e7a de tempo\nCRC\tN\u00famero Bytes\tValor\nByte C0\t1\tCO = CRC0\nByte C1\t1\tC1 = CRC1\nTabela 4.2 - Estrutura da Trama\nID do Sinal\tSinal\tFrequ\u00eancia Default (Hz)\tN\u00famero de Bytes\tGama de Valor\n1\tSensor Velocidade Vento\t1\t2\t0 a 65535\n2\tSensor Direc\u00e7\u00e3o Vento\t1\t2\t0 a 1023\n3\tSensor Temperatura\t1\t2\t93 a 419\n4\tSensor Velocidade Aero\t1\t2\t0 a 65535\n5\tSensor Direc\u00e7\u00e3o Aero\t1\t2\t0 a 1023\n6\tSensor Voltagem Aero\t1\t2\t0 a 1023\n7\tSensor Corrente Aero\t1\t2\t0 a 775\n8\tSensor Pot\u00eancia Aero\t1\t2\t\n9\tSensor Corrente Inversor\t1\t2\t0 a 775\n10\tBateria\tMinuto a Minuto\t2\t0 a 1023\n11\tLiga\u00e7\u00e3o Estabelecida\t\t0\t-\n12\tTeste Liga\u00e7\u00e3o\tMinuto a Minuto\t0\t-\n13\tObter Datetime do PC\tSemana a semana\t0\t-\n14\tDiferen\u00e7a de tempo\t-\t0\t-\n15\tEnviar Datetime do PIC\t-\t6\t-\nTabela 4.3 - Identificadores dos dados da Trama\n\t\t\nUniversidade de Aveiro\t98\t\nDiagrama 4.1 - Diagrama de processamento de tramas - Envio\nPara marcar a frequ\u00eancia de leitura dos v\u00e1rios sensores utilizou-se o timer5 para gerar interrup\u00e7\u00f5es com uma frequ\u00eancia de 1000Hz. Assim, na rotina de interrup\u00e7\u00e3o do timer5, programou-se de modo a ao fim de 1000 interrup\u00e7\u00f5es, era guardado um novo registo para leitura do estado do aerogerador (velocidade e corrente), e ao fim de tamb\u00e9m 1000 interrup\u00e7\u00f5es, era guardado outro registo para leitura dos valores do estado do tempo (velocidade, direc\u00e7\u00e3o e temperatura) na tabela de registo. Assim, a frequ\u00eancia de leitura do estado do tempo e do aerogerador \u00e9 de 1 Hz.\nSempre que \u00e9 gerado um novo evento, \u00e9 escrita informa\u00e7\u00e3o associada numa trama (buffer) que \u00e9 enviada para o sistema de monitoriza\u00e7\u00e3o de 3 em 3 segundos (frequ\u00eancia de 0.33Hz). Estes s\u00e3o os valores de monitoriza\u00e7\u00e3o por defeito. No programa de informa\u00e7\u00e3o Eolitor System \u00e9 poss\u00edvel alterar a frequ\u00eancia de monitoriza\u00e7\u00e3o do vento e do aerogerador e a frequ\u00eancia de envio das tramas.\nFigura 4.17 - Frequ\u00eancia de processamento de tramas\n\t\t\nUniversidade de Aveiro\t99\t\n4.7.\tM\u00f3dulo de Armazenamento de Dados Local\nEste m\u00f3dulo surgiu da necessidade de armazenamento da informa\u00e7\u00e3o durante a perda da liga\u00e7\u00e3o entre a placa e o servidor do sistema de monitoriza\u00e7\u00e3o, respons\u00e1vel pelo tratamento dos dados e pelo armazenamento dos mesmos na base de dados. Assim, quando a liga\u00e7\u00e3o se perder, o sistema de monitoriza\u00e7\u00e3o tem capacidade de armazenar os dados localmente sem perder informa\u00e7\u00e3o, podendo tamb\u00e9m efectuar o papel de descarregador para a base de dados atrav\u00e9s do PC na pr\u00f3xima liga\u00e7\u00e3o. Foi feito um pesquisa de qual a melhor forma de guardar esses dados localmente para este tipo de aplica\u00e7\u00e3o. Assim, para implementar localmente este requisito, foram encontradas duas solu\u00e7\u00f5es pelo autor:\nSolu\u00e7\u00e3o 1 - A introdu\u00e7\u00e3o de um m\u00f3dulo de escrita e leitura de um cart\u00e3o flash SD/MMC.\nvantagens: Possibilidade do cart\u00e3o poder ser retirado e a informa\u00e7\u00e3o ser descarregada directamente no PC ou em qualquer dispositivo com capacidade de leitura de cart\u00f5es SD/MMC; a f\u00e1cil leitura e escrita da informa\u00e7\u00e3o no cart\u00e3o devido ao sistema de ficheiros; e a possibilidade programa\u00e7\u00e3o de uma \u00e1rvore de direct\u00f3rios com ficheiros contendo informa\u00e7\u00e3o. A outra vantagem \u00e9 o facto de esta op\u00e7\u00e3o ser menos dispendiosa.\ndesvantagens: Maior complexidade do projecto e do software, pela necessidade de implementa\u00e7\u00e3o de um sistema de ficheiros FAT; desgaste dos contactos do cart\u00e3o como tempo e com a utiliza\u00e7\u00e3o.\nSolu\u00e7\u00e3o 2 - A introdu\u00e7\u00e3o de uma mem\u00f3ria flash NOR com comunica\u00e7\u00e3o SPI. vantagens: Circuito integrado simples de instalar na PCB.\ndesvantagens: Solu\u00e7\u00e3o mais dispendiosa em rela\u00e7\u00e3o h\u00e1 anterior\tA informa\u00e7\u00e3o\n\u00e9 armazenada na forma de p\u00e1ginas.\nA solu\u00e7\u00e3o implementada neste projecto foi a primeira com a introdu\u00e7\u00e3o de um socket de cart\u00f5es SD, controlado pelo microcontrolador atrav\u00e9s do protocolo s\u00e9rie SPI, e a escrita de um m\u00f3dulo de software para a cria\u00e7\u00e3o de um sistema FAT, e fun\u00e7\u00f5es que permitam: criar um sistema de ficheiros, criar uma pasta, criar um ficheiro, ler um ficheiro, escrever num ficheiro, renomear um ficheiro, alterar um ficheiro, entre outras. A estrutura deste m\u00f3dulo est\u00e1 representada na Figura 4.18 e no Diagrama 4.2.\nFigura 4.18 - M\u00f3dulo Armazenamento Local\nDiagrama 4.2 - Diagrama Armazenamento de dados Local\nFile Allocation Table (FAT) \u00e9 um sistema de ficheiros desenvolvido para o MS-DOS e que continuou a ser utilizado pela Microsoft em sistemas operativos posteriores. Um sistema de ficheiros \u00e9 uma forma dos Sistema Operativos armazenarem dados num suporte de armazenamento de dados, frequentemente, discos r\u00edgidos, discos flash/pendrzves, ou cart\u00f5es SD/MMC. Sabendo interpretar o sistema de arquivos, que corresponde a um mapa de utiliza\u00e7\u00e3o de um suporte de informa\u00e7\u00e3o (disco), o Sistema Operativo pode descodificar os dados (localizar os blocos f\u00edsicos do disco onde os dados se encontram), lendo-os e gravando-os.\nAs implementa\u00e7\u00f5es mais comuns de sistema de ficheiros t\u00eam o inconveniente de, com a utiliza\u00e7\u00e3o, \u00e0 medida que se apagam ficheiros e escrevem novos, os blocos que constituem a informa\u00e7\u00e3o dos ficheiros criados come\u00e7am a ficar dispersos, ficando o suporte de informa\u00e7\u00e3o fragmentado, aumentando assim, os requisitos necess\u00e1rios para o seu processamento (PC ou microcontroladores).\nEste m\u00f3dulo de armazenamento \u00e9 composto, como demonstra a Figura 4.18, por uma camada de baixo n\u00edvel composta pelas fun\u00e7\u00f5es de leitura e escrita num suporte f\u00edsico e para obter a data do RTCC, das quais fazem parte, disk_initialize, disk_status, disk_read, disk_write, disk_ioctl e get_fattime. Na camada interm\u00e9dia est\u00e3o as fun\u00e7\u00f5es do sistema de Ficheiros FatFS. Na camada superior, que permite a interface com o utilizador est\u00e3o as aplica\u00e7\u00f5es que v\u00e3o utilizar as fun\u00e7\u00f5es do sistema de ficheiros FatFS. As fun\u00e7\u00f5es est\u00e3o descritas nas tabelas seguintes, e podem ser consultadas no ANEXO C onde se encontram com mais detalhe.\nO m\u00f3dulo FatFs / Tiny-FatFs \u00e9 um software livre que est\u00e1 aberto para a educa\u00e7\u00e3o, investiga\u00e7\u00e3o e desenvolvimento, e pode ser utilizado para uso pessoal sem qualquer restri\u00e7\u00e3o, e est\u00e1 dispon\u00edvel na internet atrav\u00e9s do endere\u00e7o&lt;http://elm-chan.org/fsw/ff/00index_e.html>.\nModulo Disk I/O e RTCC\t\nFun\u00e7\u00f5es\tDescri\u00e7\u00e3o\ndisk initialize\tInicializa Unidade de Disco\ndisk status\tObt\u00eam o estado do Disco\ndisk read\tLeitura do Disco\ndisk write\tEscrita no Disco\ndisk ioctl\tControlo de funcionalidades que dependem do Dispositivo\nget fattime\tObt\u00eam date e hora do RTCC\nTabela 4.4 - Fun\u00e7\u00f5es dos M\u00f3dulos de acesso ao Disco I/O e RTCC\nModulo FatFS\t\nFun\u00e7\u00f5es\tDescri\u00e7\u00e3o\nf mount\tRegistar/Anular \u00e0rea de trabalho\nf open\tAbrir/Criar Ficheiro\nf close\tFechar Ficheiro\nf read\tLer Ficheiro\nf lseek\tMover ponteiro de ficheiro\nf truncate\tTruncar ficheiro\nf sync\tApagar dados da Cache\nf opendir\tAbrir Directoria\nf readdir\tLer conte\u00fado de um Direct\u00f3rio\nf getfree\tObter Clusters Livres\nf stat\tObter estado do Ficheiro\nf mkdir\tCriar um Direct\u00f3rio\nf unlink\tRemover um Ficheiro ou um Direct\u00f3rio\nf chmod\tAlterar atributo\nf utime\tAlterar Timestamp\nf rename\tRenomear um Ficheiro ou Direct\u00f3rio\nf mkfs\tCriar um sistema de Ficheiros numa Drive\nf forward\tEncaminhar caminho de dados\nf gets\tLer uma string\nf putc\tEscrever um caractere\nf puts\tEscrever uma string\nf printf\tEscrever uma string formatada\nTabela 4.5 - Fun\u00e7\u00f5es do Sistema de Ficheiros FatFS\n4.8.\tSistema de Alimenta\u00e7\u00e3o\nO sistema de alimenta\u00e7\u00e3o \u00e9 um requisito fundamental para o funcionamento do sistema e \u00e9 diferente dependendo das solu\u00e7\u00f5es de instala\u00e7\u00e3o. Como j\u00e1 foi referido, se a instala\u00e7\u00e3o do sistema de monitoriza\u00e7\u00e3o for feita no local do Aerogerador, devido \u00e0 falta de rede el\u00e9ctrica, \u00e9 necess\u00e1rio projectar um sistema de produ\u00e7\u00e3o de energia que mantenha o sistema de monitoriza\u00e7\u00e3o funcional. Nos casos em que o sistema de monitoriza\u00e7\u00e3o \u00e9 instalado\n\t\t\nUniversidade de Aveiro\t102\t\nAssim, foi pensado um sistema que transforme a energia solar em energia el\u00e9ctrica. Com objectivo de atingir este princ\u00edpio, recorreu-se a um painel solar. Comercialmente, estes variam consoante a sua \u201ccapacidade de captar\u201d energia solar e a \u201ccapacidade de fornecer\u201d energia el\u00e9ctrica. Para as necessidades deste projecto, o painel solar tem de ter a capacidade de disponibilizar uma corrente de sa\u00edda por volta dos 300mA, o que corresponde a uma pot\u00eancia entre 3W e 5W.\nComo a energia el\u00e9ctrica produzida pelo painel solar n\u00e3o \u00e9 constante, uma vez que os per\u00edodos de exposi\u00e7\u00e3o solar tamb\u00e9m n\u00e3o s\u00e3o constantes, torna-se necess\u00e1ria a aplica\u00e7\u00e3o de uma bateria capaz de armazenar energia, a utilizar nos per\u00edodos em que a produ\u00e7\u00e3o \u00e9 m\u00ednima. Para carregar a bateria \u00e9 necess\u00e1rio um dispositivo electr\u00f3nico (carregador) que monitorize a carga de modo a n\u00e3o danificar a bateria nem a diminui\u00e7\u00e3o da sua capacidade. Assim sendo, procedeu-se ao estudo de um mini projecto com capacidade de alimentar o sistema de monitoriza\u00e7\u00e3o. O tipo de Bateria (NiCd, NiMH ou Lithium), a capacidade (Ah), a tens\u00e3o (V) e corrente (mA) de sa\u00edda foram algumas das quest\u00f5es levantadas.\nA primeira resposta dada para a implementa\u00e7\u00e3o deste sistema foi o tipo de bateria a utilizar, para a qual \u00e9 necess\u00e1ria a informa\u00e7\u00e3o da pot\u00eancia e da quantidade de corrente que o circuito consome instantaneamente, desde os v\u00e1rios sensores, ao m\u00f3dulo de comunica\u00e7\u00e3o Wireless e m\u00f3dulo de armazenamento local. Os sensores de corrente, os sensores de velocidade (anem\u00f3metro) e de rota\u00e7\u00e3o (rpm) consomem cerca de 20mA. O m\u00f3dulo de comunica\u00e7\u00e3o consome cerca de 30mA a 70mA consoante a tecnologia utilizada (ver 4.9 -Liga\u00e7\u00e3o Wireless). A op\u00e7\u00e3o Bluetooth consome mais relativamente \u00e0 ZigBee. O m\u00f3dulo de armazenamento tamb\u00e9m consome na ordem das dezenas de mA. O consumo do sistema de monitoriza\u00e7\u00e3o necessita assim de uma pot\u00eancia de cerca de 1W equivalente a cerca de 200mA. Tendo em conta este valor de consumo podemos escolher uma bateria que armazene energia suficiente para ser utilizada nos per\u00edodos de aus\u00eancia de produ\u00e7\u00e3o de energia por parte do painel solar. Assim, assumindo que durante o dia o painel tem capacidade de produ\u00e7\u00e3o de energia de forma a carregar a bateria, a capacidade desta tem de ser auto-suficiente para alimentar o sistema de monitoriza\u00e7\u00e3o durante a noite. Tendo em conta que no Inverno as noites podem ter cerca de 14 horas, a capacidade da bateria n\u00e3o pode ser inferior a 2800mAh (200mA x 14h). Esta foi a capacidade m\u00ednima estabelecida para a bateria.\nFoi dada especial aten\u00e7\u00e3o: \u00e0 capacidade da bateria e o local da aplica\u00e7\u00e3o; os pre\u00e7os (\u20ac/mAh); a forma como as baterias s\u00e3o carregadas, pois a dura\u00e7\u00e3o das mesmas \u00e9 influenciada consoante os v\u00e1rios tipos de bateria. Perante estes requisitos foram encontradas as seguintes op\u00e7\u00f5es\nSolu\u00e7\u00e3o 1 - A primeira op\u00e7\u00e3o ponderada foi a utiliza\u00e7\u00e3o de baterias de NiMH (Niquel Metal Hidreto). Estas s\u00e3o o tipo de baterias mais usado actualmente, pois oferecem maior capacidade (20% em m\u00e9dia comparando com as NiCd), t\u00eam maior vida \u00fatil, em geral suportam mais recargas comparado com as NiCd, s\u00e3o menos poluentes, j\u00e1 que n\u00e3o utilizam materiais pesados, como o C\u00e1dmio, tempo de recarga inferior e maior resist\u00eancia a varia\u00e7\u00f5es de temperatura. Outra vantagem desse tipo \u00e9 a aus\u00eancia do efeito mem\u00f3ria que caracteriza as baterias de NiCd. As baterias de NiMH s\u00e3o normalmente carregadas por uma corrente constante.\n\t\t\nUniversidade de Aveiro\t103\t\nSolu\u00e7\u00e3o 2 - A outra op\u00e7\u00e3o considerada foi a aplica\u00e7\u00e3o das baterias de Lithium. Este tipo de baterias \u00e9 mais pequeno em rela\u00e7\u00e3o \u00e0s anteriores, mas consideram-se mais vantajosas, pois a vida \u00fatil \u00e9 maior e podem ter maior capacidade de carga, contudo s\u00e3o mais caras comparativamente \u00e0s baterias de NiMH.\nTanto para as baterias de NiMH, como para as baterias de Lithium, existem v\u00e1rias op\u00e7\u00f5es de fornecedores (Maxim, Analog Devices, Texas Instrument, ST) com circuitos integrados capazes de controlar o processo de carregamento da bateria, garantindo a preserva\u00e7\u00e3o da mesma. A escolha do carregador de baterias s\u00f3 dever\u00e1 ser feita depois de seleccionada a bateria.\nFigura 4.19 - Sistema de Alimenta\u00e7\u00e3o remoto\nDiagrama 4.3 - Diagrama do Sistema de Alimenta\u00e7\u00e3o remoto\nFigura 4.20 - Sistema de Alimenta\u00e7\u00e3o local\nDiagrama 4.4 - Diagrama do Sistema de Alimenta\u00e7\u00e3o local\n\t\t\nUniversidade de Aveiro\t104\t\n4.8.1.\tRegulador de Tens\u00e3o\nO regulador de tens\u00e3o foi utilizado com o objectivo de poder ligar a alimenta\u00e7\u00e3o do sistema, tanto a um painel solar como a um transformador, cuja tens\u00e3o de sa\u00edda seja superior a 5V. Assim, este vai estabilizar a tens\u00e3o em 5V, caso tenha \u00e0 entrada a gama de tens\u00f5es necess\u00e1rias para o poder fazer.\nO regulador escolhido foi o TL2575-05 da Texas Instruments (circuito pode ser consultado no ANEXO E), \u00e9 um regulador STEP-DOWN, cujas caracter\u00edsticas principais s\u00e3o: uma grande gama de tens\u00f5es de entrada (4.75V at\u00e9 40V), capacidade de corrente de sa\u00edda at\u00e9 1A, grande efici\u00eancia (tipicamente 88%), e apenas 4 componentes externas necess\u00e1rias para o seu funcionamento. O esquema do circuito pode ser consultado no ANEXO E, e a informa\u00e7\u00e3o relativamente ao regulador TL2575-05 pode ser consultada no site da Texas Instruments29.\nFigura 4.21 - Diagrama de Blocos do TL2575-05 [TI]\n4.8.2.\tCarregador de Baterias Lithium\nPara poder ter a bateria no n\u00edvel de carga considerado \u00f3ptimo \u00e9 necess\u00e1rio um circuito electr\u00f3nico que v\u00e1 controlar todo o processo de carga, para evitar danificar a bateria. Devido a esta necessidade foi pensado e projectado um circuito para carregar a bateria. V\u00e1rios fabricantes de circuitos integrados, como a Analog Devices, a ST, a Maxim, a Texas Instruments, entre outros, t\u00eam na sua gama de produtos circuitos integrados destinados a todo o processo de carregamento de baterias. O carregador escolhido foi o modelo BQ24002 da Texas Instruments que tem as seguintes caracter\u00edsticas:\n-Transistor FET integrado, Bloqueio-inverso Schottky e Protec\u00e7\u00e3o de temperatura; -Regula\u00e7\u00e3o de tens\u00e3o e corrente integrada, com programa\u00e7\u00e3o da corrente de carga; -Alta precis\u00e3o de tens\u00e3o;\n-At\u00e9 1.2A de corrente de carga;\n-Temporizador de seguran\u00e7a durante a pr\u00e9-carga e o carregamento r\u00e1pido;\n-Monitoriza\u00e7\u00e3o da temperatura durante a fase de carga;\n-Sa\u00eddas que indicam o estado do processo de carga.\n29\tMais informa\u00e7\u00f5es em http://focus.ti.com/docs/prod/folders/print/tl2575-05.html\nDurante o carregamento de uma bateria, existem tr\u00eas fases; pr\u00e9-carga, regula\u00e7\u00e3o de corrente (fonte de corrente) e regula\u00e7\u00e3o de tens\u00e3o (fonte de tens\u00e3o). A pr\u00e9-carga \u00e9 necess\u00e1ria quando a tens\u00e3o da bateria est\u00e1 abaixo de um limiar m\u00ednimo (estado da bateria pode ser critico). Durante esta fase que dura tipicamente 20min, o carregador injecta uma corrente baixa constante na bateria. A tens\u00e3o da bateria vai subindo at\u00e9 atingir esse limiar m\u00ednimo, passado ent\u00e3o para a fase de regula\u00e7\u00e3o de carga. Nesta fase, o carregador vai fornecer uma corrente mais elevada, que depende da capacidade da bateria a carregar e pode ser programada, at\u00e9 atingir praticamente a tens\u00e3o da bateria. Neste ponto, o processo de carregamento comuta de uma fonte de corrente para uma fonte de tens\u00e3o, e a corrente de carga vai diminuindo exponencialmente. O esquema do circuito de carga da bateria e os c\u00e1lculos do seu dimensionamento, podem ser consultados no ANEXO E. O diagrama de estados do processo de carga, do carregador BQ24002, pode ser consultado no site da Texas Instruments30.\n4.8.3.\tCharge Pump\nA tens\u00e3o de alimenta\u00e7\u00e3o do circuito \u00e9 5V, por isso \u00e9 necess\u00e1rio elevar a tens\u00e3o da bateria de Lithuim de 4.2V, quando esta for a fonte de alimenta\u00e7\u00e3o do circuito (sistema de monitoriza\u00e7\u00e3o e sensores). Para tal, foi escolhido um Charge Pump (Conversor DC/DC) TPS60130 da Texas Instruments, que disponibiliza 5V\u00b14% \u00e0 sa\u00edda, para tens\u00f5es de entrada na gama de 2.7V a 5.4V. Este, com efici\u00eancia de 90% na referida gama, t\u00eam capacidade de disponibilizar at\u00e9 300mA de corrente \u00e0 sa\u00edda. O esquema do circuito pode ser consultado no ANEXO E, juntamente com todos os c\u00e1lculos auxiliares de dimensionamento, e no site da Texas Instruments31.\n30\tMais informa\u00e7\u00f5es, incluindo o Datasheet em http://focus.ti.com/docs/prod/folders/print/bq24002.html\n31\tMais informa\u00e7\u00f5es em http://focus.ti.com/docs/prod/folders/print/tps60130.html\nFigura 4.23 - Diagrama de Blocos do Charge Pump TPS60130 [TI]\nDiagrama 4.5 - Diagrama do carregador de baterias\n4.8.4.\tSupervisor\nComo j\u00e1 foi referido anteriormente pelo autor, o circuito de monitoriza\u00e7\u00e3o tem duas fontes de alimenta\u00e7\u00e3o poss\u00edveis, o painel solar e a bateria. Para o painel solar alimentar o circuito, a energia el\u00e9ctrica produzida, tem de ser superior ao m\u00ednimo necess\u00e1rio. Caso essa energia n\u00e3o seja suficiente, devido \u00e0 aus\u00eancia de sol, o supervisor vai comutar a sa\u00edda para a bateria, passando esta a ser fonte do circuito, e mantendo assim o circuito funcional.\nPara solucionar este problema, foi seleccionado um supervisor que tem o mesmo princ\u00edpio, comutar a sa\u00edda para a entrada da bateria, caso a entrada Vcc seja menor do que um limiar, dimensionado externamente. Assim, o supervisor adoptado foi o modelo ADM696 da Analog Devices. A entrada Vcc deste supervisor vai estar ligada \u00e0 sa\u00edda do regulador de tens\u00e3o de 5V (TL2575-05) e a entrada da bateria vai estar ligado \u00e0 sa\u00edda do charge pump (TPS64130). O esquema do circuito pode ser consultado no ANEXO E, juntamente com todos os c\u00e1lculos de dimensionamento do circuito. O diagrama do circuito de alimenta\u00e7\u00e3o incluindo o Supervisor, e o diagrama de blocos do Supervisor est\u00e3o representados nos diagramas seguintes.\nDiagrama 4.6 - Diagrama do supervisor ADM696\nBATTON\nFigura 4.24 - Diagrama de Blocos do ADM696 [Analog Devices]32\n4.9.\tLiga\u00e7\u00e3o Wireless\nA Liga\u00e7\u00e3o Wireless s\u00f3 \u00e9 necess\u00e1ria se o sistema de monitoriza\u00e7\u00e3o for instalado no mesmo local que o Aerogerador, ou ent\u00e3o, caso o PC Servidor onde estiver a ser executado o programa Eolitor Server, n\u00e3o estiver perto do controlador do Aerogerador. Isto devido \u00e0 necessidade de enviar os dados para o servidor.\nAs duas tecnologias que foram analisadas para a transmiss\u00e3o de dados foram a Bluetooth e a ZigBee.\n4.9.1.\tBluetooth\nBluetooth, ou IEEE 802.15.133, \u00e9 uma tecnologia para comunica\u00e7\u00e3o sem fios entre dispositivos, nomeadamente computadores, telem\u00f3veis, impressoras, auto-r\u00e1dios, c\u00e2maras digitais, entre outros. Baseia-se numa liga\u00e7\u00e3o de r\u00e1dio de curto alcance e baixo custo.\nA tecnologia Bluetooth depende da tecnologia de r\u00e1dio frequ\u00eancia e do protocolo de software que permita transmitir os dados entre dois dispositivos. Os dispositivos com este padr\u00e3o podem comunicar entre si, mas existem algumas limita\u00e7\u00f5es, tais como a quantidade de dados que ser\u00e3o enviados, o tipo de comunica\u00e7\u00e3o entre os dispositivos e as frequ\u00eancias de r\u00e1dio onde a comunica\u00e7\u00e3o ocorrer\u00e1.\nOs dispositivos com tecnologia Bluetooth operam em tr\u00eas bandas de r\u00e1dio conhecidas como ISM (Industrial, Scientifical and Medical) centrada em 2,45 GHz. Nos Estados Unidos, a faixa ISM varia de 2400 a 2483,5 MHz, e no Jap\u00e3o a faixa varia entre 2400 a 2500 MHz. Na maioria dos pa\u00edses da Europa, a mesma banda tamb\u00e9m est\u00e1 dispon\u00edvel.\nOs dispositivos equipados com Bluetooth est\u00e3o capacitados para comunicar uns com os outros quando est\u00e3o dentro do raio de alcance. Estes empregam um sistema de comunica\u00e7\u00e3o via r\u00e1dio, por isso para poderem comunicar \u00e9 necess\u00e1rio que a pot\u00eancia seja\n32\tMais informa\u00e7\u00f5es em http://www.analog.com/en/power-management/supervisors/ADM696/products/product.html\n33\tInforma\u00e7\u00e3o relativo ao Bluetooth em http://www.bluetooth.com/bluetooth/ e https://www.bluetooth.org/apps/content/\n\t\t\nUniversidade de Aveiro\t108\t\n\t\t\nClasse\tPot\u00eancia m\u00e1xima permitida (mW/dBm)\tAlcance\nClassel\t100 mW (20 dBm)\t~ 100 metros\nClasse2\t2.5 mW (4 dBm)\t~ 10 metros\nClasse3\t1 mW (0 dBm)\t~ 1 metros\nTabela 4.6 - Alcance e pot\u00eancia m\u00e1xima das diferentes Classes Bluetooth\n4.9.2.\tZigBee\nZigBee, ou IEEE 802.15.4, representa um tipo de tecnologia de redes sem fios ainda em aperfei\u00e7oamento, definida por um conjunto de empresas chamado ZigBee Alliance34, cujo objectivo \u00e9 realizar a interliga\u00e7\u00e3o de pequenas unidades de comunica\u00e7\u00f5es de dados em \u00e1reas muito limitadas recorrendo a sinais de r\u00e1dio frequ\u00eancia n\u00e3o licenciados. Estas liga\u00e7\u00f5es s\u00e3o equiparadas \u00e0s redes Wi-Fi e Bluetooth, mas diferenciam-se na medida em que necessitam de menos consumo, por um alcance reduzido (cerca de 10 metros, apesar de actualmente existirem m\u00f3dulos de comunica\u00e7\u00e3o com amplia\u00e7\u00e3o com alcance da ordem dos km) e, distinguem-se ainda, pelo facto da comunica\u00e7\u00e3o entre duas unidades poder ser repetida sucessivamente pelas unidades existentes. Esta faculdade constitui uma rede de comunica\u00e7\u00f5es, que admite diferentes topologias: estrela (star), malha (mesh) ou \u00e1rvore (cluster tree), permitindo o estabelecimento de redes de n\u00f3s \u201cad-hoc\u201d. Outra caracter\u00edstica relevante \u00e9 o facto de poder suportar at\u00e9 um m\u00e1ximo de 65535 dispositivos por cada ZigBee Coordinator, muito superior aos 8 do Bluetooth e 30 do Wi-Fi.\nCom estas caracter\u00edsticas o ZigBee tem uma vasta \u00e1rea de aplica\u00e7\u00e3o, desde o controlo industrial \u00e0 automa\u00e7\u00e3o de resid\u00eancias (dom\u00f3tica), e pode ser encontrado na faixa ISM que est\u00e3o isentas de licenciamento.\nGlobalmente, corresponde \u00e0 banda de 2.4GHz que permite obter taxas de transmiss\u00e3o de 250Kbps com 16 canais dispon\u00edveis. Existem ainda as bandas de 915MHz, institu\u00eddas nos Estados Unidos, que permitem uma taxa de transmiss\u00e3o de 40Kbps e 10 canais de comunica\u00e7\u00e3o e bandas de 868 MHz aqui na Comunidade Europeia, que possibilitam apenas 1 canal de comunica\u00e7\u00e3o com uma taxa de transmiss\u00e3o de 20Kbps.\nEm termos de modula\u00e7\u00e3o, utiliza-se O-QPSK (Offset Quadrature Phaseshift Keying) para a banda dos 2.4Ghz e BPSK (Binary Phase Shift Keying) para os 915 ou 868Mhz. Perante estas caracter\u00edsticas, esta tecnologia foi criada essencialmente como uma alternativa de comunica\u00e7\u00e3o a aplicar em redes que n\u00e3o necessitem de solu\u00e7\u00f5es muito complexas, diminuindo assim os custos da aplica\u00e7\u00e3o. Trata-se de uma tecnologia de relativa simplicidade e de baixo custo, utilizando um protocolo de pacotes de dados com caracter\u00edsticas espec\u00edficas, projectada para oferecer flexibilidade quanto aos tipos de dispositivos que pode controlar.\n34 Informa\u00e7\u00e3o relativa \u00e0 ZigBee Alliance em http://www.zigbee.org/en/index.asp\n\t\t\nUniversidade de Aveiro\t109\t\nAtendendo \u00e1 categoria da rede poder-se-\u00e3o instalar tr\u00eas tipos de dispositivos l\u00f3gicos: Coordinator, Router e Endpoint.\nNa topologia estrela cabe ao ZigBee Coordinator todo o controlo da rede assumindo uma comunica\u00e7\u00e3o directa com todos os dispositivos Endpoint - \u00e9 portanto o Coordinator que\ninicia e mant\u00e9m os dispositivos na rede. Toda a informa\u00e7\u00e3o em circula\u00e7\u00e3o na rede passa pelo\nn\u00f3 Coordinator.\nFigura 4.25 - Topologia em estrela (star)\nZigBee Coordinator\nZigBee Router\nZigBee Endpoint\nNa categoria de rede em malha os dispositivos Coordinator/Routers s\u00e3o livres de comunicar com outros dispositivos iguais, o que faz com que haja expans\u00e3o f\u00edsica da rede (maior alcance), sempre que se verifique conveniente. O Coordinator, quando relacionado com esta topologia, n\u00e3o demonstra tanto protagonismo registando apenas todas as entradas\ne sa\u00eddas de dispositivos.\nFigura 4.26 - Topologia malha (mesh)\nNo que diz respeito \u00e1 topologia \u00e1rvore, a distribui\u00e7\u00e3o de dados e mensagens de\ncontrolo \u00e9 feita numa estrutura hier\u00e1rquica. Desta forma, os Endpoint comunicam com os\nRouters mais pr\u00f3ximos e estes, por sua vez, com o Coordinator da rede.\nFigura 4.27 - Topologia \u00e1rvore (cluster tree)\nPelas caracter\u00edsticas apontadas anteriormente, podemos identificar que a utiliza\u00e7\u00e3o de Bluetooth \u00e9 mais vantajosa para aplica\u00e7\u00f5es como: a sincroniza\u00e7\u00e3o de PCs, telem\u00f3veis e PDAs; aplica\u00e7\u00f5es de \u00e1udio com microfone sem fio; e transfer\u00eancia de arquivos entre PDAs, PCs e Impressoras. Apresenta ainda outra grande vantagem pelo facto de ser uma tecnologia mais padronizada do que o ZigBee. J\u00e1 o ZigBee tem melhor performance em outro tipo de aplica\u00e7\u00f5es, tais como: redes de sensores e de controlo; redes com muitos dispositivos; com pequenos pacotes de dados; e onde consumo de bateria se verifique cr\u00edtico.\n\t\t\nUniversidade de Aveiro\t110\t\n\tZigBee\tBluetooth\nPadr\u00e3o (MAC + PHY)\tIEEE 802.15.4\tIEEE 802.15.1\nTaxa de Transfer\u00eancia\t250kbps\t750kbps\nCorrente Transmiss\u00e3o\t30mA\t40 mA\nCorrente Standby\t3uA\t200uA\nMem\u00f3ria\t>32Kb\t<100Kb\nTabela 4.7 - ZigBee vs Bluetooth\nOutra das diferen\u00e7as relevantes entre estes dois padr\u00f5es \u00e9 o tipo de alimenta\u00e7\u00e3o dos dispositivos: em aplica\u00e7\u00f5es Bluetooth, geralmente, os dispositivos s\u00e3o recarregados periodicamente, como \u00e9 o caso dos Telem\u00f3veis e PDAs, enquanto que o padr\u00e3o Zigbee permite dura\u00e7\u00e3o superior a 2 anos, apenas alimentados com pilhas alcalinas.\n\tZigBee\tBluetooth\nTempo de acesso a rede\t30ms\t3s\nTempo de transi\u00e7\u00e3o do estado Standby para Transmiss\u00e3o\t15ms\t3s\nTempo de acesso ao canal\t15ms\t2ms\nTabela 4.8 - ZigBee vs Bluetooth\nCom a an\u00e1lise destas diferen\u00e7as, pode-se concluir que ZigBee e Bluetooth s\u00e3o duas tecnologias diferentes com distintas aplica\u00e7\u00f5es. Mesmo que seja poss\u00edvel a altera\u00e7\u00e3o destas caracter\u00edsticas por software, as caracter\u00edsticas principais n\u00e3o s\u00e3o alteradas, pois dizem respeito \u00e0 arquitectura em que estes padr\u00f5es foram desenvolvidos, para darem resposta a diferentes aplica\u00e7\u00f5es e pr\u00e9-requisitos.\nActualmente \u00e9 utilizada a tecnologia bluetooth para a liga\u00e7\u00e3o entre a placa de circuitos impressos e o programa que est\u00e1 a ser executado no PC.\nFigura 4.28 - Posi\u00e7\u00e3o das v\u00e1rias tecnologias wireless35\n35 Imagem retirada de http://www.zigbee.org/imwp/idms/popups/pop download.asp?ContentID=12394\n4.10.\tEolitor Server\nComo j\u00e1 foi referido anteriormente, o sistema de monitoriza\u00e7\u00e3o n\u00e3o \u00e9 apenas constitu\u00eddo pela placa de circuito integrado, mas tamb\u00e9m por um programa Eolitor Server e por uma liga\u00e7\u00e3o entre estes, com fios (USB) ou sem fios (Bluetooth). Contudo, a execu\u00e7\u00e3o do servidor Eolitor Server deve ser independente da liga\u00e7\u00e3o.\nEste programa \u00e9 respons\u00e1vel, atrav\u00e9s da abertura de uma porta de comunica\u00e7\u00e3o, que pode ser configurada (ver Figura 3.2 - Eolitor Server), para recep\u00e7\u00e3o dos dados contidos nas tramas enviadas pela placa, e o armazenamento dos mesmos na base de dados, ficando assim completo todo o sistema de monitoriza\u00e7\u00e3o. Os dados que foram inseridos nas tramas pela placa do sistema de monitoriza\u00e7\u00e3o, t\u00eam o formato que j\u00e1 foi referido anteriormente (ver 4.6 -Processamento de Tramas - Envio). Assim \u00e9 necess\u00e1rio programar o processador de dados do servidor em conformidade com o formato da trama. Este \u00e9 explicado em seguida.\nParalelamente ao armazenamento dos dados na base de dados, o programa Eolitor Server permite tamb\u00e9m o envio dos mesmos dados, atrav\u00e9s do servidor TCP desenvolvido para aceitar liga\u00e7\u00f5es TCP/IP, de v\u00e1rios clientes.\n4.10.1.\tServidor TCP\nCom o objectivo de dar resposta \u00e0 necessidade de visualizar a monitoriza\u00e7\u00e3o do aerogerador, independentemente do local, foi desenvolvido um servidor TCP para permitir liga\u00e7\u00f5es remotas atrav\u00e9s do protocolo TCP/IP, com base na abertura de Sockets (System.NetSockets).\nAp\u00f3s o in\u00edcio do programa, \u00e9 criado um Socket (Begin) e o programa fica \u00e0 escuta at\u00e9 ter pedidos de liga\u00e7\u00e3o no porto configurado. Depois de existir um pedido, o programa vai para o estado de aceita\u00e7\u00e3o da liga\u00e7\u00e3o (Accept). Caso o pedido de liga\u00e7\u00e3o seja aceite, a liga\u00e7\u00e3o est\u00e1 criada e o servidor fica \u00e0 espera de receber dados (Receive). No entanto, \u00e9 criado um novo Theard (fio de processamento) que mant\u00e9m o servidor TCP \u00e0 escuta de novos pedidos de liga\u00e7\u00e3o. No caso de o cliente enviar dados para o servidor, esses s\u00e3o replicados para todos os clientes ligados ao servidor (send). Neste caso, tamb\u00e9m \u00e9 criado um novo Theard que fica \u00e0 espera da exist\u00eancia de dados vindos dos clientes j\u00e1 aceites. O servidor pode ent\u00e3o ser representado pelos seguintes estados.\n_________/\t\\\tBeginReceive\nReceive\nBeginSend\nDiagrama 4.7 - Diagrama de Estados do Servidor TCP\nLogin\t\u2022\tNovo cliente estabelece liga\u00e7\u00e3o com o Servidor \u2022\tServidor aceita liga\u00e7\u00e3o e adiciona novo cliente \u00e0 lista de clientes\nLogout\t\u2022\tUm cliente terminou a sua liga\u00e7\u00e3o com o Servidor \u2022\tServidor apaga cliente da lista de clientes \u2022\tEnvia para todos os clientes o nome do cliente que terminou liga\u00e7\u00e3o\nMessage\t\u2022 Mensagem que o cliente envia para o servidor e o servidor replica para os restantes clientes\nList\t\u2022\tLista com todos os clientes que est\u00e3o actualmente ligados ao servidor \u2022\tServidor envia a lista quando um novo cliente estabelece liga\u00e7\u00e3o\nNull\t\u2022 Sem Comando\nFigura 4.29 - Lista de mensagens que s\u00e3o trocadas entre Servidor/Cliente\nCom base no diagrama de estados e na lista de mensagens, foi desenvolvido um cliente TCP, com objectivo de ser o servidor de dados da monitoriza\u00e7\u00e3o. A jun\u00e7\u00e3o destes dois programas constitui o servidor do projecto, denominado Eolitor Server.\nEste programa permite configurar a porta de comunica\u00e7\u00e3o (System.IO.PortSerialPort) que foi aberta devido \u00e0 liga\u00e7\u00e3o f\u00edsica entre a placa do sistema de monitoriza\u00e7\u00e3o e o computador, de forma a poder receber as tramas. Em seguida o programa processa essas mesmas tramas, obtendo os valores da monitoriza\u00e7\u00e3o, para posterior armazenamento na base de dados atrav\u00e9s da execu\u00e7\u00e3o de store procedures, que foram mapeadas pela classe DataContext criada a partir do recurso LINQ to SQL. Ao mesmo tempo os dados s\u00e3o enviados para o servidor TCP, que por sua vez, envia para os clientes que estiverem ligados. Deste modo, todos os clientes que se ligarem ao Eolitor Server come\u00e7am a receber de imediato dados, podendo visualizar o estado da monitoriza\u00e7\u00e3o, em tempo real.\nExiste um caso particular para as liga\u00e7\u00f5es que s\u00e3o estabelecidas a partir do interface da Figura 3.6 - Eolitor System - p.SD Terminal. Para estes clientes, a comunica\u00e7\u00e3o \u00e9 feita ponto a ponto, isto \u00e9, cada cliente envia mensagens para o servidor, e este envia as mensagens de volta apenas para esse cliente, ap\u00f3s contactar o microcontrolador e o cart\u00e3o p.SD que est\u00e3o inseridos na placa do sistema de monitoriza\u00e7\u00e3o. Para os clientes que estabelecerem liga\u00e7\u00f5es a partir do interface da Figura 3.4 - Eolitor System - Monitor, as mensagens s\u00e3o envidas ponto multiponto, isto \u00e9, o servidor \u00e9 a fonte das mensagens enviando a mesma mensagem para todos os clientes.\nA implementa\u00e7\u00e3o desta arquitectura cliente - servidor no projecto, tem como grandes vantagens:\n-Possibilidade de liga\u00e7\u00e3o com o servidor em qualquer lugar, bastando para isso um acesso \u00e0 internet, assumindo que o PC servidor ou o router de interliga\u00e7\u00e3o entre a internet e a intranet, n\u00e3o tenha o acesso ao MS SQL Server e ao porto TCP do programa Eolitor TCP Server bloqueados;\n-Distribui\u00e7\u00e3o do processamento, ficando o programa de servidor menos exigente.\nEolitor Server\nMonitor\npSD Terminal\nX\u2014K\nFigura 4.30 - Rede Servidor/Cliente do projecto Eolitor\n4.10.2.\tProcessamento de Tramas - Recep\u00e7\u00e3o\nOs dados, em forma de tramas, que chegam ao PC Servidor, t\u00eam de ser processados de forma a obter, correctamente, a informa\u00e7\u00e3o contida. Assim, a programa\u00e7\u00e3o do processador de tramas tem de ser feita em conformidade com a programa\u00e7\u00e3o do microcontrolador que edita e envias as tramas, i.e., o programa tem de ser programado para receber tramas com o formato descrito na Tabela 4.2 - Estrutura da Trama e os dados t\u00eam de ser correctamente etiquetados com os identificadores descritos na Tabela 4.3 - Identificadores dos dados. O diagrama de estados para processar os dados tem de ser igual ao Diagrama 4.8. Sempre que existem dados no buffer da porta de comunica\u00e7\u00e3o para serem processados, o processador de tramas vai sincronizar (syncro) com o inicio de uma trama, procurando um Byte igual a 0. Se encontrar esse Byte, esse pode ser o inicio de uma nova trama se o Byte seguinte for igual a 1NNNNNNN (length), em que o valor do NNNNNNN \u00e9 igual ao tamanho da trama. Caso contr\u00e1rio, o processador de tramas vai para o estado de sincroniza\u00e7\u00e3o. Este \u00e9 o primeiro mecanismo de detec\u00e7\u00e3o de erros que existe. Se o tamanho da trama for v\u00e1lido, o processador vai para o estado de dados (Data) e depois para o estado do c\u00f3digo de erros (CRC). Este c\u00f3digo CRC \u00e9 o segundo mecanismo de detec\u00e7\u00e3o de erros na trama e \u00e9 gerado e introduzido na final da trama. O PC est\u00e1 tamb\u00e9m programado para gerar o mesmo c\u00f3digo CRC de modo a poder verificar a exist\u00eancia de erros no envio da trama. Caso o c\u00f3digo gerado pelo PC seja igual ao c\u00f3digo da trama ent\u00e3o a trama n\u00e3o contem erros e consequentemente os dados\nSe todo o mecanismo anterior n\u00e3o tiver erros, o processador de dados vai continuar, importando agora ler o identificador dos dados de forma a saber interpretar o seu valor. Consoante o identificador os dados v\u00e3o ser convertidos de modo a informa\u00e7\u00e3o fazer sentido para o sistema. Se o tamanho de dados processados ainda n\u00e3o \u00e9 igual ao tamanho da trama inicial ent\u00e3o significa que ainda existem dados para ser processados e o processo de identifica\u00e7\u00e3o dos dados vota a ser repetido.\nSempre que existirem tramas para serem processadas, o ciclo de processamento \u00e9 sempre repetido com o aspecto do diagrama seguinte. Caso exista a necessidade de introduzir informa\u00e7\u00e3o na trama proveniente do sistema de monitoriza\u00e7\u00e3o, que leve \u00e0 altera\u00e7\u00e3o do formato da trama, essas altera\u00e7\u00f5es tem de ser repercutidas no processador de dados de modo\nDiagrama 4.8 - Diagrama de processamento de tramas - Recep\u00e7\u00e3o\nComo foi mencionado no diagrama anterior, o processador de tramas tem 4 estados, Syncro, Length, Data e CRC\nAo fim de os dados contidos na trama serem processados e validados, estes v\u00e3o ser invocados numa fun\u00e7\u00e3o que converte o seu valor mediante o valor do identificador. Os dados que v\u00eam na trama, s\u00e3o o resultado directo da leitura de ADC, logo o seu valor pode variar de 0 a 1023, e do n\u00famero de interrup\u00e7\u00f5es verificadas durante 1 segundo (valor m\u00e1ximo com 2 bytes, igual a 65535). Assim, \u00e9 a fun\u00e7\u00e3o de convers\u00e3o que vai transformar este valor na unidade do Sistema Internacional SI, consoante o identificador.\nAp\u00f3s o processo de convers\u00e3o, os dados nas respectivas unidades SI (exemplo, velocidade em m/seg, tens\u00e3o em Volt, corrente em A), existe um buffer com uma determinada dimens\u00e3o, onde s\u00e3o guardados os dados convertidos, e quando \u00e9 completamente escrito \u00e9 invocada automaticamente a fun\u00e7\u00e3o que permite guardar estes dados na base de dados nas respectivas colunas. A forma como \u00e9 escrita a informa\u00e7\u00e3o na base de dados \u00e9 atrav\u00e9s da classe\n\t\t\nUniversidade de Aveiro\t116\t\n5.1.\tIntrodu\u00e7\u00e3o\nProjectado o sistema de monitoriza\u00e7\u00e3o que recolhe os dados do estado do vento e do comportamento causado no aerogerador, juntamente com o programa Eolitor Server que os recolhe, processa e armazena, surge a necessidade de desenvolver interfaces que possibilitem a consulta dos dados. Assim foi desenvolvido um sistema de informa\u00e7\u00e3o, que consiste num programa (software) destinado a ser executado num computador, para ir ao encontro destes pr\u00e9-requisitos. Este computador poder ser o mesmo onde est\u00e1 a ser executado o programa de servidor Eolitor Server, ou qualquer um desde que esteja ligado a este atrav\u00e9s de uma liga\u00e7\u00e3o de internet. Deste modo todo o Sistema Eolitor foi projectado com base na arquitectura de Servidor/Cliente.\nFoi realizado um levantamento das tecnologias mais apropriadas \u00e0 realiza\u00e7\u00e3o deste sistema que ir\u00e1 ser explicado mais detalhadamente durante este cap\u00edtulo, desde as tecnologias utilizadas para desenvolver o programa de interface do sistema, e processamento de dados, at\u00e9 \u00e0 liga\u00e7\u00e3o com a Base de Dados de suporte do sistema.\n\t\t\nUniversidade de Aveiro\t117\t\n5.2.\tArquitectura do Sistema\nO sistema de informa\u00e7\u00e3o est\u00e1 ligado ao servidor Eolitor Server atrav\u00e9s de uma liga\u00e7\u00e3o TCP/IP. A execu\u00e7\u00e3o do sistema de informa\u00e7\u00e3o deve ser independente do local da liga\u00e7\u00e3o. O sistema de informa\u00e7\u00e3o \u00e9 respons\u00e1vel por receber os dados provenientes do sistema do servidor, process\u00e1-los permitindo aos utilizadores (clientes do sistema) a visualiza\u00e7\u00e3o do comportamento instant\u00e2neo do Aerogerador. Este tem de permitir tamb\u00e9m a interliga\u00e7\u00e3o com uma base de dados de modo a poder guardar n\u00e3o s\u00f3 o estado do Aerogerador, mas toda a informa\u00e7\u00e3o associada ao sistema E\u00f3lico desde os v\u00e1rios modelos de aerogeradores instalados e fabricantes, at\u00e9 a dura\u00e7\u00e3o das pe\u00e7as e repara\u00e7\u00f5es existentes ou ainda informa\u00e7\u00e3o da quantidade de energia produzida e entregue \u00e0 rede. O tipo de informa\u00e7\u00e3o que pode ser armazenada na Base de Dados pode ser consultada no Modelo de Dados Persistente (ver ponto 3.7) onde est\u00e3o descritas todas as tabelas que comp\u00f5em a Base de Dados. A liga\u00e7\u00e3o entre o programa do sistema de informa\u00e7\u00e3o e a base de dados tamb\u00e9m \u00e9 suportada numa liga\u00e7\u00e3o TCP/IP.\nEste sistema \u00e9 composto por um PC onde est\u00e1 a ser executado o programa facultando: -recep\u00e7\u00e3o dos dados, atrav\u00e9s de uma liga\u00e7\u00e3o TCP/IP local ou remota;\n-tratamento dos dados e de todas as informa\u00e7\u00f5es relevantes do sistema;\n-armazenamento de todos os dados e informa\u00e7\u00f5es, atrav\u00e9s de uma liga\u00e7\u00e3o \u00e0 Base de Dados;\n-consulta, atrav\u00e9s do interface gr\u00e1fico, de todas as informa\u00e7\u00f5es relevantes do sistema;\n-consulta, atrav\u00e9s da gera\u00e7\u00e3o de gr\u00e1ficos e relat\u00f3rios.\nDiagrama 5.1 - Diagrama da arquitectura do Sistema de Informa\u00e7\u00e3o\n\t\t\nUniversidade de Aveiro\t118\t\n5.3.\tTecnologias Implementadas\nCom base na informa\u00e7\u00e3o dos pr\u00e9-requisitos do sistema de informa\u00e7\u00e3o foi feita uma pesquisa de quais as tecnologias ao n\u00edvel do software que mais se adaptavam \u00e0 realiza\u00e7\u00e3o deste sistema. A primeira pesquisa incidiu em programas de desenvolvimento de software destinados ao sistema operativo Linux, uma vez que a disponibilidade de aplica\u00e7\u00f5es existentes para Linux \u00e9 grande e sem necessidade de licen\u00e7as. A contrapor com esta op\u00e7\u00e3o estavam as ferramentas da Microsoft para desenvolvimento de aplica\u00e7\u00f5es de software suportadas pelos v\u00e1rios SDK disponibilizados e pelo programa de desenvolvimento Microsoft Visual Studio.\n5.3.1.\tMicrosoft Visual Studio\nO Visual Studio \u00e9 um conjunto de ferramentas integradas para o desenvolvimento de software, desde aplica\u00e7\u00f5es b\u00e1sicas, at\u00e9 aplica\u00e7\u00f5es profissionais. A vers\u00e3o mais recente \u00e9 a 2008 e d\u00e1 suporte a projectos de desenvolvimento destinados \u00e0 Web (incluindo o AJAX e ASP.NET), ao Windows Vista, ao Windows Server 2008, ao Microsoft Office 2007, ao SQL Server 2008 e a dispositivos Windows Mobile. Este permite criar aplica\u00e7\u00f5es destinadas \u00e0s varias vers\u00f5es do .NET Framework (2.0, 3.0 e 3.5). Do ponto de vista dos programadores, o \".NET Framework\" \u00e9 o sistema operacional. \u00c9 atrav\u00e9s dele que s\u00e3o invocadas todas as fun\u00e7\u00f5es necess\u00e1rias ao funcionamento dos programas, sob os sistemas de opera\u00e7\u00e3o Windows.\nFigura 5.1 - Microsoft Visual Studio 2008\nA escolha recaiu pelas tecnologias da Microsoft pela facilidade e disponibilidade, maturidade das tecnologias, documenta\u00e7\u00e3o e programas de exemplos associados. A escolha da Framework 3.5 deveu-se pelo aparecimento de um conjunto de recursos, denominado Language integrated Query (LINQ) que permitem realizar consultas directas em v\u00e1rias estruturas de dados, documentos XML, base de dados, colec\u00e7\u00e3o de objectos, usando sintaxe id\u00eantica \u00e0 SQL. Em particular, o LINQ to SQL foi utilizado para converter consultas (escritas em VB.NET) em SQL din\u00e2mico, permitindo mapear os objectos da base de dados gerando as classes para realizar as opera\u00e7\u00f5es usando a sintaxe LINQ. \u00c9 tamb\u00e9m muito \u00fatil para realizar altera\u00e7\u00f5es e actualiza\u00e7\u00f5es nos objectos e na base de dados. Este veio inovar e facilitar as liga\u00e7\u00f5es \u00e0 Base de dados permitindo diminuir o c\u00f3digo necess\u00e1rio, devido ao mapeamento dos objectos da base de dados, e com isso as liga\u00e7\u00f5es \u00e0 Base de dados e os respectivos erros.\n\t\t\nUniversidade de Aveiro\t119\t\nArquitetura do LINQ\nc#\tVisual Basic\ti\tOutras inguagem\nNET LINQ (language Integrated Query)\t\t\nFontes de dados habilitadas para LINQ\t\t\n\tADO.NET habilitado para LINQ\t\nLINQ para objetos\tUNQ para\tUNQ para\tUNO conjuntos\tco,\tpara de dados\tentidades\tLINQ para XML\n\t\t\nA\tB\t\t\nObjetos\tRelational\txml\nFigura 5.2 - Arquitectura do LINQ36\nEscolhido a plataforma de desenvolvimento (Microsoft Visual Studio), as ferramentas (.NET Framework SDK) falta escolher a linguagem de programa\u00e7\u00e3o do sistema. As duas linguagens mais administradas para o desenvolvimento desta aplica\u00e7\u00e3o, disponibilizadas pela plataforma de desenvolvimento, s\u00e3o o VB.NET (Visual Basic.NET) e C# (C Sharp). Ambas s\u00e3o linguagens orientadas a objectos, e com suporte a UML, criadas pela Microsoft e distribu\u00eddas com o Visual Studio.Net que poderiam ser utilizadas, uma vez que t\u00eam as ferramentas necess\u00e1rias para o desenvolvimento.\n5.3.2.\tVisual Basic.Net\nO Visual Basic.Net \u00e9 uma das linguagens do Microsoft .Net Framework que possui muitos recursos, inclusive para trabalhar com XML36 37. O Visual Basic.NET \u00e9 a ultima vers\u00e3o, extremamente diferente do antigo Visual Basic 6.0. N\u00e3o s\u00f3 a maneira de programar foi alterada, mas com a introdu\u00e7\u00e3o de todo o conceito de programa\u00e7\u00e3o orientada a objectos, transformaram a linguagem permitindo muitos mais recursos. A Microsoft descontinuou o Visual Basic 6.0, tornando a linguagem mais pr\u00f3xima das linguagens do Visual Studio, embora ainda seja diferente de outras como o Visual C++, C#, etc. Contudo, o Visual Basic.Net ainda continua a ser preterido relativamente ao C#, preferido por programadores de Java.\nNas primeiras vers\u00f5es do Visual Basic, n\u00e3o era permitido acesso a Base de dados, sendo destinado a iniciantes, mas devido ao sucesso entre as empresas (partilha de componentes), o Visual Basic passou a incorporar as tecnologias de liga\u00e7\u00e3o a Base de dados DAO, RDO e ADO, tamb\u00e9m da Microsoft, permitindo o acesso f\u00e1cil a Base de dados. ADO.NET consiste num conjunto de classes, definidas pelo .NET framework, que pode ser utilizado para receber os dados armazenados numa base de dados remota.\n36\tImagem retirada de http://www.macoratti.net/07/12/net linq.htm\n37\tO XML \u00e9 a abrevia\u00e7\u00e3o de Extensible Markup Language que foi desenvolvida em 1996 pelo XML Working Group do World Wide Web Consortium (W3C)\n5.3.3.\tC#\nComo j\u00e1 foi referido existem v\u00e1rias linguagens distribu\u00eddas com a plataforma .NET da Microsoft (VB.NET, C++, J#), contudo a considerada da .NET, \u00e9 a C#, porque foi criada totalmente para funcionar nesta plataforma, e o seu compilador foi o primeiro a ser constru\u00eddos, e a maior parte das classes do .NET Framework foram desenvolvidas em C#.\nA op\u00e7\u00e3o recaiu por VB.NET, pela falta de experi\u00eancia do autor na programa\u00e7\u00e3o de ambas as linguagens e por, mediante a consulta de pequenos programas, analisar que a linguagem VB.NET \u00e9 mais intuitiva do que C#. Isto, porque ambas poderiam ser utilizadas para nesta aplica\u00e7\u00e3o.\n5.3.4.\tMS SQL Server 2005\nOutra das escolhas a fazer no \u00e2mbito deste projecto, tem a ver com a base de dados a utilizar para armazenar todas as informa\u00e7\u00f5es do sistema. A lista de base de dados existentes que podem ser utilizadas neste sistema \u00e9 extensa, das quais se destacam: MySQL, Microsoft Access, Firebird, Microsoft SQL Server e Oracle. Destas a base de dados MySQL por ser \u201copen source\u201d e por existirem programas para cria\u00e7\u00e3o e desenvolvimento da mesma tamb\u00e9m \u201copen source\u201d, pode ser considerada uma escolha vi\u00e1vel. Contudo, e devido \u00e0 maior disponibilidade de ferramentas de liga\u00e7\u00e3o com o programa do Visual Studio, ao n\u00famero de demonstra\u00e7\u00f5es e \u00e0 documenta\u00e7\u00e3o disponibilizada na internet e na MSDN38 (Microsoft Developer Network), a base de dados escolhida foi a MS SQL Server Express.\nO MS SQL Server \u00e9 um software que permite gerir Base de Dados relacionais pessoais e amadoras, at\u00e9 \u00e0s mais robustas e profissionais, com a integra\u00e7\u00e3o da ferramenta Business Intelligence (BI). Do suporte ao Microsoft .NET Framework, \u00e0 estreita integra\u00e7\u00e3o com o Microsoft Visual Studio, os novos recursos do MS SQL Server facultam a mais f\u00e1cil e mais r\u00e1pida cria\u00e7\u00e3o de aplica\u00e7\u00f5es seguras e s\u00f3lidas de base de dados. Actualmente encontra-se na vers\u00e3o 2008, contudo a vers\u00e3o escolhida foi a MS SQL Server Express 2005 que pode ser adquirida no site da Microsoft.\nO motor de base de dados SQL Server 2005 garante um armazenamento mais seguro e fi\u00e1vel, tanto para dados relacionais como estruturados, permitindo criar e gerir aplica\u00e7\u00f5es de dados de elevada disponibilidade e desempenho. Esta vers\u00e3o de SQL Server disponibiliza tamb\u00e9m as mais avan\u00e7adas ferramentas de an\u00e1lise, reporting, integra\u00e7\u00e3o e notifica\u00e7\u00e3o, que permite criar e implementar solu\u00e7\u00f5es de BI eficientes em termos de custos que ajudam a transportar dados para qualquer parte atrav\u00e9s de scorecards, dashboards, Web services e dispositivos m\u00f3veis.\n38 Documenta\u00e7\u00e3o dispon\u00edvel na internet na pagina http://msdn.microsoft.com/pt-pt/default(en-us).aspx\n\t\t\nUniversidade de Aveiro\t121\t\nCD\n\u00a1motramaaangEa\naanimiraeiiEHa\nFigura 5.3 - Principais componentes do SQL Server 200539\nA plataforma de dados MS SQL Server inclui as seguintes ferramentas:\nBase de Dados Relacional. Um motor de base de dados relacional mais seguro, fi\u00e1vel, escal\u00e1vel e de elevada disponibilidade, com uma melhor performance e suporte para dados estruturados e n\u00e3o estruturados (XML).\nServi\u00e7os de Replica\u00e7\u00e3o. Replica\u00e7\u00e3o de dados para aplica\u00e7\u00f5es m\u00f3veis de processamento de dados distribu\u00eddas, elevada disponibilidade de sistemas, concorr\u00eancia escal\u00e1vel com reposit\u00f3rios de dados secund\u00e1rios para solu\u00e7\u00f5es empresariais de reporting e integra\u00e7\u00e3o com sistemas heterog\u00e9neos, incluindo bases de dados Oracle existentes.\nNotification Services. Capacidades de notifica\u00e7\u00e3o acrescidas para o desenvolvimento e implementa\u00e7\u00e3o de aplica\u00e7\u00f5es escal\u00e1veis suscept\u00edveis de oferecer actualiza\u00e7\u00f5es de informa\u00e7\u00e3o personalizadas e atempadas a uma diversidade de dispositivos fixos e m\u00f3veis.\nIntegration Services. Capacidades de extrac\u00e7\u00e3o, transforma\u00e7\u00e3o e carregamento (ETL) de dados para o seu armazenamento e integra\u00e7\u00e3o ao n\u00edvel de toda a empresa.\nAnalysis Services. Capacidades de processamento de opera\u00e7\u00f5es de an\u00e1lise online (OLAP) para uma an\u00e1lise r\u00e1pida e sofisticada de conjuntos de dados complexos e de grande dimens\u00e3o, atrav\u00e9s do recurso a armazenamento multidimensional.\nReporting Services. Uma solu\u00e7\u00e3o abrangente para a cria\u00e7\u00e3o, gest\u00e3o e entrega de relat\u00f3rios, tanto tradicionais, em papel, como interactivos, baseados na Web.\nFerramentas de Gest\u00e3o. O SQL Server inclui ferramentas de gest\u00e3o integradas para uma melhor gest\u00e3o da base de dados, bem como uma estreita integra\u00e7\u00e3o com ferramentas como o Microsoft Operations Manager (MOM) e o Microsoft Systems Management Server (SMS). Protocolos padr\u00e3o de acesso a dados reduzem drasticamente o tempo de integrar dados com sistemas existentes no SQL Server. Por outro lado, o suporte nativo para Web services integrado no SQL Server assegura a interoperabilidade com outras aplica\u00e7\u00f5es e plataformas.\nFerramentas de Implementa\u00e7\u00e3o. O SQL Server oferece ferramentas de desenvolvimento integradas para o motor da base de dados, extrac\u00e7\u00e3o, transforma\u00e7\u00e3o e carregamento de dados, data mining, OLAP e reporting estreitamente integradas com o Microsoft Visual Studio, propiciando assim capacidades de desenvolvimento da aplica\u00e7\u00e3o\n39 Informa\u00e7\u00e3o retirada do sitio da Microsoft Portugal em http://www.microsoft.com/portugal/sal/default.mspx\nEstas funcionalidades ajudar\u00e3o as empresas a progredir em tr\u00eas grandes \u00e1reas:\nGest\u00e3o de Dados Empresariais. O SQL Server 2005 proporciona uma plataforma de dados mais fi\u00e1vel, segura e produtiva para aplica\u00e7\u00f5es da linha de neg\u00f3cio e de an\u00e1lise.\nProdutividade do Programador. O SQL Server 2005 proporciona um ambiente de desenvolvimento end-to-end rico numa s\u00e9rie de novas tecnologias que refor\u00e7am o poder dos programadores e aumentam significativamente a sua produtividade.\nBusiness Intelligence. As funcionalidades abrangentes de an\u00e1lise, integra\u00e7\u00e3o e migra\u00e7\u00e3o de dados do SQL Server 2005 permitem \u00e0s empresas ampliar o valor das suas aplica\u00e7\u00f5es existentes, independentemente da plataforma subjacente. Solu\u00e7\u00f5es de BI constru\u00eddas no SQL Server 2005 colocam informa\u00e7\u00e3o cr\u00edtica e atempada nas m\u00e3os de todos os colaboradores, permitindo-lhes tomarem melhores decis\u00f5es em menos tempo.\n\t\t\nUniversidade de Aveiro\t123\t\n5.4.\tProcessamento de Dados\nOs dados que s\u00e3o recebidos pelo programa cliente, Eolitor System, do sistema de informa\u00e7\u00e3o, s\u00e3o os dados enviados pelo servidor Eolitor Server. Estes dados que o servidor envia para todos os programas clientes, derivam da replica\u00e7\u00e3o dos mesmos dados, que recebe no buffer da porta de comunica\u00e7\u00e3o, provenientes da placa do sistema de monitoriza\u00e7\u00e3o, sem introduzir nenhuma altera\u00e7\u00e3o. Deste modo, as tramas que o programa do sistema de informa\u00e7\u00e3o recebe, s\u00e3o iguais \u00e0s tramas que o servidor recebe provenientes da placa do sistema de monitoriza\u00e7\u00e3o. Assim, o processador de dados do sistema de informa\u00e7\u00e3o (programa cliente) \u00e9 exactamente o mesmo que o processador de tramas do sistema de monitoriza\u00e7\u00e3o (programa servidor). A \u00fanica diferen\u00e7a entre os dois, \u00e9 que no caso do programa de servidor, ao fim de este processar os dados, s\u00e3o armazenados na base de dados, enquanto no caso do programa do sistema de informa\u00e7\u00e3o, s\u00e3o utilizados para actualizar os gr\u00e1ficos e indicadores da interface de monitoriza\u00e7\u00e3o (ver Figura 3.4 - Eolitor System -Monitor). Deste modo, os detalhes do processador de dados s\u00e3o os mesmos do processador do sistema de informa\u00e7\u00e3o, e podem ser consultados em 4.10.2 - Processamento de Tramas -Recep\u00e7\u00e3o.\n\t\t\nUniversidade de Aveiro\t124\t\n5.5.\tInterface Visual\nO interface gr\u00e1fico visual \u00e9 uma das necessidades b\u00e1sicas dos sistemas de informa\u00e7\u00e3o que permite aos utilizadores interagirem com o sistema, admitindo uma diferente perspectiva. Este ambiente gr\u00e1fico foi feito para facilitar, e permitir, uma utiliza\u00e7\u00e3o pr\u00e1tica do sistema pelo utilizador, e tem de ser desenvolvido sempre com estas caracter\u00edsticas\npresentes.\nPara este sistema de informa\u00e7\u00e3o j\u00e1 foram referidas as necessidades, e quais os dados que s\u00e3o fundamentais disponibilizar na interface visual. Foram tamb\u00e9m mostrados algumas figuras das v\u00e1rias interfaces dos programas desenvolvidos no subcap\u00edtulo Prot\u00f3tipo Explorat\u00f3rio do cap\u00edtulo de Modela\u00e7\u00e3o (ver 3.5 Prot\u00f3tipo Explorat\u00f3rio). Os percursos, das op\u00e7\u00f5es mais importantes, que podemos fazer pelas interfaces est\u00e3o de forma resumida no\ndiagrama seguinte.\nE\u00f3litor System\nMonitor\nDB Connection\nSD Terminal\n^Fechar Programa^\nEscolher\nAerogerador\nEscolher Tabela\nEscolher Aerogerador\nPorta de Comunica\u00e7\u00e3o\nEscolher Tipo de Gr\u00e1fico\nTipo\nUtiliza\u00e7\u00e3o\u2019\nTempo Real\nEscrever utilizador e password\nEscolher Instante de tempo\nData de Inldo Simula\u00e7\u00e3o\nEscolher Porta de Comunica\u00e7\u00e3o\nIntroduzir Dados\nEscolher Dados\nEscolher Vari\u00e1veis\nIniciar Simula\u00e7\u00e3o\nIniciar\nMonitonza\u00e7\u00e2o\nLiga\u00e7\u00e3o?\nGuardar Dados\nExistem Dados?\n\nVer dados no interface\nEscolher\t\tEscolher\nInpressora\t\tNome\nEscolher Formato e Direct\u00f3rio\nDiagrama 5.2 - Estrutura do Programa\nDo diagrama anterior podemos perceber que todo o programa tem, basicamente, seis interfaces diferentes; o interface inicial, o interface principal de monitoriza\u00e7\u00e3o, o interface de configura\u00e7\u00e3o da liga\u00e7\u00e3o \u00e0 Base de Dados, o interface da base de dados, o interface de comunica\u00e7\u00e3o com o SD e o interface de gr\u00e1ficos e hist\u00f3rico. Para al\u00e9m destes existem tamb\u00e9m\n\t\t\nUniversidade de Aveiro\t125\t\nNo interface inicial (ver Figura 3.3 - Eolitor System - Home) \u00e9 poss\u00edvel escolher a abrir todos os restantes interfaces do programa. No de monitoriza\u00e7\u00e3o (ver Figura 3.4 - Eolitor System - Monitor) \u00e9 poss\u00edvel observar os dados da monitoriza\u00e7\u00e3o em tempo real. Para tal, basta apenas escolher qual o Aerogerador que pretendemos monitorizar, escolher o endere\u00e7o de IP do servidor e estabelecer a comunica\u00e7\u00e3o. Neste mesmo interface \u00e9 poss\u00edvel escolher, em vez de visualizar a monitoriza\u00e7\u00e3o em tempo real, uma simula\u00e7\u00e3o de monitoriza\u00e7\u00f5es anteriores, cujo conte\u00fado est\u00e1 armazenado na base de dados, escolhendo apenas o aerogerador e o instante inicial de simula\u00e7\u00e3o. No interface da Base de dados (ver Figura 3.5 -Eolitor System - SQL Database) podem ser adicionados, alterados ou apagados dados referentes do sistema. O tipo de dados que podem ser adicionados pode ser consultado em Modelo de Dados Persistente.J\u00e1 no interface do pSD (ver Figura 3.6 - Eolitor System - pSD Terminal) \u00e9 poss\u00edvel comunicar com o cart\u00e3o SD utilizando os comandos que est\u00e3o demonstrados no mesmo interface e atrav\u00e9s das fun\u00e7\u00f5es do sistema de ficheiros FatFS efectuar as altera\u00e7\u00f5es respectivas no cart\u00e3o pSD, vendo os resultados na janela de dados. No que concerne ao Interface Emailer (ver Figura 3.8 - Eolitor System - Emailer) \u00e9 poss\u00edvel enviar um email para, por exemplo, o Administrador do Sistema ou para algum respons\u00e1vel de manuten\u00e7\u00e3o, avisando de alguma anomalia do Aerogerador ou seus componentes ou simplesmente o comportamento do aerogerador. Outra das op\u00e7\u00f5es \u00e9 o envio e um email autom\u00e1tico para um endere\u00e7o de email previamente configurado. Este email poderia ser motivado por diversas acontecimentos. S\u00e3o exemplos os seguintes casos; o sistema detecte alguma anomalia, como o fim de validade de alguma pe\u00e7a ou a sobrecarga do sistema ou a perda de liga\u00e7\u00e3o com o sistema de monitoriza\u00e7\u00e3o ou apenas os relat\u00f3rios gerados. No \u00e2mbito do interface DB Charts (ver Figura 3.10 - Eolitor System - Database Charts) \u00e9 poss\u00edvel ver estat\u00edsticas da produ\u00e7\u00e3o e desempenho do Sistema Eolitor atrav\u00e9s da gera\u00e7\u00e3o de gr\u00e1ficos. Para tal, \u00e9 necess\u00e1ria a escolha do aerogerador, do tipo de gr\u00e1ficos e das vari\u00e1veis que se pretendem visualizar. Os tipos de gr\u00e1ficos que podem ser visualizados s\u00e3o os cl\u00e1ssicos gr\u00e1ficos de barras horizontais ou verticais e linha ou ent\u00e3o circular, pir\u00e2mide ou radar para os gr\u00e1ficos de percentagens. Tendo escolhido o gr\u00e1fico a representar este interface, \u00e9 poss\u00edvel no fim da cria\u00e7\u00e3o do gr\u00e1fico, guarda-lo com v\u00e1rios formatos de destino, entre os quais pdf, bmp, jpg, png, entre outros, ou ent\u00e3o permite imprimir o mesmo caso o PC esteja ligado a uma impressora.\nOutra das op\u00e7\u00f5es que o autor desejava introduzir neste interface era a possibilidade de, mediante a escolha dos dados e intervalo temporal, ser produzido um relat\u00f3rio com esses mesmos dados, facilitando a consulta do comportamento e estado da produ\u00e7\u00e3o de energia.\nEm qualquer momento o utilizador pode optar pelo fim da execu\u00e7\u00e3o do programa ou o fecho das interfaces abertas. O programa apenas termina a execu\u00e7\u00e3o ap\u00f3s o fecho da interface inicial.\n\t\t\nUniversidade de Aveiro\t126\t\n5.5.1.\tHome\nNo interface inicial o utilizador tem a possibilidade de escolher qualquer dos restantes interfaces do programa, clicando sobre o respectivo bot\u00e3o. Associado ao evento clique do bot\u00e3o \u00e9 instanciado e aberto o interface respectivo.\nA execu\u00e7\u00e3o do programa s\u00f3 termina depois do utilizado fechar este interface.\nFigura 5.4 - Op\u00e7\u00f5es do interface Eolitor System - Home\n5.5.2.\tMonitor\nO interface Monitor permite a visualiza\u00e7\u00e3o instant\u00e2nea do estado do aerogerador e do estado do tempo. Para iniciar a visualiza\u00e7\u00e3o da monitoriza\u00e7\u00e3o \u00e9 imprescind\u00edvel configurar o endere\u00e7o de IP do PC onde est\u00e1 a ser executado o programa Eolitor Server. Ao fim dessa configura\u00e7\u00e3o, \u00e9 necess\u00e1rio escolher o aerogerador que pretendemos visualizar, atrav\u00e9s de um clique na lista de aerogeradores. Se n\u00e3o existir nenhum aerogerador na lista, significa que ainda n\u00e3o foi adicionado nenhum aerogerador \u00e0 base de dados. Sendo assim, \u00e9 essencial adicionar um aerogerador.\nConclu\u00edda esta configura\u00e7\u00e3o podemos clicar no bot\u00e3o Connect para estabelecer uma liga\u00e7\u00e3o TCP/IP com o servidor Eolitor Server. Se a liga\u00e7\u00e3o for constitu\u00edda com sucesso, e o servidor Eolitor Server estiver a enviar dados da monitoriza\u00e7\u00e3o, ent\u00e3o o programa que vai receber esses mesmos dados, vai process\u00e1-los atrav\u00e9s das fun\u00e7\u00f5es Update_Data e Convert_Data, e actualizar o interface e os respectivos gr\u00e1ficos atrav\u00e9s da fun\u00e7\u00e3o Update_UI.\nAo mesmo tempo que s\u00e3o processados os dados da monitoriza\u00e7\u00e3o e actualizados os gr\u00e1ficos, s\u00e3o tamb\u00e9m actualizados os estados; do Aerogerador, da comunica\u00e7\u00e3o e alertas.\nPara ver as informa\u00e7\u00f5es mais importantes associadas a este aerogerador, basta abrir a segunda p\u00e1gina \u201cInformations\". Essas informa\u00e7\u00f5es s\u00e3o descarregadas directamente da base de dados. Na terceira p\u00e1gina \u201cSimulation\" \u00e9 poss\u00edvel visualizar o comportamento do vento e do aerogerador no passado (mediante consultas \u00e0 base de dados) atrav\u00e9s de simula\u00e7\u00e3o, escolhendo um instante temporal inicial e final do respectivo aerogerador. Com estes dados e clicando no bot\u00e3o Run, \u00e9 iniciada a simula\u00e7\u00e3o com consultas \u00e0 base de dados para verificar a exist\u00eancia de dados, do respectivo aerogerador, no intervalo de tempo configurados. A simula\u00e7\u00e3o termina quando n\u00e3o existem mais dados referentes \u00e0 simula\u00e7\u00e3o ou quando o utilizador entender, clicando no bot\u00e3o Stop.\nEste Interface permite ainda configurar algumas op\u00e7\u00f5es, como por exemplo, as escalas dos v\u00e1rios gr\u00e1ficos, na p\u00e1gina \u201cVariables\", ou escolher a frequ\u00eancia de monitoriza\u00e7\u00e3o e de envio dos dados por parte do microcontrolador do sistema de monitoriza\u00e7\u00e3o, na p\u00e1gina \u201cFrequency\".\nFigura 5.5 - Op\u00e7\u00f5es do interface Eolitor System - Monitor\n5.5.3.\tConnection to Database\nNeste interface \u00e9 poss\u00edvel alterar os dados de liga\u00e7\u00e3o \u00e0 base de dados. Este interface \u00e9 \u00fatil quando a base de dados est\u00e1 instalada num PC diferente do PC onde estamos a executar o programa. \u00c9 poss\u00edvel tamb\u00e9m testar a liga\u00e7\u00e3o \u00e0 base de dados atrav\u00e9s do bot\u00e3o Test Connection.\nFigura 5.6 - Op\u00e7\u00f5es do interface Eolitor System - Connection\u00bb Database\n5.5.4.\tEolitor Database\nNeste interface \u00e9 poss\u00edvel aceder \u00e0 base de dados, para consultar, alterar, adicionar ou apagar informa\u00e7\u00f5es importantes do sistema. As v\u00e1rias tabelas da base de dados est\u00e3o dispon\u00edveis nas v\u00e1rias TabPage. Em cada TabPage s\u00e3o apresentados os dados provenientes da consulta \u00e0 base de dados atrav\u00e9s dos recursos do LINQ.\nO LINQ \u00e9 uma das grandes novidades na nova vers\u00e3o da plataforma .NET, e de entre as varia\u00e7\u00f5es poss\u00edveis do LINQ, o LINQ To SQL. Para usar o LINQ To SQL basta incluir uma refer\u00eancia usando o template LINQ To SQL classes. Fazendo isso \u00e9 poss\u00edvel o acesso ao Descritor Objecto Relacional ou Object Relational Designer (O/R Designer). Este fornece uma interface visual para criar e editar classes LINQ to SQL, classes das entidades - entity classes -que s\u00e3o baseadas em objectos da base de dados.\nO descritor O/R \u00e9 usado para criar um modelo de objectos na aplica\u00e7\u00e3o que efectua o mapeamento para os objectos da base de dados gerando um DataContext fortemente tipado que \u00e9 usado para enviar e receber dados entre as classes das entidades e a base de dados; al\u00e9m disso o descritor O/R tamb\u00e9m permite efectuar o mapeamento de stored procedures e fun\u00e7\u00f5es para os m\u00e9todos do DataContext.\nA classe DataContext \u00e9 uma classe LINQ to SQL que actua como uma ponte entre a base de dados SQL Server e as classes das entidades LINQ To SQL mapeadas para a base de dados. Ela cont\u00e9m a informa\u00e7\u00e3o e os m\u00e9todos para efectuar a liga\u00e7\u00e3o com a base de dados e manipular os dados. Essa classe possui diversos m\u00e9todos, como o m\u00e9todo SubmitChanges que envia as actualiza\u00e7\u00f5es das classes LINQ To SQL para a base de dados. Al\u00e9m disso, \u00e9 poss\u00edvel criar m\u00e9todos adicionais na classe DataContext para mapear stored procedures e fun\u00e7\u00f5es de forma que executando os m\u00e9todos criados as stored procedures e as fun\u00e7\u00f5es que foram mapeadas pela classe DataContext ser\u00e3o executadas.\nOs dados da consulta utilizando o LINQ to SQL s\u00e3o carregados num BindingSource. O BindingSource fornece uma camada de ac\u00e7\u00e3o indirecta entre uma fonte de dados e os controlos ligados a ela. Deve-se anexar um BindingSource a uma fonte de dados, definindo as propriedades DataSource e DataMember do BindingSource e, em seguida, ligar os controlos ao BindingSource adicionando a colec\u00e7\u00e3o DataBindings dos controlos. Toda interac\u00e7\u00e3o com os dados, como navega\u00e7\u00e3o, classifica\u00e7\u00e3o, filtragem e edi\u00e7\u00e3o de registos, \u00e9 feita atrav\u00e9s de\nPara facilitar a navega\u00e7\u00e3o dos dados utilizamos um BindingNavigator. O BindingNavigator \u00e9 um controlo ToolStrip com um conjunto de bot\u00f5es pr\u00e9-configurados. Conectando um BindingSource como fonte de dados \u00e9 poss\u00edvel o controlo da navega\u00e7\u00e3o pelos dados dispon\u00edveis, devido aos bot\u00f5es da barra de ferramentas criados. Al\u00e9m de existirem bot\u00f5es de navega\u00e7\u00e3o, tamb\u00e9m existem os bot\u00f5es AddNew, Update, Delete e Save que permitem adicionar, actualizar, apagar ou guardar registos na base de dados. Os dados do BindingSource s\u00e3o tamb\u00e9m escritos num DataGridView relativo a cada tabela, como se pode ver na imagem seguinte na tabela WindFarms (Parques E\u00f3licos). Nesta TabPage, \u00e9 apresentada a informa\u00e7\u00e3o da entrada corrente do BindingNavigator. \u00c0 medida que o utilizador muda de TabPage, os dados das tabelas s\u00e3o importados pelo BindingSource, atrav\u00e9s de uma consulta \u00e0 tabela respectiva, e o BindingNavigator \u00e9 carregado com os dados do BindingSource.\nNo BindingNavigator tamb\u00e9m existe um bot\u00e3o Find que permite fazer diferentes pesquisas consoantes a fonte de dados do BindingSource, i.e, da TabPage corrente.\nFigura 5.7 - Op\u00e7\u00f5es do interface Eolitor System - SQL Database\n5.5.5.\tEolitor DB Charts\nNeste interface podemos consultar, atrav\u00e9s de gr\u00e1ficos, informa\u00e7\u00f5es relativas ao comportamento passado do aerogerador e do estado do tempo. Nele \u00e9 poss\u00edvel escolher um intervalo temporal que pretendemos, e atrav\u00e9s de consultas \u00e0 base de dados, visualizar os\nmesmos dados graficamente. Neste interface primeiro \u00e9 necess\u00e1rio escolher o aerogerador, isto se existirem mais do que um aerogerador armazenados na base de dados, caso contr\u00e1rio as consultas s\u00e3o feitas a todos os aerogeradores. Em segundo lugar, deve ser escolhido o intervalo temporal correspondente \u00e0 consulta que pretendemos realizar. Em seguida, tem de ser escolhida uma vari\u00e1vel do estado do tempo (velocidade e direc\u00e7\u00e3o) ou do estado do aerogerador (velocidade, corrente, pot\u00eancia, voltagem, direc\u00e7\u00e3o e velocidade) que pretendemos visualizar. Ap\u00f3s a escolha desta vari\u00e1vel podem ser alteradas as op\u00e7\u00f5es do gr\u00e1fico, faltando apenas clicar no bot\u00e3o Create para poder visualizar o novo gr\u00e1fico. O gr\u00e1fico gerado pede ser depois imprimindo clicando no bot\u00e3o Print ou ent\u00e3o gravado localmente clicando no bot\u00e3o Save.\nFigura 5.8 - Op\u00e7\u00f5es do interface Eolitor System - Database Charts\n5.5.6.\tEmailer\nNeste interface \u00e9 poss\u00edvel o envio de um email. Esta possibilidade foi pensada, como j\u00e1 foi referido anteriormente, para ser poss\u00edvel ao programa contactar, atrav\u00e9s de um email, o Administrador ou algum T\u00e9cnico respons\u00e1vel pelo funcionamento, informando-o do estado do Aerogerador e de seus componentes. Assim, caso os dados de email do destinat\u00e1rio estejam configurados previamente, ser\u00e1 poss\u00edvel o envio de informa\u00e7\u00f5es como, o fim da dura\u00e7\u00e3o de uma componente, o relat\u00f3rio da produ\u00e7\u00e3o semanal de um aerogerador, alerta de velocidade do aerogerador elevada, entre outras. Para o envio de um email e necess\u00e1rio estar configurada uma conta de email e instalado, localmente no PC, o servi\u00e7o SMTP. \u00c9 poss\u00edvel adicionar anexos clicando no bot\u00e3o browser e para enviar o email basta clicar no bot\u00e3o Send.\nFigura 5.9 - Op\u00e7\u00f5es do interface Eolitor System - Emailer\n5.5.7.\t^SD Terminal\nEste interface permite ao utilizador a comunica\u00e7\u00e3o com o cart\u00e3o gSD do sistema de monitoriza\u00e7\u00e3o. Neste est\u00e1 a lista de comandos dispon\u00edvel e uma descri\u00e7\u00e3o para cada comando. Para tal, \u00e9 necess\u00e1rio configurar o endere\u00e7o de IP do servidor para estabelecer uma liga\u00e7\u00e3o TCP/IP. No instante imediato \u00e0 abertura da liga\u00e7\u00e3o, atrav\u00e9s da clique no bot\u00e3o Connect, \u00e9 enviado um comando do programa Eolitor Server para o microcontrolador da placa de monitoriza\u00e7\u00e3o notificando que um utilizador deseja, mediante o envio de comandos para o gSD, verificar ou alterar o seu estado. A partir deste momento o microcontrolador deixa de escrever no cart\u00e3o gSD. Depois basta escrever a instru\u00e7\u00e3o correcta, associada \u00e0s fun\u00e7\u00f5es do sistema de ficheiros FatFS que podem ser consultadas na Tabela 4.5, e clicar no bot\u00e3o Send. A resposta pode ser visualizada na \u00e1rea Data. Por fim, ap\u00f3s clicar no bot\u00e3o Disconnect (mesmo bot\u00e3o de Connect) para desligar a liga\u00e7\u00e3o TCP/IP entre o gSD Terminal e o Eolitor Server, \u00e9 enviado para o microcontrolador o comando que informa a conclus\u00e3o da comunica\u00e7\u00e3o com o cart\u00e3o gSD retornando o programa do microcontrolador ao estado normal de monitoriza\u00e7\u00e3o.\nFigura 5.10 - Op\u00e7\u00f5es do interface Eolitor System - Terminal\n5.6.\tInstala\u00e7\u00e3o e Execu\u00e7\u00e3o do Programa\nCom o desenvolvimento do programa Eolitor, foi criado um execut\u00e1vel msi que permite instalar este programa, tendo como pr\u00e9-requisito o Windowns Installer. Todos os ficheiros necess\u00e1rios para a execu\u00e7\u00e3o do programa s\u00e3o criados numa nova pasta escolhida durante a instala\u00e7\u00e3o. Com a instala\u00e7\u00e3o \u00e9 criado um atalho do execut\u00e1vel do programa no ambiente de trabalho com o nome Eolitor System, e uma pasta nos Programas do Menu Iniciar com o nome IEETA. Esta pasta cont\u00e9m um atalho do execut\u00e1vel dos programas Eolitor System, DB Installer e Eolitor Server, um atalho para a p\u00e1gina Web do IEETA, outro para a p\u00e1gina Web criada para este projecto e mais um atalho para o guia de in\u00edcio r\u00e1pido que foi desenvolvido para facilitar o uso dos programas por parte dos utilizadores em especial nas primeiras experi\u00eancias.\nFigura 5.11 - Execut\u00e1vel de instala\u00e7\u00e3o do Programa Eolitor\n\t\t\nUniversidade de Aveiro\t133\t\n5.7.\tInstala\u00e7\u00e3o da Base de Dados\nComo j\u00e1 foi referido, o projecto Eolitor est\u00e1 suportado numa base de dados SQL Server 2005. Assim, o correcto funcionamento do programa Eolitor Server s\u00f3 \u00e9 poss\u00edvel se no PC onde for executado, esteja instalada a base de dados.\nAntes da execu\u00e7\u00e3o do programa Eolitor, \u00e9 necess\u00e1rio instalar o programa MS SQL Server 2005 seguindo os passos do execut\u00e1vel sqlexpr32.exe fornecido com o projecto ou dispon\u00edvel na internet no site da Microsoft, caso n\u00e3o esteja instalado. A instala\u00e7\u00e3o do servidor de base de dados vai permitir a instala\u00e7\u00e3o da base de dados de suporte nesse PC, que poder\u00e1 ser acedida de outro PC atrav\u00e9s de uma liga\u00e7\u00e3o TCP/IP.\nFoi criado um programa auxiliar DBInstaller, que pode ser executado clicando no atalho do Menu Iniciar que foi criado com a instala\u00e7\u00e3o do programa Eolitor. Este programa permite listar todos os servidores de bases de dados MS SQL Server que sejam acedidos a partir do PC, atrav\u00e9s do componente SQLDMO. Escolhido o servidor \u00e9 necess\u00e1rio introduzir o username e password de acesso, clicar no bot\u00e3o Install e ser\u00e1 instalada a base de dados com o nome EolitorDB nesse servidor. A instala\u00e7\u00e3o da base de dados \u00e9 feita atrav\u00e9s de um script SQl. Este script, escrito em linguagem SQL, que permite a cria\u00e7\u00e3o das tabelas, das chaves prim\u00e1rias e estrangeiras, dos constraints, dos store procedures e dos triggers que contem a base de dados. O script SQL \u00e9 executado a partir do programa sqlcmd (\"sqlcmd -S \u201cServDBName\" -d \"Database\" -U \"UserName\" -P \"Pwd\" -o C:\\sqlout.txt -i \"fileName\").\nFigura 5.12 - Execut\u00e1vel de instala\u00e7\u00e3o da base de dados EolitorDB\n\t\t\nUniversidade de Aveiro\t134\t\n5.8.\tEolitor - Web Page\nNo seguimento de um dos objectivos do Projecto, o de disponibilizar informa\u00e7\u00e3o localmente ou remotamente, foi desenvolvido uma Web Page em ASP.NET que ser\u00e1 instalado no PC servidor. A cria\u00e7\u00e3o desta Web Page foi virada essencialmente para a disponibiliza\u00e7\u00e3o de informa\u00e7\u00f5es ligadas ao Projecto, como s\u00e3o o caso das energias renov\u00e1veis em especial a energia e\u00f3lica. Mas o grande destaque da Web Page \u00e9 o Aerogerador que foi instalado. Podem ser consultadas fotos e v\u00eddeos do seu interior, da fase de instala\u00e7\u00e3o e em pleno funcionamento.\nNo sentido de tornar o Web Page mais interactiva foram adicionados componentes em Silverlight (\u00faltima tecnologia da Microsoft para o desenvolvimento de p\u00e1ginas Web) que facilita a visualiza\u00e7\u00e3o dos v\u00e1rios \u00e1lbuns de fotos e de v\u00eddeos. Os \u00e1lbuns de fotos est\u00e3o guardados numa base de dados MS SQL Server.\nCom o desenvolvimento deste Web Page foi utilizada uma base de dados ASPNETDB que permite armazenar o registo de v\u00e1rios utilizados e de v\u00e1rios perfis de utilizadores. Deste modo foi poss\u00edvel definir dois perfis de utiliza\u00e7\u00e3o designados por Administrator e Friend, para al\u00e9m dos utilizadores comuns. Os utilizadores com privil\u00e9gios Administrator podem adicionar fotografias e v\u00eddeos ao Web Page para al\u00e9m dos restantes conte\u00fados. Os utilizadores Friend podem visualizar todas as p\u00e1ginas de um utilizador comum, incluindo as p\u00e1ginas de estat\u00edsticas que permitem gerar relat\u00f3rios e gr\u00e1ficos do comportamento do Aerogerador. Para ser um utilizador Friend \u00e9 necess\u00e1rio efectuar um registo e posteriormente o login na p\u00e1gina inicial da Web Page.\nNa p\u00e1gina \u201cAo Vivo\u201d \u00e9 poss\u00edvel acompanhar em tempo real e em v\u00eddeo o comportamento do Aerogerador atrav\u00e9s da c\u00e2mara que ser\u00e1 instalado no IEETA.\nFoi tamb\u00e9m adicionado um leitor de Feeds RSS que ap\u00f3s a subscri\u00e7\u00e3o permite ler as informa\u00e7\u00f5es dos Feeds ligados a esta tem\u00e1tica.\nA interface da Web Page \u00e9 muito simples, f\u00e1cil de utilizar e percept\u00edvel a todos utilizadores. Esta foi desenvolvida tamb\u00e9m para facilitar a introdu\u00e7\u00e3o de novos conte\u00fados. No ponto 3.5.3.12 Eolitor System - Web Page existem algumas figuras da Web Page.\n\t\t\nUniversidade de Aveiro\t135\t\n\t\t\nUniversidade de Aveiro\t136\t\nAt\u00e9 este momento j\u00e1 foram explicados quase todos os detalhes do desenvolvimento da \u00edntegra do sistema Eolitor, incluindo todos os interfaces com o utilizador. Assim como resultado desta disserta\u00e7\u00e3o, foi concebido um sistema de monitoriza\u00e7\u00e3o de um Aerogerador, que ser\u00e1 apresentado no corrente cap\u00edtulo, incluindo as figuras referentes \u00e0 execu\u00e7\u00e3o dos v\u00e1rios programas desenvolvidos para demonstrar todo o sistema Eolitor em funcionamento.\n6.1.\tSistema de Monitoriza\u00e7\u00e3o\nUm dos principais problemas encontrado no desenvolvimento deste sistema foi a concep\u00e7\u00e3o da PCB, desde o desenho do footprint at\u00e9 \u00e0 fase de soldar os componentes, principalmente o microcontrolador, devido ao n\u00famero elevado de pinos e \u00e0 sua reduzida dimens\u00e3o. Outro dos problemas encontrados foi a integra\u00e7\u00e3o do sistema de ficheiros no projecto da PCB pela complexidade do mesmo.\nA primeira vers\u00e3o da PCB do projecto era mais elaborada devido \u00e0 exist\u00eancia de um circuito integrado para carregar a bateria de Lithium, um Charge Pump para regular e estabilizar a tens\u00e3o da bateria e um supervisor para comutar a alimenta\u00e7\u00e3o do sistema entre a tens\u00e3o da bateria e a tens\u00e3o de sa\u00edda do painel solar. A vers\u00e3o final da PCB pode ser observada no ponto 3.5.3.13 Eolitor System - PCB Monitoring.\nNa Figura seguinte podemos ver o programa Eolitor Server e o programa Eolitor TCP Server em execu\u00e7\u00e3o e podemos ver os dados que est\u00e3o a ser recebidos atrav\u00e9s da PCB do sistema de monitoriza\u00e7\u00e3o, no rect\u00e1ngulo denominado Send Data.\n\u00cd3 Eolitor Sorver\nSettings\nSerial Port:\nDisconnect\n\u25a1E\u00ae\nClients\nEolito rServer\nSend Data\n00A311002B1203FF1300DB1E0111002C1203FF1300DB1E0111002B1203FF1 300DB1E0100A700A311002C1203FF1300DB1E0111002C1203FF1300DB1E01 11002C1203FF13OODB1E0100A700A311002B1203FF1300DB1E0111002C120 3FF1300DB1E0111002D1203FF1300DB1E0100A1\nSend\nData Received\n<<<EolitorServerhas connected the Eolitor TCP Server>>> 27-06-2009 13:58:34\nOutput\nFigura 6.1 - Programa Servidor Eolitor Server em execu\u00e7\u00e3o\n6.2.\tSistema de Informa\u00e7\u00e3o\nO sistema de informa\u00e7\u00e3o \u00e9 a camada superior de interface com os utilizadores do projecto Eolitor. O desenvolvimento deste sistema provocou algumas dificuldades ao autor do projecto devido \u00e0 inexistente experi\u00eancia em programa\u00e7\u00e3o de alto n\u00edvel, mais concretamente na plataforma Visual Studio da Microsoft. Contudo, foi desenvolvido o programa Eolitor System que permite receber todas as informa\u00e7\u00f5es em tempo real dos seguintes elementos: estado do Aerogerador, estado tempo, gerando gr\u00e1ficos e relat\u00f3rios com as informa\u00e7\u00f5es de monitoriza\u00e7\u00f5es anteriores armazenadas na base de dados.\nFaz ainda parte do sistema de informa\u00e7\u00e3o do projecto Eolitor, a Web Page desenvolvida que permite tamb\u00e9m aos utilizadores a recep\u00e7\u00e3o de informa\u00e7\u00e3o do sistema, desde a tem\u00e1tica das energias renov\u00e1veis, em especial a energia e\u00f3lica, ou a difus\u00e3o de imagens e v\u00eddeos do Aerogerador, at\u00e9 \u00e0 informa\u00e7\u00e3o do seu comportamento resultante da cria\u00e7\u00e3o de gr\u00e1ficos e relat\u00f3rios.\nO resultado do desenvolvimento deste sistema pode ser observado nas figuras seguintes que constam no programa Eolitor System. A Figura 6.2 representa a execu\u00e7\u00e3o do interface Monitor que faculta a recep\u00e7\u00e3o e visualiza\u00e7\u00e3o dos dados da monitoriza\u00e7\u00e3o da PCB, enviados pelo programa Eolitor Server. Na \u00e1rea Meteo podemos ver os indicadores que demonstram o valor actual da temperatura, velocidade e direc\u00e7\u00e3o do vento. No que respeita \u00e0 \u00e1rea Aero n\u00e3o foi poss\u00edvel recolher dados dos sensores at\u00e9 \u00e0 data de redac\u00e7\u00e3o da disserta\u00e7\u00e3o, devido a dificuldades de instala\u00e7\u00e3o do Aerogerador. Os estados do Aerogerador, da comunica\u00e7\u00e3o com o servidor e alertas est\u00e3o indicados do lado esquerdo do interface.\nFigura 6.2 - Interface Monitor do Programa Eolitor System em execu\u00e7\u00e3o, recep\u00e7\u00e3o da monitoriza\u00e7\u00e3o do comportamento do tempo\nFigura 6.3 - Interface Database Charts do Programa Eolitor System em execu\u00e7\u00e3o, vari\u00e1vel Wind Speed e tipo de gr\u00e1fico Line\nFigura 6.4 - Interface Database Charts do Programa Eolitor System em execu\u00e7\u00e3o, vari\u00e1vel Wind Dir e tipo de gr\u00e1fico Radar\nAs Figuras 6.3, 6.4 e 6.5 referem-se \u00e0 execu\u00e7\u00e3o do Interface Database Charts do programa Eolitor System que permite gerar gr\u00e1ficos das v\u00e1rias vari\u00e1veis inerentes \u00e0 monitoriza\u00e7\u00e3o. Para al\u00e9m da vari\u00e1vel, \u00e9 poss\u00edvel escolher o tipo de gr\u00e1fico, entre outras op\u00e7\u00f5es: 3D, apresenta\u00e7\u00e3o de valores e/ou legendas e em formato percentagem. Nos casos referidos, foi gerado a m\u00e9dia da velocidade de vento (m/s), m\u00e9dia da direc\u00e7\u00e3o do vento e a m\u00e9dia da temperatura (oC), respectivamente.\nFigura 6.5 - Interface Database Charts do Programa Eolitor System em execu\u00e7\u00e3o, vari\u00e1vel Temperature e tipo de gr\u00e1fico\nCombo\nFigura 6.6 - Interface Reports do Programa Eolitor System em execu\u00e7\u00e3o, Info Report\nA Figura 6.6 representa a execu\u00e7\u00e3o do interface Reports que faculta a cria\u00e7\u00e3o de relat\u00f3rios dos v\u00e1rios modelos pr\u00e9-programados. No relat\u00f3rio em quest\u00e3o, Info Report, s\u00e3o obtidas informa\u00e7\u00f5s dos parques e\u00f3licos, dos modelos dos aerogeradores instalados e dos fabricantes. Podem ainda ser observados os relat\u00f3rios Production Report e Meteo Report, contendo informa\u00e7\u00f5es da produ\u00e7\u00e3o do aerogerador e do estado do tempo, respectivamente.\nFigura 6.7 - Interface Logs do Programa Eolitor System em execu\u00e7\u00e3o\nFigura 6.8 - Interface Web Browser do Programa Eolitor System em execu\u00e7\u00e3o, p\u00e1gina Web do Projecto Eolitor\nNo interface referente \u00e0 Figura 6.7 podem ser observados logs da utiliza\u00e7\u00e3o do sistema e a Figura 6.8 refere-se \u00e0 Web Page que foi criada no \u00e2mbito do projecto.\nFigura 6.9 - Guia de In\u00edcio R\u00e1pido de suporte aos programas do projecto Eolitor\nFigura 6.10 - Guia de In\u00edcio R\u00e1pido de suporte aos programas do projecto Eolitor, interface Monitor do programa Eolitor System\nCficar aqu\u00ed para\t\n\t1\nescolher\t\nAprneprador.\t\nSs\t\t\nAs Figuras 6.9 e 6.10 concernem ao guia que foi desenvolvido em linguagem HTML para servir de suporte \u00e0 utiliza\u00e7\u00e3o dos programas Eolitor Server, Eolitor System e Database Installer do projecto Eolitor. Este guia destina-se aos utilizadores para a melhor percep\u00e7\u00e3o de como devem interagir com o sistema para poderem tirar o m\u00e1ximo partido. Como referido anteriormente, este guia pode ser acedido, depois da instala\u00e7\u00e3o do projecto Eolitor, no menu Iniciar do Windows.\n\t\t\nUniversidade de Aveiro\t144\t\n7.1.\tConclus\u00f5es\nEm virtude dos aspectos mencionados, percebe-se que os objectivos propostos foram alcan\u00e7ados. O desenvolvimento consistiu na cria\u00e7\u00e3o de um sistema que permitisse monitorizar o comportamento de um Aerogerador e do estado do tempo. Este sistema de monitoriza\u00e7\u00e3o foi conseguido com \u00eaxito. Nos cap\u00edtulos anteriores j\u00e1 foram apresentados todos os elementos deste projecto durante o seu desenvolvimento, incluindo algumas alternativas. De referir que a diversidade de tecnologias de suporte existentes permitiria o desenvolvimento de solu\u00e7\u00f5es diferentes desta.\n7.1.1.\tBase de Dados\nAnalisando com detalhe cada m\u00f3dulo do sistema individualmente, entendemos que, no que concerne \u00e0 base de dados de suporte, foram adicionadas para al\u00e9m dos dados de monitoriza\u00e7\u00e3o, outras tabelas que permitem armazenar mais informa\u00e7\u00f5es do sistema atrav\u00e9s do interface Eolitor Database. A camada da base de dados est\u00e1 completamente operacional, transparente ao sistema de monitoriza\u00e7\u00e3o e ao sistema de informa\u00e7\u00e3o.\n7.1.2.\tSistema de Monitoriza\u00e7\u00e3o\nNo que respeita \u00e0 placa de circuitos impressos, as possibilidades de implementa\u00e7\u00e3o eram muito mais abrangentes, gra\u00e7as \u00e0 grande variedade de microcontroladores e de circuitos integrados existentes no mercado. Como foi visto anteriormente no Cap\u00edtulo 4, a placa de monitoriza\u00e7\u00e3o foi pensada para dar resposta a duas formas diferentes de instala\u00e7\u00e3o. Nesse sentido, foram desenvolvidas duas solu\u00e7\u00f5es distintas. Contudo, a leitura dos v\u00e1rios sensores e o processamento do qual resulta uma trama a ser enviada para um PC, \u00e9 similar em ambas. Entende-se que os objectivos presentes foram alcan\u00e7ados. Mais detalhadamente, esta placa tem uma unidade local de armazenamento (cart\u00e3o pSD) que est\u00e1 funcional, permitindo assim armazenar os dados no cart\u00e3o, (sob formato de um ficheiro de texto txt), quando o programa servidor, de recep\u00e7\u00e3o dos dados, n\u00e3o estiver em comunica\u00e7\u00e3o com a placa. Localmente tamb\u00e9m existe um RTCC (Real Time Clock and Calender) que faculta identificar o instante temporal em que os dados foram recolhidos, indispens\u00e1vel em projectos de monitoriza\u00e7\u00e3o.\nEm virtude do que foi mencionado relativamente ao programa de servidor execut\u00e1vel num PC, que se conecta \u00e0 placa de monitoriza\u00e7\u00e3o atrav\u00e9s de uma liga\u00e7\u00e3o com fios (USB), ou sem fios (Bluetooth), considera-se que preenche todos os requisitos propostos \u00e0 partida, disponibilizando ainda funcionalidades adicionais. Este programa, Eolitor Server, \u00e9 respons\u00e1vel pela recep\u00e7\u00e3o, processamento e armazenamento da informa\u00e7\u00e3o do sistema numa base de dados. Todos estes requisitos foram superados com sucesso. Este programa \u00e9 simples, mas robusto, n\u00e3o perde tramas e \u00e9 r\u00e1pido na execu\u00e7\u00e3o. Neste momento este programa permite ainda a liga\u00e7\u00e3o remota de v\u00e1rios clientes atrav\u00e9s duma liga\u00e7\u00e3o TCP/IP.\n\t\t\nUniversidade de Aveiro\t145\t\n7.1.3.\tSistema de Informa\u00e7\u00e3o\nCom todos estes aspectos considerados era necess\u00e1rio o desenvolvimento de um programa de modo a obter o retorno de toda a informa\u00e7\u00e3o Este foi detalhado no Cap\u00edtulo 5 -. Para al\u00e9m das necessidades b\u00e1sicas que foram criadas, de encontro com os objectivos iniciais, foram tamb\u00e9m adicionadas algumas funcionalidades como forma de tornar o programa mais robusto e disponibilizar aos utilizadores mais informa\u00e7\u00e3o. Destas funcionalidades, pode ser destacado o simulador, que permite a visualiza\u00e7\u00e3o do comportamento do aerogerador, atrav\u00e9s dos dados de monitoriza\u00e7\u00f5es precedentes guardadas na base de dados. Outra das funcionalidades implementadas com sucesso foi a visualiza\u00e7\u00e3o do hist\u00f3rico das diversas vari\u00e1veis do aerogerador e do tempo, atrav\u00e9s da gera\u00e7\u00e3o de gr\u00e1ficos. Foi tamb\u00e9m criada uma interface para demonstrar a concep\u00e7\u00e3o de relat\u00f3rios, podendo ser posteriormente criados mais modelos personalizados. Como suporte \u00e0 gera\u00e7\u00e3o de relat\u00f3rios, foi tamb\u00e9m implementado um mecanismo de envio de emails para possibilitar precisamente o envio dos relat\u00f3rios por email, para algum utilizador (destinat\u00e1rio) previamente configurado. Esta fun\u00e7\u00e3o extra requer ainda alguns ajustes de configura\u00e7\u00e3o de modo a torn\u00e1-la mais funcional no caso de necess\u00e1ria. Como funcionalidade acess\u00f3ria foi criada uma interface onde \u00e9 poss\u00edvel visualizar os logs gerados pelo programa referentes ao comportamento do aerogerador e da utiliza\u00e7\u00e3o do programa. Para al\u00e9m deste programa, foi ainda criada uma p\u00e1gina Web no \u00e2mbito das informa\u00e7\u00f5es relacionadas com este projecto: fotos e v\u00eddeos do Aerogerador, e ainda a possibilidade de gera\u00e7\u00e3o de gr\u00e1ficos e relat\u00f3rios. Tendo em conta o exposto, pensa-se que os objectivos foram atingidos, com a cria\u00e7\u00e3o deste sistema de informa\u00e7\u00e3o.\n\t\t\nUniversidade de Aveiro\t146\t\n7.2.\tDesenvolvimentos Futuros\nO objectivo deste trabalho foi atingido e pode-se dizer que o m\u00e9todo proposto apresenta resultados satisfat\u00f3rios. Por\u00e9m, numa perspectiva futura, como complemento e desenvolvimento deste trabalho, foram pensadas algumas funcionalidades que podem ser adicionadas e aplicadas, com vista a tornar o projecto numa solu\u00e7\u00e3o mais robusta, diversificada, atractiva e competitiva comercialmente. De algumas dessas perspectivas futuras fazem parte:\nNo que concerne \u00e0 base de dados de suporte:\n-Adicionar tabelas, ou alterar a rela\u00e7\u00e3o entre as mesmas, de modo \u00e0 informa\u00e7\u00e3o estar armazenada de forma mais eficiente;\nNo que diz respeito \u00e0 placa de monitoriza\u00e7\u00e3o:\n-Adicionar mais sensores, permitindo assim obter mais informa\u00e7\u00f5es do sistema e\u00f3lico, implica redesenhar a PCB e interligar o sinal de sa\u00edda do sensor ou a um canal da ADC do microcontrolador se o sinal for anal\u00f3gico ou se o sinal for em frequ\u00eancia pode ser ligado a uma linha de interrup\u00e7\u00f5es ou \u00e0 entrada de um timer;\n-Melhorar ou modificar a forma de armazenamento da informa\u00e7\u00e3o no cart\u00e3o pSD, implica alterar a estrat\u00e9gia de cia\u00e7\u00e3o de ficheiros para superar a perda da informa\u00e7\u00e3o armazenada que ocorre com a falta de alimenta\u00e7\u00e3o na PCB;\n-Integrar o m\u00f3dulo de comunica\u00e7\u00e3o Bluetooth F2M03GLA numa \u00fanica placa de circuito impresso;\n-Integrar na placa um servidor Web TCP/IP, permitindo enviar os dados directamente para um computador pela internet atrav\u00e9s de uma liga\u00e7\u00e3o TCP/IP [49];\n-Optimizar as dimens\u00f5es da placa de circuito impresso;\n-Alterar o formato da trama enviada da placa de monitoriza\u00e7\u00e3o para o PC, de acordo com necessidades pontuais (exemplo: aumento de sensores, aumento de aerogeradores). Neste formato \u00e9 poss\u00edvel a exit\u00eancia de at\u00e9 16 identificadores de aerogeradores e o envio de at\u00e9 16 identificadores de sensores por aerogerador.\nNo \u00e2mbito do programa de servidor, Eolitor Server:\n-Adicionar um algoritmo para previs\u00e3o da capacidade de produ\u00e7\u00e3o do aerogerador, baseada nos dados actuais e passados [50].\nNo que respeita ao programa de cliente, Eolitor System:\n-Optimizar a programa\u00e7\u00e3o que foi desenvolvida de modo a reduzir o tempo de processamento e a mem\u00f3ria necess\u00e1ria para execu\u00e7\u00e3o;\n-Optimizar o n\u00famero de liga\u00e7\u00f5es estabelecidas com base de dados durante a execu\u00e7\u00e3o do programa;\n\t\t\nUniversidade de Aveiro\t147\t\nPor fim, no que se refere \u00e0 Web Page:\n-Adicionar gr\u00e1ficos e indicadores do estado e da produ\u00e7\u00e3o recente do aerogerador, permitindo aumentar a informa\u00e7\u00e3o dispon\u00edvel do sistema aos utilizadores;\n-Adicionar novos conte\u00fados de informa\u00e7\u00e3o, fotografias e v\u00eddeos.\n\t\t\nUniversidade de Aveiro\t148\t\nBibliografia\n[1]\t- EWEA, Wind Energy - The Facts, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/WETF/WETF. pdf>\n[2]\t- EWEA, Wind Energy Statistics, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/factsheets/E WEA_F S_Statistics_FIN AL_lr.pdf>\n[3]\t- EWEA, Offshore Wind Farms 2008, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/statistics/Offshore_Wind_F arms_2008.pdf>\n[4]\t- EWEA, Offshore Wind Energy, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/factsheets/E WEA_FS_Offshore.pdf>\n[5]\t- EWEA, Annual Report 2008 - Winning with European Wind, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/Annual_Repor t_2008.pdf>\n[6]\t- EWEA, Annual Report 2007 - Delivering Energy and Climate Solutions, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/reports/ar07-ewea.pdf>\n[7]\t- EWEA, Pure Energy - Wind Energy Scenarios up to 2030, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/00_POLICY_document/PP.p df>\n[8]\t- EWEA - Wind at Work, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/Wind_at_wor k_FINAL.pdf>\n[9]\t- EWEA, Economics of Wind Energy, Dispon\u00edvel&lt;http://www.ewea.org/fileadmin/ewea_documents/documents/publications/reports/Econ omics_of_Wind_Main_Report_FINAL-lr.pdf>\n[10]\t- The Wind Turbines and WindFarm Database, France: The Wind Power. Dispon\u00edvel&lt;http://www.thewindpower.net/index_en.php>\n[11]\t- European Wind Energy Technology Platform, Strategic Research Agenda / Market Deployment Strategy, Dispon\u00edvel\n\t\t\nUniversidade de Aveiro\t149\t\n[12]\t- Global Wind 2007 Report, Global Wind Energy Council. Second edition, May 2008\n[13]\t- GWEC Press Release 2008, Global Wind Energy Council, Dispon\u00edvel\n<http://www.ewea.org/fileadmin/ewea_documents/documents/press_releases/2009/GWE C_Press_Release_-_tables_and_statistics_2008.pdf>\n[14]\t- Internacional Energy Agency, World Energy Outlook 2006, Dispon\u00edvel\n<http://www.worldenergyoutlook.org/docs/weo2 006/portuguese_sum_06.pdf>\n[15]\t- Internacional Energy Agency, World Energy Outlook 2007, Dispon\u00edvel\n<http://www.iea.org/T extbase/npsum /WE O2007SUM.pdf >\n[16]\t- Wind Power, Denmark: Danish Wind Industry Association. Dispon\u00edvel&lt;http://www.windpower.org>\n[17]\t- Wind Energy, Washington: American Wind Energy Association. Dispon\u00edvel&lt;http://www.awea.org>\n[18]\t- Wind Energy, Marseille: European Wind Energy Association. Dispon\u00edvel&lt;http://www.ewea.org>\n[19]\t- Energy and Environmental Data, Denmark : EMD International. Dispon\u00edvel&lt;http://www.emd.dk>\n[20]\t- Wind Energy, Ottawa: Canadian Wind Energy Association. Dispon\u00edvel&lt;http://www.canwea.ca/index_e.php>\n[21]\t- Wind Power, Ontario: Total Alternative Power. Dispon\u00edvel&lt;http://www.totalalternativepower.com/faq.htm>\n[22]\t- Wind Turbines, WOBBEN WINDPOWER Inc. Dispon\u00edvel&lt;http://www.wobben.com.br>\n[23]\t- Energy Efficiency and Renewable Energy, USA: US Department of Energy. Dispon\u00edvel&lt;http://www.eere.energy.gov>\n[24]\t- RETScreen Clean Energy Project, Canada: Natural Resources Canada. Dispon\u00edvel&lt;http://www.retscreen.net/ang/home.php>\n[25]\t- Power Technology, London: SPG Media. Dispon\u00edvel&lt;http://www.power-technology.com>\n\t\t\nUniversidade de Aveiro\t150\t\n[26]\t- ZigBee; ZigBee Alliance, Wireless Control that Simply Works. Dispon\u00edvel&lt;http://www.zigbee.org/en>\n[27]\t- Bluetooth; Bluetooth Technology: Dispon\u00edvel&lt;http://www.bluetooth.com/bluetooth>\n[28]\t- GROFF, James R.; WEINBERG, Paul N.; SQL: The Complete Reference, Second Edition. California: McGraw-Hill/Osborne, 2002.\n[29]\t- BOWMAN, Judith S.; EMERSON, S. L.; DARNOVSKY, M.; The practical SQL handbook: using structured query language. Addison - Wesley, 1998 reprint.\n[30]\t- DATE, Christopher John; DARWEN, Hugh; A guide to the SQL standard: a user's guide to the standard database language SQL. Addison - Wesley, 1997.\n[31]\t- AMBLER, Scott W.; The elements of UML 2.0 style. Cambridge: Cambridge University Press, 2005.\n[32]\t- NAIBURG, Eric J.; UML for database design. Boston: Addison - Wesley, 2001.\n[33]\t- PILONE, Dan; PITMAN, Neil; UML 2.0 in a Nutshell. United States of America: O'Reilly Media, Inc, 2005.\n[34]\t- RIORDAN, Rebecca M.; Designing Relational Database Systems. Washington: Microsoft Press, 1999.\n[35]\t- HALVORSON, Michael; Microsoft Visual Basic passo a passo. Bookman, 2005. 504p.\n[36]\t- Estanqueiro, Ana. Curso de Energias Renov\u00e1veis, Energia E\u00f3lica. Dispon\u00edvel&lt;http://disciplinas.dcm.fct.unl.pt/cce/ficheiros%20pdf/eolica1.pdf>\n[37]\t- Pe\u00e7as Lopes, J. A. Tipos de Aerogeradores Modeliza\u00e7\u00e3o, Controlo e Protec\u00e7\u00f5es, FEUP. Dispon\u00edvel&lt;http://paginas.fe.up.pt/~jpl/textos/EE_Tipos_Aerog.pdf>\n[38]\t- Free2move: Bluetooth Module, Datasheet F2M03GLA, Free2move 2007.&lt;http://www.free2move.se/pdf/F2M03GLA.pdf>\n[39]\t- ELM, FAT File System Module, Dispon\u00edvel&lt;http://elm-chan.org/fsw/ff/00index_e.html>\n[40]\t- PIC24FJ128GA006, Microchip, Datasheet&lt;http://ww1.microchip.com/downloads/en/DeviceDoc/39747d.pdf>\n[41]\t- FT232R USB UART, FTDI Chip, Datasheet&lt;http://www.ftdichip.com/Documents/DataSheets/DS_FT232R_v104.pdf>\n\t\t\nUniversidade de Aveiro\t151\t\n[42]\t- MAX6608 Low-Voltage Analog Temperature Sensors, Maxim, Datasheet&lt;http://datasheets.maxim-ic.com/en/ds/MAX6607-MAX6608.pdf>\n[43]\t- ADM696 Microprocessor Supervisory Circuits, Analog Device, Datasheet&lt;http://www.analog.com/static/imported-files/data_sheets/ADM696_697.pdf>\n[44]\t- REG103GA-33, Texas Instruments, Datasheet&lt;http://www.ti.com/lit/gpn/reg103-33>\n[45]\t- TPS6013 Charge Pump, Texas Instruments, Datasheet\n<http://www.ti.com/lit/gpn/tps60130>\n[46]\t- TL2575-05 VOLTAGE REGULATORS, Texas Instruments, Datasheet&lt;http://focus.ti.com/lit/ds/symlink/tl2575-05.pdf>\n[47]\t- BQ24002 LI-ION Charge Management, Texas Instruments, Datasheet&lt;http://focus.ti.com/lit/ds/symlink/bq24002.pdf>\n[48]\t- 20kW Wind Turbine Generator, Liten Windpower Co., Ltd; Dispon\u00edvel&lt;http://www.wind-turbine.cn/20kW-wind-turbine-generator.htm>\n[49]\t- Olimex, PIC-MICRO-WEB, Dispon\u00edvel&lt;http://www.olimex.com/dev/pic-micro-web.html>\n[50]\t- Shuhui Li, Donald C. Wunsch, Edgar A. O\u2019Hair, and Michael G. Giesselmann, \"Using neural networks to estimate wind turbine power generation\" IEEE Trans. ON ENERGY CONVERSION, VOL. 16, NO. 3, Sep. 2001\n\t\t\nUniversidade de Aveiro\t152\t\nANEXO A - Parques E\u00f3licos em \u201coffshore\"\nEm seguida s\u00e3o apresentados os v\u00e1rios parques e\u00f3licos em \"offshore\" que est\u00e3o em opera\u00e7\u00e3o, juntamente com os que est\u00e3o a ser instalados e os que est\u00e3o planeados at\u00e9 2015, em alguns dos principais produtores de energia e\u00f3lica em \"offshore\" [3] [4].\nB\u00e9lgica\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nThornton Bank phase 1\tOff Zeebrugge\t30\t6\t2008\n\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nThornton Bank phase 2\tOff Zeebrugge\t90\t18\t2010\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nThornton Bank phase 3\tOff Zeebrugge\t180\t-\t2012\nBligh Bank\tOff Zeebrugge\t330\t-\t2010\nBank Zonder Naam phase 1\tOff Zeebrugge\t72\t-\t2012\nBank Zonder Naam phase 2\tOff Zeebrugge\t144\t-\t2014\nTabela A.1 - Energia E\u00f3lica em \u2018\u2018Offshore\u2019\u2019 instalada na B\u00e9lgica [EWEA]\nDinamarca\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nVindeby\tBtesenborg Odde, NW off Vindeby, Lolland\t4.95\t11\t1991\nTuno Knob\toff Aarhus, Kattegat Sea\t5\t10\t1995\nMiddelgrunden\tOresund, east of Copenhagen harbour\t40\t20\t2001\nHorns Rev\tBl\u00e2vandshuk, Baltic Sea\t160\t80\t2002\nNysted Havmollepark\tR0dsand, Lolland\t165.6\t72\t2003\nSamso\tPaludans Flak, South of Sams0\t23\t4\t2003\nFrederikshavn\tFrederikshavn Harbour\t10.6\t\t2003\nR0nland\tLim fjord, off Ronland peninsula\t17.2\t8\t2003\n\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nHorns Rev II\tBl\u00e2vandshuk, Baltic Sea\t200\t10 a 18\t2009\nNysted Havmollepark II\t9km off Rodsand, Lolland in the Baltic Sea\t200\t6 a 9\t2010\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nSprogo\tOff Sprogo\t150\t\t2009\nDjursland-Anholt\tBetween east Jutland and Anholt in the Kattegat\t15\t-\t2012\nGedser Rev\tOff Falster\t207\t\t-\nHorns Rev II Test Site\tBl\u00e2vandshuk, Baltic Sea (10km W of Horns Rev)\t15\t-\t-\nRodsand II (Nysted II)\t9km off Rodsand, Lolland in the Baltic Sea\t21\t-\t-\nRodsand II (Nysted II) Test Site\t9km off Rodsand, Lolland in the Baltic Sea\t400\t-\t-\nTabela A.2 - Energia E\u00f3lica em \"Offshore\" instalada na Dinamarca [EWEA]\nReino Unido\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nBarrow\t7km Walney Island\t90\t30\t2006\nBeatrice\tBeatrice Oilfield, Moray Firth\t10\t2\t2007\nBlyth Offshore\t1km Blyth Harbour\t3.8\t2\t2000\nBurbo Bank\t5.2km Crosby\t90\t25\t2007\nKentish Flats\t8.5km offshore from Whitstable\t90\t30\t2005\nNorth Hoyle\t7.5km Prestatyn &amp; Rhyl\t60\t30\t2003\nScroby Sands\t3km NE Great Yarmouth\t60\t30\t2004\n\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nInner Dowsing\t5.2km Ingoldmells\t90\t27\t\nLynn\t5.2km Skegness\t97\t30\t\nRyhl Flats\t8km Abergele\t90\t25\t-\nSolway Firth/\t9.5km Maryport/\t90\t30\t-\nRobin Rigg A\t8.5km off Rock Cliffe\t\t\t\nSolway Firth/\t9.5km Maryport/\t90\t30\t-\nRobin Rigg B\t\t\t\t-\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nAberdeen Offshore Windfarm\tN of Aberdeen Harbour\t115\t-\t-\nGwynt y Mor\tN of Wales\t750\t\t-\nDocking Shoal\tOff Skegness/Hunstanton, Greater Wash\t500\t-\t-\nDudgeon East\tOff Cromer, Greater Wash\t300\t\t-\nHumber Gateway\tOff Spurn Head, Greater Wash\t300\t\t-\nLincs\tOff Skegness, Greater Wash\t250\t\t-\nLondon Array East\tThames Estuary, London\t475\t-\t-\nLondon Array West\tThames Estuary, London\t525\t-\t-\nRace Bank\tGreater Wash\t300\t\t-\nShell Flat (Cirrus Array)\tOff Cleveleys, Morecambe Bay\t270\t-\t-\nSheringham Shoal\tOff the Norfolk Coast in the Greater Wash\t315\t-\t-\nWalney phase 2\tOff Walney Island\t450\t\t-\nWest Duddon\tOff Walney Island\t500\t\t-\nWestermost Rough\tN of Spurn Head\t240\t-\t-\nTabela A.3 - Energia E\u00f3lica em \"Offshore\u201d instalada no Reino Unido [EWEA]\nHolanda\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nOffshore Wind Farm Egmond aan Zee (OWEZ)\tEgmond aan Zee\t108\t36\t2006\n\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nOffshore Wind Q7\tIjmuiden\t120\t60\t2006\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nScheveningen Buiten\tOff Scheveningen\t300\t-\t2011\nTromp\tOff Ijmuiden\t1150\t\t2012\nRuyter\tOff Groingen\t514\t\t2012\nWest Rijn\tOff schevingen\t284\t-\t2012\nTabela A.4 - Energia E\u00f3lica em \"Offshore\" instalada na Holanda [EWEA]\nSu\u00e9cia\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nBockstigen\tGotland\t2.8\t5\t1998\nUtgrunden I\tKalmarsund\t10.5\t7\t2001\nYttre Stengrund\tKalmarsund\t10.0\t5\t2002\nLillgrund\tMalmo\t110.0\t48\t2007\n\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nG\u00e2sslingegrund\tV\u00e2nern\t30\t10\t2009\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nFinngrunden\tBaltic sea\t1050\t\t\nK\u00e2rehamn\tOland\t50\t\t\nKlasarden\tOff Nasudden, Gotland\t48\t\t\nKriegers Flak II\tNW of island of Rugen, Baltic Sea\t640\t-\t-\nSkottarevet\tKattegatt, Falkenberg\t120\t\t\nSodra Midsjobanken\tMidsjobanken\t900\t-\t-\nTrolleboda (Karlskrona)\tKalmarsund\t180\t-\t-\nUtgrunden I\tMidsjobanken, Kalmar Straight\t86.4\t-\t-\nTabela A.5 - Energia E\u00f3lica em \"Offshore\u201d instalada na Su\u00e9cia [EWEA]\nIrlanda\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nArklow Bank\toff Arklow, Co Wicklow\t25.2\t7\t2004\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nArklow Bank phase 2\tArklow Bank, off Arklow, Co Wicklow\t118.8\t-\t-\nCodling Wind Park phase 1\tE. coast between Greystones and Wicklow\t200\t-\t-\nCodling Wind Park phase 2\tE. coast between Greystones and Wicklow\t300\t-\t-\nKish and Bray Banks\tOff Wicklow, Dublin Bay\t48\t-\t-\nOriel Windfarm (Dundalk)\tSE of Dundalk\t330\t-\t-\nTabela A.6 - Energia E\u00f3lica em \"Offshore\" instalada na Irlanda [EWEA]\nNorway\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nFloating Hywind\tOff Karmoy\t3\t1\t2009\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nHavsul 1\tOff More and Romsdal\t350\t\t\nSiragrunnen\tS of Stavanger\t200\t-\t-\nTabela A.7 - Energia E\u00f3lica em \"Offshore\u201d instalada na Noruega [EWEA]\nIt\u00e1lia\t\t\t\t\nProjectos em opera\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nBrindisi\tPuglia\t0.08\t1\t2008\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nMolise\tOff Termoli\t162\t\t\nSicily\tGulf of Gela, 5.5km off Sicily\t575\t-\t-\nTabela A.8 - Energia E\u00f3lica em \"Offshore\u201d instalada na It\u00e1lia [EWEA]\nAlemanha\t\t\t\t\nProjectos em constru\u00e7\u00e3o\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nAlpha Ventus\tOff the island of Borkum\t60\t12\t2009\nBaltic 1 (Rostock)\tOff Mecklenburg\t52.5\t\t2009\nBorkum Riffgat\tNW of island of Borkum\t220\t44\t2012\nBARD\tOff the island of Borkum\t400\t80\t2012\n\t\t\t\t\nProjectos planeados at\u00e9 2015\tLocaliza\u00e7\u00e3o\tCapacidade (MW)\tAerogeradores\tAno de Instala\u00e7\u00e3o\nAmrumbank West\tSW of Amrum\t400\t\t\nArkona-Becken S\u00fcdost phase 1\tSE of Arkona basin Baltic Sea\t400\t-\t-\nAusterngrund\tNorth Sea\t400\t\t\nBeltsee\tNW of Rostock\t415\t\t\nBorkum Riffgrund phase 1\tOff the island of Juist\t231\t-\t\nBorkum Riffgrund phase 2\tOff the island of Juist\t515\t-\t-\nBorkum Riffgrund West phase 1\t45km NW of Borkum\t400\t-\t-\nBorkum West phase 2\t45km N of island of Borkum\t400\t-\t\nButendiek\tButendiek, W of Sylt\t300\t\t\nNordergr\u00fcnde\tJade-Weser estuary\t90\t\t\nNordlicher Grund phase 1\tW of Sylt\t309\t-\t-\nNordsee Ost phase 1\tOff Helgoland\t400\t-\t-\nDanTysk phase 1\tDan-Tysk\t400\t\t\nDeutsche Bucht\tNorth Sea\t400\t\t\nGEOFReE\tBay of Lubeck\t25\t\t\nGlobaltech 1 phase 1\t102 km North of Helgoland\t400\t-\t-\nGodewind phase 1\tNW of Helgoland\t400\t\t\nHe Dreiht\t75km N of island of Borkum\t400\t\t\nHochsee Windpark Nordsee phase 1\t75km N of island of Borkum\t400\t-\t-\nKriegers Flak I phase 1\tBaltic Sea\t183.6\t-\t-\nKriegers Flak I phase 2\tBaltic Sea\t145\t-\t-\nNorth Sea Windpower phase 1\tN of island of Juist\t400\t-\t-\nSandbank 24 phase 1\t120km W of island of Sylt\t240\t-\t-\nSky 2000\tBay of Lubeck\t150\t\t-\nVentotec Nord 1 phase 1\tNorth Sea\t150\t-\t-\nVentotec Nord 1 phase 2\tNorth Sea\t450\t-\t-\nVentotec Nord 2 phase 1\tNorth Sea\t150\t-\t-\nVentotec Ost 2 phase 1\tNE of Ruegen\t150\t-\t-\nTabela A.9 - Energia E\u00f3lica em \u201cOffshore\" instalada na Alemanha[EWEA]\n4.000\nL 40.000\n2,000\nL 20,000\n\u25a0 Annual installation\nAnnual installation (Ref. scenario)\n\u25a0\tCumulative installation\n\u25a0\tCumulative installation (Ref. scenario)\n.0\n2008 2010 2020 2030\n2000 2002\t2004\t2006\n120,000\n100,000\n12,000\n10.000\n8.000\n80,000\nGO.000\nLU\no\no u\nFigura A.1 - Desenvolvimento da energia e\u00f3lica \"offshore\" na UE 1998-2008 e previs\u00e3o at\u00e9 2030 [EWEA]\nGermany 9.5MW 0.64%\nU.K. 590.8MW 39.76%\nNetherlands 246.8MW 16.61%\nItaly 0.08MW 0.01%\nDenmark 426.35MW 28.69%\nFinland 24MW 1.62%\nSweden 133.25MW 8.97%\nIreland 25.2MW 1.7%\nBelgium 30MW 2.02%\nFigura A.2- Total de energia e\u00f3lica \"offshore\" instalada at\u00e9 Novembro 2008 [EWEA]\nFinland 1330MW 4.31%\nDenmark 1443.35MW 4.67%\nNorway 553MW 1.79%\nPoland 533MW 1.73%\nIreland 1022MW 3.31%\nSweden 3237.65MW 10.48%\nItaly 737.08MW 2.39%.\nFigura A.3 - Total de energia e\u00f3lica \"offshore\" prevista at\u00e9 2015 [EWEA]\nB.1Descri\u00e7\u00e3o dos Casos de Utiliza\u00e7\u00e3o\nB.1.1 CaU10 Or\u00e7amentar Sistema E\u00f3lico\nNome:\tCaU10 Or\u00e7amentar Sistema E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tNegociar sistema e\u00f3lico de modo a ser economicamente o mais vi\u00e1vel como objectivo de ser instalado para produ\u00e7\u00e3o de energia el\u00e9ctrica\nActores:\tAdministrador, Fabricante/Vendedor\nPr\u00e9-condi\u00e7\u00f5es:\tFabricante/Vendedor de Aerogeradores e componentes e\u00f3licas\nRequisitos especiais:\tO pre\u00e7o do Aerogerador ser o economicamente melhor em rela\u00e7\u00e3o aos pre\u00e7os de outros Fabricantes/Vendedores de Aerogeradores\nAspectos em aberto:\tO Fabricante/Vendedor realizar um estudo do local mais apropriado para a instala\u00e7\u00e3o do Aerogerador, qual ser\u00e1 a previs\u00e3o da produ\u00e7\u00e3o e do retorno do investimento\nTabela B.10 - Tabela de descri\u00e7\u00e3o do CaU10 Or\u00e7amentar Sistema E\u00f3lico.\nB.1.2 CaU11 Vender Sistema E\u00f3lico\nNome:\tCaU11 Vender Sistema E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tAdquirir Aerogerador e restantes componentes com o objectivo de ser instalado para produ\u00e7\u00e3o de energia el\u00e9ctrica\nActores:\tAdministrador, Fabricante/Vendedor\nPr\u00e9-condi\u00e7\u00f5es:\tFabricante/Vendedor de Aerogeradores e componentes e\u00f3licas\nRequisitos especiais:\tO pre\u00e7o do Aerogerador ser o economicamente melhor em rela\u00e7\u00e3o aos pre\u00e7os de outros Fabricantes/Vendedores de Aerogeradores\nAspectos em aberto:\tO Fabricante/Vendedor ser respons\u00e1vel pela instala\u00e7\u00e3o do sistema e\u00f3lico\nTabela B.11 - Tabela de descri\u00e7\u00e3o do CaU11 Vender Sistema E\u00f3lico.\nB.1.3 CaU12 Contratar Respons\u00e1vel Instala\u00e7\u00e3o\nNome:\tCaU12 Contratar Respons\u00e1vel Instala\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tGarantir um respons\u00e1vel para instalar de todas as componentes de um sistema e\u00f3lico necess\u00e1rias \u00e0 produ\u00e7\u00e3o de energia el\u00e9ctrica\nActores:\tAdministrador, Fabricante/Vendedor, T\u00e9cnico de Instala\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tTer sido adquirido um Aerogerador e todas as restantes componentes de um sistema\nNome:\tCaU12 Contratar Respons\u00e1vel Instala\u00e7\u00e3o\nE\u00f3lico\t\nRequisitos\tO respons\u00e1vel para instalar o sistema ter conhecimentos necess\u00e1rios para o fazer e ter\nespeciais:\ttodo o material (ex: grua)\nAspectos em aberto:\t\nTabela B.12 - Tabela de descri\u00e7\u00e3o do CaU12 Contratar Respons\u00e1vel Instala\u00e7\u00e3o.\nB.1.4 CaU13 Estudo do local de Instala\u00e7\u00e3o\nNome:\tCaU13 Estudo do local de Instala\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tGarantir o melhor local para instalar de todas as componentes de um sistema e\u00f3lico de modo a aumentar a produ\u00e7\u00e3o de energia el\u00e9ctrica\nActores:\tAdministrador/Cliente, Fabricante/Vendedor, T\u00e9cnico de Instala\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tTer sido contratado um respons\u00e1vel para instalar o Aerogerador e as restantes componentes de um sistema E\u00f3lico\nRequisitos especiais:\tTer sido feito um estudo prolongado do comportamento do tempo em diferentes locais para verificar os v\u00e1rios potenciais e\u00f3licos\n\tAnalisar o comportamento do vento para caracterizar o potencial e\u00f3lico do local\nAspectos em aberto:\tO estudo englobar mais do que um determinado local, com objectivo de a decis\u00e3o da viabilidade da instala\u00e7\u00e3o ser tomada com o maior conhecimento poss\u00edvel.\nTabela B.13 - Tabela de descri\u00e7\u00e3o do CaU13 Estudo do local de Instala\u00e7\u00e3o\t\nB.1.5 CaU14 Instalar Sistema E\u00f3lico\nNome:\tCaU14 Instalar Sistema E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tInstala\u00e7\u00e3o de todas as componentes de um sistema e\u00f3lico necess\u00e1rias \u00e0 produ\u00e7\u00e3o de energia el\u00e9ctrica\nActores:\tT\u00e9cnico de Instala\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tTer sido adquirido um Aerogerador e as restantes componentes de um sistema E\u00f3lico Ter sido contratado uma grua para montar o Aerogerador O local de instala\u00e7\u00e3o ter um potencial e\u00f3lico elevado e atractivo para o neg\u00f3cio\nRequisitos\tO t\u00e9cnico de instala\u00e7\u00e3o ter sido contratado\nespeciais:\tO t\u00e9cnico de Instala\u00e7\u00e3o ter conhecimento necess\u00e1rio para a instala\u00e7\u00e3o do sistema. O sistema deve ser testado antes de ser dado apto para funcionamento.\nAspectos em aberto:\t-\nTabela B.14 - Tabela de descri\u00e7\u00e3o do CaU14 Instalar Sistema E\u00f3lico.\t\nB.1.6 CaU15 Documenta\u00e7\u00e3o do Sistema E\u00f3lico\nNome:\tCaU15 Documenta\u00e7\u00e3o do Sistema E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tRegistar todas as componentes de um sistema e\u00f3lico de modo a poder ser consultado posteriormente\nActores:\tAdministrador/Cliente, T\u00e9cnico de Instala\u00e7\u00e3o, Fabricante/Vendedor\nPr\u00e9-condi\u00e7\u00f5es:\tTer sido instalado um Aerogerador e as restantes componentes de um sistema E\u00f3lico Todo o sistema ter sido testado e estar operacional\nRequisitos especiais:\tDeixar claro quais as componentes do sistema desde o seu modelo, tempo de vida \u00fatil e as caracter\u00edsticas mais importantes bem como todos os procedimentos de instala\u00e7\u00e3o e futuras manuten\u00e7\u00f5es de modo a permitir ser consultado e n\u00e3o deixar ambiguidades relativamente ao Sistema\n\tEste documento importante e imprescind\u00edvel e deve ser feito pelo Instalador e entregue ao Administrador aquando do pagamento da instala\u00e7\u00e3o\nAspectos em aberto:\t-\nTabela B.15 - Tabela de descri\u00e7\u00e3o do CaU15 Documenta\u00e7\u00e3o do Sistema E\u00f3lico.\nB.1.7 CaU16 Verificar funcionamento do Sistema E\u00f3lico\nNome:\tCaU16 Verificar funcionamento do Sistema E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tVerificar a instala\u00e7\u00e3o do sistema E\u00f3lico de modo a detectar falhas no funcionamento das v\u00e1rias componentes deste sistema regularmente\nActores:\tT\u00e9cnico de Instala\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tA instala\u00e7\u00e3o do sistema estar conclu\u00edda\nRequisitos especiais:\tO Sistema deve estar ligado durante algum tempo, acompanhado pelo respons\u00e1vel, de modo a verificar poss\u00edveis falhas antes de este ser dado como apto e de ser entregue ao Administrador/Cliente\nAspectos em aberto:\tO Fabricante/Vendedor deve ser responsabilizado pelo mau funcionamento de alguma componente, que deve ser trocada por uma nova\nTabela B.16 - Tabela de descri\u00e7\u00e3o do CaU16 Verificar funcionamento do Sistema E\u00f3lico.\nB.1.8 CaU17 Registar novo Parque E\u00f3lico\nNome:\tCaU17 Registar novo Parque E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir ter registo dos diferentes parques e\u00f3licos instalados\nActores:\tAdministrador, Sistema de Informa\u00e7\u00e3o\nNome:\nCaU17 Registar novo Parque E\u00f3lico\nPr\u00e9-condi\u00e7\u00f5es:\tO sistema de informa\u00e7\u00e3o e a base de dados estarem correctamente criados e\ninterligados entre si, de modo a poder correr o programa e adicionar esta informa\u00e7\u00e3o do sistema na base de dados\nRequisitos especiais:\nAspectos em aberto:\nTabela B.17 - Tabela de descri\u00e7\u00e3o do CaU17 Registar novo Parque E\u00f3lico.\nB.1.9 CaU18 Registar novo Modelo de Aerogerador\nNome:\tCaU18 Registar novo Modelo de Aerogerador\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir registar os dados dos diferentes Modelos de Aerogeradores instalados nos Parques E\u00f3licos\nActores:\tAdministrador, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO sistema de informa\u00e7\u00e3o e a base de dados estarem correctamente criados e interligados entre si, de modo a poder correr o programa e adicionar esta informa\u00e7\u00e3o do sistema na base de dados\nRequisitos especiais:\tSaber os dados do modelo do Aerogerador para introduzir na base de dados atrav\u00e9s do sistema de informa\u00e7\u00e3o\nAspectos em aberto:\t-\nTabela B.18 - Tabela de descri\u00e7\u00e3o do CaU18 Registar novo Modelo de Aerogerador.\nB.1.10CaU19 Gerir comportamento do Parque E\u00f3lico\nNome:\tCaU19 Gerir comportamento do Parque E\u00f3lico\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir que o Parque E\u00f3lico mantenha as melhores condi\u00e7\u00f5es de funcionamento com objectivo de maximizar a produ\u00e7\u00e3o de energia el\u00e9ctrica\nActores:\tAdministrador, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tConsultar regularmente o hist\u00f3rico de estado e produ\u00e7\u00e3o dos Aerogeradores Todos os Aerogeradores devem estar em condi\u00e7\u00f5es de funcionamento caso contr\u00e1rio deve ser pedido a manuten\u00e7\u00e3o do mesmo para permitir aumentar a produ\u00e7\u00e3o de energia\nRequisitos especiais:\tTodo o sistema de recolha (monitoriza\u00e7\u00e3o) de dados e de disponibiliza\u00e7\u00e3o da informa\u00e7\u00e3o deve estar operacional de modo a ser poss\u00edvel a monitoriza\u00e7\u00e3o permitindo gerir o parque e\u00f3lico\nAspectos em aberto:\tEstudo da viabiliza\u00e7\u00e3o de obten\u00e7\u00e3o de mais Aerogeradores\nTabela B.19 - Tabela de descri\u00e7\u00e3o do CaU19 Gerir comportamento do Parque E\u00f3lico.\nNome:\tCaU20 Gerir Sistema de Monitoriza\u00e7\u00e3o e Base de Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir a monitoriza\u00e7\u00e3o dos dados dos sensores instalados nos Aerogeradores\nActores:\tAdministrador, Sistema de Monitoriza\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tSistema de monitoriza\u00e7\u00e3o estar correctamente instalado A base de dados estar projectada, instalada e seja poss\u00edvel aceder\nRequisitos\tConhecimento do funcionamento do Sistema de Monitoriza\u00e7\u00e3o\nespeciais:\tEstudo de novos pressupostos a serem instalados com objectivo de evolu\u00e7\u00e3o do sistema\nAspectos em aberto:\tEvolu\u00e7\u00e3o e desenvolvimento do mesmo Sistema de modo a recolher mais informa\u00e7\u00e3o e esta estar cada vez mais coincidente com a realidade\nTabela B.20 - Tabela de descri\u00e7\u00e3o do CaU19 Gerir Sistema de Monitoriza\u00e7\u00e3o e Base de Dados.\nB.1.12CaU21 Desenvolvimento do Sistema de Monitoriza\u00e7\u00e3o\nNome:\tCaU21 Desenvolvimento do Sistema de Monitoriza\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir melhorar a monitoriza\u00e7\u00e3o dos dados dos sensores instalados nos Aerogeradores Permitir recolher novos dados consoante a exist\u00eancia de novos requisitos\nActores:\tAdministrador, Sistema de Monitoriza\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tSistema de monitoriza\u00e7\u00e3o estar correctamente instalado e todos os sensores estarem em funcionamento.\nRequisitos\tConhecimento do funcionamento do Sistema de Monitoriza\u00e7\u00e3o e a exist\u00eancia de novos\nespeciais:\trequisitos em rela\u00e7\u00e3o aos existentes\nAspectos em aberto:\tInstala\u00e7\u00e3o de novos sensores ou a altera\u00e7\u00e3o dos sensores instalados\nTabela B.21 - Tabela de descri\u00e7\u00e3o do CaU21 Desenvolvimento do Sistema de Monitoriza\u00e7\u00e3o.\nB.1.13CaU22 Desenvolvimento do Sistema de Informa\u00e7\u00e3o\nNome:\tCaU22 Desenvolvimento do Sistema de Informa\u00e7\u00e3o\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir consultar os dados do sistema e\u00f3lico e adicionar novos\nActores:\tAdministrador, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tAltera\u00e7\u00f5es no sistema de informa\u00e7\u00e3o e na base de dados de modo a armazenar novas informa\u00e7\u00f5es\nNome:\tCaU22 Desenvolvimento do Sistema de Informa\u00e7\u00e3o\nRequisitos especiais:\tAltera\u00e7\u00e3o dos interfaces do sistema de informa\u00e7\u00e3o de acordo com as altera\u00e7\u00f5es na base de dados\n\tAltera\u00e7\u00e3o de algum interface com objectivo de ter utiliza\u00e7\u00e3o mais amig\u00e1vel\nAspectos em aberto:\tMudan\u00e7a de tecnologia de suporte do sistema de informa\u00e7\u00e3o\nTabela B.22 - Tabela de descri\u00e7\u00e3o do CaU22 Desenvolvimento do Sistema de Informa\u00e7\u00e3o.\nB.1.14CaU23 Pedir/Contratar Manuten\u00e7\u00e3o do Sistema\nNome:\tCaU23 Pedir/Contratar Manuten\u00e7\u00e3o do Sistema\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tRepor o funcionamento correcto e optimizado do Sistema E\u00f3lico\nActores:\tAdministrador, T\u00e9cnico de Manuten\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO sistema aparentar ter alguma anomalia ou a tempo de vida \u00fatil da alguma componente do sistema ter chegado ao fim\nRequisitos especiais:\tO t\u00e9cnico de manuten\u00e7\u00e3o deve receber a notifica\u00e7\u00e3o pelo Administrador (ou pelo pr\u00f3prio sistema se j\u00e1 tiver esta op\u00e7\u00e3o implementada) e deve resolver o problema o mais r\u00e1pido poss\u00edvel porque quanto mais tempo o sistema tiver desligado menos energia produz A manuten\u00e7\u00e3o deve ter tempo limite e o t\u00e9cnico de manuten\u00e7\u00e3o deve ser responsabilizado pelo prolongar do tempo da repara\u00e7\u00e3o\nAspectos em aberto:\tO sistema detectar automaticamente o mau funcionamento de alguma componente notificar o sucedido (enviando um email para o Administrador e para um t\u00e9cnico de Manuten\u00e7\u00e3o caso esteja contratado \u00e0 partida e o sistema tiver guardado os seus dados de contacto)\nTabela B.23 - Tabela de descri\u00e7\u00e3o do CaU23 Pedir/Contratar Manuten\u00e7\u00e3o do Sistema.\nB.1.15CaU24 Fazer Manuten\u00e7\u00e3o do Sistema\nNome:\tCaU24 Fazer Manuten\u00e7\u00e3o do Sistema\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tRepor o funcionamento correcto e optimizado do Sistema E\u00f3lico\nActores:\tAdministrador/Cliente, T\u00e9cnico de Manuten\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO t\u00e9cnico respons\u00e1vel por realizar a manuten\u00e7\u00e3o do sistema ter sido contratado\nRequisitos especiais:\tDeve resolver o problema o mais r\u00e1pido poss\u00edvel ao fim de ser contratado porque quanto mais tempo o sistema tiver desligado menos energia produz O sistema deve ser ensaiado antes de ser dado como pronto para voltar a ser ligado A manuten\u00e7\u00e3o deve ter tempo limite e o t\u00e9cnico de manuten\u00e7\u00e3o deve ser responsabilizado pelo prolongar do tempo da repara\u00e7\u00e3o Caso a anomalia que originou uma interrup\u00e7\u00e3o para repara\u00e7\u00e3o persista, deve ser\nNome:\tCaU24 Fazer Manuten\u00e7\u00e3o do Sistema\n\tcontactado novamente o T\u00e9cnico e ser responsabilizado Estes dois pontos devem ver claramente mencionados no contracto com o T\u00e9cnico de Manuten\u00e7\u00e3o\nAspectos em aberto:\tCaso a manuten\u00e7\u00e3o pedida ocorra sem problemas, o t\u00e9cnico contratado poder\u00e1 ser novamente contratado em futuras manuten\u00e7\u00f5es, dependendo da disponibilidade Caso o Administrador/Cliente respons\u00e1vel pelo sistema e\u00f3lico, n\u00e3o tenha ficado completamente agradado com o processo de manuten\u00e7\u00e3o, deve ser contratado um novo t\u00e9cnico para futuras manuten\u00e7\u00f5es\nTabela B.24 - Tabela de descri\u00e7\u00e3o do CaU24 Fazer Manuten\u00e7\u00e3o do Sistema.\nB.1.16CaU25 Recep\u00e7\u00e3o dos Dados\nNome:\tCaU25 Recep\u00e7\u00e3o dos Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir a visualiza\u00e7\u00e3o e o armazenamento do estado do vento e dos Aerogeradores\nActores:\tSistema Monitoriza\u00e7\u00e3o Local\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Monitoriza\u00e7\u00e3o estar a funcionar e ligado correctamente atrav\u00e9s de um fio ou por tecnologia wireless\nRequisitos especiais:\tA fun\u00e7\u00e3o de processamento das tramas recebidas pelo programa servidor do sistema de monitoriza\u00e7\u00e3o deve estar em sintonia com as tramas geradas pelo processo de gera\u00e7\u00e3o das tramas realizado pelo microcontrolador do sistema de monitoriza\u00e7\u00e3o\nAspectos em aberto:\tAlguma altera\u00e7\u00e3o do formato da trama no microcontrolador deve ser repercutida no programa de recep\u00e7\u00e3o do sistema de monitoriza\u00e7\u00e3o\nTabela B.25 - Tabela de descri\u00e7\u00e3o do CaU25 Recep\u00e7\u00e3o dos Dados.\nB.1.17CaU26 Tratamento dos Dados\nNome:\tCaU26 Tratamento dos Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tPermitir o armazenamento do estado do vento e dos Aerogeradores\nActores:\tSistema de Monitoriza\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Monitoriza\u00e7\u00e3o estar a funcionar correctamente e ter recebido as tramas\nRequisitos especiais:\tO Sistema de Monitoriza\u00e7\u00e3o ap\u00f3s ter recebido as tramas deve retirar os dados contidos e processa-los de acordo com o tipo de dados (sensor)\n\tEste deve estar ligado a uma Base de Dados previamente programada para receber os e armazenar os dados anteriormente tratados\nAspectos em aberto:\tA falha de liga\u00e7\u00e3o com a Base de Dados dever ser ultrapassada de modo a n\u00e3o existir perda dos dados\nTabela B.26 - Tabela de descri\u00e7\u00e3o do CaU26 Tratamento dos Dados.\t\nB.1.18CaU27 Armazenar os Dados\nNome:\tCaU27 Armazenar os Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tDisponibilizar os dados do estado do vento e dos Aerogeradores para consulta\nActores:\tSistema de Monitoriza\u00e7\u00e3o, Sistema de Informa\u00e7\u00e3o\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Monitoriza\u00e7\u00e3o estar a funcionar correctamente, ter recebido as tramas e ter realizado o tratamento dos dados\n\tO Sistema de Informa\u00e7\u00e3o estar a funcionar correctamente e a base de dados dispon\u00edvel\nRequisitos especiais:\tAp\u00f3s o Sistema de Monitoriza\u00e7\u00e3o ter realizado o tratamento dos dados contidos nas tramas, relativos \u00e0 monitoriza\u00e7\u00e3o, este devem ser armazenados na base de dados\n\tO Sistema de Informa\u00e7\u00e3o deve ser capaz de estabelecer liga\u00e7\u00e3o com a Base de Dados com o objectivo de poder armazenar outras informa\u00e7\u00f5es relevantes para o sistema, atrav\u00e9s do interface com a base de dados\nAspectos em aberto:\tA falha de liga\u00e7\u00e3o com a Base de Dados dever ser ultrapassada de modo a n\u00e3o existir perda dos dados\nTabela B.27 - Tabela de descri\u00e7\u00e3o do CaU27 Armazenar os Dados.\nB.1.19CaU28 Disponibilizar os Dados\nNome:\tCaU28 Disponibilizar os Dados\n\u00c2mbito:\tSistema Eolitor.\nFinalidade:\tConsultar e analisar os dados do estado do vento e dos Aerogeradores\nActores:\tSistema de Informa\u00e7\u00e3o, Administrador, Utilizador\nPr\u00e9-condi\u00e7\u00f5es:\tO Sistema de Monitoriza\u00e7\u00e3o ter armazenado correctamente os dados e o sistema de informa\u00e7\u00e3o estar correctamente programado para ir ler os dados \u00e0 base de dados e disponibiliza-los nas v\u00e1rias interfaces\nRequisitos\tA Base de Dados com os dados armazenados deve estar dispon\u00edvel\nespeciais:\tO Sistema de Informa\u00e7\u00e3o deve ter capacidade de estabelecer a liga\u00e7\u00e3o com a Base de Dados\nAspectos em aberto:\t-\nTabela B.28 - Tabela de descri\u00e7\u00e3o do CaU28 Disponibilizar os Dados.\nB.2Dicion\u00e1rio de Dados\nEntidade: WindFarms\nDescri\u00e7\u00e3o: Entidade que armazena os parques e\u00f3licos\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nname\tNome do Parque E\u00f3lico\tVarchar(50)\tX\nlocation\tLocaliza\u00e7\u00e3o do Parque E\u00f3lico\tVarchar(50)\tX\ndt star\tData de Implementa\u00e7\u00e3o do Parque E\u00f3lico\tDatetime\tX\nnumAeros\tN\u00famero de Aerogeradores do Parque E\u00f3lico\tInteger\t\npowerInstalled\tPot\u00eancia instalada no Parque E\u00f3lico\tDecimal(10,2)\t\nTabela B.29 - Dicion\u00e1rio de Dados - Entidade WindFarms\nEntidade: Aeros\nDescri\u00e7\u00e3o: Entidade que armazena os aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nmodelID\tChave Estrangeira. Referencia a Entidade Models\tInteger\tX\nfarmID\tChave Estrangeira. Referencia a Entidade WindFarms\tInteger\tX\nRef\tReferencia do Aerogerador\tVarchar(50)\tX\nstate\tEstado de funcionamento do Aerogerador\tbit\tX\ndescription\tDescri\u00e7\u00e3o do aerogerador\tVarchar(max)\t\nenergyProd\tEnergia Produzida pelo Aerogerador\tDecimal(10,3)\t\nDt\tData em que o Aerogerador foi instalado no parque e\u00f3lico\tDatetime\tX\nTabela B.30 - Dicion\u00e1rio de Dados - Entidade Aeros\nEntidade: Models\nDescri\u00e7\u00e3o: Entidade que armazena os v\u00e1rios modelos dos aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nmanufactured\tChave Estrangeira. Referencia a Entidade Manufactures\tInteger\tX\nmodel\tNome do Modelo do Aerogerador\tInteger\tX\npowerrate\tValor da pot\u00eancia nominal do Modelo (W)\tInteger\t\npowermax\tValor da pot\u00eancia m\u00e1xima do Modelo (W)\tInteger\t\nvoltout\tValor da tens\u00e3o de sa\u00edda do Modelo (V)\tInteger\t\nspeedstartup\tValor de velocidade inicial do Modelo (m/s)\tInteger\t\nspeedrate\tValor de velocidade nominal do Modelo (m/s)\tInteger\t\nspeedmax\tValor de velocidade m\u00e1xima do Modelo (m/s)\tInteger\t\ncontrolpitch\tIndica se o mecanismo de controlo \u00e9 Picth\tBool\t\nspeedrotor\tValor de velocidade do rotor do Modelo (m/s)\tInteger\t\nnblades\tIndica o n\u00famero de P\u00e1s do Modelo\tInteger\t\nheight\tValor da altura do Modelo (m)\tInteger\t\nweight\tValor do peso do Modelo (kg)\tInteger\t\nprice\tPre\u00e7o do Modelo do Aerogerador\tDecimal(10,2)\t\nTabela B.31 - Dicion\u00e1rio de Dados - Entidade Models\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nname\tNome do fabricante do Aerogerador\tVarchar(50)\tX\nemail\tEmail do fabricante do Aerogerador\tVarchar(50)\tX\nphone\tN\u00famero de telefone do fabricante do Aerogerador\tInteger\t\nTabela B.32 - Dicion\u00e1rio de Dados - Entidade Manufactures\nEntidade: SellEnergy\nDescri\u00e7\u00e3o: Entidade que armazena as v\u00e1rias vendas de energia\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nfarmID\tChave Estrangeira. Referencia a Entidade WindFarms\tInteger\tX\ndt\tData da venda de energia\tDatetime\tX\npricekW\tValor do pre\u00e7o de energia por kW\tInteger\t\nquantity\tValor da quantidade de energia vendida\tInteger\tX\nprice\tValor da venda de energia (\u20ac)\tInteger\tX\nTabela B.33 - Dicion\u00e1rio de Dados - Entidade SellEnergy\nEntidade: Meteo\nDescri\u00e7\u00e3o: Entidade que armazena os v\u00e1rios estados do tempo de cada Aerogerador do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aeros\tInteger\tX\nwindspeed\tValor da velocidade do vento (m/s)\tDecimal(3, 2)\t\nwinddir\tValor da direc\u00e7\u00e3o do vento (\u00b0)\tInteger\t\nwinddir c\tSiglas da direc\u00e7\u00e3o do vento\tChar(2)\t\ntempe\tValor da temperatura (\u00b0)\tDecimal(3, 1)\t\ndt\tData da monitoriza\u00e7\u00e3o do vento\tDatetime\tX\nTabela B.34 - Dicion\u00e1rio de Dados - Entidade Meteo\nEntidade: Productions\nDescri\u00e7\u00e3o: Entidade que armazena os v\u00e1rios estados de produ\u00e7\u00e3o de cada Aerogerador do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aeros\tInteger\tX\naerospeed\tValor da velocidade do Aerogerador (rpm)\tInteger\t\naerodir\tValor da direc\u00e7\u00e3o do Aerogerador\tInteger\t\naerodir c\tSiglas da direc\u00e7\u00e3o do Aerogerador\tChar(2)\t\naerocurrent\tValor da corrente produzida pelo Aerogerador (A)\tDecimal(10, 3)\t\naerovolt\tValor da tens\u00e3o do Aerogerador (V)\tDecimal(10, 3)\t\naeropower\tValor da pot\u00eancia produzida pelo Aerogerador (W)\tDecimal(10, 3)\t\ninvcurrent\tValor da corrente do inversor (A)\tDecimal(10, 3)\t\ndt\tData da monitoriza\u00e7\u00e3o do aerogerador\tDatetime\tX\nTabela B.35 - Dicion\u00e1rio de Dados - Entidade Productions\nEntidade: Payments\nDescri\u00e7\u00e3o: Entidade que armazena os pagamentos dos Aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aeros\tInteger\tX\npaymenttype\tTipo de pagamento do Aerogerador\tVarchar(20)\tX\npaymentstate\tEstado do pagamento do Aerogerador\tVarchar(20)\tX\nprice\tValor do pre\u00e7o do Aerogerador (\u20ac)\tDecimal(10, 2)\tX\ndt\tData do pagamento do Aerogerador\tDatetime\tX\nTabela B.36 - Dicion\u00e1rio de Dados - Entidade Payments\nEntidade: Interruptions\nDescri\u00e7\u00e3o: Entidade que armazena as v\u00e1rias interrup\u00e7\u00f5es dos funcionamento Aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aero\tInteger\tX\nmainID\tChave Estrangeira. Referencia a Entidade Maintenances\tInteger\tX\ndt start\tData de inicio da interrup\u00e7\u00e3o\tDatetime\tX\ndt end\tData de fim da interrup\u00e7\u00e3o\tDatetime\tX\nTabela B.37 - Dicion\u00e1rio de Dados - Entidade Interruptions\nEntidade: Maintenances\ndo sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\ncompanyID\tChave Estrangeira. Referencia a Entidade Companies\tInteger\tX\nmaintype\tTipo de manuten\u00e7\u00e3o ao Aerogerador\tVarchar(50)\tX\ndt\tData de Inicio da manuten\u00e7\u00e3o\tDatetime\tX\ntime\tTempo de demorou a manuten\u00e7\u00e3o (horas)\tInteger\tX\nprice\tValor do pre\u00e7o da manuten\u00e7\u00e3o (\u20ac)\tDecimal(10,2)\tX\nTabela B.38 - Dicion\u00e1rio de Dados - Entidade Maintenances\nEntidade: Companies\nDescri\u00e7\u00e3o: Entidade que armazena as v\u00e1rias Companhias que realizaram a manuten\u00e7\u00e3o dos Aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tNome da companhia que realizou a manuten\u00e7\u00e3o\tVarchar(50)\tX\nemail\tEmail da companhia que realizou a manuten\u00e7\u00e3o\tVarchar(50)\tX\nphone\tTelefone da companhia que realizou a manuten\u00e7\u00e3o\tInteger\t\nTabela B.39 - Dicion\u00e1rio de Dados - Entidade Companies\nEntidade: Pieces\nDescri\u00e7\u00e3o: Entidade que armazena as v\u00e1rias pe\u00e7as dos Aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aero\tInteger\tX\nmodelID\tChave Estrangeira. Referencia a Entidade Models\tInteger\tX\nmainID\tChave Estrangeira. Referencia a Entidade Maintenances\tInteger\tX\ntime\tTempo de funcionamento da pe\u00e7a\tInteger\tX\nTabela B.40 - Dicion\u00e1rio de Dados - Entidade Pieces\nEntidade: ModelPieces\nDescri\u00e7\u00e3o: Entidade que armazena os v\u00e1rio modelos de pe\u00e7as dos Aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nname\tNome do modelo da Pe\u00e7a\tVarchar(30)\tX\nprice\tValor do pre\u00e7o da Pe\u00e7a\tDecimal(5,2)\tX\ntimetolive\tTempo de vida da Pe\u00e7a\tInteger\tX\nTabela B.41 - Dicion\u00e1rio de Dados - Entidade ModelPiece\nEntidade: Logs\nDescri\u00e7\u00e3o: Entidade que armazena os v\u00e1rios Logs do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\nlogID\tChave Estrangeira. Referencia a Entidade LogsTable\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aeros\tInteger\tX\nloginfo\tDescri\u00e7\u00e3o do Log de Sistema\tVarchar(255)\tX\npriority\tPrioridade do Log de Sistema\tInteger\t\ndt\tData da realiza\u00e7\u00e3o do Log\tDatetime\tX\nTabela B.42 - Dicion\u00e1rio de Dados - Entidade Logs\nEntidade: StatisticsAeros\nDescri\u00e7\u00e3o: Entidade que armazena as estat\u00edsticas de produ\u00e7\u00e3o dos v\u00e1ros Aerogeradores do sistema\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aeros\tInteger\tX\nnum\tN\u00famero de entradas da tabela Aeros\tInteger\t\naerospeed\tValor da velocidade do Aerogerador (rpm)\tInteger\t\naerodir\tValor da direc\u00e7\u00e3o do Aerogerador\tInteger\t\naerovolt\tValor da tens\u00e3o do Aerogerador (V)\tDecimal(18, 3)\t\naerocurrent\tValor da corrente produzida pelo Aerogerador (A)\tDecimal(18, 3)\t\naeropower\tValor da pot\u00eancia produzida pelo Aerogerador (W)\tDecimal(18, 3)\t\ninvcurrent\tValor da corrente do inversor (A)\tDecimal(18, 3)\t\ndt\tData de inicio da estat\u00edstica\tDatetime\tX\nTabela B.43 - Dicion\u00e1rio de Dados - Entidade StatisticsAeros\nEntidade: StatisticsMeteos\nDescri\u00e7\u00e3o: Entidade que armazena as estat\u00edsticas do estac\t\to do tempo do sistema\t\nNome\tDescri\u00e7\u00e3o\tValor\tN\u00e3o Nulo\nID\tChave Prim\u00e1ria\tInteger\tX\naeroID\tChave Estrangeira. Referencia a Entidade Aeros\tInteger\tX\nnum\tN\u00famero de entradas da tabela Meteo\tInteger\t\nH Universidade de Aveiro\nwindspeed\tValor da velocidade do vento (m/s)\tDecimal(18, 2)\t\nwinddir\tValor da direc\u00e7\u00e3o do vento (\u00b0)\tInteger\t\ntempe\tValor da temperatura (\u00b0)\tDecimal(18, 1)\t\ndt\tData de inicio da estat\u00edstica\tDatetime\tX\nTabela B.44 - Dicion\u00e1rio de Dados - Entidade StatisticsMeteo\nO m\u00f3dulo do Sistema de Ficheiros FatFs / Tiny-FatFs40 \u00e9 um software livre que est\u00e1 aberto para a educa\u00e7\u00e3o, investiga\u00e7\u00e3o e desenvolvimento, foi utilizado pelo autor para poder utilizar um cart\u00e3o SD para armazenar os dados do sistema de monitoriza\u00e7\u00e3o.\nNeste m\u00f3dulo fazem parte uma camada de fun\u00e7\u00f5es que permite criar o sistema de ficheiros, juntamente com a camada de fun\u00e7\u00f5es de baixo n\u00edvel que permitem aceder ao SD. Neste Anexo ser\u00e1 detalhado algumas das fun\u00e7\u00f5es que pertencem ao Sistema de Ficheiros FatFS.\nC.1 - Hardware\nC.1.1 - Liga\u00e7\u00f5es\nA comunica\u00e7\u00e3o entre a Sistema de Monitoriza\u00e7\u00e3o e o Cart\u00e3o MMC / SD \u00e9 realizada utilizando o protocolo SPI. Existem dois interruptores ligados ao socket, detec\u00e7\u00e3o do cart\u00e3o e protec\u00e7\u00e3o da escrita no cart\u00e3o. Os cart\u00f5es MMC / SD s\u00f3 pode ser utilizado em sistemas de 3,3 V.\n8. DAT1--1\n7. DATO/DO\n6. Vss2---\n5. CLK ---\n4. Vcc ---\n3. Vss1---\n2. CMD/DI\u2014\n1. DAT3/CS-\nFigura C.4 - Liga\u00e7\u00f5es dos cart\u00f5es MMC / SD\nSDC\nMMC\n7. DAT/DO\n6. Vss2\n5. CLK\n4. Vcc\n3. Vss1\n2. CMD/DI\n1. RES/CS\nC.2 - Software\nO software \u00e9 implementado em camadas e para descreve-lo vamos partir da camada f\u00edsica para a camada de interface.\n40 Sistema de Ficheiros FatFS dispon\u00edvel em httD://elm-chan.org/fsw/ff/00index e.html\nFigura C.5 - Camadas do Modulo de Sistema de Ficheiros\nC.2.1 - Camada F\u00edsica\nC.2.1.1 - Protocolo\nO protocolo de comunica\u00e7\u00e3o utilizado neste projecto MMC / SD \u00e9 o protocolo SPI. Este protocolo tem uma estrutura de dados de comandos. Os comandos s\u00e3o enviados para o cart\u00e3o MMC / SD pelo microcontrolador e este recebe uma resposta ou dados. Para acelerar a transfer\u00eancia de dados o cart\u00e3o MMC / SD tamb\u00e9m suporta ciclos m\u00faltiplos de blocos de 512 Butes de dados.\nO SPI \u00e9 um modo alternativo de funcionamento que define a utiliza\u00e7\u00e3o dos cart\u00f5es de mem\u00f3ria MMC / SD sem interface nativa. O protocolo de comunica\u00e7\u00e3o SPI \u00e9 bastante simples comparado com o modo nativo. O MMC / SD podem ser associadas a v\u00e1rios microcontroladores atrav\u00e9s de uma interface gen\u00e9rica SPI. Assim, o modo SPI \u00e9 adequado para aplica\u00e7\u00f5es de baixo custo.\nC.2.1.2 - Comandos\nUm comando tem o tamanho de 6 bytes e recebe uma resposta positiva, se for aceite. A sequ\u00eancia de comando tem um comando com um tamanho de 1 byte seguido com 4 bytes argumento e 1 byte de CRC.\nComando\tArgumento\t\tCRC\nCMD[7..0]\tARG[31..24]\tARG[23..16]\tARG[15..8]\tARG[7..0]\tCRC\nA lista dos comandos executados neste projecto est\u00e1 listada abaixo:\nComando\tValor SPI\tDescri\u00e7\u00e3o\nCMD0\t(0x40+0)\tGO IDLE STATE\nCMD1\t(0x40+1)\tSEND OP COND (MMC)\nACMD41\t(0xC0+41)\tSEND OP COND (SDC)\nCMD8\t(0x40+8)\tSEND IF COND\nCMD9\t(0x40+9)\tSEND CSD\nCMD10\t(0x40+10)\tSEND CID\nCMD12\t(0x40+12)\tSTOP TRANSMISSION\nACMD13\t(0xC0+13)\tSD STATUS (SDC)\nCMD16\t(0x40+16)\tSET BLOCKLEN\nCMD17\t(0x40+17)\tREAD SINGLE BLOCK\nCMD18\t(0x40+18)\tREAD MULTIPLE BLOCK\nCMD23\t(0x40+23)\tSET BLOCK COUNT (MMC)\nACMD23\t(0xC0+23)\tSET WR BLK ERASE COUNT (SDC)\nCMD24\t(0x40+24)\tWRITE BLOCK\nCMD25\t(0x40+25)\tWRITE MULTIPLE BLOCK\nCMD55\t(0x40+55)\tAPP CMD\nCMD58\t(0x40+58)\tREAD OCR\nTabela C.45 - Lista de Comandos\nC.2.2 - Camada Disk I/O\nA camada de Disk I/O \u00e9 composta por fun\u00e7\u00f5es que acedem directamente com a camada f\u00edsica do cart\u00e3o MMC/ SD. Deste m\u00f3dulo fazem parte as seguintes fun\u00e7\u00f5es.\n-DSTATUS disk_imtialize (void)\nEsta fun\u00e7\u00e3o \u00e9 utilizada aquando do progresso de inicializa\u00e7\u00e3o do disco e retorna o estado disco ap\u00f3s a inicializa\u00e7\u00e3o.\n-DSTATUS disk_status (BYTE);\nEsta fun\u00e7\u00e3o retorna o estado actual do disco. O estado do disco \u00e9 permanente actualizado com actualiza\u00e7\u00f5es a cada 10ms. O disco pode ter 3 estados diferentes:\n#\tdefine STA_NOINIT\t0x01\n#\tdefine STA_NODISK\t0x02\n#\tdefine STA_PROTECT\t0x04\n/ * A unidade n\u00e3o inicializada * /\n/ * Socket vazio* /\n/ * Escrita protegida * /\n-DRESULT disk_read (BYTE, BYTE*, DWORD, BYTE);\nEsta fun\u00e7\u00e3o \u00e9 utilizada para ler os dados de um armazenamento na posi\u00e7\u00e3o em que o ponteiro para a mem\u00f3ria os dados est\u00e3o armazenados.\n-DRESULT disk_write (BYTE, const BYTE*, DWORD, BYTE);\nA fun\u00e7\u00e3o escreve os dados para armazenamento.\n-DRESULT disk_ioctl (BYTE, BYTE, void*);\nEsta fun\u00e7\u00e3o processa diversas fun\u00e7\u00f5es, que s\u00e3o mais espec\u00edficas sobre o armazenamento que \u00e9 utilizado.\nC.2.3 - Camada Transport (FatFS)\nA vers\u00e3o do m\u00f3dulo usada neste projecto da Elm Charg (http://elmchan. org/fsw/ff/00index_e.html) \u00e9 \u201cR0.07a\u201d.\nA estrutura do sistema de ficheiros FatFS \u00e9 a seguinte:\n/* File system object structure */ typedef struct _FATFS {\nWORD\tid;\t/* File system mount ID */\nWORD\tn_rootdir;\t/* Number of root directory entries */\nDWORD\twinsect;\t/* Current sector appearing in the win[] */\nDWORD\tsects_fat;\t/* Sectors per fat */\nDWORD\tmax_clust;\t/* Maximum cluster# + 1 */\nDWORD\tfatbase;\t/* FAT start sector */\nDWORD\tdirbase;\t/* Root directory start sector (cluster# for FAT32) */\nDWORD\tdatabase;\t/* Data start sector */\n#if !_FS_READONLY\t\t\nDWORD\tlast_clust;\t/* Last allocated cluster */\nDWORD\tfree_clust;\t/* Number of free clusters */\n#if _USE_FSINFO\t\t\nDWORD\tfsi_sector;\t/* fsinfo sector */\nBYTE\tfsi_flag;\t/* fsinfo dirty flag (1:must be written back) */\nBYTE\tpad2;\t\n#endif\t\t\n#endif\t\t\nBYTE\tfs_type;\t/* FAT sub type */\nBYTE\tcsize;\t/* Number of sectors per cluster */\n#if S_MAX_SIZ > 512U\t\t\nWORD\ts_size;\t/* Sector size */\n#endif\t\t\nBYTE\tn_fats;\t/* Number of FAT copies */\nBYTE\tdrive;\t/* Physical drive number */\nBYTE\twinflag;\t/* win[] dirty flag (1:must be written back) */\nBYTE\tpad1;\t\nBYTE\twin[S_MAX_SIZ];\t/* Disk access window for Directory/FAT */\n} FATFS;\nANEXO D - Projectos Visual Studio\nNo seguimento deste anexo s\u00e3o expostos os projectos suportados pela ferramenta Microsoft Visual Studio. Como \u00e9 poss\u00edvel ver na figura seguinte, todo o projecto desenvolvido \u00e9 composta pelos v\u00e1rios programas.\nFigura D.6 - Projecto Microsoft Visual Studio\nD.1 - DBI\nO projecto DBI \u00e9 um projecto Windows Form Application desenvolvido em linguagem C#, destinado \u00e0 cria\u00e7\u00e3o do interface de instala\u00e7\u00e3o da base de dados EolitorDB de suporte a todo o Sistema Eolitor. Este \u00e9 composto apenas por uma interface (ver Figura 5.12).\nFigura D.7 - Projecto DBI\n-Forml.cs: \u00c9 o Windows Form correspondente ao interface principal e \u00fanico deste Projecto. Este tem as fun\u00e7\u00f5es b\u00e1sicas de cria\u00e7\u00e3o do interface, exemplo as fun\u00e7\u00f5es associadas\n-ScriptInstall.es: \u00c9 o m\u00f3dulo onde residem as fun\u00e7\u00f5es de cria\u00e7\u00e3o da base de dados atrav\u00e9s da execu\u00e7\u00e3o do script SQL EolitorDB.sql.\n-EolitorDB.sql: \u00c9 o script escrito em linguagem SQL respons\u00e1vel pela cria\u00e7\u00e3o da base de dados e de todas as tabelas, dos store procedures e dos triggers.\n-SQLInfoEnumerator.es: \u00c9 uma classe que permite instanciar e retornar uma lista de servidores SQL e uma lista de todas as suas Base de Dados.\n-RijndaelCryptography.es: \u00c9 uma classe que permite a increpa\u00e7\u00e3o de dados ou a desencripta\u00e7\u00e3o de dados.\n-AssemblyInfo.es: Informa\u00e7\u00f5es gerais de assemblagem.\nD.2 - Eolitor Client\nO projecto Eolitor Client \u00e9 um projecto Windows Form Application desenvolvido em linguagem vb.net, destinado \u00e0 cria\u00e7\u00e3o de interface cliente do servidor Eolitor Server. Este permite testar a liga\u00e7\u00e3o com o servidor, listar os clientes actualmente ligados ao servidor e trocar mensagens com esses clientes.\nFigura D.8 - Projecto Eolitor Client\n-ClientForm.vb: \u00c9 o Windows Form correspondente ao interface principal e \u00fanico deste Projecto. Este tem essencialmente as fun\u00e7\u00f5es necess\u00e1rias \u00e0 cria\u00e7\u00e3o do interface e as fun\u00e7\u00f5es para estabelecer liga\u00e7\u00e3o TCP com o servidor. Aqui tamb\u00e9m \u00e9 definido a classe Data que define a estrutura das mensagens que s\u00e3o enviadas entre o servidor e os clientes TCP. S\u00e3o tamb\u00e9m definidos os comandos para a interac\u00e7\u00e3o entre o servidor e o cliente.\nD.3 - Eolitor Server\nO projecto Eolitor Server \u00e9 um projecto Windows Form Application desenvolvido em linguagem vb.net, destinado \u00e0 cria\u00e7\u00e3o de interface que juntamente com o Projecto TCPServer formam o servidor Eolitor Server. Este ao ser executado inicia tamb\u00e9m a execu\u00e7\u00e3o do servidor TCP e estabelece liga\u00e7\u00e3o TCP/IP com este. Do ponto de vista da liga\u00e7\u00e3o TCP/IP, este programa \u00e9 um cliente do servidor TCPserver.\nFigura D.9 - Projecto Eolitor Server\n-Server.vb: \u00c9 o Windows Form correspondente ao interface principal e \u00fanico deste Projecto. Este tem essencialmente as fun\u00e7\u00f5es necess\u00e1rias \u00e0 cria\u00e7\u00e3o do interface e as fun\u00e7\u00f5es que permitem estabelecer liga\u00e7\u00e3o com o servidor TCP/IP, para recep\u00e7\u00e3o e envio de dados. Aqui tamb\u00e9m \u00e9 definido a classe Data que define a estrutura das mensagens que s\u00e3o enviadas entre o servidor e os clientes TCP. S\u00e3o tamb\u00e9m definidos os comandos para a interac\u00e7\u00e3o entre o servidor e o cliente.\n-EolitorDB.dbml: \u00c9 uma classe Data Context gerada pelo Object Relational Designer (O/R Designer) - fornece uma interface visual para criar e editar classes LINQ to SQL - que permite criar um modelo de objectos na aplica\u00e7\u00e3o e efectua o mapeamento para os objectos da base de dados onde est\u00e3o mapeadas todos os objectos relacionais.\n-Comm.vb: Neste m\u00f3dulo s\u00e3o definidas todas as fun\u00e7\u00f5es necess\u00e1rias para abertura e fecho da porta serie de liga\u00e7\u00e3o com o microcontrolador (startSerialPort e stopSerialPort) e o envio de dados deste programa para o microcontrolador (sendPIC).\n-CRC.vb: M\u00f3dulo onde est\u00e1 definida a fun\u00e7\u00e3o de calculo do CRC utilizado nas mensagens que s\u00e3o enviadas entre este programa e o microcontrolador, ou vice versa.\n-include.vb: \u00c9 o m\u00f3dulo onde est\u00e3o definidas algumas vari\u00e1veis globais do programa.\n-signals.vb: \u00c9 o m\u00f3dulo onde est\u00e3o definidos os sinais que s\u00e3o enviados do microcontrolador para este programa.\n-SQLServerDB.vb: \u00c9 uma classe auxiliar que contem todas as fun\u00e7\u00f5es Public Shared que permitem executar as store procedures da base de dados mapeadas na classe Data Context, para armazenarem os dados nas respectivas tabelas. Esses dados s\u00e3o passados nas fun\u00e7\u00f5es desta classe como par\u00e2metros de entradas.\n-ConnectTCPServer: Fun\u00e7\u00e3o que permite listar a liga\u00e7\u00e3o TCP/IP com o servidor.\n-OnConnect: Fun\u00e7\u00e3o que estabelece a liga\u00e7\u00e3o com o servidor.\n-OnReceive: Fun\u00e7\u00e3o que inicia o processo de recep\u00e7\u00e3o de mensagens vindas do servidor.\n-OnSend: Fun\u00e7\u00e3o que permite o envio de mensagens para o servidor atrav\u00e9s da liga\u00e7\u00e3o TCP/IP estabelecida utilizando sockets.\n-CloseClient: Fun\u00e7\u00e3o que \u00e9 chamada para fechar o socket e a liga\u00e7\u00e3o com o servidor depois de enviar para este a mensagem de Logout.\n-BroadcastData: Fun\u00e7\u00e3o que inicia o processo de envio de mensagens para o servidor.\nD.4 - TCPServer\nO projecto TCPServer \u00e9 um projecto Windows Form Application desenvolvido em linguagem vb.net, destinado \u00e0 cria\u00e7\u00e3o de interface que juntamente com o Projecto Eolitor Server formam o servidor Eolitor Server. Este \u00e9 executado no mesmo instante, e permite criar liga\u00e7\u00f5es TCP/IP formando assim uma arquitectura cliente/servidor. Deste modo, \u00e9 poss\u00edvel aceitar clientes e enviar os dados da monitoriza\u00e7\u00e3o, instantaneamente.\nFigura D.10 - Projecto TCPServer\n-ServerForm.vb: \u00c9 o Windows Form correspondente ao interface principal e \u00fanico deste Projecto. Este tem essencialmente as fun\u00e7\u00f5es necess\u00e1rias \u00e0 cria\u00e7\u00e3o do interface e as fun\u00e7\u00f5es que permitem aceitar clientes TCP/IP, receber e enviar dados. Aqui tamb\u00e9m \u00e9 definido a classe Data que define a estrutura das mensagens que s\u00e3o enviadas entre o\n-OnAccept: Fun\u00e7\u00e3o que permite listar e aceitar nos clientes TCP/IP utilizando sockets (System.Net.Sockets).\n-OnReceive: Fun\u00e7\u00e3o que permite receber mensagens de todos os clientes atrav\u00e9s das liga\u00e7\u00f5es TCP/IP (socketes aceites).\n-OnSend: Fun\u00e7\u00e3o que permite enviar mensagens para todos os clientes.\nD.5 - Eolitor System\nO projecto EolitorSystem2008 \u00e9 um projecto Windows Form Application desenvolvido em linguagem vb.net, destinado \u00e0 cria\u00e7\u00e3o de todas as interfaces do programa de sistema de informa\u00e7\u00e3o. Este \u00e9 o projecto principal do ponto de vista da visualiza\u00e7\u00e3o da informa\u00e7\u00e3o.\nSolution Explorer -Eo\u00fctorSystem2OO8\t\u25bc 4 X\nA\n3 Solution 'EolitorSystemProject' (7 projects)\nS 5*1 DBI\nIS \u00bf3 DockDotNET\n3\t.\u00ed) EolitorCIient\n.J EolitorServer\n\nEolitorSystem2008\ni... My Project\nS \u2022 I ~j bin\nffi F3 Components\na \u25a0 LJ DE\n+\t\u25a1 Dockable Panels\n\u00b1\t\u25a1 Forms\nSI F~J Generic Panels\n+ O Modules and Classes i+ \u25a1 Options Panels jl \u25a0 \u25a1 Reports\n+\t\u25a1 Resources\nSI i \u25a1 Skins\ni app.config\ni... i**l Config.xml\nEolitorDB.dbml\nEditor DBDataSet. xsd EolitorSystem2008_TemporaryKey.pfx\n5)\t._*e] TCPServer\nSI -0 Setup\nFigura D.11 - Projecto Eolitor System\nPasta Forms\n-About.vb: Windows Form com informa\u00e7\u00f5es sobre a aplica\u00e7\u00e3o.\n-Connection.vb: Windows Form que permite configurar a liga\u00e7\u00e3o \u00e0 base de dados de suporte: endere\u00e7o do servidor, nome da base de dados, utilizador e senha.\n-DBCharts.vb: \u00c9 o Windows Form que foi desenvolvido para permitir gerar gr\u00e1ficos recorrendo \u00e0 base de dados como suporte dos dados e ao dll do programa .netCharting que possibilita essa gera\u00e7\u00e3o. A utiliza\u00e7\u00e3o deste interface \u00e9 f\u00e1cil e intuitiva com a possibilidade de configura\u00e7\u00e3o do instante temporal, das vari\u00e1veis do gr\u00e1fico e do tipo de gr\u00e1fico. A fun\u00e7\u00e3o respons\u00e1vel pela cria\u00e7\u00e3o do gr\u00e1fico \u00e9 a fun\u00e7\u00e3o CreateChart que \u00e9 invocada com o evento clique do bot\u00e3o Create. A fun\u00e7\u00e3o SaveChart \u00e9 invocada com o evento clique do bot\u00e3o Save e permite armazenar a imagem diferentes formatos do gr\u00e1fico gerado. A fun\u00e7\u00e3o getSQLData \u00e9 chamada para obter os dados da base de dados atrav\u00e9s da abertura de uma liga\u00e7\u00e3o SqlClient.SqlConnection com a base de dados EolitorDB.\n-Emailer.vb: \u00c9 o Windows Form que foi criado para possibilitar o envio de emails. Deste modo o interface tem v\u00e1rios TextBox para permitir a escrita do remetente, do destinat\u00e1rio, do assunto e da mensagem. Associado ao evento clique do bot\u00e3o Browse, \u00e9 possivel adicionar (fun\u00e7\u00e3o Browse_Click) um ficheiro de anexo para ser enviado ap\u00f3s o clique no bot\u00e3o Send (fun\u00e7\u00e3o Send_Click). Durante o Load do interface \u00e9 verificado se o servico SMTP est\u00e1 instalado, caso contr\u00e1rio n\u00e3o ser\u00e1 possivel o envio de emails.\n-Home.vb: \u00c9 o Windows Form inicial que permite a abertura de todos os interfaces do programa Eolitor System. Essencialmente neste interface est\u00e3o fun\u00e7\u00f5es associados ao evento clique nos v\u00e1rios bot\u00f5es e nos v\u00e1rios itens do MenuStrip.\n-Logs.vb: \u00c9 o Windows Form onde \u00e9 poss\u00edvel visualizar todos os logs gerados pelo sistema atrav\u00e9s de uma componente DataGridView.\n-Monitor7.vb: \u00c9 a \u00faltima vers\u00e3o do Windows Form correspondente ao interface de monitoriza\u00e7\u00e3o. Neste \u00e9 poss\u00edvel atrav\u00e9s dos v\u00e1rios gr\u00e1ficos a visualiza\u00e7\u00e3o do comportamento do aerogerador e do tempo. Para iniciar a monitoriza\u00e7\u00e3o basta apenas clicar no bot\u00e3o Connect para criar um socket de liga\u00e7\u00e3o TCP/IP com o servidor Eolitor Server, atrav\u00e9s das fun\u00e7\u00f5es do m\u00f3dulo TCPServer. \u00c9 necess\u00e1ria a configura\u00e7\u00e3o do endere\u00e7o IP do servidor e do porto TCP no interface Options. Fazem parte ainda deste interface as seguintes fun\u00e7\u00f5es:\n-Reports.vb: \u00c9 o Windows Form onde s\u00e3o visualizados os modelos de relat\u00f3rios que est\u00e3o na pasta Reports. Os valores armazenados na base de dados s\u00e3o carregados atrav\u00e9s dos objectos do DataSet EolitorDBDataSet que correspondem \u00e0s diferentes tabelas da base de dados. A fun\u00e7\u00e3o btnReport1_Click relativa ao evento clique do bot\u00e3o btnReport1 permite carregar o modelo de relat\u00f3rio EolitorReport1.rdlc no ReportViewer do interface. De forma similar, as fun\u00e7\u00f5es btnReport2_Click e btnReport3_Click associadas ao evento clique dos\n-SplashScreen.vb: \u00c9 o SplashScreen do programa que apresenta uma imagem do Aerogerador e o nome do Programa nos primeiros segundos ap\u00f3s o in\u00edcio da execu\u00e7\u00e3o do mesmo.\n-uSD.vb: \u00c9 o Windows Form que foi desenvolvido para possibilitar a comunica\u00e7\u00e3o com o cart\u00e3o pSD que se encontra na placa do sistema de monitoriza\u00e7\u00e3o.\n-WebBrowser: \u00c9 um Windows Form simples que permite substituir o programa Internet Explorer para a visualiza\u00e7\u00e3o de p\u00e1ginas de Internet.\nPasta Generic Panels\n-Graph.vb: \u00c9 um User Control que corresponde \u00e1 cria\u00e7\u00e3o de uma \u00e1rea para gr\u00e1fico atrav\u00e9s de uma PictureBox. Este cont\u00e9m fun\u00e7\u00f5es associadas a eventos e m\u00e9todos que permite o aumento e diminui\u00e7\u00e3o da \u00e1rea destinada ao gr\u00e1fico e do Zoom da imagem do gr\u00e1fico, com limites previamente configurados. \u00c9 poss\u00edvel atrav\u00e9s das fun\u00e7\u00f5es CreateGraphSinal e AddLineGraph a gera\u00e7\u00e3o do gr\u00e1fico na PictureBox. A fun\u00e7\u00e3o AddLineGraph cria um array de pontos que corresponde a um pixel na \u00e1rea da PictureBox enquanto que a fun\u00e7\u00e3o CreateGraphSinal modifica a grama do sinal para a grama do gr\u00e1fico (0 a 1023).\n-Graph2.vb: \u00c9 um User Control de uma vers\u00e3o mais reduzida para a gera\u00e7\u00e3o de gr\u00e1ficos sem as fun\u00e7\u00f5es de aumento e diminui\u00e7\u00e3o da \u00e1rea e do Zoom da PictureBox correspondente \u00e0 imagem do gr\u00e1fico.\n-OutputTextBox.vb: \u00c9 um User Control constitu\u00eddo por um RichTextBox que permite criar uma \u00e1rea de mensagem de texto de sa\u00edda. Existem diferentes tipos de mensagens de sa\u00edda: Normal, Warning, Error e Other.\nPasta Modules and Classes\n-Comm.vb: Neste m\u00f3dulo s\u00e3o definidas todas as fun\u00e7\u00f5es necess\u00e1rias para abertura e fecho da porta serie de liga\u00e7\u00e3o com o microcontrolador (startSerialPort e stopSerialPort) e o envio de dados deste programa para o microcontrolador (sendPIC).\n-ConnDB.vb: \u00c9 neste m\u00f3dulo que est\u00e3o as fun\u00e7\u00f5es: TestConnectionDB para testar a liga\u00e7\u00e3o \u00e0 base de dados; TestNewConnectionDB para testar uma nova liga\u00e7\u00e3o \u00e0 base de dados defenindo novos par\u00e2metros; SaveChange_To_App_Config para guardar a nova sting de liga\u00e7\u00e3o com a base de dados no ficheiro de configura\u00e7\u00f5es do programa.\n-CRC.vb: M\u00f3dulo onde est\u00e1 definida a fun\u00e7\u00e3o de calculo do CRC utilizado nas mensagens que s\u00e3o enviadas entre este programa e o microcontrolador, ou vice versa.\n-Email.vb: M\u00f3dulo com fun\u00e7\u00f5es relacionadas com o envio de emails: Load_Mail para a forma\u00e7\u00e3o da mensagem de email e Send_Mail para o envio de email e a fun\u00e7\u00e3o testSMTPService para testar a instala\u00e7\u00e3o do servi\u00e7o SMTP no PC local.\n-include.vb: \u00c9 o m\u00f3dulo onde est\u00e3o definidas algumas vari\u00e1veis globais do programa.\n-Report.vb: M\u00f3dulo contendo fun\u00e7\u00f5es relacionadas com a cria\u00e7\u00e3o de relat\u00f3rios.\n-signals.vb: \u00c9 o m\u00f3dulo onde est\u00e3o definidos os sinais que s\u00e3o enviados do microcontrolador para este programa.\n-SQLServerDB.vb: \u00c9 uma classe auxiliar que contem todas as fun\u00e7\u00f5es Public Shared que permitem executar as store procedures da base de dados mapeadas na classe Data Context, para armazenarem os dados nas respectivas tabelas. Esses dados s\u00e3o passados nas fun\u00e7\u00f5es desta classe como par\u00e2metros de entradas.\n-TCPServer.vb: \u00c9 neste m\u00f3dulo que est\u00e3o definidas todas as fun\u00e7\u00f5es repons\u00e1veis pela cria\u00e7\u00e3o de um socket TCP/IP de comunica\u00e7\u00e3o com o servidor para o envio e recep\u00e7\u00e3o de mensagens. As fun\u00e7\u00f5es que fazem parte deste m\u00f3dulo s\u00e3o: NewClient, OnSend, OnConnect, OnReceive, LoadData, BroadcastData e CloseClient. S\u00e3o tamb\u00e9m definidos a classe Data e a o formato o tipo de comandos que s\u00e3o enviados nas mensagens.\n-XML.vb: Neste m\u00f3dulo existem algumas fun\u00e7\u00f5s para a cria\u00e7\u00e3o de um ficheiro de configura\u00e7\u00f5es no formato xml. A fun\u00e7\u00e3o CheckXML permite verificar se o ficheiro existe. A fun\u00e7\u00e3o CreateXMLFileDefault possibilita a cria\u00e7\u00e3o de um ficheiro xml com os valores iniciais.A fun\u00e7\u00e3o LoadXMLFile permite carregar todos os elementos dentro do elemento root. Com a fun\u00e7\u00e3o UpdateXMLElement \u00e9 poss\u00edvel actualizar os valores dentro do ficheiro xml. Finalmente, a fun\u00e7\u00e3o RemoveXMLElement perite a remo\u00e7\u00e3o de um elemento no ficheiro xml.\nPasta Options Panels\n-Options.vb: \u00c9 o Windows Form que atrav\u00e9s da instancia\u00e7\u00e3o dos v\u00e1rios pain\u00e9is seguintes permite ao utilizador a configura\u00e7\u00e3o do programa. S\u00e3o definidas as fun\u00e7\u00f5es de cria\u00e7\u00e3o e conclus\u00e3o do interface, associadas ao evento clique no bot\u00e3o OK (button_OK_Click que permite actualizar os v\u00e1rios par\u00e2metros globais do programa) e Cancel (button_Cancel_Click que possibilita a conclus\u00e3o do interface) e a fun\u00e7\u00e3o associada \u00e0 selec\u00e7\u00e3o do n\u00f3 correnpondente aos v\u00e1rios pain\u00e9is treeViewParameters_AfterSelect. \u00c9 definida a classe validDataEventArgs de valida\u00e7\u00e3o dos dados introduzidos nos v\u00e1rios pain\u00e9is deste interface e declarado o delegate ValidDataEventHandler.\n-PanelDatabase.vb: \u00c9 um User Control que corresponde a um Painel que permite configurar a liga\u00e7\u00e3o \u00e0 base de dados atrav\u00e9s da personaliza\u00e7\u00e3o do servidor, do nome da base de dados, do utilizador e da senha.\n-PanelPorts.vb: \u00c9 um User Control que corresponde a um Painel onde \u00e9 configur\u00e1vel a porta de comunica\u00e7\u00e3o do PC que foi aberta devido a liga\u00e7\u00e3o entre a PCB e o PC servidor.\n-PanelReports.vb: \u00c9 um User Control que corresponde a um Painel que possibilita a configura\u00e7\u00e3o dos endere\u00e7os de email e do servidor para o envio de emails. Mediante a configura\u00e7\u00e3o destes par\u00e2metros ser\u00e1 poss\u00edvel o envio de emails contendo os relat\u00f3rios gerados no intervalo de tempo tamb\u00e9m configurado.\n-PanelServer.vb: \u00c9 um User Control que corresponde a um Painel onde \u00e9 poss\u00edvel a configura\u00e7\u00e3o dos endere\u00e7o IP do servidor, o porto TCP em que o servidor est\u00e1 \u00e0 escuta e o nome do cliente TCP/IP estabelecido atrav\u00e9s deste programa.\n-PanelStartup.vb: \u00c9 um User Control que corresponde a um Painel que permite configurar se o programa inicia com o interface minimizado e se ao minimizar o programa vai para a barra de tarefas ou para a \u00e1rea de notifica\u00e7\u00f5es.\nPasta Reports\n-EolitorReportl.rdlc, EolitorReport2.rdlc e EolitorReport3.rdlc: S\u00e3o tr\u00eas Reports que correspondem a tr\u00eas modelos de relat\u00f3rios.\nPasta Resources\nNesta pasta onde est\u00e3o armazenadas todos os ficheiros de imagens nos formatos png, jpg, gif e ico.\nPasta Skins\n\u00c9 nesta paste que contem todos os ficheiros skf correspondentes aos v\u00e1rios skins que podem ser carregados no programa atrav\u00e9s do dll do programa SkinCrafter.\n-EolitorDB.dbml: \u00c9 uma classe Data Context gerada pelo Object Relational Designer (O/R Designer) - fornece uma interface visual para criar e editar classes LINQ to SQL - que permite criar um modelo de objectos na aplica\u00e7\u00e3o e efectua o mapeamento para os objectos da base de dados onde est\u00e3o mapeadas todos os objectos relacionais.\nUniversidade de Aveiro\n188\nD.6 - Setup\nO projecto Setup \u00e9 um projecto Setup Project que foi desenvolvido com objectivo de criar um execut\u00e1vel msi, para permitir a instala\u00e7\u00e3o em qualquer PC de todos os ficheiros necess\u00e1rios para a execu\u00e7\u00e3o de todos os programas. Este projecto \u00e9 composto pelos ficheiros de sa\u00edda (primary output) dos restantes projectos.\nCom a instala\u00e7\u00e3o \u00e9 criada uma pasta em Programas (pode ser configura durante a instala\u00e7\u00e3o) onde s\u00e3o colocados todos os ficheiros. S\u00e3o tamb\u00e9m criados atalhos no ambiente de trabalho e na pasta Iniciar.\nJuntamente com os ficheiros necess\u00e1rios para a execu\u00e7\u00e3o de todos os programas foi tamb\u00e9m criado um guia de inicia\u00e7\u00e3o r\u00e1pido em formato Web, onde podem ser encontradas algumas instru\u00e7\u00f5es para a utiliza\u00e7\u00e3o dos v\u00e1rios interfaces.\nA execu\u00e7\u00e3o do ficheiro msi resultante deste projecto tem com pr\u00e9-requisitos a instala\u00e7\u00e3o das ferramentas .NET Framework e o Microsoft Windows Installer.\nFigura D.12 - Projecto Setup\nNeste anexo est\u00e3o todos os circuitos, e os c\u00e1lculos necess\u00e1rios para o dimensionamento de ambas as placas do sistema de Monitoriza\u00e7\u00e3o.\nE.1- Op\u00e7\u00e3o Local\nNo esquema seguinte est\u00e3o representadas todas as liga\u00e7\u00f5es ao microcontrolador, tanto as liga\u00e7\u00f5es de alimenta\u00e7\u00e3o, incluindo o regulador de 3.3V, como as liga\u00e7\u00f5es de dados. Est\u00e3o tamb\u00e9m os dois cristais, um de 7.37MHz para o funcionamento do microcontrolador e outro de 32.768 kHz para o funcionamento do RTCC do PIC.\nE.1.1 - Microcontrolador\n-PIC24FJ128GA006\n-REG103GA-33\nDatasheet\nDatasheet\nE.1.2 - Conectores I/O\nNo esquema seguinte est\u00e3o todos os conectores para ligar aos v\u00e1rios sensores, os conectores para a bateria e o painel solar ou transformador, o conector para a liga\u00e7\u00e3o m\u00f3dulo de comunica\u00e7\u00e3o sem fio, o conector RJ45 para programa\u00e7\u00e3o do microcontrolador, o sensor de temperatura anal\u00f3gico MAX6608 integrado na placa e as liga\u00e7\u00f5es respectivas da placa do sistema de monitoriza\u00e7\u00e3o.\nDatasheet\n-MAX6608\nS\u00edTi\u00edor Tempe\t\t\t\t\t\t\n\t\t\tIJ7 MAM06O8\t\t\tADC2 C13 inF\n\t\t1\tNC\td IJT\t5\t11\n\t\t2\t\t\t\tII I\n\t3\t\tGND\tvcc\t4\t+3.3V 9\n\t\t\tA\t\t\t. I . . . .\n\t\t\t\t\t\tZZZZ C14 _L D.2uF\n4\t\tJ +5V\n3\t\n2\tIII\t\nJ\t\t|l'&lt;<ADC3\t\n4\tJ +5V\n3\t\n2\tI\t\nJ I&lt;&lt;INT2\t\nE.1.3 - Regulador 5V\nNa figura seguinte est\u00e1 o regulador TL2575-05 da TI com todos os componentes necess\u00e1rios para o seu funcionamento. A tens\u00e3o de entrada pode ir at\u00e9 40V e a sa\u00edda \u00e9 regulada a 5V@1.2A.\nTL2575-\u00dc5A\n\u201415\tON\"/OFF\n\tFEEDBACK\n\tVIN\n\tOUTPUT\n\tGND\n-TL2575-05\tDatasheet\n-L22uH\tDatasheet\n-L330uH\tDatasheet\nE.1.4 - Carregador de Baterias Lithium\nNa figura seguinte est\u00e3o todas as liga\u00e7\u00f5es e componentes necess\u00e1rias para o funcionamento do carregador de baterias Lithium BQ24002 da TI. A tens\u00e3o de alimenta\u00e7\u00e3o deste carregador \u00e9 a tens\u00e3o de sa\u00edda do regulador TL2575-05. Por isso, o carregador s\u00f3\nCarregador de Bate ri a\u00ed\t\tLithium\t\t\t\t\t\n\t\tR1 0.\t\t\t\t\t\n5 VI T\t\t\t\t\tv 1 \" 2\tN/C\tNC2LI OUT19 OUT18 VSENSE AG ND STAT2 STAT1 7MR SEL\n\t\t\t\t3\t\tIN2\t\nC4\t\t\t\t4\t\t1N3 V cc ISNS NC6 APG EN V\u00ed EL ij HD\t\nIDuF\tX\tT\t\t5\t\t\t\n\tC5\t\t\t\t.. 6\t\t\n\tO.luF\tT\tAPG\t\t- 7\t\t\n\t\t\t\t\tR\t\t\n\t\t\th \u25a0\t\t9\t\t\n\t\t\t\t\t10\t\tNC11\n\t\t\tX-\t\t\t\t\n\t\t\t\t\t\tbq240025MP\t\n20-,.\t\t\t\t\n19\u2019\tt t\t\t\t\t\nis\tn\t\tos\t\t\n17\t1\t\t\t......\t\n16\tIII\t\tluF 1\tF\t\t\n15\t|P\t\t\u201c=\u25a0 \u201c=\u25a0\t5 VI\t\n14\t\t\u25a1 1 LED R2 500\t\t\n13\t\t\t\t\n12 ,\t\t\t/ r4\t\nX7L_1 |_J\t\tXX\t\"\t> 8.2k\t\n* 11 r? \u00dc.22uF\t\t02 LED\tR3 500 L4\t1 APG\t\n\t\txx n\t\t/ R5 > 2.2k\t\n-BQ24002\nDatasheet\nE.1.5 - Charge Pump\nNa figura anterior est\u00e3o todas as liga\u00e7\u00f5es e componentes necess\u00e1rias ao funcionamento do Charge Pump TPS60130. Para o funcionamento do mesmo apenas e necess\u00e1rio o ligar ENABLE a Vcc. Apenas \u00e9 necess\u00e1rio programar o Low-Battery Detector utilizando 3 resist\u00eancias R1, R2 e R3 (ver figura seguinte). Enquando a tens\u00e3o Vlbi for superior \u00e0 tens\u00e3o de refer\u00eancia Vref, a saida LBO est\u00e1 a \u201c1\u201d, quando a tens\u00e3o Vlbi baixar ficando inferior a Vref, a saida LBO passa a \u201c0\u201d. A tens\u00e3o da bateria que corresponda Vlbi igual a Vref \u00e9 Vbat igual a 3.5V.\n-TPS60130\tDatasheet\nPara calcular o valor dessas resist\u00e2ncias, utilizamos as seguintes equa\u00e7\u00f5es:\nVouT\nR 3 = 1M--\ny\nR 1 = 1 M\t\u2014\tR 2 = 1 M^-R1\nV\n' BAT\nPara VBAT=3.5V e VLBI=1.3V:\nR1 = 370\tR 2 = 630\nR1\t+ R 2\nR 1 (min) R 2 (max)\nBAT (min) V LBI (min)\nR2\n(max)\nR1 R2,\n(max)\t(min)\nBAT (max)\tLBI (max)\nR (min)\nE.1.6 - Supervisor\nNa figura em baixo est\u00e3o os componentes necess\u00e1rios para o funcionamento do supervisor ADM696 da Analog Devices. Este tem na entrada VCC a sa\u00edda do regulador TL2575-05 e na entrada da bateria VBATT a sa\u00edda do charge pump TPS60130. Conforme o valor das resist\u00eancias R9 e R10, a sa\u00edda VOUT \u00e9 comutada.\nFoi utilizado um transistor PNP externo para passar a corrente, devido \u00e0 corrente necess\u00e1ria para alimentar o microcontrolador e sensores ser superior a 100mA.\nDatasheet\n-ADM696\nE.1.7- ConectorpSD\nNa figura em baixo est\u00e3o as liga\u00e7\u00f5es SPI necess\u00e1rias do microcontrolador ao socket do cart\u00e3o |iSD.\nDatasheet\n-Socket p.SD\nE.1.7 - M\u00f3dulo Bluetooth\nNas figuras seguintes est\u00e3o o schematics com as liga\u00e7\u00f5es necess\u00e1rias para o m\u00f3dulo F2M03GLA poder funcionar e o layout resultante.\nDatasheet\n-M\u00f3dulo F2M03GLA\nE.1.8 - Layout da PCB\nA figura seguinte ilustra o Layout da placa circuito impresso que resoltou dos esquemas anteriores. Esta placa tem duas camadas \u201cTOP\u201d e \u201cBOTTON\u201d com todos os footprints das componentes utilizadas e as vias de liga\u00e7\u00e3o entre elas.\nE.2- Op\u00e7\u00e3o Remota\nA PCB que foi desenvolvida para esta op\u00e7\u00e3o \u00e9 uma vers\u00e3o reduzida da anterior visto n\u00e3o existir a necessidade de alimentar o circuito a partir da energia solar nem de armazenar energia, uma vez que existe energia el\u00e9ctrica no local.\nE.2.1 - Microcontrolador\nNo esquema seguinte est\u00e3o representadas todas as liga\u00e7\u00f5es ao microcontrolador, tanto as liga\u00e7\u00f5es de alimenta\u00e7\u00e3o, incluindo o regulador de 3.3V, como as liga\u00e7\u00f5es de dados. Est\u00e3o tamb\u00e9m os dois cristais, um de 7.37MHz para o funcionamento do microcontrolador e outro de 32.768 kHz para o funcionamento do RTCC do PIC.\n-PIC24FJ128GA006 Datasheet\n\t\tT3\t\n\tZ C17 23 pF\t\t-2.\t\u25a1\n\tzzL cie T\tMVSTA.1-4?SM\t\nE.2.2 - Conector pSD\nNa figura em baixo est\u00e3o as liga\u00e7\u00f5es SPI necess\u00e1rias do microcontrolador ao socket do\ncart\u00e3o pSD.\nDatasheet\nCS1\u00bb\nMOS\u00bb\nSCK\u00bb\nMIS(\u00bb\n-Socket pSD\nE.2.3 - Conectores I/O\nNo esquema seguinte est\u00e1 o conector para ligar os v\u00e1rios sensores, a liga\u00e7\u00e3o ao m\u00f3dulo de comunica\u00e7\u00e3o com fios, o conector RJ45 para programa\u00e7\u00e3o do microcontrolador, o sensor de temperatura anal\u00f3gico MAX6608 e os reguladores de tens\u00e3o de 5V e 3.3V.\nE.2.4 - USB\nDatasheet\n-FT232R\nDatasheet\n-FT232R\nE.2.5 - M\u00f3dulo Bluetooth\nNas figuras seguintes est\u00e3o o schematics com as liga\u00e7\u00f5es necess\u00e1rias para o m\u00f3dulo F2M03GLA poder funcionar e o layout resultante.\nDatasheet\n-M\u00f3dulo F2M03GLA\nE.2.6 - Layout da PCB\nA figura seguinte ilustra o Layout da placa circuito impresso que resoltou dos esquemas anteriores. Esta placa tem duas camadas \u201cTOP\u201d e \u201cBOTTON\u201d com todos os footprints das componentes utilizadas e as vias de liga\u00e7\u00e3o entre elas.\nComo j\u00e1 foi referido anteriormente, para este sistema precisamos de configurar a ADC, um Timer para gerar interrup\u00e7\u00f5es a uma frequ\u00eancia determinada, o RTCC, os registos dos Portos, um m\u00f3dulo SPI, as interrup\u00e7\u00f5es e uma UART. Assim, neste anexo vamos detalhar o programa geral (firmware), incluindo a configura\u00e7\u00e3o do microcontrolador e o m\u00f3dulo para de interac\u00e7\u00e3o como SD para criar um sistema de ficheiros FatFS, tudo escrito em linguagem C. Foi utilizado a ferramenta VDI do ORCAD para confirmar o valor dos registos para configurar o microcontrolador.\nF.1 - adc\nNa biblioteca adc.h fazem parte as fun\u00e7\u00f5es adc_init e adr_read. Na primeira fun\u00e7\u00e3o, sem par\u00e2metros de entrada, \u00e9 feita a configura\u00e7\u00e3o da ADC; os canais anal\u00f3gicos atrav\u00e9s do registo AD1PCFG, o modo de funcionamento atrav\u00e9s dos registos ADCON1, ADCON2 e ADCON3. Na segunda fun\u00e7\u00e3o \u00e9 escolhido o canal da ADC no registo AD1CHS, atrav\u00e9s do par\u00e2metro de entrada e iniciada a convers\u00e3o. O m\u00f3dulo da ADC \u00e9 iniciado colocando o bit ADON do registo AD1CON a \u201c1\u201d. Depois \u00e9 iniciado o amostragem de forma manual escrevendo o bit SAMP do registo AD1CON a \u201c1\u201d e a convers\u00e3o \u00e9 iniciada passando 31Tad. O final da convers\u00e3o \u00e9 detectado quando o bit DONE no registo AD1CON passa a \u201c1\u201d (ver figura seguinte).\n-Constantes\n#define WINDDIR_AN\t2\n#define TEMPE_AN\t3\n#define AEROCUR_AN\t4\n#define INVCUR_AN\t5\n#define VOLT_AN\t6\n#define BATTERY_AN\t7\n-Prot\u00f3tipos das fun\u00e7\u00f5es void adc_init(void);\nint adc_read (unsigned int an);\nvoid adc_init (void) {\nAD1PCFG=0x9F02;\nAD1CON1=0x000E;\nAD1CON3=0x1F02;\nAD1CON2=0;\nAD1CSSL=0;\n}\n//AD1PCFG: A/D PORT CONFIGURATION REGISTER\n//AD1CON1: A/D CONTROL REGISTER 1\n//AD1CON3: A/D CONTROL REGISTER 3\n//AD1CON2: A/D CONTROL REGISTER 2\n//AD1CSSL: A/D INPUT SCAN SELECT REGISTER\nint adc_read (unsigned int an) {\nswitch (an) {\n//AD1CHS: A/D INPUT SELECT REGISTER\ncase\ncase\ncase\ncase\ncase\ncase\ncase\ncase\ncase\ncase\ncase\ncase\ncase\n0: AD1CHS=0x0000; break;\n1: AD1CHS=0x0001; break;\n2: AD1CHS=0x0002; break;\n3: AD1CHS=0x0003; break;\n4: AD1CHS=0x0004; break;\n5: AD1CHS=0x0005; break;\n6: AD1CHS=0x0006; break;\n7: AD1CHS=0x0007; break;\n8: AD1CHS=0x0008; break;\n9: AD1CHS=0x0009; break;\n10:AD1CHS=0x000A; break;\n11:AD1CHS=0x000B; break;\n12:AD1CHS=0x000C; break;\nIFS0bits.AD1IF = 0;\n// Clear A/D conversion interrupt.\n// Configure A/D interrupt priority bits (AD1IP<2:0>) here, if\n// required. Default priority level is 4.\nIEC0bits.AD1IE = 0;\t// Enable A/D conversion interrupt\nAD1CON1bits.ADON = 1;\nAD1CON1bits.SAMP = 1;\nwhile (!AD1CON1bits.DONE);\n// Turn on A/D\n// start sampling then...\n// after 31Tad go to conversion\n// conversion done?\n}\nAD1CON1bits.ADON = 0;\t// Turn off A/D\nreturn *(&amp;ADC1BUF0);\t// yes then get ADC value\n}\nF.2 - comm\nNa biblioteca comm.h est\u00e3o as fun\u00e7\u00f5es de configura\u00e7\u00e3o da UART, de escrita e leitura do buffer da UART. A UART foi configurada com uma baudrate igual a 460800, com 8 bits de dados, sem paridade e com 1 stop bit.\n-Constantes\n#define BUFFER_SIZE\t128\n#define BPS\t460800UL\n-Prot\u00f3tipo da Fun\u00e7\u00e3o\nvoid uart_init (void);\nint uart_test (void);\nvoid clear_RXBuf (void);\nvoid uart_put (BYTE);\nBYTE uart_get (void);\nstatic int TxRun;\nstatic volatile struct\n{\nint\trptr;\nint\twptr;\nint\tcount;\nBYTE\tbuff[BUFFER_SIZE];\n} TxFifo, RxFifo;\nvoid _attribute_((mterrupt, auto_psv)) _U1RXInterrupt (void) {\nBYTE d;\nint n;\nd = (BYTE)U1RXREG;\n_U1RXIF = 0;\nn = RxFifo.count;\nif (n &lt;BUFFER_SIZE) {\nn++;\nRxFifo.count = n;\nn = RxFifo.wptr; RxFifo.buff[n] = d; RxFifo.wptr = (n + 1) % BUFFER_SIZE;\n}\n}\nvoid __attribute__((interrupt, auto_psv)) _U1TXInterrupt (void) {\nint n;\n_U1TXIF = 0;\nn = TxFifo.count;\nif (n) {\nn--;\nTxFifo.count = n;\nn = TxFifo.rptr; U1TXREG = TxFifo.buff[n]; TxFifo.rptr = (n + 1) % BUFFER_SIZE;\n} else {\nTxRun = 0;\n}\n}\nint uart_test (void)\n{\nreturn RxFifo.count;\n}\nvoid clear_RXBuf (void)\n{\nRxFifo.count=0;\n}\nBYTE uart_get (void)\nBYTE d; int n;\nwhile (!RxFifo.count);\nn = RxFifo.rptr;\nd = RxFifo.buff[n];\nRxFifo.rptr = (n + 1) % BUFFER_SIZE;\n-DIO;\nRxFifo.count--;\n_EI();\nreturn d;\n}\nvoid uart_put (BYTE d)\n{\nint n;\nwhile (TxFifo.count >= BUFFER_SIZE);\nn = TxFifo.wptr;\nTxFifo.buff[n] = d;\nTxFifo.wptr = (n + 1) % BUFFER-SIZE;\n-DIO;\nTxFifo.count++;\nif (!TxRun) {\nTxRun = 1;\n-U1TXIF = 1;\n}\n_EI();\n}\nvoid uart_init (void)\n{\n/* Disable Tx/Rx interruptrs */\n_U1RXIE = 0;\n_U1TXIE = 0;\n/* Initialize UART1 */\nU1BRG = FCY / 16 / BPS - 1;\n_UARTEN = 1;\n_UTXEN = 1;\n/* Clear Tx/Rx FIFOs */\nTxFifo.rptr = TxFifo.wptr = TxFifo.count = 0;\nRxFifo.rptr = RxFifo.wptr = RxFifo.count = 0;\nTxRun = 0;\n/* Enable Tx/Rx interruptrs */\n_U1RXIE = 1;\n_U1TXIE = 1;\n}\nF.3 - crc\nNa biblioteca crc.h est\u00e1 a fun\u00e7\u00e3o add2crc que \u00e9 utilizada na forma\u00e7\u00e3o da trama para gerar o c\u00f3digo CRC.\n-Prot\u00f3tipo da Fun\u00e7\u00e3o\nunsigned short add2crc(unsigned char newData, unsigned short oldCRC)\nunsigned short add2crc(unsigned char newData, unsigned short oldCRC)\n{\noldCRC A= newData;\noldCRC a= (oldCRC &amp; 0xFF00)&lt;&lt;4;\noldCRC A= (oldCRC >> 8)>>4;\noldCRC a= ((oldCRC &amp; 0xFF00)>>4) >> 1;\nreturn oldCRC;\n}\nF.4 - events\nNa biblioteca eventsh est\u00e3o definidos todos os eventos, as fun\u00e7\u00f5es que permitem criar uma lista de eventos, caracterizados por um id, e a fun\u00e7\u00e3o que devolve o pr\u00f3ximo evento da lista.\n-Constantes\n#define EVENT_CONNECTION_OPEN\t11\n#define EVENT_TEST_CONNECTION\t12\n#define EVENT_CONN_PING\t13\n#define EVENT_CONN_ACK\t14\n#define EVENT_HELLO\t15\n#define EVENT_READ_METEO\t1\n#define EVENT_READ_AERO\t2\n#define EVENT_READ_BAT\t3\n#define EVENT_SEND_SETTINGS\t4\n#define EVENT_SEND_TRAMA\t5\n#define EVENT_GET_DATETIME_PC\t6\n#define EVENT_SEND_DATETIME_PIC\t7\n#define EVENT_SET_RTC\t8\n#define EVENT_SET_FREQ\t9\n#define EVENT_READ_DIFFTIME\t10\n#define EVENT_FATFS\t100\n#define EVENT_FF_DUMPSECTOR\t101\n#define EVENT_FF_INITPHYSICAL\t102\n#define EVENT_FF_SHOWDISK\t103\n#define EVENT_FF_DUMPBUFFER\t104\n#define EVENT_FF_EDITBUFFER\t105\n#define EVENT_FF_READDISKBUFFER\t106\n#define EVENT_FF_WRITEDISKBUFFER 107 #define EVENT_FF_FILLWORKBUFFER\t108\n#define EVENT_FF_INITLOGICAL\t109\n#define EVENT_FF_SHOWLOGICAL\t110\n#define EVENT_FF_DIRLIST\t111\n#define EVENT_FF_OPENFILE\t112\n#define EVENT_FF_CLOSEFILE 113\n#define EVENT_FF_SEEKFILEPTR\t114\n#define EVENT_FF_READFILE\t115\n#define EVENT_FF_READDUMPFILE\t116\n#define EVENT_FF_WRITEFILE\t117\n#define EVENT_FF_CHANGENAME\t118\n#define EVENT_FF_UNLINK\t119\n#define EVENT_FF_TRUNCATE120\n#define EVENT_FF_CREATEDIR\t121\n#define EVENT_FF_CHANGEFILE\t122\n#define EVENT_FF_CHANGETIME\t123\n#define EVENT_FF_COPYFILE\t124\n#define EVENT_FF_CREATEFILESYS\t125\n#define EVENT_FF_TIME\t126\n#define EVENTLISTLENGTH\t30\n#define PRIORITYLEVELS\t2\n#define LOWPRIORITY\t1\n#define HIGHPRIORITY\t0\n#define ERROREV\t-1\n#define EVENTOK\t0\n#define EVENTLISTFULL\t1\n#define NULLEVENT\t0\n#define NULLDATA\t0\ntypedef struct { unsigned char id; void* data;\n} EVENT;\nEVENT *nextEvent_priority(unsigned char);\n#define get_eventList_errors() eventList_errors\n-Prot\u00f3tipos das Fun\u00e7\u00f5es\nsigned char registerEvent(unsigned char event_id, void* event_data) signed char registerEvent_async(unsigned char event_id, void* event_data) EVENT *nextEvent(void)\nsigned char registerEvent(unsigned char event_id, void* event_data) {\nunsigned char Swrite = write;\nEVENT* event;\nif(++Swrite == EVENTLISTLENGTH) Swrite = 0;\nif (Swrite == read)\n{\neventList_errors++; return EVENTLISTFULL;\n}\nevent = &amp;eventList[Swrite];\nwrite = Swrite;\nevent->id = event_id;\nevent->data = event_data;\nreturn EVENTOK;\n}\nsigned char registerEvent_async(unsigned char event_id, void* event_data) {\nsigned char aux;\n-DIO;\naux = registerEvent(event_id, event_data);\n_EI();\nreturn aux;\n}\nEVENT *nextEvent(void)\n{\nEVENT *event_aux = NULLEVENT;\nwhile (event_aux == NULLEVENT)\n{\n_DI();\nif (read ! = write)\n{\nif(++read == EVENTLISTLENGTH) read = 0; event_aux = &amp;eventList[read];\n}\n_EI();\n}\nreturn event_aux;\n}\nF.5-isr\nNa biblioteca isr.h est\u00e3o todas as rotinas de servi\u00e7o para as v\u00e1rias interrup\u00e7\u00f5es do PIC e as fun\u00e7\u00f5es read_windSp e read_aeroSp. O sensor de velocidade do vento est\u00e1 ligado \u00e0 entrada da interrup\u00e7\u00e3o INT2 e o sensor da velocidade do Aerogerador est\u00e1 ligado \u00c0 entrada da interrup\u00e7\u00e3o INT3.\n-Constantes\n#define SECOND\t1000\n#define HALFSECOND\t500\n#define QUARTERSECOND\t250\n-Prot\u00f3tipos das Fun\u00e7\u00f5es\nint read_windSp (void);\nint read_aeroSp (void);\nvoid clear_windSp (void);\nvoid clear_aeroSp (void);\nstatic unsigned int windspVal;\nstatic unsigned int aerospVal;\nvoid _attribute_((interrupt, auto_psv)) _INT2Interrupt (void) {\nwindspVal++;\nIFS1bits.INT2IF = 0; /* clear interrupt flag */\n}\nvoid __attribute__((interrupt, auto_psv)) _INT3Interrupt (void) {\naerospVal++;\nIFS3bits.INT3IF = 0; /* clear interrupt flag */\n}\nint read_windSp (void)\n{\nreturn windspVal;\n}\nint read_aeroSp (void)\n{\nreturn aerospVal;\n}\nvoid clear_windSp (void)\n{\nwindspVal=0;\n}\nvoid clear_aeroSp (void)\n{\naerospVal=0;\n}\nF.6 - ports\nNa biblioteca ports.h est\u00e1 a fun\u00e7\u00e3o ports_init, que permite configurar os pinos I/O, como entrada ou sa\u00edda, dos v\u00e1rios portos atrav\u00e9s dos registos TRISB, TRISC, TRISD, TRISE, TRISF e TRISG\n-Prot\u00f3tipo da Fun\u00e7\u00e3o\nvoid ports_init(void)\nvoid ports_init(void)\n{\n/*Programacao dos registos TRISB, TRISC, TRISD, TRISE, TRISF e TRISG*/\nTRISB=0xC6FF;\nTRISC=0xC000;\nTRISD=0x06FF; TRISE=0x00E7; _LATE3=1;\n_LATE4=0;\nTRISF=0x007F; TRISG=0x028F;\n_LATG6=0;\n_LATG7=1;\n_LATG8=1;\n_CN13PUE = 1;\n_CN14PUE = 1;\n}\nF.7 - rtc\nNa biblioteca rtc.h est\u00e3o as fun\u00e7\u00f5es que permitem configurar a RTCC do PIC e ler o seu valor. A fun\u00e7\u00e3o RTCCInit permite iniciar a RTCC. Uma data e hora (RTCC_time), podem ser configuradas atrav\u00e9s da fun\u00e7\u00e3o RTCCSet(_time). A fun\u00e7\u00e3o que permite a leitura da data e hora da RTCC \u00e9 a fun\u00e7\u00e3o RTCCRead. A estrutura RTCC tem o formato seguinte:\ntypedef union tagRTCC {\nstruct {\nunsigned char sec;\nunsigned char min;\nunsigned char hr;\nunsigned char wkd;\nunsigned char day;\nunsigned char mth; unsigned char yr;\n};\nstruct {\nunsigned int prtOO;\nunsigned int prtO1;\nunsigned int prt1O;\nunsigned int prt11;\n};\n} RTCC;\n-Constantes\n#define mRtccIsSync() (RCFGCALbits.RTCSYNC)\n#define mRtccWaitSync() while((BOOL)RCFGCALbits.RTCSYNC)\n#define mRTCCDec2Bin(Dec) (10*(Dec>>4)+(Dec&amp;0x0f))\n#define mRTCCBin2Dec(Bin) (((Bin/10)<<4)|(Bin%10))\n-Prot\u00f3tipos das Fun\u00e7\u00f5es\nvoid RTCCgrab(RTCC _time, RTCC _time_chk);\nvoid RTCCInit(RTCC _alarm, RTCC _time);\nvoid RTCCSet(RTCC _time);\nvoid RTCCRead(RTCC* pTD);\nvoid RTCCALMSet(RTCC _alarm);\nvoid RTCCUnlock(void);\nvoid RTCCSetBinSec(RTCC* pTD,unsigned char ); void RTCCSetBinMin(RTCC* pTD,unsigned char ); void RTCCSetBinHour(RTCC* pTD,unsigned char ); void RTCCCalculateWeekDay(RTCC* pTD);\nvoid RTCCSetBinDay(RTCC* pTD,unsigned char ); void RTCCSetBinMonth(RTCC* pTD,unsigned char ); void RTCCSetBinYear(RTCC* pTD,unsigned char ); RTCC transformDateTime(RTCC* pTD);\nvoid RTCCInit(RTCC _alarm, RTCC _time)\n{\nasm(\"mov.b #0x46, W2\");\t// unlock byte 1 for OSCCONL(low byte)\nasm(\"mov.b #0x57, W3\");\t// unlock byte 2 for OSCCONL(low byte)\n// move 8-bit of Wn to OSCCON register asm(\"mov.b W2, [W1]\");\t// write unlock byte 1\nasm(\"mov.b W3, [W1]\");\t// writeRTCC _time, RTCC _time_chk127 unlock byte 2\nasm(\"mov.b W0, [W1]\");\t// enable SOSCEN\n// Unlock sequence must take place for RTCEN to be written\nRCFGCAL = 0x0000;\nRTCCUnlock();\nRCFGCALbits.RTCEN = 1;\t// bit15\n//RTCC pin pad conected to RTCC second clock\nPADCFG1bits.RTSECSEL = 1;\nRCFGCALbits.RTCOE = 1;\t//RTCC Output Enable bit\n/* Enable the RTCC interrupt*/\nIFS3bits.RTCIF = 0;\t//clear the RTCC interrupt flag\nIEC3bits.RTCIE = 0;\t//enable the RTCC interrupt\n// TO DO: Write the time and date to RTCC as follow. // Set it after you change the time and date. RTCCSetBinYear(&amp;_time,9); RTCCSetBinMonth(&amp;_time,1); RTCCSetBinDay(&amp;_time,1); RTCCCalculateW e ekDay(&amp;_time); RTCCSetBinHour(&amp;_time,1); RTCCSetBinMin(&amp;_time,1); RTCCSetBinSec(&amp;_time,1);\nRTCCSet(_time);\n// Set alarm\n_alarm.sec\t=\t0x01;\n_alarm.min\t=\t0x01;\n_alarm.hr = 0x01;\n_alarm.wkd\t=\t0x01;\n_alarm.day\t=\t0x01;\n_alarm.mth\t=\t0x01;\n}\n//RTCCALMSet(_alarm);\nvoid RTCCSet(RTCC _time) {\nRTCCUnlock();\n// Unlock the RTCC\nRCFGCALbits.RTCPTR = 3;\nRTCVAL = _time.prt11;\nRTCVAL = _time.prt10;\nRTCVAL = _time.prt01;\nRTCVAL = _time.prt00;\n// Set the time\n// setyear\n// set month:day\n// set week:hour\n// set min:sec\nRCFGCALbits.RTCWREN = 0;\n// Lock the RTCC\n// Here, the watch the RTCC register, the new time and date has been updated.\n}\nvoid RTCCRead(RTCC* pTD)\n{\nRTCC currTD;\ndo\n{\nRCFGCALbits.RTCPTR = 3;\npTD->prt11=RTCVAL;\npTD->prt10=RTCVAL;\npTD->prt01=RTCVAL;\npTD->prt00=RTCVAL;\nRCFGCALbits.RTCPTR = 3;\ncurrTD.prt11=RTCVAL;\ncurrTD.prt10=RTCVAL;\ncurrTD.prt01=RTCVAL;\ncurrTD.prt00=RTCVAL;\n}while(pTD->sec!=currTD.sec);\n}\n// read the user value\n// read the user value\n// make sure you have the same sec\nvoid RTCCUnlock()\n{\nasm volatile(\"disi #5\");\nasm volatile(\"mov #0x55, w7\");\nasm volatile(\"mov w7, _NVMKEY\");\nasm volatile(\"mov #0xAA, w8\");\nasm volatile(\"mov w8, _NVMKEY\");\nasm volatile(\"bset _RCFGCAL, #13\"); asm volatile(\"nop\");\nasm volatile(\"nop\");\n}\n// write 0x55 and 0xAA to\n// NVMKEY to disable\n// write protection\n// set the RTCWREN bit\nRTCC transformDateTime(RTCC* pTD)\n{\nRTCC currTD;\npTD->sec = ((pTD->sec &amp; 0x70) >> 4)*10 + (pTD->sec &amp; 0x0F); pTD->min = ((pTD->min &amp; 0x70) >> 4)*10 + (pTD->min &amp; 0x0F); pTD->hr = ((pTD->hr &amp; 0x30) >> 4)*10 + (pTD->hr &amp; 0x0F);\npTD->day = ((pTD->day &amp; 0x30) >> 4)*10 + (pTD->day &amp; 0x0F); pTD->mth = ((pTD->mth &amp; 0x10) >> 4)*10 + (pTD->mth &amp; 0x0F); pTD->yr = ((pTD->yr &amp; 0xF0) >> 4)*10 + (pTD->yr &amp; 0x0F);\ncurrTD.prt11=pTD->prt11;\ncurrTD.prt10=pTD->prt10;\ncurrTD.prt01=pTD->prt01;\ncurrTD.prt00=pTD->prt00;\nreturn currTD;\n}\nF.8 - timers\nNa biblioteca timers.h est\u00e3o a fun\u00e7\u00e3o de configura\u00e7\u00e3o do Timer5 tmr5_setup e a fun\u00e7\u00e3o tmr5_start. O Timer5 foi configurado para gerar interrup\u00e7\u00f5es de 1 em 1 milissegundo, com a prioridade 1, e com clock de entrada interno.\n-Prot\u00f3tipos das Fun\u00e7\u00f5es\nvoid tmr5_start (void)\nvoid tmr5_setup(void)\nvoid tmr5_start (void)\n{\nT5CONbits.TON=0;\nTMR5=0; T5CONbits.TON=1;\n}\nvoid tmr5_setup(void)\n{\n//T5CON: TIMER5 CONTROL REGISTER\nT5CON = 0x00;\t//Stops the Timer5 and reset control reg.\nTMR5 = 0x00;\t//Clear contents of the timer register\nPR5 = FCY / 8 / 1000;\t//Load the Period register with the value\nIPC7bits.T5IP = 0x01; IFS1bits.T5IF = 0; IEC1bits.T5IE = 1; T5CONbits.TCS=0; T5CONbits.TCKPS1=0; T5CONbits.TCKPS0=1; T5CONbits.TON = 0;\t//Setup Timer5 interrupt for desired priority level //Clear the Timer5 interrupt status flag //Enable Timer5 interrupts //External clock from TxCK pin //Timer5 Input Clock Prescale Select bits //Timer5 Input Clock Prescale Select bits //Start Timer5 with prescaler settings at 1:1 and //clock source set to the internal clock (FOSC/2)\n}\nF.9 - -trama\nNa biblioteca trama.h est\u00e3o duas fun\u00e7\u00f5es que permitem a escrita dos dados na trama (buffer) e o envio da trama. A fun\u00e7\u00e3o de escrita writeTrama armazena os dados no buffer trama com um respectivo id at\u00e9 um determinado tamanho (TRAMA_SIZE_MAX). A fun\u00e7\u00e3o sendTrama adiciona \u00e0 trama o cabe\u00e7alho e um checksum, resultado da fun\u00e7\u00e3o add2crc da biblioteca crc.h.\n-Constantes\n#define TRAMA_SIZE_MAX 100\n#define MSGOK\t0\n#define MSGERR\t-1\n#define SYNCRO\t0\n#define LENGTH\t1\n#define ID\t2\n#define DATA\t3\n-Prot\u00f3tipos das Fun\u00e7\u00f5es\nvoid writeTrama(unsigned char id, unsigned char nbyte, short *data);\nvoid sendTrama(void);\nvoid sendTramaPC(void);\nvoid sendTramaSD(void);\nvoid writeTrama(unsigned char id, unsigned char nbyte, short *data) {\nunsigned char i=0,k=0;\nif( (trama_size+nbyte+1)>(TRAMA_SIZE_MAX) )\nsendTrama();\ntrama[trama_size] = id;\t// Write ID\ntrama_size++;\nwhile(i<nbyte)\t// Write DATA\n{\nif (i==nbyte-1)\n{\ntrama[trama_size+(i++)]=(unsigned char)(data[k]&amp;0x00FF); }else{\ntrama[trama_size+(i++)]=(unsigned char)(data[k]>>8); trama[trama_size+(i++)]=(unsigned char)(data[k++]&amp;0x00FF);\n}\n} trama_size+=nbyte;\n}\nvoid sendTrama (void)\n{\nif (_sendPC ==1 )\n{\nsendTramaPC();\n}else if (_sendPC ==0 ){\nsendTramaSD();\n}\n}\nvoid sendTramaPC(void)\n{\nshort crc;\nunsigned char i,k;\nif(trama_size>2)\n{\ntrama[0] = 0x00;\ntrama[1] = 0x80 + trama_size;\ncrc = 0;\nfor(i=1;i &lt;trama_size; i++) crc=add2crc(trama[i],crc);\ntrama[trama_size++] = (unsigned char)(crc>>8); trama[trama_size++] = (unsigned char)(crc&amp;0x00FF);\nfor (k=0;k<trama_size;k++)\n{\nif (trama[k]<16)\n{ xprintf(\"%X\",0); xprintf(\"%X\",trama[k]);\n}else{ xprintf(\"%X\",trama[k]);\n}\ntrama[k]=0;\n} trama_size = 2;\n}\n}\nF.10 - vars\nNa biblioteca vars.h est\u00e3o definidas algumas vari\u00e1veis do programa, entre as quais o identificador id dos v\u00e1rios sensores e dados da trama.\n#define AEROID\t1\n#define WINDSPEED\t1\n#define WINDDIRECTION #define TEMPERATURE #define AEROSPEED #define AERODIRECTION #define AEROVOLT #define AEROCURRENT #define AEROPOWER #define INVERTERCURRENT #define BATTERY\t2 3 4 5 6 7 8 9 10\n#define CONNECTION_OPEN #define CONNECTION_PING #define GETDATETIMEPC #define DIFFDATETIME #define DATETIMEPIC\t11 12 13 14 15"}]}}}