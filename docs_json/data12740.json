{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.16740"}, {"@name": "filename", "#text": "2340_D2014%20-%20Luiz%20Aizemberg.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "UNIVERSIDADE FEDERAL FLUMINENSE\n\nESCOLA DE ENGENHARIA\n\nDOUTORADO EM ENGENHARIA DE PRODU\u00c7\u00c3O\n\nLUIZ AIZEMBERG\n\nOTIMIZA\u00c7\u00c3O DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE PETR\u00d3LEO E\n\nDE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA BRASILEIRA DE PETR\u00d3LEO:\n\nCONCEITOS, MODELAGEM E APLICA\u00c7\u00c3O\n\nNITER\u00d3I\n\n2014\n\n\n\nLUIZ AIZEMBERG\n\nOTIMIZA\u00c7\u00c3O DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE PETR\u00d3LEO E\n\nDE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA BRASILEIRA DE PETR\u00d3LEO:\n\nCONCEITOS, MODELAGEM E APLICA\u00c7\u00c3O\n\nTese apresentada ao Curso de P\u00f3s-\nGradua\u00e7\u00e3o em Engenharia de Produ\u00e7\u00e3o da\nUniversidade Federal Fluminense, como\nrequisito parcial para obten\u00e7\u00e3o do Grau\nde Doutor em Engenharia de Produ\u00e7\u00e3o.\n\u00c1rea de Concentra\u00e7\u00e3o: Sistemas, Apoio \u00e0\ndecis\u00e3o e Log\u00edstica.\n\nOrientador: Prof. Dr. Artur Alves Pessoa\n\nNiter\u00f3i\n\n2014\n\n\n\nLUIZ AIZEMBERG\n\nOTIMIZA\u00c7\u00c3O DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE PETR\u00d3LEO E\n\nDE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA BRASILEIRA DE PETR\u00d3LEO:\n\nCONCEITOS, MODELAGEM E APLICA\u00c7\u00c3O\n\nTese apresentada ao Curso de P\u00f3s-Gradua\u00e7\u00e3o em Enge-\nnharia de Produ\u00e7\u00e3o da Universidade Federal Fluminense,\ncomo requisito parcial para obten\u00e7\u00e3o do Grau de Doutor\nem Engenharia de Produ\u00e7\u00e3o. \u00c1rea de Concentra\u00e7\u00e3o: Sis-\ntemas, Apoio \u00e0 decis\u00e3o e Log\u00edstica.\n\nAprovada dia 9 de julho de 2014.\n\nBANCA EXAMINADORA\n\nProf. Dr. Artur Alves Pessoa - Orientador\n\nUFF\n\nProf. Dr. Eduardo Uchoa Barboza - Co-orientador\n\nUFF\n\nProf. Dr. Eduardo Siqueira Brick\n\nUFF\n\nProf. Dr. Luidi Gelabert Simonetti\n\nUFF\n\nProf. Dr. Marcus Vinicius Soledade Poggi de Arag\u00e3o\n\nPUC\n\nProf. Dr. Virg\u00edlio Jos\u00e9 Martins Ferreira Filho\n\nUFRJ\n\nNiter\u00f3i\n\n2014\n\n\n\nDedico este trabalho \u00e0queles que sempre me\n\napoiaram, incentivaram e cobraram muito para\n\nque eu me tornasse engenheiro, meus amados\n\npais Gerson Aizemberg e Angela Maria Aizem-\n\nberg. Sei que nunca conseguirei retribuir tanta\n\ndedica\u00e7\u00e3o e amor.\n\n\n\nAGRADECIMENTOS\n\nGostaria de agradecer a todos os que participaram do projeto que originou esta tese, \u00e0\n\nequipe UFCG, equipe UTFPR, e principalmente \u00e0 equipe UFF.\n\nQuero agradecer ao meu orientador Artur Alves Pessoa que, com seus incomensur\u00e1veis\n\nconhecimentos e infind\u00e1vel boa vontade, sempre se colocou \u00e0 disposi\u00e7\u00e3o para me auxiliar em\n\nqualquer etapa. Agrade\u00e7o tamb\u00e9m ao meu co-orientador, Eduardo Uchoa Barboza, por sua ajuda\n\nem diversos momentos de minha pesquisa.\n\nA minha fam\u00edlia, pois sem o seu eterno apoio, carinho e cobran\u00e7as, n\u00e3o seria poss\u00edvel a\n\nrealiza\u00e7\u00e3o deste trabalho.\n\nAos meus amigos do Logis, Marcos, Hugo, Maur\u00edcio, Andr\u00e9, Fred, Guilherme e Mario,\n\nque me ajudaram muito ao longo do mestrado e doutorado.\n\nA todos os meus antigos professores que, seja pela intelig\u00eancia, conhecimento ou amor\n\n\u00e0 profiss\u00e3o, me tornaram cada vez mais interessado pelo conhecimento.\n\n\n\nRESUMO\n\nNesta tese de doutorado, foram estudados modelos matem\u00e1ticos e outras t\u00e9cnicas de\notimiza\u00e7\u00e3o para um problema de n\u00edvel t\u00e1tico de transporte de \u00f3leo e derivados. O problema\nmonoproduto e monomodal considera capacidades de estoque e tamanhos de lote discretos a\nserem transportados, objetivando atender as demandas ao longo de um horizonte de tempo.\nTestes exaustivos foram realizados com 75 inst\u00e2ncias retiradas da literatura e com 25 novas\ninst\u00e2ncias com maior grau de dificuldade do que as j\u00e1 existentes. Uma heur\u00edstica baseada em\ngera\u00e7\u00e3o de colunas foi desenvolvida para encontrar boas solu\u00e7\u00f5es vi\u00e1veis em menos tempo do\nque os algoritmos heur\u00edsticos do otimizador comercial utilizado.\n\nEste estudo foi posteriormente utilizado no desenvolvimento de um modelo matem\u00e1tico\nmultiproduto e multimodal, onde diversas restri\u00e7\u00f5es encontradas no planejamento log\u00edstico de\numa empresa de petr\u00f3leo s\u00e3o consideradas. Nesta etapa, foram pesquisadas e testadas t\u00e9cnicas\nde otimiza\u00e7\u00e3o com maior ader\u00eancia a modelos matem\u00e1ticos complexos. Optou-se por mudar\no foco de m\u00e9todos exatos para heur\u00edsticos. Uma heur\u00edstica baseada em busca local foi cons-\ntru\u00edda e sua efici\u00eancia comprovada. Al\u00e9m das inst\u00e2ncias utilizadas no estudo anterior, inst\u00e2ncias\nbaseadas em dados reais foram utilizadas, o que permitiu testar todas as restri\u00e7\u00f5es do modelo.\n\nPalavras-chave: Programa\u00e7\u00e3o Matem\u00e1tica, Log\u00edstica, Petr\u00f3leo.\n\n\n\nABSTRACT\n\nIn this thesis, we study tactical models and other optimization techniques for a crude oil\ntransportation problem. The problem with one product and one transportation mode considers\ninventory capacities and discrete lot sizes to be transported, aiming at meeting given demands\nover a finite time horizon. We use 75 instances from the literature and propose 25 new harder\nones. A column generation-based heuristic is proposed to find good feasible solutions with less\ncomputational burden than the heuristics of the commercial solver used.\n\nThe optimization study is then used in the development of a mathematical model with\nseveral products and transportation modes, where many real constraints found in the logistic\nmanagement of a petroleum company are considered. Optimization techniques more adherent to\ncomplex mathematical models are studied. The focus changed from exact to heuristic methods.\nA local search heuristic was devised and its efficiency comproved. Instances from the previous\nstudy and new instances based on real data are used. These new instances allow testing the new\nconstraints added in the model.\n\nKeywords: Mathematical Programming, Logistic, Petroleum.\n\n\n\n7\n\nSUM\u00c1RIO\n\n1 INTRODU\u00c7\u00c3O 16\n\n1.1 ENQUADRAMENTO . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 16\n\n1.2 MOTIVA\u00c7\u00d5ES . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 17\n\n1.2.1 LOG\u00cdSTICA E PETR\u00d3LEO . . . . . . . . . . . . . . . . . . . . . . 17\n\n1.2.2 GERENCIAMENTO DA CADEIA DE SUPRIMENTOS . . . . . 18\n\n1.2.3 CUSTOS DA LOG\u00cdSTICA BRASILEIRA . . . . . . . . . . . . . . 18\n\n1.2.4 BREVE HIST\u00d3RICO DA IND\u00daSTRIA BRASILEIRA DE PE-\n\nTR\u00d3LEO (CRONOLOGIA) . . . . . . . . . . . . . . . . . . . . . . 20\n\n1.2.5 COMPLEXIDADE DO PROBLEMA ESTUDADO . . . . . . . . 20\n\n1.3 OBJETIVOS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 21\n\n1.4 ORGANIZA\u00c7\u00c3O DO TRABALHO . . . . . . . . . . . . . . . . . . . . . . 22\n\n2 ESTUDO DO PROBLEMA DO PLANEJAMENTO DE MOVIMENTA\u00c7\u00d5ES DE\n\nLOTES ATRAV\u00c9S DE UMA REDE LOG\u00cdSTICA MONOPRODUTO E MONO-\n\nMODAL 23\n\n2.1 REVIS\u00c3O DE LITERATURA . . . . . . . . . . . . . . . . . . . . . . . . . 24\n\n2.2 FORMULA\u00c7\u00d5ES PARA O PROBLEMA DO PLANEJAMENTO DE MO-\n\nVIMENTA\u00c7\u00d5ES DE LOTES ATRAV\u00c9S DE UMA REDE LOG\u00cdSTICA 25\n\n2.2.1 DADOS DE ENTRADA DO PROBLEMA . . . . . . . . . . . . . 26\n\n2.2.2 FORMULA\u00c7\u00c3O NATURAL . . . . . . . . . . . . . . . . . . . . . 27\n\n2.2.3 FORMULA\u00c7\u00c3O B\u00c1SICA . . . . . . . . . . . . . . . . . . . . . . . 28\n\n2.2.4 KNAPSACK CASCADING . . . . . . . . . . . . . . . . . . . . . . . . 30\n\n2.2.5 CASCADING ACUMULADO NAS ROTAS E ARREDONDADO . 31\n\n2.2.6 CASCADING ACUMULADO NOS LOCAIS E ARREDONDADO 32\n\n2.2.7 FORMULA\u00c7\u00c3O PARA GERA\u00c7\u00c3O DE COLUNAS . . . . . . . 35\n\n2.3 HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE COLUNAS . . . . . . . . 37\n\n2.3.1 PROGRAMA\u00c7\u00c3O DIN\u00c2MICA . . . . . . . . . . . . . . . . . . . . . 38\n\n\n\n8\n\n2.3.2 PROCEDIMENTO DA HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE\n\nCOLUNAS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 40\n\n2.4 RESULTADOS COMPUTACIONAIS . . . . . . . . . . . . . . . . . . . . 42\n\n2.4.1 RESULTADOS COMPUTACIONAIS DAS FORMULA\u00c7\u00d5ES . . 42\n\n2.4.2 RESULTADOS COMPUTACIONAIS DA HEUR\u00cdSTICA BASEADA\n\nEM GERA\u00c7\u00c3O DE COLUNAS . . . . . . . . . . . . . . . . . . . . . 48\n\n2.5 CONCLUS\u00d5ES DESTE CAP\u00cdTULO . . . . . . . . . . . . . . . . . . . . . 50\n\n3 PROBLEMA DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE PE-\n\nTR\u00d3LEO E DE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA BRASILEIRA\n\nDE PETR\u00d3LEO - MALHA BRASIL 52\n\n3.1 PRODUTOS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 52\n\n3.2 LOCAIS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 53\n\n3.3 MODAIS . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 56\n\n3.4 CAPACIDADES DE ESTOQUE . . . . . . . . . . . . . . . . . . . . . . . . 60\n\n4 ESTUDO DO PROBLEMA DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVA-\n\nDOS DE PETR\u00d3LEO E DE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA\n\nMULTIPRODUTO E MULTIMODAL BRASILEIRA (MALHA BRASIL) 62\n\n4.1 REVIS\u00c3O BIBLIOGR\u00c1FICA . . . . . . . . . . . . . . . . . . . . . . . . . 64\n\n4.2 MODELO MATEM\u00c1TICO . . . . . . . . . . . . . . . . . . . . . . . . . . 66\n\n4.3 BUSCA LOCAL POR PROGRAMA\u00c7\u00c3O INTEIRA MISTA (PIM) . . . 77\n\n4.4 RESULTADOS COMPUTACIONAIS . . . . . . . . . . . . . . . . . . . . 79\n\n4.4.1 CONSTRU\u00c7\u00c3O DA INST\u00c2NCIA BASE . . . . . . . . . . . . . . . . . . 79\n\n4.4.2 EXPERIMENTOS COM A BUSCA LOCAL POR PIM . . . . . . . . . . . 80\n\n4.4.3 VISUALIZA\u00c7\u00c3O DA SOLU\u00c7\u00c3O DE UMA INST\u00c2NCIA BASEADA NA INS-\n\nT\u00c2NCIA BASE . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 84\n\n4.5 CONCLUS\u00d5ES DO CAP\u00cdTULO . . . . . . . . . . . . . . . . . . . . . . . 85\n\n4.5.1 MELHORIAS DESEJ\u00c1VEIS . . . . . . . . . . . . . . . . . . . . . 86\n\n5 CONCLUS\u00c3O E TRABALHOS FUTUROS 96\n\nA TABELAS COMPLETAS COM OS RESULTADOS COMPUTACIONAIS DE\n\nTODAS AS FORMULA\u00c7\u00d5ES DO ESTUDO DO CAP\u00cdTULO 2 97\n\n\n\nB ARQUIVO DE CONFIGURA\u00c7\u00c3O DO SOFTWARE 116\n\n\n\n10\n\nLISTA DE FIGURAS\n\n1.1 Custos log\u00edsticos considerados . . . . . . . . . . . . . . . . . . . . . . . . . . 18\n\n1.2 Custos log\u00edsticos em rela\u00e7\u00e3o ao PIB . . . . . . . . . . . . . . . . . . . . . . . 19\n\n1.3 Distribui\u00e7\u00e3o dos custos log\u00edsticos . . . . . . . . . . . . . . . . . . . . . . . . 19\n\n2.1 Problema com um produto e um modal de transporte . . . . . . . . . . . . . . 23\n\n2.2 Programa\u00e7\u00e3o Din\u00e2mica com dois tamanhos de lote . . . . . . . . . . . . . . . 39\n\n2.3 (a) Representa\u00e7\u00e3o de um conjunto de vari\u00e1veis z correspondentes \u00e0 mesma rota\n\ne classe de navio. (b) Branching nas vari\u00e1veis z. (c) Branching nas vari\u00e1veis x. 47\n\n3.1 Organiza\u00e7\u00e3o dos produtos em grupos de produtos . . . . . . . . . . . . . . . . 53\n\n3.2 Localiza\u00e7\u00e3o das bacias, plataformas e terminais na cadeia log\u00edstica da Petrobras\n\nno Brasil . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 55\n\n3.3 Localiza\u00e7\u00e3o das refinarias na cadeia log\u00edstica da Petrobras no Brasil . . . . . . 56\n\n3.4 Topologia aproximada da malha multimodal petrol\u00edfera brasileira . . . . . . . . 58\n\n3.5 Bases, refinarias, ferrovias e dutos na cadeia log\u00edstica da Petrobras no Brasil . . 59\n\n3.6 Capacidades agregadas de estoque em cada local . . . . . . . . . . . . . . . . 61\n\n4.1 Balan\u00e7o acumulado dos dois per\u00edodos para cada grupo de produtos em cada local 85\n\n4.2 Capacidade f\u00edsica m\u00e1xima e estoque inicial por grupo de produtos e por local . 86\n\n4.3 Envios no per\u00edodo 1 do produto 5 pertencente ao grupo DSL AUTOM MTE . . 87\n\n4.4 Envios no per\u00edodo 2 do produto 5 pertencente ao grupo DSL AUTOM MTE . . 88\n\n4.5 Envios no per\u00edodo 1 do produto 6 pertencente ao grupo DSL MARIT (nada foi\n\nenviado no per\u00edodo 2) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 88\n\n4.6 Envios no per\u00edodo 1 do produto 10 pertencente ao grupo DSL AUTOM BTE . . 89\n\n4.7 Envios no per\u00edodo 2 do produto 10 pertencente ao grupo DSL AUTOM BTE . . 89\n\n4.8 Envios no per\u00edodo 1 do produto 11 pertencente ao grupo DSL MARIT . . . . . 90\n\n4.9 Envios no per\u00edodo 2 do produto 11 pertencente ao grupo DSL MARIT . . . . . 90\n\n4.10 Envios no per\u00edodo 1 do produto 12 pertencente ao grupo DSL AUTOM ATE . . 91\n\n\n\n4.11 Envios no per\u00edodo 2 do produto 12 pertencente ao grupo DSL AUTOM ATE . . 91\n\n4.12 Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o\n\nf\u00edsica (parte 1/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 92\n\n4.13 Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o\n\nf\u00edsica (parte 2/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 93\n\n4.14 Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o\n\nf\u00edsica (parte 3/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 94\n\n4.15 Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o\n\nf\u00edsica (parte 4/4) . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 95\n\n\n\n12\n\nLISTA DE TABELAS\n\n2.1 Lidando com produ\u00e7\u00e3o fracion\u00e1ria . . . . . . . . . . . . . . . . . . . . . . . . 40\n\n2.2 Resultados m\u00e9dios e n\u00famero de inst\u00e2ncias resolvidas para as formula\u00e7\u00f5es mate-\n\nm\u00e1ticas e resultados de Rocha (2010) para as inst\u00e2ncias da classe m\u00e9dia . . . . 44\n\n2.3 Resultados m\u00e9dios e n\u00famero de inst\u00e2ncias resolvidas para as formula\u00e7\u00f5es mate-\n\nm\u00e1ticas e resultados de Rocha (2010) para as inst\u00e2ncias da classe dif\u00edcil . . . . 44\n\n2.4 Tamanho das formula\u00e7\u00f5es para uma inst\u00e2ncia da classe mais dif\u00edcil . . . . . . . 46\n\n2.5 Resultados m\u00e9dios e n\u00famero de inst\u00e2ncias resolvidas para a formula\u00e7\u00e3o CALA\n\n(comparando com CARA) e suas relaxa\u00e7\u00f5es para a classe de inst\u00e2ncias mais\n\ndif\u00edceis criadas . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 49\n\n2.6 Resultados m\u00e9dios e quantidade de solu\u00e7\u00f5es vi\u00e1veis encontradas para a heur\u00eds-\n\ntica baseada em gera\u00e7\u00e3o de colunas com e sem viola\u00e7\u00e3o nos terminais usando a\n\nCARA para a classe mais dif\u00edcil de inst\u00e2ncias . . . . . . . . . . . . . . . . . . 50\n\n2.7 Resultados m\u00e9dios e quantidade de inst\u00e2ncias resolvidas para as duas formula-\n\n\u00e7\u00f5es com vari\u00e1veis acumuladas e a heur\u00edstica baseada em gera\u00e7\u00e3o de colunas,\n\npara a classe mais dif\u00edcil de inst\u00e2ncias . . . . . . . . . . . . . . . . . . . . . . 50\n\n4.1 Resultados computacionais da Busca Local por PIM com inst\u00e2ncias modificadas\n\nda literatura . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 82\n\n4.2 Resultados computacionais da Busca Local por PIM com inst\u00e2ncias aleat\u00f3rias . 83\n\nA.1 Solu\u00e7\u00e3o \u00f3tima ou melhor solu\u00e7\u00e3o encontrada para as inst\u00e2ncias artificiais utili-\n\nzadas nos teste . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 98\n\nA.2 Formula\u00e7\u00e3o b\u00e1sica para classe m\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultados da raiz . 99\n\nA.3 Formula\u00e7\u00e3o b\u00e1sica para classe m\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultado final . . . 100\n\nA.4 Knapsack Cascading com Arredondamento para classe m\u00e9dia e dif\u00edcil de ins-\n\nt\u00e2ncias, resultados da raiz . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 101\n\nA.5 Knapsack Cascading com Arredondamento para classe m\u00e9dia e dif\u00edcil de ins-\n\nt\u00e2ncias, resultado final . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 102\n\n\n\nA.6 Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote bin\u00e1rio para classe\n\nm\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultados da raiz . . . . . . . . . . . . . . . . . . 103\n\nA.7 Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote bin\u00e1rio para classe\n\nm\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultado final . . . . . . . . . . . . . . . . . . . 104\n\nA.8 Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote cont\u00ednuo para classe\n\nm\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultados da raiz . . . . . . . . . . . . . . . . . . 105\n\nA.9 Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote cont\u00ednuo para classe\n\nm\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultado final . . . . . . . . . . . . . . . . . . . 106\n\nA.10 Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote cont\u00ednuo com a classe\n\nmais dif\u00edcil de inst\u00e2ncias, raiz e resultado final . . . . . . . . . . . . . . . . . . 107\n\nA.11 Formula\u00e7\u00e3o acumulada nos locais e arredondado com as classes m\u00e9dia e dif\u00edcil\n\nde inst\u00e2ncias, resultado da raiz . . . . . . . . . . . . . . . . . . . . . . . . . . 108\n\nA.12 Formula\u00e7\u00e3o acumulada nos locais e arredondado com as classes m\u00e9dia e dif\u00edcil\n\nde inst\u00e2ncias, resultado final . . . . . . . . . . . . . . . . . . . . . . . . . . . 109\n\nA.13 Formula\u00e7\u00e3o acumulada nos locais e arredondado com a classe mais dif\u00edcil de\n\ninst\u00e2ncias, raiz e resultado final . . . . . . . . . . . . . . . . . . . . . . . . . . 110\n\nA.14 Formula\u00e7\u00e3o com Gera\u00e7\u00e3o de Colunas, resultados da raiz para as classes m\u00e9dia e\n\ndif\u00edcil de inst\u00e2ncias . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 111\n\nA.15 Formula\u00e7\u00e3o com Gera\u00e7\u00e3o de Colunas, resultados da raiz para as inst\u00e2ncias da\n\nclasse mais dif\u00edcil . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . 112\n\nA.16 Formula\u00e7\u00e3o acumulada nas rotas e arredondado com custo de estouro de 999999,\n\ncom a classe mais dif\u00edcil de inst\u00e2ncias, raiz e resultado final . . . . . . . . . . . 113\n\nA.17 Formula\u00e7\u00e3o acumulada nos locais e arredondado com custo de estouro de 999999,\n\ncom a classe mais dif\u00edcil de inst\u00e2ncias, raiz e resultado final . . . . . . . . . . . 114\n\nA.18 Heur\u00edstica baseada em Gera\u00e7\u00e3o de Colunas, com as formula\u00e7\u00f5es acumuladas\n\nnas rotas e locais, com estouro e sem estouro, gap UB . . . . . . . . . . . . . . 115\n\n\n\nLISTA DE ABREVIA\u00c7\u00d5ES\n\nANP Ag\u00eancia Nacional de Petr\u00f3leo\n\nbpd barris por dia\n\nBLP Busca Local por PIM\n\nCAL Cascading Acumulado nos Locais\n\nCALA Cascading Acumulado nos Locais e Arredondado\n\nCAR Cascading Acumulado nas Rotas\n\nCARA Cascading Acumulado nas Rotas e Arredondado\n\nCEEI Centro de Engenharia El\u00e9trica e Inform\u00e1tica\n\nCPGEI Programa de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia El\u00e9trica e Inform\u00e1tica Industrial\n\nCPLEX Software comercial de otimiza\u00e7\u00e3o\n\nCPU Central Processing Unit\n\nCSCMP Council of Supply Chain Management Professionals\n\nE&amp;P Explora\u00e7\u00e3o e Produ\u00e7\u00e3o de petr\u00f3leo e g\u00e1s natural\n\nFB Formula\u00e7\u00e3o B\u00e1sica\n\nFN Formula\u00e7\u00e3o Natural\n\nFGC Formula\u00e7\u00e3o para Gera\u00e7\u00e3o de Colunas\n\nFPSO Floating production storage and offloading\n\nGB Gigabyte\n\nGC Gera\u00e7\u00e3o de Colunas\n\nGLP G\u00e1s Liquefeito de Petr\u00f3leo\n\nHGC Heur\u00edstica baseada em Gera\u00e7\u00e3o de Colunas\n\nIBP Instituto Brasileiro de Petr\u00f3leo, G\u00e1s e Biocombust\u00edveis\n\nILOS Instituto de Log\u00edstica e Supply Chain\n\nKC Knapsack Cascading\n\nKCA Knapsack Cascading Arredondado\n\nLCO Light Cycle Oil - \u00d3leo Leve de Reciclo\n\n\n\n15\n\nLOGIS N\u00facleo de Log\u00edstica Integrada e Sistemas\n\nLUBNOR Refinaria Lubrificantes e Derivados do Nordeste\n\nMDC M\u00e1ximo Divisor Comum\n\nMIP Mixed Integer Programming\n\nPetrobras Petr\u00f3leo Brasileiro S.A.\n\nPIB Produto Interno Bruto\n\nPIM Programa\u00e7\u00e3o Inteira Mista\n\nPMR Problema Mestre Restrito\n\nRECAP Refinaria de Capuava\n\nREDUC Refinaria de Duque de Caxias\n\nREFAP Refinaria Alberto Pasqualini\n\nREGAP Refinaria Gabriel Passos\n\nREMAN Refinaria Isaac Sabb\u00e1\n\nREPAR Refinaria Presidente Get\u00falio Vargas\n\nREPLAN Refinaria de Paul\u00ednia\n\nREVAP Refinaria Henrique Lage\n\nRLAM Refinaria Landulpho Alves\n\nRPBC Refinaria Presidente Bernardes\n\nRPCC Refinaria Potiguar Clara Camar\u00e3o\n\nSCM Supply Chain Management\n\nUFCG Universidade Federal de Campina Grande\n\nUFF Universidade Federal Fluminense\n\nUTFPR Universidade Tecnol\u00f3gica Federal do Paran\u00e1\n\n\n\n1 INTRODU\u00c7\u00c3O\n\n1.1 ENQUADRAMENTO\n\nEsta tese de doutorado apresenta um estudo de otimiza\u00e7\u00e3o que faz parte do desenvol-\n\nvimento de um software para apoio \u00e0 tomada de decis\u00f5es sobre as movimenta\u00e7\u00f5es de lotes de\n\nderivados de petr\u00f3leo e de biocombust\u00edveis pela rede log\u00edstica brasileira de petr\u00f3leo (Malha\n\nBrasil). Este estudo foi desenvolvido em parceria com a empresa Petrobras (Petr\u00f3leo Brasileiro\n\nS.A.) e com tr\u00eas universidades brasileiras. A inten\u00e7\u00e3o da Petrobras \u00e9 prover seus funcion\u00e1rios\n\nde um software capaz de gui\u00e1-los no planejamento log\u00edstico da empresa, bastando para isso que\n\nos dados de entrada da rede log\u00edstica sejam adicionados no banco de dados e o software gere as\n\nmovimenta\u00e7\u00f5es necess\u00e1rias para o per\u00edodo escolhido. Por ser um problema de extrema comple-\n\nxidade, o software ser\u00e1 utilizado para o planejamento de m\u00e9dio e pequeno prazos (n\u00edveis t\u00e1tico\n\ne operacional, respectivamente).\n\nA ferramenta computacional est\u00e1 sendo desenvolvida por tr\u00eas universidades brasileiras\n\n- UFF, UTFPR e UFCG. Cada uma possui uma fun\u00e7\u00e3o espec\u00edfica no projeto, a saber: a UFF,\n\nrepresentada pelo N\u00facleo de Log\u00edstica Integrada e Sistemas (LOGIS), foi escalada para a cons-\n\ntru\u00e7\u00e3o de um modelo matem\u00e1tico, podendo tamb\u00e9m elaborar t\u00e9cnicas de otimiza\u00e7\u00e3o que achar\n\nconveniente, como heur\u00edsticas e planos de corte. A UTFPR, representada pelo Programa de\n\nP\u00f3s-Gradua\u00e7\u00e3o em Engenharia El\u00e9trica e Inform\u00e1tica Industrial (CPGEI), ficou escalada para\n\ndesenvolver um modelo baseado em agentes com a inten\u00e7\u00e3o de retornar uma solu\u00e7\u00e3o fact\u00edvel\n\npara o problema, solu\u00e7\u00e3o esta que poder\u00e1 ser utilizada pelo modelo matem\u00e1tico da UFF para\n\naprimorar o upper bound do algoritmo de Branch-and-Bound utilizado na resolu\u00e7\u00e3o do modelo.\n\nPor \u00faltimo, a UFCG, representada pelo Centro de Engenharia El\u00e9trica e Inform\u00e1tica (CEEI) foi\n\nescalada para a cria\u00e7\u00e3o do banco de dados que conter\u00e1 os dados de entrada da cadeia log\u00edstica\n\nda Petrobras, a concep\u00e7\u00e3o da interface gr\u00e1fica da ferramenta e a documenta\u00e7\u00e3o e integra\u00e7\u00e3o dos\n\n\n\n17\n\nmodelos para forma\u00e7\u00e3o da ferramenta.\n\nO resto da introdu\u00e7\u00e3o est\u00e1 dividido da seguinte forma: a se\u00e7\u00e3o 1.2 relata as motiva\u00e7\u00f5es\n\npara a realiza\u00e7\u00e3o deste trabalho. A se\u00e7\u00e3o 1.3 informa os objetivos almejados. Por fim, a se\u00e7\u00e3o\n\n1.4 apresenta a organiza\u00e7\u00e3o dos cap\u00edtulos e se\u00e7\u00f5es.\n\n1.2 MOTIVA\u00c7\u00d5ES\n\n1.2.1 LOG\u00cdSTICA E PETR\u00d3LEO\n\nDe acordo com o Council of Supply Chain Management Professionals (CSCMP) norte-\n\namericano: \"Log\u00edstica \u00e9 o processo de planejar, implementar e controlar de maneira eficiente o\n\nfluxo e a armazenagem de produtos, bem como os servi\u00e7os e informa\u00e7\u00f5es associados, cobrindo\n\ndesde o ponto de origem at\u00e9 o ponto de consumo, com o objetivo de atender aos requisitos do\n\nconsumidor.\"\n\nO termo log\u00edstica tem origem nas opera\u00e7\u00f5es militares. Ao decidir avan\u00e7ar suas tropas\n\nseguindo uma determinada estrat\u00e9gia militar, os generais precisavam ter, sob suas ordens, uma\n\nequipe que providenciasse o deslocamento, na hora certa, de muni\u00e7\u00e3o, v\u00edveres, equipamentos e\n\nsocorro m\u00e9dico para o campo de batalha. Com o passar do tempo, o termo foi gradualmente se\n\ngeneralizando para cobrir atividades de neg\u00f3cios e servi\u00e7os (Novaes, 2001).\n\nA log\u00edstica possui uma vis\u00e3o hol\u00edstica e integrada de todas as atividades que ela envolve.\n\nEnt\u00e3o, enquanto controle de estoque, transporte, gerenciamento dos armaz\u00e9ns e distribui\u00e7\u00e3o s\u00e3o\n\ntodos importantes componentes, log\u00edstica lida com a integra\u00e7\u00e3o destas e de outras atividades para\n\nprover um servi\u00e7o de qualidade para o sistema ou corpora\u00e7\u00e3o. Minimizar o uso dos recursos,\n\nprincipalmente tempo e dinheiro, s\u00e3o os objetivos mais comuns (Ghiani et al, 2004).\n\nA complexidade da log\u00edstica pode ser modelada, analisada, visualizada e otimizada por\n\nsoftwares de simula\u00e7\u00e3o e programa\u00e7\u00e3o matem\u00e1tica.\n\nA distribui\u00e7\u00e3o de derivados de petr\u00f3leo caracteriza-se por transportar produtos de baixo\n\nvalor agregado e m\u00ednimo risco de obsolesc\u00eancia, al\u00e9m da demanda ser est\u00e1vel. Deste modo,\n\nadota-se uma pol\u00edtica de antecipa\u00e7\u00e3o \u00e0 demanda, sendo o estoque de derivados provenientes\n\ndas refinarias, descentralizado em diversas bases prim\u00e1rias, que por sua vez atendem a bases\n\nsecund\u00e1rias, de modo a atender aos postos mais distantes do pa\u00eds. Normalmente, o transporte\n\nentre essas instala\u00e7\u00f5es \u00e9 feito atrav\u00e9s de navios, dutos, caminh\u00f5es e vag\u00f5es tanque, a partir de\n\nprevis\u00f5es de vendas (dos Santos Cardoso, 2004).\n\n\n\n18\n\n1.2.2 GERENCIAMENTO DA CADEIA DE SUPRIMENTOS\n\nGest\u00e3o da Cadeia de Suprimentos (Supply Chain Management - SCM) \u00e9 o gerencia-\n\nmento de uma rede de neg\u00f3cios interconectados envolvidos na provis\u00e3o de produtos e servi\u00e7os\n\nnecess\u00e1rios para que o produto acabado chegue ao consumidor (Harland, 2005). Esta rede de\n\nneg\u00f3cios \u00e9 respons\u00e1vel por todo o transporte e estocagem das mat\u00e9rias-primas, considerando a\n\ncapacidade e o custo de estoque. O objetivo do SCM \u00e9 a redu\u00e7\u00e3o do estoque, mas garantindo que\n\nnenhum produto vai faltar quando necess\u00e1rio (Gomes, 2004). O desenvolvimento de t\u00e9cnicas e\n\nferramentas para melhorar o gerenciamento de cadeias de suprimento contribui para melhorar\n\nsuas estrat\u00e9gias e pr\u00e1ticas, levando a melhores decis\u00f5es (Siegel e Shim, 1999).\n\nO gerenciamento da cadeia de suprimentos inclui a log\u00edstica, podendo ser visto como\n\numa evolu\u00e7\u00e3o desta.\n\n1.2.3 CUSTOS DA LOG\u00cdSTICA BRASILEIRA\n\nOs dados desta subse\u00e7\u00e3o foram retirados do website do Instituto de Log\u00edstica e Supply\n\nChain (ILOS). Quatro custos foram considerados: transporte, armazenagem, administrativo e\n\nestoque. A figura 1.1 detalha cada um destes custos e as figuras 1.2 e 1.3 mostram, respecti-\n\nvamente, os custos log\u00edsticos em rela\u00e7\u00e3o ao PIB para o Brasil e para os EUA, e a distribui\u00e7\u00e3o\n\ndestes custos entre transporte, armazenagem e estoque, comparando a situa\u00e7\u00e3o das empresas em\n\n2009 e em 2011.\n\nFigura 1.1: Custos log\u00edsticos considerados\n\n\n\n19\n\nFigura 1.2: Custos log\u00edsticos em rela\u00e7\u00e3o ao PIB\n\nFigura 1.3: Distribui\u00e7\u00e3o dos custos log\u00edsticos\n\nAnalisando as figuras, vemos que o gasto com os custos log\u00edsticos em rela\u00e7\u00e3o ao PIB nos\n\nEUA est\u00e3o mais baixos (7,7%) do que no Brasil (10,6%), mas a distribui\u00e7\u00e3o destes custos segue\n\npropor\u00e7\u00f5es parecidas, ficando o transporte, em ambos os pa\u00edses, com a maior propor\u00e7\u00e3o (61%\n\n\n\n20\n\nnos EUA e 59% no Brasil). Tamb\u00e9m podemos ver que a distribui\u00e7\u00e3o dos custos log\u00edsticos para\n\nas empresas quase n\u00e3o sofreu altera\u00e7\u00f5es entre 2009 e 2011, com o custo armazenagem tendo a\n\nmaior diferen\u00e7a percentual, passando de 23% em 2009 para 26% em 2011.\n\nOs custos log\u00edsticos representam uma parte importante dos custos das empresas. Por-\n\ntanto, estudar meios de diminuir estes custos \u00e9 imprescind\u00edvel para aumentar a produtividade\n\ndas empresas.\n\n1.2.4 BREVE HIST\u00d3RICO DA IND\u00daSTRIA BRASILEIRA DE PETR\u00d3LEO (CRO-\n\nNOLOGIA)\n\n1892: Perfurado o primeiro po\u00e7o, na cidade de Bofete (interior do estado de S\u00e3o Paulo), por\u00e9m\n\no po\u00e7o continha apenas \u00e1gua sulfurosa.\n\n1938: Criado o Conselho Nacional de Petr\u00f3leo.\n\n1939: Descoberta a primeira jazida de petr\u00f3leo explor\u00e1vel comercialmente, em Salvador, Bahia.\n\n1948: Criado o Centro de Estudos e Defesa do Petr\u00f3leo, coordenando a campanha \"O petr\u00f3leo\n\n\u00e9 nosso\".\n\n1949: Entra em opera\u00e7\u00e3o o primeiro oleoduto brasileiro, na regi\u00e3o do Rec\u00f4ncavo Baiano.\n\n1950: Instala\u00e7\u00e3o da refinaria Landulfo Alves, em Mataripe, Bahia. O primeiro petroleiro \u00e9\n\nlan\u00e7ado ao mar.\n\n1953: Fundada a Petrobras, detentora do monop\u00f3lio na extra\u00e7\u00e3o e refino do petr\u00f3leo no Brasil.\n\n1954: Petrobras entra em opera\u00e7\u00e3o.\n\n1968: Primeira descoberta de petr\u00f3leo no mar, no campo de Guaricema em Sergipe.\n\n1975: S\u00e3o adotados os contratos de risco entre a Petrobras e empresas privadas.\n\n1997: Fim do monop\u00f3lio da Petrobr\u00e1s na explora\u00e7\u00e3o do petr\u00f3leo no Brasil.\n\n2006: Alcan\u00e7ada a autossufici\u00eancia tempor\u00e1ria em petr\u00f3leo.\n\n2008: Come\u00e7a a primeira produ\u00e7\u00e3o no pr\u00e9-sal no campo de Jubarte (a Bacia de Campos, litoral\n\nsul do estado do Esp\u00edrito Santo).\n\n2009: Come\u00e7a a operar a plataforma P-51, a primeira constru\u00edda 100% no Brasil.\n\nPara mais informa\u00e7\u00f5es sobre a hist\u00f3ria da ind\u00fastria do petr\u00f3leo no Brasil, ver Quintas e\n\nQuintans (2010) e Penna et al (2004).\n\n1.2.5 COMPLEXIDADE DO PROBLEMA ESTUDADO\n\nO problema de movimenta\u00e7\u00e3o de lotes atrav\u00e9s de uma rede log\u00edstica \u00e9 encontrado na\n\nliteratura com diversos nomes e diversas caracter\u00edsticas diferentes. Em geral, este problema \u00e9\n\n\n\n21\n\nclassificado como NP-Dif\u00edcil (Milidi\u00fa e Pessoa, 2001; Milidi\u00fa et al, 2002; Liporace, 2005). A\n\ndificuldade em resolver em tempo computacional aceit\u00e1vel problemas NP-Dif\u00edceis \u00e9 uma das\n\nmotiva\u00e7\u00f5es para a escolha deste problema para compor esta tese de doutorado.\n\n1.3 OBJETIVOS\n\nO principal objetivo deste trabalho \u00e9 a realiza\u00e7\u00e3o da modelagem matem\u00e1tica a ser utili-\n\nzada no desenvolvimento do software proposto pela Petrobras para apoio \u00e0 tomada de decis\u00f5es\n\nnas movimenta\u00e7\u00f5es de lotes de derivados de petr\u00f3leo e de biocombust\u00edveis pela rede log\u00edstica\n\nbrasileira de petr\u00f3leo (Malha Brasil). Este objetivo principal foi subdividido em dois objetivos.\n\nO primeiro deles \u00e9 a realiza\u00e7\u00e3o de um estudo te\u00f3rico para o problema das movimenta\u00e7\u00f5es de\n\nlotes por uma rede log\u00edstica. Neste estudo, n\u00e3o s\u00e3o levadas em considera\u00e7\u00e3o quest\u00f5es pr\u00e1ticas\n\nacerca da aplicabilidade das t\u00e9cnicas utilizadas no software em desenvolvimento. O segundo\n\nobjetivo \u00e9 o algoritmo de programa\u00e7\u00e3o matem\u00e1tica que ser\u00e1 usado no software. Neste segundo\n\nobjetivo, s\u00e3o levadas em considera\u00e7\u00e3o apenas as t\u00e9cnicas de otimiza\u00e7\u00e3o com aplica\u00e7\u00e3o pr\u00e1tica\n\nreconhecida.\n\nPara o primeiro objetivo da subdivis\u00e3o, foi feita uma pesquisa bibliogr\u00e1fica sobre o tema\n\nem busca de um problema parecido com o das movimenta\u00e7\u00f5es de lotes de derivados de petr\u00f3leo\n\ne de biocombust\u00edveis pela rede log\u00edstica brasileira de petr\u00f3leo (Malha Brasil). Um problema\n\nmonoproduto e monomodal com estrutura similar foi encontrado em Rocha (2010) e Rocha et al\n\n(2011). O passo seguinte foi evoluir a modelagem em busca de um tempo computacional cada\n\nvez menor. Seu uso tamb\u00e9m facilitou sobremaneira os testes de heur\u00edsticas e outras t\u00e9cnicas de\n\notimiza\u00e7\u00e3o.\n\nO segundo objetivo da subdivis\u00e3o foi constru\u00eddo desenvolvendo um modelo matem\u00e1tico\n\ncompleto, multiproduto e multimodal, onde todos os requisitos do software proposto pela Pe-\n\ntrobras foram considerados. Neste modelo matem\u00e1tico, o mais importante \u00e9 a manuten\u00e7\u00e3o do\n\nabastecimento ao longo de toda a cadeia log\u00edstica da Petrobras. Para isso, todos os locais, tanto\n\nprodutores quanto consumidores (ou os dois ao mesmo tempo), precisam ter seus estoques con-\n\ntrolados para evitar que haja falta de produtos, o que acarretaria desabastecimento na pr\u00e1tica,\n\ne evitar que haja excesso de produtos, o que acarretaria estouro dos estoques e necessidade de\n\ncontratar mais terminais. Outra fun\u00e7\u00e3o importante do modelo \u00e9 minimizar o gasto com as mo-\n\nvimenta\u00e7\u00f5es necess\u00e1rias para manter os estoques sob controle. De tudo o que foi desenvolvido\n\nno estudo do primeiro objetivo, apenas as t\u00e9cnicas de otimiza\u00e7\u00e3o com boa aplicabilidade foram\n\nconsideradas neste segundo objetivo.\n\n\n\n22\n\n1.4 ORGANIZA\u00c7\u00c3O DO TRABALHO\n\nEste trabalho est\u00e1 organizado da seguinte forma: o Cap\u00edtulo 2 trata do estudo do pro-\n\nblema de transporte monoproduto e monomodal, em que diversas formula\u00e7\u00f5es matem\u00e1ticas s\u00e3o\n\ntestadas, e uma heur\u00edstica baseada em gera\u00e7\u00e3o de colunas \u00e9 desenvolvida; o Cap\u00edtulo 3 ex-\n\nplica o problema de transfer\u00eancia da Malha Brasil; o Cap\u00edtulo 4 trata do estudo do problema\n\nde transporte multiproduto e multimodal, em que a formula\u00e7\u00e3o matem\u00e1tica que posteriormente\n\nfoi utilizada no software \u00e9 descrita, assim como uma heur\u00edstica de busca local por programa\u00e7\u00e3o\n\ninteira mista; por \u00faltimo, o Cap\u00edtulo 5 lista as conclus\u00f5es do trabalho.\n\n\n\n23\n\n2 ESTUDO DO PROBLEMA DO PLANEJAMENTO DE MOVIMENTA\u00c7\u00d5ES DE\n\nLOTES ATRAV\u00c9S DE UMA REDE LOG\u00cdSTICA MONOPRODUTO E MONOMODAL\n\nO problema similar tratado aqui consiste em escalonar o transporte de \u00f3leo cru pelas\n\ndiversas rotas dispon\u00edveis entre as plataformas (pontos de produ\u00e7\u00e3o mar\u00edtimos) e os terminais\n\n(pontos de demanda terrestres) para escoar a produ\u00e7\u00e3o dos primeiros, provendo os produtos para\n\nos segundos. Os estoques de todos os locais t\u00eam que ser respeitados, tanto no limite superior\n\nquanto no inferior, n\u00e3o sendo permitida a falta ou sobra de produto. Todos os modais de trans-\n\nporte s\u00e3o mar\u00edtimos, e assume-se ilimitada a capacidade global da frota. Esta suposi\u00e7\u00e3o n\u00e3o\n\nfoge \u00e0 realidade, dado que a Petrobras pode alugar mais navios, caso seja necess\u00e1rio. A figura\n\n2.1 ilustra o problema.\n\nFigura 2.1: Problema com um produto e um modal de transporte\n\nEm rela\u00e7\u00e3o ao modelo matem\u00e1tico completo que ser\u00e1 apresentado no Cap\u00edtulo 4, este\n\nmodelo similar apresenta duas caracter\u00edsticas que o simplificam: (i) somente um produto trafega\n\nna rede. No modelo completo, a quantidade \u00e9 ilimitada; (ii) apenas um modal, navio. No\n\n\n\n24\n\nmodelo completo, rodovias, ferrovias e hidrovias s\u00e3o tratadas da mesma forma que o modal\n\nnavio \u00e9 tratado no modelo similar. Por\u00e9m, o modal dutovi\u00e1rio recebe tratamento diferenciado;\n\nPor outro lado, o modelo similar n\u00e3o permite estouro de estoque, enquanto o modelo completo\n\npermite.\n\nO primeiro passo na an\u00e1lise te\u00f3rica foi um estudo de modelagem matem\u00e1tica. Este estudo\n\ncome\u00e7a com uma formula\u00e7\u00e3o intuitiva, onde um conjunto de vari\u00e1veis cont\u00ednuas representa\n\nos estoques em cada per\u00edodo, e um conjunto de vari\u00e1veis bin\u00e1rias representa os lotes sendo\n\nenviados pelas rotas. Passa por formula\u00e7\u00f5es mais elaboradas, que requerem mais conhecimento\n\ndo problema, como \u00e9 o caso das formula\u00e7\u00f5es em que os estoques s\u00f3 podem assumir valores\n\nm\u00faltiplos do lote m\u00ednimo, ou quando os estoques s\u00e3o arredondados, n\u00e3o permitindo que os\n\nmesmos possam ter valores que deixariam a solu\u00e7\u00e3o invi\u00e1vel. Termina com uma transforma\u00e7\u00e3o\n\ntotal no modo de pensar a modelagem, que leva em conta o desempenho da mesma ao ser\n\nexecutada pelo algoritmo de branch-and-bound do resolvedor utilizado.\n\nAs inst\u00e2ncias utilizadas para testar o desempenho das diversas formula\u00e7\u00f5es foram as\n\nmesmas utilizadas por Rocha (2010). Os resultados mostram que houve um avan\u00e7o importante\n\nde desempenho \u00e0 medida que as formula\u00e7\u00f5es foram sendo criadas e aperfei\u00e7oadas, o que levou\n\n\u00e0 cria\u00e7\u00e3o de novas e mais dif\u00edceis inst\u00e2ncias, baseadas nas existentes.\n\n2.1 REVIS\u00c3O DE LITERATURA\n\nO problema do transporte de \u00f3leo e derivados \u00e9 tratado na literatura por diferentes abor-\n\ndagens e caracter\u00edsticas. Banaszewski et al (2010) tratam do planejamento de m\u00e9dio prazo da\n\ntransfer\u00eancia de produtos derivados de petr\u00f3leo na rede multimodal da cadeia de suprimentos da\n\nind\u00fastria petrol\u00edfera do Brasil utilizando modelos de sistemas multiagentes (Wooldridge, 2009)\n\nbaseados em leil\u00f5es. No entanto, programa\u00e7\u00e3o inteira \u00e9 provavelmente o m\u00e9todo mais utilizado.\n\nUm survey em programa\u00e7\u00e3o inteira mista \u00e9 apresentado por Wolsey (1998). Para uma vis\u00e3o\n\ngeral de planejamento da produ\u00e7\u00e3o usando programa\u00e7\u00e3o inteira mista, veja Ghiani et al (2004).\n\nLee et al (1996) tratam do problema de gerenciamento de estoques de uma refinaria que\n\nimporta v\u00e1rios tipos de \u00f3leo cru que s\u00e3o entregues por diferentes navios. Moro e Pinto (2004)\n\ntamb\u00e9m trataram do problema de gerenciamento de estoques de uma refinaria, mas com o \u00f3leo\n\ncru sendo recebido por dutos, ao inv\u00e9s de navios. Rejowski Jr e Pinto (2004) estudaram um\n\nproblema com refinarias e dutos, mas neste caso o duto \u00e9 usado para enviar os produtos da\n\nrefinaria para os consumidores. De la Cruz et al (2003) consideraram a distribui\u00e7\u00e3o de petr\u00f3leo\n\ne derivados atrav\u00e9s de uma rede de dutos. O problema foi abordado utilizando programa\u00e7\u00e3o\n\n\n\n25\n\nmultiobjetivo (Collette e Siarry, 2003) e heur\u00edstica evolucion\u00e1ria (Rothlauf, 2011).\n\nLidando com redes mar\u00edtimas, n\u00e3o necessariamente de transporte de \u00f3leo ou derivados,\n\nChristiansen et al (2004) fizeram uma revis\u00e3o do que j\u00e1 foi estudado sobre escalonamento e\n\nroteamento de navios, focando na literatura publicada durante a d\u00e9cada de 90. Christiansen\n\net al (2012) fizeram o mesmo tipo de revis\u00e3o, mas come\u00e7ando pelo ano 2000. Podemos citar\n\ncaracter\u00edsticas diferentes para o mesmo problema de transporte mar\u00edtimo: condi\u00e7\u00f5es de con-\n\ngestionamento de portos, considerada por Lohatepanont e Kongsermsup (2012); Wang e Meng\n\n(2012) desenvolveram um modelo de programa\u00e7\u00e3o n\u00e3o-linear inteira mista e estoc\u00e1stico para\n\nlidar com incertezas no tempo de tr\u00e2nsito e no carregamento e descarregamento nos portos;\n\nHennig et al (2012) consideraram o problema de escalonamento e roteamento de navios com\n\ncoletas e entregas fracion\u00e1rias, ou seja, cada coleta e entrega pode ser dividida por v\u00e1rios na-\n\nvios. Para resolver o problema, usaram gera\u00e7\u00e3o de colunas (Desaulniers et al, 2005) onde cada\n\nsubproblema tamb\u00e9m \u00e9 resolvido por gera\u00e7\u00e3o de colunas. Muitos artigos resolveram problemas\n\npr\u00e1ticos de escalonamento e roteamento de navios usando heur\u00edsticas, como Fagerholt e Ronen\n\n(2013) e Yin et al (2012).\n\nRocha (2010) e Rocha et al (2011) usaram as restri\u00e7\u00f5es de mochila em cascata, geradas\n\npela conserva\u00e7\u00e3o do fluxo em todos os locais, para otimizar o transporte de \u00f3leo e derivados\n\nentre plataformas e terminais. Os resultados deste cap\u00edtulo foram publicados em Aizemberg\n\net al (2014).\n\nO restante deste cap\u00edtulo est\u00e1 organizado da seguinte forma: a Se\u00e7\u00e3o 2.2 apresenta o\n\nproblema estudado e descreve detalhadamente todas as formula\u00e7\u00f5es desenvolvidas e testadas; a\n\nSe\u00e7\u00e3o 2.3 detalha uma heur\u00edstica baseada em gera\u00e7\u00e3o de colunas; a Se\u00e7\u00e3o 2.4 mostra e compara\n\nos resultados obtidos atrav\u00e9s de valores m\u00e9dios; por fim, a Se\u00e7\u00e3o 2.5 lista as conclus\u00f5es e os\n\ntrabalhos futuros.\n\n2.2 FORMULA\u00c7\u00d5ES PARA O PROBLEMA DO PLANEJAMENTO DE MOVIMEN-\n\nTA\u00c7\u00d5ES DE LOTES ATRAV\u00c9S DE UMA REDE LOG\u00cdSTICA\n\nEsta se\u00e7\u00e3o faz um estudo de modelagem por programa\u00e7\u00e3o matem\u00e1tica para o problema\n\ndo planejamento de movimenta\u00e7\u00f5es de lotes atrav\u00e9s de uma rede log\u00edstica. Este estudo gerou\n\nv\u00e1rias formula\u00e7\u00f5es que foram testadas e comparadas utilizando um conjunto de 50 inst\u00e2ncias\n\nencontradas na literatura. Bons resultados foram obtidos, de forma que uma das formula\u00e7\u00f5es\n\nfoi capaz de resolver 47 destas inst\u00e2ncias em baixo tempo computacional. Com o objetivo de\n\nmelhor avaliar o potencial desta formula\u00e7\u00e3o, foram geradas 25 novas inst\u00e2ncias com maior grau\n\n\n\n26\n\nde dificuldade.\n\n2.2.1 DADOS DE ENTRADA DO PROBLEMA\n\nO problema de transporte de derivados de petr\u00f3leo tratado neste trabalho pode ser des-\n\ncrito da seguinte forma: sejam P o conjunto de plataformas e T o conjunto de terminais. O\n\nhorizonte de tempo considerado para o planejamento \u00e9 dado por D em dias. Um \u00fanico pro-\n\nduto deve ser transportado das plataformas para os terminais de modo que as demandas destes\n\n\u00faltimos sejam satisfeitas. Os n\u00edveis de estoque em todos os elementos de P e T devem ser res-\n\npeitados. O \u00fanico tipo de modal utilizado \u00e9 o mar\u00edtimo. Os navios utilizados s\u00e3o classificados de\n\nacordo com sua capacidade volum\u00e9trica em classes, e o conjunto formado por todas as classes\n\nde navios \u00e9 chamado de C. Assume-se que apenas navios com capacidade total preenchida s\u00e3o\n\nutilizados. O objetivo \u00e9 a minimiza\u00e7\u00e3o dos custos totais de transporte do produto. Al\u00e9m disso,\n\nas formula\u00e7\u00f5es descritas nas pr\u00f3ximas subse\u00e7\u00f5es seguem a seguinte nota\u00e7\u00e3o adicional:\n\n\u00cdndices:\n\n\u2022 p: Plataforma, p ? P = {1, ..., |P|};\n\n\u2022 t: Terminal, t ? T = {|P|+ 1, ..., |P|+ |T|};\n\n\u2022 c: Classe de navio, c ? C = {1, ..., |C|};\n\n\u2022 d: Dia, d = {1, ...,D}.\n\nSubconjuntos:\n\n\u2022 T(p) ? T : Terminais que podem receber navios de uma plataforma p ? P ;\n\n\u2022 P(t) ? P : Plataformas que podem enviar navios para um terminal t ? T ;\n\n\u2022 C(p) ? C: Classes de navios que podem aportar em uma plataforma p ? P .\n\nTodos os navios s\u00e3o permitidos nos terminais.\n\nDados:\n\n\u2022 ep,0: Estoque inicial de uma plataforma p ? P ;\n\n\u2022 et,0: Estoque inicial de um terminal t ? T ;\n\n\u2022 Pp,d ? 0: Produ\u00e7\u00e3o de uma plataforma p ? P em um dia d;\n\n\n\n27\n\n\u2022 Ct,d ? 0: Consumo de um terminal t ? T em um dia d;\n\n\u2022 CAPp,d: Capacidade m\u00e1xima de estoque de uma plataforma p ? P em um dia d;\n\n\u2022 CAPt,d: Capacidade m\u00e1xima de estoque de um terminal t ? T em um dia d;\n\n\u2022 Vc: Capacidade volum\u00e9trica de carga de um navio de classe c ? C;\n\n\u2022 Fc: Custo de transporte por dia de um navio de classe c ? C;\n\n\u2022 Dp,t: Tempo de tr\u00e2nsito entre uma plataforma p ? P e um terminal t ? T em dias.\n\nAdemais, outras defini\u00e7\u00f5es ser\u00e3o acrescentadas \u00e0 medida que sejam necess\u00e1rias para\n\ncada formula\u00e7\u00e3o.\n\n2.2.2 FORMULA\u00c7\u00c3O NATURAL\n\nEste modelo foi baseado no apresentado por Rocha (2010). Para esta formula\u00e7\u00e3o, consideram-\n\nse as vari\u00e1veis de decis\u00e3o da seguinte forma: zc,dp,t ? {0,1} indica se um navio de classe c ? C\n\nfoi alocado para transportar o produto da plataforma p ? P para o terminal t ? T saindo no\n\ndia d, ep,d ? R+ e et,d ? R+ indicam o estoque na plataforma p ? P no dia d e o estoque no\n\nterminal t ? T no dia d, respectivamente. Assuma zc,dp,t = 0,d ? 0. Isto posto, a formula\u00e7\u00e3o\n\nnatural (FN) est\u00e1 disposta a seguir:\n\n(FN) z = Min\n?\np?P\n\n?\nt?T(p)\n\n?\nc?C(p)\n\nD?\nd=1\n\n2FcDp,tz\nc,d\np,t (2.1)\n\nsujeito a\n\nep,d = ep,d?1 + Pp,d ?\n?\nt?T(p)\n\n?\nc?C(p)\n\nVcz\nc,d\np,t ?p ? P,d ?{1, ...,D} (2.2)\n\net,d = et,d?1 ?Ct,d +\n?\np?P(t)\n\n?\nc?C(p)\n\nVcz\nc,d?Dp,t\np,t ?t ? T,d ?{1, ...,D} (2.3)\n\n0 ? ep,d ? CAPp,d ?p ? P,d ?{1, ...,D} (2.4)\n\n0 ? et,d ? CAPt,d ?t ? T,d ?{1, ...,D} (2.5)\n\nz\nc,d\np,t ?{0,1} ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}.\n\n(2.6)\n\n\n\n28\n\nA fun\u00e7\u00e3o objetivo (2.1) minimiza o custo total de transporte. O custo \u00e9 multiplicado por\n\n2 porque os navios retornam \u00e0 plataforma de onde sa\u00edram. As restri\u00e7\u00f5es (2.2) calculam o balan\u00e7o\n\ndo estoque em cada plataforma, enquanto as restri\u00e7\u00f5es (2.3) calculam o balan\u00e7o do estoque em\n\ncada terminal. As restri\u00e7\u00f5es (2.4) e (2.5) garantem que o estoque a cada dia, em cada plataforma\n\ne em cada terminal, n\u00e3o ser\u00e1 nem menor que a capacidade m\u00ednima e nem maior que a capacidade\n\nm\u00e1xima de estoque.\n\nAlgumas das suposi\u00e7\u00f5es do problema merecem discuss\u00e3o:\n\n\u2022 apenas um navio de cada classe pode ser utilizado em cada rota por dia: esta suposi\u00e7\u00e3o\n\nn\u00e3o \u00e9 realista e foi considerada apenas para seguir o artigo da literatura. Mas \u00e9 f\u00e1cil\n\ndesconsider\u00e1-la, bastando mudar as vari\u00e1veis bin\u00e1rias para inteiras, ou separando os navios\n\nda mesma classe como se fossem diferentes, mantendo assim as vari\u00e1veis bin\u00e1rias;\n\n\u2022 quantidade ilimitada de navios em cada classe: esta suposi\u00e7\u00e3o \u00e9 realista, j\u00e1 que foi baseada\n\nem um problema real onde a companhia aluga seus navios. Al\u00e9m disso, considera-se que\n\na quantidade de navios \u00e0 disposi\u00e7\u00e3o para aluguel \u00e9 suficiente para transportar a produ\u00e7\u00e3o;\n\n\u2022 tempo de carga e descarga nulos: os tempos de carga e descarga podem ser adicionados\n\nao tempo de tr\u00e2nsito. Assim, o tempo de tr\u00e2nsito passa a depender do tamanho do navio,\n\nmas a formula\u00e7\u00e3o n\u00e3o sofre altera\u00e7\u00e3o;\n\n\u2022 tempos de transporte irreais: utilizar tempos reais n\u00e3o modifica o desempenho das inst\u00e2n-\n\ncias.\n\n2.2.3 FORMULA\u00c7\u00c3O B\u00c1SICA\n\nPara esta segunda formula\u00e7\u00e3o s\u00e3o consideradas algumas defini\u00e7\u00f5es que ser\u00e3o listadas a\n\nseguir. Defina Lp como o m\u00e1ximo divisor comum (MDC) das capacidades de armazenamento\n\nde todas as classes de navios que podem atracar na plataforma p ? P . Seja kmin(p,d) o n\u00famero\n\nm\u00ednimo de lotes que precisam ser enviados at\u00e9 o dia d pela plataforma p para que a capacidade\n\nn\u00e3o seja excedida. Esse n\u00famero \u00e9 dado por:\n\nkmin(p,d) =\n\n?\nACp,d ?CAPp,d\n\nLp\n\n?\n.\n\nonde de \u00e9 o arredondamento para cima e ACp,d \u00e9 a quantidade do produto acumulada na plata-\n\n\n\n29\n\nforma p ? P do dia 0 at\u00e9 o dia d e \u00e9 dada por:\n\nACp,d = ep,0 +\nd?\n\n?=1\n\nPp,?.\n\nSeja tamb\u00e9m kmax(p,d) o n\u00famero m\u00e1ximo de lotes que podem ser enviados at\u00e9 o dia d\n\npela plataforma p sem que o estoque desta fique negativo. Tal quantidade pode ser calculada\n\npela seguinte express\u00e3o:\n\nkmax(p,d) =\n\n?\nACp,d\nLp\n\n?\n,\n\nonde bc \u00e9 o arredondamento para baixo.\n\nCom estas defini\u00e7\u00f5es, a restri\u00e7\u00e3o (2.4) pode ser substitu\u00edda por:\n\nACp,d ?kmax(p,d)Lp ? ep,d ? ACp,d ?kmin(p,d)Lp ?p ? P,d ?{1, ...,D}. (2.7)\n\nAgora, defina Lt como o MDC das capacidades de armazenamento de todas as classes\n\nde navios que podem atracar no terminal t ? T . Seja kmin(t,d) o n\u00famero m\u00ednimo de lotes\n\nque precisam ser recebidos pelo terminal t ? T at\u00e9 o dia d para que o estoque deste n\u00e3o fique\n\nnegativo. Tal quantidade \u00e9 dada por:\n\nkmin(t,d) =\n\n?\n?ACt,d\nLt\n\n?\n.\n\nonde ACt,d \u00e9 a quantidade do produto acumulada no terminal t ? T do dia 0 at\u00e9 o dia d e \u00e9 dada\n\npor:\n\nACt,d = et,0 ?\nd?\n\n?=1\n\nCt,?.\n\nSeja kmax(t,d) o n\u00famero m\u00e1ximo de lotes que podem ser recebidos pelo terminal t ? T\n\nat\u00e9 o dia d sem que a capacidade de estoque deste seja excedida. Esse n\u00famero \u00e9 calculado pela\n\nexpress\u00e3o que segue:\n\nkmax(t,d) =\n\n?\nCAPt,d ?ACt,d\n\nLt\n\n?\n,\n\nIsto posto, a restri\u00e7\u00e3o (2.5) pode ser substitu\u00edda por:\n\nACt,d + kmin(t,d)Lt ? et,d ? ACt,d + kmax(t,d)Lt ?t ? T,d ?{1, ...,D}. (2.8)\n\nDesta forma, a formula\u00e7\u00e3o b\u00e1sica (FB) ser\u00e1 dada pela fun\u00e7\u00e3o objetivo (2.1) sujeita \u00e0s\n\n\n\n30\n\nrestri\u00e7\u00f5es (2.2), (2.3), (2.7), (2.8) e (2.6).\n\n2.2.4 KNAPSACK CASCADING\n\nPara esta formula\u00e7\u00e3o, adaptada de Rocha (2010), s\u00e3o consideradas algumas defini\u00e7\u00f5es\n\nanteriores, al\u00e9m das que seguem:\n\nDAp,d = ACp,d ?CAPp,d\n\nDAt,d = ACt,d ?CAPt,d\n\nAssim, a formula\u00e7\u00e3o Knapsack Cascading (KC) \u00e9 mostrada a seguir:\n\n(KC) z = Min\n?\np?P\n\n?\nt?T(p)\n\n?\nc?C(p)\n\nD?\nd=1\n\n2FcDp,tz\nc,d\np,t (2.9)\n\nsujeito a\n\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,?\np,t ? ACp,d ?p ? P,d ?{1, ...,D} (2.10)\n\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,?\np,t ? DAp,d ?p ? P,d ?{1, ...,D} (2.11)\n\n?\np?P(t)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,??Dp,t\np,t ??ACt,d ?t ? T,d ?{1, ...,D} (2.12)\n\n?\np?P(t)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,??Dp,t\np,t ??DAt,d ?t ? T,d ?{1, ...,D} (2.13)\n\nz\nc,d\np,t ?{0,1} ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}. (2.14)\n\nA fun\u00e7\u00e3o objetivo (2.9) minimiza o custo total de transporte. As restri\u00e7\u00f5es (2.10) garan-\n\ntem que as plataformas nunca enviar\u00e3o mais do que foi produzido. Como efeito, o estoque em\n\ncada plataforma nunca ser\u00e1 menor que a capacidade m\u00ednima. As restri\u00e7\u00f5es (2.11) garantem que\n\no estoque em cada plataforma nunca ultrapassar\u00e1 a capacidade m\u00e1xima. As restri\u00e7\u00f5es (2.12)\n\ngarantem que os terminais sempre receber\u00e3o a quantidade demandada. Como efeito, o estoque\n\nem cada terminal nunca ser\u00e1 menor que a capacidade m\u00ednima. As restri\u00e7\u00f5es (2.13) garantem\n\n\n\n31\n\nque o estoque em cada terminal nunca ultrapassar\u00e1 a capacidade m\u00e1xima. As restri\u00e7\u00f5es (2.14)\n\ndeclaram as vari\u00e1veis z como bin\u00e1rias.\n\nA partir da formula\u00e7\u00e3o KC \u00e9 poss\u00edvel obter uma nova formula\u00e7\u00e3o ao substituir as restri-\n\n\u00e7\u00f5es (2.10) e (2.11) pelas restri\u00e7\u00f5es (2.15) e (2.16) a seguir\n\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,?\np,t ? kmax(p,d)Lp ?p ? P,d ?{1, ...,D} (2.15)\n\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,?\np,t ? kmin(p,d)Lp ?p ? P,d ?{1, ...,D} (2.16)\n\ne ao substituir as restri\u00e7\u00f5es (2.12) e (2.13) pelas restri\u00e7\u00f5es (2.17) e (2.18) a seguir\n\n?\np?P(t)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,??Dp,t\np,t ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.17)\n\n?\np?P(t)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,??Dp,t\np,t ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D}. (2.18)\n\nA formula\u00e7\u00e3o resultante destas substitui\u00e7\u00f5es \u00e9 chamada de Knapsack Cascading Arre-\n\ndondado (KCA).\n\n2.2.5 CASCADING ACUMULADO NAS ROTAS E ARREDONDADO\n\nNesta formula\u00e7\u00e3o, as vari\u00e1veis de decis\u00e3o s\u00e3o definidas como segue: xc,dp,t \u00e9 uma vari\u00e1vel\n\ninteira que representa a quantidade de navios de classe c ? C(p) que saem da plataforma p ? P\n\npara o terminal t ? T(p) do in\u00edcio do horizonte de tempo at\u00e9 o dia d. Assuma que xc,0p,t = 0.\n\nTamb\u00e9m s\u00e3o consideradas as vari\u00e1veis zc,dp,t j\u00e1 definidas anteriormente. A formula\u00e7\u00e3o Cascading\n\nAcumulado nas Rotas e Arredondado (CARA) est\u00e1 disposta a seguir.\n\n\n\n32\n\n(CARA) z = Min\n?\np?P\n\n?\nt?T(p)\n\n?\nc?C(p)\n\n2FcDp,tx\nc,D\np,t (2.19)\n\nsujeito a\n\nx\nc,d\np,t = x\n\nc,d?1\np,t + z\n\nc,d\np,t ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D} (2.20)?\n\nt?T(p)\n\n?\nc?C(p)\n\nVcx\nc,d\np,t ? kmax(p,d)Lp ?p ? P,d ?{1, ...,D} (2.21)\n\n?\nt?T(p)\n\n?\nc?C(p)\n\nVcx\nc,d\np,t ? kmin(p,d)Lp ?p ? P,d ?{1, ...,D} (2.22)\n\n?\np?P(t)\n\n?\nc?C(p)\n\nVcx\nc,d?Dp,t\np,t ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.23)\n\n?\np?P(t)\n\n?\nc?C(p)\n\nVcx\nc,d?Dp,t\np,t ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.24)\n\nx\nc,d\np,t ? Z+ ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D} (2.25)\n\nz\nc,d\np,t ? [0,1] ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}. (2.26)\n\nA fun\u00e7\u00e3o objetivo (2.19) minimiza o custo total de transporte. As restri\u00e7\u00f5es (2.20) trans-\n\nformam x em vari\u00e1veis acumuladas, e limitam em uma unidade a quantidade m\u00e1xima de lotes\n\nenviados a cada dia, por cada rota, e para cada tamanho de lote. As restri\u00e7\u00f5es (2.21) e (2.22)\n\ngarantem que o estoque em cada plataforma, a cada dia, n\u00e3o ser\u00e1 menor que a capacidade m\u00ed-\n\nnima e n\u00e3o ultrapassar\u00e1 a capacidade m\u00e1xima. As restri\u00e7\u00f5es (2.23) e (2.24) garantem que o\n\nestoque em cada terminal, a cada dia, n\u00e3o ultrapassar\u00e1 a capacidade m\u00e1xima e n\u00e3o ser\u00e1 menor\n\nque a capacidade m\u00ednima. Por fim, as restri\u00e7\u00f5es (2.25) declaram as vari\u00e1veis x como inteiras\n\nn\u00e3o-negativas e as restri\u00e7\u00f5es (2.26) declaram as vari\u00e1veis z como cont\u00ednuas entre zero e um.\n\nNote que as restri\u00e7\u00f5es (2.20) garantem a integralidade das vari\u00e1veis z, apesar de serem definidas\n\ncomo cont\u00ednuas entre zero e um.\n\n2.2.6 CASCADING ACUMULADO NOS LOCAIS E ARREDONDADO\n\nNesta formula\u00e7\u00e3o, as vari\u00e1veis de decis\u00e3o s\u00e3o definidas como segue: xc,dp \u00e9 uma vari\u00e1vel\n\ninteira que representa a quantidade de navios de classe c ? C(p) que saem da plataforma p ?\n\nP do in\u00edcio do horizonte de tempo at\u00e9 o dia d. xc,dt \u00e9 uma vari\u00e1vel inteira que representa a\n\nquantidade de navios de classe c ? C(p) que chegam ao terminal t ? T do in\u00edcio do horizonte\n\n\n\n33\n\nde tempo at\u00e9 o dia d. Assuma que xc,0p = x\nc,0\nt = 0. Tamb\u00e9m s\u00e3o consideradas as vari\u00e1veis\n\nz\nc,d\np,t j\u00e1 definidas anteriormente. A formula\u00e7\u00e3o Cascading Acumulado nos Locais e Arredondado\n\n(CALA) est\u00e1 disposta a seguir.\n\n(CALA) z = Min\n?\np?P\n\n?\nt?T(p)\n\n?\nc?C(p)\n\nD?\nd=1\n\n2FcDp,tz\nc,d\np,t (2.27)\n\nsujeito a\n\nxc,dp = x\nc,d?1\np +\n\n?\nt?T(p)\n\nz\nc,d\np,t ?p ? P,c ? C(p),d ?{1, ...,D} (2.28)\n\nx\nc,d\nt = x\n\nc,d?1\nt +\n\n?\np?P(t)\n\nz\nc,d?Dp,t\np,t ?t ? T,c ? C(t),d ?{1, ...,D} (2.29)\n\n?\nc?C(p)\n\nVcx\nc,d\np ? kmax(p,d)Lp ?p ? P,d ?{1, ...,D} (2.30)\n\n?\nc?C(p)\n\nVcx\nc,d\np ? kmin(p,d)Lp ?p ? P,d ?{1, ...,D} (2.31)\n\n?\nc?C(t)\n\nVcx\nc,d?Dp,t\nt ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.32)\n\n?\nc?C(t)\n\nVcx\nc,d?Dp,t\nt ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.33)\n\nxc,dp ? Z+ ?p ? P,c ? C(p),d ?{1, ...,D} (2.34)\n\nx\nc,d\nt ? Z+ ?t ? T,c ? C(t),d ?{1, ...,D} (2.35)\n\nz\nc,d\np,t ? [0,1] ?p ? P,t ? T(p),c ? C(p),d ?{1, ...,D}. (2.36)\n\nAs restri\u00e7\u00f5es (2.28) e (2.29) transformam x em vari\u00e1veis acumuladas, e limitam em uma unidade\n\na quantidade m\u00e1xima de lotes enviados a cada dia, por cada rota, para cada tamanho de lote. As\n\noutras restri\u00e7\u00f5es s\u00e3o similares \u00e0s da formula\u00e7\u00e3o CARA.\n\nProposi\u00e7\u00e3o 2.1. Na CALA, a integralidade das vari\u00e1veis z \u00e9 garantida para qualquer solu\u00e7\u00e3o\n\nb\u00e1sica em que as vari\u00e1veis x sejam inteiras.\n\nDemonstra\u00e7\u00e3o. Note que, se todas as vari\u00e1veis x forem fixadas com valores inteiros, as restri-\n\n\u00e7\u00f5es (2.28) e (2.29) definem uma inst\u00e2ncia do problema cl\u00e1ssico de transporte (Taha, 2007) (as\n\nrestri\u00e7\u00f5es que sobram cont\u00e9m somente vari\u00e1veis x). Como a matriz do Problema de Transporte\n\n\u00e9 unimodular (ver Bazaraa et al (2011)), a solu\u00e7\u00e3o b\u00e1sica ser\u00e1 inteira.\n\n\n\n34\n\nProposi\u00e7\u00e3o 2.2. FB, KCA, CARA e CALA possuem a mesma relaxa\u00e7\u00e3o linear.\n\nDemonstra\u00e7\u00e3o. A proposi\u00e7\u00e3o ser\u00e1 provada em dois passos. Primeiro, ser\u00e1 mostrado que KCA\n\n\u00e9 obtida de FB sem mudar o conjunto de solu\u00e7\u00f5es das vari\u00e1veis z na sua relaxa\u00e7\u00e3o linear.\n\nSegundo, ser\u00e1 mostrado que CARA e CALA s\u00e3o obtidas de KCA sem mudar o conjunto de\n\nsolu\u00e7\u00f5es das vari\u00e1veis z na sua relaxa\u00e7\u00e3o linear. Agora, considere a FB. Dadas as restri\u00e7\u00f5es\n\n(2.2) e expandindo ep,d?1, tem-se:\n\nep,d = ACp,d ?\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,?\np,t ?p ? P,d ?{1, ...,D}\n\nDe (2.7),\n\nACp,d ?kmax(p,d)Lp ? ACp,d ?\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nVcz\nc,?\np,t ? ACp,d ?kmin(p,d)Lp\n\n?p ? P,d ?{1, ...,D}\n\nque \u00e9 equivalente a (2.15) e (2.16). O mesmo procedimento pode ser usado para provar\n\nque (2.3) e (2.8) t\u00eam o mesmo conjunto de solu\u00e7\u00f5es das vari\u00e1veis z na relaxa\u00e7\u00e3o linear que\n\n(2.17) e (2.18). Ent\u00e3o, KCA tem o mesmo conjunto de solu\u00e7\u00f5es das vari\u00e1veis z na relaxa\u00e7\u00e3o\n\nlinear que FB. Agora, considere a KCA. Defina as vari\u00e1veis x como a seguir:\n\nx\nc,d\np,t =\n\nd?\n?=1\n\nz\nc,?\np,t\n\ne troque o lado direito da equa\u00e7\u00e3o anterior por xc,dp,t na KCA. Incluindo as restri\u00e7\u00f5es\n\n(2.20), obt\u00e9m-se a formula\u00e7\u00e3o CARA, provando que possui o mesmo conjunto de solu\u00e7\u00f5es das\n\nvari\u00e1veis z na relaxa\u00e7\u00e3o linear que KCA. Considere de novo a KCA. Defina as vari\u00e1veis x como\n\na seguir:\n\nxc,dp =\nd?\n\n?=1\n\n?\nt?T(p)\n\nz\nc,?\np,t\n\n\n\n35\n\nx\nc,d\nt =\n\nd?\n?=1\n\n?\np?P(t)\n\nz\nc,?\np,t\n\ne troque o lado direito das equa\u00e7\u00f5es anteriores por xc,dp e x\nc,d\nt na KCA. Incluindo as res-\n\ntri\u00e7\u00f5es (2.28) e (2.29), obt\u00e9m-se a formula\u00e7\u00e3o CALA, provando que possui o mesmo conjunto\n\nde solu\u00e7\u00f5es das vari\u00e1veis z na relaxa\u00e7\u00e3o linear que KCA.\n\nA mesma prova pode ser utilizada para FN , KC, CAR e CAL, onde CAR e CAL\n\ns\u00e3o, respectivamente, a formula\u00e7\u00e3o cascading acumulado nas rotas e nos locais, ambas sem\n\narredondamento, levando \u00e0 seguinte proposi\u00e7\u00e3o:\n\nProposi\u00e7\u00e3o 2.3. FN , KC, CAR e CAL possuem a mesma relaxa\u00e7\u00e3o linear.\n\nNota: a motiva\u00e7\u00e3o para os testes com os modelos sem arredondamento \u00e9 avaliar o peso\n\nque o arredondamento tem na melhoria dos resultados.\n\n2.2.7 FORMULA\u00c7\u00c3O PARA GERA\u00c7\u00c3O DE COLUNAS\n\nS\u00e3o dois os objetivos da implementa\u00e7\u00e3o de uma formula\u00e7\u00e3o baseada em gera\u00e7\u00e3o de co-\n\nlunas: obter limites inferiores para o problema e desenvolver uma heur\u00edstica baseada em gera\u00e7\u00e3o\n\nde colunas. A formula\u00e7\u00e3o para gera\u00e7\u00e3o de colunas (Desaulniers et al, 2005) foi baseada tanto na\n\nCARA quanto na CALA. Por serem formula\u00e7\u00f5es muito parecidas, ser\u00e1 mostrada aqui apenas a\n\nformula\u00e7\u00e3o baseada na CARA. Por\u00e9m, os testes da Tabela A.18 incluem as duas formula\u00e7\u00f5es.\n\nA formula\u00e7\u00e3o para gera\u00e7\u00e3o de colunas utiliza a seguinte nota\u00e7\u00e3o. Seja s um conjunto\n\nde vari\u00e1veis, s ? Sp, onde Sp \u00e9 o conjunto das solu\u00e7\u00f5es v\u00e1lidas para uma plataforma p ? P .\n\nSejam tamb\u00e9m V t,dp,s o volume enviado no dia d, da plataforma p para o terminal t, considerando\n\no conjunto de vari\u00e1veis s. Seja Cp,s o custo do conjunto de vari\u00e1veis s utilizado pela plataforma\n\np. A vari\u00e1vel (coluna) ?p,s \u00e9 bin\u00e1ria e indica se o conjunto de vari\u00e1veis s est\u00e1 sendo usado pela\n\nplataforma p. A formula\u00e7\u00e3o para gera\u00e7\u00e3o de colunas (FGC) \u00e9 da seguinte forma:\n\n\n\n36\n\n(FGC) z = Min\n?\np?P\n\n?\ns?Sp\n\nCp,s?p,s (2.37)\n\nsujeito a\n\n?\ns?Sp\n\n?p,s = 1 ?p ? P (2.38)\n\n?\np?P\n\n?\ns?Sp\n\nd?\n?=1\n\nV t,??Dp,tp,s ?p,s ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.39)\n\n?\np?P\n\n?\ns?Sp\n\nd?\n?=1\n\nV t,??Dp,tp,s ?p,s ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.40)\n\n?p,s ?{0,1} ?p ? P,s ? Sp. (2.41)\n\nA fun\u00e7\u00e3o objetivo (2.37) minimiza o custo total de transporte. As restri\u00e7\u00f5es (2.38) ga-\n\nrantem que exatamente uma vari\u00e1vel ? ser\u00e1 escolhida para cada plataforma. As restri\u00e7\u00f5es (2.39)\n\ngarantem que o estoque em cada terminal nunca ser\u00e1 menor que a capacidade m\u00ednima. As restri-\n\n\u00e7\u00f5es (2.40) garantem que o estoque em cada terminal nunca ultrapassar\u00e1 a capacidade m\u00e1xima.\n\nPor fim, as restri\u00e7\u00f5es (2.41) declaram as vari\u00e1veis ? como bin\u00e1rias.\n\nSUBPROBLEMA DE PRICING:\n\nComo o n\u00famero de vari\u00e1veis da formula\u00e7\u00e3o FGC \u00e9 muito grande, apenas um subconjunto\n\ndestas \u00e9 considerado inicialmente para a resolu\u00e7\u00e3o da relaxa\u00e7\u00e3o linear. Este problema com\n\numa parte das vari\u00e1veis \u00e9 chamado de Problema Mestre Restrito (PMR). A cada itera\u00e7\u00e3o do\n\nprocedimento de gera\u00e7\u00e3o de colunas, o PMR \u00e9 resolvido e suas vari\u00e1veis duais s\u00e3o utilizadas\n\ncomo entrada para o subproblema de pricing para gerar novas colunas ?. Uma nova coluna ? \u00e9\n\nadicionada ao PMR se seu custo reduzido, dado pelo valor da fun\u00e7\u00e3o objetivo do subproblema\n\nde pricing, for negativo. Caso nenhuma vari\u00e1vel de custo reduzido negativo seja encontrada, a\n\nsolu\u00e7\u00e3o corrente do PMR \u00e9 \u00f3tima para o Problema Mestre Completo.\n\nSejam ?p o vetor das vari\u00e1veis duais associadas \u00e0s restri\u00e7\u00f5es (2.38), ?t,d o vetor das\n\nvari\u00e1veis duais das restri\u00e7\u00f5es (2.39), e ?t,d o vetor das vari\u00e1veis duais associadas \u00e0s restri\u00e7\u00f5es\n\n(2.40). A vari\u00e1vel bin\u00e1ria zc,dp,t indica se a plataforma p envia para o terminal t um navio de\n\nclasse c no dia d. Desta forma, para cada plataforma p ? P \u00e9 definido um subproblema de\n\n\n\n37\n\npricing como segue.\n\n(SP) z = Min\n?\nt?T(p)\n\n?\nc?C(p)\n\nD?\nd=1\n\n(2FcDp,t ?Vc(?t,d+Dp,t + ?t,d+Dp,t))z\nc,d\np,t ??p (2.42)\n\nSujeito a\n\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nz\nc,?\np,t Vc ? kmax(p,d)Lp ?d ?{1, ...,D} (2.43)\n\n?\nt?T(p)\n\nd?\n?=1\n\n?\nc?C(p)\n\nz\nc,?\np,t Vc ? kmin(p,d)Lp ?d ?{1, ...,D} (2.44)\n\nz\nc,d\np,t ?{0,1} ?t ? T(p),c ? C(p),d ?{1, ...,D}. (2.45)\n\nA fun\u00e7\u00e3o do subproblema de pricing \u00e9 gerar uma coluna ? para o PMR com o menor\n\ncusto reduzido, que \u00e9 representado pela fun\u00e7\u00e3o objetivo (2.42). As restri\u00e7\u00f5es (2.43) garantem\n\nque o estoque em cada plataforma nunca ser\u00e1 menor que a capacidade m\u00ednima. As restri\u00e7\u00f5es\n\n(2.44) garantem que o estoque em cada plataforma nunca ultrapassar\u00e1 a capacidade m\u00e1xima. As\n\nrestri\u00e7\u00f5es (2.45) declaram as vari\u00e1veis z como bin\u00e1rias. Apesar de ter sido apresentado como\n\num problema de Programa\u00e7\u00e3o Inteira, o subproblema de pricing pode ser melhor resolvido por\n\nprograma\u00e7\u00e3o din\u00e2mica (Bellman e Dreyfus, 1966).\n\n2.3 HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE COLUNAS\n\nEsta Se\u00e7\u00e3o apresenta uma heur\u00edstica baseada em gera\u00e7\u00e3o de colunas (GC). A formula\u00e7\u00e3o\n\nutilizada se encontra na subse\u00e7\u00e3o 2.2.7. Para resolver de forma mais r\u00e1pida os subproblemas, foi\n\ndesenvolvido um algoritmo por programa\u00e7\u00e3o din\u00e2mica. Por \u00faltimo, um pseudoc\u00f3digo descreve\n\no procedimento da heur\u00edstica.\n\nHeur\u00edsticas baseadas em gera\u00e7\u00e3o de colunas s\u00e3o encontradas na literatura para lidar com\n\ndiversos problemas: escalonamento de v\u00e1rios \u00edtens (Bahl, 1983), roteamento de ve\u00edculos (Mour-\n\ngaya e Vanderbeck, 2007), corte de estoque (Furini et al, 2012), posicionamento de sensores\n\n(Yavuz et al, 2010), atribui\u00e7\u00e3o generalizada (Moccia et al, 2009), dentre outros. No geral, as\n\nabordagens seguem um padr\u00e3o: primeiro a relaxa\u00e7\u00e3o linear \u00e9 resolvida por gera\u00e7\u00e3o de colunas.\n\nDepois, uma solu\u00e7\u00e3o vi\u00e1vel \u00e9 constru\u00edda para o problema original usando as colunas obtidas.\n\nPor exemplo, em Choi e Tcha (2007), os autores usaram uma heur\u00edstica baseada em gera\u00e7\u00e3o de\n\ncolunas no problema do roteamento de frota de ve\u00edculos heterog\u00eanea consistindo em tr\u00eas passos:\n\n\n\n38\n\n(i) resolver a relaxa\u00e7\u00e3o linear; (ii) adicionar restri\u00e7\u00f5es de integralidade \u00e0s vari\u00e1veis do problema\n\nmestre restrito final; (iii) resolver o MIP resultante. Em Joncour et al (2010), os autores fizeram\n\numa revis\u00e3o de classes gen\u00e9ricas de heur\u00edsticas baseadas em gera\u00e7\u00e3o de colunas.\n\n2.3.1 PROGRAMA\u00c7\u00c3O DIN\u00c2MICA\n\nAssuma que os elementos do conjunto C est\u00e3o numerados de forma arbitr\u00e1ria de 1 a |C|.\n\nDefina a tabela de custos da programa\u00e7\u00e3o din\u00e2mica para cada plataforma p com Custop(d,c,e)\n\nsendo o menor custo reduzido parcial do dia d at\u00e9 o fim do horizonte de tempo, considerando\n\nsomente as classes de navio c, ..., |C| no dia d (e todas as classes de navio para os dias seguintes),\n\ne n\u00edvel de estoque e no in\u00edcio do dia d. Seja Custop(d,c,e) = 0 para d = D + 1. A recurs\u00e3o da\n\nprograma\u00e7\u00e3o din\u00e2mica \u00e9:\n\nCustop(d,c,e) =\n\n????????\n???????\n\nmin\n??P1,p,c,d,e\n\n{\nCustop\n\n(\nd,c + 1,e + Pp,d ?\n\n?\nt?T\n\nVc?t\n\n)\n+\n?\nt?T\n\nC\nc,d\np,t ?t\n\n}\n,c = 1\n\nmin\n??P2,p,c,d,e\n\n{\nCustop\n\n(\nd,c + 1,e?\n\n?\nt?T\n\nVc?t\n\n)\n+\n?\nt?T\n\nC\nc,d\np,t ?t\n\n}\n,1 &lt;c &lt;|C|\n\nmin\n??P3,p,c,d,e\n\n{\nCustop\n\n(\nd + 1,1,e?\n\n?\nt?T\n\nVc?t\n\n)\n+\n?\nt?T\n\nC\nc,d\np,t ?t\n\n}\n,c = |C|,\n\nonde:\n\nP1,p,c,d,e = {? ?{0,1}|T||0 ? e + Pp,d ?\n?\n\nt?T Vc?t}\n\nP2,p,c,d,e = {? ?{0,1}|T ||0 ? e?\n?\n\nt?T Vc?t}\n\nP3,p,c,d,e = {? ?{0,1}|T||0 ? e?\n?\n\nt?T Vc?t ? CAPp}\n\ne Cc,dp,t = 2FcDp,t ? Vc(?t,d+Dp,t + ?t,d+Dp,t). O custo reduzido \u00f3timo para cada plataforma p \u00e9\n\ndado por Custop(1,1,ep,0).\n\nO algoritmo por programa\u00e7\u00e3o din\u00e2mica apresentado \u00e9 pseudopolinomial. Sua comple-\n\nxidade computacional depende da capacidade m\u00e1xima de estoque nas plataformas. Para as ins-\n\nt\u00e2ncias da classe mais dif\u00edcil, sua performance \u00e9 muito superior ao MIP. A Figura 2.2 mostra\n\num exemplo com dois lotes (C = {1,2}). A produ\u00e7\u00e3o di\u00e1ria \u00e9 sempre inteira. O exemplo pos-\n\nsui dois terminais, ambos com rota para todas as plataformas. Cada tamanho de lote pode ser\n\nenviado apenas uma vez por dia para cada terminal. A capacidade de estoque das plataformas\n\n\u00e9 CAPp = 4 unidades. A produ\u00e7\u00e3o di\u00e1ria \u00e9 Pp,d = 2 unidades, d ? {1,2,3}, e \u00e9 adicionada\n\nentre o primeiro e o segundo tamanho de lote. O estoque inicial \u00e9 2 unidades. O primeiro lote\n\ntem tamanho V1 = 1 unidades e custa 1,5. O segundo lote tem tamanho V2 = 2 unidades e\n\n\n\n39\n\nFigura 2.2: Programa\u00e7\u00e3o Din\u00e2mica com dois tamanhos de lote\n\ncusta 2. Ambos podem ser enviados para todos os terminais, com o mesmo custo. No caso em\n\nque existam dois ou mais terminais para enviar um mesmo lote, cada um com custo diferente, o\n\nalgoritmo sempre escolhe o terminal mais barato dispon\u00edvel. Isto pode acontecer porque o custo\n\nde enviar um lote depende do tempo de tr\u00e2nsito. Ent\u00e3o, terminais mais distantes encarecem o\n\ncusto de envio.\n\nNa Figura 2.2, os custos para cada n\u00edvel de estoque, dia e tamanho de lote est\u00e3o repre-\n\nsentados pelos c\u00edrculos. No dia d = 1 e c = 1, existe um estoque inicial de 2 unidades e o custo\n\nm\u00ednimo \u00e9 Custop(1,1,2) = 4, que \u00e9 o custo \u00f3timo. De d = 1 e c = 1 para d = 1 e c = 2,\n\nexistem tr\u00eas possibilidades: (i) enviar um lote (?t = 1, para algum t), resultando em um estoque\n\nde 3 unidades e custo 3 + 1,5; (ii) enviar dois lotes (?t = 1, ?t ? T ), resultando em um estoque\n\nde 2 unidades e custo 2 + 3; (iii) n\u00e3o enviar nenhum lote (?t = 0, ?t ? T ), resultando em um\n\nestoque de 4 unidades e custo 4. A terceira op\u00e7\u00e3o \u00e9 escolhida. De d = 1 e c = 2 para d = 2 e\n\nc = 2, nenhum lote \u00e9 enviado. Ent\u00e3o, um lote \u00e9 enviado de d = 2 e c = 2 para d = 3 e c = 1, e\n\nde d = 3 e c = 2, levando a um estoque de 4 unidades ao fim do horizonte de tempo.\n\nA grande vantagem da programa\u00e7\u00e3o din\u00e2mica \u00e9 o fato de que a economia de escala nos\n\nlotes, presente nas inst\u00e2ncias utilizadas, n\u00e3o aumenta o tempo de execu\u00e7\u00e3o. J\u00e1 no MIP, o impacto\n\nno tempo de execu\u00e7\u00e3o \u00e9 consider\u00e1vel. Isto acontece porque a economia de escala afeta apenas\n\nos custos reduzidos, n\u00e3o afetando o n\u00famero de c\u00e1lculos executados pela programa\u00e7\u00e3o din\u00e2mica.\n\nCaso haja pelo menos uma produ\u00e7\u00e3o fracion\u00e1ria, ser\u00e1 preciso executar um pr\u00e9-processamento,\n\nexplicado a seguir. As produ\u00e7\u00f5es di\u00e1rias s\u00e3o acumuladas, e se o valor acumulado for fracion\u00e1rio,\n\na capacidade de estoque da plataforma \u00e9 diminu\u00edda em uma unidade para ter espa\u00e7o para arma-\n\n\n\n40\n\nzenar a parte fracion\u00e1ria. A produ\u00e7\u00e3o di\u00e1ria ajustada \u00e9 a parte inteira da produ\u00e7\u00e3o acumulada,\n\nainda n\u00e3o adicionada ao estoque. A Tabela 2.1 mostra um exemplo com produ\u00e7\u00e3o fracion\u00e1ria\n\nonde a capacidade de estoque da plataforma \u00e9 6 unidades. A primeira coluna mostra a produ\u00e7\u00e3o\n\ndi\u00e1ria original, que \u00e9 fracion\u00e1ria e igual a 2,75 para todos os dias. A segunda coluna mostra a\n\nprodu\u00e7\u00e3o acumulada. Note que existe apenas um valor inteiro.A terceira coluna mostra a ca-\n\npacidade original, 6 unidades. A quarta coluna mostra a capacidade ajustada, a qual \u00e9 igual\n\n\u00e0 capacidade original quando a produ\u00e7\u00e3o acumulada \u00e9 inteira, ou igual \u00e0 capacidade original\n\nmenos um, quando a a capacidade acumulada \u00e9 fracion\u00e1ria. A quinta coluna mostra a produ\u00e7\u00e3o\n\najustada, a qual \u00e9 igual \u00e0 parte inteira da produ\u00e7\u00e3o acumulada ainda n\u00e3o adicionada ao estoque\n\nda plataforma.\n\nTabela 2.1: Lidando com produ\u00e7\u00e3o fracion\u00e1ria\n\nProdu\u00e7\u00e3o Produ\u00e7\u00e3o Capacidade Capacidade Produ\u00e7\u00e3o\nOriginal Acumulada Original Ajustada Ajustada\n\n2,75 2,75 6 5 2\n2,75 5,5 6 5 3\n2,75 8,25 6 5 3\n2,75 11 6 6 3\n2,75 13,75 6 5 2\n\n2.3.2 PROCEDIMENTO DA HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE COLUNAS\n\nO principal objetivo do procedimento da heur\u00edstica \u00e9 encontrar uma solu\u00e7\u00e3o vi\u00e1vel em\n\num tempo menor do que o procedimento heur\u00edstico existente no solver comercial. Como, para\n\nalgumas inst\u00e2ncias, as formula\u00e7\u00f5es CARA e CALA t\u00eam dificuldade em encontrar alguma solu-\n\n\u00e7\u00e3o vi\u00e1vel no in\u00edcio do algoritmo de branch-and-bound, foi implementada esta heur\u00edstica cons-\n\ntrutiva usando gera\u00e7\u00e3o de colunas para escolher somente vari\u00e1veis z com boas chances de fazer\n\nparte da solu\u00e7\u00e3o \u00f3tima. Esta redu\u00e7\u00e3o no n\u00famero de vari\u00e1veis do modelo permite ao algoritmo\n\nde branch-and-bound achar rapidamente uma solu\u00e7\u00e3o vi\u00e1vel, ou provar que nenhuma solu\u00e7\u00e3o\n\nvi\u00e1vel pode ser encontrada com estas vari\u00e1veis.\n\nO procedimento da heur\u00edstica \u00e9 mostrado no Algoritmo 1 (usando a formula\u00e7\u00e3o CALA).\n\nPrimeiro, a relaxa\u00e7\u00e3o linear da FGC \u00e9 resolvida (linha 1). Depois, o custo reduzido de todas\n\nas colunas presentes no PMR final \u00e9 calculado usando os valores das vari\u00e1veis duais da \u00faltima\n\nitera\u00e7\u00e3o do algoritmo de gera\u00e7\u00e3o de colunas (linha 2). As colunas s\u00e3o ordenadas em ordem\n\ncrescente de custo reduzido (linha 3) (Nesta etapa, todas as colunas possuem custo reduzido\n\nn\u00e3o-negativo). Os par\u00e2metros min e max s\u00e3o inicializados na linha 4. Na linha 5, o par\u00e2metro\n\n\n\n41\n\nk \u00e9 inicializado. Este par\u00e2metro indica que as k primeiras colunas do PMR final ser\u00e3o conver-\n\ntidas em vari\u00e1veis da formula\u00e7\u00e3o CALA. A cada itera\u00e7\u00e3o do loop principal (linhas 6 \u2013 16), a\n\nformula\u00e7\u00e3o CALA \u00e9 gerada apenas com as vari\u00e1veis z correspondentes \u00e0s k colunas de menor\n\ncusto reduzido no PMR final (linha 7). A formula\u00e7\u00e3o CALA roda por at\u00e9 5 segundos (linha 8).\n\nSe uma nova solu\u00e7\u00e3o vi\u00e1vel \u00e9 obtida (linha 9), ela \u00e9 guardada caso seja a melhor encontrada at\u00e9\n\no momento. Caso o algoritmo de branch-and-bound n\u00e3o encontre nenhuma solu\u00e7\u00e3o vi\u00e1vel nos\n\n5 segundos dispon\u00edveis (linha 12), o loop principal termina. Caso contr\u00e1rio, k \u00e9 aumentado em\n\n10 unidades (linha 15).\n\nPode acontecer de alguma plataforma n\u00e3o possuir nenhuma vari\u00e1vel z na formula\u00e7\u00e3o\n\nCALA reduzida. Neste caso, o branch-and-bound provar\u00e1 rapidamente a inviabilidade do MIP\n\ne uma quantidade maior para k ser\u00e1 testada. Com k maior do que a quantidade de colunas com\n\ncusto reduzido zero no PMR, todas as plataformas ter\u00e3o ao menos uma coluna convertida em\n\nvari\u00e1veis z.\n\nO tempo de execu\u00e7\u00e3o usado na linha 8 foi baseado em experimentos preliminares, onde\n\nfoi observado que a maioria das melhores solu\u00e7\u00f5es vi\u00e1veis encontradas pelo algoritmo foram\n\nobtidas ao resolver o MIP em menos de 5 segundos. Este limite de tempo parece levar a uma\n\nboa rela\u00e7\u00e3o entre qualidade da solu\u00e7\u00e3o e tempo de execu\u00e7\u00e3o.\n\nAlgoritmo 1 Heur\u00edstica baseada em gera\u00e7\u00e3o de colunas\n1: Resolver a relaxa\u00e7\u00e3o linear da FGC\n2: Calcular o custo reduzido das colunas usando as vari\u00e1veis duais da \u00faltima itera\u00e7\u00e3o\n3: Ordenar as colunas de acordo com seus custos reduzidos\n4: min ? 30, max ? 150\n5: k ? min\n6: enquanto k ? max fa\u00e7a\n7: Converter k colunas de FGC com os mais baixos custos reduzidos em vars de CALA\n8: Rodar CALA por at\u00e9 5 segundos\n9: se solu\u00e7\u00e3o vi\u00e1vel encontrada ent\u00e3o\n\n10: Guarde a solu\u00e7\u00e3o se for a melhor at\u00e9 o momento\n11: fim se\n12: se nenhuma solu\u00e7\u00e3o encontrada ent\u00e3o\n13: Sair do Loop\n14: fim se\n15: k ? k + 10\n16: fim enquanto\n\n\n\n42\n\n2.4 RESULTADOS COMPUTACIONAIS\n\nO Ap\u00eandice A mostra as tabelas completas com os resultados computacionais de todos\n\nos testes deste cap\u00edtulo. As solu\u00e7\u00f5es \u00f3timas ou melhores encontradas de todas as inst\u00e2ncias\n\nutilizadas se encontram na Tabela A.1.\n\n2.4.1 RESULTADOS COMPUTACIONAIS DAS FORMULA\u00c7\u00d5ES\n\nEsta subse\u00e7\u00e3o cont\u00e9m os resultados obtidos por cada formula\u00e7\u00e3o nas inst\u00e2ncias de Ro-\n\ncha (2010) e em uma nova classe de inst\u00e2ncias mais dif\u00edceis geradas neste trabalho. Todos os\n\ntestes, incluindo o algoritmo de melhor desempenho de Rocha (2010), HullRel, foram rodados\n\nem um computador com processador Intel Core2 Quad CPU Q8300 2.50GHz, mem\u00f3ria de 2\n\nGB, na plataforma Windows Seven, com o resolvedor Cplex 12.1. As inst\u00e2ncias possuem as\n\nseguintes caracter\u00edsticas gerais: um \u00fanico produto (\u00f3leo cru), um \u00fanico modal (navio), 9 locais\n\nde produ\u00e7\u00e3o, 2 locais de consumo e um horizonte de tempo de 30 dias. Outras caracter\u00edsticas,\n\nrelacionadas \u00e0s classes de inst\u00e2ncias s\u00e3o:\n\n\u2022 um \u00fanico tamanho de lote (f\u00e1cil);\n\n\u2022 um tamanho de lote por rota (m\u00e9dio);\n\n\u2022 dois tamanhos de lote por rota (dif\u00edcil);\n\n\u2022 cinco tamanhos de lote por rota e todas as plataformas podem enviar para todos os termi-\n\nnais (novas inst\u00e2ncias, mais dif\u00edceis).\n\nCada classe possui 25 inst\u00e2ncias. N\u00e3o ser\u00e3o reportados os resultados obtidos para a pri-\n\nmeira classe (f\u00e1cil), dado que estas inst\u00e2ncias podem ser facilmente resolvidas pela formula\u00e7\u00e3o\n\nFN utilizando um resolvedor comercial. Os resultados para as classes m\u00e9dia e dif\u00edcil ser\u00e3o\n\nmostrados separadamente dos resultados da nova classe de inst\u00e2ncias. Para cada formula\u00e7\u00e3o, as\n\ntabelas cont\u00e9m os resultados m\u00e9dios obtidos. Dentre estes resultados, encontram-se dois tipos\n\nde diferen\u00e7a relativa percentual (gap), dados por:\n\ngapLB = 100\u00d7\nUBm ?LBf\n\nUBm\n, (2.46)\n\ngapUB = 100\u00d7\nUBf ?UBm\n\nUBm\n, (2.47)\n\n\n\n43\n\nonde UBm \u00e9 a melhor solu\u00e7\u00e3o vi\u00e1vel conhecida, LBf \u00e9 o melhor lower bound para uma dada\n\nformula\u00e7\u00e3o, e UBf \u00e9 a melhor solu\u00e7\u00e3o vi\u00e1vel para uma dada formula\u00e7\u00e3o.\n\nOs resultados para as inst\u00e2ncias das classes m\u00e9dia e dif\u00edcil s\u00e3o mostrados nas Tabelas\n\n2.2 e 2.3. Os resultados das formula\u00e7\u00f5es FN e KC n\u00e3o s\u00e3o mostrados pelo fato de que a\n\nformula\u00e7\u00e3o FB domina a primeira e a formula\u00e7\u00e3o KCA domina a segunda. Nestas tabelas,\n\na coluna Formula\u00e7\u00e3o mostra a formula\u00e7\u00e3o testada. A coluna Tempo (s) mostra o tempo de\n\nexecu\u00e7\u00e3o m\u00e9dio em segundos para cada classe de inst\u00e2ncias. Salienta-se que, em todos os testes\n\nrealizados, o tempo m\u00e1ximo de execu\u00e7\u00e3o permitido para cada inst\u00e2ncia \u00e9 de 720 segundos. A\n\ncoluna gapLB raizpl (%) mostra o gapLB m\u00e9dio na raiz antes dos cortes do CPLEX, calculado\n\nutilizando o gapLB de cada inst\u00e2ncia dado por (2.46) considerando LBf como o limite inferior\n\ndo n\u00f3 raiz antes dos cortes do CPLEX. A coluna gapLB raiz (%) mostra o gapLB m\u00e9dio na\n\nraiz ap\u00f3s os cortes do CPLEX, tamb\u00e9m calculado utilizando o gapLB de cada inst\u00e2ncia dado\n\npor (2.46) considerando LBf como o limite inferior do n\u00f3 raiz ap\u00f3s os cortes do CPLEX. A\n\ncoluna gapLB final (%) cont\u00e9m a m\u00e9dia dos gapLB ao final da execu\u00e7\u00e3o de cada inst\u00e2ncia e\n\ntamb\u00e9m \u00e9 calculado utilizando os valores de (2.46) obtidos para cada inst\u00e2ncia, com LBf sendo\n\no limite inferior ao final da execu\u00e7\u00e3o de cada inst\u00e2ncia. A coluna gapUB (%) mostra o gapUB\n\nm\u00e9dio obtido ao final das execu\u00e7\u00f5es calculado utilizando os valores obtidos por (2.47) para cada\n\ninst\u00e2ncia. A coluna No de n\u00f3s cont\u00e9m o n\u00famero m\u00e9dio de n\u00f3s resolvidos no algoritmo de\n\nbranch-and-bound. Por fim, a coluna Inst\u00e2ncias resolvidas mostra o n\u00famero de inst\u00e2ncias de\n\ncada classe que foram resolvidas at\u00e9 a otimalidade.\n\nOs resultados do gapLB raizpl incluem o pr\u00e9-processamento do CPLEX. Caso n\u00e3o fosse\n\nutilizado, FN , KC, CAR e CAL (ver Proposi\u00e7\u00e3o 2.3) teriam a mesma relaxa\u00e7\u00e3o no n\u00f3 raiz do\n\nalgoritmo de branch-and-bound, e o mesmo aconteceria com FB, KCA, CARA e CALA (ver\n\nProposi\u00e7\u00e3o 2.2). Para as classes m\u00e9dia e dif\u00edcil de inst\u00e2ncias, os valores m\u00e9dios da relaxa\u00e7\u00e3o\n\npor programa\u00e7\u00e3o linear das formula\u00e7\u00f5es arredondadas s\u00e3o 0,34 e 2,58, respectivamente, e para\n\nas formula\u00e7\u00f5es sem arredondamento s\u00e3o 0,61 e 2,62. Sem o pr\u00e9-processamento do CPLEX,\n\nFGC possui o melhor gapLB raizpl para todas as classes de inst\u00e2ncias. Para as classes dif\u00edcil e\n\nmuito dif\u00edcil de inst\u00e2ncias, FGC obteve o melhor gapLB m\u00e9dio no n\u00f3 raiz mesmo com o uso do\n\npr\u00e9-processamento e das rotinas de corte do CPLEX nas outras formula\u00e7\u00f5es.\n\nNas Tabelas 2.2 e 2.3 \u00e9 poss\u00edvel observar que as formula\u00e7\u00f5es FN e FB tiveram o pior\n\ndesempenho em compara\u00e7\u00e3o com as demais. O gapUB delas n\u00e3o \u00e9 mostrado porque elas encon-\n\ntraram poucas solu\u00e7\u00f5es vi\u00e1veis, por isso utilizar valor m\u00e9dio n\u00e3o \u00e9 apropriado. A FB provou o\n\n\u00f3timo de apenas duas inst\u00e2ncias, ambas da classe de n\u00edvel m\u00e9dio. Este fato influencia no tempo\n\n\n\n44\n\nTabela 2.2: Resultados m\u00e9dios e n\u00famero de inst\u00e2ncias resolvidas para as formula\u00e7\u00f5es matem\u00e1-\nticas e resultados de Rocha (2010) para as inst\u00e2ncias da classe m\u00e9dia\n\nTempo gapLB gapLB gapLB gapUB Inst\u00e2ncias\nFormula\u00e7\u00e3o (s) raizpl (%) raiz (%) final (%) (%) No de n\u00f3s resolvidas\nFN 720,00 1,41 1,19 0,83 \u2013 2595996 0\nFB 685,47 0,36 0,30 0,24 \u2013 3944016 2\nKC 405,50 0,35 0,25 0,13 0,00 569080 10\nKCA 422,47 0,35 0,25 0,13 0,00 672843 10\nCAR 30,65 0,34 0,19 0,00 0,00 172880 24\nCARA 30,61 0,33 0,18 0,00 0,00 146637 24\nCAL 1,32 0,34 0,23 0,00 0,00 3584 Todas\nCALA 1,28 0,34 0,23 0,00 0,00 3405 Todas\nFGC \u2013 0,35 \u2013 \u2013 \u2013 \u2013 \u2013\nRocha (2010) 351,53 \u2013 \u2013 \u2013 0,04 \u2013 13\nPara ver os resultados completos das formula\u00e7\u00f5es arredondadas, ver as Tabelas A.2, A.3,\n\nA.4, A.5, A.8, A.9, A.11, A.12 e A.14.\n\nPara comparar o uso de vari\u00e1veis de lote bin\u00e1rias e cont\u00ednuas, ver A.6 com A.8 e A.7 com A.9\n\nTabela 2.3: Resultados m\u00e9dios e n\u00famero de inst\u00e2ncias resolvidas para as formula\u00e7\u00f5es matem\u00e1-\nticas e resultados de Rocha (2010) para as inst\u00e2ncias da classe dif\u00edcil\n\nTempo gapLB gapLB gapLB gapUB Inst\u00e2ncias\nFormula\u00e7\u00e3o (s) raizpl (%) raiz (%) final (%) (%) No de n\u00f3s resolvidas\nFN 720,00 3,14 2,74 1,98 \u2013 1294071 0\nFB 720,00 2,98 2,62 1,95 \u2013 1326605 0\nKC 687,51 2,84 1,96 1,13 0,27 157950 2\nKCA 662,75 2,84 1,96 1,13 0,27 133742 2\nCAR 103,93 2,38 1,47 0,79 0,03 55632 22\nCARA 102,94 2,38 1,47 0,79 0,03 53669 22\nCAL 101,97 2,13 1,30 0,79 0,00 40006 22\nCALA 98,21 2,12 1,30 0,77 0,00 32761 22\nFGC \u2013 1,19 \u2013 \u2013 \u2013 \u2013 \u2013\nRocha (2010) 691,40 \u2013 \u2013 \u2013 1,24 \u2013 1\nPara ver os resultados completos das formula\u00e7\u00f5es arredondadas, ver as Tabelas A.2, A.3,\n\nA.4, A.5, A.8, A.9, A.11, A.12 e A.14.\n\nPara comparar o uso de vari\u00e1veis de lote bin\u00e1rias e cont\u00ednuas, ver A.6 com A.8 e A.7 com A.9\n\nm\u00e9dio de execu\u00e7\u00e3o nesta mesma classe de inst\u00e2ncias, sendo pr\u00f3ximo do tempo m\u00e1ximo permi-\n\ntido para cada inst\u00e2ncia. Para as inst\u00e2ncias da classe dif\u00edcil, o tempo m\u00e9dio de execu\u00e7\u00e3o \u00e9 igual\n\nao tempo m\u00e1ximo permitido de execu\u00e7\u00e3o pelo fato de que esta formula\u00e7\u00e3o n\u00e3o foi capaz de com-\n\nprovar a otimalidade em nenhuma inst\u00e2ncia. A FN n\u00e3o provou o \u00f3timo de nenhuma inst\u00e2ncia,\n\npor isso o tempo m\u00e9dio de execu\u00e7\u00e3o \u00e9 exatamente 720 segundos para as duas classes de inst\u00e2n-\n\ncias. Por outro lado, como estas duas formula\u00e7\u00f5es possuem menos coeficientes n\u00e3o zero, uma\n\nquantidade significativamente maior de n\u00f3s \u00e9 resolvida pelo algoritmo de branch-and-bound.\n\n\n\n45\n\nComparando KC com KCA, CAR com CARA e CAL com CALA, as performances\n\ns\u00e3o similares. Podemos concluir que a formula\u00e7\u00e3o FN \u00e9 dominada pela FB mas o efeito do\n\narredondamento do estoque em KC, CAR e CAL n\u00e3o \u00e9 percept\u00edvel, mesmo quando o MDC dos\n\ntamanhos de lote \u00e9 maior que 1.\n\nEm rela\u00e7\u00e3o a FB, a formula\u00e7\u00e3o KCA obteve um desempenho bem melhor, sendo capaz\n\nde resolver 12 das 50 inst\u00e2ncias, sendo 10 inst\u00e2ncias de dificuldade m\u00e9dia e 2 inst\u00e2ncias dif\u00edceis.\n\nIsto se d\u00e1 porque na KCA, o CPLEX reconhece as restri\u00e7\u00f5es (2.10)-(2.13) como restri\u00e7\u00f5es de\n\nmochila (para (2.11) e (2.12), todas as vari\u00e1veis bin\u00e1rias s\u00e3o substitu\u00eddas por seus complementos\n\ngerando restri\u00e7\u00f5es de mochila). Assim, o CPLEX pode aplicar cortes espec\u00edficos (por exemplo,\n\ncover cuts). Este efeito pode ser percebido ao comparar os resultados das relaxa\u00e7\u00f5es da raiz para\n\nFB e KCA nas Tabelas 2.2 e 2.3.\n\nComo somente a relaxa\u00e7\u00e3o linear da FGC foi rodada, apenas a coluna gapLBraizpl foi\n\npreenchida. Quanto aos dados conseguidos de Rocha(2010), estes foram extra\u00eddos do algoritmo\n\nque o autor forneceu.\n\nAs formula\u00e7\u00f5es CARA e CALA, pelos resultados relatados, foram as que obtiveram os\n\nmelhores desempenhos, bem superiores ao da literatura (Rocha, 2010). A formula\u00e7\u00e3o CARA\n\nfoi testada de duas formas: com as vari\u00e1veis z como bin\u00e1rias (ver Tabelas A.6 e A.7) e com estas\n\nvari\u00e1veis como cont\u00ednuas entre zero e um (ver Tabelas A.8 e A.9). Com as vari\u00e1veis cont\u00ednuas,\n\nesperava-se diminuir a quantidade de vari\u00e1veis eleg\u00edveis ao branch. Por\u00e9m, os testes mostraram\n\nque o CPLEX percebe que as vari\u00e1veis s\u00e3o inteiras e as utiliza no branch. Mesmo assim, com-\n\nparando ambas as formas, \u00e9 poss\u00edvel ver que a formula\u00e7\u00e3o com as vari\u00e1veis cont\u00ednuas apresenta\n\numa leve melhora em rela\u00e7\u00e3o ao gapLB raiz m\u00e9dio para as classes de inst\u00e2ncias m\u00e9dia e dif\u00edcil,\n\nprovavelmente devido ao pr\u00e9-processamento diferente para as duas formula\u00e7\u00f5es. Assim, embora\n\na diferen\u00e7a entre as duas suposi\u00e7\u00f5es para as vari\u00e1veis z n\u00e3o seja expressiva, todos os testes, tanto\n\npara CARA quanto para CALA, foram feitos com as vari\u00e1veis cont\u00ednuas entre zero e um.\n\nCom a formula\u00e7\u00e3o acumulada nas rotas, foram resolvidas 24 inst\u00e2ncias m\u00e9dias e 22 dif\u00ed-\n\nceis, com tempo m\u00e9dio de execu\u00e7\u00e3o significativamente baixo. Com a formula\u00e7\u00e3o acumulada nos\n\nlocais, foram resolvidas todas as inst\u00e2ncias m\u00e9dias e 22 dif\u00edceis. Dentre estas duas formula\u00e7\u00f5es,\n\nacumular nos locais se mostrou mais eficiente por haver mais rotas que locais nas inst\u00e2ncias\n\nutilizadas. Caso a quantidade de locais fosse maior que a de rotas, acumular nas rotas seria mais\n\neficiente.\n\nO sucesso das formula\u00e7\u00f5es CARA e CALA pode ser explicado pelas tr\u00eas raz\u00f5es a se-\n\nguir: (i) o n\u00famero de coeficientes n\u00e3o zero nestas duas formula\u00e7\u00f5es \u00e9 muito menor do que na\n\n\n\n46\n\nKCA (e compar\u00e1vel ao da formula\u00e7\u00e3o FB) porque cada vari\u00e1vel x nas restri\u00e7\u00f5es (2.21)-(2.24)\n\ne (2.30)-(2.33) substitui a soma de v\u00e1rias vari\u00e1veis z; (ii) como na formula\u00e7\u00e3o KCA, o CPLEX\n\nreconhece as restri\u00e7\u00f5es (2.21)-(2.24) e (2.30)-(2.33) como restri\u00e7\u00f5es de mochila; (iii) as vari\u00e1-\n\nveis x s\u00e3o mais apropriadas para branching. Para explicar o item (i), observe que o n\u00famero\n\nde coeficientes n\u00e3o-zero da FN , FB, CARA e CALA \u00e9 O(|P||T||C|D), enquanto para KC e\n\nKCA \u00e9 O(|P||T||C|D2). A Tabela 2.4 compara o tamanho de todas as formula\u00e7\u00f5es para uma\n\ninst\u00e2ncia da classe mais dif\u00edcil. Para explicar o item (iii), veja a Figura 2.3, baseada na CARA.\n\nA Figura 2.3.(a) representa as vari\u00e1veis z associadas a uma rota para todo o horizonte de tempo:\n\nos arcos representam as vari\u00e1veis, a primeira coluna de n\u00f3s representa a plataforma de origem e\n\na segunda coluna de n\u00f3s representa o terminal de destino. Agora, assuma que z15 possui valor\n\nfracion\u00e1rio na solu\u00e7\u00e3o relaxada da formula\u00e7\u00e3o KCA. Se z15 for selecionada como vari\u00e1vel de\n\nbranching e for\u00e7ada a assumir o valor um, a solu\u00e7\u00e3o relaxada provavelmente mudar\u00e1 significati-\n\nvamente. Entretanto, quando z15 for for\u00e7ada a ser zero, \u00e9 prov\u00e1vel que a relaxa\u00e7\u00e3o d\u00ea o mesmo\n\nlimite inferior caso haja folga suficiente nos estoques de p1 e t1 para enviar a mesma quantidade\n\ndo produto um dia depois, i.e., definir z16 com o mesmo valor que z15 tinha no branching an-\n\nterior. Esta observa\u00e7\u00e3o \u00e9 retratada na Figura 2.3.(b). Esta caracter\u00edstica, quando replicada em\n\nv\u00e1rias partes da solu\u00e7\u00e3o, gera uma simetria indesej\u00e1vel que impede que o branch-and-bound ter-\n\nmine, mesmo em inst\u00e2ncias em que o gap da raiz \u00e9 pequeno. Como mostrado na Figura 2.3.(c),\n\no uso das vari\u00e1veis x quebra esta simetria.\n\nTabela 2.4: Tamanho das formula\u00e7\u00f5es para uma inst\u00e2ncia da classe mais dif\u00edcil\n\nFN FB KC KCA CARA CALA\nQuant. de vari\u00e1veis 3030 3030 2700 2700 5400 4350\nQuant. de restri\u00e7\u00f5es 330 330 660 660 33601 23103\n\nQuant. de coefs n\u00e3o-zero 6060 6060 167400 167400 189002 120004\n\n(1) 80% das restri\u00e7\u00f5es est\u00e3o na restri\u00e7\u00e3o (2.20)\n\n(2) 43% destes coeficientes est\u00e3o na restri\u00e7\u00e3o (2.20)\n\n(3) 70% das restri\u00e7\u00f5es est\u00e3o nas restri\u00e7\u00f5es (2.28) e (2.29)\n\n(4) 70% destes coeficientes est\u00e3o nas restri\u00e7\u00f5es (2.28) e (2.29)\n\nOs resultados obtidos de todas as formula\u00e7\u00f5es para a classe de inst\u00e2ncias mais dif\u00edceis\n\ns\u00e3o mostrados na Tabela 2.5. Al\u00e9m das formula\u00e7\u00f5es originais CARA e CALA, foi testada\n\ntamb\u00e9m uma vers\u00e3o modificada delas. A modifica\u00e7\u00e3o consiste em permitir viola\u00e7\u00e3o dos limites\n\nm\u00ednimo e m\u00e1ximo nos estoques dos locais consumidores, mas mantendo o custo de viola\u00e7\u00e3o\n\nalto o suficiente para n\u00e3o alterar a solu\u00e7\u00e3o \u00f3tima das inst\u00e2ncias. Para esta modifica\u00e7\u00e3o, foram\n\ninclu\u00eddos dois novos conjuntos de vari\u00e1veis:\n\n\n\n47\n\nFigura 2.3: (a) Representa\u00e7\u00e3o de um conjunto de vari\u00e1veis z correspondentes \u00e0 mesma rota e\nclasse de navio. (b) Branching nas vari\u00e1veis z. (c) Branching nas vari\u00e1veis x.\n\n\u2022 violmaxt,d : viola\u00e7\u00e3o do limite m\u00e1ximo de estoque no terminal t e dia d\n\n\u2022 violmint,d : viola\u00e7\u00e3o do limite m\u00ednimo de estoque no terminal t e dia d\n\nSeja Cviol o custo de viola\u00e7\u00e3o de estoque. Para n\u00e3o mudar o valor da solu\u00e7\u00e3o \u00f3tima, ser\u00e1\n\nusado um valor alto o suficiente. A nova fun\u00e7\u00e3o objetivo ser\u00e1:\n\nMin\n?\np?P\n\n?\nt?T(p)\n\n?\nc?C(p)\n\n2FcDp,tx\nc,D\np,t +\n\n?\nt?T\n\nD?\nd=1\n\nCviol(viol\nmin\nt,d + viol\n\nmax\nt,d ) (2.48)\n\nAs novas vari\u00e1veis violmaxt,d ser\u00e3o inclu\u00eddas nas restri\u00e7\u00f5es (2.23) e viol\nmin\nt,d nas restri\u00e7\u00f5es\n\n(2.24) (an\u00e1logo para CALA):\n\n?\np?P(t)\n\n?\nc?C(p)\n\nVcx\nc,d?Dp,t\np,t ?viol\n\nmax\nt,d ? kmax(t,d)Lt ?t ? T,d ?{1, ...,D} (2.49)\n\n?\np?P(t)\n\n?\nc?C(p)\n\nVcx\nc,d?Dp,t\np,t + viol\n\nmin\nt,d ? kmin(t,d)Lt ?t ? T,d ?{1, ...,D} (2.50)\n\n\n\n48\n\nPara a classe mais dif\u00edcil de inst\u00e2ncias, o MDC \u00e9 sempre 1. Arredondar os estoques\n\napenas retira a parte fracion\u00e1ria da produ\u00e7\u00e3o ou demanda acumulada. Por isso, os testes foram\n\nfeitos somente com as formula\u00e7\u00f5es com estoques arredondados. Para encontrar a solu\u00e7\u00e3o \u00f3tima\n\nou quase \u00f3tima das inst\u00e2ncias desta classe (para ser usada como UBb), as inst\u00e2ncias foram exe-\n\ncutadas por muitas horas, usando como solu\u00e7\u00e3o vi\u00e1vel inicial a melhor solu\u00e7\u00e3o encontrada nos\n\ntestes anteriores. Os resultados mostram que a formula\u00e7\u00e3o CARA resolveu apenas 3 das novas\n\ninst\u00e2ncias, resultado bem inferior ao da CALA, que resolveu 7 inst\u00e2ncias. Com a permiss\u00e3o de\n\nestouro com custo suficientemente alto, houve uma melhora de desempenho na obten\u00e7\u00e3o de so-\n\nlu\u00e7\u00f5es vi\u00e1veis das duas formula\u00e7\u00f5es, duas inst\u00e2ncias a mais foram resolvidas pela CARA e mais\n\numa inst\u00e2ncia foi resolvida pela CALA. Esta melhora ocorreu porque, quando a viola\u00e7\u00e3o de es-\n\ntoques \u00e9 permitida, o n\u00famero de solu\u00e7\u00f5es vi\u00e1veis aumenta muito, melhorando o desempenho\n\ndos procedimentos heur\u00edsticos do CPLEX tanto na constru\u00e7\u00e3o quanto na melhora das solu\u00e7\u00f5es\n\nvi\u00e1veis. O gapUB da CALA com estouro est\u00e1 alto porque ela encontrou solu\u00e7\u00e3o vi\u00e1vel para 21\n\ninst\u00e2ncias, contra 16 da formula\u00e7\u00e3o sem estouro. Isto significa que solu\u00e7\u00f5es vi\u00e1veis foram en-\n\ncontradas para inst\u00e2ncias mais dif\u00edceis, o que gerou gaps mais altos para elas. Somente a KCA\n\nencontrou solu\u00e7\u00e3o vi\u00e1vel para todas as inst\u00e2ncias, o que contribuiu para seu alto gapUB m\u00e9dio.\n\nOutro motivo que deixa o gapUB das CARA e CALA melhor \u00e9 que quando estas formula\u00e7\u00f5es\n\nencontram uma solu\u00e7\u00e3o vi\u00e1vel, costumam melhorar esta solu\u00e7\u00e3o de forma mais r\u00e1pida do que a\n\nKCA.\n\nA FGC obteve o melhor valor m\u00e9dio da relaxa\u00e7\u00e3o da raiz, mesmo quando os procedi-\n\nmentos de pr\u00e9-processamento e cortes do CPLEX s\u00e3o utilizados nas outras formula\u00e7\u00f5es. Sem\n\nos cortes do CPLEX, o valor m\u00e9dio da relaxa\u00e7\u00e3o linear de todas as formula\u00e7\u00f5es \u00e9 7,94.\n\n2.4.2 RESULTADOS COMPUTACIONAIS DA HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O\n\nDE COLUNAS\n\nA heur\u00edstica baseada em gera\u00e7\u00e3o de colunas foi usada nas inst\u00e2ncias mais dif\u00edceis. Pri-\n\nmeiramente, foi observado que, para inst\u00e2ncias sem solu\u00e7\u00e3o vi\u00e1vel ap\u00f3s o CPLEX rodar pelos\n\n12 minutos dispon\u00edveis com a formula\u00e7\u00e3o CARA ou CALA, a heur\u00edstica tem dificuldade em\n\nachar alguma solu\u00e7\u00e3o vi\u00e1vel. Entretanto, nos casos em que o CPLEX encontra solu\u00e7\u00e3o vi\u00e1vel\n\nnos 12 minutos, a heur\u00edstica costuma achar boas solu\u00e7\u00e3o vi\u00e1veis rapidamente. Testes foram\n\nfeitos apenas com a heur\u00edstica, com o intuito de testar seu tempo de execu\u00e7\u00e3o e qualidade das\n\nsolu\u00e7\u00f5es vi\u00e1veis encontradas, e utilizando a heur\u00edstica para gerar uma solu\u00e7\u00e3o vi\u00e1vel inicial de\n\nqualidade para o algoritmo de branch-and-bound.\n\n\n\n49\n\nTabela 2.5: Resultados m\u00e9dios e n\u00famero de inst\u00e2ncias resolvidas para a formula\u00e7\u00e3o CALA\n(comparando com CARA) e suas relaxa\u00e7\u00f5es para a classe de inst\u00e2ncias mais dif\u00edceis criadas\n\nTempo gapLB gapLB gapLB gapUB Inst\u00e2ncias\nFormula\u00e7\u00e3o (s) raizpl (%) raiz (%) final (%) (%) No de n\u00f3s resolvidas\nFB 720,00 8,49 7,50 6,37 \u2013 562356 0\nRKC 720,00 8,26 6,53 5,34 10,9 107204 0\nCARA 637,64 7,81 5,88 5,16 6,20 131274 3\nCARAest 1 597,30 7,81 5,58 5,02 1,74 136310 5\nCALA 550,15 7,63 5,77 4,87 0,76 5935057 7\nCALAest 2 531,40 7,63 5,58 4,84 6,27 211518 8\nFGC \u2013 4,74 \u2013 \u2013 \u2013 \u2013 \u2013\nPara ver os resultados completos das formula\u00e7\u00f5es CARA, CARAest, CALA, CALAest e FGC,\n\nver Tabelas A.10, A.16, A.13, A.17 e A.15\n1: Formula\u00e7\u00e3o CARA com possibilidade de estouro de estoque nos pontos de oferta, com custo 999999.\n2: Formula\u00e7\u00e3o CALA com possibilidade de estouro de estoque nos pontos de oferta, com custo 999999.\n\nOs resultados obtidos para a heur\u00edstica baseada em gera\u00e7\u00e3o de colunas s\u00e3o mostrados\n\nna Tabela 2.6, utilizando a CARA. A coluna Vi\u00e1veis encontradas mostra a quantidade de\n\ninst\u00e2ncias com solu\u00e7\u00e3o vi\u00e1vel encontrada pela heur\u00edstica e a coluna gapUB (%) mostra o gapUB\n\nm\u00e9dio destas solu\u00e7\u00f5es. Comparando a heur\u00edstica com e sem viola\u00e7\u00e3o de estoques, \u00e9 poss\u00edvel ver\n\numa boa melhora quando a viola\u00e7\u00e3o \u00e9 permitida. Isso ocorre porque a quantidade de solu\u00e7\u00f5es\n\nvi\u00e1veis aumenta. O gapUB m\u00e9dio para os dois casos mostra que, como esperado, a heur\u00edstica\n\nencontra solu\u00e7\u00f5es vi\u00e1veis de qualidade. Para as inst\u00e2ncias que a heur\u00edstica encontra solu\u00e7\u00e3o\n\nvi\u00e1vel, o gapUB da CARAviol \u00e9 0,69. Esta formula\u00e7\u00e3o encontrou solu\u00e7\u00e3o vi\u00e1vel para 6 das\n\n9 inst\u00e2ncias que a heur\u00edstica falhou em encontrar solu\u00e7\u00e3o vi\u00e1vel. No entanto, o tempo m\u00e9dio\n\npara obter solu\u00e7\u00e3o vi\u00e1vel nestes casos \u00e9 245,9 segundos. O tempo de execu\u00e7\u00e3o m\u00e9dio das duas\n\nvariantes da heur\u00edstica \u00e9 baixo, com um m\u00ednimo de 7 segundos e um m\u00e1ximo de 16,78 segundos.\n\nPode-se pensar que, como a formula\u00e7\u00e3o knapsack cascading encontra solu\u00e7\u00e3o vi\u00e1vel para\n\ntodas as inst\u00e2ncias, a heur\u00edstica deveria ser usada com esta formula\u00e7\u00e3o. Nossos testes mostraram\n\nque as formula\u00e7\u00f5es de lotes acumulados possuem uma performance superior. Isto ocorre porque\n\na heur\u00edstica diminui o conjunto de solu\u00e7\u00f5es, ficando mais f\u00e1cil encontrar uma solu\u00e7\u00e3o vi\u00e1vel.\n\nQuando as formula\u00e7\u00f5es acumuladas encontram solu\u00e7\u00e3o vi\u00e1vel, normalmente a solu\u00e7\u00e3o \u00e9 melhor\n\ndo que da RKC.\n\nOs resultados obtidos pela heur\u00edstica, comparados com as duas melhores formula\u00e7\u00f5es,\n\ns\u00e3o mostrados na Tabela 2.7. Comparando a formula\u00e7\u00e3o CALA com e sem a heur\u00edstica, verifica-\n\nse uma boa melhora quando a heur\u00edstica \u00e9 utilizada, provando o \u00f3timo de 10 das 25 inst\u00e2ncias,\n\ncontra 7 sem a heur\u00edstica. O gapUB m\u00e9dio mostra que, como esperado, a heur\u00edstica levou a\n\n\n\n50\n\nTabela 2.6: Resultados m\u00e9dios e quantidade de solu\u00e7\u00f5es vi\u00e1veis encontradas para a heur\u00edstica\nbaseada em gera\u00e7\u00e3o de colunas com e sem viola\u00e7\u00e3o nos terminais usando a CARA para a classe\nmais dif\u00edcil de inst\u00e2ncias\n\nTempo gapUB Vi\u00e1veis\nFormula\u00e7\u00e3o (s) (%) encontradas\n\nHGC com viola\u00e7\u00e3o 11.5 0.12 16\nHGC sem viola\u00e7\u00e3o 13.2 0.40 14\n\nTabela 2.7: Resultados m\u00e9dios e quantidade de inst\u00e2ncias resolvidas para as duas formula\u00e7\u00f5es\ncom vari\u00e1veis acumuladas e a heur\u00edstica baseada em gera\u00e7\u00e3o de colunas, para a classe mais\ndif\u00edcil de inst\u00e2ncias\n\nTempo gapLB gapLB gapUB No. de Inst\u00e2ncias\nFormula\u00e7\u00e3o (s) raiz (%) final(%) (%) n\u00f3s resolvidas\nCARA 637,64 5,88 5,16 6,20 131274 3\nCALA 550,15 5,77 4,87 0,76 5935057 7\nCALA?HGC 498,62 5,81 4,76 0,13 130949 10\nPara ver a quantidade de colunas geradas e a solu\u00e7\u00e3o vi\u00e1vel encontrada com a heur\u00edstica\n\nbaseada em gera\u00e7\u00e3o de colunas, usando as formula\u00e7\u00f5es CARA e CALA, sem e com\n\npermiss\u00e3o de estouro (custo 999999 por unidade de estouro), ver Tabela A.18.\n\nmelhores solu\u00e7\u00f5es vi\u00e1veis. O tempo m\u00e9dio da CALA? HGC inclui o tempo de execu\u00e7\u00e3o da\n\nheur\u00edstica.\n\n2.5 CONCLUS\u00d5ES DESTE CAP\u00cdTULO\n\nEste cap\u00edtulo desenvolveu um estudo de modelagem para o problema de Transporte de\n\nPetr\u00f3leo. Tr\u00eas classes de inst\u00e2ncias retiradas da literatura foram usadas nos testes. Com o\n\nexcelente desempenho obtido, uma nova classe foi criada, com inst\u00e2ncias de maior grau de\n\ndificuldade.\n\nForam implementadas e testadas sete formula\u00e7\u00f5es: Formula\u00e7\u00e3o Natural (FN), Formu-\n\nla\u00e7\u00e3o B\u00e1sica (FB), Knapsack Cascading (KC), Knapsack Cascading Arredondado (KCA), Cas-\n\ncading Acumulado nas Rotas e Arredondado (CARA), Cascading Acumulado nos Locais e\n\nArredondado (CALA) e Formula\u00e7\u00e3o para Gera\u00e7\u00e3o de Colunas (FGC). As primeiras seis for-\n\nmula\u00e7\u00f5es foram testadas com o algoritmo de branch-and-cut do CPLEX, sendo a formula\u00e7\u00e3o\n\nCALA a que obteve os melhores resultados. Caso o n\u00famero de rotas fosse menor que o de\n\nlocais nas inst\u00e2ncias consideradas, a formula\u00e7\u00e3o (CARA) seria mais indicada. Sem os cortes\n\ndo CPLEX, a FGC obteve os melhores limites inferiores, o que motivou o desenvolvimento de\n\numa heur\u00edstica baseada em gera\u00e7\u00e3o de colunas.\n\n\n\n51\n\nComparando os resultados obtidos por Rocha (2010) com os deste trabalho, foi alcan\u00e7ada\n\numa excelente melhora. Tal melhora foi conseguida atrav\u00e9s de um melhor entendimento do\n\nproblema, incorporado na formula\u00e7\u00e3o matem\u00e1tica, reduzindo assim o esfor\u00e7o computacional.\n\nArredondar os estoques melhorou o desempenho apenas da formula\u00e7\u00e3o FN , n\u00e3o sendo\n\npercebida melhora nas formula\u00e7\u00f5es KCA, CARA e CALA.\n\nPara as formula\u00e7\u00f5es CARA e CALA, foi desenvolvida uma heur\u00edstica baseada em gera-\n\n\u00e7\u00e3o de colunas. Dado o excelente desempenho destas formula\u00e7\u00f5es com as classes m\u00e9dia e dif\u00edcil\n\nde inst\u00e2ncias, a heur\u00edstica foi utilizada apenas para a classe mais dif\u00edcil. Foram mostrados a de-\n\ncomposi\u00e7\u00e3o de Dantzig-Wolfe e um algoritmo por programa\u00e7\u00e3o din\u00e2mica (pseudopolinomial)\n\npara resolver os subproblemas. A heur\u00edstica gerou boas solu\u00e7\u00f5es vi\u00e1veis em baixo tempo com-\n\nputacional. A formula\u00e7\u00e3o CALA foi testada com e sem a heur\u00edstica, melhorando a performance\n\nda formula\u00e7\u00e3o quando a heur\u00edstica \u00e9 utilizada.\n\nA classe mais dif\u00edcil de inst\u00e2ncias serviu para avaliar a habilidade das melhores for-\n\nmula\u00e7\u00f5es em encontrar boas solu\u00e7\u00f5es vi\u00e1veis quando o \u00f3timo n\u00e3o pode ser comprovado. Foi\n\nmostrado que \u00e9 poss\u00edvel melhorar a qualidade das solu\u00e7\u00f5es vi\u00e1veis encontradas pelas formula-\n\n\u00e7\u00f5es CARA e CALA, e pela heur\u00edstica baseada em gera\u00e7\u00e3o de colunas, ao permitir viola\u00e7\u00e3o de\n\nestoque, o que aumenta o conjunto de solu\u00e7\u00f5es vi\u00e1veis.\n\n\n\n3 PROBLEMA DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE\n\nPETR\u00d3LEO E DE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA BRASILEIRA DE\n\nPETR\u00d3LEO - MALHA BRASIL\n\nDe acordo com D\u00f3ra et al (2009), o problema de transfer\u00eancia da Malha Brasil consiste\n\nem utilizar os diversos modais e transportes dispon\u00edveis para escoar a produ\u00e7\u00e3o de derivados das\n\nrefinarias e produtores externos ao Abastecimento (E&amp;P ou terceiro), abastecer as demandas do\n\nmercado interno nacional e dos consumidores internos da companhia (E&amp;P e t\u00e9rmicas), exportar\n\nos produtos excedentes e importar os produtos em falta. No modelo tratado nesta tese, a gra-\n\nnularidade corresponde ao n\u00edvel t\u00e1tico de planejamento, onde o tempo \u00e9 discretizado em meses.\n\nO horizonte de programa\u00e7\u00e3o \u00e9 de tr\u00eas meses (o m\u00eas atual mais dois meses futuros). A solu\u00e7\u00e3o\n\ndeve buscar um compromisso entre minimizar o custo de transporte e minimizar as viola\u00e7\u00f5es\n\ndas capacidades de armazenamento nos locais.\n\n3.1 PRODUTOS\n\nOs principais produtos que trafegam na Malha Brasil s\u00e3o:\n\n\u2022 \u00c1lcool\n\n\u2022 Gasolina\n\n\u2022 Diesel\n\n\u2022 G\u00e1s Liquefeito de Petr\u00f3leo (GLP)\n\n\u2022 Nafta petroqu\u00edmica\n\n\u2022 Querosene\n\n\n\n53\n\n\u2022 \u00d3leo combust\u00edvel\n\n\u2022 Bunker (\u00f3leo combust\u00edvel para navio)\n\nAs classes acima podem ser desmembradas em diversas subclasses, formando uma \u00e1r-\n\nvore de classifica\u00e7\u00e3o de produtos. Por exemplo, o GLP pode ser desmembrado em butano e\n\npropano. Al\u00e9m dessas classes, destacam-se outras de menor volume, por\u00e9m com grande impor-\n\nt\u00e2ncia. Essas classes s\u00e3o chamadas de especiais. Nesta classe, se encontram os lubrificantes, os\n\nasfaltos, as parafinas e o coque.\n\nDiferente da estrutura de \u00e1rvore, o modelo de otimiza\u00e7\u00e3o desenvolvido nesta tese repre-\n\nsenta os produtos de forma simplificada, atrav\u00e9s de grupos de produtos. Grupo de produtos \u00e9\n\num conjunto de produtos com caracter\u00edsticas qu\u00edmicas similares que utilizam o mesmo tipo de\n\ntanque de armazenamento. A figura 3.1 mostra como \u00e9 feita a organiza\u00e7\u00e3o dos produtos em\n\ngrupos de produtos.\n\nFigura 3.1: Organiza\u00e7\u00e3o dos produtos em grupos de produtos\n\nO modelo matem\u00e1tico permitir\u00e1 o uso de degrada\u00e7\u00e3o de produtos nos locais. A degra-\n\nda\u00e7\u00e3o ocorre quando um produto mais nobre (produto A) \u00e9 misturado com outro menos nobre\n\n(produto B). Ent\u00e3o, dizemos que o produto A foi degradado para o produto B. A mistura resul-\n\ntante ser\u00e1 vendida como produto B. Na pr\u00e1tica, mesmo que n\u00e3o haja mistura, caso o produto A\n\nseja vendido como se fosse B, j\u00e1 \u00e9 considerado degrada\u00e7\u00e3o. Embora a degrada\u00e7\u00e3o gere preju\u00edzo,\n\nj\u00e1 que produtos mais nobres custam mais, ela pode ser vantajosa quando o produto B est\u00e1 em\n\nfalta, e h\u00e1 excesso do produto A. O custo de degrada\u00e7\u00e3o \u00e9 a diferen\u00e7a de pre\u00e7o entre os produtos\n\nA e B.\n\n3.2 LOCAIS\n\nOs locais podem ser classificados como:\n\n\u2022 Refinarias\n\n\n\n54\n\n\u2022 Outros produtores (E&amp;P e terceiros)\n\n\u2022 Pontos de entrega (consumo)\n\n\u2022 Fornecimento interno (Abastecimento entregando para E&amp;P ou t\u00e9rmicas)\n\n\u2022 Terminais aquavi\u00e1rios (da Petrobras/Transpetro ou de terceiros)\n\n\u2022 Terminais terrestres (da Petrobras/Transpetro ou de terceiros)\n\nOs terminais terrestres e aquavi\u00e1rios s\u00e3o chamados de bases. Existem pontos de entregas\n\nespeciais (fornecimento interno) que correspondem \u00e0s ind\u00fastrias t\u00e9rmicas operadas pela Petro-\n\nbras e aos locais de E&amp;P (explora\u00e7\u00e3o e produ\u00e7\u00e3o). Esses \u00faltimos necessitam de \u00f3leo diesel\n\n(principalmente) e outros produtos acabados para operar. Existem pontos de oferta especiais\n\n(outros produtores) que correspondem aos locais de E&amp;P que produzem acabados espec\u00edficos\n\n(principalmente querosene e diesel) e terceiros externos \u00e0 companhia que fornecem produtos\n\nintermedi\u00e1rios ou acabados (em geral petroqu\u00edmicas privadas). As quantidades produzidas e/ou\n\ndemandadas de cada produto em cada local s\u00e3o dadas para cada m\u00eas.\n\nA figura 3.2 mostra a localiza\u00e7\u00e3o das bacias, plataformas e terminais. A figura 3.3 mostra\n\na localiza\u00e7\u00e3o das refinarias (fonte das figuras 3.2 e 3.3: adaptadas do site da Petrobras) .\n\nA seguir, uma lista com as refinarias da Petrobras no Brasil e suas respectivas produ\u00e7\u00f5es,\n\nem barris por dia (bpd):\n\n\u2022 Regi\u00e3o Norte\n\n\u2013 REMAN (Manaus, Amazonas). Produ\u00e7\u00e3o de 46.000 bpd.\n\n\u2022 Regi\u00e3o Nordeste\n\n\u2013 RLAM (S\u00e3o Francisco do Conde, Bahia). Produ\u00e7\u00e3o de 323.000 bpd.\n\n\u2013 RPCC (Guamar\u00e9, Rio Grande do Norte). Produ\u00e7\u00e3o de 30.000 bpd.\n\n\u2022 Regi\u00e3o Sudeste\n\n\u2013 REGAP (Betim, Minas Gerais). Produ\u00e7\u00e3o de 151.000 bpd.\n\n\u2013 REPLAN (Paul\u00ednia, S\u00e3o Paulo). Produ\u00e7\u00e3o de 365.000 bpd.\n\n\u2013 REVAP (S\u00e3o Jos\u00e9 dos Campos, S\u00e3o Paulo). Produ\u00e7\u00e3o de 251.000 bpd.\n\n\u2013 RPBC (Cubat\u00e3o, S\u00e3o Paulo). Produ\u00e7\u00e3o de 170.000 bpd.\n\n\n\n55\n\nFigura 3.2: Localiza\u00e7\u00e3o das bacias, plataformas e terminais na cadeia log\u00edstica da Petrobras no\nBrasil\n\n\u2013 RECAP (Mau\u00e1, S\u00e3o Paulo). Produ\u00e7\u00e3o de 53.000 bpd.\n\n\u2013 REDUC (Duque de Caxias, Rio de Janeiro). Produ\u00e7\u00e3o de 242.000 bpd.\n\n\u2022 Regi\u00e3o Sul\n\n\u2013 REPAR (Arauc\u00e1ria, Paran\u00e1). Produ\u00e7\u00e3o de 189.000 bpd.\n\n\u2013 REFAP (Canoas, Rio Grande do Sul). Produ\u00e7\u00e3o de 189.000 bpd.\n\nNo modelo de otimiza\u00e7\u00e3o apresentado nesta tese, caso a inst\u00e2ncia seja de n\u00edvel t\u00e1tico,\n\ncada local representa uma regi\u00e3o do Brasil, normalmente um estado. Estados com estrutura mais\n\ncomplexa, como S\u00e3o Paulo, podem ser modelados como dois ou mais locais. Em inst\u00e2ncias\n\n\n\n56\n\nFigura 3.3: Localiza\u00e7\u00e3o das refinarias na cadeia log\u00edstica da Petrobras no Brasil\n\nde n\u00edvel operacional, cada local representa um dos pontos listados acima, como refinarias e\n\nterminais terrestres.\n\n3.3 MODAIS\n\nOs modais existentes s\u00e3o:\n\n\u2022 Mar\u00edtimo (cabotagem ou longo curso)\n\n\u2022 Hidrovi\u00e1rio (balsas)\n\n\u2022 Dutovi\u00e1rio\n\n\u2022 Rodovi\u00e1rio (caminh\u00f5es)\n\n\n\n57\n\n\u2022 Ferrovi\u00e1rio\n\nA malha mar\u00edtima petrol\u00edfera brasileira possui 60 embarca\u00e7\u00f5es com capacidade de 3,9\n\nmilh\u00f5es de TPB (Porte bruto das embarca\u00e7\u00f5es de com\u00e9rcio), tendo transportado em 2012 46,9\n\nmilh\u00f5es de toneladas de petr\u00f3leo e derivados, um aumento de 76% em rela\u00e7\u00e3o ao ano anterior\n\n(Transpetro, 2012). Este modal possui alto volume de transporte, contribuindo para o baixo custo\n\npor unidade de volume. Outra vantagem \u00e9 o f\u00e1cil acesso aos locais produtores e consumidores,\n\ndado que boa parte da produ\u00e7\u00e3o de petr\u00f3leo cru brasileira se localiza off-shore, e os principais\n\npontos consumidores e refinarias se localizam na extensa costa mar\u00edtima brasileira. A grande\n\ncapilaridade dos rios ainda permite que este modal chegue a regi\u00f5es remotas com acesso fluvial,\n\nutilizando embarca\u00e7\u00f5es de baixo calado denominadas balsas e barca\u00e7as. A navega\u00e7\u00e3o pela costa\n\n\u00e9 chamada de cabotagem e a navega\u00e7\u00e3o fluvial \u00e9 chamada de interior.\n\nA malha dutovi\u00e1ria petrol\u00edfera brasileira \u00e9 composta por aproximadamente 14370 km de\n\ndutos (7178 km de oleodutos e 7192 km de gasodutos) com capacidade m\u00e9dia para movimentar\n\n670 milh\u00f5es de m3 de petr\u00f3leo e derivados por ano. A maior concentra\u00e7\u00e3o deste tipo de modal\n\nse encontra na regi\u00e3o sudeste devido \u00e0 presen\u00e7a de um maior n\u00famero de bases nesta regi\u00e3o\n\n(Transpetro, 2012). O transporte de cargas neste modal ocorre no interior de uma linha de\n\ntubos ou dutos e o movimento dos produtos se d\u00e1 por press\u00e3o ou arraste destes por meio de um\n\nelemento transportador. Os elementos que constituem uma dutovia s\u00e3o: os terminais, com os\n\nequipamentos de propuls\u00e3o do produto; os tubos e as juntas de uni\u00e3o destes (Ferreira, 2000). \u00c9\n\nconsiderado o mais consistente e frequente de todos os modais. Isso ocorre porque a vari\u00e2ncia\n\nno tempo de transporte \u00e9 m\u00ednima (maior consist\u00eancia) e as dutovias funcionam 24 horas por dia\n\n(freq\u00fc\u00eancia). \u00c9 o modal de maior custo fixo e menor custo vari\u00e1vel, sendo considerado o mais\n\necon\u00f4mico e mais ecol\u00f3gico (Vaz et al, 2000). Os dutos s\u00e3o chamados de oleodutos quando\n\ntransportam petr\u00f3leo e derivados e de gasodutos quando transportam gases, normalmente em\n\nforma l\u00edquida.\n\nComo os dutos da Rede de Escuros s\u00e3o bidirecionais, existe a possibilidade de revers\u00e3o\n\nde sentido de escoamento do produto. A opera\u00e7\u00e3o de revers\u00e3o consiste em preencher todo o\n\nduto com \u00f3leo leve de reciclo (LCO), de forma a empurrar todo o produto dentro do duto para\n\no local de destino. Logo ap\u00f3s, o sentido do escoamento \u00e9 alterado e os produtos passam a ser\n\nbombeados no sentido reverso, e todo o \u00f3leo leve de reciclo que estava no duto retorna. Os dutos\n\npodem apresentar vaz\u00e3o diferente para cada sentido. O n\u00famero de revers\u00f5es nos dutos da rede\n\nbrasileira \u00e9 pequeno (Alves, 2007).\n\n\n\n58\n\nA malha rodovi\u00e1ria transportou em 2012 cerca de 1,2 milh\u00f5es de m3 de produtos cla-\n\nros e 1 milh\u00e3o de toneladas de produtos escuros e gran\u00e9is s\u00f3lidos, perfazendo 2,2 milh\u00f5es de\n\nm3/t, o que reflete um crescimento de 47% em rela\u00e7\u00e3o ao ano anterior. Para executar esta ope-\n\nra\u00e7\u00e3o log\u00edstica, foram realizadas aproximadamente 58 mil viagens por todas as regi\u00f5es do pa\u00eds\n\ne transportados 30 tipos de produtos, dentre os quais se destacam o \u00f3leo combust\u00edvel, biodiesel,\n\ngasolina e nafta (Transpetro, 2012).\n\nA malha ferrovi\u00e1ria, comparada com os outros modais de transporte, \u00e9 pouco utilizada\n\npela ind\u00fastria de petr\u00f3leo brasileira.\n\nA figura 3.4 mostra a topologia aproximada da malha multimodal petrol\u00edfera brasileira\n\n(fonte: Banaszewski (2012)) e a figura 3.5 mostra as bases e refinarias, juntamente com a malha\n\nferrovi\u00e1ria e dutovi\u00e1ria (Fontes: ANP, Transpetro e Ferrovias, retirada do site do ILOS).\n\nFigura 3.4: Topologia aproximada da malha multimodal petrol\u00edfera brasileira\n\nNo modelo de otimiza\u00e7\u00e3o proposto, para a movimenta\u00e7\u00e3o dos lotes, todos os modais\n\napresentam as seguintes caracter\u00edsticas gerais:\n\n\u2022 A movimenta\u00e7\u00e3o deve seguir rotas cadastradas conectando pares de locais;\n\n\u2022 As rotas s\u00e3o compostas por arcos, que conectam pares de locais por um dos modais que\n\npodem transportar um ou mais produtos e ordenados de forma sequencial. Um arco \u00e9 obri-\n\n\n\n59\n\nFigura 3.5: Bases, refinarias, ferrovias e dutos na cadeia log\u00edstica da Petrobras no Brasil\n\ngatoriamente de um \u00fanico modal. As rotas podem ser multimodais se forem compostas\n\npor arcos de diferentes tipos de modal;\n\n\u2022 Cada arco tem uma capacidade de movimenta\u00e7\u00e3o. A capacidade de uma rota \u00e9 limitada\n\npela capacidade do seu arco de menor capacidade. Rotas que utilizam o mesmo arco\n\ndevem compartilhar a sua capacidade, em uma base de fra\u00e7\u00e3o de tempo de um per\u00edodo\n\nde m\u00eas utilizada por cada arco. Assume-se que todos os modais, exceto o dutovi\u00e1rio, t\u00eam\n\ncapacidade ilimitada, pois a Petrobras pode alugar ve\u00edculos de terceiros;\n\n\u2022 Cada arco tem um custo de transporte associado, por grupamento de produto. Nos casos\n\nem que houver disponibilidade de dados, este custo ser\u00e1 especificado para cada produto;\n\nOs principais modais em termos de volume s\u00e3o os dutos e navios. Para estes dois modais,\n\na quantidade existente em tr\u00e2nsito ao final de cada per\u00edodo \u00e9 significativa e deve ser considerada\n\nno modelo. Para estes modais, existem outras particularidades que devem ser consideradas.\n\n\n\n60\n\nO modelo aceita dutos reversos, mas esta opera\u00e7\u00e3o ser\u00e1 modelada como se fosse autom\u00e1-\n\ntica, sem atraso ou redu\u00e7\u00e3o na capacidade do duto e sem a necessidade de envio de um produto\n\npara empurrar o produto dentro do duto para seu local de destino. A quantidade transportada\n\ndeve observar os limites de vaz\u00e3o de cada sentido.\n\nPara os navios, devemos considerar que as quantidades movimentadas devem respeitar\n\num lote m\u00ednimo por produto e rota. O modelo matem\u00e1tico atual aceita mais de um lote por\n\nrota e produto, e permite que sejam enviados m\u00faltiplos de cada tamanho de lote. Uma forma\n\nde simplificar o modelo \u00e9 considerar somente o lote m\u00ednimo de cada rota. O n\u00famero total de\n\nnavios utilizados n\u00e3o \u00e9 limitado pelo modelo, pois a frota j\u00e1 \u00e9 dimensionada de acordo com\n\na demanda, e ainda existe um grande n\u00famero de navios adicionais que podem ser alugados.\n\nDetalhes operacionais dos navios nos portos, como os procedimentos de carga e descarga e a\n\nespera por um ber\u00e7o de atraca\u00e7\u00e3o no porto n\u00e3o ser\u00e3o considerados.\n\n3.4 CAPACIDADES DE ESTOQUE\n\nOs produtos da malha s\u00e3o armazenados em tanques. Os tanques s\u00e3o caracterizados pela\n\nforma do costado e teto. Em rela\u00e7\u00e3o \u00e0 forma do costado, os tanques podem ser classificados\n\nem cil\u00edndricos ou esf\u00e9ricos. Os tanques cil\u00edndricos s\u00e3o utilizados para o armazenamento de pe-\n\ntr\u00f3leo ou derivados e os esf\u00e9ricos para o armazenamento de gases. Quanto ao teto, os tanques\n\ns\u00e3o classificados em tanques de teto fixo ou de teto flutuante. Em tanques de teto fixo, o teto\n\nest\u00e1 diretamente ligado \u00e0 parte superior de seu costado e em tanques de teto flutuante, o teto\n\nflutua sobre o produto armazenado a fim de evitar a forma\u00e7\u00e3o de espa\u00e7os de vapor. Particular-\n\nmente, em tanques que funcionam pelo sistema de teto flutuante, se faz necess\u00e1rio manter um\n\nvolume m\u00ednimo de produto no tanque para evitar que o teto encoste o ch\u00e3o e seja danificado\n\n(Banaszewski, 2012).\n\nNo modelo matem\u00e1tico, cada local disp\u00f5e de capacidades de armazenamento m\u00e1xima e\n\nm\u00ednima, por grupo de produtos. Em cada local, essas capacidades s\u00e3o desmembradas em dois\n\nn\u00edveis de viola\u00e7\u00e3o: o n\u00edvel f\u00edsico e o n\u00edvel operacional, sendo o n\u00edvel operacional mais restrito,\n\ncorrespondendo a uma penalidade menor que o n\u00edvel f\u00edsico. Com isso, temos os seguintes tipos\n\nde capacidades para cada local (ver figura 3.6):\n\n\u2022 Capacidade f\u00edsica m\u00ednima agregada\n\n\u2022 Capacidade f\u00edsica m\u00e1xima agregada\n\n\n\n61\n\n\u2022 Capacidade operacional m\u00ednima agregada\n\n\u2022 Capacidade operacional m\u00e1xima agregada\n\nFigura 3.6: Capacidades agregadas de estoque em cada local\n\nPara o Brasil todo, \u00e9 utilizada uma faixa de estoque denominada Estoque Meta, tamb\u00e9m\n\npor grupo de produtos. Diferentemente dos limites locais de estoque, onde a preocupa\u00e7\u00e3o \u00e9 com\n\na falta ou excesso dos produtos em cada local, esta meta nacional de estoque procura manter o\n\nestoque brasileiro em um patamar de seguran\u00e7a, mantendo uma quantidade excedente dentro do\n\npa\u00eds.\n\n\n\n62\n\n4 ESTUDO DO PROBLEMA DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS\n\nDE PETR\u00d3LEO E DE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA\n\nMULTIPRODUTO E MULTIMODAL BRASILEIRA (MALHA BRASIL)\n\nNeste cap\u00edtulo, ser\u00e1 estudada a atividade de planejamento da rede log\u00edstica da Petrobras.\n\nA Petrobras possui muitas plataformas e refinarias que ofertam \u00f3leo cru e refinado. \u00c9 poss\u00edvel\n\nver o problema geral como dois problemas separados:\n\n\u2022 Transporte de \u00f3leo cru das plataformas (a maioria \u00e9 offshore) para refinarias.\n\n\u2022 Transporte de \u00f3leo refinado das refinarias para os consumidores.\n\nO modelo matem\u00e1tico apresentado aqui pode ser usado nos dois problemas separada-\n\nmente. Outras caracter\u00edsticas comuns aos dois problemas s\u00e3o listadas a seguir. A companhia\n\npode comprar \u00f3leo de produtores externos, se necess\u00e1rio. O excesso pode ser vendido para ou-\n\ntras companhias. Os modais de transporte dispon\u00edveis s\u00e3o dutovi\u00e1rio, mar\u00edtimo, rodovi\u00e1rio e\n\nferrovi\u00e1rio. Cada trajeto poss\u00edvel utilizando um \u00fanico modal representa um arco da rede. As\n\nrotas s\u00e3o formadas por um ou mais arcos, dependendo da quantidade de modais de transporte\n\nusados por ela. Cada rota possui tamanhos de lote espec\u00edficos.\n\nA produ\u00e7\u00e3o e demanda de cada local s\u00e3o dados por m\u00eas. Assume-se que a produ\u00e7\u00e3o e\n\ndemanda s\u00e3o uniformemente distribu\u00eddos ao longo do m\u00eas, por isso o valor mensal \u00e9 dividido\n\npela quantidade de dias do m\u00eas para ter o balan\u00e7o di\u00e1rio. A solu\u00e7\u00e3o busca minimizar o custo de\n\ntransporte e minimizar as viola\u00e7\u00f5es de estoque. Para minimizar as viola\u00e7\u00f5es, \u00e9 necess\u00e1rio evitar\n\nfalta de produtos em estoque, assim como estouro das capacidades m\u00e1ximas de estoque, em\n\ntodos os locais da rede. Os estoques possuem limites f\u00edsicos e operacionais. Os limites operaci-\n\nonais s\u00e3o mais apertados do que os limites f\u00edsicos, mas os custos de viola\u00e7\u00e3o s\u00e3o mais baixos.\n\n\u00c9 desej\u00e1vel manter os estoques dentro dos limites operacionais. Caso n\u00e3o seja poss\u00edvel, paga-se\n\n\n\n63\n\numa penalidade. Os limites f\u00edsicos s\u00e3o cr\u00edticos. Por isso os custos por viola\u00e7\u00e3o s\u00e3o considera-\n\nvelmente mais altos. Existem tamb\u00e9m limites m\u00ednimos e m\u00e1ximos de estoque considerando a\n\nmalha inteira, gerando a Faixa Meta de estoque para o Brasil. Podemos ver a minimiza\u00e7\u00e3o dos\n\ncustos de transporte como um objetivo secund\u00e1rio porque as viola\u00e7\u00f5es de estoque podem levar\n\na altas penalidades (atrasos na entrega) e uma imagem ruim da companhia.\n\nGrupo de produtos \u00e9 um conjunto de produtos similares que usam o mesmo tipo de tan-\n\nque. As capacidades de estoque s\u00e3o dadas por grupo de produtos. Produtos enviados antes do\n\nin\u00edcio do horizonte de tempo e que ainda n\u00e3o chegaram ao local de destino entram no modelo\n\nmatem\u00e1tico como dados de entrada, e s\u00e3o chamados de estoque em tr\u00e2nsito. Note a import\u00e2ncia\n\ndo uso de estoques em tr\u00e2nsito para a qualidade da solu\u00e7\u00e3o. Al\u00e9m de aproximar a inst\u00e2ncia da\n\nrealidade, j\u00e1 que os produtos est\u00e3o sempre trafegando pela rede, seu uso evita a necessidade\n\nde uma grande quantidade de estoque inicial nos locais consumidores, o que n\u00e3o \u00e9 desej\u00e1vel.\n\nNo caso de uma rede de transporte t\u00e3o extensa como a brasileira, o uso de estoque em tr\u00e2n-\n\nsito faz grande diferen\u00e7a, pois existem rotas com tempo de tr\u00e2nsito de v\u00e1rios dias, e os locais\n\nconsumidores n\u00e3o podem ficar tanto tempo sem receber produtos.\n\nEnvios programados antes do in\u00edcio do horizonte de tempo, e que ter\u00e3o in\u00edcio durante o\n\nhorizonte de tempo, s\u00e3o chamados de transportes comprometidos. Esta funcionalidade \u00e9 \u00fatil no\n\ncaso de a empresa ter vendido ou comprado algum produto antes do in\u00edcio do per\u00edodo de pla-\n\nnejamento do modelo, e precisa considerar que este produto tem que estar dispon\u00edvel no local\n\nde origem na data programada do envio, e que o local de destino precisa ter espa\u00e7o no estoque\n\npara receb\u00ea-lo na data programada de recebimento. A diferen\u00e7a entre transporte comprometido\n\ne estoque em tr\u00e2nsito \u00e9 que o segundo iniciou o transporte antes do in\u00edcio do horizonte de plane-\n\njamento. Como consequ\u00eancia, apenas no transporte comprometido \u00e9 necess\u00e1rio que o produto\n\nesteja dispon\u00edvel no local de origem do transporte.\n\nOs locais da malha poder\u00e3o utilizar a degrada\u00e7\u00e3o de produtos. A degrada\u00e7\u00e3o ocorre\n\nquando um produto mais nobre \u00e9 misturado com outro menos nobre, aumentando a quantidade\n\ndo produto menos nobre. Na pr\u00e1tica, basta um produto mais nobre ser vendido como um produto\n\nmenos nobre para ser considerado degrada\u00e7\u00e3o. Isso significa que n\u00e3o \u00e9 preciso ter um produto\n\nmenos nobre no local para degradar um mais nobre. O custo de degrada\u00e7\u00e3o \u00e9 a diferen\u00e7a de\n\npre\u00e7o entre os produtos.\n\nAlguns locais permitem sobre-estadia, isto \u00e9, um per\u00edodo de tempo em que o navio per-\n\nmanece no porto ap\u00f3s o per\u00edodo usual de carga e descarga. Na maioria das vezes, a sobre-estadia\n\nocorre por causa de congestionamento dos portos devido \u00e0 demanda por carga e descarga acima\n\n\n\n64\n\nda prevista. Como o modelo estudado \u00e9 determin\u00edstico, tal causa n\u00e3o \u00e9 considerada e a sobre-\n\nestadia s\u00f3 ocorrer\u00e1 se for programada. A sobre-estadia programada \u00e9 \u00fatil quando a capacidade\n\nde estoque de algum local \u00e9 menor do que a capacidade do navio. O excesso de carga permanece\n\nno navio, descarregando aos poucos. O custo di\u00e1rio de sobre-estadia est\u00e1 associado ao aluguel\n\ndo porto e do navio.\n\nA opera\u00e7\u00e3o de transbordo \u00e9 uma opera\u00e7\u00e3o feita em alto mar, retirando a carga de um\n\nnavio e carregando-a em outro navio. Quando a companhia importa algum produto, a opera\u00e7\u00e3o\n\nde transbordo \u00e9 mais frequente pois o tamanho do lote de importa\u00e7\u00e3o \u00e9 maior que os demais.\n\nComo a quantidade importada \u00e9 grande, normalmente mais do que um navio recebe cada lote da\n\ncarga importada.\n\nSegue abaixo, um resumo das caracter\u00edsticas do problema que s\u00e3o pouco comuns em\n\nproblemas de transporte:\n\n\u2022 Grupo de produtos: Produtos com caracter\u00edsticas parecidas e que utilizam mesmo tipo de\n\ntancagem.\n\n\u2022 Degrada\u00e7\u00e3o: Produtos mais nobres podem ser degradados para produtos menos nobres.\n\n\u2022 Sobre-estadia: Navios que ficam ancorados descarregando aos poucos quando o estoque\n\ndo local n\u00e3o comporta toda a carga.\n\n\u2022 Transbordo: Na importa\u00e7\u00e3o, um navio grande descarrega em navios menores que distri-\n\nbuem a carga pela rede.\n\n\u2022 Estoque em Tr\u00e2nsito: Envios que iniciaram antes do in\u00edcio do horizonte de tempo e ainda\n\nn\u00e3o chegaram ao destino.\n\n\u2022 Transporte Comprometido: Transporte agendado antes do in\u00edcio do horizonte de tempo,\n\npara iniciar durante o horizonte de tempo.\n\n4.1 REVIS\u00c3O BIBLIOGR\u00c1FICA\n\nEmbora a rede estudada aqui utilize predominantemente o modal mar\u00edtimo, o cap\u00edtulo\n\n2 j\u00e1 apresentou uma revis\u00e3o bibliogr\u00e1fica com redes mar\u00edtimas. Nesta Se\u00e7\u00e3o, ser\u00e3o abordadas\n\nrefer\u00eancias a estudos de redes dutovi\u00e1rias e multimodais contidas na rede log\u00edstica da Petrobras.\n\nA rede log\u00edstica da Petrobras tem sido estudada h\u00e1 muito tempo, com o objetivo de\n\notimizar suas diversas etapas. A maior parte destes estudos considera uma pequena parte desta\n\n\n\n65\n\nimensa rede. Magat\u00e3o et al (2004) e Boschetto et al (2010) estudaram a rede de claros da\n\nregi\u00e3o sudeste brasileira. Magat\u00e3o et al (2004) prop\u00f4s uma estrat\u00e9gia de decomposi\u00e7\u00e3o para\n\nlidar com a complexidade dos dutos em um cen\u00e1rio real. Boschetto et al (2010) implementaram\n\nalgumas restri\u00e7\u00f5es operacionais diferentes, como o uso de rotas preferenciais para evitar perdas\n\npor contamina\u00e7\u00e3o, horas demandadas de bombeamento nos hor\u00e1rios de pico, restri\u00e7\u00f5es locais\n\ne opera\u00e7\u00f5es com tanque de armazenamento. Alves (2007) tratou do problema de transporte de\n\nderivados pesados de petr\u00f3leo em uma rede dutovi\u00e1ria localizada no estado de S\u00e3o Paulo. O\n\nhorizonte de programa\u00e7\u00e3o foi de 7 e 14 dias, discretizados em per\u00edodos de 4 horas. Por causa\n\nda complexidade do problema estudado, o autor adotou um modelo simplificado, resolvido com\n\numa heur\u00edstica baseada em algoritmo gen\u00e9tico (Rothlauf, 2011). Lopes et al (2010) tamb\u00e9m\n\nestudou a rede de dutos da Petrobras, implementando um framework h\u00edbrido baseado em uma\n\nestrat\u00e9gia de decomposi\u00e7\u00e3o de duas fases: (i) a fase de planejamento decide o volume necess\u00e1rio\n\na ser transferido entre os dep\u00f3sitos e quais rotas ser\u00e3o usadas para que o volume calculado\n\nseja entregue; (ii) a fase de escalonamento gera e sequencia as opera\u00e7\u00f5es de bombeamento,\n\nobservando todas as restri\u00e7\u00f5es operacionais. de Souza (2010) utilizou tr\u00eas algoritmos heur\u00edsticos\n\ndiferentes para otimizar a rede de dutos da Petrobras: o primeiro se baseia da otimiza\u00e7\u00e3o por\n\nnuvens de part\u00edculas e os dois \u00faltimos se baseiam no algoritmo non-dominated sorting genetic\n\nalgorithm II (Brownlee, 2011). Milidi\u00fa et al (2001) tamb\u00e9m otimizaram a rede de \u00f3leodutos,\n\nutilizando a heur\u00edstica Greedy randomized adaptive search procedure. Talvez o estudo mais\n\nantigo usando programa\u00e7\u00e3o matem\u00e1tica para otimizar a rede de dutos da Petrobras se encontre\n\nem Camponogara (1995). O autor dividiu o problema j\u00e1 simplificado em tr\u00eas: (i) gera\u00e7\u00e3o das\n\nopera\u00e7\u00f5es de transporte; (ii) escolha da rota entre a base produtora e a consumidora de cada\n\nopera\u00e7\u00e3o de transporte; (iii) programa\u00e7\u00e3o das opera\u00e7\u00f5es (escalonamento).\n\nJ\u00e1 o presente trabalho procura modelar a rede como um todo, considerando todo o Brasil\n\ne suas liga\u00e7\u00f5es com o exterior. Para tal, \u00e9 preciso desconsiderar certos detalhes operacionais\n\nno uso de portos, no manejo de dutos, dentre outros. O modelo matem\u00e1tico tem como objetivo\n\nevitar que os locais tenham sua capacidade de estoque violada, ou seja, que haja excesso ou\n\nfalta de qualquer tipo de produto. Como sa\u00edda do modelo, temos o dia de sa\u00edda de cada lote, a\n\nrota utilizada e o tamanho do lote a ser enviado. Banaszewski (2012) tamb\u00e9m estuda o mesmo\n\nmodelo da rede log\u00edstica da Petrobras, mas utiliza uma abordagem baseada em multiagentes\n\npara resolv\u00ea-lo. Esta mesma abordagem foi utilizada por Brito (2008) e Brito e Tacla (2009)\n\npara tratar parte da cadeia log\u00edstica da Petrobras.\n\n\n\n66\n\n4.2 MODELO MATEM\u00c1TICO\n\nA vers\u00e3o atual do algoritmo utiliza a formula\u00e7\u00e3o cascading acumulado nas rotas, por isso\n\na formula\u00e7\u00e3o apresentada aqui \u00e9 baseada nesta formula\u00e7\u00e3o.\n\nHip\u00f3teses:\n\n1. Os per\u00edodos s\u00e3o divididos em per\u00edodos pequenos (dias ou subper\u00edodos) e grandes (meses\n\nou per\u00edodos). As demandas s\u00e3o fornecidas por per\u00edodo e s\u00e3o distribu\u00eddas uniformemente\n\npelos sub-per\u00edodos. As capacidades das tancagens s\u00e3o verificadas no final de cada sub-\n\nper\u00edodo. As capacidades dos modais de transporte s\u00e3o limitadas tamb\u00e9m por subper\u00edodo\n\nmas sofrem uma verifica\u00e7\u00e3o adicional ao final de cada per\u00edodo, quanto ao montante total\n\ntransportado.\n\n2. Os tamanhos de lote de todos os modais devem assumir apenas valores pr\u00e9-determinados.\n\nEscolhas de Modelagem\n\n\u2022 Dutos: n\u00e3o ser\u00e1 levado em considera\u00e7\u00e3o detalhes como o de encher o duto com um pro-\n\nduto para empurrar o outro para seu destino. O planejamento deve limitar a capacidade\n\ndo duto por subper\u00edodo de forma aproximada apenas e por per\u00edodo de forma mais precisa,\n\nconsiderando o montante total.\n\n\u2022 Revers\u00e3o de dutos: a revers\u00e3o ser\u00e1 permitida desde que dois lotes n\u00e3o trafeguem em\n\nsentidos contr\u00e1rios no mesmo subper\u00edodo.\n\n\u2022 Navios: navios ter\u00e3o abordagem por bateladas, possivelmente com ganho de escala. Por\n\nexemplo, pode haver um custo para movimentar 10.000m3 e outro menor do que o dobro\n\npara movimentar 20.000m3, e assim por diante.\n\n\u2022 Outros modais: a priori n\u00e3o haver\u00e1 restri\u00e7\u00f5es.\n\nConjuntos:\n\n\u2022 N,A,P,H,R,F,D: Conjunto de locais, conjunto de arcos, conjunto de produtos, con-\n\njunto de locais onde pode haver sobre-estadia (H ? N), conjunto de rotas, conjunto de\n\nlocais onde pode haver transbordo (F ? N) e conjunto de dutos. Neste modelo, para\n\nsimplificar a nota\u00e7\u00e3o matem\u00e1tica, cada duto revers\u00edvel corresponde a dois arcos, cada um\n\ncom um sentido para o fluxo.\n\n\n\n67\n\n\u2022 Gi: Conjunto de grupos de produtos associado aos estoques do local i (cada grupo de\n\nprodutos g ? Gi \u00e9 um subconjunto de P ).\n\n\u2022 Ar: Conjunto de arcos que pertencem \u00e0 rota r.\n\n\u00cdndices:\n\n\u2022 a: arco.\n\n\u2022 g: grupo de produtos.\n\n\u2022 k: tamanho do lote.\n\n\u2022 o: produto.\n\n\u2022 p: produto.\n\n\u2022 r: rota.\n\n\u2022 s: sub-per\u00edodo.\n\n\u2022 t: per\u00edodo.\n\nConstantes:\n\n\u2022 ?ra: Tempo necess\u00e1rio para que um lote de qualquer tamanho enviado pela rota r ? R\n\nchegue ao in\u00edcio de um arco de duto a ? Ar.\n\n\u2022 a?(d): Arco que corresponde ao duto d ? D no sentido reverso.\n\n\u2022 a+(d): Arco que corresponde ao duto d ? D no sentido direto.\n\n\u2022 Bpis: Balan\u00e7o do volume do produto p produzido e consumido (volume produzido menos\n\nvolume consumido) no local i ao longo de cada sub-per\u00edodo s. Para calcular o balan\u00e7o por\n\ngrupo de produtos, basta somar o balan\u00e7o dos produtos que fazem parte do grupo.\n\n\u2022 Cprk: Custo de transporte de um lote do k-\u00e9simo tamanho do produto p atrav\u00e9s da rota r.\n\n\u2022 CAPat: Volume m\u00e1ximo transportado pelo arco de duto a durante o per\u00edodo t, dado pelo\n\nproduto entre a vaz\u00e3o e a dura\u00e7\u00e3o do per\u00edodo.\n\n\u2022 Cdpo: Custo de degrada\u00e7\u00e3o do produto p para o produto o. \u00c9 ? quando a degrada\u00e7\u00e3o n\u00e3o\n\n\u00e9 permitida ou quando p = o.\n\n\n\n68\n\n\u2022 Csgit: Custo di\u00e1rio de sobre-estadia do grupo de produtos g, no local i, no per\u00edodo t.\n\n\u2022 Epi: Volume do produto p estocado no local i no in\u00edcio do per\u00edodo de tempo 1. Para\n\ncalcular o estoque inicial por grupo de produtos, basta somar o estoque inicial dos produtos\n\nque fazem parte do grupo.\n\n\u2022 g(p): Grupo de produtos a que pertence o produto p.\n\n\u2022 LFmingit , LFmaxgit , LOmingit , LOmaxgit : Limites f\u00edsicos de estoque, m\u00ednimo e m\u00e1ximo, e limites\n\noperacionais de estoque, m\u00ednimo e m\u00e1ximo, do grupo de produtos g no local i, no per\u00edodo\n\nt.\n\n\u2022 LMmingt , LMmaxgt : Limites de estoque, m\u00ednimo e m\u00e1ximo, para a meta Brasil, do grupo de\n\nprodutos g, no per\u00edodo t. A diferen\u00e7a entre eles \u00e9 o acr\u00e9scimo \\ decr\u00e9scimo de uma faixa\n\nde toler\u00e2ncia em rela\u00e7\u00e3o \u00e0 meta Brasil.\n\n\u2022 NLpr: N\u00famero de tamanhos de lote do produto p que podem atravessar a rota r. Para\n\ncalcular NLpr, \u00e9 preciso saber se h\u00e1 modal navio na rota. Se houver, NL conter\u00e1 os lotes\n\ndo modal navio que forem maiores que o lote m\u00ednimo da rota. Caso haja apenas modal\n\nduto, NL ser\u00e1 igual a 1 (o lote m\u00ednimo da rota).\n\n\u2022 orig(r),dest(r): origem e destino do transporte atrav\u00e9s da rota r. As origens e destinos\n\npodem ser um local pertencente a N, ou ent\u00e3o um local exterior, denotado por ext. Os\n\nlocais de origem/destino das rotas devem ser pontos com balan\u00e7o n\u00e3o-negativo/negativo\n\nno per\u00edodo correspondente ou locais de transbordo.\n\n\u2022 Plft, Plot: Penalidade por viola\u00e7\u00e3o dos limites f\u00edsicos e operacionais, por per\u00edodo.\n\n\u2022 Plmt: Penalidade por viola\u00e7\u00e3o do estoque meta para o Brasil inteiro, por per\u00edodo. Para\n\ncalcular o estoque do Brasil todo, \u00e9 preciso somar o estoque de todos os locais com todo\n\no estoque em tr\u00e2nsito.\n\n\u2022 QLpr(k): Volume de um lote do k-\u00e9simo tamanho do produto p que pode atravessar a rota\n\nr.\n\n\u2022 St:\u00daltimo subper\u00edodo do per\u00edodo de tempo t (S0 = 0).\n\n\u2022 SPt: N\u00famero de subper\u00edodos do per\u00edodo t.\n\n\u2022 T : N\u00famero de per\u00edodos de tempo.\n\n\n\n69\n\n\u2022 t(s): Per\u00edodo de tempo ao qual pertence o sub-per\u00edodo s. Se s ? 0, ent\u00e3o t(s) = 0.\n\n\u2022 ttr: Tempo de tr\u00e2nsito da rota r.\n\n\u2022 tta: Tempo de tr\u00e2nsito do arco de duto a.\n\n\u2022 Uak: Limite superior para a quantidade m\u00e1xima de lotes de tamanho k que podem ser\n\nenviados por subper\u00edodo pelo arco de duto a. \u00c9 calculada dividindo-se a vaz\u00e3o do duto\n\npor sub-per\u00edodo pelo tamanho do lote e arredondando para cima.\n\n\u2022 V Sgit: Volume m\u00e1ximo do grupo de produtos g a ser mantido em sobre-estadia no local i,\n\nno per\u00edodo t.\n\n\u2022 XCpis: Volume do produto p que entrou (XC > 0) ou saiu (XC &lt;0) do local i, no\n\nsubper\u00edodo s, devido ao transporte comprometido e ao estoque em tr\u00e2nsito.\n\n\u2022 XCps: Volume total do produto p que entrou (XC > 0) ou saiu (XC &lt;0) da malha, no\n\nsubper\u00edodo s, devido ao transporte comprometido e ao estoque em tr\u00e2nsito.\n\n\u2022 XMat: Movimenta\u00e7\u00e3o comprometida no per\u00edodo t para o arco de duto a.\n\n\u2022 XMask: N\u00famero de lotes do k-\u00e9simo tamanho trafegado no arco de duto a no subper\u00edodo\n\ns devido aos transportes comprometidos e estoques em tr\u00e2nsito.\n\n\u2022 XTp: Volume do estoque em tr\u00e2nsito na rede no in\u00edcio do horizonte de tempo do produto\n\np. Neste caso, s\u00f3 s\u00e3o contabilizados lotes em tr\u00e2nsito entre dois locais pertencentes \u00e0 rede.\n\nVari\u00e1veis:\n\nVari\u00e1veis de Transporte:\n\n\u2022 zxprsk: Vari\u00e1vel inteira que representa o n\u00famero de lotes do k-\u00e9simo tamanho do produto\n\np transportado atrav\u00e9s da rota r a partir do sub-per\u00edodo de tempo s. Quando mais de um\n\nlote do mesmo produto \u00e9 enviado no mesmo sub-per\u00edodo, pela mesma rota, esses lotes s\u00e3o\n\nsubstitu\u00eddos por um \u00fanico lote cujo volume \u00e9 a soma dos volumes dos lotes anteriores.\n\nEssa agrega\u00e7\u00e3o \u00e9 limitada pelo tamanho m\u00e1ximo de um lote.\n\n\u2022 xxprsk: Vari\u00e1vel inteira que representa a quantidade acumulada de lotes do k-\u00e9simo tama-\n\nnho do produto p transportado atrav\u00e9s da rota r do in\u00edcio do horizonte at\u00e9 o subper\u00edodo de\n\ntempo s. Assuma que xxprsk = 0,?s ? 0.\n\nVari\u00e1veis de Degrada\u00e7\u00e3o:\n\n\n\n70\n\n\u2022 vdpois: Vari\u00e1vel cont\u00ednua que expressa o volume total do produto p degradado para o\n\nproduto o no local i durante o sub-per\u00edodo de tempo s.\n\n\u2022 vdapois: Vari\u00e1vel cont\u00ednua que expressa o volume acumulado do produto p degradado\n\npara o produto o no local i do in\u00edcio do horizonte at\u00e9 o sub-per\u00edodo de tempo s. Assuma\n\nvdapoi0 = 0,?p,o,i.\n\nVari\u00e1veis de N\u00edvel de Estoque:\n\n\u2022 ypis: Volume do produto p estocado no local i no final do sub-per\u00edodo de tempo s (des-\n\nconsidera estoque inicial e balan\u00e7o de produ\u00e7\u00e3o).\n\n\u2022 ygis: Volume total dos produtos do grupo de produtos g estocados no local i no final do\n\nsubper\u00edodo de tempo s.\n\n\u2022 yps: Volume total do produto p estocado e em tr\u00e2nsito na Malha Brasil, no final do subpe-\n\nr\u00edodo de tempo s.\n\n\u2022 ygs: Volume total dos produtos do grupo de produtos g estocados e em tr\u00e2nsito na Malha\n\nBrasil, no final do subper\u00edodo de tempo s.\n\nVari\u00e1veis de Uso dos Arcos:\n\n\u2022 xpat: Volume do produto p transportado atrav\u00e9s do arco a ao longo do per\u00edodo de tempo t.\n\n\u2022 xas: Porcentagem da capacidade total do arco a enviada no subper\u00edodo s (considerando o\n\nlimite Uak do n\u00famero de lotes enviados por sub-per\u00edodo).\n\n\u2022 wds: Vari\u00e1vel bin\u00e1ria que assume o valor 1 quando o duto d s\u00f3 pode ser utilizado no\n\nsentido direto, no sub-per\u00edodo de tempo s, e 0 quando d s\u00f3 pode ser utilizado no sentido\n\nreverso. Isso impede que um duto seja utilizado ao mesmo tempo nos sentidos direto e\n\nreverso.\n\nVari\u00e1veis de Viola\u00e7\u00e3o de Estoque:\n\n\u2022 vfmingis e vfmaxgis : Vari\u00e1veis cont\u00ednuas que expressam o quanto foi violado o limite f\u00edsico\n\n(m\u00ednimo e m\u00e1ximo) de estoque do grupo de produtos g no local i no final do sub-per\u00edodo\n\nde tempo s.\n\n\u2022 vfpis: Vari\u00e1vel cont\u00ednua que expressa em m\u00f3dulo a quantidade de estoque negativo do\n\nprodutos p no local i no final do sub-per\u00edodo de tempo s. \u00c9 uma viola\u00e7\u00e3o de limite f\u00edsico\n\nde estoque.\n\n\n\n71\n\n\u2022 vftranpis : Vari\u00e1vel cont\u00ednua que verifica se a sincroniza\u00e7\u00e3o de opera\u00e7\u00f5es de transbordo foi\n\nviolada pelo produto p no local i no final do sub-per\u00edodo de tempo s. \u00c9 uma viola\u00e7\u00e3o de\n\nlimite f\u00edsico de estoque.\n\n\u2022 vomingis e vomaxgis : Vari\u00e1veis cont\u00ednuas que expressam o quanto foi violado o limite opera-\n\ncional (m\u00ednimo e m\u00e1ximo) do grupo de produtos g no local i no final do sub-per\u00edodo de\n\ntempo s.\n\n\u2022 vsgis: Vari\u00e1vel cont\u00ednua que expressa o volume do grupo de produtos g em sobre-estadia\n\nno local i, no final do sub-per\u00edodo de tempo s.\n\n\u2022 vmgs: Vari\u00e1vel cont\u00ednua que expressa o quanto foi violado o estoque meta para o Brasil\n\ninteiro (m\u00ednimo ou m\u00e1ximo) do grupo de produtos g no final do sub-per\u00edodo de tempo s.\n\nNa implementa\u00e7\u00e3o no computador do modelo matem\u00e1tico, as vari\u00e1veis xpat, xas, ypis,\n\nygis, yps e ygs s\u00e3o removidas do modelo, substituindo suas ocorr\u00eancias pelo lado direto das\n\nigualdades expressas em (4.17), (4.14), (4.4), (4.5), (4.10) e (4.11), respectivamente, gerando\n\nrestri\u00e7\u00f5es de mochila em cascata.\n\nFormula\u00e7\u00e3o:\n\nz = Min\n?\nr?R\n\n?\np?P\n\nNLpr?\nk=1\n\nCprkxxprST k +\n?\np?P\n\n?\no?P\n\nCdpo 6=?\n\n?\ni?N\n\nCdpovdapoiST +\n?\ng?G\n\nST?\ns=1\n\n(Plmt(s)vmgs)\n\n+\n?\ni?N\n\n?\ng?Gi\n\nST?\ns=1\n\n(\nPlft(s)(vf\n\nmin\ngis + vf\n\nmax\ngis ) + Plot(s)(vo\n\nmin\ngis + vo\n\nmax\ngis )\n\n)\n+\n?\np?P\n\n?\ni?N\n\nST?\ns=1\n\n(vfpis + vf\ntran\npis ) +\n\n?\ni?N\n\n?\ng?Gi\n\nST?\ns=1\n\nCsgit(s)vsgis\n\n(4.1)\n\n\n\n72\n\nsujeito a\n\nxxprsk = xxpr,s?1,k + zxprsk ?p ? P,?r ? R,s = 1, ...,ST ,\n\nk = 1, ...,NLpr (4.2)\n\nvdapois = vdapoi,s?1 + vdpois ?p ? P,?o ? P|Cdpo 6= ?,\n\n?i ? N,s = 1, ...,ST (4.3)\n\nypis =\ns?\nq=1\n\n(Bpiq + XCpiq)?\n?\no?P\n\nCdpo 6=?\n\nvdapois+\n\n+\n?\no?P\n\nCdop 6=?\n\nvdaopis +\n?\n\nr|dest(r)=i\n\nNLpr?\nk=1\n\nQLpr(k)xxpr,s?ttr,k+\n\n?\n?\n\nr|orig(r)=i\n\nNLpr?\nk=1\n\nQLpr(k)xxprsk + Epi ?p ? P,?i ? N,s = 1, ...,ST\n\n(4.4)\n\nygis =\n?\np?g\n\nypis ?i ? N,?g ? Gi,s = 1, ...,ST\n\n(4.5)\n\nvfmingis + vo\nmin\ngis ? LO\n\nmin\ngit(s) ?ygis ?i ? N,?g ? Gi,s = 1, ...,ST\n\n(4.6)\n\nvfmaxgis + vo\nmax\ngis + vsgis + LO\n\nmax\ngit(s) ? ygis ?i ? H,?g ? Gi,s = 1, ...,ST\n\n(4.7)\n\nvfmaxgis + vo\nmax\ngis + LO\n\nmax\ngit(s) ? ygis ?i ? N\\H,?g ? Gi,s = 1, ...,ST\n\n(4.8)\n\nypis ??vfpis ?i ? N,?p ? P,s = 1, ...,ST\n(4.9)\n\n\n\n73\n\nyps =\n?\ni?N\n\n(Epi +\ns?\nq=1\n\nBpiq ?\n?\no?P\n\nCdpo 6=?\n\nvdapois+\n\n+\n?\no?P\n\nCdop 6=?\n\nvdaopis) +\ns?\nq=1\n\nXCpq + XTp+\n\n+\n?\n\nr|orig(r)=ext\n\nNLpr?\nk=1\n\nQLpr(k)xxpr,s?ttr,k+\n\n?\n?\n\nr|dest(r)=ext\n\nNLpr?\nk=1\n\nQLpr(k)xxprsk ?p ? P,s = 1, ...,ST (4.10)\n\nygs =\n?\np?g\n\nyps ?g ? Gi,s = 1, ...,ST (4.11)\n\nvmgs ? ygs ?LMmaxgt(s) ?g ? Gi,s = 1, ...,ST (4.12)\n\nvmgs ? LMmingt(s) ?ygs ?g ? Gi,s = 1, ...,ST (4.13)\n\nxas =\n?\np?P\n\n?\nr|a?Ar\n\nNLpr?\nk=1\n\nzxpr,s??ra,k\nUak\n\n?a ? A,s = 1, ...,ST (4.14)\n\nxa+(d)s ? wds\u2018 ?d ? D,s = 1, ...,ST ,s\u2018 ? [s, ...,s + tta]\n\n(4.15)\n\nxa?(d)s ? (1?wds\u2018) ?d ? D,s = 1, ...,ST ,s\u2018 ? [s, ...,s + tta]\n\n(4.16)\n\nxpat =\n?\nr|a?Ar\n\nNLpr?\nk=1\n\nSt?\ns=1\n\nQLpr(k)zxprsk ?p ? P,?a ? A,t = 1, ...,T\n\n(4.17)?\np?P\n\n(\nxpa?(d)t + XMa?(d)t\n\nCAPa?(d)t\n+\nxpa+(d)t + XMa+(d)t\n\nCAPa+(d)t\n\n)\n? 1 ?d ? D,t = 1, ...,T (4.18)\n\n\n\n74\n\n?\nr|dest(r)=i\n\nNLpr?\nk=1\n\nQLpr(k)zxpr,s?ttr,k?\n\n?\nr|orig(r)=i\n\nNLpr?\nk=1\n\nQLpr(k)xxprsk ? vftranpis ?i ? F|Bpis ? 0,?p ? P,s = 1, ...,ST\n\n(4.19)\n\n?\nr|dest(r)=i\n\nNLpr?\nk=1\n\nQLpr(k)zxpr,s?ttr,k?\n\n?\nr|orig(r)=i\n\nNLpr?\nk=1\n\nQLpr(k)xxprsk ??vftranpis ?i ? F|Bpis &lt;0,?p ? P,s = 1, ...,ST\n\n(4.20)\n\nzxprsk ? 0 ?p ? P,?r ? R,s = 1, ...,ST ,\n\nk = 1, ...,NLpr (4.21)\n\nxxprsk ? Z+ ?p ? P,?r ? R,s = 1, ...,ST ,\n\nk = 1, ...,NLpr (4.22)\n\nvfmingis ,vf\nmax\ngis ? 0 ?i ? N,?g ? Gi,s = 1, ...,ST\n\n(4.23)\n\nvfpis ? 0 ?i ? N,?p ? P,s = 1, ...,ST\n(4.24)\n\nvftranpis ? 0 ?i ? F,?p ? P,s = 1, ...,ST\n(4.25)\n\nvomingis ,vo\nmax\ngis ? 0 ?i ? N,?g ? Gi,s = 1, ...,ST\n\n(4.26)\n\nvmgs ? 0 ?g ? G,s = 1, ...,ST (4.27)\n\nvsgis ? 0 ?i ? N,?g ? Gi,s = 1, ...,ST\n(4.28)\n\nvdpois ? 0 ?p ? P,?o ? P|Cdpo 6= ?,\n\n?i ? N,s = 1, ...,ST (4.29)\n\nvdapois ? 0 ?p ? P,?o ? P|Cdpo 6= ?,\n\n?i ? N,s = 1, ...,ST . (4.30)\n\n\n\n75\n\nvomaxgis ? LF\nmax\ngit(s) ?LO\n\nmax\ngit(s) ?i ? N,?g ? Gi,s = 1, ...,ST\n\n(4.31)\n\nvomingis ? LO\nmin\ngit(s) ?LF\n\nmin\ngit(s) ?i ? N,?g ? Gi,s = 1, ...,ST\n\n(4.32)\n\nvsgis ? V Sgit(s) ?i ? H,?g ? Gi,s = 1, ...,ST\n(4.33)\n\n(4.1) A fun\u00e7\u00e3o objetivo soma os custos de transporte atrav\u00e9s dos arcos \u00e0s penalidades aplicadas\n\nsobre as viola\u00e7\u00f5es do estoque meta Brasil, dos limites de estoque f\u00edsico e operacional e sobre o\n\nuso de sobre-estadia.\n\n(4.2) As restri\u00e7\u00f5es definem as vari\u00e1veis xx como somas acumuladas das vari\u00e1veis zx.\n\n(4.3) As restri\u00e7\u00f5es definem as vari\u00e1veis vda como somas acumuladas das vari\u00e1veis vd.\n\n(4.4) As restri\u00e7\u00f5es garantem que o balan\u00e7o do transporte de cada produto em cada local no final\n\nde cada sub-per\u00edodo de tempo corresponde ao somat\u00f3rio dos balan\u00e7os de produ\u00e7\u00e3o e demanda\n\nat\u00e9 o sub-per\u00edodo corrente, mais o balan\u00e7o dos transportes comprometidos at\u00e9 o sub-per\u00edodo\n\ncorrente, menos o volume do produto p degradado para cada produto o at\u00e9 o sub-per\u00edodo cor-\n\nrente, mais o volume de cada produto o degradado para o produto p at\u00e9 o sub-per\u00edodo corrente,\n\nmais os fluxos de entrada e sa\u00edda, mais o estoque inicial.\n\n(4.5) As restri\u00e7\u00f5es garantem que o volume total de cada grupo de produtos estocado em cada\n\nlocal, em cada sub-per\u00edodo de tempo, ser\u00e1 igual ao somat\u00f3rio dos volumes dos produtos que\n\ncomp\u00f5em o grupo.\n\n(4.6) As restri\u00e7\u00f5es verificam se houve viola\u00e7\u00e3o tanto do limite operacional m\u00ednimo quanto do\n\nlimite f\u00edsico m\u00ednimo, para cada local, por grupo de produtos e no final de cada sub-per\u00edodo.\n\n(4.7) As restri\u00e7\u00f5es verificam se houve viola\u00e7\u00e3o tanto do limite operacional m\u00e1ximo quanto do\n\nlimite f\u00edsico m\u00e1ximo, e se a sobre-estadia est\u00e1 sendo usada, para cada local com possibilidade\n\nde sobre-estadia, por grupo de produtos e no final de cada sub-per\u00edodo.\n\n(4.8) As restri\u00e7\u00f5es verificam se houve viola\u00e7\u00e3o tanto do limite operacional m\u00e1ximo quanto do\n\nlimite f\u00edsico m\u00e1ximo, para cada local sem possibilidade de sobre-estadia, por grupo de produtos\n\ne no final de cada sub-per\u00edodo.\n\n(4.9) As restri\u00e7\u00f5es penalizam os estoques negativos, por local, produto e sub-per\u00edodo. Elas s\u00e3o\n\nnecess\u00e1rias porque apenas com a (4.6), se, por exemplo, um local tiver -10 do produto 1 e +20\n\ndo produto 2, e os produtos 1 e 2 pertencerem ao mesmo grupo, a viola\u00e7\u00e3o do produto 1 n\u00e3o\n\nser\u00e1 considerada, j\u00e1 que o estoque \u00e9 agregado por grupo de produtos.\n\n\n\n76\n\n(4.10) As restri\u00e7\u00f5es garantem que o volume total dentro da Malha Brasil, de cada produto e no\n\nfinal de cada sub-per\u00edodo de tempo, corresponde ao estoque inicial mais o somat\u00f3rio dos balan-\n\n\u00e7os de produ\u00e7\u00e3o e demanda, para todos os locais, menos o volume do produto p degradado para\n\ncada produto o, para todos os locais, mais o volume de cada produto o degradado para o produto\n\np, para todos os locais, mais os balan\u00e7os dos transportes comprometidos vindo e indo para o\n\nexterior, mais o estoque em tr\u00e2nsito na rede no in\u00edcio do horizonte de tempo, mais o balan\u00e7o dos\n\nfluxos que entram e saem da rede at\u00e9 o sub-per\u00edodo corrente.\n\n(4.11) As restri\u00e7\u00f5es garantem que o volume total dentro da Malha Brasil, de cada grupo de pro-\n\ndutos e no final de cada sub-per\u00edodo de tempo, ser\u00e1 igual ao somat\u00f3rio dos volumes dos produtos\n\nque comp\u00f5em o grupo.\n\n(4.12) As restri\u00e7\u00f5es verificam se o limite m\u00e1ximo do estoque meta Brasil foi violado por grupo\n\nde produtos no final de cada sub-per\u00edodo.\n\n(4.13) As restri\u00e7\u00f5es verificam se o limite m\u00ednimo do estoque meta Brasil foi violado por grupo\n\nde produtos no final de cada sub-per\u00edodo.\n\n(4.14) As restri\u00e7\u00f5es calculam o percentual da capacidade total do arco a utilizado no sub-per\u00edodo\n\nde tempo s. Al\u00e9m disso, juntamente com as restri\u00e7\u00f5es (4.15) e (4.16), garantem que este per-\n\ncentual n\u00e3o passar\u00e1 de 100%.\n\n(4.15) e (4.16) As restri\u00e7\u00f5es garantem que se um duto revers\u00edvel \u00e9 usado em um sentido, n\u00e3o\n\npoder\u00e1 ser usado ao mesmo tempo no sentido reverso.\n\n(4.17) As restri\u00e7\u00f5es garantem que o volume movimentado em cada arco ser\u00e1 igual ao somat\u00f3rio\n\ndos volumes movimentados por todas as rotas que usam o arco, por produto e por per\u00edodo.\n\n(4.18) As restri\u00e7\u00f5es garantem que o volume total movimentado em cada arco, por per\u00edodo, seja\n\nmenor ou igual \u00e0 capacidade m\u00e1xima do arco menos a movimenta\u00e7\u00e3o comprometida, e que n\u00e3o\n\nseja um valor negativo. Estas restri\u00e7\u00f5es s\u00e3o necess\u00e1rias porque as restri\u00e7\u00f5es (4.16) consideram\n\nlimites superiores para o n\u00famero de lotes que podem ser enviados por sub-per\u00edodo que s\u00e3o arre-\n\ndondados para cima.\n\n(4.19) e (4.20) Restri\u00e7\u00f5es de sincroniza\u00e7\u00e3o de opera\u00e7\u00f5es de transbordo. A primeira procura ga-\n\nrantir que tudo o que foi recebido por cada local produtor e de transbordo tem que ser enviado no\n\nmesmo dia. A segunda procura garantir que tudo o que foi enviado por um local consumidor e\n\nde transbordo foi recebido no mesmo dia. Caso n\u00e3o seja vi\u00e1vel, as vari\u00e1veis de folga vf mant\u00e9m\n\na viabilidade das restri\u00e7\u00f5es, acarretando uma penalidade alta na fun\u00e7\u00e3o objetivo.\n\n(4.21) Vari\u00e1veis cont\u00ednuas n\u00e3o-negativas.\n\n(4.22) Vari\u00e1veis inteiras n\u00e3o-negativas.\n\n\n\n77\n\n(4.23) a (4.30) Vari\u00e1veis cont\u00ednuas n\u00e3o-negativas.\n\n(4.31) a (4.33) Limite superior das vari\u00e1veis.\n\nO modelo matem\u00e1tico gera um escalonamento \u00f3timo de transporte onde cada envio \u00e9\n\ndefinido por uma tupla (p, r, s, v) indicando que o volume v (correspondente a um ou mais lotes)\n\ndo produto p dever\u00e1 ser transportado pela rota r, saindo no dia s. Este escalonamento \u00f3timo\n\ndeve minimizar as penalidades por viola\u00e7\u00e3o e os custos de transporte.\n\n4.3 BUSCA LOCAL POR PROGRAMA\u00c7\u00c3O INTEIRA MISTA (PIM)\n\nPara melhorar a solu\u00e7\u00e3o obtida pelo otimizador atrav\u00e9s do modelo anterior, foi aplicada\n\numa Busca Local por PIM (BLP). O procedimento da BLP \u00e9 muito parecido com uma busca\n\nlocal cl\u00e1ssica, mas a procura por novas solu\u00e7\u00f5es vi\u00e1veis \u00e9 feita por um m\u00e9todo exato (PIM), j\u00e1\n\nque este m\u00e9todo possui a capacidade de provar a otimalidade da vizinhan\u00e7a proposta. Esta vizi-\n\nnhan\u00e7a \u00e9 obtida atrav\u00e9s da sele\u00e7\u00e3o de um conjunto reduzido de vari\u00e1veis do modelo matem\u00e1tico\n\noriginal, fixando em zero as vari\u00e1veis inteiras zxprsk, com tr\u00eas exce\u00e7\u00f5es:\n\n1. As vari\u00e1veis zxprsk com valor maior que zero na solu\u00e7\u00e3o atual n\u00e3o s\u00e3o fixadas.\n\n2. As vari\u00e1veis zxprsk, tais que pelo menos uma vari\u00e1vel \u201cvizinha\u201d zxprs,k?1, zxprs,k+1,\n\nzxpr,s?1,k ou zxpr,s+1,k tenha valor maior que zero na solu\u00e7\u00e3o atual, tamb\u00e9m n\u00e3o s\u00e3o fixa-\n\ndas.\n\n3. As vari\u00e1veis zxprsk que representam lotes de tamanho m\u00ednimo (k = 1) transportados por\n\nquaisquer rotas em determinados subper\u00edodos n\u00e3o s\u00e3o fixadas. Para escolher os subper\u00edo-\n\ndos, o horizonte de tempo \u00e9 dividido em trechos (a quantidade de trechos \u00e9 escolhida por\n\num par\u00e2metro) e toma-se o primeiro subper\u00edodo de cada trecho.\n\nA l\u00f3gica por tr\u00e1s do algoritmo \u00e9 reduzir o n\u00famero de vari\u00e1veis do modelo, acelerando\n\no tempo de resolu\u00e7\u00e3o da relaxa\u00e7\u00e3o, o que permite pesquisar um n\u00famero muito maior de n\u00f3s da\n\n\u00e1rvore de branch-and-bound em menos tempo. Apesar do espa\u00e7o de busca ser mais restrito, a\n\nobten\u00e7\u00e3o de uma melhor solu\u00e7\u00e3o \u00e9 mais prov\u00e1vel uma vez que a busca \u00e9 mais eficiente. Um\n\npseudoc\u00f3digo para o algoritmo \u00e9 apresentado em 2:\n\nHeur\u00edsticas baseadas em MIP s\u00e3o conhecidas na literatura como MIP-based Heuristics.\n\nPara uma vis\u00e3o geral sobre o tema, ver Maniezzo et al (2009). Em Merce e Fontan (2003), os au-\n\ntores estudaram heur\u00edsticas baseadas em MIP para problemas de dimensionamento de lotes. Para\n\ngerar sub-MIPs, os autores dividiram o horizonte de tempo em sub-horizontes, gerando MIPs\n\n\n\n78\n\nAlgoritmo 2 Busca Local por PIM\n1: Executa o modelo\n2: se n\u00e3o atingiu a solu\u00e7\u00e3o \u00f3tima, mas tem uma vi\u00e1vel ent\u00e3o\n3: repita\n4: Guarda a solu\u00e7\u00e3o atual e tira todas as fixa\u00e7\u00f5es de vari\u00e1veis\n5: para cada vari\u00e1vel zxprsk fa\u00e7a\n6: Fixar = verdadeiro\n7: se k = 1 e s = in\u00edcio de trecho ent\u00e3o\n8: Fixar = falso\n9: fim se\n\n10: se Fixar = verdadeiro ent\u00e3o\n11: Pega valor da vari\u00e1vel na solu\u00e7\u00e3o atual\n12: se valor > 0 ent\u00e3o\n13: Fixar = falso\n14: fim se\n15: fim se\n16: se Fixar = verdadeiro ent\u00e3o\n17: Procurar na vizinhan\u00e7a da vari\u00e1vel zxprsk\n18: se alguma vari\u00e1vel vizinha tiver valor > 0 ent\u00e3o\n19: Fixar = falso\n20: fim se\n21: fim se\n22: se Fixar = verdadeiro ent\u00e3o\n23: Fixa a vari\u00e1vel zxprsk em zero\n24: fim se\n25: fim para\n26: Calcula nova solu\u00e7\u00e3o (Rodar Otimizador)\n27: at\u00e9 que nova solu\u00e7\u00e3o n\u00e3o \u00e9 melhor que solu\u00e7\u00e3o atual\n28: fim se\n\n\n\n79\n\nmenores e mais f\u00e1ceis de resolver. Em Absi e Kedad-Sidhoum (2007), os autores implemen-\n\ntaram o mesmo tipo de heur\u00edstica ao estudar uma varia\u00e7\u00e3o do problema de dimensionamento\n\nde lotes, em que v\u00e1rios itens, tempos de setup e custos de armazenamento s\u00e3o considerados.\n\nOutros artigos que desenvolveram heur\u00edsticas baseadas em MIP para problemas de dimensiona-\n\nmento de lotes s\u00e3o James e Almada-Lobo (2011) e Mohammadi et al (2010). Em Fasano (2008),\n\nos autores estudaram problemas de empacotamento de 3 dimens\u00f5es, e criaram uma heur\u00edstica\n\nde busca local baseada em MIP que fixa algumas vari\u00e1veis para reduzir o tamanho do MIP. Em\n\nKlemmt et al (2009), os autores compararam diversos tipos de heur\u00edsticas baseadas em MIP para\n\nproblemas de escalonamento.\n\n4.4 RESULTADOS COMPUTACIONAIS\n\nEsta se\u00e7\u00e3o apresenta os resultados computacionais do modelo multiproduto e multimo-\n\ndal. Para realizar os testes, utilizou-se uma inst\u00e2ncia com dados reais da Petrobras referente ao\n\ntransporte de v\u00e1rios tipos de diesel. Essa inst\u00e2ncia ser\u00e1 chamada de inst\u00e2ncia base. A partir dela,\n\nforam geradas 10 varia\u00e7\u00f5es aleat\u00f3rias para diversificar os testes. Tamb\u00e9m s\u00e3o relatados resul-\n\ntados referentes \u00e0 inst\u00e2ncias monomodal e monoproduto modificadas da literatura, descritas no\n\nCap\u00edtulo 2. Por \u00faltimo, a solu\u00e7\u00e3o de uma inst\u00e2ncia baseada na inst\u00e2ncia base \u00e9 visualizada em\n\ndetalhes.\n\n4.4.1 CONSTRU\u00c7\u00c3O DA INST\u00c2NCIA BASE\n\nA inst\u00e2ncia base \u00e9 uma inst\u00e2ncia com v\u00e1rios produtos, grupos de produtos e modais de\n\ntransporte constru\u00edda a partir de dados da Petrobras. Para isso, v\u00e1rias corre\u00e7\u00f5es foram feitas,\n\ncom o intuito de eliminar todas as viola\u00e7\u00f5es f\u00edsicas de estoque. Mesmo com as modifica\u00e7\u00f5es,\n\nas viola\u00e7\u00f5es f\u00edsicas persistiam nos primeiros dias do horizonte de tempo, donde se concluiu\n\nque havia um problema com os estoques em tr\u00e2nsito. Foram feitas diversas tentativas de gerar\n\nmanualmente estes estoques para zerar todas as viola\u00e7\u00f5es de limites f\u00edsicos de estoque, sem\n\nsucesso. Para conseguir esse conjunto de estoques em tr\u00e2nsito, foi necess\u00e1rio adaptar o pr\u00f3prio\n\notimizador PLIM para ger\u00e1-los. Para isso, o modelo foi alterado de modo que apenas o custo\n\nde viola\u00e7\u00e3o f\u00edsica fosse considerado e que envios antes do in\u00edcio do horizonte de tempo fossem\n\npermitidos, desde que chegassem depois do in\u00edcio do horizonte. Com isso, todos os envios com\n\ndata de partida anteriores ao in\u00edcio do horizonte de tempo que apareceram na solu\u00e7\u00e3o do modelo\n\nalterado foram adicionados \u00e0 inst\u00e2ncia corrigida como estoque em tr\u00e2nsito. Nos experimentos\n\n\n\n80\n\nrelatados com as inst\u00e2ncias modificadas, foi utilizado o modelo matem\u00e1tico original.\n\nAs caracter\u00edsticas da inst\u00e2ncia base s\u00e3o:\n\n\u2022 N\u00famero de modais: 5 (navio, duto, barca\u00e7a, rodovia e ferrovia)\n\n\u2022 N\u00famero de degrada\u00e7\u00f5es: 5, todas entre produtos de mesmo grupo\n\n\u2022 estoque em tr\u00e2nsito: 38 lotes, com um volume total de 577 unidades de volume, chegando\n\nentre os dias 1 e 20 do primeiro per\u00edodo.\n\n\u2022 sobre-estadia: os 10 locais com capacidade de estoque abaixo do lote m\u00ednimo de uma das\n\nrotas de acesso ou sa\u00edda possuem esta funcionalidade. A sobre-estadia \u00e9 por grupo de\n\nprodutos.\n\n\u2022 N\u00famero de Locais: 15\n\n\u2013 N\u00famero de Locais com demanda: 8\n\n\u2013 N\u00famero de Locais com oferta: 1\n\n\u2013 N\u00famero de Locais com oferta e demanda: 6\n\n\u2013 N\u00famero de Locais de transbordo: 4\n\n\u2022 N\u00famero de Per\u00edodos: 2, um com 29 dias e o outro com 31\n\n\u2022 N\u00famero de Produtos: 12\n\n\u2022 N\u00famero de Grupo de Produtos: 5, um com 5 produtos, um com 3 produtos, um com 2\n\nprodutos e dois com 1 produto\n\n\u2022 N\u00famero de Rotas de importa\u00e7\u00e3o: 5, sendo 4 com chegada em locais de transbordo\n\n\u2022 N\u00famero de Rotas internas: 180\n\n4.4.2 EXPERIMENTOS COM A BUSCA LOCAL POR PIM\n\nO algoritmo de otimiza\u00e7\u00e3o foi comparado com e sem a Busca Local por PIM (BLP).\n\nTodos os testes com a BLP foram rodados em um computador com processador Intel Core2\n\nQuad CPU Q8300 2.50GHz, mem\u00f3ria de 4 GB, na plataforma Windows Seven, com o resolvedor\n\nCplex 12.5.1. Primeiramente, foram utilizadas inst\u00e2ncias modificadas de Rocha et al (2011). As\n\ncaracter\u00edsticas das inst\u00e2ncias s\u00e3o:\n\n\n\n81\n\n\u2022 Per\u00edodo: 30 dias;\n\n\u2022 Produto: \u00f3leo cru;\n\n\u2022 Grupo de produtos: \u00f3leo cru;\n\n\u2022 Modal: navio;\n\n\u2022 Locais produtores: 9;\n\n\u2022 Locais consumidores: 2;\n\n\u2022 Tamanhos de lote: 5, com ganho de escala;\n\n\u2022 Rotas: cada local produtor possui rota direta com todos os locais consumidores;\n\nNa tabela 4.1, quando a busca local por PIM \u00e9 usada, o algoritmo roda por 720 segundos\n\nna otimiza\u00e7\u00e3o inicial, mais 40 segundos para cada vez que a busca local \u00e9 executada. O tempo\n\nde execu\u00e7\u00e3o do algoritmo sem a busca local \u00e9 o tempo inicial de 720 segundos, mais a soma de\n\ntodo o tempo de execu\u00e7\u00e3o da BLP. Note que nenhuma das inst\u00e2ncias viola estoque.\n\nA coluna Inst\u00e2ncia mostra a inst\u00e2ncia usada. Antes da BLP mostra o valor da fun\u00e7\u00e3o\n\nobjetivo antes de rodar a BLP. Depois da BLP mostra o valor da fun\u00e7\u00e3o objetivo depois que a\n\nBLP rodou. No vezes BLP rodou mostra quantas vezes a BLP rodou. Tempo (seg) mostra o\n\ntempo total de otimiza\u00e7\u00e3o. Sem BLP mostra o valor final da fun\u00e7\u00e3o objetivo sem BLP, mas\n\nusando o mesmo tempo de execu\u00e7\u00e3o. Diferen\u00e7a (abs) e Diferen\u00e7a (percentual) mostram,\n\nrespectivamente, a diferen\u00e7a absoluta e percentual do valor da fun\u00e7\u00e3o objetivo com e sem BLP.\n\nO modelo com a busca local por PIM \u00e9 mais eficiente, sendo igual ou superior em todas\n\nas inst\u00e2ncias. A diferen\u00e7a percentual media \u00e9 de 11,34%. A maior diferen\u00e7a percentual foi\n\nda inst\u00e2ncia 104, 54,79%. A inst\u00e2ncia 108 rodou a BLP por mais tempo, 14 vezes, com uma\n\ndiferen\u00e7a percentual de 45,0%. A inst\u00e2ncia 114 n\u00e3o usou a BLP porque o modelo encontrou a\n\nsolu\u00e7\u00e3o \u00f3tima antes dos 720 segundos terminarem. O algoritmo termina quando a melhora da\n\nBLP \u00e9 inferior a 0,5%.\n\nAl\u00e9m das inst\u00e2ncias da literatura, a inst\u00e2ncia base da Petrobras foi usada para gerar 10\n\ninst\u00e2ncias, multiplicando os balan\u00e7os e estoques iniciais por um valor aleat\u00f3rio entre 0,5 e 1,5,\n\num valor diferente para cada local e grupo de produtos. Nos casos em que o estoque inicial\n\nultrapassou a capacidade f\u00edsica m\u00e1xima de estoque, este valor foi igualado ao estoque inicial.\n\nNovos estoques em tr\u00e2nsito foram gerados para cada nova inst\u00e2ncia aleat\u00f3ria, do mesmo modo\n\ndescrito na Subse\u00e7\u00e3o 4.4.1. O resultado do experimento \u00e9 mostrado na Tabela 4.2.\n\n\n\n82\n\nTabela 4.1: Resultados computacionais da Busca Local por PIM com inst\u00e2ncias modificadas da\nliteratura\n\nAntes Depois No vezes Tempo Sem Diferen\u00e7a Diferen\u00e7a\nInst\u00e2ncia da BLP da BLP BLP rodou (seg) BLP (abs) (percentual)\n\n101 36302 36302 1 765 36302 0 0,00\n102 44264 44264 1 733 44264 0 0,00\n103 89182 79436 5 925 79690 254 0,32\n104 179868 77530 4 884 171493 93963 54,79\n105 364390 112541 4 885 194975 82434 42,28\n106 405577 123573 6 965 243745 120172 49,30\n107 58666 58464 1 764 58666 202 0,35\n108 244317 162436 14 1286 236036 73600 45,00\n109 163220 156048 5 924 163220 7172 4,60\n110 237238 192232 3 844 237238 45006 23,40\n111 68486 65716 2 805 67798 2082 3,07\n112 63552 54986 5 924 62594 7608 12,15\n113 53320 53320 1 764 53320 0 0,00\n114 38974 38974 0 425 38974 0 0,00\n115 67404 61606 5 925 65390 3784 5,79\n116 88064 82556 5 925 87834 5278 6,01\n117 115392 114874 1 764 114908 34 0,03\n118 107310 106842 1 765 107310 468 0,44\n119 83808 77918 3 844 83808 5890 7,56\n120 60580 54990 9 1085 60020 5030 8,38\n121 58642 58642 1 765 58642 0 0,00\n122 39018 39016 1 765 39018 2 0,01\n123 54976 46144 9 1085 53504 7360 13,76\n124 58800 58800 1 765 58800 0 0,00\n125 104044 96224 5 924 102740 6516 6,34\n\nM\u00e9dia 115416 82137 3,72 860 100811 18674 11,34\n\n\n\n83\n\nTabela 4.2: Resultados computacionais da Busca Local por PIM com inst\u00e2ncias aleat\u00f3rias\n\nCom ou Tempo BLP Custo Custo de Custo de Custo Pr\u00e9 Gap\nInst. Sem BLP (seg) rodou Total Transporte Viol. F\u00edsica BLP (%)\n\n1 Com BLP 1060 2 55038 42529 0 59745 4,08\nSem BLP 1060 - 100412 47307 29859 - 47,42\n\n2 Com BLP 1060 2 85154 48354 16059 134908 2,92\nSem BLP 1060 - 134908 51005 61672 - 38,72\n\n3 Com BLP 1060 2 63717 38870 0 67975 3,38\nSem BLP 1060 - 67975 42958 0 - 9,43\n\n4 Com BLP 1090 3 101953 47446 22515 115117 6,92\nSem BLP 1090 - 241656 44902 156198 - 60,73\n\n5 Com BLP 1090 3 82701 44893 26280 89099 6,79\nSem BLP 1090 - 89099 47767 28288 - 13,48\n\n6 Com BLP 1330 11 107564 41392 25992 314421 14,20\nSem BLP 1330 - 352148 43700 269458 - 73,79\n\n7 Com BLP 1060 2 65151 46365 299 73518 4,74\nSem BLP 1060 - 66252 46252 44 - 6,32\n\n8 Com BLP 1090 3 50828 36904 2375 58879 5,92\nSem BLP 1090 - 58879 38001 7401 - 18,78\n\n9 Com BLP 1060 2 85214 52314 17749 92575 5,14\nSem BLP 1060 - 92575 52493 23852 - 12,68\n\n10 Com BLP 1090 3 107328 58651 6323 722387 15,85\nSem BLM 1090 - 722387 56392 615710 - 87,50\n\nM\u00e9dia Com BLM 1099 3,3 80465 45772 11759 172862 6,99\nSem BLM 1099 - 192629 47078 119248 - 36,89\n\n\n\n84\n\nQuando a BLP foi utilizada, o tempo de otimiza\u00e7\u00e3o dado para o modelo MIP foi de 1000\n\nsegundos, mais 30 segundo para cada vez que a BLP foi rodada. O tempo de otimiza\u00e7\u00e3o dado\n\nao modelo sem a BLP foi a soma dos tempos dados no caso anterior, 1000 + 30 x (n\u00famero de\n\nvezes que BLP rodou). O tempo inicial de 1000 segundos garante que a raiz do algoritmo de\n\nbranch-and-bound terminar\u00e1 antes de come\u00e7ar a BLP.\n\nA coluna Tempo (seg) da Tabela 4.2 mostra o tempo de otimiza\u00e7\u00e3o total. A coluna BLP\n\nrodou mostra o n\u00famero de vezes que a BLP rodou. A coluna Custo Total mostra o valor final\n\nda fun\u00e7\u00e3o objetivo. Custo de Transporte mostra o custo de transporte e Custo Viol. F\u00edsica\n\nmostra o custo de viola\u00e7\u00e3o f\u00edsica. A coluna Custo Pr\u00e9 BLP mostra o valor da fun\u00e7\u00e3o objetivo\n\nantes da BLP rodar (passados 1000 segundos) e a Gap (%) mostra o gap final.\n\nO modelo em conjunto com a BLP demonstrou ser melhor, com gap m\u00e9dio de 6,99%,\n\ncontra 36,89% sem a BLP. Para calcular o gap com a BLP, foi utilizado o melhor limite inferior\n\ndo modelo sem a BLP, juntamente com a melhor solu\u00e7\u00e3o encontrada na \u00faltima BLP rodada.\n\n4.4.3 VISUALIZA\u00c7\u00c3O DA SOLU\u00c7\u00c3O DE UMA INST\u00c2NCIA BASEADA NA INST\u00c2NCIA BASE\n\nEsta subse\u00e7\u00e3o apresenta uma visualiza\u00e7\u00e3o da solu\u00e7\u00e3o aleat\u00f3ria n\u00famero 3 (ver Tabela 4.2),\n\nsem viola\u00e7\u00f5es f\u00edsicas. A visualiza\u00e7\u00e3o da inst\u00e2ncia base n\u00e3o ser\u00e1 mostrada aqui para preservar\n\nos dados da Petrobras. Primeiramente, as Figuras 4.1 e 4.2 d\u00e3o uma vis\u00e3o geral da inst\u00e2ncia.\n\nA Figura 4.1 mostra o balan\u00e7o acumulado nos dois per\u00edodos em cada local, para cada grupo de\n\nproduto, como na legenda \u00e0 esquerda da figura. Na Figura, podemos ver uma demanda grande de\n\ntodos os grupos de produtos espalhada pelo Brasil. O local com maior produ\u00e7\u00e3o, considerando\n\ntodos os produtos, \u00e9 SP.\n\nA Figura 4.2 mostra a capacidade f\u00edsica m\u00e1xima e o estoque inicial de cada local, para\n\ncada grupo de produtos.\n\nAs Figuras 4.3 at\u00e9 4.11 mostram os envios dos produtos mais movimentados na solu\u00e7\u00e3o.\n\nAs setas pretas representam os estoques em tr\u00e2nsito e as vermelhas os envios da solu\u00e7\u00e3o. Os\n\ntransportes comprometidos, ausentes na inst\u00e2ncia, s\u00e3o setas verdes. Os estoques em tr\u00e2nsito n\u00e3o\n\npossuem local de origem porque sua origem \u00e9 indiferente para a solu\u00e7\u00e3o, importando somente\n\no local de destino. O ponto fora do mapa do Brasil representa o exterior, e as setas que partem\n\ndeste ponto para os locais no mapa podem representar uma opera\u00e7\u00e3o de transbordo ou uma rota\n\nde importa\u00e7\u00e3o direta. Ao lado de cada seta aparece o valor do envio.\n\nOutra forma de mostrar a solu\u00e7\u00e3o obtida \u00e9 atrav\u00e9s do visualizador de solu\u00e7\u00f5es, desenvol-\n\nvido pela equipe da UTFPR. Os gr\u00e1ficos dos estoques agregados (em vermelho) s\u00e3o mostrados\n\n\n\n85\n\nFigura 4.1: Balan\u00e7o acumulado dos dois per\u00edodos para cada grupo de produtos em cada local\n\npor local e por grupo de produto. A legenda que aparece em todas as figuras mostra a cor de\n\ncada faixa de estoque nos gr\u00e1ficos. As faixas f\u00edsica e operacional sempre aparecem nos gr\u00e1ficos.\n\nA faixa de sobre-estadia aparece apenas quando o local permite esta funcionalidade.\n\nOs gr\u00e1ficos das Figuras 4.12 at\u00e9 4.15 mostram que os estoques ficam a maior parte do\n\ntempo dentro da faixa operacional, com exce\u00e7\u00e3o dos locais com baixa capacidade de estoque,\n\nque utilizam a sobre-estadia durante boa parte do horizonte de tempo.\n\n4.5 CONCLUS\u00d5ES DO CAP\u00cdTULO\n\nO modelo matem\u00e1tico apresentou bom desempenho, tanto com as inst\u00e2ncias geradas a\n\npartir da inst\u00e2ncia enviada pela Petrobras (e modificada para n\u00e3o ter viola\u00e7\u00e3o f\u00edsica de estoque),\n\nquanto com as inst\u00e2ncias modificadas da literatura.\n\nA dificuldade em obter um conjunto de estoques em tr\u00e2nsito que viabilizasse as inst\u00e2ncias\n\nfoi contornada pela modifica\u00e7\u00e3o tempor\u00e1ria do modelo matem\u00e1tico para permitir envios antes\n\ndo in\u00edcio do horizonte de tempo, envios estes que s\u00e3o posteriormente adicionados \u00e0 inst\u00e2ncia\n\noriginal como estoques em tr\u00e2nsito. O passo seguinte \u00e9 executar a inst\u00e2ncia com o modelo\n\nmatem\u00e1tico original.\n\n\n\n86\n\nFigura 4.2: Capacidade f\u00edsica m\u00e1xima e estoque inicial por grupo de produtos e por local\n\nA busca local por PIM geralmente encontra solu\u00e7\u00f5es melhores em poucos segundos.\n\nQuanto pior a solu\u00e7\u00e3o inicial da busca local, melhor costuma ser a solu\u00e7\u00e3o final encontrada por\n\nela.\n\nA visualiza\u00e7\u00e3o da solu\u00e7\u00e3o por mapas permitiu uma vis\u00e3o geral dos envios, enquanto a\n\nvisualiza\u00e7\u00e3o dos estoques por gr\u00e1ficos permitiu a an\u00e1lise do comportamento dos estoques e das\n\nviola\u00e7\u00f5es operacionais e de sobre-estadia.\n\n4.5.1 MELHORIAS DESEJ\u00c1VEIS\n\nPara aproximar ainda mais o modelo para a realidade, as seguintes melhorias s\u00e3o desej\u00e1-\n\nveis:\n\n\u2022 O modelo atual permite que, ao transportar produtos entre determinada origem e destino,\n\nmais do que uma rota seja utilizada. Isto pode acarretar um alto custo de carga e descarga,\n\nmas \u00e9 poss\u00edvel caso a rota principal esteja sobrecarregada. Pode ser desej\u00e1vel incluir\n\ncustos de carga e descarga.\n\n\u2022 O modelo atual permite transporte entre apenas uma origem e apenas um destino (tamb\u00e9m\n\n\n\n87\n\nFigura 4.3: Envios no per\u00edodo 1 do produto 5 pertencente ao grupo DSL AUTOM MTE\n\nchamado de Long-Haul Freight Transportation). Pode ser desej\u00e1vel permitir, por exem-\n\nplo, que um navio passe por mais de uma origem para coletar produtos, e pare em mais de\n\num destino para descarregar (tamb\u00e9m chamado de Short-Haul Freight Transportation).\n\n\n\n88\n\nFigura 4.4: Envios no per\u00edodo 2 do produto 5 pertencente ao grupo DSL AUTOM MTE\n\nFigura 4.5: Envios no per\u00edodo 1 do produto 6 pertencente ao grupo DSL MARIT (nada foi\nenviado no per\u00edodo 2)\n\n\n\n89\n\nFigura 4.6: Envios no per\u00edodo 1 do produto 10 pertencente ao grupo DSL AUTOM BTE\n\nFigura 4.7: Envios no per\u00edodo 2 do produto 10 pertencente ao grupo DSL AUTOM BTE\n\n\n\n90\n\nFigura 4.8: Envios no per\u00edodo 1 do produto 11 pertencente ao grupo DSL MARIT\n\nFigura 4.9: Envios no per\u00edodo 2 do produto 11 pertencente ao grupo DSL MARIT\n\n\n\n91\n\nFigura 4.10: Envios no per\u00edodo 1 do produto 12 pertencente ao grupo DSL AUTOM ATE\n\nFigura 4.11: Envios no per\u00edodo 2 do produto 12 pertencente ao grupo DSL AUTOM ATE\n\n\n\n92\n\nFigura 4.12: Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o f\u00edsica\n(parte 1/4)\n\n\n\n93\n\nFigura 4.13: Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o f\u00edsica\n(parte 2/4)\n\n\n\n94\n\nFigura 4.14: Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o f\u00edsica\n(parte 3/4)\n\n\n\n95\n\nFigura 4.15: Estoques por local e grupo de produtos da solu\u00e7\u00e3o da inst\u00e2ncia sem viola\u00e7\u00e3o f\u00edsica\n(parte 4/4)\n\n\n\n96\n\n5 CONCLUS\u00c3O E TRABALHOS FUTUROS\n\nO presente trabalho desenvolveu um estudo sobre o problema de transporte em cadeias\n\nlog\u00edsticas da ind\u00fastria de petr\u00f3leo.\n\nDo estudo do problema de transporte monoproduto e monomodal, foram desenvolvidas\n\ndiversas formula\u00e7\u00f5es e uma heur\u00edstica baseada em gera\u00e7\u00e3o de colunas. No estudo de formula-\n\n\u00e7\u00f5es, nota-se um importante avan\u00e7o no desempenho das duas melhores formula\u00e7\u00f5es em rela\u00e7\u00e3o\n\n\u00e0s outras, sendo ambas mais eficientes do que a melhor formula\u00e7\u00e3o da literatura. A heur\u00edstica\n\nbaseada em gera\u00e7\u00e3o de colunas obteve solu\u00e7\u00f5es de qualidade em v\u00e1rias das inst\u00e2ncias testadas,\n\ncom um tempo computacional bem pequeno, em torno de 10 segundos.\n\nDo estudo do problema de transporte multiproduto e multimodal, foi desenvolvida uma\n\nformula\u00e7\u00e3o que combina as vari\u00e1veis de lotes acumulados com novas restri\u00e7\u00f5es encontradas no\n\nproblema real de transporte na ind\u00fastria de petr\u00f3leo. Al\u00e9m desta formula\u00e7\u00e3o, uma heur\u00edstica de\n\nbusca local por PIM foi criada, obtendo bons resultados na melhora da solu\u00e7\u00e3o vi\u00e1vel retornada\n\npela formula\u00e7\u00e3o.\n\nComo trabalhos futuros, a formula\u00e7\u00e3o de lotes acumulados ser\u00e1 testada em outros pro-\n\nblemas com estrutura parecida com o que foi estudado aqui. Al\u00e9m disso, h\u00e1 um estudo em\n\ndesenvolvimento de uma formula\u00e7\u00e3o com vari\u00e1veis semi-cont\u00ednuas de envio de lote, onde \u00e9\n\nposs\u00edvel enviar qualquer quantidade acima do lote m\u00ednimo.\n\n\n\n97\n\nA TABELAS COMPLETAS COM OS RESULTADOS COMPUTACIONAIS DE\n\nTODAS AS FORMULA\u00c7\u00d5ES DO ESTUDO DO CAP\u00cdTULO 2\n\n\u2022 A Tabela A.1 mostra as solu\u00e7\u00f5es \u00f3timas ou as melhores encontradas para as inst\u00e2ncias das\n\nclasses m\u00e9dia, dif\u00edcil e mais dif\u00edceis;\n\n\u2022 As Tabelas A.2 e A.3 mostram o resultado da raiz e final para a formula\u00e7\u00e3o B\u00e1sica com as\n\ninst\u00e2ncias das classes m\u00e9dia e dif\u00edcil;\n\n\u2022 As Tabelas A.4 e A.5 mostram o resultado da raiz e final para a formula\u00e7\u00e3o Knapsack\n\nCascading com Arredondamento com as inst\u00e2ncias das classes m\u00e9dia e dif\u00edcil;\n\n\u2022 As Tabelas A.6 e A.7 mostram o resultado da raiz e final para a formula\u00e7\u00e3o Acumulada\n\nnas Rotas e Arredondado com lotes Bin\u00e1rios com as inst\u00e2ncias das classes m\u00e9dia e dif\u00edcil;\n\n\u2022 As Tabelas A.8 e A.9 mostram o resultado da raiz e final para a formula\u00e7\u00e3o Acumulada nas\n\nRotas e Arredondado com lotes cont\u00ednuos com as inst\u00e2ncias das classes m\u00e9dia e dif\u00edcil. A\n\nTabela A.10 mostra o resultado da raiz e final para as inst\u00e2ncias mais dif\u00edceis;\n\n\u2022 As Tabelas A.11 e A.12 mostram o resultado da raiz e final para a formula\u00e7\u00e3o Acumulada\n\nnos Locais e Arredondado com as inst\u00e2ncias das classes m\u00e9dia e dif\u00edcil. A Tabela A.13\n\nmostra o resultado da raiz e final para as inst\u00e2ncias mais dif\u00edceis;\n\n\u2022 As Tabelas A.14 e A.15 mostram o resultado da raiz para a formula\u00e7\u00e3o com Gera\u00e7\u00e3o de\n\nColunas com as inst\u00e2ncias das classes m\u00e9dia, dif\u00edcil e a mais dif\u00edcil;\n\n\u2022 A Tabela A.16 mostra o resultado da raiz e final para a formula\u00e7\u00e3o Acumulada nas rotas\n\ncom permiss\u00e3o de estouro nos terminais, com custo suficientemente alto, com as inst\u00e2ncias\n\nda classe mais dif\u00edcil;\n\n\n\n98\n\n\u2022 A Tabela A.17 mostra o resultado da raiz e final para a formula\u00e7\u00e3o Acumulada nos locais\n\ncom permiss\u00e3o de estouro nos terminais, com custo suficientemente alto, com as inst\u00e2ncias\n\nda classe mais dif\u00edcil;\n\n\u2022 A Tabela A.18 mostra as solu\u00e7\u00f5es vi\u00e1veis encontradas pela heur\u00edstica baseada em gera\u00e7\u00e3o\n\nde colunas, para a formula\u00e7\u00e3o acumulada nas rotas com estouro e sem estouro, e para a\n\nformula\u00e7\u00e3o acumulada nos locais, com estouro e sem estouro. O custo de estouro utilizado\n\nfoi 999999, para que a solu\u00e7\u00e3o \u00f3tima n\u00e3o tenha estouro;\n\nTabela A.1: Solu\u00e7\u00e3o \u00f3tima ou melhor solu\u00e7\u00e3o encontrada para as inst\u00e2ncias artificiais utilizadas\nnos teste\n\nMelhor \u00d3tima Melhor \u00d3tima Melhor \u00d3tima\nInst. Solu\u00e7\u00e3o Comprov. Inst. Solu\u00e7\u00e3o comprov. Inst. Solu\u00e7\u00e3o Comprov.\n26 55314 Sim 51 50486 Sim 101 34184 Sim\n27 83540 Sim 52 67124 Sim 102 44264 Sim\n28 148668 Sim 53 123706 Sim 103 78462 Sim\n29 98132 Sim 54 82540 Sim 104 66354 N\u00e3o\n30 133718 Sim 55 97604 Sim 105 89594 N\u00e3o\n31 117384 Sim 56 99018 N\u00e3o 106 99018 N\u00e3o\n32 121042 Sim 57 89020 Sim 107 57654 Sim\n33 298420 Sim 58 204076 Sim 108 158940 N\u00e3o\n34 220736 Sim 59 187780 Sim 109 135528 N\u00e3o\n35 275380 Sim 60 200124 Sim 110 141712 Sim\n36 120168 Sim 61 93856 Sim 111 62570 Sim\n37 86296 Sim 62 65852 Sim 112 50172 N\u00e3o\n38 118084 Sim 63 75744 Sim 113 52456 Sim\n39 67810 Sim 64 53124 Sim 114 38974 Sim\n40 110058 Sim 65 79748 Sim 115 57108 Sim\n41 135022 Sim 66 114764 Sim 116 76804 Sim\n42 198060 Sim 67 174572 Sim 117 106562 Sim\n43 186144 Sim 68 170230 Sim 118 103082 Sim\n44 135900 Sim 69 100880 Sim 119 66658 Sim\n45 107044 Sim 70 72732 Sim 120 51752 N\u00e3o\n46 121298 Sim 71 98966 Sim 121 58642 Sim\n47 79292 Sim 72 54724 Sim 122 38728 Sim\n48 107976 Sim 73 65228 Sim 123 44264 N\u00e3o\n49 144458 Sim 74 81532 Sim 124 58262 Sim\n50 102472 Sim 75 139506 Sim 125 88240 Sim\n\n\n\n99\n\nTabela A.2: Formula\u00e7\u00e3o b\u00e1sica para classe m\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultados da raiz\n\nInst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes\n26 55094,8 0,4 55094,8 51 49412,64 2,13 49412,64\n27 ERROa 52 65990,83 1,69 65990,83\n28 148668 0 148668 53 122226,61 1,2 121857,3\n29 97997,33 0,14 97968,58 54 81512,93 1,24 81080,27\n30 133617,1 0,08 133589,82 55 96186,83 1,8 95891,41\n31 116884 0,43 116841,87 56 76803,08 22,44 75942,18\n32 120793,6 0,21 120766,8 57 87794,2 1,38 87508,72\n33 293580,1 1,62 293246,87 58 196558,97 3,68 195839,81\n34 220066,3 0,3 220066,3 59 183382,18 2,34 182283,88\n35 274892,8 0,18 274892,8 60 194822,17 2,65 193514,16\n36 119829,75 0,28 119778,25 61 92480,41 1,47 91971,31\n37 86156 0,16 86156 62 64605,22 1,89 64170,86\n38 117979,47 0,09 117979,47 63 74603,33 1,51 74353,28\n39 67728,74 0,12 67728,74 64 52447,14 1,27 52170,04\n40 109534,23 0,48 109497,05 65 78500,74 1,56 77933,93\n41 134641,73 0,28 134641,73 66 113371,88 1,21 112551,67\n42 197642,4 0,21 197642,4 67 172795 1,02 172795\n43 185738,67 0,22 185355,35 68 167928,78 1,35 167326,91\n44 135260 0,47 135088,65 69 99371,88 1,65 99338,68\n45 106755,53 0,27 106755,53 70 69738,85 4,12 69160,44\n46 121003,48 0,24 121003,48 71 98341,12 0,63 97871,03\n47 78826,55 0,59 78594,17 72 53742,55 1,79 53456,62\n48 107892,92 0,08 107885,56 73 63575,48 2,53 63307,13\n49 143931,2 0,36 143592,4 74 80643,89 1,09 80247,06\n50 102285,45 0,18 102285,45 75 138669,63 0,6 138235,16\n\nM\u00e9dia 0,30 2,57\n\naN\u00e3o resolveu a relaxa\u00e7\u00e3o linear nos 720 segundos\n\n\n\n100\n\nTabela A.3: Formula\u00e7\u00e3o b\u00e1sica para classe m\u00e9dia e dif\u00edcil de inst\u00e2ncias, resultado final\n\nTempo LB Gap UB Gap\nInst. (s) Final LB(%) Final UB(%) N\u00f3s\n26 720 55094,8 0,4 55314 0 516859\n27 ERROa\n\n28 0,03 148668 0 148668 0 0\n29 720 97997,33 0,14 98132 0 1045658\n30 720 133664,4 0,04 133718 0 3695281\n31 720 117008 0,32 117384 0 5285621\n32 720 120793,6 0,21 121042 0 5081341\n33 OOMb 294127,2 1,44 3953362\n34 OOMb 220066,3 0,3 220736 0 5435627\n35 OOMb 275000 0,14 275380 0 6475970\n36 OOMb 119834,02 0,28 120286 0,1 3862717\n37 720 86156 0,16 86296 0 5695362\n38 720 118015,47 0,06 118084 0 4257219\n39 167,5 67810 0 67810 0 2060594\n40 OOMb 109678 0,35 110248 0,17 3612033\n41 720 134641,73 0,28 135022 0 1202140\n42 720 197642,4 0,21 198060 0 4957940\n43 720 185949,8 0,1 186144 0 5273635\n44 720 135670,42 0,17 135900 0 4609814\n45 720 106832,67 0,2 107044 0 4704751\n46 OOMb 121044,89 0,21 121298 0 3872521\n47 720 79117,5 0,22 79292 0 6020562\n48 720 107892,92 0,08 107976 0 5494364\n49 720 144003,2 0,31 144458 0 3199077\n50 OOMb 102285,45 0,18 102472 0 4343930\n51 720 49731,68 1,49 50486 0 623080\n52 720 66807,9 0,47 67178 0,08 1245587\n53 720 122949,05 0,61 123706 0 1002282\n54 720 81568,77 1,18 2258253\n55 720 96327,44 1,66 1055547\n56 720 78793,67 20,42 77757\n57 720 88563,7 0,51 89020 0 1455040\n58 720 200278,8 1,86 1384924\n59 720 186901 0,47 187944 0,09 1402323\n60 720 195778,34 2,17 1930313\n61 720 92831,97 1,09 2224389\n62 720 64811,96 1,58 1031741\n63 720 74949,85 1,05 2368680\n64 720 52878,55 0,46 53124 0 1278974\n65 720 78882,61 1,09 82000 2,82 846058\n66 720 113947,64 0,71 115156 0,34 835503\n67 720 173234,4 0,77 1652576\n68 720 168854,47 0,81 170230 0 329124\n69 720 100029,09 1 101042 0 1160257\n70 720 71284,88 1,99 73030 0,41 399737\n71 OOMb 98433,4 0,54 99028 0,06 2350349\n72 720 54054,43 1,22 54854 0,24 835228\n73 720 63614,78 2,47 1728435\n74 720 80650,7 1,08 2231569\n75 720 138976,31 0,38 139682 0,13 1660532\n\nM\u00e9dia 706,19 1,08 0,12 2612748\n\naN\u00e3o resolveu a relaxa\u00e7\u00e3o linear nos 720 segundos\nbOut of memory\n\n\n\n101\n\nTabela A.4: Knapsack Cascading com Arredondamento para classe m\u00e9dia e dif\u00edcil de inst\u00e2ncias,\nresultados da raiz\n\nInst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes\n26 55094,8 0,4 55094,8 51 49930,77 1,1 49682,04\n27 ERROa 52 66911,36 0,31 65990,83\n28 148668 0 148668 53 122995,57 0,57 122008,43\n29 97981,6 0,15 97968,58 54 81888,89 0,79 81080,27\n30 133631,23 0,06 133589,82 55 96671,5 1,31 95891,41\n31 116944 0,37 116841,87 56 77895,51 21,33 75974,23\n32 120866,29 0,15 120766,8 57 88867,75 0,17 87805,17\n33 294701,2 1,25 293246,87 58 199857,44 2,07 195839,81\n34 220384,69 0,16 220066,3 59 183127,09 2,48 180249,89\n35 274955,67 0,15 274892,8 60 196697,68 1,71 193690,31\n36 119870,14 0,25 119778,25 61 93143,81 0,76 91971,31\n37 86296 0 86156 62 64884,56 1,47 64232,65\n38 118045,87 0,03 117979,47 63 75106,44 0,84 74353,28\n39 67728,74 0,12 67728,74 64 52785,82 0,64 52272,12\n40 109511,75 0,5 109497,05 65 78987,92 0,95 78021,66\n41 134641,73 0,28 134641,73 66 114018,25 0,65 112818,3\n42 197642,4 0,21 197642,4 67 173767,73 0,46 172795\n43 185642,45 0,27 185355,35 68 164486,78 3,37 161771,31\n44 135306,35 0,44 135088,65 69 99929,76 1,1 99338,68\n45 106951,83 0,09 106755,53 70 70738,81 2,74 69079,86\n46 121057,95 0,2 121003,48 71 98552,62 0,42 97871,03\n47 78907,87 0,48 78594,17 72 54295,98 0,78 53745,66\n48 107964 0,01 107885,56 73 64096 1,74 63307,13\n49 143721,63 0,51 143592,4 74 80901,45 0,77 80247,06\n50 102459 0,01 102285,45 75 138982,84 0,38 138270,92\n\nM\u00e9dia 0,25 1,95\n\naN\u00e3o resolveu a relaxa\u00e7\u00e3o linear nos 720 segundos\n\n\n\n102\n\nTabela A.5: Knapsack Cascading com Arredondamento para classe m\u00e9dia e dif\u00edcil de inst\u00e2ncias,\nresultado final\n\nTempo LB Gap UB Gap\nInst. (s) Final LB(%) Final UB(%) N\u00f3s\n26 720 55172,18 0,26 55.314 0 6963486\n27 ERROa\n\n28 0,03 148668 0 148668 0 0\n29 1,16 98132 0 98132 0 573\n30 0,91 133718 0 133718 0 539\n31 720 117351,36 0,03 117384 0 319458\n32 720 120866,29 0,15 121042 0 0\n33 720 295279,2 1,05 298420 0 105591\n34 720 220629,86 0,05 220736 0 322271\n35 720 274955,67 0,15 275380 0 0\n36 720 119880,37 0,24 120286 0,1 401944\n37 0,08 86296 0 86296 0 0\n38 0,65 118084 0 118084 0 575\n39 0,47 67810 0 67810 0 0\n40 720 109678 0,35 110058 0 184720\n41 720 134997,73 0,02 135022 0 172074\n42 720 197965,91 0,05 198060 0 390069\n43 720 186014 0,07 186144 0 373036\n44 720 135433,12 0,34 135900 0 356788\n45 0,86 107044 0 107044 0 0\n46 720 121111,66 0,15 121298 0 4542959\n47 54,15 79292 0 79292 0 600909\n48 0,13 107976 0 107976 0 0\n49 720 144154,8 0,21 144458 0 1412700\n50 0,75 102472 0 102472 0 530\n51 720 50419,52 0,13 50486 0 83198\n52 44,76 67124 0 67124 0 12184\n53 720 123616 0,07 123706 0 330330\n54 720 82241,37 0,36 SEM 222515\n55 720 97088,65 0,88 SEM 136362\n56 720 78763,42 20,46 SEM 30084\n57 720 88867,75 0,17 89020 0 0\n58 720 202952,43 0,55 SEM 178220\n59 720 187076,4 0,37 187944 0,09 181889\n60 720 198612,2 0,76 SEM 88540\n61 720 93496,39 0,38 SEM 129557\n62 720 65414,92 0,66 SEM 135889\n63 720 75514,22 0,3 SEM 140483\n64 720 52973,01 0,28 53124 0 207036\n65 720 79572,04 0,22 82000 2,82 84179\n66 720 114543,19 0,19 115156 0,34 84110\n67 6,6 174572 0 174572 0 1311\n68 720 170089,05 0,08 170230 0 190110\n69 720 100862,5 0,17 101042 0 259267\n70 720 72483,5 0,34 73030 0,41 177923\n71 720 98805,75 0,16 99028 0,06 163239\n72 720 54482,05 0,44 54854 0,24 225588\n73 720 64830,91 0,61 SEM 112844\n74 720 81212,49 0,39 SEM 87132\n75 720 139192,67 0,22 139682 0,13 93239\n\nM\u00e9dia 546 0,64 0,11 398029,6\n\naN\u00e3o resolveu a relaxa\u00e7\u00e3o linear nos 720 segundos\n\n\n\n103\n\nTabela A.6: Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote bin\u00e1rio para classe m\u00e9dia\ne dif\u00edcil de inst\u00e2ncias, resultados da raiz\n\nInst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes\n26 55291,33 0,04 55094,8 51 50129,95 0,71 49730,04\n27 83540 0 83540 52 66999,5 0,18 66251,77\n28 148668 0 148668 53 123060,84 0,52 122008,43\n29 97994,23 0,14 97968,58 54 82168,02 0,45 81478,12\n30 133631,23 0,06 133589,82 55 96877,72 1,09 96298,69\n31 117024,34 0,31 116841,87 56 78727,87 20,49 77090,63\n32 120893,09 0,12 120766,8 57 88889,15 0,15 87748,96\n33 294613,62 1,28 293246,87 58 201642,45 1,19 196810,37\n34 220452,5 0,13 220066,3 59 185079,66 1,44 178693,41\n35 275034,55 0,13 274892,8 60 197524,89 1,3 194321,82\n36 119894,56 0,23 119778,25 61 93482,69 0,4 92921,23\n37 86296 0 86156 62 65321,03 0,81 64490,17\n38 118064 0,02 117979,47 63 75380,09 0,48 74786,4\n39 67810 0 67728,74 64 52916,64 0,39 52641,34\n40 109633,35 0,39 109497,05 65 79538,85 0,26 78615,41\n41 134641,73 0,28 134641,73 66 114158,59 0,53 113655,31\n42 197925,6 0,07 197642,4 67 174433,08 0,08 172889,29\n43 185671,41 0,25 185355,35 68 164944,45 3,1 162581,41\n44 135337,28 0,41 135088,65 69 100878,67 0,16 99403,45\n45 106999,3 0,04 106755,53 70 71754,93 1,34 70030,52\n46 121107,2 0,16 121003,48 71 98649,86 0,32 98340,65\n47 78999,16 0,37 78714,17 72 54360,16 0,66 53851,36\n48 107964 0,01 107885,56 73 65040,38 0,29 63707,49\n49 143771,23 0,48 143592,4 74 81189,32 0,42 80436,41\n50 102472 0 102285,45 75 139051,15 0,33 138593,94\n\nM\u00e9dia 0,1968 1,4832\n\n\n\n104\n\nTabela A.7: Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote bin\u00e1rio para classe m\u00e9dia\ne dif\u00edcil de inst\u00e2ncias, resultado final\n\nTempo LB Gap UB Gap\nInst. (s) Final LB(%) Final UB(%) N\u00f3s\n26 0,16 55314 0 55314 0 302\n27 0,02 83540 0 83540 0 0\n28 0,05 148668 0 148668 0 0\n29 3,98 98132 0 98132 0 4609\n30 0,67 133718 0 133718 0 549\n31 0,5 117384 0 117384 0 536\n32 1,48 121042 0 121042 0 0\n33 54,79 298420 0 298420 0 188016\n34 0,14 220736 0 220736 0 0\n35 0,13 275380 0 275380 0 18\n36 1,19 120168 0 120168 0 2836\n37 0,16 86296 0 86296 0 0\n38 0,16 118084 0 118084 0 20\n39 0,03 67810 0 67810 0 0\n40 7,69 110058 0 110058 0 18716\n41 0,86 135022 0 135022 0 536\n42 720 197948 0,06 198060 0 2861590\n43 0,28 186144 0 186144 0 319\n44 0,25 135900 0 135900 0 602\n45 0,2 107044 0 107044 0 0\n46 0,67 121298 0 121298 0 690\n47 0,13 79292 0 79292 0 173\n48 0,22 107976 0 107976 0 52\n49 0,19 144458 0 144458 0 353\n50 0,08 102472 0 102472 0 0\n51 2,25 50486 0 50486 0 1975\n52 0,3 67124 0 67124 0 259\n53 2,06 123706 0 123706 0 1295\n54 5,33 82540 0 82540 0 2742\n55 720 97366,71 0,6 97950 0,1698 474280\n56 720 79661,92 19,55 SEM 207071\n57 1,3 89020 0 89020 0 0\n58 113,15 204076 0 204076 0 95155\n59 2,93 187780 0 187780 0 600\n60 3,32 200124 0 200124 0 1387\n61 7,13 93856 0 93856 0 4169\n62 720 65813,33 0,06 65852 0 723752\n63 6,83 75744 0 75744 0 5165\n64 1,09 53124 0 53124 0 824\n65 8,08 79748 0 79748 0 4998\n66 28,27 114764 0 114764 0 25352\n67 0,98 174572 0 174572 0 506\n68 305,34 170230 0 170230 0 408714\n69 0,84 101042 0 101042 0 0\n70 6,08 72732 0 72732 0 2442\n71 7,46 98966 0 98966 0 8026\n72 0,22 54724 0 54724 0 41\n73 2,14 65228 0 65228 0 949\n74 14,15 81532 0 81532 0 7300\n75 99,11 139506 0 139506 0 97579\n\nM\u00e9dia 71,45 0,41 0 103090\n\n\n\n105\n\nTabela A.8: Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote cont\u00ednuo para classe m\u00e9dia\ne dif\u00edcil de inst\u00e2ncias, resultados da raiz\n\nInst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes\n26 55291,33 0,04 55094,8 51 50129,95 0,71 49730,04\n27 83540 0 83540 52 67008,6 0,17 66251,77\n28 148668 0 148668 53 123170,03 0,43 122008,43\n29 97994,23 0,14 97968,58 54 82132,14 0,49 81478,12\n30 133646,92 0,05 133589,82 55 96874,12 1,1 96298,69\n31 117024,34 0,31 116841,87 56 78973,85 20,24 77090,63\n32 120793,6 0,21 120766,8 57 88889,47 0,15 87748,96\n33 295758,42 0,89 293246,87 58 201195,79 1,41 196810,37\n34 220452,5 0,13 220066,3 59 184322,39 1,84 178693,41\n35 275054,29 0,12 274892,8 60 197560,25 1,28 194321,82\n36 119946,07 0,18 119778,25 61 93442,56 0,44 92921,23\n37 86156 0,16 86156 62 65291,62 0,85 64490,17\n38 118064 0,02 117979,47 63 75379,91 0,48 74786,4\n39 67810 0 67728,74 64 52934,15 0,36 52641,34\n40 109622,57 0,4 109497,05 65 79538,85 0,26 78615,41\n41 134641,73 0,28 134641,73 66 114203,03 0,49 113655,31\n42 197925,6 0,07 197642,4 67 174430,46 0,08 172889,29\n43 185741,28 0,22 185355,35 68 165643,46 2,69 162581,41\n44 135337,28 0,41 135088,65 69 100878,67 0,16 99403,45\n45 106999,3 0,04 106755,53 70 71772,21 1,32 70030,52\n46 121083,6 0,18 121003,48 71 98661,2 0,31 98340,65\n47 79075,02 0,27 78714,17 72 54430,42 0,54 53851,36\n48 107903,37 0,07 107885,56 73 65040,38 0,29 63707,49\n49 143797,41 0,46 143592,4 74 81189,32 0,42 80436,41\n50 102472 0 102285,45 75 139051,15 0,33 138593,94\n\nM\u00e9dia 0,18 1,47\n\n\n\n106\n\nTabela A.9: Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote cont\u00ednuo para classe m\u00e9dia\ne dif\u00edcil de inst\u00e2ncias, resultado final\n\nTempo LB Gap UB Gap\nInst. (s) Final LB(%) Final UB(%) N\u00f3s\n26 0,17 55314 0 55314 0 330\n27 0 83540 0 83540 0 0\n28 0,01 148668 0 148668 0 0\n29 0,48 98132 0 98132 0 518\n30 0,47 133718 0 133718 0 520\n31 0,37 117384 0 117384 0 523\n32 0,33 121042 0 121042 0 505\n33 32,45 298420 0 298420 0 87333\n34 0,12 220736 0 220736 0 0\n35 0,12 275380 0 275380 0 0\n36 0,64 120168 0 120168 0 1321\n37 0,45 86296 0 86296 0 517\n38 0,11 118084 0 118084 0 0\n39 0,05 67810 0 67810 0 0\n40 7,25 110058 0 110058 0 22897\n41 0,59 135022 0 135022 0 540\n42 720 197994,58 0,03 198060 0 3548787\n43 0,33 186144 0 186144 0 484\n44 0,16 135900 0 135900 0 239\n45 0,14 107044 0 107044 0 0\n46 0,22 121298 0 121298 0 480\n47 0,08 79292 0 79292 0 51\n48 0,08 107976 0 107976 0 1\n49 0,64 144458 0 144458 0 790\n50 0,11 102472 0 102472 0 82\n51 1,73 50486 0 50486 0 1468\n52 0,27 67124 0 67124 0 288\n53 1,65 123706 0 123706 0 614\n54 2,71 82540 0 82540 0 2390\n55 720 97310,08 0,65 98490 0,72 379548\n56 720 80300,06 18,9 SEM 264178\n57 1,12 89020 0 89020 0 565\n58 105,43 204076 0 204076 0 66003\n59 2,43 187780 0 187780 0 905\n60 3,18 200124 0 200124 0 1453\n61 6,05 93856 0 93856 0 3958\n62 720 65736,42 0,18 65852 0 439737\n63 6,44 75744 0 75744 0 4840\n64 0,87 53124 0 53124 0 694\n65 8,45 79748 0 79748 0 5789\n66 6,6 114764 0 114764 0 3995\n67 1,17 174572 0 174572 0 552\n68 2,81 170230 0 170230 0 1173\n69 0,47 101042 0 101042 0 0\n70 6,52 72732 0 72732 0 2832\n71 9,34 98966 0 98966 0 8791\n72 0,22 54724 0 54724 0 83\n73 1,82 65228 0 65228 0 929\n74 4,38 81532 0 81532 0 3484\n75 239,93 139506 0 139506 0 147706\n\nM\u00e9dia 66,78 0,39 0 100157\n\n\n\n107\n\nTabela A.10: Formula\u00e7\u00e3o acumulada nas rotas e arredondado com lote cont\u00ednuo com a classe\nmais dif\u00edcil de inst\u00e2ncias, raiz e resultado final\n\nRaiz Resultado Final\nGap Tempo Gap Gap No\n\nInst. LB (%) (s) LB Final LB(%) UB Final UB(%) de n\u00f3s\n101 31934,4 6,58 720 32704,48 4,33 34376 0,56 224270\n102 43720,28 1,23 720 44212,57 0,12 44264 0,00 179561\n103 76468,55 2,54 720 77074,13 1,77 78724 0,33 281585\n104 53697,72 19,07 720 54031,26 18,57 89028 34,17 152485\n105 72040,16 19,59 720 72610,01 18,96 SEM SEM 82705\n106 60040,06 39,36 720 60685,41 38,71 SEM SEM 96319\n107 57036,48 1,07 158,11 57654 0,00 57654 0,00 25802\n108 134302,61 15,50 720 135183,63 14,95 SEM SEM 162172\n109 123989,13 8,51 720 124560,71 8,09 SEM SEM 204779\n110 139999,11 1,21 720 140831,78 0,62 144496 1,96 131449\n111 61743,35 1,32 720 62092,53 0,76 62588 0,03 144919\n112 45975,46 8,36 720 46254,41 7,81 74446 48,38 134922\n113 52180,31 0,53 94,16 52456 0,00 52456 0,00 40689\n114 38811,58 0,42 3,43 38974 0,00 38974 0,00 604\n115 55848,45 2,21 720 56252,43 1,50 57956 1,48 134228\n116 75268,02 2,34 720 75771,95 1,69 77672 0,78 85842\n117 106347,06 0,20 720 106390 0,16 107476 0,86 65726\n118 101533,97 1,50 720 102424,86 0,64 108118 4,89 194349\n119 65725,74 1,40 720 66396,62 0,39 66658 0,00 154697\n120 50223,48 2,95 720 50702,24 2,03 68014 31,42 116313\n121 58151,4 0,84 720 58630,88 0,02 58642 0,00 210356\n122 38208,1 1,34 720 38554 0,45 38728 0,00 138188\n123 41371,5 6,53 720 41590,62 6,04 45870 3,63 100104\n124 57304,68 1,64 720 57719,27 0,93 58544 0,48 126185\n125 87222,34 1,15 720 87550,36 0,78 89070 0,94 93622\n\nM\u00e9dia 5,90 643,83 5,17 5,01 131274\n\n\n\n108\n\nTabela A.11: Formula\u00e7\u00e3o acumulada nos locais e arredondado com as classes m\u00e9dia e dif\u00edcil de\ninst\u00e2ncias, resultado da raiz\n\nInst. LB Gap (%) LB sem cortes Inst. LB Gap (%) LB sem cortes\n26 55314,00 0,00 55094,80 51 50129,95 0,71 49730,04\n27 83540,00 0,00 83451,00 52 66999,51 0,19 66251,77\n28 148668,00 0,00 148668,00 53 123526,86 0,14 122587,83\n29 97981,60 0,15 97968,58 54 82115,42 0,51 81505,32\n30 133602,90 0,09 133589,82 55 96985,00 0,63 96531,98\n31 116884,00 0,43 116841,87 56 78522,70 20,70 77566,31\n32 120866,29 0,15 120766,80 57 88878,99 0,16 88167,52\n33 293517,34 1,64 293246,87 58 202745,06 0,65 200337,36\n34 220384,69 0,16 220066,30 59 187010,22 0,41 185336,39\n35 274953,33 0,15 274892,80 60 197620,90 1,25 194321,82\n36 119869,60 0,25 119778,25 61 93427,38 0,46 92980,86\n37 86296,00 0,00 86156,00 62 65363,56 0,74 64704,39\n38 117979,47 0,09 117979,47 63 75383,51 0,48 74891,78\n39 67810,00 0,00 67728,74 64 52918,40 0,39 52641,34\n40 109542,36 0,47 109497,05 65 79327,37 0,53 78772,47\n41 134974,00 0,04 134641,73 66 114150,19 0,53 113673,47\n42 197642,40 0,21 197642,40 67 174509,00 0,04 173221,06\n43 185724,68 0,23 185355,35 68 169595,12 0,37 168431,41\n44 135223,63 0,50 135088,65 69 100878,67 0,00 99403,45\n45 106879,87 0,15 106755,53 70 71876,69 1,18 70644,75\n46 121106,87 0,16 121003,48 71 98609,72 0,36 98345,50\n47 79024,00 0,34 78714,17 72 54484,35 0,44 54100,13\n48 107903,37 0,07 107885,56 73 64939,67 0,44 64003,43\n49 143744,70 0,49 143592,40 74 81084,87 0,55 80739,56\n50 102316,58 0,15 102285,45 75 139035,00 0,34 138696,26\n\nM\u00e9dia 0,24 1,29\n\n\n\n109\n\nTabela A.12: Formula\u00e7\u00e3o acumulada nos locais e arredondado com as classes m\u00e9dia e dif\u00edcil de\ninst\u00e2ncias, resultado final\n\nTempo LB Gap UB Gap\nInst. (s) Final LB(%) Final UB(%) N\u00f3s\n26 0,11 55314 0,00 55314 0,00 43\n27 0 83540 0,00 83540 0,00 0\n28 0,02 148668 0,00 148668 0,00 0\n29 0,44 98132 0,00 98132 0,00 559\n30 0,77 133718 0,00 133718 0,00 647\n31 1,03 117384 0,00 117384 0,00 1443\n32 0,8 121042 0,00 121042 0,00 675\n33 17,11 298420 0,00 298420 0,00 64511\n34 0,2 220736 0,00 220736 0,00 511\n35 0,47 275380 0,00 275380 0,00 590\n36 0,77 120168 0,00 120168 0,00 744\n37 0,05 86296 0,00 86296 0,00 0\n38 0,42 118084 0,00 118084 0,00 550\n39 0,02 67810 0,00 67810 0,00 0\n40 2,97 110058 0,00 110058 0,00 3837\n41 0,88 135022 0,00 135022 0,00 1215\n42 4,75 198060 0,00 198060 0,00 5634\n43 0,69 186144 0,00 186144 0,00 571\n44 0,2 135900 0,00 135900 0,00 454\n45 0,45 107044 0,00 107044 0,00 578\n46 0,73 121298 0,00 121298 0,00 675\n47 0,09 79292 0,00 79292 0,00 71\n48 0,31 107976 0,00 107976 0,00 569\n49 0,73 144458 0,00 144458 0,00 685\n50 0,55 102472 0,00 102472 0,00 562\n51 2,98 50486 0,00 50486 0,00 1314\n52 0,8 67124 0,00 67124 0,00 500\n53 1,92 123706 0,00 123706 0,00 568\n54 8,08 82540 0,00 82540 0,00 7408\n55 720 97393,70 0,22 97624 0,02 206045\n56 720 80323,29 18,88 SEM SEM 315555\n57 1,92 89020 0,00 89020 0,00 735\n58 74,83 204076 0,00 204076 0,00 23156\n59 3,09 187780 0,00 187780 0,00 1864\n60 6,37 200124 0,00 200124 0,00 4744\n61 23,26 93856 0,00 93856 0,00 12669\n62 720 65786,53 0,10 65886 0,05 150524\n63 5,05 75744 0,00 75744 0,00 3101\n64 2 53124 0,00 53124 0,00 1854\n65 6,34 79748 0,00 79748 0,00 2345\n66 11,72 114764 0,00 114764 0,00 5112\n67 0,73 174572 0,00 174572 0,00 498\n68 2,64 170230 0,00 170230 0,00 1317\n69 2,34 100880 0,00 100880 0,00 807\n70 3,94 72732 0,00 72732 0,00 1735\n71 17,11 98966 0,00 98966 0,00 5098\n72 1,47 54724 0,00 54724 0,00 552\n73 3,61 65228 0,00 65228 0,00 2706\n74 3,7 81532 0,00 81532 0,00 1150\n75 135,2 139506 0,00 139506 0,00 85592\n\nM\u00e9dia 50,27 0,38 0,00\n\n\n\n110\n\nTabela A.13: Formula\u00e7\u00e3o acumulada nos locais e arredondado com a classe mais dif\u00edcil de\ninst\u00e2ncias, raiz e resultado final\n\nRaiz Resultado Final\nGap Tempo Gap Gap No\n\nInst. LB (%) (s) LB Final LB(%) UB Final UB(%) de n\u00f3s\n101 32184,978 5,85 231,8 34184 0,00 34184 0,00 863193\n102 43956,587 0,69 6,07 44264 0,00 44264 0,00 19663\n103 76804,86 2,11 439,19 78462 0,00 78462 0,00 3363391\n104 53730,427 19,02 720 54057,2 18,53 SEM SEM 10045839\n105 72132,857 19,49 720 72677,862 18,88 SEM SEM 9799720\n106 60163,619 39,24 720 60880,92 38,52 SEM SEM 7949621\n107 57049,397 1,05 43,88 57654 0,00 57654 0,00 414955\n108 134370,37 15,46 720 135529,51 14,73 SEM SEM 8060758\n109 124166,14 8,38 720 124937,73 7,81 SEM SEM 10131488\n110 140032,27 1,19 720 140851,01 0,61 SEM SEM 9001712\n111 61770,345 1,28 720 62296,459 0,44 62964 0,63 7799784\n112 45970,907 8,37 720 46307,26 7,70 SEM SEM 9869508\n113 52205,435 0,48 9,62 52456 0,00 52456 0,00 28816\n114 38886,333 0,22 1,5 38974 0,00 38974 0,00 3426\n115 55857,802 2,19 720 56229,85 1,54 61208 7,18 9828020\n116 75478,929 2,07 720 76039,526 1,34 77124 0,06 8694876\n117 106387 0,16 720 106390 0,16 108790 2,09 7887518\n118 101710,46 1,33 720 102267,22 0,79 103102 0,02 2531627\n119 65766,622 1,34 720 66045,795 0,92 67308 0,98 5260091\n120 50169,65 3,06 720 50762,082 1,91 SEM SEM 8768865\n121 58101,141 0,92 61,75 58642 0,00 58642 0,00 510279\n122 38130,462 1,54 720 38491,39 0,61 38738 0,03 2082555\n123 41360,237 6,56 720 41640,02 5,93 SEM SEM 10523505\n124 57404,921 1,47 720 57607,611 1,12 58626 0,62 5551968\n125 87252,132 1,12 720 87720,557 0,59 88404 0,19 9385241\n\nM\u00e9dia 5,78 550,15 4,89 0,63\n\n\n\n111\n\nTabela A.14: Formula\u00e7\u00e3o com Gera\u00e7\u00e3o de Colunas, resultados da raiz para as classes m\u00e9dia e\ndif\u00edcil de inst\u00e2ncias\n\nInst. Gap (%) LB sem cortes Inst. Gap (%) LB sem cortes\n26 0,4 55094,8 51 0,61 50180\n27 0,11 83451 52 0,17 67007,6\n28 0 148668 53 0,07 123616\n29 0,17 97968,58 54 0,17 82399,05\n30 0,1 133589,82 55 0,75 97045,74\n31 0,46 116841,87 56 19,67 79544,13\n32 0,23 120766,8 57 0,2 88889,15\n33 1,73 293246,87 58 0,39 203281,1\n34 0,3 220066,3 59 0,45 186941,49\n35 0,18 274892,8 60 0,66 198809,16\n36 0,32 119778,25 61 0,43 93455\n37 0,16 86156 62 0,72 65378,2\n38 0,09 117979,47 63 0,7 75215,52\n39 0,12 67728,74 64 0,46 52877,22\n40 0,51 109497,05 65 0,45 79385,17\n41 0,34 134567,68 66 0,29 114427\n42 0,21 197642,4 67 0 174572\n43 0,42 185355,35 68 0,32 169679,97\n44 0,6 135088,65 69 0,18 100860,8\n45 0,27 106755,53 70 0,49 72377,1\n46 0,24 121003,48 71 0,27 98697,57\n47 0,88 78594,17 72 0,91 54223,89\n48 0,08 107885,56 73 0,56 64865,47\n49 0,6 143592,4 74 0,58 81056,56\n50 0,18 102285,45 75 0,28 139115,42\n\nM\u00e9dia 0,35 1,19\n\n\n\n112\n\nTabela A.15: Formula\u00e7\u00e3o com Gera\u00e7\u00e3o de Colunas, resultados da raiz para as inst\u00e2ncias da\nclasse mais dif\u00edcil\n\nInst. Gap (%) LB sem cortes\n101 0,07 34159,82\n102 0,30 44132\n103 0,00 78462\n104 17,37 54825,13\n105 17,36 74041,6\n106 35,20 64167,66\n107 0,24 57513,9\n108 13,55 137408\n109 7,69 125100,5\n110 0,78 140606,2\n111 1,08 61891,4\n112 7,31 46505,57\n113 0,59 52146,83\n114 0,48 38787,72\n115 1,84 56055,8\n116 0,93 76093,32\n117 0,17 106377,3\n118 0,71 102351,8\n119 0,86 66084,2\n120 2,00 50716,94\n121 0,64 58264,79\n122 1,48 38153,19\n123 5,51 41825,73\n124 1,50 57389,07\n125 0,86 87480,38\n\nM\u00e9dia 4,74\n\n\n\n113\n\nTabela A.16: Formula\u00e7\u00e3o acumulada nas rotas e arredondado com custo de estouro de 999999,\ncom a classe mais dif\u00edcil de inst\u00e2ncias, raiz e resultado final\n\nRaiz Resultado Final\nGap Tempo Gap Gap No\n\nInst. LB (%) (s) LB Final LB(%) UB Final UB(%) de n\u00f3s\n101 32126,23 6,02 720 33064,25 3,28 34376 0,56 301140\n102 43824,37 0,99 164,3 44264 0,00 44264 0,00 72040\n103 76874,24 2,02 720 77183,66 1,63 78558 0,12 269112\n104 53885 18,79 720 54044,22 18,55 66766 0,62 199853\n105 72206,08 19,41 720 72575,59 19,00 estouro 199475\n106 60319,15 39,08 720 60711,79 38,69 estouro 194302\n107 57244,72 0,71 169,58 57654 0,00 57654 0,00 37823\n108 135025,7 15,05 720 135850,7 14,53 162456 2,21 182994\n109 124260,2 8,31 720 124754,3 7,95 141948 4,74 172699\n110 140301,4 1,00 720 140990,8 0,51 144116 1,70 137255\n111 62153,91 0,66 720 62244,07 0,52 62984 0,66 120451\n112 46108,83 8,10 720 46238,46 7,84 55436 10,49 109754\n113 52286,3 0,32 21,95 52456 0,00 52456 0,00 2869\n114 38974 0,00 1,52 38974 0,00 38974 0,00 0\n115 55997,74 1,94 720 56329,62 1,36 58168 1,86 125802\n116 75437,83 1,78 720 75994,63 1,05 78904 2,73 132395\n117 106375,3 0,18 720 106377,3 0,17 108154 1,49 109139\n118 102004,7 1,05 720 102760,1 0,31 103132 0,05 151485\n119 65887,32 1,16 720 66449,36 0,31 66658 0,00 118034\n120 50343,53 2,72 720 50782,08 1,87 52486 1,42 137046\n121 58291,56 0,60 174,84 58642 0,00 58642 0,00 67425\n122 38317,51 1,06 720 38555,12 0,45 38748 0,05 137429\n123 41540,18 6,15 720 41744,65 5,69 48820 10,29 111636\n124 57434,82 1,42 720 57690,46 0,98 58650 0,67 156713\n125 87326,7 1,04 720 87545,65 0,79 88580 0,39 160874\n\nM\u00e9dia 5,58 597,3 5,02 1,74 136310\n\n\n\n114\n\nTabela A.17: Formula\u00e7\u00e3o acumulada nos locais e arredondado com custo de estouro de 999999,\ncom a classe mais dif\u00edcil de inst\u00e2ncias, raiz e resultado final\n\nRaiz Resultado Final\nGap Tempo Gap Gap No\n\nInst. LB (%) (s) LB Final LB(%) UB Final UB(%) de n\u00f3s\n101 32194,57 5,82 720 33927,81 0,75 34376 0,56 494835\n102 43915,93 0,79 14,52 44245,12 0,04 44264 0,00 3495\n103 76955 1,92 115,47 78452 0,01 78462 0,00 62471\n104 53781,42 18,95 720 53937,48 18,71 estouro estouro 294769\n105 72393,72 19,20 720 72546,99 19,03 estouro estouro 195408\n106 60513,07 38,89 720 60808,09 38,59 estouro estouro 235903\n107 57176,19 0,83 81,3 57654 0,00 57654 0,00 25845\n108 134883,9 15,14 720 135483,1 14,76 estouro estouro 302732\n109 124236,1 8,33 720 124966,1 7,79 152884 12,81 357435\n110 140573,7 0,80 720 140808 0,64 145620 2,76 332449\n111 61889,27 1,09 580,31 62562,36 0,01 62570 0,00 194005\n112 46139,91 8,04 720 46284,31 7,75 51238 2,12 218985\n113 52258,59 0,38 12,94 52449,23 0,01 52456 0,00 2124\n114 38929,83 0,11 1,59 38954,96 0,05 38974 0,00 136\n115 55915,77 2,09 720 56110,15 1,75 78328 37,16 264202\n116 75680,49 1,46 720 75942,68 1,12 104152 35,61 259430\n117 106377 0,17 720 106377,3 0,17 106778 0,20 363284\n118 102020,7 1,03 720 102749,1 0,32 103460 0,37 388177\n119 65849,98 1,21 720 66163,63 0,74 66846 0,28 240957\n120 50372,18 2,67 720 50814,58 1,81 56504 9,18 283769\n121 58256,58 0,66 15,31 58605,64 0,06 58642 0,00 3012\n122 38236,58 1,27 224,27 38723,33 0,01 38728 0,00 66943\n123 41488,22 6,27 720 41714,3 5,76 57452 29,79 236298\n124 57415,83 1,45 720 58053,97 0,36 58286 0,04 268062\n125 87332,86 1,03 720 87684,22 0,63 88896 0,74 193218\n\nM\u00e9dia 5,58 531,4 4,84 6,27 211518\n\n\n\n115\n\nTabela A.18: Heur\u00edstica baseada em Gera\u00e7\u00e3o de Colunas, com as formula\u00e7\u00f5es acumuladas nas\nrotas e locais, com estouro e sem estouro, gap UB\n\nGap UB (%) Acumulado nos Locais Acumulado nas Rotas\nInst\u00e2ncia Colunas Estouro Sem estouro Estouro Sem estouro\n\n101 101 0,56 0,56 0,56 0,56\n102 95 0,00 0,00 0,00 0,00\n103 99 0,00 0,00 0,00 0,00\n104 479 estouro SEM estouro SEM\n105 590 estouro SEM estouro SEM\n106 546 estouro SEM estouro SEM\n107 184 0,08 0,08 0,08 0,08\n108 284 estouro SEM estouro SEM\n109 352 estouro SEM estouro SEM\n110 269 0,00 0,00 0,09 0,95\n111 340 0,67 0,67 0,67 0,68\n112 402 estouro SEM estouro SEM\n113 276 0,00 0,00 0,00 0,06\n114 148 0,00 0,00 0,00 0,00\n115 380 0,10 0,17 0,10 SEM\n116 320 0,00 0,00 0,00 1,31\n117 199 0,03 0,03 0,03 0,82\n118 290 0,02 0,02 0,02 0,02\n119 250 estouro SEM estouro SEM\n120 234 estouro SEM estouro SEM\n121 198 0,00 0,00 0,00 0,00\n122 251 0,00 0,00 0,00 0,00\n123 390 estouro SEM estouro SEM\n124 381 0,14 0,14 0,14 SEM\n125 315 0,22 0,22 0,22 1,18\n\nM\u00e9dia 294,92 0,11 0,12 0,12 0,40\n\n\n\n116\n\nB ARQUIVO DE CONFIGURA\u00c7\u00c3O DO SOFTWARE\n\nSegue abaixo a lista de par\u00e2metros presentes no arquivo de configura\u00e7\u00e3o e seus respecti-\n\nvos significados:\n\nPERC_LOTE_MAX_EQUIV_LOTE_MIN: Percentagem do lote m\u00e1ximo equivalente ao valor\n\ndo lote m\u00ednimo. S\u00f3 \u00e9 usado quando o valor do lote m\u00ednimo \u00e9 igual \u00e0 zero, para substitu\u00ed-lo.\n\nNUMERO_DIAS_SUB_PERIODO: Numero de dias de cada subper\u00edodo.\n\nLIMITE_TEMPO_OTIMIZACAO_INICIAL_SEG: Tempo de otimiza\u00e7\u00e3o (em segundos) usado\n\npara gerar uma solu\u00e7\u00e3o inicial para o modelo.\n\nLIMITE_TEMPO_OTIMIZACAO_LOCAL_SEG: Tempo de otimiza\u00e7\u00e3o (em segundos) usado\n\npara executar cada Busca Local por PIM. S\u00f3 usado caso a solu\u00e7\u00e3o inicial n\u00e3o seja \u00f3tima.\n\nLIMITE_TEMPO_OTIMIZACAO_TOTAL_SEG: Tempo total de otimiza\u00e7\u00e3o (em segundos).\n\nLIMITE_TEMPO_OTIMIZACAO_FINAL: Tempo de execu\u00e7\u00e3o do otimizador com as vari\u00e1veis\n\nde viola\u00e7\u00e3o f\u00edsica fixadas. (em segundos).\n\nCUSTO_VIOLACAO_META_BRASIL: Custo default por violar a meta Brasil.\n\nRAZAO_ENTRE_TAMANHOS_LOTE: Caso a rota n\u00e3o tenha lotes, estes s\u00e3o calculados mul-\n\ntiplicando este par\u00e2metro pelo lote m\u00ednimo at\u00e9 atingir o tamanho m\u00e1ximo de lotes por rota ou\n\nat\u00e9 atingir o lote m\u00e1ximo da rota.\n\nGRANULARIDADE_TAMANHOS_LOTE: For\u00e7a os lotes a serem m\u00faltiplos deste valor.\n\nCUSTO_FIXO_ADICIONAL_LOTE_ROTA: Custo fixo adicional ao lote da rota para evitar\n\nque a rota tenha custo zero de envio de lote.\n\nNUMERO_DIVISOES_PERIODO_OTIMIZADOR: Diz a quantidade de divis\u00f5es que ter\u00e1 o\n\nhorizonte na Busca Local por PIM.\n\nVAZAO_MUDA_POR_PERIODO: Diz se a vaz\u00e3o muda por per\u00edodo. Colocar s/n.\n\nEXECUTAR_SIMULADOR: Diz se o simulador do modelo ser\u00e1 executado. Colocar s/n.\n\n\n\n117\n\nNUMERO_MAXIMO_LOTES: N\u00famero m\u00e1ximo de lotes por rota.\n\nLOTE_MINIMO_EXTERIOR: Valor do lote m\u00ednimo nas rotas com liga\u00e7\u00e3o com o exterior.\n\nLOTE_MAXIMO_MINIMO: Menor valor aceito para o lote m\u00e1ximo. Caso algum lote m\u00e1ximo\n\nseja menor que este valor, ser\u00e1 substitu\u00eddo pelo mesmo.\n\nMELHORA_MINIMA_LOCAL_BRANCH: Se a nova solu\u00e7\u00e3o n\u00e3o for melhor que a solu\u00e7\u00e3o\n\nanterior multiplicada por este par\u00e2metro, a Busca Local por MIP para.\n\nCUSTO_DEFAULT_IMPORTA_EXPORTA: Caso o custo de importa\u00e7\u00e3o/exporta\u00e7\u00e3o de alguma\n\nrota seja zero, ser\u00e1 substitu\u00eddo por este valor.\n\nLIMITE_FISICO_MAXIMO_DEFAULT: Caso o limite f\u00edsico m\u00e1ximo de algum local seja zero,\n\nser\u00e1 substitu\u00eddo por este valor.\n\nLIMITE_OPERAC_MAXIMO_DEFAULT: Caso o limite operacional m\u00e1ximo de algum local\n\nseja zero, ser\u00e1 substitu\u00eddo por este valor.\n\nCUSTO_FORA_FISICO_DEFAULT: Caso o limite operacional m\u00e1ximo de algum local seja\n\nzero, ser\u00e1 substitu\u00eddo por este valor.\n\nCUSTO_FORA_OPERACIONAL_DEFAULT: Usado quando o custo em quest\u00e3o n\u00e3o \u00e9 forne-\n\ncido pelo xml.\n\nCUSTO_CONCENTRACAO_ABASTECIMENTO: Usado quando a capacidade f\u00edsica m\u00e1xima\n\nfor igual a zero.\n\nGERAR_ARQUIVOS_DE_LOG: Arquivos com os logs do otimizador. Colocar s/n.\n\nGERAR_ARQUIVOS_LP: Arquivos com os modelos matem\u00e1ticos rodados pelo otimizador.\n\nColocar s/n.\n\nGERAR_VISUALIZACAO: Gera os arquivos usados na visualiza\u00e7\u00e3o da solu\u00e7\u00e3o pelo Excel.\n\nColocar s/n.\n\nVALOR_CUSTO_DEGRADACAO_ALTO: Valor para o custo de degrada\u00e7\u00e3o alto.\n\nVALOR_CUSTO_DEGRADACAO_MEDIO: Valor para o custo de degrada\u00e7\u00e3o m\u00e9dio.\n\nVALOR_CUSTO_DEGRADACAO_BAIXO: Valor para o custo de degrada\u00e7\u00e3o baixo.\n\nOTIMIZA_SOLUCAO_PARTIDA: Op\u00e7\u00e3o para otimizar a solu\u00e7\u00e3o de partida. Colocar s/n.\n\nLOTES_BINARIOS: Op\u00e7\u00e3o para permitir lotes bin\u00e1rios. Colocar s/n.\n\nAUMENTO_LOTE_DEFAULT: Percentual de aumento de capacidade default (em cima do\n\nmaior lote m\u00ednimo das rotas que chegam e saem do local).\n\nDIA_LIMITE_VIOLACAO_FISICA: Dia limite para permitir viola\u00e7\u00e3o (depois desse dia, vio-\n\nla\u00e7\u00e3o n\u00e3o \u00e9 mais permitida).\n\nDentre todos os par\u00e2metros, somente os par\u00e2metros abaixo s\u00e3o alter\u00e1veis pelo usu\u00e1rio:\n\n\n\n118\n\nNUMERO_DIAS_SUB_PERIODO\n\nLIMITE_TEMPO_OTIMIZACAO_INICIAL_SEG\n\nLIMITE_TEMPO_OTIMIZACAO_LOCAL_SEG\n\nLIMITE_TEMPO_OTIMIZACAO_TOTAL_SEG\n\nLIMITE_TEMPO_OTIMIZACAO_FINAL\n\nRAZAO_ENTRE_TAMANHOS_LOTE\n\nGRANULARIDADE_TAMANHOS_LOTE\n\nNUMERO_MAXIMO_LOTES\n\nMELHORA_MINIMA_LOCAL_BRANCH\n\nGERAR_ARQUIVOS_DE_LOG\n\nGERAR_ARQUIVOS_LP\n\nGERAR_VISUALIZACAO\n\nVALOR_CUSTO_DEGRADACAO_ALTO\n\nVALOR_CUSTO_DEGRADACAO_MEDIO\n\nVALOR_CUSTO_DEGRADACAO_BAIXO\n\nOTIMIZA_SOLUCAO_PARTIDA\n\nDIA_LIMITE_VIOLACAO_FISICA\n\n\n\n119\n\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS\n\nABSI, N.; KEDAD-SIDHOUM, S. Mip-based heuristics for multi-item capacitated lot-sizing\n\nproblem with setup times and shortage costs. RAIRO - Operations Research, v. 41, p. 171\u2013\n\n192. ISSN 1290-3868. doi: 10.1051/ro:2007014. URL http://www.rairo-ro.org/\n\naction/article_S0399055907000145, 2007.\n\nAIZEMBERG, L.; KRAMER, H. H.; PESSOA, A. A.; UCHOA, E. Formulations for\n\na problem of petroleum transportation. European Journal of Operational Research,\n\nv. 237, n. 1, p. 82 \u2013 90. ISSN 0377-2217. doi: http://dx.doi.org/10.1016/j.ejor.\n\n2014.01.036. URL http://www.sciencedirect.com/science/article/pii/\n\nS0377221714000575, 2014.\n\nALVES, V. R. F. M. Programa\u00e7\u00e3o de transfer\u00eancia de derivados de petr\u00f3leo em rede dutovi\u00e1ria\n\nusando algoritmo gen\u00e9tico. PhD thesis, Universidade Federal do Rio de Janeiro, 2007.\n\nBAHL, H. C. Column generation based heuristic algorithm for multi-item scheduling. IIE\n\nTransactions, v. 15, n. 2, p. 136\u2013141. doi: 10.1080/05695558308974624, 1983.\n\nBANASZEWSKI, R. F. Mecanismos baseados em leil\u00f5es multiagentes para aplica\u00e7\u00e3o no pro-\n\nblema de planejamento de transfer\u00eancias de produtos no segmento downstream do sistema\n\nlog\u00edstico brasileiro de petr\u00f3leo. PhD thesis, Universidade Tecnol\u00f3gia Federal do Paran\u00e1,\n\n2012.\n\nBANASZEWSKI, R.; TACLA, C.; PEREIRA, F.; ARRUDA, L.; ENEMBRECK, F. Planning\n\ntransport of crude oil derivatives with simultaneous auctions. Systems Man and Cybernetics\n\n(SMC), 2010 IEEE International Conference on, p. 2820\u20132827. doi: 10.1109/ICSMC.2010.\n\n5641906, 2010.\n\nBAZARAA, M.; JARVIS, J.; SHERALI, H. Linear Programming and Network Flows. Wi-\n\nley. ISBN 9780471703761. URL http://books.google.com.br/books?id=\n\nFykSXKGEeZQC, 2011.\n\nhttp://www.rairo-ro.org/action/article_S0399055907000145\nhttp://www.rairo-ro.org/action/article_S0399055907000145\nhttp://www.sciencedirect.com/science/article/pii/S0377221714000575\nhttp://www.sciencedirect.com/science/article/pii/S0377221714000575\nhttp://books.google.com.br/books?id=FykSXKGEeZQC\nhttp://books.google.com.br/books?id=FykSXKGEeZQC\n\n\n120\n\nBELLMAN, R. E.; DREYFUS, S. E. Applied dynamic programming, volume 7962. Princeton\n\nUniversity Press, 1966.\n\nBOSCHETTO, S. N.; MAGAT\u00c3O, L.; BRONDANI, W. M.; NEVES-JR, F.; ARRUDA, L. V. R.;\n\nBARBOSA-P\u00d3VOA, A. P. F. D.; RELVAS, S. An operational scheduling model to product\n\ndistribution through a pipeline network. Industrial &amp; Engineering Chemistry Research, v.\n\n49, n. 12, p. 5661\u20135682. doi: 10.1021/ie900685v. URL http://pubs.acs.org/doi/\n\nabs/10.1021/ie900685v, 2010.\n\nBRITO, R. C. Um simulador multiagente para auxiliar decis\u00f5es log\u00edsticas de aloca\u00e7\u00e3o de petr\u00f3-\n\nleo em portos, 2008.\n\nBRITO, R. C.; TACLA, C. A. Um sistema multiagente auto-interessado para auxiliar nas de-\n\ncis\u00f5es log\u00edsticas de aloca\u00e7\u00e3o de petr\u00f3leo em portos. III Workshop Escola de Sistemas de\n\nAgentes para Ambientes Colaborativos, Caxias do Sul, Brasil, 2009.\n\nBROWNLEE, J. Clever Algorithms: Nature-Inspired Programming Recipes. LULU\n\nPress. ISBN 9781446785065. URL http://books.google.com.br/books?id=\n\nSESWXQphCUkC, 2011.\n\nCAMPONOGARA, E. A-Teams para um problema de transporte de derivados de petr\u00f3leo. PhD\n\nthesis, Universidade Estadual de Campinas, 1995.\n\nCHOI, E.; TCHA, D. W. A column generation approach to the heterogeneous fleet vehicle\n\nrouting problem. Computers &amp; Operations Research, v. 34, n. 7, p. 2080 \u2013 2095, 2007.\n\nCHRISTIANSEN, M.; FAGERHOLT, K.; NYGREEN, B.; RONEN, D. Ship routing and sche-\n\nduling in the new millennium. European Journal of Operational Research, v. , 2012.\n\nCHRISTIANSEN, M.; FAGERHOLT, K.; RONEN, D. Ship routing and scheduling: Status and\n\nperspectives. Transportation Science, v. 38, n. 1, p. 1\u201318, 2004.\n\nCOLLETTE, Y.; SIARRY, P. Multiobjective Optimization: Principles and Case Studies. Deci-\n\nsion Engineering. Springer. ISBN 9783540401827. URL http://books.google.com.\n\nbr/books?id=XNYF4hltoF0C, 2003.\n\nDE LA CRUZ, J.; DE ANDRES-TORO, B.; HERR\u00c1N, A.; PORTA, E. B.; BLANCO, P. F.\n\nMultiobjective optimization of the transport in oil pipelines networks. Emerging Technologies\n\nhttp://pubs.acs.org/doi/abs/10.1021/ie900685v\nhttp://pubs.acs.org/doi/abs/10.1021/ie900685v\nhttp://books.google.com.br/books?id=SESWXQphCUkC\nhttp://books.google.com.br/books?id=SESWXQphCUkC\nhttp://books.google.com.br/books?id=XNYF4hltoF0C\nhttp://books.google.com.br/books?id=XNYF4hltoF0C\n\n\n121\n\nand Factory Automation, 2003. Proceedings. ETFA\u201903. IEEE Conference, volume 1, p. 566\u2013\n\n573. IEEE, 2003.\n\nDE SOUZA, T. C. N. Algoritmo Evolucion\u00e1rio para a Distribui\u00e7\u00e3o de Produtos de Petr\u00f3leo\n\npor Redes de Polidutos. PhD thesis, Universidade Federal do Rio Grande do Norte, 2010.\n\nDESAULNIERS, G.; DESROSIERS, J.; SOLOMON, M. M. Column generation, volume 5.\n\nSpringer, 2005.\n\nD\u00d3RA, P.; LOPES, R.; CID, E. Mas-scm: Prot\u00f3tipo de ambiente integrado para solu\u00e7\u00f5es\n\nlog\u00edsticas com uso de multiagentes - levantamento de requisitos. Relat\u00f3rio t\u00e9cnico, CENPES-\n\nPetrobras, 2009.\n\nDOS SANTOS CARDOSO, L. Log\u00edstica do petr\u00f3leo: transporte e armazenamento. Inter-\n\nci\u00eancia. ISBN 9788571931015. URL http://books.google.com.br/books?id=\n\nYRSyAAAACAAJ, 2004.\n\nFAGERHOLT, K.; RONEN, D. Bulk ship routing and scheduling: solving practical problems\n\nmay provide better results. Maritime Policy &amp; Management, v. 40, n. 1, p. 48\u201364, 2013.\n\nFASANO, G. Mip-based heuristic for non-standard 3d-packing problems. 4OR, v. 6, n. 3, p.\n\n291\u2013310. ISSN 1619-4500. doi: 10.1007/s10288-007-0049-1. URL http://dx.doi.\n\norg/10.1007/s10288-007-0049-1, 2008.\n\nFERREIRA, M. Downstream transporte. Relat\u00f3rio t\u00e9cnico, Universidade Federal do Cear\u00e1,\n\n2000.\n\nFURINI, F.; MALAGUTI, E.; DURAIN, R. M.; PERSIANI, A.; TOTH, P. A column generation\n\nheuristic for the two-dimensional two-staged guillotine cutting stock problem with multiple\n\nstock size. European Journal of Operational Research, v. 218, n. 1, p. 251 \u2013 260. ISSN\n\n0377-2217. doi: 10.1016/j.ejor.2011.10.018, 2012.\n\nGHIANI, G.; LAPORTE, G.; MUSMANNO, R. Introduction to Logistics Systems\n\nPlanning and Control. Wiley Interscience Series in Systems and Optimization. Wi-\n\nley. ISBN 9780470091654. URL http://books.google.com.br/books?id=\n\nbVUO1BaIHu8C, 2004.\n\nGOMES, C. Gest\u00e3o da cadeia de suprimentos integrada \u00e0 tecnologia da informa\u00e7\u00e3o. Cengage\n\nLearning Editores, 2004.\n\nhttp://books.google.com.br/books?id=YRSyAAAACAAJ\nhttp://books.google.com.br/books?id=YRSyAAAACAAJ\nhttp://dx.doi.org/10.1007/s10288-007-0049-1\nhttp://dx.doi.org/10.1007/s10288-007-0049-1\nhttp://books.google.com.br/books?id=bVUO1BaIHu8C\nhttp://books.google.com.br/books?id=bVUO1BaIHu8C\n\n\n122\n\nHARLAND, C. Supply chain management: relationships, chains and networks. British Journal\n\nof management, v. 7, n. 1, p. 63\u201380, 2005.\n\nHENNIG, F.; NYGREEN, B.; L\u00dcBBECKE, M. E. Nested column generation applied to the\n\ncrude oil tanker routing and scheduling problem with split pickup and split delivery. Naval\n\nResearch Logistics (NRL), v. 59, n. 3-4, p. 298\u2013310, 2012.\n\nJAMES, R. J.; ALMADA-LOBO, B. Single and parallel machine capacitated lotsizing and sche-\n\nduling: New iterative mip-based neighborhood search heuristics. Computers &amp; Operations\n\nResearch, v. 38, n. 12, p. 1816\u20131825, 2011.\n\nJONCOUR, C.; MICHEL, S.; SADYKOV, R.; SVERDLOV, D.; VANDERBECK, F. Column\n\ngeneration based primal heuristics. Electronic Notes in Discrete Mathematics, v. 36, n. 0, p.\n\n695 \u2013 702. ISSN 1571-0653. doi: 10.1016/j.endm.2010.05.088, 2010.\n\nKLEMMT, A.; WEIGERT, G.; ALMEDER, C.; MONCH, L. A comparison of mip-based\n\ndecomposition techniques and vns approaches for batch scheduling problems. Simulation\n\nConference (WSC), Proceedings of the 2009 Winter, p. 1686\u20131694. IEEE, 2009.\n\nLEE, H.; PINTO, J. M.; GROSSMANN, I. E.; PARK, S. Mixed-integer linear programming\n\nmodel for refinery short-term scheduling of crude oil unloading with inventory management.\n\nIndustrial &amp; Engineering Chemistry Research, v. 35, n. 5, p. 1630\u20131641, 1996.\n\nLIPORACE, F. S. Planejadores para transporte em polidutos. PhD thesis, PUC-RJ, 2005.\n\nLOHATEPANONT, M.; KONGSERMSUP, V. Model and algorithm for bulk cargo ship routing\n\nand scheduling under port congestion condition. Transportation Research Board 91st Annual\n\nMeeting, 2012.\n\nLOPES, T. M. T.; CIR\u00c9, A. A.; DE SOUZA, C. C.; MOURA, A. V. A hybrid model for a\n\nmultiproduct pipeline planning and scheduling problem. Constraints, v. 15, n. 2, p. 151\u2013189,\n\n2010.\n\nMAGAT\u00c3O, L.; ARRUDA, L.; NEVES JR, F. A mixed integer programming approach for\n\nscheduling commodities in a pipeline. Computers &amp; Chemical Engineering, v. 28, n. 1U?2, p.\n\n171\u2013185. ISSN 0098-1354. doi: 10.1016/S0098-1354(03)00165-0. URL http://www.\n\nsciencedirect.com/science/article/pii/S0098135403001650, 2004.\n\nhttp://www.sciencedirect.com/science/article/pii/S0098135403001650\nhttp://www.sciencedirect.com/science/article/pii/S0098135403001650\n\n\n123\n\nMANIEZZO, V.; ST\u00dcTZLE, T.; VOSS, S. Matheuristics: Hybridizing Metaheu-\n\nristics and Mathematical Programming. Annals of Information Systems. Springer-\n\nVerlag. ISBN 9781441913067. URL http://books.google.com.br/books?id=\n\n3uN95LwxRlAC, 2009.\n\nMENDES, A. B. Programa\u00e7\u00e3o de frota de apoio a opera\u00e7\u00f5es \"offshore\"sujeita \u00e0 requisi\u00e7\u00e3o\n\nde m\u00faltiplas embarca\u00e7\u00f5es para uma mesma tarefa. PhD thesis, Universidade de S\u00e3o Paulo,\n\n2007.\n\nMERCE, C.; FONTAN, G. Mip-based heuristics for capacitated lotsizing problems. Internati-\n\nonal Journal of Production Economics, v. 85, n. 1, p. 97 \u2013 111. ISSN 0925-5273. doi: http:\n\n//dx.doi.org/10.1016/S0925-5273(03)00090-2. URL http://www.sciencedirect.\n\ncom/science/article/pii/S0925527303000902. Planning and Control of Pro-\n\nductive Systems, 2003.\n\nMILIDI\u00da, R.; PESSOA, A.; LABER, E. Pipeline transportation of petroleum products with no\n\ndue dates. LATIN 2002: Theoretical Informatics, v. , p. 1\u201310, 2002.\n\nMILIDI\u00da, R. L.; PESSOA, A. A. Complexidade de problemas de planejamento de distribui-\n\n\u00e7\u00e3o em oleodutos. Relat\u00f3rio t\u00e9cnico, Departamento de Inform\u00e1tica, Pontif\u00edcia Universidade\n\nCat\u00f3lica do Rio de Janeiro, 2001.\n\nMILIDI\u00da, R. L.; PESSOA, A. A.; BRACONI, V.; LABER, E. S.; REY, P. A. Um algoritmo\n\ngrasp para o problema de transporte de derivados de petr\u00f3leo em oleodutos. Proceedings do\n\nXXXIII Simp\u00f3sio Brasileiro de Pesquisa Operacional, 2001.\n\nMOCCIA, L.; CORDEAU, J. F.; MONACO, M. F.; SAMMARRA, M. A column generation\n\nheuristic for a dynamic generalized assignment problem. Computers &amp; Operations Research,\n\nv. 36, n. 9, p. 2670 \u2013 2681. ISSN 0305-0548. doi: 10.1016/j.cor.2008.11.022, 2009.\n\nMOHAMMADI, M.; FATEMI GHOMI, S.; KARIMI, B.; TORABI, S. Mip-based heuristics\n\nfor lotsizing in capacitated pure flow shop with sequence-dependent setups. International\n\nJournal of Production Research, v. 48, n. 10, p. 2957\u20132973, 2010.\n\nMORO, L. F.; PINTO, J. M. Mixed-integer programming approach for short-term crude oil\n\nscheduling. Industrial &amp; engineering chemistry research, v. 43, n. 1, p. 85\u201394, 2004.\n\nhttp://books.google.com.br/books?id=3uN95LwxRlAC\nhttp://books.google.com.br/books?id=3uN95LwxRlAC\nhttp://www.sciencedirect.com/science/article/pii/S0925527303000902\nhttp://www.sciencedirect.com/science/article/pii/S0925527303000902\n\n\n124\n\nMOURGAYA, M.; VANDERBECK, F. Column generation based heuristic for tactical planning\n\nin multi-period vehicle routing. European Journal of Operational Research, v. 183, n. 3, p.\n\n1028 \u2013 1041. ISSN 0377-2217. doi: 10.1016/j.ejor.2006.02.030, 2007.\n\nNOVAES, A. Log\u00edstica e gerenciamento da cadeia de distribui\u00e7\u00e3o: estrat\u00e9gia, opera\u00e7\u00e3o e\n\navalia\u00e7\u00e3o. Ed. Campus. ISBN 9788535208191. URL http://books.google.com.\n\nbr/books?id=rfacAAAACAAJ, 2001.\n\nPENNA, L. A.; FILHO, N. S.; SOUSA, C. A. D. Petr\u00f3leo no Brasil. E-Papers. ISBN 85-7650-\n\n006-X, 2004.\n\nQUINTAS, H.; QUINTANS, L. C. P. A hist\u00f3ria do petr\u00f3leo no Brasil e no mundo. Cole\u00e7\u00e3o\n\nDireito do petr\u00f3leo. IBP. ISBN 9788599960875. URL http://books.google.com.\n\nbr/books?id=jC8XSgAACAAJ, 2010.\n\nREJOWSKI JR, R.; PINTO, J. M. Efficient milp formulations and valid cuts for multiproduct\n\npipeline scheduling. Computers &amp; chemical engineering, v. 28, n. 8, p. 1511\u20131528, 2004.\n\nROCHA, R. Petroleum Supply Planning: Models, Reformulations and Algorithms. PhD thesis,\n\nDepartamento de Inform\u00e1tica, Pontif\u00edcia Universidade Cat\u00f3lica do Rio de Janeiro, 2010.\n\nROCHA, R.; GROSSMANN, I.; POGGI DE ARAG\u00c3O, M. Cascading knapsack inequalities:\n\nreformulation of a crude oil distribution problem. Annals of Operations Research, v. , p. 1\u201318,\n\n2011.\n\nROTHLAUF, F. Design of Modern Heuristics: Principles and Application. Natural compu-\n\nting. Springer Berlin Heidelberg. ISBN 9783540729624. URL http://books.google.\n\ncom.br/books?id=rqEI_u6PEToC, 2011.\n\nSIEGEL, J.; SHIM, J. Operations Management, Hauppauge, New York: Barron\u2019s Educational\n\nSeries. Inc, 1999.\n\nTAHA, H. A. Operations Research: An Introduction. Prentice Hall Internatio-\n\nnal. ISBN 9780131889231. URL http://books.google.com.br/books?id=2_\n\nWJSgAACAAJ, 2007.\n\nTRANSPETRO. Transpetro - relat\u00f3rio anual. Relat\u00f3rio t\u00e9cnico, Transpetro, 2012.\n\nhttp://books.google.com.br/books?id=rfacAAAACAAJ\nhttp://books.google.com.br/books?id=rfacAAAACAAJ\nhttp://books.google.com.br/books?id=jC8XSgAACAAJ\nhttp://books.google.com.br/books?id=jC8XSgAACAAJ\nhttp://books.google.com.br/books?id=rqEI_u6PEToC\nhttp://books.google.com.br/books?id=rqEI_u6PEToC\nhttp://books.google.com.br/books?id=2_WJSgAACAAJ\nhttp://books.google.com.br/books?id=2_WJSgAACAAJ\n\n\n125\n\nVAZ, A. V.; OLIVEIRA, K. N.; DAMASCENO, P. E. G. O modal dutovi\u00e1rio: An\u00e1lise da impor-\n\nt\u00e2ncia e considera\u00e7\u00f5es sobre suas principais caracter\u00edsticas. Relat\u00f3rio t\u00e9cnico, Universidade\n\nFederal do Cear\u00e1, 2000.\n\nWANG, S.; MENG, Q. Liner ship route schedule design with sea contingency time and port\n\ntime uncertainty. Transportation Research Part B: Methodological, v. 46, n. 5, p. 615\u2013633,\n\n2012.\n\nWOLSEY, L. Integer Programming. A Wiley-Interscience publication. Wiley.\n\nISBN 9780471283669. URL http://books.google.com.br/books?id=\n\nx7RvQgAACAAJ, 1998.\n\nWOOLDRIDGE, M. An Introduction to MultiAgent Systems. Wiley. ISBN 9780470519462.\n\nURL http://books.google.com.br/books?id=X3ZQ7yeDn2IC, 2009.\n\nYAVUZ, B.; ARAS, N.; KUBAN, I.; ERSOY, C. A column generation based heuristic for\n\nsensor placement, activity scheduling and data routing in wireless sensor networks. European\n\nJournal of Operational Research, v. 207, n. 2, p. 1014 \u2013 1026. ISSN 0377-2217. doi: 10.\n\n1016/j.ejor.2010.05.020, 2010.\n\nYIN, S.; NISHI, T.; IZUNO, T. A heuristic approach for international crude oil transportation\n\nscheduling problems. Journal of Advanced Mechanical Design, Systems, and Manufacturing,\n\nv. 6, n. 5, p. 687\u2013702, 2012.\n\nhttp://books.google.com.br/books?id=x7RvQgAACAAJ\nhttp://books.google.com.br/books?id=x7RvQgAACAAJ\nhttp://books.google.com.br/books?id=X3ZQ7yeDn2IC\n\n\tINTRODU\u00c7\u00c3O\n\tENQUADRAMENTO\n\tMOTIVA\u00c7\u00d5ES\n\tLOG\u00cdSTICA E PETR\u00d3LEO\n\tGERENCIAMENTO DA CADEIA DE SUPRIMENTOS\n\tCUSTOS DA LOG\u00cdSTICA BRASILEIRA\n\tBREVE HIST\u00d3RICO DA IND\u00daSTRIA BRASILEIRA DE PETR\u00d3LEO (CRONOLOGIA)\n\tCOMPLEXIDADE DO PROBLEMA ESTUDADO\n\n\tOBJETIVOS\n\tORGANIZA\u00c7\u00c3O DO TRABALHO\n\n\tESTUDO DO PROBLEMA DO PLANEJAMENTO DE MOVIMENTA\u00c7\u00d5ES DE LOTES ATRAV\u00c9S DE UMA REDE LOG\u00cdSTICA MONOPRODUTO E MONOMODAL\n\tREVIS\u00c3O DE LITERATURA\n\tFORMULA\u00c7\u00d5ES PARA O PROBLEMA DO PLANEJAMENTO DE MOVIMENTA\u00c7\u00d5ES DE LOTES ATRAV\u00c9S DE UMA REDE LOG\u00cdSTICA \n\tDADOS DE ENTRADA DO PROBLEMA\n\tFORMULA\u00c7\u00c3O NATURAL\n\tFORMULA\u00c7\u00c3O B\u00c1SICA\n\tKNAPSACK CASCADING\n\tCASCADING ACUMULADO NAS ROTAS E ARREDONDADO\n\tCASCADING ACUMULADO NOS LOCAIS E ARREDONDADO\n\tFORMULA\u00c7\u00c3O PARA GERA\u00c7\u00c3O DE COLUNAS \n\n\tHEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE COLUNAS\n\tPROGRAMA\u00c7\u00c3O DIN\u00c2MICA\n\tPROCEDIMENTO DA HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE COLUNAS  \n\n\tRESULTADOS COMPUTACIONAIS\n\tRESULTADOS COMPUTACIONAIS DAS FORMULA\u00c7\u00d5ES\n\tRESULTADOS COMPUTACIONAIS DA HEUR\u00cdSTICA BASEADA EM GERA\u00c7\u00c3O DE COLUNAS\n\n\tCONCLUS\u00d5ES DESTE CAP\u00cdTULO\n\n\tPROBLEMA DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE PETR\u00d3LEO E DE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA BRASILEIRA DE PETR\u00d3LEO - MALHA BRASIL\n\tPRODUTOS\n\tLOCAIS\n\tMODAIS\n\tCAPACIDADES DE ESTOQUE\n\n\tESTUDO DO PROBLEMA DAS MOVIMENTA\u00c7\u00d5ES DE LOTES DE DERIVADOS DE PETR\u00d3LEO E DE BIOCOMBUST\u00cdVEIS PELA REDE LOG\u00cdSTICA MULTIPRODUTO E MULTIMODAL BRASILEIRA (MALHA BRASIL) \n\tREVIS\u00c3O BIBLIOGR\u00c1FICA\n\tMODELO MATEM\u00c1TICO\n\tBUSCA LOCAL POR PROGRAMA\u00c7\u00c3O INTEIRA MISTA (PIM)\n\tRESULTADOS COMPUTACIONAIS\n\tConstru\u00e7\u00e3o da inst\u00e2ncia base\n\tExperimentos com a busca local por PIM\n\tVisualiza\u00e7\u00e3o da solu\u00e7\u00e3o de uma inst\u00e2ncia baseada na inst\u00e2ncia base\n\n\tCONCLUS\u00d5ES DO CAP\u00cdTULO\n\tMELHORIAS DESEJ\u00c1VEIS\n\n\n\tCONCLUS\u00c3O E TRABALHOS FUTUROS \n\tTABELAS COMPLETAS COM OS RESULTADOS COMPUTACIONAIS DE TODAS AS FORMULA\u00c7\u00d5ES DO ESTUDO DO CAP\u00cdTULO 2 \n\tARQUIVO DE CONFIGURA\u00c7\u00c3O DO SOFTWARE"}]}}}