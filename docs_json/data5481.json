{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.09714"}, {"@name": "filename", "#text": "14704_ulfc123915_tm_Ana_Raquel_Melo.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "UNIVERSIDADE DE LISBOA\nFACULDADE DE CI\u00caNCIAS\nDEPARTAMENTO DE ENGENHARIA GEOGR\u00c1FICA, GEOF\u00cdSICA E ENERGIA\nCi\u00eancias\nULisboa\nDesenvolvimento de um Portal de dados do ambiente marinho\nAna Raquel Duarte Alc\u00e2ntara de Melo\nMestrado em Engenharia Geogr\u00e1fica\nDisserta\u00e7\u00e3o orientada por: Prof. Doutor Jo\u00e3o Catal\u00e3o Doutor R\u00faben Santos\nUNIVERSIDADE DE LISBOA\nFACULDADE DE CI\u00caNCIAS\nDEPARTAMENTO DE ENGENHARIA GEOGR\u00c1FICA, GEOF\u00cdSICA E ENERGIA\nCi\u00eancias\nULisboa\nDesenvolvimento de um Portal de dados do ambiente marinho\nAna Raquel Duarte Alc\u00e2ntara de Melo\nMestrado em Engenharia Geogr\u00e1fica\nTrabalho de disserta\u00e7\u00e3o orientada por:\nProf. Doutor Jo\u00e3o Catal\u00e3o Doutor R\u00faben Santos\nAos meus pais ...\n\u201cPara cultivar a sabedoria, \u00e9 preciso for\u00e7a interior. Sem crescimento interno, \u00e9 dif\u00edcil conquistar a autoconfian\u00e7a e a coragem necess\u00e1rias. Sem elas, a nossa vida se complica. O imposs\u00edvel torna-se poss\u00edvel com a for\u00e7a de vontade.\u201d\nDalai Lama\nAGRADECIMENTOS\nO prop\u00f3sito de concluir o mestrado, em Engenharia Geogr\u00e1fica, concretiza-se com a realiza\u00e7\u00e3o da presente disserta\u00e7\u00e3o. \u00c9 o culminar de dois anos de trabalho, realizado enquanto desenvolvia a minha atividade profissional, durante os quais foi bastante importante o contributo de v\u00e1rias pessoas. Sem o apoio dos meus superiores, colegas, alguns familiares e amigos, n\u00e3o teria conseguido alcan\u00e7ar o objetivo tra\u00e7ado, pelo que, antes de passar a apresentar o trabalho de projeto que desenvolvi, gostaria de deixar umas palavras de apre\u00e7o e gratid\u00e3o.\nAo Prof. Doutor Jo\u00e3o Catal\u00e3o, da Faculdade de Ci\u00eancias da Universidade de Lisboa - DEGGE (Departamento de Engenharia Geogr\u00e1fica, Geof\u00edsica e Energia), e ao Doutor R\u00faben Santos, do Instituto Hidrogr\u00e1fico - divis\u00e3o de Geologia Marinha, agrade\u00e7o a disponibilidade permanente manifestada para assumir a orienta\u00e7\u00e3o desta tese, pelos conhecimentos t\u00e9cnicos partilhados e pelas sugest\u00f5es dadas durante a elabora\u00e7\u00e3o da mesma.\nAo Instituto Hidrogr\u00e1fico, na figura do seu Diretor-Geral, Contra-Almirante Ant\u00f3nio M. C. Coelho C\u00e2ndido, fica o meu agradecimento, por me ter permitido desenvolver o trabalho de investiga\u00e7\u00e3o nesta institui\u00e7\u00e3o, nomeadamente na divis\u00e3o de Geologia Marinha, onde pude contatar e tomar consci\u00eancia sobre a diversidade e volume de dados usados para estudar o ambiente marinho.\nO meu reconhecimento \u00e0 Doutora Aurora Bizarro, chefe de divis\u00e3o da Geologia Marinha do Instituto Hidrogr\u00e1fico, por me ter incentivado a fazer o mestrado. No decorrer destes dois anos, o seu apoio sobre o rumo a dar a este estudo, foi um contributo importante para o desenvolvimento deste trabalho.\n\u00c0 Administra\u00e7\u00e3o dos Portos de Sines e do Algarve, pretendo agradecer a autoriza\u00e7\u00e3o dada para a utiliza\u00e7\u00e3o dos dados do projeto intitulado \u201cCarateriza\u00e7\u00e3o Ambiental da \u00e1rea de expans\u00e3o mar\u00edtima do porto de Sines e regi\u00e3o envolvente\u201d no desenvolvimento desta disserta\u00e7\u00e3o.\nQuero agradecer a toda a equipa, da divis\u00e3o de Geologia Marinha do Instituto Hidrogr\u00e1fico, em particular aos meus colegas de gabinete, Andr\u00e9 Vinhas, Sandra Moreira, Nuno Lapa e M\u00f3nica Ribeiro pelo incentivo, pelo companheirismo, pelas palavras certas nas horas de desalento, pela presen\u00e7a e pelas gargalhadas, ao longo deste percurso.\n\u00c0 minha fam\u00edlia, em especial \u00e0 minha m\u00e3e, quero agradecer todo o seu apoio e constante incentivo, paci\u00eancia e compreens\u00e3o demonstrados ao longo deste per\u00edodo que, muitas vezes, n\u00e3o foi um caminho f\u00e1cil de percorrer, principalmente nas fases mais dif\u00edceis em que desanimei e me faltava a coragem para continuar. Ao meu irm\u00e3o, fica o meu agradecimento pela ajuda e est\u00edmulo para n\u00e3o desistir e concluir o desafio a que me propus. Ao Diogo, meu sobrinho de cinco anos, pela compreens\u00e3o manifestada, sempre que queria brincar com a tia e lhe era dito que n\u00e3o podia porque ela tinha muito trabalho!!\nAo Valter, pela ajuda, amizade, paci\u00eancia e motiva\u00e7\u00e3o que sempre me soube transmitir.\nAos restantes familiares e amigos que sempre me apoiaram, direta ou indiretamente, contribuindo para a supera\u00e7\u00e3o dos obst\u00e1culos, que foram surgindo ao longo desta caminhada.\nA todos os professores e colegas de mestrado, que me acompanharam ao longo do percurso acad\u00e9mico, agrade\u00e7o a forma como souberam transmitir a informa\u00e7\u00e3o e a troca de conhecimentos proporcionada.\nA todos, tendo consci\u00eancia que sozinha nada disto teria sido poss\u00edvel, o meu muito obrigada.\nRESUMO\nEsta disserta\u00e7\u00e3o, intitulada \u201cDesenvolvimento de um Portal de dados do ambiente marinho\u201d, apresenta uma solu\u00e7\u00e3o para a uniformiza\u00e7\u00e3o e disponibiliza\u00e7\u00e3o da informa\u00e7\u00e3o deste tipo de ambiente, espec\u00edfica dos trabalhos realizados no Instituto Hidrogr\u00e1fico. Os grandes volumes de informa\u00e7\u00e3o, com origens, datas e formatos diferentes e com distintos est\u00e1dios de processamento, existentes neste instituto, restringem a sua inser\u00e7\u00e3o numa base de dados uniformizada, o que, consequentemente, limita o acesso da informa\u00e7\u00e3o aos seus utilizadores. Para atingir tal objetivo, foram desenvolvidas ferramentas otimizadas \u00e0 informa\u00e7\u00e3o existente e personalizadas para futuros utilizadores, permitindo a liga\u00e7\u00e3o entre estes e a base de dados com a informa\u00e7\u00e3o harmonizada do ambiente marinho. A sua concretiza\u00e7\u00e3o apoiou-se em dados marinhos adquiridos no projeto \u201cCarateriza\u00e7\u00e3o ambiental da \u00e1rea de expans\u00e3o mar\u00edtima do porto de Sines e regi\u00e3o envolvente\u201d, solicitado pela Administra\u00e7\u00e3o do porto de Sines e coordenado pela divis\u00e3o de Geologia Marinha deste instituto. Este projeto foi realizado por uma equipa multidisciplinar, que envolveu \u00e1reas t\u00e9cnico-cient\u00edficas, tais como a geologia marinha, a qu\u00edmica e polui\u00e7\u00e3o marinha, a hidrografia e a oceanografia. O presente trabalho iniciou-se com o tratamento e an\u00e1lise da informa\u00e7\u00e3o correspondente a estas \u00e1reas, de modo a proceder \u00e0 sua harmoniza\u00e7\u00e3o, visando integr\u00e1-la numa base de dados geogr\u00e1fica. Seguiu-se a sua disponibiliza\u00e7\u00e3o num portal WebSIG, desenvolvido neste trabalho, no qual foram criadas aplica\u00e7\u00f5es e disponibilizadas ferramentas, com o intuito de permitir ao utilizador a consulta dos metadados e a visualiza\u00e7\u00e3o de um conjunto de informa\u00e7\u00e3o selecionada pelo mesmo. Na implementa\u00e7\u00e3o da base de dados e no desenvolvimento do portal, tal como nas ferramentas, utilizou-se software de c\u00f3digo aberto e gratuito, seguindo as diretivas nacionais a incentivar a utiliza\u00e7\u00e3o deste tipo de programas na Administra\u00e7\u00e3o P\u00fablica. O sistema de gest\u00e3o de base de dados relacional usado foi o PostgreSQL, com a extens\u00e3o espacial PostGIS, tendo sido alimentado com a informa\u00e7\u00e3o harmonizada do ambiente marinho. A constru\u00e7\u00e3o de aplica\u00e7\u00f5es e a personaliza\u00e7\u00e3o das ferramentas foram desenvolvidas no servidor de mapas MapServer, sob a framework p.Mapper. Constatou-se interoperabilidade da informa\u00e7\u00e3o geogr\u00e1fica nos referidos programas, o que permite concluir que h\u00e1 compatibilidade entre a base de dados constru\u00edda em PostgreSQL/PostGIS e MapServer, p.Mapper e QGIS. Salienta-se, tamb\u00e9m, que o portal criado re\u00fane condi\u00e7\u00f5es para integrar qualquer tipo de informa\u00e7\u00e3o (e.g. ortofotomapas, imagens de sat\u00e9lite, mapas topogr\u00e1ficos, informa\u00e7\u00e3o de equipamentos, elementos das equipas), inclusive de outras \u00e1reas auxiliares, nas campanhas realizadas pelo Instituto Hidrogr\u00e1fico.\nPALAVRAS-CHAVE: PostgreSQL/PostGIS\nMapServer p.Mapper Software de c\u00f3digo aberto Portal\n1V\nABSTRACT\nThis dissertation, entitled \"Development of a marine environment data Portal\", presents a solution for the standardisation and availability of information of this type of environment, specific to the work carried out at the Hydrographic Institute. Large volumes of information, with different origins, dates and formats and with distinct stages of processing, existing in this institute, restrict their insertion into a standardised database, which, consequently, limits the access of the information to its users. To achieve such goal, tools optimised according to the existing information and customised for future users have been developed, allowing the link between them and the database with the harmonised information of the marine environment. Its implementation was based on marine data acquired in the project \"Environmental characterisation of the maritime expansion area of the port of Sines and surrounding territory\", requested by the Administration of the port of Sines and coordinated by the Marine Geology division of this Institute. This project was carried out by a multidisciplinary team, which involved technical and scientific areas, such as marine geology, chemistry and marine pollution, hydrography and oceanography. The present work began with the treatment and analysis of the information corresponding to these areas, in order to harmonise it, so that it can be integrated into a geographic database. Afterwards, it was made available in a WebSIG portal, developed in this paper, in which applications and tools were created, to allow the user to consult the metadata and the visualisation of a set of information selected by the same. In the implementation of the database and in the development of the portal, as in the tools, was used free and open source software, following the national directives to encourage the use of this type of software in Public Administration. The relational database management system used was PostgreSQL, with the spatial extension PostGIS, and was fed with the harmonised information of the marine environment. Application building and tool customisation were developed on the MapServer map server under the p.Mapper framework. Interoperability of the geographic information in the mentioned software was verified, which allows us to conclude that there is compatibility between the database built in PostgreSQL/PostGIS and MapServer, p.Mapper and QGIS. It should also be said that the portal created combines conditions to integrate any kind of information (e.g. orthophotomaps, satellite images, topographic maps, equipment information, team elements), including other auxiliary areas, in the campaigns carried out by the Hydrographic Institute\nKEYWORDS: PostgreSQL/PostGIS\nMapServer\np.Mapper\nSoftware open source\nPortal\nV1\n\u00cdNDICE\nAGRADECIMENTOS..................................................................I\nRESUMO........................................................................III\nABSTRACT........................................................................V\n\u00cdNDICE........................................................................VII\nLISTA DE FIGURAS...............................................................IX\nLISTA DE TABELAS...............................................................XI\nLISTA DE ACR\u00d3NIMOS E ABREVIATURAS............................................XIII\nCAP\u00cdTULO 1 \u2014 INTRODU\u00c7\u00c3O.........................................................1\n1.1.\tEnquadramento...........................................................1\n1.2.\tObjetivo................................................................2\n1.3.\tTrabalho existente na \u00e1rea (relacionado)................................2\n1.4.\tOrganiza\u00e7\u00e3o do documento................................................5\nCAP\u00cdTULO 2 - CONCEITOS..........................................................7\n2.1.\tSistemas de Informa\u00e7\u00e3o Geogr\u00e1fica.......................................7\n2.2.\tOs WebSIGs e a publica\u00e7\u00e3o de informa\u00e7\u00e3o geogr\u00e1fica na internet..........7\n2.3.\tArquitetura e componentes de um WebSIG..................................8\n2.4.\tGest\u00e3o de Informa\u00e7\u00e3o....................................................9\n2.5.\tTermos t\u00e9cnicos........................................................10\n2.5.1.\tEspecifica\u00e7\u00f5es OGC................................................10\n2.5.2.\tNormas ISO........................................................10\n2.5.3.\tFormato de dados..................................................11\n2.5.4.\tBibliotecas.......................................................11\n2.6.\tSoftware livre e de c\u00f3digo aberto......................................11\n2.7.\tO software de c\u00f3digo aberto na Administra\u00e7\u00e3o P\u00fablica...................12\n2.8.\tSoftware de c\u00f3digo aberto..............................................14\n2.8.1.\tPostgreSQL/PostGIS................................................14\n2.8.2.\tMapServer.........................................................17\n2.8.3.\tp.Mapper..........................................................18\n2.9.\tLinguagens de c\u00f3digo aberto............................................20\n2.10.\tAplica\u00e7\u00f5es utilizadas na implementa\u00e7\u00e3o do portal......................21\n2.11.\tMetadados.............................................................22\nCAP\u00cdTULO 3 - MODELO DE DADOS..............................................23\n3.1.\tOrigem dos Dados..................................................23\n3.2.\tModelo de Dados...................................................24\nCAP\u00cdTULO 4 - IMPLEMENTA\u00c7\u00c3O DO PORTAL......................................31\n4.1.\tPostgreSQL/PostGIS................................................31\n4.2.\tDisponibiliza\u00e7\u00e3o da informa\u00e7\u00e3o na internet........................38\n4.2.1.\tMapServer....................................................38\n4.2.2.\tp.Mapper.....................................................42\n4.2.3 Discuss\u00e3o.....................................................52\nCAP\u00cdTULO 5 - CONSIDERA\u00c7\u00d5ES FINAIS.........................................55\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS................................................57\nANEXOS....................................................................61\nAnexo A \u2014 Cria\u00e7\u00e3o das tabelas em SQL...................................63\nAnexo B \u2014 Ficheiro Mapfile.............................................67\nAnexo C \u2014 Scripts em linguagem de programa\u00e7\u00e3o PHP......................75\nLISTA DE FIGURAS\nFigura 1.1\t\u2014 Enquadramento da Divis\u00e3o de Geologia Marinha e suas sec\u00e7\u00f5es t\u00e9cnicas........1\nFigura 2.1\t\u2014 Principais componentes de um WebSIG (Conde\u00e7a, 2009).........................8\nFigura 2.2\t\u2014 Gest\u00e3o da informa\u00e7\u00e3o e conhecimento na AP (Vidigal, 2014)...................9\nFigura 2.3\t\u2014 Tipos geom\u00e9tricos do PostgreSQL (Queiroz e Ferreira, 2005)................ 15\nFigura 2.4\t\u2014 Tipos de dados espaciais do PostGIS (Queiroz e Ferreira, 2005)............ 16\nFigura 2.5\t\u2014 Arquitetura da Aplica\u00e7\u00e3o MapServer (adaptado de McKenna et al., 2007)..... 18\nFigura 2.6\t\u2014 Sistema WebGIS com PHP/MapScript - Arquitetura (Bughi, 2007).............. 19\nFigura 2.7\t\u2014 Conex\u00e3o das camadas de informa\u00e7\u00e3o ao PostGIS na aplica\u00e7\u00e3o p.Mapper (adaptado de\nSingh et al., 2012)........................................................19\nFigura 2.8\t\u2014 Intera\u00e7\u00e3o entre HTML, CSS e JavaScript (CHRIS-DURAN, 2014).................21\nFigura 2.9\t\u2014 Aplica\u00e7\u00f5es e linguagens utilizadas.........................................21\nFigura 3.1\t\u2014 Nota\u00e7\u00e3o gr\u00e1fica para as classes do modelo OMT-G: a) Representa\u00e7\u00e3o completa; b)\nRepresenta\u00e7\u00e3o simplificada (adaptado de Borges, 1997; Borges et al., 2001, 2005).. 25\nFigura 3.2\t\u2014 Meta Modelo Parcial do Modelo Geo-OMT (Borges, 1997).......................26\nFigura 3.3\t\u2014 S\u00edmbolos correspondentes ao Geo-Objecto e ao Geo-Campo (adaptado de Borges,\n1997)......................................................................26\nFigura 3.4\t\u2014 Esquema simplificado do processo de modela\u00e7\u00e3o de dados (ISO 19109 in Charneca,\n2013)......................................................................27\nFigura 3.5\t\u2014 Modelo de dados geogr\u00e1fico - diagrama de classes...........................28\nFigura 4.1\t\u2014 Esquema para tabelas de features, usando SQL com tipos de geometria (adaptado de\nOGC, 2010).................................................................31\nFigura 4.2\t\u2014 Campos da tabela: a) spatialrefsys; b) geometry columns....................32\nFigura 4.3\t\u2014 Tipo de hierarquia geom\u00e9trica em SQL (OGC, 2010)...........................33\nFigura 4.4\t\u2014 Cria\u00e7\u00e3o da tabela, atrav\u00e9s da importa\u00e7\u00e3o de uma shapefile..................34\nFigura 4.5\t\u2014 Constrangimentos inseridos aquando da cria\u00e7\u00e3o da tabela....................35\nFigura 4.6\t\u2014 Constrangimentos validados.................................................36\nFigura 4.7\t\u2014 Tabelas criadas no: a) PostgreSQL; b) PostGIS..............................36\nFigura 4.8\t\u2014 Express\u00e3o de uma query em SQL e respetivo resultado (excerto)..............37\nFigura 4.9\t\u2014 Fun\u00e7\u00e3o que devolve o identificador de refer\u00eancia espacial..................37\nFigura 4.10\t\u2014 Instala\u00e7\u00e3o: a) Pacote MS4W; b) p.Mapper...................................38\nFigura 4.11\t\u2014 Estrutura de um ficheiro Mapfile..........................................39\nFigura 4.12\t\u2014 Estrutura de umMapfile (Freimuth et al., 2017)............................40\nFigura 4.13\t\u2014 Exemplo da cria\u00e7\u00e3o de uma layer no Mapfile................................41\nFigura 4.14\t\u2014 Categorias................................................................43\nFigura 4.15 \u2014 Organiza\u00e7\u00e3o da Interface Gr\u00e1fica.................................................44\nFigura 4.16 \u2014 Esquema de autentica\u00e7\u00e3o..........................................................44\nFigura 4.17 \u2014 Sistema de autentica\u00e7\u00e3o..........................................................45\nFigura 4.18 \u2014 Caso de uso para este prot\u00f3tipo..................................................45\nFigura 4.19 \u2014 Interface gr\u00e1fica com as layers iniciais, Linha de costa, Territ\u00f3rio emerso e o Modelo\nbatim\u00e9trico.....................................................................46\nFigura 4.20 \u2014 Lista das camadas de informa\u00e7\u00e3o..................................................47\nFigura 4.21 \u2014 Interface gr\u00e1fica com todas as camadas de informa\u00e7\u00e3o ativas......................47\nFigura 4.22 \u2014 Mapa de refer\u00eancia e \u00e1rea de visualiza\u00e7\u00e3o: a) e b) extens\u00e3o inicial do mapa; c) e d)\nescala de representa\u00e7\u00e3o maior...................................................48\nFigura 4.23 \u2014 Resultado da ferramenta identify.................................................49\nFigura 4.24 \u2014 Query: a) Introdu\u00e7\u00e3o da informa\u00e7\u00e3o; b) Excerto do resultado......................49\nFigura 4.25 \u2014 Plugins utilizados na aplica\u00e7\u00e3op.Mapper..........................................50\nFigura 4.26 \u2014 Transpar\u00eancia da layer...........................................................50\nFigura 4.27 \u2014 Proje\u00e7\u00e3o utilizada na aplica\u00e7\u00e3o..................................................51\nFigura 4.28 \u2014 Exemplo de aplicabilidade da ferramenta locate XY: a) inser\u00e7\u00e3o das coordenadas e b)\nresultado final.................................................................51\nFigura 4.29 \u2014 Query: a) Query em SQL; b) Resultados; c) Formatos para exportar a informa\u00e7\u00e3o.... 52\nLISTA DE TABELAS\nTabela 1.1 \u2014 Ferramentas e funcionalidades do projeto Portal de Dados Marinhos..............5\nTabela 2.1 \u2014 Vantagens e Desvantagens do Software de c\u00f3digo aberto.........................14\nTabela 2.2 \u2014 Oportunidades e Amea\u00e7as do Software de c\u00f3digo aberto..........................14\nTabela 3.1 \u2014 Enquadramento t\u00e9cnico dos dados utilizados....................................23\nTabela 3.2 \u2014 Associa\u00e7\u00f5es segundo a ISO 19103: 2015 (adaptado de Borges etal., 2001, 2005;\nCharneca, 2013)..............................................................25\nTabela 3.3 \u2014 Elementos de apoio \u00e0 interpreta\u00e7\u00e3o do diagrama de classes.....................29\nTabela 4.1 \u2014 Composi\u00e7\u00e3o da barra de ferramentas............................................48\nLISTA DE ACR\u00d3NIMOS E ABREVIATURAS\nADCP \u2014 Acoustic Doppler Current Profiler\nANCP \u2014 Ag\u00eancia Nacional de Contas P\u00fablicas\nANSI C \u2014 American National Standards Institute C\nAP \u2014 Administra\u00e7\u00e3o P\u00fablica\nAPDSI \u2014 Associa\u00e7\u00e3o para a Promo\u00e7\u00e3o e Desenvolvimento da Sociedade da Informa\u00e7\u00e3o\nAPI \u2014 Application Programming Interface\nASCII \u2014 American Standard Code for Information Interchange\nBDG \u2014 Base de Dados Geogr\u00e1fica\nCGI \u2014 Common Gateway Interface\nCSS \u2014 Cascading Style Sheets\nCSV \u2014 Comma-Separated values\nDHTML \u2014 Dynamic HTML\nDPI \u2014 Dots per inch\nDT \u2014 Dire\u00e7\u00e3o T\u00e9cnica\nEMEPC \u2014 Estrutura de Miss\u00e3o para a Extens\u00e3o da Plataforma Continental\nEMODnet \u2014 European Marine Observation and Data Network\nEPSG \u2014 European Petroleum Survey Group\nESOP \u2014 Associa\u00e7\u00e3o de Empresas de Software Open Source Portuguesas\nESRI \u2014 Environmental Systems Research Institute\nFSF \u2014 Free Software Foundation\nGDAL \u2014 Geospatial Data Abstraction Library\nGeoJSON \u2014 Geometry JavaScript Notation Object\nGIF \u2014 Graphics Interchange Format\nGIST \u2014 Generalized Search Trees\nGM \u2014 Geologia Marinha\nGML \u2014 Geographical Markup Language\nGNU \u2014 GNU's Not Unix\nGPL \u2014 General Public License\nHI \u2014 Hidrografia\nHTML \u2014 HyperText Markup Language\nHTTP \u2014 Hypertext Transfer Protocol\nIDE \u2014 Infraestrutura de Dados Espaciais\nIG \u2014 Informa\u00e7\u00e3o Geogr\u00e1fica\nIH \u2014 Instituto Hidrogr\u00e1fico\nINFOMAR \u2014 Integrated Mapping For the Sustainable Development ofIreland's MArineResource IPMA \u2014 Instituto Portugu\u00eas do Mar e da Atmosfera\nISO \u2014 International Organization for Standardization\nJPEG \u2014 Joint Photographic Experts Group\nJSON \u2014 JavaScript Object Notation\nKML \u2014 Keyhole Markup Language\nLAN \u2014 Local Area Network\nLNEG \u2014 Laborat\u00f3rio Nacional de Energia e Geologia\nMAREANO \u2014 Marine AREAl Database for NOrwegian waters\nMDG \u2014 Modelo de Dados Geogr\u00e1fico\nMDT \u2014 Modelo Digital do Terreno\nMIT \u2014 Massachusetts Institute of Technology\nMS4W \u2014 MapServer For Windows\nNASA \u2014 National American Space Agency\nOC \u2014 Oceanografia\nOGC \u2014 Open Geospatial Consortium\nOGR \u2014 Simple Feature Library OMT \u2014 Object Modeling Technique\nOMT-G \u2014 Object Modeling Technique - Geographic Applications OpenGIS \u2014 Open GIS Consortium\nOSGeo \u2014 Open Source Geospatial Foundation\nOSI \u2014 Open Source Initiative\nPDF \u2014 Portable Document Format\nPHP \u2014 Hypertext Preprocessor PNG \u2014 Portable Network Graphics\nPROJ4 \u2014 Cartographic Projections Library\nSFA - SQL \u2014 Simple Feature Access - SQL option SFSSQL \u2014 Simple Feature Specification for SQL\nSGBD \u2014 Sistema de Gest\u00e3o de Bases de Bados\nSGBDR \u2014 Sistema de Gest\u00e3o de Bases de Bados Relacional\nSIG \u2014 Sistemas de Informa\u00e7\u00e3o Geogr\u00e1fica\nSIGD \u2014 Sistema de Informa\u00e7\u00e3o Geogr\u00e1fica Distribu\u00eddo\nSNIG \u2014 Sistema Nacional de Informa\u00e7\u00e3o Geogr\u00e1fica\nSNIMar \u2014 Sistema Nacional de Informa\u00e7\u00e3o do Mar\nSQL \u2014 Structured Query Language\nSQL/MM \u2014 SQL multimedia and application packages - Part 3: Spatial SRID \u2014 Spatial Reference System Identifier\nTIFF \u2014 Tagged Image File Format\nTOC \u2014 Table of Contents\nUML \u2014 Unified Modeling Language\nUMN \u2014 University of Minesota\nURL \u2014 Uniform Resource Locator\nWAN \u2014 Wide Area Network\nWCS \u2014 Web Coverage Service\nWebSIG \u2014 Sistemas de Informa\u00e7\u00e3o Geogr\u00e1fica Distribu\u00eddos pela Internet\nWFS \u2014 Web Feature Service\nWKB \u2014 Well-know binary\nWKT \u2014 Well-know text\nWKT-CRS \u2014 Well-know text representation of coordinate reference systems WMS \u2014 Web Map Service\nWMTS \u2014 Web Map Tile Service\nXML \u2014 extensible Markup Langu\nCAP\u00cdTULO 1 \u2014 INTRODU\u00c7\u00c3O\nEste cap\u00edtulo encontra-se dividido em quatro sec\u00e7\u00f5es: come\u00e7a-se por fazer o enquadramento da tem\u00e1tica em estudo, a que se segue a indica\u00e7\u00e3o do objetivo do projeto, a apresenta\u00e7\u00e3o do trabalho existente na \u00e1rea, em que \u00e9 feita uma breve descri\u00e7\u00e3o de alguns portais e termina com a organiza\u00e7\u00e3o do presente documento.\n1.1.\tEnquadramento\nAtualmente, vivemos numa Era Digital em que a informa\u00e7\u00e3o \u00e9 cada vez mais importante para a sociedade, ganhando extrema relev\u00e2ncia os sistemas que permitam o arquivo, a gest\u00e3o e o acesso \u00e0 informa\u00e7\u00e3o. Algumas institui\u00e7\u00f5es, no \u00e2mbito das suas miss\u00f5es, adquiriram e processaram grandes volumes de informa\u00e7\u00e3o que, sob diversas formas e formatos, se encontra guardada e arquivada. A reutiliza\u00e7\u00e3o ou salvaguarda implica a sua convers\u00e3o e harmoniza\u00e7\u00e3o (Melo et al., 2016), tendo em vista, desejavelmente, a integra\u00e7\u00e3o de toda a informa\u00e7\u00e3o numa base de dados. Uma forma de a disponibilizar \u00e9 atrav\u00e9s de uma interface Web (portal) de modo a estabelecer a liga\u00e7\u00e3o entre a base de dados e o utilizador. H\u00e1 v\u00e1rias d\u00e9cadas, o Instituto Hidrogr\u00e1fico (IH) \u00e9 um organismo que tem como miss\u00e3o assegurar as atividades relacionadas com as ci\u00eancias e t\u00e9cnicas do mar (IH, 2017), o que o leva, deste modo, a ser detentor de grandes volumes de informa\u00e7\u00e3o em ambiente marinho (Melo et al., 2016).\nSendo um instituto que possui muita informa\u00e7\u00e3o com diferentes origens, fontes e formatos, o desenvolvimento de um portal, que reunisse um conjunto de ferramentas personalizadas, para estabelecer a liga\u00e7\u00e3o entre o utilizador e a base de dados, com informa\u00e7\u00e3o harmonizada deste tipo de ambiente, surgiu como uma necessidade urgente, para obviar as limita\u00e7\u00f5es no acesso e o comprometimento da sua gest\u00e3o.\nNa implementa\u00e7\u00e3o da base de dados, foi utilizada informa\u00e7\u00e3o de diferentes \u00e1reas t\u00e9cnicas do instituto (Figura 1.1), adquirida com o intuito de caraterizar a \u00e1rea de expans\u00e3o mar\u00edtima do porto de Sines. Este projeto, coordenado pela divis\u00e3o de Geologia Marinha (GM), foi selecionado pelo seu car\u00e1ter multidisciplinar e por permitir o desenvolvimento de uma base de dados alargada e abrangente.\nFigura 1.1 \u2014 Enquadramento da Divis\u00e3o de Geologia Marinha e suas sec\u00e7\u00f5es t\u00e9cnicas.\nCom o prop\u00f3sito de enquadrar as \u00e1reas t\u00e9cnicas supracitadas, que s\u00e3o envolvidas neste estudo espec\u00edfico a Figura 1.1, espelha o organograma da dire\u00e7\u00e3o t\u00e9cnica (DT) da institui\u00e7\u00e3o. Este mostra que a DT \u00e9 composta pelas divis\u00f5es de Geologia Marinha, de Qu\u00edmica e Polui\u00e7\u00e3o Marinha, de Oceanografia e de Hidrografia e, por sua vez, a GM integra as sec\u00e7\u00f5es de Geof\u00edsica, de Din\u00e2mica Sedimentar, de Sedimentologia e de Informa\u00e7\u00e3o Geol\u00f3gica. O Portal de dados marinhos ir\u00e1 proporcionar aos utilizadores da GM o acesso aos metadados dos v\u00e1rios tipos de levantamentos, que foram realizados para este projeto espec\u00edfico.\n1.2.\tObjetivo\nOs principais objetivos deste projeto consistem na implementa\u00e7\u00e3o de uma base de dados geogr\u00e1fica (BDG) e na disponibiliza\u00e7\u00e3o de um conjunto de informa\u00e7\u00e3o, atrav\u00e9s de um portal a desenvolver e a personalizar, em conformidade com as necessidades dos utilizadores da divis\u00e3o de Geologia Marinha. Pretende-se utilizar software de c\u00f3digo aberto (open source) e gratuito na cria\u00e7\u00e3o da base de dados, do portal e das ferramentas. Para a concretiza\u00e7\u00e3o deste desafio, foi necess\u00e1rio recorrer a uma BDG conducente \u00e0 conce\u00e7\u00e3o do portal. Esta foi criada num sistema de gest\u00e3o de base de dados relacional (SGBDR) PostgreSQL, com a extens\u00e3o espacial PostGIS, e com uma estrutura de classes, apresentada no modelo de dados geogr\u00e1fico (MDG).\nPosteriormente, o portal foi concebido no servidor de mapas MapServer, tendo como base a framework p.mapper. Esta aplica\u00e7\u00e3o foi personalizada, tendo sido dado enfoque \u00e0 inser\u00e7\u00e3o de ferramentas, que proporcionem aos utilizadores uma maior intera\u00e7\u00e3o com os metadados e, por outro lado, a remo\u00e7\u00e3o de outras ferramentas que seriam redundantes para neste estudo. Com a finalidade de dinamizar mais esta intera\u00e7\u00e3o, foi inserida uma ferramenta que permite a consulta dos metadados, utilizando queries em SQL (Structured Query Language).\n1.3.\tTrabalho existente na \u00e1rea (relacionado)\nO movimento do software de c\u00f3digo aberto tem vindo a impor-se de uma forma crescente e global. Nesta linha de racioc\u00ednio, todo o procedimento efetuado como a base de dados, o portal e as ferramentas foi concebido em software de c\u00f3digo aberto e gratuito. Segundo a Associa\u00e7\u00e3o para a Promo\u00e7\u00e3o e Desenvolvimento da Sociedade da Informa\u00e7\u00e3o (APDSI), este tipo de programa constitui, nos dias de hoje, uma refer\u00eancia nas diretivas estrat\u00e9gicas de um vasto n\u00famero de pa\u00edses, regi\u00f5es e organiza\u00e7\u00f5es tanto p\u00fablicas como privadas, com ou sem fins lucrativos (APDSI, 2004).\nA Free Software Foundation (FSF) \u00e9 uma organiza\u00e7\u00e3o sem fins lucrativos, que fomenta a utiliza\u00e7\u00e3o de software livre no quotidiano dos utilizadores. Esta constata\u00e7\u00e3o fundamenta-se na crescente depend\u00eancia da nossa sociedade, h\u00e1 anos, que \u00e9 bastante evidente a n\u00edvel tecnol\u00f3gico. Em Portugal, nos \u00faltimos tempos, t\u00eam surgido iniciativas estrat\u00e9gicas e diretivas que visam a utiliza\u00e7\u00e3o do software de c\u00f3digo aberto e gratuito, visando reduzir custos com a manuten\u00e7\u00e3o de licen\u00e7as de programas propriet\u00e1rios, o que tem proporcionado uma elevada ades\u00e3o a este programa devido ao apoio que se tem verificado a n\u00edvel empresarial, p\u00fablico e individual (FSF, 2017). Em compara\u00e7\u00e3o com o c\u00f3digo aberto, o custo total de propriedade apresenta uma percentagem mais elevada em solu\u00e7\u00f5es propriet\u00e1rias, que \u00e9 devido ao custo associado \u00e0s atualiza\u00e7\u00f5es ou a novas vers\u00f5es (APDSI, 2004), com mais impacto quando a aquisi\u00e7\u00e3o reveste a forma de licenciamento. No que respeita \u00e0 economia, o investimento do Estado \u00e9 mais ben\u00e9fico em software de c\u00f3digo aberto do que em propriet\u00e1rios, dado que aqueles contribuem para a redu\u00e7\u00e3o das importa\u00e7\u00f5es, o que se reflete na diminui\u00e7\u00e3o de custo em sistemas de informa\u00e7\u00e3o, permitindo que o remanescente recaia em investimento. Esta poss\u00edvel realidade traz benef\u00edcios para a economia local, favorecendo o Produto Interno Bruto.\nDe acordo com Bonnici (2005), a dissemina\u00e7\u00e3o de dados espaciais e funcionalidades b\u00e1sicas de sistemas de informa\u00e7\u00e3o geogr\u00e1fica (SIG) tornam-se financeiramente uma despesa onerosa para as institui\u00e7\u00f5es, motivo pelo qual esta nova realidade (o software livre e o de c\u00f3digo aberto) come\u00e7ou a ser amplamente adotada tanto nas organiza\u00e7\u00f5es p\u00fablicas como nas privadas. O desenvolvimento surpreendente, tanto a n\u00edvel cient\u00edfico como tecnol\u00f3gico, permitiu que fossem criadas aplica\u00e7\u00f5es especializadas com recursos para a apresenta\u00e7\u00e3o gr\u00e1fica, fazendo com que se tornasse um ambiente Web atraente e eficiente para a divulga\u00e7\u00e3o da informa\u00e7\u00e3o geogr\u00e1fica (Cabral, 2008). Assim, ainda de acordo com este autor, o avan\u00e7o tecnol\u00f3gico veio permitir que os utilizadores executem consultas \u00e0 base de dados geogr\u00e1fica de uma forma remota.\nNeste \u00e2mbito, atualmente, est\u00e3o implementados v\u00e1rios portais sobre diversas tem\u00e1ticas, que disponibilizam informa\u00e7\u00e3o em diferentes formatos. A n\u00edvel nacional, na \u00e1rea da informa\u00e7\u00e3o geogr\u00e1fica (IG), existe o geoportal do SNIG (Sistema Nacional de Informa\u00e7\u00e3o Geogr\u00e1fica), que \u00e9 coordenado pela Dire\u00e7\u00e3o-Geral do Territ\u00f3rio e tem a finalidade de permitir ao utilizador efetuar a pesquisa, explorar e visualizar a IG, atrav\u00e9s dos servi\u00e7os de dados geogr\u00e1ficos da OGC (Open Geospatial Consortium) de diferentes tipos como o WMS (Web Map Service), WFS (Web Feature Service) e WMTS (Web Map Tile Service) e de ficheiros locais com diferentes formatos, como o KML (Keyhole Markup Language) e a Shapefile da ESRI (Environmental Systems Research Institute). Os temas que est\u00e3o dispon\u00edveis para visualiza\u00e7\u00e3o s\u00e3o a Carta Administrativa Oficial de Portugal, a Carta de Portugal Continental \u00e0 escala 1:500 000, a Geodesia do Continente, o Corine Land Cover 2006, 2000 e 1990 da ilha de S\u00e3o Miguel a Carta Geol\u00f3gica de Portugal e \u00e0 escala 1:1 000 000. Outros temas poss\u00edveis s\u00e3o adicionados, atrav\u00e9s do servi\u00e7o WMS, por meio do URL (Uniform Resource Locator), assim como de ficheiros em formato KML e shapefile. Este geoportal foi renovado em 2014, tendo este melhoramento incidido na pesquisa do cat\u00e1logo de metadados e na introdu\u00e7\u00e3o de outras funcionalidades, que o tornaram mais f\u00e1cil de usar.\nA n\u00edvel de autarquias, existe o exemplo do portal de SIG do Munic\u00edpio de Arraiolos que, em 2015, desenvolveu a aplica\u00e7\u00e3o na solu\u00e7\u00e3o MapServer, utilizando a framework p.Mapper, em software de c\u00f3digo aberto e gratuito. A informa\u00e7\u00e3o geogr\u00e1fica, que \u00e9 partilhada, incide nos limites administrativos, no cadastro geom\u00e9trico, no edificado, na rede vi\u00e1ria, hidrogr\u00e1fica e ferrovi\u00e1ria, no plano diretor municipal, no plano de pormenor, entre outros.\nNa tem\u00e1tica da geologia marinha, existe o projeto internacional OneGeology, no site http://onegeology.org/, em que se refere que o mesmo surgiu da iniciativa de 81 investigadores, numa reuni\u00e3o realizada em Brighton (Reino Unido), em Mar\u00e7o de 2007. A tem\u00e1tica da reuni\u00e3o focou-se na viabilidade da colabora\u00e7\u00e3o destes membros na cria\u00e7\u00e3o de um conjunto de mapas geol\u00f3gicos globais, a que os investigadores foram recetivos. O projeto \u00e9 essencialmente multinacional e envolve muitas partes interessadas a trabalhar em conjunto, sendo de destacar a rede de investiga\u00e7\u00e3o geol\u00f3gica em todo o mundo: a Commission for the Geological Map of the World, a International Union of Geological Sciences e a United Nations Educational Scientific &amp; Cultural Organisation e o International Framework of the International Steering Committee for Global Mapping. Este portal disponibiliza temas como a geologia (estratigrafia, batimetria, falhas, litologia, cronoestratigrafia, entre outros), geof\u00edsica (por exemplo, gravimetria, geomagnetismo, sismologia) e a hidrologia (http://portal.onegeology.org/OnegeologyGlobal/). Al\u00e9m destes temas, existe a possibilidade de adicionar outros, atrav\u00e9s do servi\u00e7o WMS (Web Map Service), por interm\u00e9dio de um URL.\nA n\u00edvel europeu, em 2005, a Noruega lan\u00e7ou o programa MAREANO (Marine AREAl Database for NOrwegian waters) que, no ano seguinte, financiou a aquisi\u00e7\u00e3o de dados hidrogr\u00e1ficos (multifeixe) de uma vasta \u00e1rea (~984 km2) em Tromsoflaket. Em 2006, o portal (http://www.mareano.no/kart/mareanoen.html?language=en) encontrava-se dispon\u00edvel para\nvisualiza\u00e7\u00e3o de mapas batim\u00e9tricos, topogr\u00e1ficos, composi\u00e7\u00e3o de sedimentos, contaminantes, bi\u00f3topos e habitats em \u00e1guas norueguesas, efetuadas a partir da amostragem biol\u00f3gica e geol\u00f3gica realizadas, posteriormente, na mesma \u00e1rea.\nOutro programa amplamente difundido, na Europa, foi o INFOMAR (Integrated Mapping For the Sustainable Development of Ireland's Marine Resource), financiado pelo Governo Irland\u00eas, entre 2007-2013, atrav\u00e9s do seu plano de desenvolvimento. Veio suceder ao Irish National Seabed Survey, lan\u00e7ado em 2006, com o intuito de mapear as \u00e1reas costeiras do fundo do mar da Irlanda, para efeitos de caracteriza\u00e7\u00e3o ambiental, em que se incluem as ba\u00edas deste pa\u00eds e o fundo do mar at\u00e9 200m de profundidade. Abrangendo cerca de 125 000 km2 das \u00e1guas costeiras mais produtivas e a n\u00edvel comercial mais valiosas da Irlanda, este programa fornece produtos de mapeamento integrados, que cobrem as caracter\u00edsticas f\u00edsicas, qu\u00edmicas e biol\u00f3gicas do fundo mar. Em 2009, foi constru\u00eddo o sistema interativo de disponibiliza\u00e7\u00e3o de dados na internet, tendo sido criado, em 2016, um novo visualizador de dados p\u00fablicos (http://dcenr.maps.arcgis.com/apps/MapSeries/index.html?appid=a30af518e87a4c0ab2fbde2aaac3c228).\nAinda a n\u00edvel europeu, existe o projeto EMODnet (European Marine Observation and Data Network), que se encontra dispon\u00edvel, desde 2009, e que consiste num portal multidisciplinar onde se encontra um conjunto de dados de observa\u00e7\u00e3o marinha, agrupados em portais para cada \u00e1rea cient\u00edfica (geof\u00edsica, geologia, batimetria, biologia, habitats do fundo marinho, qu\u00edmica, f\u00edsica, atividades humanas e mapeamento costeiro). Sublinha-se que o portal para este projeto foi produzido com software de c\u00f3digo aberto, usando a aplica\u00e7\u00e3o MapServer com a biblioteca desenvolvida em JavaScript OpenLayers (http://emodnet.eu/portals).\nA n\u00edvel nacional, existem tamb\u00e9m alguns portais, onde \u00e9 poss\u00edvel aceder a alguma informa\u00e7\u00e3o marinha e terrestre. \u00c9 o caso, por exemplo, do geoportal constru\u00eddo, pelo Laborat\u00f3rio Nacional de Energia e Geologia (LNEG), em 2010, que tem nos seus horizontes a partilha de informa\u00e7\u00e3o geoespacial, em ambiente Web, relacionada com as diferentes atividades realizadas neste laborat\u00f3rio, incidindo nas \u00e1reas de energia e geologia (http://geoportal.lneg.pt/geoportal/mapas/index.html). Os temas dispon\u00edveis focam-se em \u00e1reas t\u00e9cnicas como a geologia, recursos minerais, energia, recursos hidrogeol\u00f3gicos e recursos geot\u00e9rmicos. Em rela\u00e7\u00e3o \u00e0 \u00e1rea da geologia, existem a Carta geol\u00f3gica de Portugal em v\u00e1rias escalas de representa\u00e7\u00e3o, a Carta geol\u00f3gica da regi\u00e3o do Algarve a 1:100 000, a Carta geol\u00f3gica da Rep\u00fablica da Guin\u00e9-Bissau, entre outras.\nO geoportal SNIMar (Sistema Nacional de Informa\u00e7\u00e3o do Mar) \u00e9 uma infraestrutura de dados espaciais (IDE), que tem como finalidade representar a geoinforma\u00e7\u00e3o e respetivos metadados, sobre o ambiente marinho em Portugal, partilhada pelos parceiros e pelas entidades participantes no projeto SNIMar. \u00c9 um projeto que envolve parceiros dadores, Noruega, Isl\u00e2ndia e Lichtenstein; parceiros nacionais: Estrutura de Miss\u00e3o para a Extens\u00e3o da Plataforma Continental (EMEPC) e Instituto Portugu\u00eas do Mar e da Atmosfera (IPMA) e oito entidades, destacando-se algumas como a Faculdade de Ci\u00eancias da Universidade de Lisboa - Instituto Dom Luiz, a Dire\u00e7\u00e3o-Geral do Territ\u00f3rio e o Instituto Hidrogr\u00e1fico. O geoportal (http://geoportal.snimar.pt/#), que foi produzido em 2017, integra temas como dados batim\u00e9tricos (os recolhidos no \u00e2mbito do projeto de extens\u00e3o da plataforma continental de Portugal), \u00e1guas balneares de Portugal, \u00e1reas marinhas protegidas oce\u00e2nicas nacionais e plataforma continental geol\u00f3gica na regi\u00e3o dos A\u00e7ores.\nSucintamente e visando comparar as v\u00e1rias ferramentas e funcionalidades existentes em cada um dos supra referidos geoportais, foi constru\u00edda a Tabela 1.1. As ferramentas que v\u00e3o ser os grandes pilares desta an\u00e1lise s\u00e3o as de navega\u00e7\u00e3o, interroga\u00e7\u00e3o, pesquisa, localiza\u00e7\u00e3o e impress\u00e3o, enquanto que, por outro lado, o mapa de refer\u00eancia, as coordenadas do ponto e o sistema de proje\u00e7\u00e3o se destacam como funcionalidades. Nas ferramentas de navega\u00e7\u00e3o, est\u00e3o integradas o zoom in, o zoom out, o zoom full\nextent e o pan; nas de interroga\u00e7\u00e3o o identify; nas de pesquisa a query; e nas de localiza\u00e7\u00e3o o locate XY.\nNesta compara\u00e7\u00e3o, privilegiaram-se apenas estes par\u00e2metros por terem sido considerados os principais. Contudo, \u00e9 de real\u00e7ar o facto de todos eles terem servi\u00e7os WMS (Web Map Service), \u00e0 exce\u00e7\u00e3o do programa MAREANO.\nTabela 1.1 \u2014 Ferramentas e funcionalidades do projeto Portal de Dados Marinhos.\n\t\t\tProjetos/Programas\t\t\t\t\t\t\t\t\n\t\t\tOneGeology\tMAREANO\tINFORMAR\tEMODnet\tSNIG\tPortal SIG (Arraiolos)\tLNEG\t1\tPresente estudo\nFerramentas\t\tNavega\u00e7\u00e3o\tX\tX\tX\tX\tX\tX\tX\tX\tX\n\t\tInterroga\u00e7\u00e3o\tX\tX\tX\t\t\tX\tX\t\tX\n\t\tPesquisa\t\t\t\t\tX\tX\tX\t\tX\n\t\tLocaliza\u00e7\u00e3o\t\tX\tX\t\t\tX\tX\t\tX\n\t\tImpress\u00e3o\tX\tX\tX\t\tX\tX\tX\tX\tX\nFuncionalidades\t\tMapa de refer\u00eancia\tX\t\t\t\tX\tX\tX\t\tX\n\t\tCoordenadas X e Y\tX\tX\tX\tX\tX\tX\tX\t\tX\n\t\tSistema de proje\u00e7\u00e3o\tX\tX\t\tX\tX\tX\tX\t\tX\nAnalisando a tabela, verifica-se que n\u00e3o existem algumas ferramentas nos portais, designadamente:\n\u2022\tnos EMODnet, SNIG e SNIMar, a correspondente \u00e0 interroga\u00e7\u00e3o dos elementos;\n\u2022\tnos OneGeology, MAREANO, INFORMAR, EMODnet e SNIMar, a de pesquisa;\n\u2022\tnos OneGeology, EMODnet, SNIG e SNIMar, a de localiza\u00e7\u00e3o;\n\u2022\tno EMODnet, a de impress\u00e3o.\nNo que respeita \u00e0s funcionalidades, constata-se que estas n\u00e3o s\u00e3o comuns a todos os portais, j\u00e1 que:\n\u2022\tn\u00e3o existe mapa de refer\u00eancia nos MAREANO, INFORMAR, EMODnet e SNIMar;\n\u2022\to SNIMar n\u00e3o apresenta as coordenadas X e Y;\n\u2022\tn\u00e3o h\u00e1 indica\u00e7\u00e3o do sistema de proje\u00e7\u00e3o nos INFORMAR e SNIMar.\nNo caso em concreto, pretende-se disponibilizar os metadados correspondentes a informa\u00e7\u00e3o geoespacial multidisciplinar, referentes \u00e0s \u00e1reas de geologia marinha, de hidrografia e de oceanografia. A aplica\u00e7\u00e3o ir\u00e1 ser desenvolvida numa solu\u00e7\u00e3o de c\u00f3digo aberto e gratuito como o servidor de mapas MapServer, tendo como base a framework p.Mapper e ter\u00e1 as ferramentas e funcionalidades indicadas na Tabela 1.1.\n1.4.\tOrganiza\u00e7\u00e3o do documento\nNeste documento, a descri\u00e7\u00e3o do desenvolvimento do Portal de dados, est\u00e1 estruturada em cinco cap\u00edtulos, em que no:\nCap\u00edtulo 1 \u2014 \u00e9 exposto o enquadramento do tema da disserta\u00e7\u00e3o, definido o seu objetivo, apresentado um levantamento de trabalhos semelhantes, que se encontram dispon\u00edveis, cuja informa\u00e7\u00e3o incide sobre portais diversos (nacionais, europeus e internacionais) e que fundamentam a escolha, terminando com a indica\u00e7\u00e3o da estrutura e organiza\u00e7\u00e3o deste relat\u00f3rio.\nCap\u00edtulo 2\u2014 \u00e9 descrito o fundamento te\u00f3rico, que enquadra as aplica\u00e7\u00f5es pr\u00e1ticas.\nCap\u00edtulo 3\u2014 \u00e9 apresentado o modelo de dados geogr\u00e1fico usado para o desenvolvimento da componente pr\u00e1tica, com uma estrutura de classes geogr\u00e1fica e convencional e em conformidade com a ISO 19103: 2015.\nCap\u00edtulo 4 \u2014 \u00e9 descrito o procedimento efetuado na base de dados geogr\u00e1fica PostgreSQL/PostGIS e na aplica\u00e7\u00e3o MapServer, usando a frameworkp.mapper.\nCap\u00edtulo 5 \u2014 s\u00e3o tecidas algumas considera\u00e7\u00f5es finais e apresentada uma prospetiva de continuidade deste projeto em trabalhos futuros.\nCAP\u00cdTULO 2 - CONCEITOS\nEste cap\u00edtulo inicia-se com a abordagem dos sistemas de informa\u00e7\u00e3o geogr\u00e1fica, a que se seguem os WebSIGs e a publica\u00e7\u00e3o de informa\u00e7\u00e3o geogr\u00e1fica na internet; na terceira parte, \u00e9 feita a descri\u00e7\u00e3o da arquitetura e dos componentes de um WebSIG e, depois, referida a gest\u00e3o de informa\u00e7\u00e3o; na quinta parte, s\u00e3o indicados os termos t\u00e9cnicos a utilizar, no que respeita a especifica\u00e7\u00f5es OGC, normas ISO, formato de dados e bibliotecas; passa-se \u00e0 apresenta\u00e7\u00e3o do software livre e de c\u00f3digo aberto, que \u00e9 seguido de uma alus\u00e3o ao software de c\u00f3digo aberto na Administra\u00e7\u00e3o P\u00fablica; a oitava parte \u00e9 dedicada ao software de c\u00f3digo aberto utilizado neste projeto, especificamente, o PostgreSQL/PostGIS, o MapServer e o p.Mapper; as linguagens de c\u00f3digo aberto empregadas no decorrer do trabalho est\u00e3o referidas na parte nove, na d\u00e9cima s\u00e3o apresentadas as aplica\u00e7\u00f5es utilizadas na implementa\u00e7\u00e3o do projeto, terminando com uma refer\u00eancia aos metadados.\n2.1.\tSistemas de Informa\u00e7\u00e3o Geogr\u00e1fica\nO formato shapefile apresenta, atualmente, v\u00e1rios tipos de constrangimentos que se podem traduzir em desvantagens na sua utiliza\u00e7\u00e3o, que passamos a referir. O modelo em quest\u00e3o, a shapefile, s\u00f3 suporta relacionamentos do tipo um para um, o que significa que cada linha da tabela de atributos estar\u00e1 ligada apenas a uma entidade geom\u00e9trica no mapa, provocando a restri\u00e7\u00e3o de duas ou mais linhas n\u00e3o apontarem para a mesma entidade, o que se torna uma limita\u00e7\u00e3o para a modela\u00e7\u00e3o do \u201cmundo real\u201d. Na tabela de atributos, o nome dos campos s\u00f3 pode ter no m\u00e1ximo 10 caracteres, limita\u00e7\u00e3o inerente ao formato shapefile, e que \u00e9 independente do programa que estiver a ser utilizado, ArcGIS, QGIS, SPRING ou outros. Este tipo de formato tem, ainda, o inconveniente de trabalhar num sistema monoutilizador o que constitui um problema, por n\u00e3o ser poss\u00edvel ter os dados armazenados em rede nem a edi\u00e7\u00e3o da mesma shapefile por v\u00e1rios utilizadores. Para contornar este obst\u00e1culo, \u00e9 necess\u00e1rio que cada utilizador grave uma c\u00f3pia dos dados no seu computador, de modo a conseguir alterar a(s) shapefile(s). No entanto, este procedimento \u00e9 inadequado, por n\u00e3o controlar as vers\u00f5es mais recentes. Em contrapartida, numa base de dados geogr\u00e1fica, \u00e9 poss\u00edvel trabalhar de forma eficiente com relacionamentos e n\u00famero de ocorr\u00eancias entre entidades, que podem ser de um para muitos (1..N) e de muitos para muitos (N..N).\nPeng e Tsou (2003) referem que as novas tecnologias de informa\u00e7\u00e3o e comunica\u00e7\u00e3o t\u00eam suscitado um grande impacto ao n\u00edvel das ferramentas SIG, na sociedade atual. Com a sua crescente import\u00e2ncia, principalmente ao n\u00edvel da internet, os SIG desktop evolu\u00edram para os SIG Distribu\u00eddos (SIGD), fazendo com que os WebSIG sejam considerados, hoje em dia, como potenciais ajudas ao cidad\u00e3o na presta\u00e7\u00e3o de servi\u00e7os din\u00e2micos e inovadores. Pode afirmar-se que os SIGD surgem em resultado da evolu\u00e7\u00e3o normal da tecnologia, permitindo que a informa\u00e7\u00e3o geoespacial chegue a um maior n\u00famero de utilizadores e se evite a redund\u00e2ncia de dados, tendo ainda a vantagem das funcionalidades serem similares \u00e0s existentes num ambiente SIG centralizado (Longley et al., 2005).\n2.2.\tOs WebSIGs e a publica\u00e7\u00e3o de informa\u00e7\u00e3o geogr\u00e1fica na internet\nO termo WebSIG define-se como uma t\u00e9cnica para visualiza\u00e7\u00e3o de dados geogr\u00e1ficos, atrav\u00e9s de aplica\u00e7\u00f5es Web, ou seja, refere-se a aplica\u00e7\u00f5es que disponibilizam dados espaciais aos utilizadores, servindo-se de um navegador da internet, permitindo optar-se pela internet ou intranet consoante os requisitos definidos por entidades p\u00fablicas e privadas. Contudo, o facto de se partilhar informa\u00e7\u00e3o geogr\u00e1fica na internet com utilizadores, que interagem com bases de dados SIG, est\u00e1 dependente das\ncapacidades do programa, j\u00e1 que d\u00e1 a liberdade de se poder consultar, exibir e analisar remotamente a informa\u00e7\u00e3o geoespacial por meio de uma interface de navegador da internet (web) (Bonnici, 2005). No que se refere a vantagens e desvantagens na utiliza\u00e7\u00e3o do WebSIG, Bonnici (2005) lembra que as primeiras incidem na possibilidade de disponibilizar o acesso a dados e funcionalidades SIG a um p\u00fablico mais abrangente, os custos de aquisi\u00e7\u00e3o de aplica\u00e7\u00f5es SIG n\u00e3o serem relevantes e os utilizadores n\u00e3o necessitarem de uma forma\u00e7\u00e3o t\u00e3o intensiva quanto um programa SIG. No respeitante a desvantagens, este autor elege como a mais importante o tempo de resposta destas aplica\u00e7\u00f5es, uma vez que dependem de v\u00e1rios fatores externos tais como: a capacidade da liga\u00e7\u00e3o \u00e0 rede, o volume de dados transferidos, o tr\u00e1fego na rede e a capacidade de processamento do servidor. \u00c9 importante referir tamb\u00e9m que opera\u00e7\u00f5es de processamento com dados pesados, normalmente, n\u00e3o s\u00e3o exequ\u00edveis em ambiente Web e que, embora um WebSIG n\u00e3o seja um SIG e n\u00e3o tenha as mesmas fun\u00e7\u00f5es, \u00e9 uma alternativa para consulta de informa\u00e7\u00f5es que, por sua vez, est\u00e3o centralizadas no servidor.\n2.3.\tArquitetura e componentes de um WebSIG\nOs componentes principais, que comp\u00f5em uma aplica\u00e7\u00e3o WebSIG, est\u00e3o expostos no esquema da Figura 2.1 (Conde\u00e7a, 2009):\n(Reposta httpl\nSERVIDOR\n(Irrujgr'Ti produz \u00abda)\n(Dados recebidos)\nServidor de Mapas (Mapserver. Geoserver, Arcims. Geomedia, ...)\nServidor de dados (PostgreSQU PostGIS, Arcsde,...)\nLinguagens de\nPrograma\u00e7\u00e3o 2 icgi. php. asp. java I '\n4\n4\nCLIENTE I\n3|\nlAccsso a dddosl \u201d I\nId\nIPadido Nip)\nWeb Server\n(Apache. IIS,...)\n\t\t\t\t\ni\tBrowser Web\t/I V\t(Firefox, IE, Safari....)\t\t\t\t\n\t\t1 1\t\t\nFigura 2.1 \u2014 Principais componentes de um WebSIG (Conde\u00e7a, 2009).\n\u2022\tCliente (Browser) \u2014 interface gr\u00e1fica do sistema, que tem como funcionalidade permitir que o utilizador interaja com os dados espaciais e com as fun\u00e7\u00f5es de an\u00e1lise fornecidas pelo WebSIG (Conde\u00e7a, 2009). Contudo, esta intera\u00e7\u00e3o dever\u00e1 ser efetuada diretamente, atrav\u00e9s de um navegador da internet, como o Google Chrome, Mozilla Firefox, Internet Explorer, entre outros (Ferreira et al., 2015). Salienta-se ainda que, ap\u00f3s solicita\u00e7\u00e3o do utilizador, o browser envia o pedido URL, usando HTTP (Hypertext Transfer Protocol) (Catal\u00e3o, 2015).\n\u2022\tServidor Web \u2014 computador que est\u00e1 interligado em rede com a inten\u00e7\u00e3o de prover servi\u00e7os para os outros hosts, isto \u00e9, tem como objetivo permitir o acesso a p\u00e1ginas, embora, na sua\ness\u00eancia, n\u00e3o tenha a fun\u00e7\u00e3o de as personalizar. Assim sendo, este tipo de servidor n\u00e3o interage com a base de dados, limita-se a receber as requisi\u00e7\u00f5es do cliente (browser) e responder-lhe em codifica\u00e7\u00e3o HTML (HyperText Markup Language) (SOFTWARELIVRE, 2017). Oliveira (2016) considera que \u00e9 um programa de computador, que utiliza o HTTP como interliga\u00e7\u00e3o entre os pedidos solicitados pelo cliente e a resposta aos mesmos com a forma\u00e7\u00e3o da p\u00e1gina de internet.\n\u2022\tServidor de Mapas \u2014 aplica\u00e7\u00e3o que, por meio das requisi\u00e7\u00f5es do cliente, representa os mapas atrav\u00e9s da comunica\u00e7\u00e3o com os dados geoespaciais (Gorni et al., 2007). Para Pimenta et al. (2012), estes servidores permitem a intera\u00e7\u00e3o dos utilizadores com a informa\u00e7\u00e3o espacial que foi disponibilizada.\n\u2022\tBase de dados espacial \u2014 elemento que armazena a informa\u00e7\u00e3o geoespacial sendo, por esta raz\u00e3o, a base para a constru\u00e7\u00e3o de um GeoPortal.\n\u2022\tLinguagem de Programa\u00e7\u00e3o \u2014 ter\u00e1 que ser compat\u00edvel com os sistemas de informa\u00e7\u00e3o na internet (Gorni et al., 2007).\nEm jeito de conclus\u00e3o, Bonnici (2005) acrescenta, ainda, o componente referente ao hardware em que discrimina tr\u00eas elementos: o servidor central, o computador do cliente e a liga\u00e7\u00e3o via intranet ou internet, respetivamente, por meio da Local Area Network (LAN) ou Wide Area Network (WAN). Citando Catal\u00e3o (2015), a LAN liga um utilizador \u00e0 internet, atrav\u00e9s de routers, e estes, por sua vez, enviam os pedidos aos destinos na internet. No entanto, este termo est\u00e1 associado a redes de computadores restritas a um determinado lugar f\u00edsico.\n2.4.\tGest\u00e3o de Informa\u00e7\u00e3o\nCom a evolu\u00e7\u00e3o da tecnologia, o fluxo da informa\u00e7\u00e3o \u00e9 proporcional ao do conhecimento. Muitas organiza\u00e7\u00f5es, por desconhecimento dos dados que t\u00eam em seu poder, deparam-se com graves incertezas no que se refere \u00e0 informa\u00e7\u00e3o que necessitam, aquando da aquisi\u00e7\u00e3o de novos dados. Neste \u00e2mbito, o conceito de gest\u00e3o de informa\u00e7\u00e3o \u00e9 um processo que permite \u00e0 organiza\u00e7\u00e3o saber usar os dados dispon\u00edveis de forma inteligente, j\u00e1 que, atualmente, a informa\u00e7\u00e3o \u00e9 um dos alicerces de controle de recursos na tomada de decis\u00e3o. A gest\u00e3o de informa\u00e7\u00e3o consiste em compreender as necessidades de estrutura\u00e7\u00e3o da informa\u00e7\u00e3o, no per\u00edodo compreendido entre a recolha e a sua utiliza\u00e7\u00e3o. Maravilhas-Lopes (2013) considera que, no intervalo destas duas etapas, o processo passa pela identifica\u00e7\u00e3o, classifica\u00e7\u00e3o, processamento, armazenamento e dissemina\u00e7\u00e3o da informa\u00e7\u00e3o pertinente e atualizada, atrav\u00e9s da internet, em fun\u00e7\u00e3o das necessidades dos utilizadores (Figura 2.2).\nFigura 2.2 \u2014 Gest\u00e3o da informa\u00e7\u00e3o e conhecimento na AP (Vidigal, 2014).\nO mesmo autor, referindo-se \u00e0 relev\u00e2ncia da gest\u00e3o de informa\u00e7\u00e3o para as organiza\u00e7\u00f5es, real\u00e7a o facto desta ser uma mais-valia, dado que traz vantagens na dete\u00e7\u00e3o de novas oportunidades, na cria\u00e7\u00e3o de benef\u00edcios competitivos e, por \u00faltimo, proporciona a defesa de amea\u00e7as provenientes da concorr\u00eancia.\n2.5.\tTermos t\u00e9cnicos\nPara a implementa\u00e7\u00e3o do portal em constru\u00e7\u00e3o, no que respeita \u00e0 cria\u00e7\u00e3o da base de dados espacial e do desenvolvimento da aplica\u00e7\u00e3o Web, neste contexto, foram tidas em considera\u00e7\u00e3o especifica\u00e7\u00f5es do OGC (Open Geospatial Consortium), as normas ISO (International Organization for Standardization), alguns formatos de dados e determinadas bibliotecas, que s\u00e3o indicados e descritos a seguir.\n2.5.1.\tEspecifica\u00e7\u00f5es OGC\nNa d\u00e9cada de 80, o SIG era fortemente utilizado nos dom\u00ednios dos recursos naturais e defesa, especialmente dentro das ag\u00eancias governamentais. Contudo, os utilizadores come\u00e7aram a sentir alguns constrangimentos no que concerne \u00e0 limita\u00e7\u00e3o e ao custo da aplica\u00e7\u00e3o bem como \u00e0 incapacidade de compartilhar dados geoespaciais (OGC, 2017). Nesta linha de pensamento, em 1994, foi fundada a OGC, que \u00e9 uma organiza\u00e7\u00e3o internacional sem fins lucrativos, com o compromisso de criar padr\u00f5es abertos de qualidade para a comunidade geoespacial global. Esses padr\u00f5es s\u00e3o efetuados atrav\u00e9s de um processo de consenso, entre membros de empresas de programas propriet\u00e1rios, entidades governamentais e universidades, e est\u00e3o dispon\u00edveis gratuitamente para qualquer utilizador usar para melhorar a partilha dos dados geoespaciais do mundo (OGC, 2017). Entre os padr\u00f5es dispon\u00edveis, foram considerados os seguintes:\n\u2022\tGML (Geographical Markup Language) \u2014 padr\u00e3o de codifica\u00e7\u00e3o desenvolvido pelo OpenGIS (Open GIS Consortium) e um formato baseado em XML para expressar caracter\u00edsticas geogr\u00e1ficas. O GML serve, por um lado, como linguagem de modela\u00e7\u00e3o para sistemas geogr\u00e1ficos e, por outro, como formato de interc\u00e2mbio aberto para transa\u00e7\u00f5es geogr\u00e1ficas na Internet (OGC, 2017).\n\u2022\tWKT (Well-know Text) \u2014 linguagem de marca\u00e7\u00e3o de texto para representar as geometrias dos objetos em formato vetorial num mapa, sistemas de refer\u00eancia espacial de objetos espaciais e transforma\u00e7\u00f5es entre estes sistemas. O WKT foi definido pela OGC e descrito nas suas especifica\u00e7\u00f5es do Simple Feature Access e do Servi\u00e7o de Transforma\u00e7\u00e3o de Coordenadas. O PostGIS cont\u00e9m fun\u00e7\u00f5es que podem converter geometrias para e de uma representa\u00e7\u00e3o WKT, tornando-as, deste modo, leg\u00edveis para os humanos.\n\u2022\tWKT-CRS (Well-know Text Representation of Coordinate Reference Systems) \u2014 padr\u00e3o que fornece uma vers\u00e3o atualizada da representa\u00e7\u00e3o WKT de sistemas de refer\u00eancia de coordenadas, que segue as disposi\u00e7\u00f5es da ISO 19111: 2007 e da ISO 1911-1: 2009 (OGC, 2017). O WKT-CRS destina-se a representar objetos em formato vetorial num mapa, no seu sistema de refer\u00eancia, alargando a vers\u00e3o anterior do WKT, para permitir a descri\u00e7\u00e3o das opera\u00e7\u00f5es de coordenadas.\n2.5.2.\tNormas ISO\n\u2022\t19103: 2015 \u2014 norma que determina regras e diretrizes para o uso de uma linguagem de esquema conceitual no contexto da geoinforma\u00e7\u00e3o. Neste enquadramento, a nota\u00e7\u00e3o UML (Unified Modelling Language) \u00e9 a escolhida fornecendo, no entanto, ainda o perfil para esta nota\u00e7\u00e3o (ISO 19103, 2015).\n\u2022\tSFA - SQL (Simple Feature Access - Part 2: SQL option) ou ISO 19125 \u2014 tanto \u00e9 uma\nespecifica\u00e7\u00e3o OGC como uma norma ISO, especificamente a 19125, que descreve um modelo comum de armazenamento e acesso de geometrias principalmente bidimensionais (ponto, linha, pol\u00edgono, multiponto, multilinha, entre outros) utilizados pelos SIG.\nA norma ISO 19125 est\u00e1 dividida em duas partes. A ISO 19125-1 (SFA - Common Architecture para \"arquitetura comum\") exp\u00f5e um modelo, que \u00e9 uma hierarquia de classes para caracter\u00edsticas simples bidimensionais, com interpola\u00e7\u00e3o linear entre v\u00e9rtices, definindo tamb\u00e9m representa\u00e7\u00e3o WKT e WKB (Well-know binary). A ISO 19125-2 (SFA-SQL) define uma implementa\u00e7\u00e3o, usando SQL (OGC, 2010).\n2.5.3.\tFormato de dados\n\u2022\tXML (eXtensible Markup Language) \u2014 linguagem projetada para entendimento humano, leg\u00edvel para m\u00e1quinas e, ainda, para armazenar e transportar dados, num formato de texto simples.\n\u2022\tJSON (JavaScript Object Notation) \u2014 forma leve de interc\u00e2mbio de dados, acess\u00edvel para os humanos lerem e escreverem (JSON, 2017).\n\u2022\tGeoJSON (Geometry JavaScript Notation Object) \u2014 formato de interc\u00e2mbio de dados geoespaciais baseado em JSON, pelo que tem a capacidade de definir v\u00e1rios tipos de objetos JSON de maneira a representar as caracter\u00edsticas geogr\u00e1ficas, as suas propriedades e extens\u00f5es espaciais (Butler et al., 2016). Estes autores real\u00e7am, ainda, o facto de este formato estar em conformidade com a especifica\u00e7\u00e3o SFSSQL, atual SFA - SQL da OGC.\n2.5.4.\tBibliotecas\n\u2022\tProj.4 \u2014 biblioteca de rotinas referente \u00e0s proje\u00e7\u00f5es cartogr\u00e1ficas, de c\u00f3digo aberto, o que permite ser acedido pelo MapServer, em tempo real, (Kropla, 2005). Atrav\u00e9s dela, \u00e9 poss\u00edvel a convers\u00e3o de coordenadas, geogr\u00e1ficas e projetadas, entre os diversos sistemas de coordenadas e tipos de proje\u00e7\u00f5es.\n\u2022\tGDAL (Geospatial Data Abstraction Library) e OGR (Simple Feature Library) \u2014 bibliotecas distribu\u00eddas sob os termos da X/MIT, que \u00e9 uma licen\u00e7a de c\u00f3digo aberto para tradu\u00e7\u00e3o dos dados, em formato raster (Kropla, 2005) e vetorial (GDAL, 2017).\n2.6.\tSoftware livre e de c\u00f3digo aberto\nEm 1984, Richard Stallman funda a Free Software Foundation (FSF), uma entidade sem fins lucrativos, e inicia o projeto GNU (GNU\u2019s Not Unix), que tem como objetivo o desenvolvimento de um sistema operacional livre, ao pretender construir um programa completo que seja distribu\u00eddo com o seu c\u00f3digo-fonte (instru\u00e7\u00f5es que formam um programa) e em conson\u00e2ncia com as regras de licenciamento GPL (General Public License) (FSF, 2017). De acordo com a defini\u00e7\u00e3o da FSF, o software livre \u00e9 qualquer programa de computador em que os utilizadores t\u00eam a liberdade de o usar, copiar, distribuir, estudar e melhorar sem qualquer restri\u00e7\u00e3o. Contudo, para um programa ser considerado software livre, a FSF considera que tem de conter, como base, os quatro \u201cfundamentos\u201d abaixo referidos (ESOP, 2017; FSF, 2017), que se traduzem na liberdade para:\n\u2022\texecutar um programa com qualquer finalidade (liberdade 0);\n\u2022\testudar o funcionamento de um programa e adapt\u00e1-lo \u00e0s suas necessidades (liberdade 1), sendo o acesso ao c\u00f3digo-fonte um pr\u00e9-requisito para esta liberdade;\n\u2022\tredistribuir c\u00f3pias do programa (liberdade 2);\n\u2022\taperfei\u00e7oar o programa e partilhar os seus melhoramentos, de modo a que toda a comunidade beneficie com essas altera\u00e7\u00f5es (liberdade 3), licen\u00e7a que tamb\u00e9m requer o acesso ao c\u00f3digo.\nGodinho (2012) refor\u00e7a a ideia de que a supracitada licen\u00e7a GPL foi criada por Richard Stallman, em 1989, para suportar e regulamentar as 4 liberdades referidas, que caracterizam o software livre, bem como para as proteger, sendo atualmente a licen\u00e7a mais utilizada para este tipo de programa. \u00c9 de ressalvar que um programa que possua uma licen\u00e7a GPL \u00e9 de facto um software livre, no entanto, existem outras licen\u00e7as que poder\u00e3o ser utilizadas desde que sejam compat\u00edveis com estas liberdades. Ainda neste \u00e2mbito, \u00e9 de frisar que a licen\u00e7a GPL contempla as caracter\u00edsticas do copyleft, termo que se foca nas permiss\u00f5es, o que significa que as liberdades correspondentes \u00e0s modifica\u00e7\u00f5es e \u00e0s distribui\u00e7\u00f5es do c\u00f3digo-fonte est\u00e3o garantidas (liberdade 2 e 3).\nSegundo a FSF (2017), o conceito de software livre adv\u00e9m da autonomia dada ao utilizador, ou seja, do poder que este tem de controlar a tecnologia que usa no seu computador, que se traduz em proporcionar benef\u00edcios individuais e comunit\u00e1rios ao inv\u00e9s dos programas propriet\u00e1rios, que possam procurar a restri\u00e7\u00e3o do mesmo.\nEm simult\u00e2neo, existe o software de c\u00f3digo aberto, criado em 1998, por iniciativa principal de Eric Raymond em colabora\u00e7\u00e3o com Bruce Perens e que foi desenvolvido para e por um conjunto de utilizadores, sendo distribu\u00eddo sob licen\u00e7as que est\u00e3o de acordo com a defini\u00e7\u00e3o de c\u00f3digo aberto. Neste movimento, surgiu a OSI (Open Source Initiative) que, n\u00e3o ignorando as liberdades da FSF, veio estabelecer um conjunto de crit\u00e9rios para que um programa seja considerado de c\u00f3digo aberto, designadamente (OPENSOURCE, 2007):\n1.\tRedistribui\u00e7\u00e3o livre.\n2.\tDisponibiliza\u00e7\u00e3o do c\u00f3digo-fonte.\n3.\tAutoriza\u00e7\u00e3o para se realizar altera\u00e7\u00f5es no c\u00f3digo-fonte.\n4.\tIntegridade na autoria do c\u00f3digo-fonte.\n5.\tN\u00e3o discrimina\u00e7\u00e3o de pessoas, individualmente ou em grupo.\n6.\tReprova\u00e7\u00e3o de condicionamento a qualquer \u00e1rea de atividade.\n7.\tIgualdade de direitos, associados ao programa, para distribuidores e utilizadores do mesmo.\n8.\tOs mesmos direitos inerentes ao programa independentemente do produto.\n9.\tN\u00e3o apresenta\u00e7\u00e3o de reservas a outros programas.\n10.\tA licen\u00e7a deve ser tecnologicamente neutra.\nOs 10 crit\u00e9rios v\u00eam suprir a impossibilidade de integrar o c\u00f3digo-fonte, desenvolvido em conjunto com c\u00f3digo propriet\u00e1rio que, de acordo com o projeto GNU, sob a licen\u00e7a GPL, n\u00e3o s\u00e3o permitidos. Assim sendo, o software de c\u00f3digo aberto est\u00e1 definido como um programa que pode ser acedido, usado, alterado e disponibilizado gratuitamente, em forma modificada ou n\u00e3o, por qualquer utilizador (OPENSOURCE, 2012).\n2.7.\tO software de c\u00f3digo aberto na Administra\u00e7\u00e3o P\u00fablica\nNo \u00e2mbito da implementa\u00e7\u00e3o da tem\u00e1tica software livre e de c\u00f3digo aberto, em Portugal, por ordem cronol\u00f3gica, destacam-se algumas iniciativas pol\u00edticas e legisla\u00e7\u00e3o nacional:\n\u2022 Transposi\u00e7\u00e3o para a legisla\u00e7\u00e3o portuguesa de algumas das sugest\u00f5es da diretiva eEurope 2002, prevista na Resolu\u00e7\u00e3o do Conselho de Ministros n.\u00b0 21/2002 (Presid\u00eancia do Conselho de Ministros, Di\u00e1rio da Rep\u00fablica - I S\u00e9rie-B, n.\u00b0 26, 31 de Janeiro de 2002, fl. 886), que aponta no sentido da promo\u00e7\u00e3o da utiliza\u00e7\u00e3o de sistemas abertos de software pela Administra\u00e7\u00e3o P\u00fablica (AP). A eEurope 2002 foi um plano de a\u00e7\u00e3o que visava estimular servi\u00e7os, aplica\u00e7\u00f5es e conte\u00fados assentes numa infraestrutura de banda larga amplamente dispon\u00edvel, fomentando a utiliza\u00e7\u00e3o de software de c\u00f3digo aberto no sector p\u00fablico.\n\u2022\tRefer\u00eancia direta ao software aberto e \u00e0 sua potencial utiliza\u00e7\u00e3o na AP feita, pela primeira vez, no Programa do XVI Governo Constitucional (2004-2005), aprovado pelo Conselho de Ministros, em 23 de Julho de 2004.\n\u2022\tRecomenda\u00e7\u00e3o ao governo da tomada de medidas com vista ao desenvolvimento do software livre em Portugal, conforme Resolu\u00e7\u00e3o da Assembleia da Rep\u00fablica n.\u00b0 66/2004, de 23 de Setembro de 2004 (Assembleia da Rep\u00fablica, Di\u00e1rio da Rep\u00fablica - I S\u00e9rie-A, n.\u00b0 243, 15 de Outubro de 2004, fl. 6306). Das medidas propostas, no ponto 5, destaca-se o estabelecimento da obrigatoriedade de acesso ao c\u00f3digo-fonte e especifica\u00e7\u00f5es dos formatos de dados na aquisi\u00e7\u00e3o de solu\u00e7\u00f5es inform\u00e1ticas destinadas \u00e0 utiliza\u00e7\u00e3o pela AP.\n\u2022\tDecis\u00e3o de utiliza\u00e7\u00e3o de normas abertas nos sistemas inform\u00e1ticos do Estado, definida na Lei n.\u00b0 36/2011 (Assembleia da Rep\u00fablica, Di\u00e1rio da Rep\u00fablica - I S\u00e9rie, n.\u00b0 118, 21 de Junho de 2011, fl. 3599), na linha do Projeto de Lei n.\u00b0 421/XI/2.a, apresentado pelo Partido Comunista Portugu\u00eas (PCP), em 23 de Setembro de 2010. No artigo 5.\u00b0, estabelece o regulamento nacional de interoperabilidade digital.\n\u2022\tDelibera\u00e7\u00e3o sobre a adop\u00e7\u00e3o de normas abertas nos sistemas inform\u00e1ticos do Estado, definida no Decreto-Lei n\u00b0 98/XI, aprovado a 6 de Abril de 2011, que teve por base o Projeto de Lei 389/XI/1.a, proposto pelo Bloco de Esquerda (BE), em 15 de Julho de 2010 e o Projeto de Lei n.\u00b0 421/XI/2.a, j\u00e1 acima referido. No p.1 do art. 4.\u00b0, imp\u00f5e que \u201ctodos os processos de implementa\u00e7\u00e3o, licenciamento ou evolu\u00e7\u00e3o de sistemas inform\u00e1ticos na Administra\u00e7\u00e3o P\u00fablica prev\u00eaem obrigatoriamente a utiliza\u00e7\u00e3o de normas abertas\u201d.\n\u2022\tRecomenda\u00e7\u00e3o de utiliza\u00e7\u00e3o de software aberto nos sistemas de informa\u00e7\u00e3o do Estado, sempre que a maturidade e o custo sejam favor\u00e1veis, inclu\u00edda na Resolu\u00e7\u00e3o do Conselho de Ministros n.\u00b0 12/2012 (Presid\u00eancia do Conselho de Ministros, Di\u00e1rio da Rep\u00fablica - I S\u00e9rie, n.\u00b0 27, 7 de Fevereiro de 2012. Esta medida, surgiu como est\u00edmulo ao crescimento econ\u00f3mico (Plano de a\u00e7\u00e3o, Anexo, p. 8, fl.604).\nSegundo Trezentos e Sim\u00e3o (2004), no que concerne a diretivas internacionais, existe a eEurope 2005, \u201cUma Sociedade de Informa\u00e7\u00e3o para Todos\u201d, que veio suceder \u00e0 diretiva eEurope 2002 e que se baseia em normas abertas, incentivando \u00e0 utiliza\u00e7\u00e3o de software de fonte aberta.\nComo vantagens, desvantagens, oportunidades e amea\u00e7as na utiliza\u00e7\u00e3o de software de c\u00f3digo aberto, em compara\u00e7\u00e3o com produtos propriet\u00e1rios, estes autores e APDSI (2004) apontam os fatores indicados nas Tabela 2.1 e Tabela 2.2.\nCa\u00e7ador (2008) refere que, no \u00e2mbito de um protocolo patrocinado pelo Gabinete do Plano Tecnol\u00f3gico, se prev\u00ea a realiza\u00e7\u00e3o de algumas iniciativas de promo\u00e7\u00e3o de software livre, salientando a vantagem que o Estado Portugu\u00eas tem em investir no software de c\u00f3digo aberto, devido ao efeito ben\u00e9fico que produz na economia, uma vez que:\n\u2022\treduzindo as importa\u00e7\u00f5es de programas, a balan\u00e7a comercial melhora;\n\u2022\tsendo a aquisi\u00e7\u00e3o de software de c\u00f3digo aberto um custo que se prende com sistemas de informa\u00e7\u00e3o, ao diminuir a sua importa\u00e7\u00e3o, a redu\u00e7\u00e3o do custo deixa dispon\u00edvel mais verba para investimento na economia local.\nNesta linha de racioc\u00ednio, \u00e9 de referir que a APDSI salienta a import\u00e2ncia do software de c\u00f3digo aberto na Administra\u00e7\u00e3o P\u00fablica, referenciando-o como um ator de peso, quando comparado com os produtos propriet\u00e1rios, visto criar alternativas \u00e0s solu\u00e7\u00f5es existentes e colaborar com os princ\u00edpios saud\u00e1veis da concorr\u00eancia, permitindo n\u00e3o depender de fornecedores. A APDSI (2004) evidencia\nainda que, numa altura em que \u00e9 absolutamente necess\u00e1rio reduzir na despesa, aquando da aquisi\u00e7\u00e3o de solu\u00e7\u00f5es inform\u00e1ticas, deve ser tido em conta que, quer este tipo de software aberto quer os produtos propriet\u00e1rios, est\u00e3o em igualdade de circunst\u00e2ncias. De acordo com o estudo realizado por Godinho (2012), desde o in\u00edcio de 2010, tomou-se a iniciativa de incluir solu\u00e7\u00f5es de c\u00f3digo aberto na lista de compras p\u00fablicas do Estado Portugu\u00eas, processo conduzido pela Ag\u00eancia Nacional de Contas P\u00fablicas (ANCP).\nConv\u00e9m ainda deixar sublinhado, neste contexto, que os produtos propriet\u00e1rios s\u00e3o os que det\u00eam os seus direitos de uso, edi\u00e7\u00e3o ou redistribui\u00e7\u00e3o. Ao n\u00e3o disponibilizar o seu c\u00f3digo-fonte, os fornecedores propriet\u00e1rios criaram uma rela\u00e7\u00e3o cont\u00ednua de depend\u00eancia com os utilizadores, formalizado pelo suporte t\u00e9cnico que \u00e9 custeado inteiramente pelos clientes.\nTabela 2.1 \u2014 Vantagens e Desvantagens do Software de c\u00f3digo aberto\nSoftware de c\u00f3digo aberto\t\nVantagens\tDesvantagens\na flexibilidade\ta possibilidade de proveni\u00eancia duvidosa\no custo de licenciamento\to risco de fragmenta\u00e7\u00e3o\na inexist\u00eancia de problemas derivados do licenciamento\tos problemas de instala\u00e7\u00e3o\na conformidade com as normas da ind\u00fastria\ta pobre documenta\u00e7\u00e3o de suporte\na interoperabilidade com sistemas existentes\tos problemas de seguran\u00e7a\na seguran\u00e7a\to suporte t\u00e9cnico escasso\no r\u00e1pido desenvolvimento e corre\u00e7\u00e3o de falhas\ta aus\u00eancia de abrigo legal\na capacidade de aumentar o tamanho do programa\ta inexist\u00eancia de perten\u00e7a a uma organiza\u00e7\u00e3o\n\ta incerteza estrat\u00e9gica\nTabela 2.2 \u2014 Oportunidades e Amea\u00e7as do Software de c\u00f3digo aberto\nSoftware de c\u00f3digo aberto\t\nOportunidades\tAmea\u00e7as\na conectividade pela internet\to risco de fragmenta\u00e7\u00e3o\nos muitos distribuidores certificados\ta necessidade de controlo da vers\u00e3o\na estrutura de suporte muito competitiva\ta depend\u00eancia de esfor\u00e7os comuns\no grande surgimento de empresas ligadas ao sector da distribui\u00e7\u00e3o e suporte t\u00e9cnico\ta exist\u00eancia de pessoal t\u00e9cnico especializado\no suporte pelos \u201cgigantes\u201d da ind\u00fastria\ta forte concorr\u00eancia no sector\n2.8.\tSoftware de c\u00f3digo aberto\n2.8.1.\tPostgreSQL/PostGIS\nPostgreSQL \u2014 \u00e9 um sistema de gest\u00e3o de base de dados objeto-relacional (SGBDR) resultante do pacote POSTGRES, que come\u00e7ou a ser constru\u00eddo em meados de 1986, numa Universidade da\nCalif\u00f3rnia, a Universidade de Berkeley (Neto, 2003). \u00c9 um projeto que foi patrocinado pela Defense Advanced Research Projects Agency, pelo Army Research Office, pela National Science Foundation e pela ESL, Inc, gratuito e de c\u00f3digo de fonte aberto (Stonebraker et al., 1990) e liderado pelo professor Michael Stonebraker.\nCom base no trabalho anteriormente realizado, em 1995, Andrew Yu e Jolly Chen, sob a lideran\u00e7a do professor Michael Stonebaker, adicionaram um interpretador da linguagem SQL ao POSTGRES, o que originou o Postgres95 cujo c\u00f3digo foi totalmente escrito em ANSI C (American National Standards Institute C) (PostgreSQL, 2017). No entanto, segundo os autores Queiroz e Ferreira (2005) o c\u00f3digo-fonte foi disponibilizado na internet (http://www.postgresql.org), e, desde ent\u00e3o, os desenvolvedores v\u00eam mantendo e aperfei\u00e7oando aquele c\u00f3digo sob o nome PostgreSQL. Segundo PostgreSQL (2017), o PostgreSQL \u00e9 um poderoso SGBDR de c\u00f3digo aberto, tem mais de 15 anos de desenvolvimento ativo e uma arquitetura comprovada, o que lhe valeu uma forte reputa\u00e7\u00e3o de confian\u00e7a, integridade de dados e corre\u00e7\u00e3o.\nQueiroz e Ferreira (2005) referem tamb\u00e9m que o PostgreSQL \u00e9 dotado de tipos de dados geom\u00e9tricos (Figura 2.3), operadores espaciais simples e indexa\u00e7\u00e3o espacial, atrav\u00e9s de uma R-Tree nativa, enquanto Hellerstein et al. (1995) consideram que \u00e9 por interm\u00e9dio de uma R-Tree, implementada no topo do mecanismo de indexa\u00e7\u00e3o GIST (Generalized Search Trees). PostgreSQL (2017) acrescenta ainda que este SGBDR suporta \u00edndices compostos, \u00fanicos, parciais e funcionais que, no entanto, podem usar qualquer um dos m\u00e9todos de armazenamento B-tree, R-tree, hash ou GiST (PostgreSQL, 2017). A indexa\u00e7\u00e3o espacial \u00e9 um fator importante porque tem a finalidade de fornecer mecanismos, que permitem aumentar a performance do sistema no momento da consulta, atrav\u00e9s de queries, e da recupera\u00e7\u00e3o dos dados espaciais (Queiroz e Ferreira, 2005).\nFigura 2.3 \u2014 Tipos geom\u00e9tricos do PostgreSQL (Queiroz e Ferreira, 2005).\nNo que diz respeito \u00e0 licen\u00e7a, o c\u00f3digo-fonte do PostgreSQL est\u00e1 dispon\u00edvel mediante uma autoriza\u00e7\u00e3o liberal de c\u00f3digo aberto: a Licen\u00e7a PostgreSQL. Como diz PostgreSQL (2017), esta autoriza\u00e7\u00e3o permite usar, modificar e distribuir o PostgreSQL, de fonte aberta ou fechada, consoante o utilizador pretender. Sublinha-se que todas as altera\u00e7\u00f5es ou aperfei\u00e7oamentos efetuados s\u00e3o do utilizador, que n\u00e3o tem que as partilhar ou disponibilizar. Em s\u00edntese, este SGBDR \u00e9 dotado de boa capacidade de armazenamento, robusto no seu desempenho e, por \u00faltimo, com a aptid\u00e3o de depositar e trabalhar com dados espaciais.\nAkbari e Peikar (2014) apresentam um estudo comparativo entre os v\u00e1rios SGBD, referindo ainda que a base de dados em MySQL n\u00e3o tem implementadas todas as fun\u00e7\u00f5es espaciais. Acrescenta, ainda, que o PostGIS \u00e9 compatibilidade com SQL/MM, que suporta os tipos geom\u00e9tricos e geogr\u00e1ficos, fun\u00e7\u00f5es e indexa\u00e7\u00e3o espacial.\nO PostgreSQL, embora possua interessantes \u201ctipos geom\u00e9tricos\u201d, apresenta limita\u00e7\u00f5es no caso dos dados e an\u00e1lises em SIG, j\u00e1 que estes foram constru\u00eddos para fins de pesquisa acad\u00e9mica e s\u00e3o mais adequados para computa\u00e7\u00e3o gr\u00e1fica (PostGIS, 2017). Face ao exposto, um dos pontos fortes deste\nSGBDR \u00e9 o seu potencial de extensibilidade, o que possibilitou o desenvolvimento de uma extens\u00e3o geogr\u00e1fica mais completa, o PostGIS (Queiroz e Ferreira, 2005).\nNeste \u00e2mbito, o PostGIS surge com o objetivo de acrescentar a dimens\u00e3o espacial ao PostgreSQL, tornando-o, assim, num sistema de base de dados espacial, em que s\u00e3o adicionados os tr\u00eas principais recursos espaciais: tipos, \u00edndices e fun\u00e7\u00f5es (Figura 2.4). Inclui, tamb\u00e9m, no caso de tabelas de grandes dimens\u00f5es, o suporte de \u00edndices espaciais (GiST e R-Tree), o que vem permitir a otimiza\u00e7\u00e3o na consulta SQL (PostGIS, 2017). Esta extens\u00e3o segue as especifica\u00e7\u00f5es do OGC \u201cSFA - SQL\u201d (anterior OpenGIS \"Simple Feature Specification for SQL\" (SFSSQL)), atualmente certificado como compat\u00edvel com o perfil \"Tipos e Fun\u00e7\u00f5es\". O desenvolvimento do PostGIS foi iniciado pela Refractions Research, em 2001, como um projeto de base de dados espacial de c\u00f3digo aberto e foi lan\u00e7ado sob a licen\u00e7a GNU (GPLv2 ou posterior). O seu crescimento \u00e9 cont\u00ednuo e, desde ent\u00e3o, t\u00eam sido acrescentados instrumentos de interface de utilizador, suporte a topologia b\u00e1sica, valida\u00e7\u00e3o de dados, transforma\u00e7\u00e3o de coordenadas, API (Application Programming Interface) de programa\u00e7\u00e3o e muito mais (PostGIS, 2017). Este m\u00f3dulo espacial suporta os tipos de geometrias especificados pela OGC (anteriormente OpenGIS), apresentados na Figura 2.4.\nFigura 2.4 \u2014 Tipos de dados espaciais do PostGIS (Queiroz e Ferreira, 2005).\nUma base de dados geogr\u00e1fica permite que se realizem as opera\u00e7\u00f5es de armazenamento de dados geogr\u00e1ficos, incluindo a sua componente espacial de consultas e de an\u00e1lise, o que envolve os processos de edi\u00e7\u00e3o. Neste \u00e2mbito, a BDG proporciona aos utilizadores trabalhar num sistema multiusu\u00e1rio, que possibilita, em simult\u00e2neo, efetuar altera\u00e7\u00f5es \u00e0 mesma entidade geogr\u00e1fica ou convencional e, por outro lado, d\u00e1 a possibilidade de conceder diferentes privil\u00e9gios a cada utilizador. Esta \u00faltima capacidade admite a exist\u00eancia de utilizadores com permiss\u00e3o apenas para visualiza\u00e7\u00e3o da informa\u00e7\u00e3o e de outros que a podem editar, remover e atualizar. Em suma, pode dizer-se que a extens\u00e3o espacial PostGIS confere poderes ao PostgreSQL para que ele trabalhe com dados geoespaciais e tenha recursos de geoprocessamento. No entanto, constata-se que o PostgreSQL pode ser instalado sem o PostGIS, salientando-se ainda o facto de que o PostgreSQL n\u00e3o trabalha com geoinforma\u00e7\u00e3o se n\u00e3o tiver o plugin PostGIS instalado.\nComo interface gr\u00e1fica, este SGBDR utiliza o pgAdmin, que \u00e9 definido como uma ferramenta de administra\u00e7\u00e3o e gest\u00e3o de c\u00f3digo aberto para a base de dados PostgreSQL, servindo de apoio \u00e0 manipula\u00e7\u00e3o da base de dados. Esta ferramenta tem a potencialidade de permitir a cria\u00e7\u00e3o, manuten\u00e7\u00e3o e consulta de tabelas e a importa\u00e7\u00e3o e exporta\u00e7\u00e3o de dados, por meio de uma interface gr\u00e1fica.\n2.8.2.\tMapServer\nMapServer \u2014 \u00e9 uma solu\u00e7\u00e3o desenvolvida em ambiente de c\u00f3digo aberto, com a finalidade de criar aplica\u00e7\u00f5es de mapas interativos para a internet e \u00e9 gratuito. Originalmente, em 1984, foi desenvolvido pela Universidade de Minnesota (UMN), no projeto ForNet, em coopera\u00e7\u00e3o com a National American Space Agency (NASA), que o subsidiou, e o Departamento de Recursos Naturais de Minnesota. Posteriormente, o Mapserver foi acolhido pelo projeto TerraSIP, tamb\u00e9m patrocinado pela NASA, um projeto entre o UMN e um cons\u00f3rcio de interesses de gest\u00e3o de terras. Todavia, \u00e9 uma aplica\u00e7\u00e3o que n\u00e3o pretende ser um SIG completo, sendo executado em todas as principais plataformas (Windows, Linux, Mac OS X) e foi lan\u00e7ado sob uma licen\u00e7a MIT (Massachusetts Institute of Technology) (Ingvarsson, 2004; Mapserver, 2017).\nA funda\u00e7\u00e3o OSGeo (Open Source Geospatial Foundation) tem o MapServer como um dos projetos fundadores, que \u00e9 mantido por programadores de todo o mundo. Um grupo diversificado de organiza\u00e7\u00f5es apoia o financiamento do seu aperfei\u00e7oamento e manuten\u00e7\u00e3o, pertencendo a administra\u00e7\u00e3o ao OSGeo, atrav\u00e9s do Comit\u00e9 Diretor do Projeto MapServer, composto por aqueles especialistas e outros colaboradores. Todo o c\u00f3digo-fonte est\u00e1 abertamente dispon\u00edvel, atrav\u00e9s do GitHub (http://mapserver.gis.umn.edu/about.html#about).\nEsta solu\u00e7\u00e3o, comparativamente com outros servidores de mapas existentes no mercado, \u00e9 considerada por Steiniger e Hunter (2012) o servidor de mapas detentor de um excelente desempenho nas suas funcionalidades e na velocidade de processamento de conjuntos de dados de grande volume. Estes autores real\u00e7am, ainda, que o MapServer \u00e9 considerado como sendo a ferramenta que lidera, a n\u00edvel mundial, o processo de mapeamento de c\u00f3digo aberto e que est\u00e1 em conformidade com as especifica\u00e7\u00f5es da Web WMS, WFS e WCS (Web Coverage Service) da OGC. Este servidor, al\u00e9m de permitir a visualiza\u00e7\u00e3o dos mapas, possibilita ainda a sua intera\u00e7\u00e3o com o utilizador. Segundo Pimenta et al. (2013), os servidores de mapas din\u00e2micos podem integrar dados geoespaciais representados por mapas tem\u00e1ticos, imagens de sat\u00e9lite, ortofotomapas e modelos 3D.\nSegundo Kanegae (2005), existem tr\u00eas modos diferentes para o Mapserver ser utilizado e que passam a ser descritos:\n\u2022\tCGI (Common Gateway Interface) \u2014 maneira mais simples de se trabalhar com esta aplica\u00e7\u00e3o, em que o ficheiro execut\u00e1vel (mapserv.exe) deve ser colocado numa pasta pr\u00f3pria (cgi-bin) do servidor Web Apache. Este ficheiro recebe os par\u00e2metros de inicializa\u00e7\u00e3o da aplica\u00e7\u00e3o webmapping, seguidamente, processa as requisi\u00e7\u00f5es solicitadas e, por \u00faltimo, reproduz ao cliente (browser) o mapa, a legenda, a escala, etc.\n\u2022\tMapScript \u2014 forma de combinar os recursos desta solu\u00e7\u00e3o com a linguagem de programa\u00e7\u00e3o que mais convier ao utilizador. Esta op\u00e7\u00e3o permite a cria\u00e7\u00e3o de aplica\u00e7\u00f5es com um grau mais elevado de personaliza\u00e7\u00e3o (Figura 2.5), o que possivelmente n\u00e3o ser\u00e1 conseguido, utilizando o MapServer em modo CGI. Em modo MapScript, o MapServer est\u00e1 dispon\u00edvel para as linguagens de programa\u00e7\u00e3o PHP, Python, Perl, Ruby, TCL, Java e C#.\n\u2022\tWebServices \u2014 modo que o MapServer tem de implementar as especifica\u00e7\u00f5es WMS, WFS e WCS do OGC, que facilitam o desenvolvimento de aplica\u00e7\u00f5es que o fazem funcionar como um servi\u00e7o de mapas via internet. Desta forma, \u00e9 poss\u00edvel disponibilizar os dados que ser\u00e3o acedidos por esta via, usando produtos desktop tais como: ArcView, ArcExplorer, Jump, QGIS ou uDIG.\nDe acordo com Muilwijk (2016), HTTP Apache foi lan\u00e7ado em 1995 e \u00e9 o servidor Web mais popular e mais utilizado em cerca de 52% de todos os websites a n\u00edvel mundial. A Apache Software\nFoundation \u00e9 uma organiza\u00e7\u00e3o sem fins lucrativos, que tem como horizontes o desenvolvimento de software de c\u00f3digo aberto e, no que respeita \u00e0 licen\u00e7a de software livre, o FSF considera existir compatibilidade entre as vers\u00f5es 2.0 da Licen\u00e7a Apache e a 3 da GPL (APACHE, 2017).\nFigura 2.5 \u2014 Arquitetura da Aplica\u00e7\u00e3o MapServer (adaptado de McKenna et al., 2007).\n2.8.3.\tp.Mapper\np.Mapper \u2014 \u00e9 uma aplica\u00e7\u00e3o (framework) desenvolvida inicialmente por Armin Burger, baseada na tecnologia do servidor de mapas MapServer e implementada em PHP/MapScript (PMAPPER, 2017), que faculta um conjunto de ferramentas prontas a serem exploradas pelo utilizador. Tem um plugin API para adicionar funcionalidades personalizadas e \u00e9 distribu\u00edda sob a licen\u00e7a GNU GPL, sendo de acrescentar ainda que foi lan\u00e7ada a custo zero, permitindo a altera\u00e7\u00e3o do c\u00f3digo-fonte e pode ser usada para qualquer fim.\nEsta aplica\u00e7\u00e3o foi constru\u00edda com diversas funcionalidades e v\u00e1rios plugins, que permitem ao utilizador criar uma aplica\u00e7\u00e3o WebSIG personalizada e interativa, ou seja, existe a possibilidade de adaptar a plataforma de acordo com os interesses e as necessidades de cada utilizador. \u00c9 uma solu\u00e7\u00e3o que admite a consulta (identifica\u00e7\u00e3o, sele\u00e7\u00e3o e pesquisa) de objetos geogr\u00e1ficos, o interface multilingue, a configura\u00e7\u00e3o flex\u00edvel de fun\u00e7\u00f5es, comportamento e layout, a impress\u00e3o de mapas, a visualiza\u00e7\u00e3o da escala do mapa e da legenda, o interface DHTML (Dynamic HTML) (DOM) zoom/ pan e deixa adicionar Plugins API. A Figura 2.6 mostra a arquitetura de um sistema WebSIG com PHP/MapScript, em que \u00e9 ilustrado o envolvimento dos diversos elementos que o integram.\nO esquema seguinte (Figura 2.7) espelha o ciclo que a informa\u00e7\u00e3o tem de percorrer at\u00e9 chegar ao utilizador de uma forma simples, acess\u00edvel e intuitiva.\nFigura 2.6 \u2014 Sistema WebGIS com PHP/MapScript - Arquitetura (Bughi, 2007).\nFigura 2.7 \u2014 Conex\u00e3o das camadas de informa\u00e7\u00e3o ao PostGIS na aplica\u00e7\u00e3o p.Mapper (adaptado de Singh etal., 2012).\nA leitura que se pode fazer desta representa\u00e7\u00e3o \u00e9 que o processo se inicia com a constru\u00e7\u00e3o da base de dados espacial em PostgreSQL/PostGIS, na qual a informa\u00e7\u00e3o \u00e9 acumulada em tabelas. Como estas ser\u00e3o alimentadas com geoinforma\u00e7\u00e3o, \u00e9 importante frisar que \u00e9 fundamental que se crie uma coluna para o campo correspondente \u00e0 geometria em que cada registo recebe a sua descri\u00e7\u00e3o espacial. Posteriormente, estas tabelas s\u00e3o chamadas pelo servidor de mapas MapServer/pMapper, atrav\u00e9s do ficheiro Mapfile, com base nas seguintes linhas de c\u00f3digo:\nCONNECTIONTYPE POSTGIS\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\" DATA \"geom FROM nome_tabela USING UNIQUE gid USING SRID=?\"\nEstas linhas traduzem a seguinte terminologia:\n\u2022\tCONNECTIONTYPE \u2014 tipo de liga\u00e7\u00e3o, isto \u00e9, nome da extens\u00e3o espacial.\n\u2022\tCONNECTION \u2014 par\u00e2metros de conex\u00e3o, especificamente, o nome da base de dados que cont\u00e9m a tabela espacial a ser carregada, o username, o host, a password e a porta de configura\u00e7\u00e3o.\n\u2022\tDATA \u2014 nome da coluna em que est\u00e1 inserida a geometria, nome da tabela espacial, o campo referente \u00e0 chave prim\u00e1ria e o SRID.\nDeste modo, o MapServer acede aos dados PostgreSQL/PostGIS com a potencialidade de poder exibir a informa\u00e7\u00e3o, que consta nas tabelas da base de dados PostgreSQL, usufruindo do PostGIS como suporte de expans\u00e3o espacial.\n2.9.\tLinguagens de c\u00f3digo aberto\nHTML (HyperText Markup Language) \u2014 \u00e9 a linguagem base dos websites. N\u00e3o sendo o HTML um script execut\u00e1vel, tem como utilidade descrever a estrutura da p\u00e1gina de uma forma sem\u00e2ntica. Como tal, n\u00e3o \u00e9 considerada uma linguagem de programa\u00e7\u00e3o, dado que \u00e9 utilizada para fins estruturais e n\u00e3o funcionais, n\u00e3o seguindo uma l\u00f3gica de programa\u00e7\u00e3o. Est\u00e1 diretamente relacionado com a linguagem CSS (Cascading Style Sheets), que tem como funcionalidade a estiliza\u00e7\u00e3o, proporcionando ao programador a descri\u00e7\u00e3o do estilo que o documento HTML dever\u00e1 exibir. S\u00e3o ambas linguagens que rodam na interface do cliente, ou seja, no seu navegador.\nPHP (Hypertext Preprocessor) \u2014 \u00e9 uma linguagem de script de c\u00f3digo aberto (open source) de uso geral muito utilizada, especialmente adequada para o desenvolvimento da internet e que pode ser inclu\u00edda no HTML, sendo uma linguagem de programa\u00e7\u00e3o usada para a cria\u00e7\u00e3o de sistemas de internet din\u00e2micos. Uma das caracter\u00edsticas mais fortes e mais significativas do PHP \u00e9 servir de suporte a uma ampla variedade de bases de dados, tendo a capacidade de abarcar informa\u00e7\u00f5es das mesmas. \u00c9 uma linguagem em que os scripts s\u00e3o interpretados no servidor e, \u00e0 semelhan\u00e7a de outro produto CGI, permite, entre outras fun\u00e7\u00f5es, recolher dados no formul\u00e1rio e gerar p\u00e1ginas com conte\u00fado din\u00e2mico. O que distingue o PHP do JavaScript, no interface do cliente, \u00e9 que os c\u00f3digos s\u00e3o interpretados no servidor, gerando o HTML que \u00e9 ent\u00e3o enviado para o navegador. Este recebe os resultados da execu\u00e7\u00e3o desse script, mas desconhece o c\u00f3digo-fonte (PHP, 2017). Al\u00e9m do PHP, tamb\u00e9m h\u00e1 outras linguagens que podem rodar do lado do servidor como ASP, Java, Python e at\u00e9 mesmo C ou C++.\nJavascript \u2014 \u00e9 definida como uma linguagem de programa\u00e7\u00e3o, usada em conjunto com o HTML, com a finalidade de permitir que as p\u00e1ginas escritas para a internet se tornem din\u00e2micas e possibilitem uma interatividade com o utilizador. Em suma, esta linguagem permite escrever pequenos scripts que s\u00e3o inseridos num documento HTML (Oliviero, 2001). O JavaScript \u00e9 uma linguagem orientada a objetos o que ir\u00e1 facilitar a tarefa da programa\u00e7\u00e3o, dado que considera todos os elementos da p\u00e1gina como objetos distintos. \u00c0 semelhan\u00e7a do HTML, \u00e9 uma linguagem para ser executada do lado do cliente, o que \u00e9 o mesmo que dizer que os scripts contidos nas p\u00e1ginas HTML s\u00e3o interpretados e executados, nos computadores, pelos seus utilizadores (Oliviero, 2001). O facto de ser uma linguagem interpretada significa que \u00e9 de c\u00f3digo aberto, n\u00e3o sendo compilada.\nSQL (Structured Query Language) \u2014 \u00e9 uma linguagem padr\u00e3o para armazenar, manipular e recuperar dados numa base de dados relacional, ou seja, que visa a intera\u00e7\u00e3o com as bases de dados fundadas no modelo relacional.\nA Figura 2.8 reflete, de forma percet\u00edvel, a intera\u00e7\u00e3o que existe entre HTML, CSS e Javascript, gerando um produto final, que \u00e9 matematicamente o resultado da intersec\u00e7\u00e3o dos tr\u00eas conjuntos.\nJavaScript\nPage Structure and content.\nBase level interactivity.\nScriptable page manipulation. High level interactivity.\nCSS\nPage design/ Look and feel.\nSimple\ninteractivity.\nModern Web Sites and Application\nFigura 2.8 \u2014 Intera\u00e7\u00e3o entre HTML, CSS e JavaScript (CHRIS-DURAN, 2014).\nO ciclo de rota\u00e7\u00e3o deste processo inicia-se com a inser\u00e7\u00e3o de um URL, no browser (cliente), que \u00e9 transmitido ao servidor; este executa uma sequ\u00eancia de c\u00f3digos, em linguagem PHP, com o intuito de aceder \u00e0 base de dados e extrair as informa\u00e7\u00f5es necess\u00e1rias para gerar o c\u00f3digo em HTML, JavaScript e CSS. Por sua vez, estas ser\u00e3o devolvidos ao navegador (cliente) que recebe este c\u00f3digo, executa-o e gera o produto final.\n2.10.\tAplica\u00e7\u00f5es utilizadas na implementa\u00e7\u00e3o do portal\nAs solu\u00e7\u00f5es utilizadas, na concretiza\u00e7\u00e3o do produto final proposto na presente disserta\u00e7\u00e3o, est\u00e3o expostas na Figura 2.9 em que, de entre as v\u00e1rias aplica\u00e7\u00f5es de c\u00f3digo aberto existentes e aplic\u00e1veis \u00e0 AP (Trezentos e Sim\u00e3o, 2004), os programas foram evidenciados pelas v\u00e1rias etapas, de maneira a facilitar a sua interpreta\u00e7\u00e3o.\nFigura 2.9 \u2014 Aplica\u00e7\u00f5es e linguagens utilizadas.\nsendo:\n\u2022\tApache Web Server \u2014 considerado uma refer\u00eancia em termos de solu\u00e7\u00e3o de internet.\n\u2022\tMapServer \u2014 servidor de mapas.\n\u2022\tp.Mapper \u2014 framework de webmapping, baseado em MapServer, e desenvolvido em PHP/PHP-Mapscript.\n\u2022\tPostGIS \u2014 extens\u00e3o espacial que permite efetuar o geoprocessamento, an\u00e1lise e armazenamento da informa\u00e7\u00e3o geoespacial, vetorial ou raster, numa base de dados PostgreSQL.\n\u2022\tPostgreSQL \u2014 Sistema de Gest\u00e3o de Base de Dados (SGBD) de c\u00f3digo aberto, mais avan\u00e7ado que o SGBD MySQL em que \u00e9 usado o pgAdmin4 como interface gr\u00e1fica.\n2.11.\tMetadados\nMetadados podem ser descritos como dados sobre os dados ou conjunto de dados, tendo como fUn\u00e7\u00e3o principal a localiza\u00e7\u00e3o e a caracteriza\u00e7\u00e3o de uma fonte de informa\u00e7\u00e3o. Na sua ess\u00eancia, os metadados t\u00eam que documentar a informa\u00e7\u00e3o, permitem organizar, de forma coerente, os dados de acordo com certos crit\u00e9rios, potenciando assim o desempenho das atividades se os dados estiverem a ser utilizados adequadamente. Este facto contribui, de certa maneira, para a efic\u00e1cia dos trabalhos que estiverem em curso.\nOs elementos que fornecem as caracter\u00edsticas importantes de um dado s\u00e3o, primordialmente, a fonte, o sistema de refer\u00eancia e a data. A fonte indica a localiza\u00e7\u00e3o geogr\u00e1fica do ponto onde os dados espaciais foram recolhidos e do local onde est\u00e3o armazenados; o sistema de refer\u00eancia indica o datum utilizado para posicionar os dados no espa\u00e7o (por exemplo, no trabalho de campo referido nas diversas campanhas); a data assinala a altura em que os dados foram adquiridos.\nEsta informa\u00e7\u00e3o bem estruturada tem o prop\u00f3sito de responder \u00e0s seguintes quest\u00f5es:\n\u2022\tQue informa\u00e7\u00e3o foi recolhida?\n\u2022\tEm que campanha os dados foram adquiridos?\n\u2022\tQuando \u00e9 que foi obtida a informa\u00e7\u00e3o?\n\u2022\tQuem \u00e9 o respons\u00e1vel t\u00e9cnico da campanha?\n\u2022\tQual a localiza\u00e7\u00e3o geogr\u00e1fica dos dados espaciais?\n\u2022\tEm que sistema de refer\u00eancia foi adquirida a informa\u00e7\u00e3o?\nCAP\u00cdTULO 3 - MODELO DE DADOS\nEste cap\u00edtulo est\u00e1 dividido em duas sec\u00e7\u00f5es, uma em que s\u00e3o apresentados os dados utilizados neste estudo, bem como uma breve descri\u00e7\u00e3o da sua tem\u00e1tica e respetivo enquadramento t\u00e9cnico, e outra em que se mostra o modelo de dados, que representa a estrutura e organiza\u00e7\u00e3o da informa\u00e7\u00e3o na base de dados.\n3.1.\tOrigem dos Dados\nNo desenvolvimento desta disserta\u00e7\u00e3o, foram utilizados os dados adquiridos no \u00e2mbito do projeto \u201cCaracteriza\u00e7\u00e3o ambiental da \u00e1rea de expans\u00e3o mar\u00edtima do porto de Sines e regi\u00e3o envolvente\u201d solicitado ao Instituto Hidrogr\u00e1fico pelo porto de Sines e realizado no per\u00edodo de 27/01/2011 a 29/02/2012 (Rodrigues et al., 2012). Na concretiza\u00e7\u00e3o deste projeto, estiveram envolvidas v\u00e1rias \u00e1reas t\u00e9cnico-cient\u00edficas, nomeadamente, a da geologia marinha, a da oceanografia f\u00edsica e geol\u00f3gica, a da hidrografia e cartografia, a da geologia costeira e a da qu\u00edmica marinha. O trabalho de campo teve que ser dividido em diversas fases, em virtude da multidisciplinaridade desejada, a par da necessidade da sua realiza\u00e7\u00e3o em situa\u00e7\u00f5es meteorol\u00f3gicas distintas. Esta fase compreendeu a realiza\u00e7\u00e3o de levantamentos hidrogr\u00e1ficos e geof\u00edsicos, campanhas de sedimentos, colheita de amostras de \u00e1guas e de mat\u00e9ria particulada em suspens\u00e3o, campanhas para fundeamento/recupera\u00e7\u00e3o de equipamento oceanogr\u00e1fico, campanhas de medi\u00e7\u00e3o de par\u00e2metros f\u00edsicos e qu\u00edmicos (Rodrigues et al., 2012) e monitoriza\u00e7\u00e3o costeira.\nAncorado neste enquadramento t\u00e9cnico, o foco principal do presente estudo incidiu nos metadados dos diferentes tipos de levantamentos apresentados. Partindo desta realidade, foi constru\u00edda a Tabela 3.1 com a finalidade de se mostrar, de forma simplificada, os dados espaciais selecionados para explorar os correspondentes metadados, fazendo sobressair o seu ambiente sedimentar e o meio envolvente.\nTabela 3.1 \u2014 Enquadramento t\u00e9cnico dos dados utilizados\n\u00c1reas t\u00e9cnico-cient\u00edficas\tDados Adquiridos\tAmbiente Sedimentar\nGeologia Marinha\tAmostras de \u00c1guas\tPlataforma Continental\n\t\tPraia\n\tSedimentos Superficiais\tPlataforma Continental\n\t\tPraia\n\tSedimentos Verticais\tPlataforma Continental\n\tPerfis Boomer\t\nHidrografia\tSondas\tPraia\nOceanografia\tADCP - fiadas\tPlataforma Continental\nA Tabela 3.1 refere que, na \u00e1rea t\u00e9cnico-cient\u00edfica correspondente \u00e0 geologia marinha, foram:\n\u2022\tcolhidas amostras de \u00e1gua nos sistemas de plataforma continental e de praia, de forma a estudar o comportamento hidrodin\u00e2mico das part\u00edculas;\n\u2022\tadquiridas amostras de sedimentos superficiais nos mesmos sistemas, para an\u00e1lise das caracter\u00edsticas da cobertura sedimentar do fundo e para compreens\u00e3o das varia\u00e7\u00f5es sazonais na praia de S. Torpes;\n\u2022\tobtidas amostras verticais da cobertura sedimentar na plataforma continental, com a finalidade de estudar a sua estrutura interna e realizar a caracteriza\u00e7\u00e3o f\u00edsico-qu\u00edmica dos sedimentos.\nEstas \u00faltimas amostras foram ainda utilizadas para confirmar os dados adquiridos com os sistemas de reflex\u00e3o s\u00edsmica (sistema Boomer), na plataforma continental, que se destinaram ao conhecimento da disposi\u00e7\u00e3o estratigr\u00e1fica e estrutural dos elementos geol\u00f3gicos abaixo do fundo marinho (Rodrigues et al., 2012).\nA \u00e1rea de hidrografia foi respons\u00e1vel pelo levantamento topo-hidrogr\u00e1fico, na praia de S. Torpes, com o intuito de perceber a din\u00e2mica morfo-sedimentar dos sistemas. Por \u00faltimo, \u00e0 oceanografia, coube estudar a varia\u00e7\u00e3o da estrutura vertical da corrente com a mar\u00e9, na \u00e1rea de expans\u00e3o do Terminal XXI, para o que foram consideradas apenas as fiadas recolhidas com o instrumento ADCP (Acoustic Doppler Current Profiler) (Rodrigues et al., 2012).\n3.2.\tModelo de Dados\nO modelo de dados \u00e9 um conjunto de ferramentas, que permite explicar como ser\u00e3o constru\u00eddas as estruturas de dados, a sua organiza\u00e7\u00e3o numa base de dados e quais os relacionamentos que se pretende estabelecer entre eles. Com base nesta ideia, no presente estudo, foi constru\u00eddo o modelo de dados geogr\u00e1fico (MDG), em nota\u00e7\u00e3o UML (Unified Modeling Language), no modelo de dados OMT-G (Object Modeling Technique for Geographic Applications). De acordo com Charneca (2013), a UML \u00e9 a linguagem conceptual esquem\u00e1tica, que \u00e9 aconselhada e adotada pelas institui\u00e7\u00f5es de normaliza\u00e7\u00e3o para a especifica\u00e7\u00e3o de Informa\u00e7\u00e3o Geogr\u00e1fica (IG). Por sua vez, a norma ISO 19103: 2015 fornece regras e diretrizes para o uso desta linguagem (ISO 19103, 2015), tendo definido um perfil UML para a IG.\nNo que respeita ao modelo OMT-G, Borges (1997) efetuou um estudo intitulado \u201cModela\u00e7\u00e3o de Dados Geogr\u00e1ficos: Uma Extens\u00e3o do Modelo OMT para Aplica\u00e7\u00f5es Geogr\u00e1ficas\u201d. Nesta investiga\u00e7\u00e3o, real\u00e7a que, entre os v\u00e1rios modelos de dados sem\u00e2nticos e orientados a objetos existentes, tais como Entidade-Relacionamento e Object Modeling Technique (OMT), entre outros, este \u00faltimo apresenta limita\u00e7\u00f5es para uma adequada modela\u00e7\u00e3o dos dados geogr\u00e1ficos, raz\u00e3o pela qual apresenta o modelo OMT-G como o que mais se adapta \u00e0s aplica\u00e7\u00f5es geogr\u00e1ficas. Borges (1997) fundamenta este ju\u00edzo, referindo que o modelo em causa tem primitivas para modelar a geometria e a topologia dos dados e oferece, como principais caracter\u00edsticas, a expressividade gr\u00e1fica e a capacidade de codifica\u00e7\u00e3o (Catal\u00e3o, 2015). Borges et al. (2001, 2005) e Catal\u00e3o (2015) referem, ainda, que este modelo \u00e9 baseado em tr\u00eas conceitos principais, nomeadamente, as classes, os relacionamentos e as restri\u00e7\u00f5es de integridade espaciais, sendo que os dois primeiros termos definem as primitivas b\u00e1sicas usadas para criar esquemas est\u00e1ticos de aplica\u00e7\u00e3o, isto \u00e9, invariantes no tempo. Nesta linha de racioc\u00ednio e ainda segundo os mesmos autores, este modelo tem como base as primitivas definidas para o diagrama de classes da UML em que introduzem as primitivas geogr\u00e1ficas, visando o aumento da capacidade de representa\u00e7\u00e3o sem\u00e2ntica daquele modelo. Neste sentido, o modelo OMT-G fornece primitivas para modelar a geometria e a topologia da informa\u00e7\u00e3o geoespacial, no qual oferece apoio a estruturas topol\u00f3gicas \u201ctodo-parte\u201d e a estruturas de rede, m\u00faltiplas representa\u00e7\u00f5es de objetos e relacionamentos espaciais (Borges et al., 2005).\nA norma ISO 19103 definiu regras e recomenda\u00e7\u00f5es para os t\u00f3picos, classes, tipos de dados, associa\u00e7\u00f5es, atributos, estere\u00f3tipos e opera\u00e7\u00f5es (Catal\u00e3o, 2015). Para uma melhor perce\u00e7\u00e3o desta tem\u00e1tica, foram elaboradas a Figura 3.1 e a Tabela 3.2, que refletem os v\u00e1rios tipos de estere\u00f3tipos utilizados para este trabalho, respetivamente, os elementos gr\u00e1ficos da estrutura e os correspondentes \u00e0s associa\u00e7\u00f5es entre os objetos. Uma classe descreve uma cole\u00e7\u00e3o de objetos semelhantes, sendo um modelo em que certas caracter\u00edsticas b\u00e1sicas de um conjunto de objetos s\u00e3o fixadas e define os atributos b\u00e1sicos e as opera\u00e7\u00f5es dos objetos desse tipo.\nFigura 3.1 \u2014 Nota\u00e7\u00e3o gr\u00e1fica para as classes do modelo OMT-G: a) Representa\u00e7\u00e3o completa; b) Representa\u00e7\u00e3o simplificada (adaptado de Borges, 1997; Borges et al., 2001, 2005).\nA Figura 3.1 mostra que existem dois tipos de classes, as geogr\u00e1ficas (ou georreferenciadas) e as convencionais, e que podem ser representadas de duas formas distintas, a completa e a simplificada. A \u00fanica diferen\u00e7a entre elas reside no facto de, na forma completa, serem discriminados os respetivos atributos. No que respeita aos dois tipos de classes, o que os distingue prende-se com a possibilidade de introduzir o tipo de geometria para as classes geogr\u00e1ficas.\nRecorda-se que definir uma classe n\u00e3o descreve nenhum objeto, simplesmente cria o modelo e que, para que os objetos sejam realmente gerados, as inst\u00e2ncias da classe devem ser desenvolvidas de acordo com a exig\u00eancia do caso (Figura 3.2). Um objeto \u00e9 caracterizado por ter uma identifica\u00e7\u00e3o \u00fanica, um conjunto de atributos, de estados e de opera\u00e7\u00f5es (Tabela 3.2).\nTabela 3.2 \u2014 Associa\u00e7\u00f5es segundo a ISO 19103: 2015 (adaptado de Borges et al., 2001, 2005; Charneca, 2013)\nElementos UML para IG \u2014 Associa\u00e7\u00f5es\t\t\nS\u00edmbolo\tNome\tDescri\u00e7\u00e3o\n\t>\tGeneraliza\u00e7\u00e3o\tRepresenta a rela\u00e7\u00e3o entre um elemento e o subelemento que pode ser substitu\u00eddo pelo primeiro, isto \u00e9, uma classe \u00e9 considerada a superclasse e est\u00e1 subdividida numa ou v\u00e1rias subclasses com caracter\u00edsticas semelhantes.\n\tAssocia\u00e7\u00e3o\tRepresenta a liga\u00e7\u00e3o entre dois objetos de classes diferentes, convencionais ou georreferenciadas. Esta liga\u00e7\u00e3o \u00e9 transmitida atrav\u00e9s do grau de rela\u00e7\u00e3o que existe entre as entidades, a destacar: \u2022\t0.. .* \u2014 pode n\u00e3o existir nenhum evento ou podem ocorrer v\u00e1rios; \u2022\t1.* \u2014 existe pelo menos uma ocorr\u00eancia; \u2022\t1 \u2014 ocorre um evento; \u2022\t0.1 \u2014 n\u00e3o existe nenhuma ocorr\u00eancia ou pode existir uma.\n\t\tAgrega\u00e7\u00e3o\tRepresenta uma rela\u00e7\u00e3o parte-de (uma \u00e9 o todo e a outra uma parte de), ou seja, a agrega\u00e7\u00e3o \u00e9 uma forma especial de associa\u00e7\u00e3o entre objetos, em que um deles \u00e9 considerado como sendo formado a partir de outros. Neste contexto, para as classes georreferenciadas, utiliza-se a agrega\u00e7\u00e3o espacial em que, para estes casos, s\u00e3o explicitados os relacionamentos \u201ctodo-parte\u201d. Este tipo de agrega\u00e7\u00e3o tem duas premissas, a considerar na altura da constru\u00e7\u00e3o do modelo, designadamente, a geometria de cada parte deve estar contida na geometria do todo e a sobreposi\u00e7\u00e3o das partes n\u00e3o \u00e9 permitida.\nA Tabela 3.2 mostra as nota\u00e7\u00f5es gr\u00e1ficas que foram utilizadas, em linguagem UML, para representar as associa\u00e7\u00f5es entre as classes de objetos no modelo de dados geogr\u00e1fico.\nBorges (1997) descreve, no diagrama apresentado na Figura 3.2, a hierarquia de classes existente no modelo OMT-G ou Geo-OMT, no qual \u00e9 de enfatizar a poss\u00edvel representa\u00e7\u00e3o dos tr\u00eas grupos distintos encontrados nas aplica\u00e7\u00f5es geogr\u00e1ficas: os cont\u00ednuos, os discretos e os n\u00e3o espaciais.\nCLASSE\t\tCLASSE\nGEORREFERENCLADA\t\tCONVENCIONAL\n\tGEO-OBJETO COM GEOMETRIA\t\t\t\t\n\t\t\t\t\t\n\t\t\t1\t\t\nPONTO\t\tPOL\u00cdGONO\t\tLINHA\t\nLINHA\tN\u00d3\tLINHA\nUNIDIRECIONADA\t\tBIDDCECIONADA\nFigura 3.2 \u2014 Meta Modelo Parcial do Modelo Geo-OMT (Borges, 1997).\nA figura evidencia que a classe Geo-OMT \u00e9 a agrega\u00e7\u00e3o da \u201cclasse georreferenciada\u201d e da \u201cclasse convencional\u201d e que as subclasses \u201cGeo-Campo\u201d e \u201cGeo-Objecto\u201d s\u00e3o uma generaliza\u00e7\u00e3o da superclasse \u201cclasse georreferenciada\u201d. C\u00e2mara (2005) lembra que cada inst\u00e2ncia destas duas subclasses geogr\u00e1ficas corresponde a uma localiza\u00e7\u00e3o no espa\u00e7o e que cada uma delas tem associado um identificador \u00fanico. Para este autor, estas terminologias t\u00eam o seguinte significado:\n\u2022\tGeo-Campo: um atributo que possui valores em qualquer posi\u00e7\u00e3o no espa\u00e7o geogr\u00e1fico.\n\u2022\tGeo-Objeto: consideram-se, como exemplo, as fronteiras que s\u00e3o elementos essenciais, pelo que s\u00e3o normalmente armazenados em estruturas poligonais, com as op\u00e7\u00f5es sem qualquer topologia ou arco-n\u00f3-pol\u00edgono.\nO presente estudo est\u00e1 focado na subclasse correspondente \u00e0 \u201cCole\u00e7\u00e3o de Geo-Objectos\u201d a qual, como mostra a Figura 3.3, est\u00e1 subdividida em duas entidades georreferenciadas distintas, a classe com geometria e a classe com geometria e topologia. Neste \u00e2mbito, a geoinforma\u00e7\u00e3o a ser utilizada vai incidir apenas na classe com geometria em que a simbologia usada, para representar os tipos de geometria ponto, linha e pol\u00edgono, s\u00e3o os que constam na referida figura.\nGeo-Objecto\t\t\t\tGeo-Campo\t\nGeometria\t\tGeometria e Topologia\t\t\t\n\u2014\tLinha\t\u2014*\tUnha Uni-Direcionada\tA\tRede Triangular Irregular\n\u2606\tPonto\t4\u2014\u25ba\tLinha Bi-Direcionada\t\tIsolinha\n\u25a1\tPol\u00edgono\tO\tN\u00f3\t\tPol\u00edgonos Adjacentes\n\t\t\t\t-\tTessela\u00e7\u00e3o\n\t\t\t\t\u2022 \u2022 \u2022 * *\tAmostragem\nFigura 3.3 \u2014 S\u00edmbolos correspondentes ao Geo-Objecto e ao Geo-Campo (adaptado de Borges, 1997).\nA norma ISO 19109 define as v\u00e1rias fases a implementar na cria\u00e7\u00e3o do modelo de dados geogr\u00e1fico, referentes ao Universo do Discurso, ao Modelo Conceptual, ao Modelo L\u00f3gico e aos Dados\n(Charneca, 2013) (Figura 3.4). No entanto, como defende Borges (1997), os modelos de dados geogr\u00e1ficos tendem a variar conforme o n\u00edvel de abstra\u00e7\u00e3o que fornecem, pelo que, para aplica\u00e7\u00f5es geogr\u00e1ficas, podem ser consideradas quatro etapas distintas:\n\u2022\tUniverso do Discurso (mundo real) \u2014 indica os fen\u00f3menos geogr\u00e1ficos a representar.\n\u2022\tModelo Conceptual (n\u00edvel conceitual) \u2014 define as classes, cont\u00ednuas ou discretas, que ser\u00e3o criadas na base de dados geogr\u00e1fica, originando o desenvolvimento do dicion\u00e1rio de dados.\n\u2022\tModelo L\u00f3gico (n\u00edvel de apresenta\u00e7\u00e3o) \u2014 fornece as ferramentas para especificar os v\u00e1rios aspetos visuais diferentes, que as entidades geogr\u00e1ficas ter\u00e3o que assumir quando forem utilizadas em aplica\u00e7\u00f5es. O cat\u00e1logo de entidades \u00e9 constru\u00eddo com base na descri\u00e7\u00e3o dos elementos definidos neste modelo, de acordo com a norma ISO 19110, onde estar\u00e3o listadas todas as classes de entidades georreferenciadas, que foram consideradas na fase do Universo do Discurso.\n\u2022\tDados (n\u00edvel de implementa\u00e7\u00e3o) \u2014 descreve padr\u00f5es, mecanismos de armazenamento, estruturas de dados e fun\u00e7\u00f5es para implementar fisicamente cada representa\u00e7\u00e3o e cada apresenta\u00e7\u00e3o consoante estiver estabelecido, respetivamente, no modelo conceptual e no modelo l\u00f3gico.\n. Dados\n/ _______/\nD rc tonaria de\nDados\nimpldmenla\u00e7io do modelo l\u00f3gico murria estrutura f\u00edsica de dados\nDominio da Aplica podo Sistema\nFormaliza\u00e7\u00e3o dos ronteilnsdo Universo do Discurso\nCaiAJogo de\u2019\nEntidades\nModelo L\u00f3gico\ni.Esqijtnu de Aplica\u00e7\u00e3o\nOrgan ca\u00e7\u00e3o e descri\u00e7\u00e3o dos \u00bfonce itos paia urna aplica\u00e7\u00e3o tspe\u00e1lica\n\u25a0 \u2022\nModelo Conceptual (Esquama Conc\u00edptuaJ}\nUniverso do Discurso\nFigura 3.4 \u2014 Esquema simplificado do processo de modela\u00e7\u00e3o de dados (ISO 19109 in Charneca, 2013).\nNo desenvolvimento de uma aplica\u00e7\u00e3o geogr\u00e1fica, existem tr\u00eas tipos de diagramas diferentes a saber: o de classes, o de transforma\u00e7\u00e3o e o de apresenta\u00e7\u00e3o. Salienta-se que, no presente estudo, apenas foi constru\u00eddo o diagrama de classes em que foram expostas as diversas classes consideradas e os v\u00e1rios tipos de relacionamentos, que foram tidos em conta entre os objetos declarados.\nReal\u00e7a-se que este tipo de diagrama \u00e9 vantajoso na medida em que facilita a visualiza\u00e7\u00e3o das rela\u00e7\u00f5es entre as classes georreferenciadas e classes convencionais, o que propicia que a constru\u00e7\u00e3o da base de dados geogr\u00e1fica seja mais intuitiva. N\u00e3o nos podemos esquecer que Borges et al. (2001, 2005) advertem que, a partir deste diagrama, \u00e9 poss\u00edvel formar-se um conjunto de restri\u00e7\u00f5es de integridade espaciais (aspetos topol\u00f3gicos e geom\u00e9tricos dos dados), a ter em aten\u00e7\u00e3o no n\u00edvel de implementa\u00e7\u00e3o, de modo a preservar a sem\u00e2ntica e a qualidade dos dados armazenados.\nO modelo de dados geogr\u00e1fico, elaborado para este trabalho, est\u00e1 exposto na Figura 3.5 por meio de um diagrama de classes de acordo com Borges (1997) e Borges et al. (2001, 2005), no qual, para cada\nentidade geogr\u00e1fica e convencional, foram inseridos os respetivos metadados adequadamente retirados do relat\u00f3rio elaborado por Rodrigues et al. (2012). O relat\u00f3rio inclui um SIG composto pelas shapefiles das v\u00e1rias \u00e1reas t\u00e9cnico-cient\u00edficas j\u00e1 referidas na Tabela 3.1, em que cada tabela de atributos foi alimentada com informa\u00e7\u00e3o considerada relevante para o projeto mencionado. Para tal, na informa\u00e7\u00e3o que foi extra\u00edda destas tabelas e do relat\u00f3rio, houve o cuidado de previamente a harmonizar e uniformizar, de maneira a que a mesma possa ser explorada convenientemente e de forma eficiente no Portal a ser constru\u00eddo.\nFigura 3.5 \u2014 Modelo de dados geogr\u00e1fico - diagrama de classes.\nA Tabela 3.3, que se segue, foi editada com os campos considerados importantes para a compreens\u00e3o e interpreta\u00e7\u00e3o do diagrama de classes, em particular no que se refere ao nome atribu\u00eddo \u00e0s tabelas.\nTabela 3.3 \u2014 Elementos de apoio \u00e0 interpreta\u00e7\u00e3o do diagrama de classes\nCor\t\tPrefixo\tAmbiente Sedimentar\t\u00c1rea t\u00e9cnico-cient\u00edfica\t\nEntidades geogr\u00e1ficas\t\tGd\tPraia\tGeologia Marinha\tAmostras de sedimentos em suspens\u00e3o\n\t\t\tPlataforma Continental\t\t\n\t\tGs\t\t\tAmostras superficiais e amostras verticais de sedimento\n\t\t\tPraia\t\t\n\t\tGf\tPlataforma Continental\t\tPerfis de Reflex\u00e3o S\u00edsmica\n\t\tHi\tPraia\tHidrografia\t\n\t\tOc\tPlataforma Continental\tOceanografia\t\nClasses convencionais\t\t\t\t\t\n\t\t\t\t\t\nSuperclasses\t\t\t\t\t\nAssocia\u00e7\u00e3o\tzX\t\t\t\t\nRelacionamentos\t\t\t\t\t\n\t\t\t\t\t\nO diagrama de classes foi criado com o modelo OMT-G, em linguagem UML, e apresenta as entidades geogr\u00e1ficas \u201cGd_praia\u201d, \u201cGd_plataforma\u201d, \u201cGs_plataforma\u201d, \u201cGs_praia\u201d, \u201cGs_vertical\u201d, \u201cGf_sismica\u201d, \u201cHi_sondagem\u201d e \u201cOc_fiadas\u201d e as classes convencionais \u201cGeologia Marinha\u201d, \u201cHidrografia\u201d, \u201cOceanografia\u201d, \u201cCampanha\u201d, \u201cUsers\u201d e \u201cPortal de Dados Marinhos\u201d. Todas elas entraram na cria\u00e7\u00e3o da base de dados e no desenvolvimento do Portal de dados e definiram-se tamb\u00e9m os relacionamentos e a cardinalidade que existe entre estas entidades. A an\u00e1lise da Figura 3.5 permite visualizar que a classe convencional \u201cPortal de Dados Marinhos\u201d \u00e9 a agrega\u00e7\u00e3o das entidades convencionais, \u201cGeologia Marinha\u201d, \u201cHidrografia\u201d, \u201cOceanografia\u201d, \u201cCampanha\u201d e \u201cUsers\u201d. A classe convencional \u201cGeologia Marinha\u201d \u00e9 uma generaliza\u00e7\u00e3o das entidades geogr\u00e1ficas \u201cGd_praia\u201d, \u201cGd_plataforma\u201d, \u201cGs_plataforma\u201d, \u201cGs_vertical\u201d, \u201cGs_praia\u201d e \u201cGf_sismica\u201d, o que evidencia que esta classe \u00e9 considerada a superclasse e as restantes as subclasses, sugerindo que todas t\u00eam caracter\u00edsticas id\u00eanticas. Seguindo o mesmo racioc\u00ednio, pode-se referir que a classe convencional \u201cHidrografia\u201d \u00e9 a generaliza\u00e7\u00e3o da classe geogr\u00e1fica \u201cHi_sondagem\u201d, o que significa que esta \u00faltima entidade \u00e9 uma especializa\u00e7\u00e3o da classe convencional \u201cHidrografia\u201d. Em rela\u00e7\u00e3o \u00e0 superclasse \u201cOceanografia\u201d, tem-se a subclasse \u201cOc_fiadas\u201d.\nNeste diagrama, os tipos geom\u00e9tricos que predominam s\u00e3o o ponto e a linha, pelo que as subclasses \u201cGd_praia\u201d, \u201cGd_plataforma\u201d, \u201cGs_praia\u201d, \u201cGs_plataforma\u201d, \u201cGs_vertical\u201d e \u201cHi_sondagem\u201d est\u00e3o definidas como ponto e a \u201cGf_sismica\u201d e \u201cOc_fiadas\u201d como linha. A leitura do diagrama mostra, ainda, que as ditas classes geogr\u00e1ficas estabelecem liga\u00e7\u00e3o com a entidade convencional \u201cCampanha\u201d, o que permite transmitir a rela\u00e7\u00e3o que, na realidade, existe entre estas entidades, levando a concluir que as associa\u00e7\u00f5es estabelecidas ocorrem entre entidades convencionais e geogr\u00e1ficas. Para cada uma delas, foi criada uma chave prim\u00e1ria (pk) que tem como finalidade servir como identificador \u00fanico de cada entidade e, para as classes geogr\u00e1ficas que t\u00eam liga\u00e7\u00e3o com as convencionais, foram criadas chaves estrangeiras (fk), que fazem refer\u00eancia \u00e0s chaves prim\u00e1rias destas \u00faltimas classes referidas. Em\nrela\u00e7\u00e3o \u00e0s cardinalidades, pode-se constatar que as associa\u00e7\u00f5es estabelecidas com a classe convencional \u201ccampanha\u201d s\u00e3o que, numa campanha, existe pelo menos um elemento (1..*) de cada uma das entidades geogr\u00e1ficas indicadas.\nEste cap\u00edtulo deu a conhecer, detalhadamente, os dados marinhos utilizados no desenrolar deste trabalho, tal como a estrutura do modelo de dados geogr\u00e1fico, apresentado atrav\u00e9s do diagrama de classes, que foi usado para implementar a base de dados espacial. Neste diagrama, est\u00e3o indicados os metadados a serem explorados no portal pelo utilizador.\nCAP\u00cdTULO 4 - IMPLEMENTA\u00c7\u00c3O DO PORTAL\n4.1.\tPostgreSQL/PostGIS\nEm conformidade com as especifica\u00e7\u00f5es do OGC para Geographic Information - do Simple Feature Access - Part 2: SQL option, a cria\u00e7\u00e3o da base de dados espacial tem requisitos essenciais para as entidades geogr\u00e1ficas, j\u00e1 que estas s\u00e3o compostas por uma coluna espacial que corresponde ao tipo de geometria da informa\u00e7\u00e3o geoespacial (Figura 4.1). A coluna SRID (Spatial Reference System Identifier) \u00e9 uma das mais importantes, uma vez que armazena o valor identificador de refer\u00eancia espacial, que determina a proje\u00e7\u00e3o e o datum a serem usados para exibir corretamente a geoinforma\u00e7\u00e3o na superf\u00edcie da Terra.\nFigura 4.1 \u2014 Esquema para tabelas de features, usando SQL com tipos de geometria (adaptado de OGC, 2010).\nDe acordo com OGC (2010) e PostGIS (2017), indica-se o significado da terminologia usada na tabela:\n>\tGEOMETRYCOLUMNS:\n\u2022\tf_table_name \u2014 utilizada para fazer refer\u00eancia ao nome da tabela que cont\u00e9m uma coluna de geometria espacial;\n\u2022\tf_geometry_column \u2014 usada para procurar a coluna da tabela onde est\u00e3o as informa\u00e7\u00f5es de coordenadas geogr\u00e1ficas;\n\u2022\tcoord_dimension \u2014 a dimens\u00e3o espacial da coluna, em que podem ser considerados os valores 2, 3 ou 4;\n\u2022\tsrid \u2014 id do sistema de refer\u00eancia espacial usado para a geometria de coordenadas na tabela espec\u00edfica, sendo, contudo, uma refer\u00eancia de chave estrangeira para a tabela spatial_ref_sys.\n>\tSPATIALREFSYS:\n\u2022\tsrid \u2014 chave prim\u00e1ria para a tabela de metadados \u201cspatial_ref_sys\u201d do OGC para as especifica\u00e7\u00f5es do Simple Features for SQL;\n\u2022\tauth_name \u2014 nome do padr\u00e3o citado para este sistema de refer\u00eancia, neste caso, o EPSG (European Petroleum Survey Group);\n\u2022\tauth_srid \u2014 id do sistema de refer\u00eancia espacial, conforme \u00e9 definido pela autoridade citada no \u201cauthname\u201d Neste projeto, o EPSG tem o \u201cid\u201d 3763, que corresponde ao sistema de refer\u00eancia ETRS89/PT-TM06;\n\u2022\tsrtext \u2014 representa\u00e7\u00e3o WKT(Well-Known Text) do sistema de refer\u00eancia espacial;\n\u2022\tproj4text \u2014 coluna que cont\u00e9m a representa\u00e7\u00e3o do Proj4 (Cartographic Projections Library) do sistema de coordenadas para um determinado SRID. Conv\u00e9m referir que o PostGIS usa a biblioteca Proj4 para fornecer as capacidades, a fim de efetuar a transforma\u00e7\u00e3o de coordenadas de determinado SRID (PROJ.4, 2017).\nUm identificador de sistema de refer\u00eancia espacial (SRID) \u00e9 um valor \u00fanico utilizado para reconhecer inequivocamente o c\u00f3digo EPSG que, por sua vez, \u00e9 definido como um conjunto de defini\u00e7\u00f5es de sistemas de refer\u00eancia de coordenadas e transforma\u00e7\u00f5es de coordenadas (EPSG, 2017). Estes c\u00f3digos podem ser encontrados no endere\u00e7o http://www.epsg-registry.org/. Os sistemas de refer\u00eancia espacial s\u00e3o definidos atrav\u00e9s da especifica\u00e7\u00e3o SFA - SQL do OGC, usando o padr\u00e3o WKT, pelo que os utilizadores podem consultar e visualizar os dados, gerar relat\u00f3rios imprim\u00edveis e criar padr\u00f5es WKT compat\u00edveis com a ISO 19162 (EPSG, 2017). Neste \u00e2mbito, a facilidade no acesso a este reposit\u00f3rio de sistemas proporcionou, aos fornecedores da solu\u00e7\u00e3o SIG e \u00e0s aplica\u00e7\u00f5es de WebSIG, propriet\u00e1rio e de c\u00f3digo aberto, a possibilidade de adotarem o c\u00f3digo EPSG para identificar o sistema de referencia\u00e7\u00e3o de informa\u00e7\u00e3o geoespacial.\nQuando se cria uma base de dados geogr\u00e1fica, com a extens\u00e3o espacial PostGIS, s\u00e3o automaticamente constru\u00eddas duas tabelas com os nomes \u201cspatialrefsys\u201d e \u201cgeometrycolumns\u201d (Figura 4.2 a) e Figura 4.2 b)). De acordo com as especifica\u00e7\u00f5es do OGC (2010), a primeira tabela \u00e9 encarada como padr\u00e3o para bases de dados espaciais e define os SRID, que s\u00e3o permitidos para as suas geometrias, e fornece informa\u00e7\u00f5es sobre os correspondentes sistemas de refer\u00eancia. Por defeito, j\u00e1 vem com informa\u00e7\u00e3o que permitir\u00e1 realizar uma transforma\u00e7\u00e3o de coordenadas em qualquer sistema de coordenadas que o utilizador solicitar.\nSegundo PostGIS (2017), o SRID \u00e9 um valor inteiro que identifica exclusivamente o sistema de refer\u00eancia espacial dentro da base de dados sendo, por outro lado, de acordo com OGC (2010), a chave prim\u00e1ria para a tabela de metadados \u201cspatialrefsys\u201d do OGC para as especifica\u00e7\u00f5es do SFA - SQL.\nB\" ISa spatial_ref_sys\nI \u00c91 \u00c7 Columns (5)\ni\tI\t1 -\u25a0\tID\tsrid\nI\tI\t\u25a0\tIU\tauth_name\nI\tI\t?\"\u25a0\tID\tauth_srid\nI\tI\tf-\tID\tsrtext\n\u25a0\u25a0\u25a0\u25a0 D proj4text\na)\nb)\nFigura 4.2 \u2014 Campos da tabela: a) spatial ref sys; b) geometry columns.\nSegundo as orienta\u00e7\u00f5es da OGC para as especifica\u00e7\u00f5es do SFA - SQL, os tipos de geometria SQL est\u00e3o organizados conforme a estrutura hier\u00e1rquica exposta na Figura 4.3, cujo diagrama de classes simplificado ilustra o modelo de dados espec\u00edfico para um elemento espacial.\nFigura 4.3 \u2014 Tipo de hierarquia geom\u00e9trica em SQL (OGC, 2010).\n\u00c9 evidente que existe um elemento na \u201cra\u00edz\u201d chamado geometria, que tem associado um sistema de refer\u00eancia espacial e que \u00e9 uma generaliza\u00e7\u00e3o das entidades geogr\u00e1ficas \u201cPoint\u201d, \u201cCurve\u201d, \u201cSurface\u201d e \u201cGeometryCollection\u201d, o que indica que podem ser considerados subtipos da entidade \"Geometry\u201d. Por sua vez, a geometria tem como subclasses espec\u00edficas as entidades \u201cMultiSurface\u201d \"MultiCurve\u201d e \u201cMultiPoint\u201d, sendo de frisar que esta \u00faltima \u00e9 uma agrega\u00e7\u00e3o da caracter\u00edstica \u201cPoint\u201d. Conv\u00e9m ainda alertar para o facto de serem necess\u00e1rios dois pontos para que a classe \u201cLineString\u201d seja uma agrega\u00e7\u00e3o da classe \u201cPoint\u201d.\nNeste contexto, os tipos de restri\u00e7\u00f5es consideradas \u00fateis para garantir a qualidade dos dados em bases de dados relacionais s\u00e3o:\n\u2022\tRestri\u00e7\u00f5es \u00fanicas.\n\u2022\tN\u00e3o nulo.\n\u2022\tRestri\u00e7\u00f5es de chaves estrangeiras.\n\u2022\tRestri\u00e7\u00f5es de verifica\u00e7\u00e3o de coluna.\n\u2022\tRestri\u00e7\u00f5es de verifica\u00e7\u00e3o de tabela.\nEntende-se assim que o PostGIS pode assegurar a qualidade dos dados espaciais, por via do uso comum e avan\u00e7ado da restri\u00e7\u00e3o CHECK, que tem como fun\u00e7\u00e3o validar os constrangimentos supra referidos.\nNeste trabalho, pretende-se que o m\u00e9todo de inser\u00e7\u00e3o dos dados, nas tabelas da base de dados, seja autom\u00e1tico em vez de se introduzir a informa\u00e7\u00e3o registo a registo. Esta alternativa \u00e9 relevante por possibilitar que a alimenta\u00e7\u00e3o da base de dados seja realizada de forma mais c\u00e9lere, otimizando esta etapa do projeto. Por outro lado, a introdu\u00e7\u00e3o autom\u00e1tica tamb\u00e9m reduz a possibilidade de engano na introdu\u00e7\u00e3o dos registos. Na tentativa de alcan\u00e7ar este objetivo, recorreu-se \u00e0 pesquisa de bibliografia e explora\u00e7\u00e3o de v\u00e1rios f\u00f3runs alusivos \u00e0 tem\u00e1tica em quest\u00e3o, tendo-se chegado \u00e0 conclus\u00e3o que a inclus\u00e3o da informa\u00e7\u00e3o espacial nas tabelas pode ser efetuada de duas maneiras distintas: 1) importa\u00e7\u00e3o das shapefiles oriundas dos SIGs, neste caso, de programa propriet\u00e1rio (ArcGIS) ou 2) inser\u00e7\u00e3o direta dos registos. Para o efeito, existem v\u00e1rias maneiras conducentes \u00e0 sua realiza\u00e7\u00e3o, tais\ncomo:\nComando usado na transforma\u00e7\u00e3o de uma shapefile para SQL, passo que \u00e9 realizado atrav\u00e9s do \u201cCommand Prompt\u201d.\nshp2pgsql.exe -s 3763 nome_ficheiro.shp nome_ficheiro > nome_ficheiro.sql\nem que:\n\u2022\t-s 3763 \u2014 indica o SRID, tendo sido utilizado o 3763;\n\u2022\tnome_ficheiro.shp \u2014 \u00e9 o nome do arquivo, que ir\u00e1 ser convertido para SQL;\n\u2022\tnome_ficheiro \u2014 \u00e9 o nome da tabela, que ser\u00e1 criada na base de dados espacial;\n\u2022\tnome_ficheiro.sql \u2014 \u00e9 o nome do ficheiro SQL, que ser\u00e1 executado para importar a shapefile.\nFerramenta \u201cImportar camada/ficheiro\u201d \u2014 importa diretamente a shapefile, fazendo com que a tabela fique criada com a respetiva informa\u00e7\u00e3o (Figura 4.4).\nFigura 4.4 \u2014 Cria\u00e7\u00e3o da tabela, atrav\u00e9s da importa\u00e7\u00e3o de uma shapefile.\nO ret\u00e2ngulo de contorno vermelho mostra que esta tabela ir\u00e1 ser criada com o tipo de geometriaMULTILINESTRING, uma vez que n\u00e3o se ativou esta op\u00e7\u00e3o.\nFun\u00e7\u00e3o AddGeometryColumn()\nO processo inicia-se com a cria\u00e7\u00e3o da tabela, atrav\u00e9s do comando CREATE TABLE. Posteriormente, cria-se a coluna da geometria, utilizando o comando SELECT AddGeometryColumn, sendo a inser\u00e7\u00e3o dos valores alfanum\u00e9ricos executada com o comando INSERT INTO. Este m\u00e9todo pode ser explorado no link https://postgis.net/docs/AddGeometryColumn.html.\nUma das vantagens de inscrever os registos numa tabela ou coluna, usando a fun\u00e7\u00e3o\nAddGeometryColumn() do PostGIS, \u00e9 que esta adiciona automaticamente o \u201cCHECK nas restri\u00e7\u00f5es, \u00e0 medida que vai testando a geometria inserida. Isto significa que verifica se o tipo de geometria est\u00e1 correto, se o SRID foi inserido e qual a dimens\u00e3o da coluna espacial.\n> Conjunto de comandos cuja finalidade \u00e9 inserir a informa\u00e7\u00e3o, atrav\u00e9s de ficheiros com extens\u00e3o CSV de modo autom\u00e1tico.\nCREATE TABLE nome_tabela\nCopy nome_da_tabela FROM \u2018caminho_do_ficheiro.csv' DELIMITER CSV HEADER;\nUPDATE nome_da_tabela\nSET geom = ST_GeomFromText('MULTIPOINT(' || x || ' ' || y || ')',3763);\nem que a:\n\u2022\tinstru\u00e7\u00e3o UPDATE modifica os registos existentes numa tabela;\n\u2022\tfun\u00e7\u00e3o ST_GeomFromtext() retorna uma inst\u00e2ncia de geometria da representa\u00e7\u00e3o WKT do OGC.\nST_GeomFromText ( 'geometry_tagged_text' , SRID )\nsendo:\n\u2022 geometry_tagged_text a representa\u00e7\u00e3o WKT da inst\u00e2ncia de geometria que se pretende retornar.\nFace \u00e0 explana\u00e7\u00e3o apresentada, optou-se por realizar o processo da cria\u00e7\u00e3o da tabela e da inser\u00e7\u00e3o dos metadados para as entidades geogr\u00e1ficas do tipo ponto, seguindo a \u00faltima hip\u00f3tese exposta. Sendo o carregamento mais r\u00e1pido, em virtude da etapa da introdu\u00e7\u00e3o da informa\u00e7\u00e3o ser realizada automaticamente, as futuras atualiza\u00e7\u00f5es ser\u00e3o facilitadas ao usar o mesmo processo. Esta realidade torna o trabalho muito mais c\u00e9lere e otimizado, em contraste com a inser\u00e7\u00e3o dos registos linha a linha, processo bastante moroso no caso de haver muitos registos. Evidencia-se o facto de, na op\u00e7\u00e3o escolhida, por analogia com o processo de importa\u00e7\u00e3o direta de uma shapefile, n\u00e3o haver a limita\u00e7\u00e3o dos 10 caracteres no nome do campo, o que possibilita atribuir nomes mais sugestivos e percet\u00edveis. Para as entidades do tipo linha, o processo foi efetuado de acordo com a segunda hip\u00f3tese, em que a tabela \u00e9 criada diretamente, importando a shapefile.\nTal como j\u00e1 foi referido, ao criar uma tabela geogr\u00e1fica, \u00e9 importante inserir constrangimentos referentes \u00e0 chave prim\u00e1ria, \u00e0 dimens\u00e3o, ao tipo de geometria, ao id do sistema de refer\u00eancia espacial e \u00e0 chave estrangeira (Figura 4.5) para se aferir a qualidade dos dados espaciais. Contudo, para as tabelas convencionais, apenas se introduz a chave prim\u00e1ria.\nC0NSZRAIN7 gd_praia_pkey PRIMARY KEY (gid_gdpr),\nC0NSZRAIN7 enfcrce_dlms_geom CHECK (st_ndlms (geom) =2),\nC0NSZRAIN7 enfcrce_geotype_geom CHECK (geometrytype(geom) = 'l\u00edULZIPOINC' : : text OR geom IS NULL), C0NSZRAIN7 enfcrce_srid_geom CHECK (st_srid(geom) = 3763),\nFOREIGN KEY (nome camp) references campanha(ncme camp)\nFigura 4.5 \u2014 Constrangimentos inseridos aquando da cria\u00e7\u00e3o da tabela.\nem que:\n\u2022 ST_NDims \u2014 retorna a dimens\u00e3o da coordenada da geometria, pelo que o PostGIS suporta o valor 2 para o par coordenado (x,y).\n\u2022 Geometrytype \u2014 indica o tipo de geometria de acordo com o j\u00e1 referido na especifica\u00e7\u00e3o do OGC.\nNa Figura 4.6, visualizam-se os constrangimentos inseridos aquando da cria\u00e7\u00e3o da tabela, por forma a validar a qualidade dos dados espaciais, como j\u00e1 foi dito. O Anexo A apresenta a constru\u00e7\u00e3o em SQL, das v\u00e1rias tabelas indicadas nas Figura 4.7 a) e Figura 4.7 b).\nB\" tfj Columns\nB\" ^4 Constraints (5)\n:\t>\u25a0\u25a0\u25a0\u25a0\t\u2019tf'\tenforce_dims_geom\n;\t?\u25a0\u25a0\u25a0\u25a0\t\u2019tf'\tenforce_geotype_geom\nI\t?\u25a0\u25a0\u25a0\tenforce_srid_geom\nI ?gd_praia_nome_camp_fkey\n:\ti.G=\tgd_praia_pkey\nFigura 4.6 \u2014 Constrangimentos validados.\nOs s\u00edmbolos correspondentes aos constrangimentos t\u00eam o seguinte significado:\n\u2014 Chave prim\u00e1ria\n\u2014 Chave estrangeira\n\u2014 A geometria inserida est\u00e1 correta (CHECK)\nPara as restantes entidades geogr\u00e1ficas apresentadas no modelo de dados, seguiu-se o mesmo procedimento, tendo sido criadas as tabelas Figura 4.7 a) e Figura 4.7 b):\nEH Tables (11)\nI B\" campanha\nI B'l^ad plataforma\nI B gd_praia\n; B\" PH gf_sismica\n; B\"|g^gs plataforma\ni B\u201d Hfl gs_praia\ni B\" 11^ gs_vertical\nI B\" hi_sondas\ni B\" | oc_fiadas\nI B- spatial ref svs\n] users\na)\nb)\nFigura 4.7 \u2014 Tabelas criadas no: a) PostgreSQL; b) PostGIS.\nTerminado este procedimento, pode verificar-se se o n\u00famero de registos foi inserido por completo e se o sistema de refer\u00eancia espacial \u00e9 o correto (Figura 4.8 e Figura 4.9). Estas duas situa\u00e7\u00f5es s\u00e3o testadas por meio de duas queries em SQL com os seguintes c\u00f3digos:\nSELECT * FROM nome_da_tabela;\nFigura 4.8 \u2014 Express\u00e3o de uma query em SQL e respetivo resultado (excerto).\nSELECT ST_SRID(geom) FROM nome_da_tabela LIMIT 1;\nem que:\n\u2756\tST_SRID \u2014 devolve o identificador de refer\u00eancia espacial.\n\u2756\tLIMIT1 \u2014 retorna apenas o valor de um registo.\nFigura 4.9 \u2014 Fun\u00e7\u00e3o que devolve o identificador de refer\u00eancia espacial.\nA fun\u00e7\u00e3o ST_Transform() restitui uma nova geometria com as coordenadas transformadas num sistema de refer\u00eancia diferente, sendo de sublinhar que a sua utiliza\u00e7\u00e3o s\u00f3 \u00e9 poss\u00edvel com tipo de geometria \"Point\u201d, o que implica a convers\u00e3o do \"MultiPoint\u201d para este. O processo pode ser realizado, atrav\u00e9s da fun\u00e7\u00e3o ST_DUMP(), que tem como finalidade expandir multi-geometrias.\nAs fun\u00e7\u00f5es ST_SRID(), ST_DUMP() e ST_TRANSFORM() est\u00e3o integradas nas especifica\u00e7\u00f5es Simple Feature Access SQL do OGC (PostGIS, 2017).\n4.2.\tDisponibiliza\u00e7\u00e3o da informa\u00e7\u00e3o na internet\nEsta etapa inicia-se com a instala\u00e7\u00e3o do pacote MS4W (MapServer for Windows), vers\u00e3o 3.2.1, composto pelo servidor Web, servidor de mapas e bibliotecas, procedimento que foi efetuado na plataforma Windows 7. O processo culmina com a cria\u00e7\u00e3o de uma estrutura de pastas, que foram gravadas na diretoria C:\\ms4w. Seguiu-se o download da framework p.Mapper, na vers\u00e3o 4.4.0 para ambiente Windows, visando instal\u00e1-la, tendo ficado alocada em C:\\ms4w\\apps\\pmapper. Esta diretoria \u00e9 v\u00e1lida para o desenvolvimento da aplica\u00e7\u00e3o deste caso concreto. De forma a confirmar o sucesso destes procedimentos, digita-se o endere\u00e7o http://localhost no navegador, surgindo as imagens apresentadas nas Figura 4.10 a) e Figura 4.10 b).\n\u25a0\tApache 2.4.25\n\u25a0\tPHP 5.6.30\n\u25a0\tGDAL 2.1.3\n\u2022\tMapServer CGI 7.0.4 at Icqi-bin/mapserv.exe\n\u2022\tMapScript 7.0.4 flavours:\n\u2019 php_mapscript.dll at \\ms4vMpacbe\\php\\ext\n\u2022\tCSharp mapscript at \\ms4vMpache\\cgi-bin\\mapschpt\\csbarp\n\u2022\tJava mapscript at Vns4vAApache\\cgi-bin\\mapscripf\\java\n\u2022\tPython mapscript at \\ms4w\\Apache\\cgi-Dtn\\mapscnpt\\python\n\u2022\tCommandline Utilities\n\u2019 execute \\ms4wlsetenv.bat to use the utilities\n\u25a0\u25a0 MapServer Utilities\n\u25a0\tphysically located at \\ms4w\\tools\\mapserv\\.\n-\tGDAUOGR Utilities\n\u25a0\tphysically located at \\ms4W\\ioois\\gdal-ogr\\\n-\tSpatialite Tools (including OSM Tools)\n\u25a0\tphysically located at \\ms4W\\loois\\spatialite\\\n-\tPROJ.4 Utilities\n\u25a0\tphysically located at \\ms4W\\proj\\bm\\\n-\tShapelib Utilities\n\u25a0\tphysically located at \\ms4w\u2019\\lools\\shapeiib\\\n-\u25a0 ShpdifT Utility\n\u25a0\tphysically located at \\ms4vrttools\\shpdift\\\n-\tShp2tile Utlity\n\u25a0\tphysically located at \\ms4W\\iools\\shp2tile\\\n\u25a0- AVCE00 Utility\n\u25a0\tphysically located at lms4wltoo/stevceOCT\n-\u25a0 Unix Utils\n\u25a0\tphysically located at \\ms4W\\lools\\unixutils\\\n\u25a0\tOWTChart utility:\n\u2022\tintroduction\n\u25a0\u25a0 owtchart.exe\n= qifeample.exe\n\u25a0\ta)\npmapper 4.4.0 - BUILD 2014-07-21\np.napcer: start deme apolicat cn\np.mapper documentation\np.mapper homepage\np. mapper wiki\nb)\nFigura 4.10 \u2014 Instala\u00e7\u00e3o: a) Pacote MS4W; b) p.Mapper.\n4.2.1.\tMapServer\nDe acordo com Kanegae (2005), a estrutura de uma aplica\u00e7\u00e3o MapServer \u00e9 composta por:\n\u2022\tDados \u2014 elementos que devem estar num formato que seja lido pelo MapServer.\n\u2022\tMapfile \u2014 ficheiro com extens\u00e3o .map, em formato de texto ASCII (American Standard Code for Information Interchange) considerado o \u201ccora\u00e7\u00e3o\u201d do MapServer, dado que \u00e9 o ficheiro base para a configura\u00e7\u00e3o das aplica\u00e7\u00f5es. Tal facto baseia-se na estrutura\u00e7\u00e3o do ficheiro, o que torna poss\u00edvel visualizar a informa\u00e7\u00e3o geoespacial. \u00c9 nele que se personaliza o tipo de informa\u00e7\u00e3o, ao definir a maneira como os dados ser\u00e3o apresentados ao utilizador, atrav\u00e9s da configura\u00e7\u00e3o de determinadas caracter\u00edsticas, tais como as cores, os s\u00edmbolos, a legenda e a escala (Figura 4.11). O ficheiroMapfile \u00e9 um elemento importante na constru\u00e7\u00e3o da aplica\u00e7\u00e3o, uma vez que est\u00e1 relacionado com a renderiza\u00e7\u00e3o da base de dados pelo servidor de mapas MapServer (Pimenta et al., 2012). Esta circunst\u00e2ncia torna-se relevante na medida\nem que \u00e9 neste ficheiro que s\u00e3o inseridos os v\u00e1rios objetos e par\u00e2metros pr\u00e9-definidos, por exemplo, a proje\u00e7\u00e3o cartogr\u00e1fica, o tipo geom\u00e9trico da layer (Point, Line, Polygon e Raster) e outros par\u00e2metros, que foram estabelecidos de forma a permitir a representa\u00e7\u00e3o adequada da informa\u00e7\u00e3o geogr\u00e1fica introduzida na base de dados. A simbologia \u00e9 outro fator a valorizar na elabora\u00e7\u00e3o do Mapfile, dado que \u00e9 por interm\u00e9dio deste ficheiro que os objetos s\u00e3o apresentados na interface gr\u00e1fica do utilizador, facilitando-lhe a visualiza\u00e7\u00e3o ao permitir distinguir as diversas camadas de informa\u00e7\u00e3o. A Figura 4.12 exp\u00f5e os v\u00e1rios s\u00edmbolos cartogr\u00e1ficos dispon\u00edveis na aplica\u00e7\u00e3o MapServer.\n\u2022\tFormul\u00e1rio de inicializa\u00e7\u00e3o \u2014 declara\u00e7\u00e3o em HTML, que tem como fun\u00e7\u00e3o enviar ao execut\u00e1vel do MapServer (mapserv.exe) os par\u00e2metros b\u00e1sicos para a inicializa\u00e7\u00e3o da aplica\u00e7\u00e3o, designadamente, o caminho do Mapfile e o URL do MapServer CGI.\n\u2022\tTemplate \u2014 ficheiro que define a interface gr\u00e1fica da aplica\u00e7\u00e3o, atrav\u00e9s do qual \u00e9 definida a forma como o utilizador vai interagir com a aplica\u00e7\u00e3o e a maneira como os componentes gerados pelo MapServer (e.g. o mapa, a legenda, a escala) ser\u00e3o apresentados ao utilizador.\nNeste \u00e2mbito, na Figura 4.11, \u00e9 apresentada a estrutura de um ficheiro Mapfile adaptado para a presente disserta\u00e7\u00e3o.\nFigura 4.11 \u2014 Estrutura de um ficheiro Mapfile.\nA sua an\u00e1lise permite sublinhar que a estrutura de um ficheiro Mapfile envolve v\u00e1rios elementos, que conduzir\u00e3o \u00e0 personaliza\u00e7\u00e3o da interface gr\u00e1fica dos dados geogr\u00e1ficos. A leitura deste diagrama leva a concluir que existem diversos tipos de relacionamentos entre os v\u00e1rios fatores, que s\u00e3o definidos com base na sua cardinalidade. Perante esta evid\u00eancia, \u00e9 de destacar os elementos que t\u00eam pelo menos um elemento (1..*) e que s\u00e3o o \"OUTPUTFORMAT\u201d, a \u201cLAYER\u201d e o \u201cSYMBOL\u201d\u201d, uma vez que s\u00e3o os que ir\u00e3o provocar mais dinamismo na aplica\u00e7\u00e3o Web. Todavia, al\u00e9m destes, existem outros que est\u00e3o ligados diretamente ao elemento principal \"MAP\u201d tais como, \"WEB'. \"PROJECTION\u201d, \"LEGEND\u201d\u201d, \"SCALEBAR\u201d e \"REFERENCE\u201d, casos em que existe uma \u00fanica ocorr\u00eancia deste fator.\nAs principais vari\u00e1veis que comp\u00f5em o ficheiro Mapfile s\u00e3o:\n\u2022\tMAP \u2014 que define o in\u00edcio do Mapfile.\n\u2022\tWEB \u2014 composto pelo caminho absoluto do template e do ficheiro de inicializa\u00e7\u00e3o.\n\u2022\tPROJECTION \u2014 que determina o sistema de refer\u00eancia em que ser\u00e1 visualizado o mapa. A configura\u00e7\u00e3o das proje\u00e7\u00f5es pressup\u00f5e que sejam definidas duas, uma para a imagem de sa\u00edda (no objeto MAP) e outra para cada camada (na layer) a ser projetada.\n\u2022\tLEGEND \u2014 em que \u00e9 descrita a forma como a legenda \u00e9 constru\u00edda.\n\u2022\tLA YER \u2014 em que s\u00e3o delineadas as camadas de informa\u00e7\u00e3o geogr\u00e1fica a representar. O n\u00famero de camadas corresponder\u00e1 ao n\u00famero de entidades, que est\u00e3o apresentadas no modelo de dados j\u00e1 descrito, sendo nesta vari\u00e1vel que se inicia um objeto layer.\n\u2022\tNAME \u2014 que define o nome da camada de informa\u00e7\u00e3o para a aplica\u00e7\u00e3o, que n\u00e3o pode ser constitu\u00eddo por espa\u00e7os nem acentos e deve ser uma string com um m\u00e1ximo de 20 caracteres. Este nome ter\u00e1 que coincidir com o que \u00e9 inserido no ficheiro configdefault.xml na tag das categorias.\n\u2022\tCLASS \u2014 que indica o in\u00edcio da declara\u00e7\u00e3o deste elemento, em que est\u00e3o inseridas as vari\u00e1veis \u201cSTYLE\u201d e \u201cOUTLINECOLOR\u201d e termina com um \u201cEND\u201d. Todas as layers com representa\u00e7\u00e3o vetorial devem ter pelo menos uma \u201cclass\u201d.\n\u2022\tSTYLE \u2014 que cont\u00e9m simbologia e design, podendo aplicar-se diversos estilos dentro de uma \u201cCLASS\u201d ou \u201cLABEL\u201d.\n\u2022\tQUERYMAP \u2014 que permite personalizar o resultado obtido pela pesquisa, atrav\u00e9s de uma query, por exemplo, este pode ser apresentado de uma forma destacada, com uma cor diferente ou os elementos desenhados de acordo com o que foi estipulado para a camada de informa\u00e7\u00e3o.\n\u2022\tLABEL \u2014 usada para anotar um recurso com um peda\u00e7o de texto.\n\u2022\tSYMBOL \u2014 vari\u00e1vel atrav\u00e9s da qual s\u00e3o definidos os s\u00edmbolos, que podem ser usados na constru\u00e7\u00e3o de uma layer, para descrever os elementos que s\u00e3o do tipo ponto (Figura 4.12).\nFigura 4.12 \u2014 Estrutura de um Mapfile (Freimuth et al., 2017).\n\u2022\tPOINTS \u2014 que indica o in\u00edcio de uma sequ\u00eancia de pontos, que comp\u00f5em um s\u00edmbolo do tipo vetor.\n\u2022\tREFERENCE \u2014 que permite mostrar a extens\u00e3o de um mapa numa interface interativa.\n\u2022\tOUTPUTFORMAT \u2014 que define os formatos de sa\u00edda dispon\u00edveis que s\u00e3o suportados, como o PNG (Portable Network Graphics'), o GIF (Graphics Interchange Format), o JPEG (Joint Photographic Experts Group), entre outros.\n\u2022\tSCALEBAR \u2014 que permite a cria\u00e7\u00e3o da escala gr\u00e1fica.\nExistem outros elementos de menor relev\u00e2ncia, que tamb\u00e9m importa mencionar, para se ficar com um bom entendimento de um ficheiro Mapfile, s\u00e3o eles:\n\u2022\tTYPE \u2014 define o tipo geom\u00e9trico da layer a representar, que pode ser do tipo ponto, linha e pol\u00edgono, no caso de informa\u00e7\u00e3o vetorial e do tipo raster, se a informa\u00e7\u00e3o for matricial.\n\u2022\tSIZE \u2014 define as dimens\u00f5es do elemento no mapa interativo.\n\u2022\tOUTLINECOLOR \u2014 define a cor da camada de informa\u00e7\u00e3o, por meio de um c\u00f3digo RGB (Red, Green, Blue).\n\u2022\tCOLOR \u2014 indica a cor da layer.\n\u2022\tEXTENS\u00c3O \u2014 define a \u00e1rea envolvente do mapa na inicializa\u00e7\u00e3o da aplica\u00e7\u00e3o.\nFeito o esclarecimento da fun\u00e7\u00e3o das vari\u00e1veis (Figura 4.11) que comp\u00f5em o ficheiro Mapfile e dando especial aten\u00e7\u00e3o aos elementos que derivam da vari\u00e1vel layer, apresenta-se, na Figura 4.13, o exemplo das linhas de c\u00f3digo inseridas para a cria\u00e7\u00e3o de uma camada de informa\u00e7\u00e3o no referido ficheiro.\n#\tStart cz Layer Aquas Praia\n#\nLAYER\nNAME \"qd_praia\"\nTYPE point\nCONNECT! IONT YFE POST SIS\nFROCESSING \"CLOSECONNECTION=DEEER\"\nCONNECTION \"dbname=BDGM user=postqres host=localhost paasword=postqres pcrt=5432\"\nDATA \"qeom FROM gd_praia USING UNIQUE gid_qdpr USING SRID=3763\"\nTOLERANCE 6\nTOLERANCEUNIIS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsq: 3763\"\nEND\nMETADATA\n\u2019\u2019DESCRIPTION\u2019' \"\u00c1guas Praia\"\n\"RESULT_FIELDS\u201d \"ncme_camp, x, y, ano, equipamento, z_zh, menosz_zh, datum_criq\" \"RESULT_EiEADERS\" \"Campanha, X, Y, Ano, Equipamento, Z_ZH, MenosZ_ZH, Datum_criqem\u201d \"LAYERENCODING\" \"UTF-8\u201d\nEND # Metadata___________________________________________________________________________\nCLASS\n#Name '\u00c1guas Praia'\nSYMBOL 'circle'\nSIZE 5\nCOLOR\t180 180 180\nEND # Class\nEND # Layer\nFigura 4.13 \u2014 Exemplo da cria\u00e7\u00e3o de uma layer no Mapfile.\nO ret\u00e2ngulo com o contorno a laranja indica as linhas de c\u00f3digo necess\u00e1rias para estabelecer a liga\u00e7\u00e3o \u00e0 base de dados espacial PostgreSQL/PostGIS, tal como para extrair a informa\u00e7\u00e3o geoespacial e alfanum\u00e9rica referente \u00e0 tabela especificada. A linha PROCESSING \u201cCLOSE_CONNECTION = DEFER\u201d mostra que, a primeira vez que for efetuada a conex\u00e3o \u00e0 base de dados, esta ser\u00e1 partilhada por todas as camadas de informa\u00e7\u00e3o que usam os mesmos elementos de liga\u00e7\u00e3o, no que respeita ao host, \u00e0 base de dados, ao user e \u00e0 password. Tal evid\u00eancia possibilita uma melhor renderiza\u00e7\u00e3o \u00e0 base de dados, j\u00e1 que a liga\u00e7\u00e3o estabelecida com esta n\u00e3o \u00e9 fechada, o que permite uma maior velocidade.\nNo que respeita ao ret\u00e2ngulo limitado a azul, as linhas de c\u00f3digo t\u00eam o seguinte significado:\n\u2022\tDESCRIPTION \u2014 nome da layer que aparece na legenda da aplica\u00e7\u00e3o.\n\u2022\tRESULT_FIELDS \u2014 nome dos campos na base de dados.\n\u2022\tRESULT_HEADERS \u2014 nome dos campos a visualizar na tabela, com o resultado de uma query e que s\u00e3o referentes aos nomes indicados em RESULT FIELDS.\n\u2022\tLAYER_ENCODING \u2014 o c\u00f3digo UTF-8 \u00e9 um tipo de codifica\u00e7\u00e3o bin\u00e1ria (Unicode), que pode ser de 1 a 4 bytes de comprimento e pode representar qualquer caracter no padr\u00e3o Unicode. \u00c9 um c\u00f3digo multibyte, isto \u00e9, usa v\u00e1rios bytes por caracter e \u00e9 compat\u00edvel com o ASCII.\n\u00c9 importante que o elemento \u201cTEMPLATE void\u201d seja inserido, porque \u00e9 um fator que indica que a camada de informa\u00e7\u00e3o pode ser interrog\u00e1vel, o que significa que pode ser consultada, atrav\u00e9s de uma query em SQL.\n4.2.2.\tp.Mapper\nEsta aplica\u00e7\u00e3o tem ficheiros que s\u00e3o considerados essenciais no sentido de requerem altera\u00e7\u00e3o, de modo a personalizar a plataforma com a informa\u00e7\u00e3o pretendida, que se descrevem a seguir:\npmapper_demo.map\nO Mapfile (*.map) \u00e9 o ficheiro no qual est\u00e3o inseridas as configura\u00e7\u00f5es a visualizar no mapa interativo, tendo em vista satisfazer os interesses de cada entidade para gerar o mapa que ir\u00e1 ser visto. Sublinha-se que este ficheiro dever\u00e1 ser o primeiro a alterar, em conformidade com os par\u00e2metros j\u00e1 referidos e necess\u00e1rios \u00e0 personaliza\u00e7\u00e3o da aplica\u00e7\u00e3o (Anexo B).\nconfig_default.xml\nEste ficheiro \u00e9 constitu\u00eddo por diversas vari\u00e1veis e par\u00e2metros, que foram alterados de forma a atingir o expect\u00e1vel, indo ao encontro dos objetivos deste estudo. \u00c9 nele que est\u00e3o inseridas as configura\u00e7\u00f5es de todas as tag, que s\u00e3o as estruturas de linguagem de marca\u00e7\u00e3o que cont\u00e9m instru\u00e7\u00f5es (exemplo na Figura 4.14), e que ser\u00e3o utilizadas para personalizar o WebSIG:\n\u2022\tplugin (export, scalebar, etc);\n\u2022\tconfig \u2014 nesta tag, s\u00e3o indicadas as pastas onde est\u00e3o guardados os ficheiros Mapfile e os scripts em javascript, assim como o caminho do ficheiro com extens\u00e3o xml, onde est\u00e3o definidos os par\u00e2metros de impress\u00e3o;\n\u2022\tmap \u2014 em que s\u00e3o indicados o nome dos ficheiros Mapfile e Template sendo que, relativamente a este \u00faltimo, ainda \u00e9 referido o local onde est\u00e1 alojado;\n\u2022\tcategories \u2014 as layers podem ser subdivididas em diferentes categorias (neste caso, Geologia Marinha, Hidrografia e Oceanografia) e, em cada categoria, s\u00e3o inseridas as features, que v\u00e3o ser apresentadas na TOC (Table Of Contents), para visualiza\u00e7\u00e3o (Figura 4.14);\n\u2022\tquery \u2014 tag em que s\u00e3o especificados todos os par\u00e2metros relacionados com a consulta da informa\u00e7\u00e3o espacial, por exemplo, o n\u00famero de registos que ser\u00e3o extra\u00eddos e a cor dos elementos que forem selecionados;\n\u2022\tuser interface (ui) \u2014 \u00e9 a configura\u00e7\u00e3o dos par\u00e2metros afetos \u00e0 legenda, como \u00e9 o caso do estilo das categorias (em \u00e1rvore ou planas), a necessidade de uma \u201ccheckbox\u201d para as layers e para as features, tal como a op\u00e7\u00e3o da lista de camadas (TOC) ser atualizada automaticamente, de acordo com a escala;\n\u2022\tlocale \u2014 onde \u00e9 indicada a l\u00edngua em que ser\u00e1 apresentada a interface gr\u00e1fica, bem como o tipo de caracteres (UTF-8);\n\u2022\tprint \u2014 em que s\u00e3o definidos os formatos de sa\u00edda das imagens;\n\u2022\tdownload \u2014 tag em que \u00e9 poss\u00edvel indicar os n\u00edveis de DPI (Dots per inch) para grava\u00e7\u00e3o das imagens.\n<categories>\n<category name=\u201dAmostragem\u201d>\n<group>gd praia</group>\n<group>gd plataforma</group>\n<group>gs plataforma</group>\n<group>gs vertical</group>&lt;group>gs praia</group>\n</category>\n<category name=\u201dLevantamento Geof\u00edsico\u201d>\n<group>sismica</group>\n</category>\n<category name=\u201dLevantamento Hidrogr\u00e1fico\u201d>\n<group>sondas</group>\n</category>\n<category name=\u201dLevantamento Oceanogr\u00e1fico\">&lt;group>oc fiadas</group>\n</category>\n<category name=,'Raster\u201d>\n<group>orto2010&lt;/group>&lt;group>mdt</group>&lt;group>sed6</group>\n</category>\n<category name=,'Outros\">\n<group>portugal</group>\n</category>\n</categories>\nFigura 4.14 \u2014 Categorias.\njs_config.php\n\u00c9 um ficheiro que se encontra fisicamente em C:\\ms4w\\apps\\pmapper\\pmapper-4.4.0\\config\\default, sendo constitu\u00eddo por linhas de c\u00f3digo em linguagem de programa\u00e7\u00e3o PHP, com a fun\u00e7\u00e3o de definir a configura\u00e7\u00e3o de ferramentas, entre outras: os bot\u00f5es a representar na barra de ferramentas, a configura\u00e7\u00e3o da escala gr\u00e1fica, a op\u00e7\u00e3o de escolha do resultado da query ser ou n\u00e3o apresentado numa tabela. No caso em estudo, este ficheiro foi sendo editado com a remo\u00e7\u00e3o de algumas ferramentas e a inclus\u00e3o de outras, \u00e0 medida que os plugins iam sendo adicionados no ficheiro C: \\ms4w \\apps\\pmapper\\pmapper-4.4.0\\config\\config_default.xml.\nAl\u00e9m destes ficheiros principais, existem ainda outros que tamb\u00e9m contribuem para a personaliza\u00e7\u00e3o da aplica\u00e7\u00e3o Web, especificamente: os templates CSS, que permitem a estiliza\u00e7\u00e3o da p\u00e1gina (C:\\ms4w\\apps\\pmapper\\pmapper-4.4.0\\templates) e os templates em PHP, que podem ser alterados de um modo subjetivo, consoante a necessidade do utilizador e o seu grau de conhecimento e dom\u00ednio da linguagem de programa\u00e7\u00e3o (C:\\ms4w\\apps\\pmapper\\pmapper-4.1.1\\incphp). Neste projeto, n\u00e3o houve necessidade de modificar estes ficheiros para alcan\u00e7ar o objetivo final.\nA aplica\u00e7\u00e3o p.Mapper tem como princ\u00edpio o template de inicializa\u00e7\u00e3o index.phtml, que est\u00e1 armazenado em C:\\ms4w\\apps\\pmapper\\pmapper-4.4O, cujo conte\u00fado \u00e9 a indica\u00e7\u00e3o, em linguagem de programa\u00e7\u00e3o PHP, do ficheiro que d\u00e1 acesso \u00e0 interface gr\u00e1fica, map_default.phtml, estando alocado na mesma diretoria (Figura 4.15). O ficheiro uielement.php, alojado em C:\\ms4w\\apps\\pmapper\\pmapper-4.4.0\\incphp, foi modificado com a inclus\u00e3o do log\u00f3tipo do Instituto Hidrogr\u00e1fico e com o t\u00edtulo \u201cPortal de Dados Marinhos\u201d, no cabe\u00e7alho.\nA interface gr\u00e1fica do Portal em curso est\u00e1 estruturada em cinco \u00e1reas distintas: o cabe\u00e7alho, o mapa interativo (\u00e1rea de visualiza\u00e7\u00e3o), as camadas de informa\u00e7\u00e3o (layers), o mapa de refer\u00eancia e as ferramentas (Figura 4.15).\nFigura 4.15 \u2014 Organiza\u00e7\u00e3o da Interface Gr\u00e1fica.\nEm sintonia com o modelo de dados geogr\u00e1fico apresentado, criou-se uma classe convencional \u201cusers\u201d, em que foram inseridos os utilizadores com permiss\u00e3o para aceder ao \u201cPortal de Dados Marinhos\u201d, com os respetivos username e password. A Figura 4.16 esquematiza o racioc\u00ednio l\u00f3gico, que sustenta o processo de autentica\u00e7\u00e3o criado neste caso. Conv\u00e9m referir que a classe convencional \u201cusers\u201d se traduz na tabela com o mesmo nome, constru\u00edda na BDG, e que o script criado, para este processo, foi efetuado em linguagem de programa\u00e7\u00e3o PHP. Neste c\u00f3digo, apresentado no anexo C, \u00e0 semelhan\u00e7a do que j\u00e1 foi referido para o Mapfile, foi efetuada a conex\u00e3o ao PostGIS com a indicac\u00e3o dos par\u00e2metros de acesso. Em seguida, foi criada uma query em SQL ($sql = \"SELECT * FROMusers WHERE username = '$username' AND password = '$password'\";), que valida as credenciais introduzidas pelo utilizador (Figura 4.16). O ficheiro index.phtml foi alterado de forma a que a aplica\u00e7\u00e3o inicie com o sistema de autentica\u00e7\u00e3o (Figura 4.17), quando o Portal \u00e9 carregado, em vez de ir diretamente para a interface gr\u00e1fica do utilizador, como acontecia por defeito (ficheiro map_default.phtml).\nA an\u00e1lise da figura permite concluir que o utilizador, que tiver o username e password validado pela BDG, tem acesso ao Portal de Dados Marinhos (Figura 4.17). Este procedimento \u00e9 verificado, depois de realizada a query, com o comando if-else em que: se a condi\u00e7\u00e3o for verdadeira, o ficheiro map_default.phtml \u00e9 lido e o utilizador tem acesso direto \u00e0 interface gr\u00e1fica; caso contr\u00e1rio, houve um erro de acesso ao sistema (Your username or password is incorrect!), o que implica tentar novamente, ou o acesso \u00e9 negado por falta de autoriza\u00e7\u00e3o.\nAcesso ao Portal\nu serna rne\npassword\nEntrar\nFigura 4.17 \u2014 Sistema de autentica\u00e7\u00e3o.\nA aplica\u00e7\u00e3o foi constru\u00edda e estruturada com a finalidade de proporcionar ao utilizador navegar e efetuar pesquisas, usufruindo de ferramentas apropriadas para dar resposta ao que for solicitado. Deste modo, o diagrama apresentado na Figura 4.18 explica, sucintamente, os pap\u00e9is a desempenhar pelo utilizador e pelo administrador criados nesta aplica\u00e7\u00e3o.\nFigura 4.18 \u2014 Caso de uso para este prot\u00f3tipo.\nVerifica-se que a fun\u00e7\u00e3o do utilizador \u00e9 explorar a informa\u00e7\u00e3o, enquanto que o papel do administrador \u00e9 proporcionar as condi\u00e7\u00f5es necess\u00e1rias para que tal se concretize. Assim, este \u00faltimo tem como tarefas adicionar as layers, inserir e remover as ferramentas, registar os utilizadores, criar as funcionalidades e gerir a informa\u00e7\u00e3o. Quanto ao utilizador, \u00e9 lhe dada a oportunidade de efetuar o login, visualizar o mapa interativo, realizar e analisar as pesquisas por layer, explorar as ferramentas e efetuar pesquisas, inserindo as coordenadas da \u00e1rea envolvente.\nA Figura 4.19 mostra a interface gr\u00e1fica, que surge no seguimento da Figura 4.17 em que, como padr\u00e3o, apenas est\u00e3o representadas as layers referentes a Portugal Continental, linha de costa e territ\u00f3rio emerso na zona perif\u00e9rica do porto de Sines, e ao modelo batim\u00e9trico deste porto. Posteriormente, o utilizador tem a liberdade de introduzir as camadas de informa\u00e7\u00e3o que pretender para atingir o seu objetivo.\nCom esta aplica\u00e7\u00e3o, o utilizador tanto pode visualizar uma camada de informa\u00e7\u00e3o independente das outras como v\u00e1rias camadas integradas o que, neste \u00faltimo caso, lhe permite observar a sobreposi\u00e7\u00e3o espacial das v\u00e1rias layers, oriundas de \u00e1reas distintas com diferentes tipos de formato. Perante isto, h\u00e1 a garantia de que esta aplica\u00e7\u00e3o permite a sobreposi\u00e7\u00e3o de informa\u00e7\u00e3o geogr\u00e1fica em formatos vetorial e matricial, constituindo, deste modo, uma apresenta\u00e7\u00e3o h\u00edbrida. Aproveitando esta potencialidade, previu-se a possibilidade de se selecionar, atrav\u00e9s de um click, as camadas de informa\u00e7\u00e3o que se pretende visualizar, dentro da respetiva checkbox, de modo a ativar ou a desativar a layer (Figura 4.20).\nFigura 4.19 \u2014 Interface gr\u00e1fica com as layers iniciais, Linha de costa, Territ\u00f3rio emerso e o Modelo batim\u00e9trico.\nA informa\u00e7\u00e3o espacial, apresentada no modelo de dados geogr\u00e1fico, pode ser visualizada na Figura 4.21, atrav\u00e9s da ativa\u00e7\u00e3o de todas as layers, por interm\u00e9dio do mapa interativo.\nA fun\u00e7\u00e3o do mapa de refer\u00eancia \u00e9 ir mostrando ao utilizador a sua posi\u00e7\u00e3o relativa, \u00e0 medida que vai navegando no mapa, sendo a \u00e1rea vis\u00edvel deste marcada por uma borda vermelha (Figura 4.22 a) e b)). Real\u00e7a-se a vantagem deste mapa estar sincronizado com a \u00e1rea de visualiza\u00e7\u00e3o (mapa interativo), proporcionando um enquadramento espacial da informa\u00e7\u00e3o que est\u00e1 a ser apresentada (Figura 4.22 c) e Figura 4.22 d)). Este mapa foi configurado no ficheiro Mapfile (C:\\ms4w\\apps\\pmapper\\pmapper-4.4.0\\config\\default), apresentado no anexo B, e a imagem, em formato PNG, foi guardada em C: \\ms4w \\apps\\pmapper\\pmapper-4.4.0\\images.\n[v] Amostragem\n; 0 \u00c1guas Pra a\n; 0 \u00c1guas Plataforma\n0 Sedimentos Superficiais\nPlataforma\n0 Sed mentos Verticais\n0 Sedimentos Superficiais Praia\n-\t[y| Levantamento Geof\u00edsico\n0 Reflex\u00e3o S\u00edsmica Boomer\n-\tg Levantamento Hidrogr\u00e1fico\n0 Sondagem\n-\t|v] Levantamento Oceanogr\u00e1fico\n..0ADCP F adas\n-\tg Raster\n0 \u25a1rtofcitcmapa 2010\n\u00ed 0 Modelo batim\u00e9trico\n\u25a1 SEPLAT - 5ED6\n-\t\u25a0 |v] Outras\n0 Portugal Continental\nFigura 4.20 \u2014 Lista das camadas de informa\u00e7\u00e3o.\nFigura 4.21 \u2014 Interface gr\u00e1fica com todas as camadas de informa\u00e7\u00e3o ativas.\nO servidor de mapas foi personalizado em fun\u00e7\u00e3o dos interesses definidos para este projeto, tendo em vista que a plataforma permita que os utilizadores interajam de uma forma intuitiva, simples e acess\u00edvel aos metadados pretendidos. Na Tabela 4.1, s\u00e3o apresentados e descritos os v\u00e1rios tipos de bot\u00f5es e respetivas funcionalidades.\na)\nb)\nc)\nd)\nFigura 4.22 \u2014 Mapa de refer\u00eancia e \u00e1rea de visualiza\u00e7\u00e3o: a) e b) extens\u00e3o inicial do mapa; c) e d) escala de representa\u00e7\u00e3o maior.\nTabela 4.1 \u2014 Composi\u00e7\u00e3o da barra de ferramentas\nBarra de Ferramentas\t\t\t\nNavega\u00e7\u00e3o\tZoom\t\tZoom in \u2014 para ampliar uma \u00e1rea espec\u00edfica do mapa, atrav\u00e9s de um click do rato ou de um ret\u00e2ngulo da \u00e1rea que se pretende ampliar.\n\t\t\tZoom out \u2014 permite um afastamento do mapa, com um click do rato, sobre a \u00e1rea que se pretende reduzir.\n\tAtualiza\u00e7\u00e3o\t\u00a9\tZoomfullextent \u2014 tem a fun\u00e7\u00e3o de voltar para a extens\u00e3o inicial do mapa, de modo a visualizar-se toda a informa\u00e7\u00e3o geogr\u00e1fica inserida na aplica\u00e7\u00e3o.\n\t\t\tRelaod \u2014 deixa apagar a sele\u00e7\u00e3o de umafeature no mapa interativo.\n\tTransla\u00e7\u00e3o\t*\tPan \u2014 move o mapa para o local pretendido, atrav\u00e9s de um click do rato sobre o mesmo.\n\tInterroga\u00e7\u00e3o\t\tIdentify \u2014 viabiliza a extra\u00e7\u00e3o da informa\u00e7\u00e3o alfanum\u00e9rica associada a um elemento, clicando em cima do mesmo.\n\tPesquisa\t\tQuery Editor \u2014 permite efetuar uma pesquisa sobre os dados geoespaciais que se pretende.\n\t\t?Y\tQuery \u2014 oferece a possibilidade de efetuar uma query apenas para a \u00e1rea envolvente que se deseja, atrav\u00e9s da inser\u00e7\u00e3o de coordenadas.\n\tLocaliza\u00e7\u00e3o\tx/y\tLocate XY \u2014 deixa navegar at\u00e9 ao ponto coordenado.\n\tImpress\u00e3o\ts\tPermite obter o mapa impresso nos formatos anal\u00f3gico, PDF ou TIFF, com a respetiva legenda.\nConforme j\u00e1 referido, o bot\u00e3o de interroga\u00e7\u00e3o Identify (\t) permite ao utilizador selecionar o ponto de\ninteresse e consultar a informa\u00e7\u00e3o que lhe est\u00e1 associada. Para tal, deve ativar-se o bot\u00e3o e clicar-se em cima da feature, o que faz com que a aplica\u00e7\u00e3o abra uma nova janela com uma tabela em que est\u00e1 a informa\u00e7\u00e3o alfanum\u00e9rica associada \u00e0 layer escolhida. Salienta-se que \u00e9 poss\u00edvel exportar esta tabela para o formato PDF (Portable Document Format), CSV (Comma-separated values) ou Shapefile (Figura 4.23).\nFigura 4.23 \u2014 Resultado da ferramenta identify.\nA ferramenta a que corresponde o bot\u00e3o (\t) foi constru\u00edda com a pretens\u00e3o de permitir ao utilizador\nobter apenas os metadados que lhe interessa, atrav\u00e9s da inser\u00e7\u00e3o das coordenadas da \u00e1rea envolvente que pretende. Neste sentido e com o prop\u00f3sito de a pesquisa ser mais espec\u00edfica, foram adicionados alguns atributos, que restringem ainda mais a consulta, como \u00e9 o caso do nome da campanha e do ano de aquisi\u00e7\u00e3o da informa\u00e7\u00e3o conforme as Figura 4.24 a) e Figura 4.24 b). O procedimento de conex\u00e3o \u00e0 BDG, em linguagem de programa\u00e7\u00e3o PHP (apresentado no Anexo C), \u00e9 semelhante ao j\u00e1 referido para o Mapfile e para o sistema de autentica\u00e7\u00e3o, no respeitante \u00e0 query utilizada, que \u00e9 efetuada com base no operador UNION, por via do seguinte c\u00f3digo em SQL:\nSELECT columnname(s) FROM table1\nUNION\nSELECT columnname(s) FROM table2;\na)\n\t\nx\t||y\t\u00a1nome\t| \u00a1ambiente |\n1-59451.770 -193246.070\t|GD Praia\t||Praia\n-60539.519 -194245.745\t|GS Plataforma ||Plataforma|\n\u00a1-59440.706 -193206.046\t\u00a1Sondas\tPraia\n\u00a1-59451.45011-193222.440\t\u00a1GD Praia\t| \u00a1Praia\n\u00a1-59448.870||-193237.410\t|GD Praia\t||Praia\n1-59443.060 -193203.530\t\u00a1GD Praia\t\u00a1\u00a1Praia\t|\n\u00a1-59456.050ll-193244.160\t\u00a1GD Praia\t| \u00a1Praia\n-61051.468 -193509.753\t|GD Plataforma]|Plataforma|\n\u00a1-60704.51 S||-194842.366\t\u00a1GD Plataforma! |Plataforma|\n|-61009.642||-193509.297||GD Plataforma! \u00a1Plataforma!\t\n1-59440.3411-193214.781\t\u00a1Sondas\t| \u00a1Praia\n1-59446.080||-193252.880\t|GD Praia\t||Praia\n-61044.402 -193516.819\t\u00a1GD Plataforma|\u00a1Plataforma|\n\u00a1-61012.036||-193506.562||GD Plataforma! \u00a1Plataforma!\t\n\u00a1-59453.240||-193235.930\t|GD Praia\t||Praia\n-61556.986 -194251.838\t|GD Plataforma]\u00a1Plataforma]\n\u00a1-59440.057||-193203.304\t\u00a1Sondas\t| \u00a1Praia\nFigura 4.24 \u2014 Query: a) Introdu\u00e7\u00e3o da informa\u00e7\u00e3o; b) Excerto do resultado.\nPara criar uma aplica\u00e7\u00e3o din\u00e2mica destinada a um utilizador espec\u00edfico, de entre os plugins existentes para explorar e manipular, foram escolhidos os que se apresentam na Figura 4.25. Estes plugins est\u00e3o armazenados em C:\\ms4w\\apps\\pmapper\\pmapper-4.4.0\\plugins e foram inseridos no ficheiro config_default.xml, cuja descri\u00e7\u00e3o se apresenta a seguir.\n<plugins>export</plugins>&lt;plugms>scalebar</plugins>&lt;plugms>transparency</plugins>&lt;plugms>proj4js</plugins>&lt;plugins>locateXY</p lugins >&lt;plugins>coordinates</plugins>&lt;plugms>common</plugins>&lt;plugms>queryeditor</phigins>&lt;plugms>unitAndProj</phigins>\nFigura 4.25 \u2014 Plugins utilizados na aplica\u00e7\u00e3o p.Mapper.\n\u2022\texport \u2014 permite exportar resultados de consulta para os formatos CSV, PDF e Shapefile;\n\u2022\ttransparency \u2014 facilita o trabalho do utilizador quando este sobrep\u00f5e duas camadas de informa\u00e7\u00e3o, por exemplo, uma em formato vetorial e outra em formato raster. D\u00e1 a possibilidade de colocar a camada inferior com transpar\u00eancia, para auxiliar na visualiza\u00e7\u00e3o e explora\u00e7\u00e3o da informa\u00e7\u00e3o espacial da camada superior (Figura 4.26);\nFigura 4.26 \u2014 Transpar\u00eancia da layer.\n\u2022 proj4js \u2014 a biblioteca projA \u00e9 definida na vers\u00e3o para JavaScript pelo que, no caso em estudo, foram estabelecidas as v\u00e1rias proje\u00e7\u00f5es usadas no IH em Portugal Continental, Madeira e A\u00e7ores, o que originou quatro ficheiros, um para cada proje\u00e7\u00e3o, como se mostra a seguir e que est\u00e3o alocados em C:\\ms4w\\apps\\pmapper\\pmapper-4.4.0\\plugins\\proj4js\\defs.\n// Portugal PT-TM06\nProj\u20194js.defs[\"EPSG:3763\"]= \"+title=PT-TM06 +proj=tmerc +lat_O=39.66825833333333 +lon_0=-8.133108333333334 + k=l +x_0=0 +y_0=0 +ellps=GRS80 +units=m +no_defs\";\n// WGS84 UTM 29N\nProj4js.defs[\u201dEPSG:32629\"] = \"+proj=utm +zone=29 +ellps=WGS84 +datum=WGS84 +units=m +no_defs\";\n// A\u00e7ores (ITRF93/ PTRA08 - UTM zona 26N) - Grupo Central e Oriental do Arquip\u00e9lago dos A\u00e7ores\nproj4.defs(\"EPSG:5015\",\"+proj-utm +zone=26 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n// Madeira - Selvagens, Porto Santo PTRA08 / UTM zone 28N\nproj4.defs(\"EPSG:5016\",\"+proj=utm +zone=28 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs\");\n\u2022 unitAndProj \u2014 exibe a informa\u00e7\u00e3o correspondente \u00e0 proje\u00e7\u00e3o cartogr\u00e1fica e \u00e0s unidades dos dados geoespaciais, que est\u00e3o representados na seguinte interface gr\u00e1fica (Figura 4.27);\n\u2022 locateXY \u2014 indica a posi\u00e7\u00e3o geogr\u00e1fica do ponto para o qual s\u00e3o inseridas as coordenadas.\n\u2022\tx V- \u2022 \u2022\nNa barra de ferramentas, clica-se no bot\u00e3o z , para digitar as coordenadas X e Y e poder navegar at\u00e9 \u00e0 posi\u00e7\u00e3o indicada. A inser\u00e7\u00e3o das coordenadas poder\u00e1 ser feita nas proje\u00e7\u00f5es introduzidas no item anterior \u201cproj4js\u201d (Figura 4.28 a) e Figura 4.28 b)).\nFigura 4.27 \u2014 Proje\u00e7\u00e3o utilizada na aplica\u00e7\u00e3o.\n[X -64837.6 Y-192608.391\nI ETRS89/PT-TM06 ~vj\nProjection\nI -192608.39?\nText\nlocateXY\nFigura 4.28\nb)\n\u2014 Exemplo de aplicabilidade da ferramenta locate XY: a) inser\u00e7\u00e3o das coordenadas e b) resultado final.\nO Portal proporciona aos utilizadores a intera\u00e7\u00e3o com as v\u00e1rias camadas de informa\u00e7\u00e3o espacial existentes na aplica\u00e7\u00e3o, o que significa que permite a integra\u00e7\u00e3o de geoinforma\u00e7\u00e3o com informa\u00e7\u00e3o alfanum\u00e9rica para an\u00e1lise e representa\u00e7\u00e3o. A vantagem de haver interatividade, entre os utilizadores e a aplica\u00e7\u00e3o, possibilita aos mesmos sobrepor n\u00edveis de informa\u00e7\u00e3o, em conson\u00e2ncia com o seu objetivo de pesquisa, bem como aceder aos dados alfanum\u00e9ricos consultando a base de dados, ou seja, atrav\u00e9s de queries.\n\u2022 queryeditor \u2014 seleciona features de um n\u00edvel de informa\u00e7\u00e3o, atrav\u00e9s de uma query por atributos, o que quer dizer que a sele\u00e7\u00e3o \u00e9 efetuada por meio de uma express\u00e3o em SQL. Para\na concretiza\u00e7\u00e3o desta query, clica-se no bot\u00e3o (\t), na barra de ferramentas. O resultado\nobtido pode ser exportado para os formatos CSV, PDF e Shapefile (Figura 4.29 a), Figura 4.29 b) e Figura 4.29 c)).\nA Figura 4.29 a) mostra o exemplo de uma query que foi criada para dar resposta \u00e0 seguinte quest\u00e3o:\nS Quantas amostras de \u00e1gua em ambiente sedimentar, referentes \u00e0 plataforma continental, se encontram no patamar correspondente ao fundo?\nb)\na)\tc)\nFigura 4.29 \u2014 Query: a) Query em SQL; b) Resultados; c) Formatos para exportar a informa\u00e7\u00e3o.\nA ferramenta download (I ) \u00e9 de grande utilidade dado que, ao clicar neste \u00edcone, o utilizador pode ficar com o mapa tem\u00e1tico, que estiver a ser visualizado no momento.\n4.2.3\tDiscuss\u00e3o\nNa conce\u00e7\u00e3o desta aplica\u00e7\u00e3o, foram usadas duas ferramentas, que t\u00eam a fun\u00e7\u00e3o de permitir a consulta dos metadados, todavia com procedimentos distintos. Enquanto uma delas possibilita a consulta dos metadados referentes a uma entidade geogr\u00e1fica, a outra permite obter os respeitantes \u00e0s coordenadas X e Y, ao nome da entidade geogr\u00e1fica e ao ambiente sedimentar envolvente, atrav\u00e9s da inser\u00e7\u00e3o das coordenadas da \u00e1rea, da campanha e do ano. Considera-se que estas duas ferramentas s\u00e3o uma mais-valia, uma vez que d\u00e3o autonomia ao utilizador para explorar a base de dados, por meio de consultas em SQL de uma forma r\u00e1pida e intuitiva, o que, consequentemente, permite gerar novos mapas e extrair a informa\u00e7\u00e3o nos formatos CSV, PDF e/ou Shapefile.\nComparando as ferramentas e funcionalidades, que comp\u00f5em os v\u00e1rios portais apresentados na Tabela 1.1 e o produto final alcan\u00e7ado neste estudo, verifica-se que o Portal de dados marinhos\nconseguiu atingir o objetivo inicialmente proposto, tendo criado as ferramentas de navega\u00e7\u00e3o, de interroga\u00e7\u00e3o, de pesquisa, de localiza\u00e7\u00e3o e de impress\u00e3o, tal como as funcionalidades correspondentes ao mapa de refer\u00eancia, \u00e0s coordenadas X e Y e ao sistema de proje\u00e7\u00e3o. Contrariamente a esta evid\u00eancia, est\u00e3o os outros portais, em cuja implementa\u00e7\u00e3o n\u00e3o foram tidos em conta a globalidade destes elementos. Contata-se que todos os portais t\u00eam as ferramentas de navega\u00e7\u00e3o como o zoom in, zoom out, zoom full extent e o pan personalizadas, seguidas das de impress\u00e3o, de interroga\u00e7\u00e3o, de localiza\u00e7\u00e3o e, por \u00faltimo, as de pesquisa. Chama-se a aten\u00e7\u00e3o para o facto de apenas o Portal do LNEG e o resultante deste projeto permitirem consultas \u00e0 base de dados, o que n\u00e3o \u00e9 um aspeto relevante para os outros portais que foram objeto de pesquisa. No que respeita \u00e0s funcionalidades, o Portal do SNIMaR \u00e9 o \u00fanico que n\u00e3o tem qualquer uma destas op\u00e7\u00f5es e somente o projeto internacional OneGeology, o do LNEG e o Portal em estudo contemplam o mapa de refer\u00eancia.\nNesta amostra de portais, conclui-se que, entre as op\u00e7\u00f5es apresentadas na referida tabela, s\u00e3o consideradas essenciais as ferramentas de navega\u00e7\u00e3o, de interroga\u00e7\u00e3o e de impress\u00e3o e que, em rela\u00e7\u00e3o \u00e0s funcionalidades, as coordenadas X e Y, assim como a indica\u00e7\u00e3o do sistema de proje\u00e7\u00e3o s\u00e3o b\u00e1sicas.\nTal como o Portal de dados marinhos, o do munic\u00edpio de Arraiolos tem tamb\u00e9m todas as ferramentas e funcionalidades. Quanto ao SNIG, apresenta ferramentas de navega\u00e7\u00e3o, pesquisa e impress\u00e3o e tem todas as funcionalidades.\nCAP\u00cdTULO 5 - CONSIDERA\u00c7\u00d5ES FINAIS\nEste projeto teve como objetivo o desenvolvimento de um Portal de dados de diferentes origens e formatos que, usando um software de c\u00f3digo aberto e gratuito, permitisse aos investigadores o acesso a informa\u00e7\u00e3o, bem como a explora\u00e7\u00e3o da mesma, atrav\u00e9s do uso interativo de um conjunto de ferramentas desenvolvidas para o efeito.\nEstando integrada na divis\u00e3o de Geologia Marinha do Instituto Hidrogr\u00e1fico, a signat\u00e1ria utilizou um projeto multidisciplinar, executado em 2012, e desenvolveu o Portal \u00e0 medida das necessidades daquela equipa que, atrav\u00e9s de um simples click em cima das entidades geogr\u00e1ficas, pode ter acesso, de forma intuitiva, \u00e0 informa\u00e7\u00e3o adquirida e dispon\u00edvel na base de dados.\nA componente pr\u00e1tica desta disserta\u00e7\u00e3o teve in\u00edcio com a elabora\u00e7\u00e3o do modelo de dados geogr\u00e1fico, no qual foram indicadas as entidades geogr\u00e1ficas e convencionais a utilizar e foi feita a discrimina\u00e7\u00e3o dos v\u00e1rios atributos a integrar em cada tabela. A estrutura da base de dados foi dividida em conson\u00e2ncia com as tr\u00eas \u00e1reas t\u00e9cnico-cient\u00edficas que entraram no estudo, a geologia marinha, a hidrografia e a oceanografia. O nome dos campos, correspondentes aos metadados, foi atribu\u00eddo de acordo com cada tipo de levantamento efetuado, embora ainda tenham sido criados outros de forma a alargar o leque de pesquisa para o utilizador.\nA base de dados geogr\u00e1fica PostgreSQL/PostGIS mostrou estar capacitada com fun\u00e7\u00f5es que permitiram efetuar diversas experi\u00eancias, visando inserir automaticamente os metadados numa tabela ao inv\u00e9s do m\u00e9todo manual, que seria mais moroso. Ressalva-se que este processo foi efetuado apenas para as entidades geogr\u00e1ficas do tipo ponto, enquanto que as do tipo linha, por op\u00e7\u00e3o, foram harmonizadas e inseridas diretamente do formato shapefile, uma vez que, em tempo \u00fatil, n\u00e3o foi poss\u00edvel explorar o procedimento a efetuar de modo autom\u00e1tico. Salienta-se ainda que o modelo de dados, a harmoniza\u00e7\u00e3o e a inser\u00e7\u00e3o dessa informa\u00e7\u00e3o na base de dados foram fases cruciais para atingir o objetivo da implementa\u00e7\u00e3o da base de dados.\nA viabilidade de realizar consultas de informa\u00e7\u00e3o, por meio de queries espaciais, \u00e9 bastante significativa por permitir que o resultado obtido possa ser observado num ambiente de sistemas de informa\u00e7\u00e3o geogr\u00e1fica, de c\u00f3digo aberto e gratuito ou propriet\u00e1rio, neste caso espec\u00edfico, testado e validado na solu\u00e7\u00e3o de c\u00f3digo aberto QGIS Desktop 2.1.4.3. \u00c9 importante real\u00e7ar este facto, porque permite aferir que existe compatibilidade entre a base de dados geogr\u00e1fica criada e o software de c\u00f3digo aberto, no \u00e2mbito dos SIGs.\nOs programas utilizados no desenrolar deste estudo, designadamente, o PostgreSQL/PostGIS e o MapServer s\u00e3o acess\u00edveis, mesmo para quem est\u00e1 a iniciar este processo de aprendizagem. Qualquer um deles tem manuais intuitivos, que permitem um n\u00edvel de forma\u00e7\u00e3o acess\u00edvel e din\u00e2mico.\nRelativamente ao servidor de mapas MapServer, \u00e9 fundamental referir que o Mapfile teve um contributo essencial na conce\u00e7\u00e3o da aplica\u00e7\u00e3o Web. \u00c9 neste ficheiro que est\u00e1 contida toda a informa\u00e7\u00e3o considerada relevante e que foi utilizada para personalizar a plataforma, de forma evidente e com possibilidade de intera\u00e7\u00e3o com o utilizador. A sua import\u00e2ncia prende-se tamb\u00e9m com a capacidade que tem de efetuar remotamente a liga\u00e7\u00e3o \u00e0 base de dados espacial, indicando os seus par\u00e2metros de configura\u00e7\u00e3o e com uma query em que \u00e9 extra\u00edda a informa\u00e7\u00e3o, atrav\u00e9s do campo correspondente \u00e0 geometria. Existe igualmente compatibilidade entre a BDG utilizada e o servidor de mapas, o que \u00e9 considerado bastante satisfat\u00f3rio. Para o IH, em particular para a GM, a import\u00e2ncia da interoperabilidade da informa\u00e7\u00e3o geogr\u00e1fica destas solu\u00e7\u00f5es prende-se, prende-se com o facto de se considerar relevante implementar uma base de dados, que seja compat\u00edvel com todos ou com a maior parte deles, por acrescentar a mais-valia de n\u00e3o haver redund\u00e2ncia de informa\u00e7\u00e3o e de ser de f\u00e1cil\nvisualiza\u00e7\u00e3o.\nEfetivamente, nas aplica\u00e7\u00f5es criadas neste projeto, designadamente, o sistema de autentica\u00e7\u00e3o e a realiza\u00e7\u00e3o de queries, atrav\u00e9s da inser\u00e7\u00e3o das coordenadas da \u00e1rea envolvente, a conex\u00e3o \u00e0 base de dados espacial foi feita diretamente nos scripts constru\u00eddos em linguagem de programa\u00e7\u00e3o PHP, n\u00e3o havendo liga\u00e7\u00e3o ao ficheiro Mapfile. Esta realidade mostra que existem duas maneiras distintas de aceder \u00e0 BDG, de uma forma eficaz e fi\u00e1vel, garantindo que a sua manipula\u00e7\u00e3o seja realizada remotamente.\nConstatou-se que a jun\u00e7\u00e3o destes tr\u00eas produtos, PostgreSQL/PostGIS, MapServer e p.Mapper, mostra ter boa interoperabilidade, o que significa que, \u00e0 medida que se vai adicionando novas entidades geogr\u00e1ficas \u00e0 base de dados espacial, ou manipulando as existentes, \u00e9 poss\u00edvel visualizar tanto as atualiza\u00e7\u00f5es como as altera\u00e7\u00f5es na interface gr\u00e1fica do utilizador. Verifica-se ainda que, com esta fus\u00e3o, \u00e9 exequ\u00edvel a constru\u00e7\u00e3o de uma aplica\u00e7\u00e3o acess\u00edvel e intuitiva para o utilizador, com uma interface gr\u00e1fica atrativa e, acima de tudo, funcional.\nO Portal de dados em ambiente marinho, criado como prot\u00f3tipo, pode ser considerado como um gestor de informa\u00e7\u00e3o geogr\u00e1fica, visando a poss\u00edvel centraliza\u00e7\u00e3o e organiza\u00e7\u00e3o dos v\u00e1rios tipos de informa\u00e7\u00e3o. O facto dos objetivos iniciais de desenvolvimento de um portal de dados terem sido atingidos mostra que o software de c\u00f3digo aberto e gratuito tamb\u00e9m est\u00e1 operacional, por analogia com os programas propriet\u00e1rios, ao prover a disponibiliza\u00e7\u00e3o de informa\u00e7\u00e3o remotamente. Tal evid\u00eancia prova que \u00e9 poss\u00edvel reduzir na despesa com aquisi\u00e7\u00e3o de solu\u00e7\u00f5es propriet\u00e1rios, havendo, \u00e0 partida, outras solu\u00e7\u00f5es de c\u00f3digo aberto e gratuitas a considerar.\nEsta aplica\u00e7\u00e3o \u00e9 a base que fica ao dispor de um conjunto de utilizadores, podendo ser melhorada e otimizada consoante as suas necessidades, visto permitir que, em qualquer altura, possa ser alterada mediante a introdu\u00e7\u00e3o de novas funcionalidades.\nA par do que foi referido no par\u00e1grafo anterior e tendo em conta a quantidade de informa\u00e7\u00e3o existente, ficam criadas as condi\u00e7\u00f5es para dar continuidade a este projeto. Neste sentido, em trabalhos futuros, a base de dados pode ir sendo alimentada com informa\u00e7\u00e3o harmonizada de outras campanhas, podendo tamb\u00e9m criar-se a indexa\u00e7\u00e3o espacial para cada uma das entidades geogr\u00e1ficas, visando a otimiza\u00e7\u00e3o das consultas em SQL.\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS\nAkbari, M. and S.R.H. Peikar (2014) \u201cEvaluation of free/open source software using OSMM model case study: WebGIS and spatial database.\u201d Adv. Comput. Sci. anInt. J., Vol. 3, No. 5, pp. 34-43.\nAPACHE (2017) \u201cThe Apache software foundation\u201d https://www.apache.org/licenses/GPL-compatibility.html (acedido em 01 de setembro de 2017).\nAPDSI (2004) Open Source Software - Que oportunidades em Portugal? Associa\u00e7\u00e3o para a Promo\u00e7\u00e3o e Desenvolvimento da Sociedade da Informa\u00e7\u00e3o. Lisboa. Portugal. 46 p. Dispon\u00edvel online no endere\u00e7o URL: http://www.algebrica.pt/i_ap/bo2/data/upimages/Estudo_Open_Source_com_capa.pdf (acedido em 20 de julho de 2017).\nBonnici, A.M. (2005) Web GIS Software Comparison Framework. Sir Sandford Fleming College. Dispon\u00edvel online no endere\u00e7o URL: https://www.scribd.com/document/213970393/Webgis-Framework (acedido em 09 de agosto de 2017).\nBorges, K. (1997) Modelagem de dados geogr\u00e1ficos: Uma extens\u00e3o do modelo OMTpara aplica\u00e7\u00f5es geogr\u00e1ficas. Escola de Governo-Funda\u00e7\u00e3o Jo\u00e3o Pinheiro, Belo Horizonte, Brasil, 139p..\nBorges, K.A.V., C.A. Davis Jr. and A.H.F. Laender (2001) \u201cOMT-G: An Object-Oriented Data Model for Geographic Applications.\u201d GeoInformatica 5:3, pp. 221-260.\nBorges, K.A., C.A. Davis Jr. and A. Laender (2005) \u201cBancos de Dados Geogr\u00e1ficos - Modelagem conceituai de dados geogr\u00e1ficos.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.dpi.inpe.br/livros/bdados/cap3.pdf (acedido em 14 de agosto de 2017).\nBughi, C.H. (2007) Mini-curso MapServer Avan\u00e7ado PHP/MapScript. Universidade do Vale do Itaja\u00ed, Brasil, 74p..\nButler, H., M. Daly, A. Doyle, S. Gillies, T. Schaub, and S. Hagen (2016) The GeoJSON Format Dispon\u00edvel online no endere\u00e7o URL: https://tools.ietf.org/html/draft-ietf-geojson-02 (acedido em 20 de setembro de 2017).\nCabral, P.S. (2008) Novas ferramentas para monitoramento ambiental usando sig web. Tese de Doutoramento, Natal/RN, Universidade Federal do Rio Grande do Norte, Brasil.\nCa\u00e7ador, F. (2008) Protocolo da ESOP com AMA dinamiza open source na Administra\u00e7\u00e3o P\u00fablica. Dispon\u00edvel online no endere\u00e7o URL: http://tek.sapo.pt/noticias/computadores/artigos/protocolo-da-esop-com-ama-dinamiza-open-source-na-administracao-publica (acedido em 02 de agosto de 2017).\nC\u00e2mara, G. (2005) Bancos de Dados Geogr\u00e1ficos - Representa\u00e7\u00e3o Computacional de Dados geogr\u00e1ficos. Dispon\u00edvel online no endere\u00e7o URL: http://www.dpi.inpe.br/livros/bdados/cap1.pdf (acedido em 15 de agosto de 2017).\nCatal\u00e3o, J. (2015). Apontamentos sobre a unidade curricular Sistemas de Localiza\u00e7\u00e3o e Geoinforma\u00e7\u00e3o. Texto n\u00e3o publicado, Universidade de Lisboa, Lisboa.\nCharneca, N.M.P. (2013) Modela\u00e7\u00e3o de dados geogr\u00e1ficos aplicada ao planeamento e gest\u00e3o de recursos h\u00eddricos. Tese de Doutoramento, Faculdade de Ci\u00eancias da Universidade de Lisboa, Lisboa, 268p.\nConde\u00e7a, J.J.V. (2009). Aplica\u00e7\u00f5es SIG no apoio aos processos de licenciamento na ARH do Alentejo,\nI.P. O Caso das capta\u00e7\u00f5es de \u00e1gua. Disserta\u00e7\u00e3o de Mestrado, Instituto Superior de Estat\u00edstica e Gest\u00e3o de Informa\u00e7\u00e3o, Universidade Nova de Lisboa, Lisboa, 110p.\nCHRIS-DURAN (2014) \u201cNOOB WEB DEV - A Rookie's Experience with Web Development.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://chris-duran.com/?m=201412 (acedido em 01 de agosto de 2017).\nESOP (2017) Dispon\u00edvel online no endere\u00e7o URL: http://www.esop.pt/Default/pt/Homepage (acedido em 01 de setembro de 2017).\nFerreira, A.A., D.B. Barreiros, and I.M.B.R. Barbosa (2015) \u201cSIGWeb para Dados de Qualidade de \u00c1gua em Bacias Hidrogr\u00e1ficas.\u201d Revista CIENTEC, Vol. 7, No. 1, pp. 43-55.\nFreimuth, P., A. Christl, and H. Tveite (2017) Cartographical Symbol Construction with MapServer. Dispon\u00edvel online no endere\u00e7o URL: http://mapserver.org/mapfile/symbology/construction.html (acedido em 31 de agosto de 2017).\nEPSG (2017) \u201cInternational Association of Oil &amp; Gas Producers.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.epsg.org (acedido em 02 de agosto de 2017).\nFSF (2017) \u201cThe Free Software Definition.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.gnu.org/philosophy/free-sw.html (acedido em 01 de agosto de 2017).\nGDAL (2017) \u201cGDAL - Biblioteca de Abstra\u00e7\u00f5es de Dados Geo-Espaciais.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.gdal.org/index_br.html (acedido em 09 de agosto de 2017).\nGodinho, R.J.N. (2012) O Open Source Software na Administra\u00e7\u00e3o P\u00fablica Central Portuguesa. Grau e tend\u00eancias de utiliza\u00e7\u00e3o; Fatores inibidores e facilitadores da sua ado\u00e7\u00e3o. Disserta\u00e7\u00e3o de Mestrado, Instituto Universit\u00e1rio de Lisboa, Lisboa, 212p.\nGorni, D., M. Giannotti, A. Knopik, P. Brito, and M. Rodrigues (2007) \u201cOpen source web GIS Sistema de Informa\u00e7\u00e3o Geogr\u00e1fica de Expedi\u00e7\u00f5es.\u201d In: Anais XIII Simp\u00f3sio Brasileiro de Sensoriamento Remoto, Ed. 21-26 abril, Universidade de S\u00e3o Paulo, S\u00e3o Paulo, Brasil, pp. 39533960.\nHellerstein, J.M., J.F. Naughton, and A. Pfeffer (1995) Generalized search trees for databases systems. In: international Conference in VLDB, 21., set., Zurich, Switzerland. Proceeding. San Francisco: Morgan Kaufman, 562-573.\nIH (2017) \u201cEnquadramento Estrat\u00e9gico.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.hidrografico.pt/enquadramento-estrategico.php (acedido em 8 de setembro de 2017).\nIngvarsson, T.M. (2004) \u201cMapServer An OpenSource Web-Map Applications\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.gdmc.nl/publications/2004/OpenSource-MapServer.pdf (acedido em 17 de Agosto de 2017).\nISO 19103 (2015) https://www.iso.org/standard/56734.html (acedido em 24 de agosto de 2017).\nKanegae, E. P. (2005) Curso de Introdu\u00e7\u00e3o ao MapServer.\nKropla, B. (2005) Mapserver: Open Source GIS Development. (New York: Springer) Berkeley: Apress.\nLongley, P.A., M.F. Goodchild, D.J. Maguire, and D.W. Rhind (2005) \u201cGeographic information systems and science. \u201d 2nd Edition, John Wiley &amp; Sons Ldt., Barcelona, 536p.\nMapServer (2017) \u201cMapServer 7.0.6 Documentation.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://mapserver.org/documentation.html (acedido em 10 setembro de 2017).\nMaravilhas-Lopes, S.P. (2013) \u201cA import\u00e2ncia dos profissionais da gest\u00e3o da informa\u00e7\u00e3o para as organiza\u00e7\u00f5es.\u201d Biblios: Revista de Bibliotecologia y Ciencias de La Informaci\u00f3n, No.51. Dispon\u00edvel online no endere\u00e7o URL: https://biblios.pitt.edu/ojs/index.php/biblios/article/view/102 (acedido em 17 de agosto de 2017).\nMcKenna, J., Mitchell, T. and Nacionales, P. (2007) \u201cGetting Started with MapServer, Part 1.\u201d Open Source Geospatial Foundation, 65p.\nMelo, R., R. Santos, and A. Rodrigues (2016) \u201cRecupera\u00e7\u00e3o dos registos de reflex\u00e3o s\u00edsmica - modo anal\u00f3gico para o digital com a m\u00e1quina fotogr\u00e1fica.\u201d Actas 4a Jornadas de Engenharia Hidrogr\u00e1fica, Lisboa pp. 385-388.\nMuilwijk, R. (2016) Dispon\u00edvel online no endere\u00e7o URL: https://opensource.com/business/16/8/top-5-open-source-web-servers (acedido em 01 de setembro de 2017).\nNeto, A.P. (2003) PostgreSQL - T\u00e9cnicas Avan\u00e7adas Vers\u00f5es Open Source 7.x. Erica, II S\u00e9rie, S\u00e3o Paulo, Brasil.\nOliveira, P. (2016) Dispon\u00edvel online no endere\u00e7o URL: https://www.escolalinux.com.br/blog/servidor-web-o-que-e-e-como-escolher-um-para-seu-site (acedido em 08 de agosto de 2017).\nOliviero, C.A.J. (2001) Fa\u00e7a um Site JavaScript Orientado por Projeto. Erica, 4a Edi\u00e7\u00e3o, S\u00e3o Paulo, Brasil.\nOGC (2010) Implementation Standard for Geographic information - Simple feature access - Part2: SQL option. OGC 06-104r4, version 1.2.1. 111 p..\nOGC (2017) \u201cOpen GeoSpatial Consortium.\u201d Dispon\u00edvel http://www.opengeospatial.org (acedido em 14 de agosto de 2017).\tonline\tno\tendere\u00e7o\tURL:\nOPENSOURCE (2007) \u201cOpen Source Initiative\u201d Dispon\u00edvel https://opensource.org/osd (acedido em 12 de agosto de 2017).\tonline\tno\tendere\u00e7o\tURL:\nOPENSOURCE (2012) \u201cOpen Source Initiative\u201d Dispon\u00edvel https://opensource.org/history (acedido em 12 de agosto de 2017).\tonline\tno\tendere\u00e7o\tURL:\nPeng, Z.R. and M.H. Tsou (2003) Internet GIS - Distributed geographic information services for the internet and Wireless Networks. 1st Edition, John Wiley &amp; Sons Inc., New Jersey, 679p.\nPHP (2017) PHP Home Page. Dispon\u00edvel online no endere\u00e7o URL: http://php.net// (acedido em 25 de julho de 2017).\nPimenta, F.M., E.C. Landau, A. Hirsch, and D.P. Guimaraes (2012) \u201cServidores de mapas: programa\u00e7\u00e3o para disponibilizar dados geogr\u00e1ficos multidisciplinares utilizando tecnologias livres.\u201d Brasilia, DF: Embrapa, 216p.\nPimenta, F.M., E.C. Landau, A. Hirsch, and D.P. Guimaraes (2013) \u201cPrograma\u00e7\u00e3o de Servidor de Mapas para disponibiliza\u00e7\u00e3o de dados geogr\u00e1ficos multidisciplinares utilizando tecnologias livres.\u201d Sete Lagoas: Embrapa Milho e Sorgo, 45p.: il. -- (Documentos / Embrapa Milho e Sorgo, ISSN 1518-4277; 158).\nPMAPPER (2017) \u201cp.mapper - a MapServer PHP/MapScript Framework.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://www.pmapper.net (acedido em 21 de agosto de 2017).\nPostGIS (2017) PostGIS Home Page. Dispon\u00edvel online no endere\u00e7o URL: http://postgis.refractions.net/ (acedido em 21 de agosto de 2017).\nPostgreSQL (2017) PostgreSQL Home Page. Dispon\u00edvel online no endere\u00e7o URL: http://www.postgresql.org/ (acedido em 20 de agosto de 2017).\nPROJ.4 (2017) \u201cWelcome to PROJ.4.\u201d Dispon\u00edvel online no endere\u00e7o URL: http://trac.osgeo.org/proj/ (acedido em 15 de agosto de 2017).\nQueiroz, G.R. and K.R. Ferreira (2005) Bancos de Dados Geogr\u00e1ficos - Modelagem conceituai de dados\tgeogr\u00e1ficos.\tDispon\u00edvel\tonline\tno\tendere\u00e7o\tURL:\nhttp://www.dpi.inpe.br/livros/bdados/cap8.pdf (acedido em 14 de agosto de 2017).\nRodrigues, A., A. Oliveira, and A.I. Santos (2012) \u201cCarateriza\u00e7\u00e3o ambiental da \u00e1rea de expans\u00e3o mar\u00edtima do porto de Sines e regi\u00e3o envolvente.\u201d Relat\u00f3rio t\u00e9cnico final, Texto n\u00e3o publicado, Instituto Hidrogr\u00e1fico, 1515p.\nSingh, P.S., C. Dibyajyoti and S. Sudhakar (2012) \u201cDevelopment of a Web Based GIS Application for Spatial Natural Resources Information System Using Effective Open Source Software and Standards.\u201d Journal of Geographic Information System, No. 4, pp. 261-266.\nSteiniger, S. and A.J.Hunter (2012) \u201cFree and Open Source GIS Software for Building a Spatial Data Infrastructure,\u201d In: E. Bocher and M. Neteler, Eds., Geospatial Free and Open Source Software in the 21st Century, Springer-Verlag Berlin Heidelberg, pp. 247-261.\nSOFTWARELIVRE (2017) Dispon\u00edvel online no endere\u00e7o URL: http://softwarelivre.org/php/servidor-web-apache (acedido em 08 de agosto de 2017).\nStonebraker, M., L.A. Rowe, and M. Hirohama (1990) \u201cThe implementation of postgres.\u201d University of California, Berkeley, 36p.\nTrezentos, P. and A. Sim\u00e3o (2004) \u201cSoftware aberto na administra\u00e7\u00e3o p\u00fablica.\u201d 1a Edi\u00e7\u00e3o, Edi\u00e7\u00e3o UMIC, Lisboa, 78p.\nVidigal, L. (2014) \u201cGest\u00e3o da Informa\u00e7\u00e3o e conhecimento na AP.\u201d Dispon\u00edvel online no endere\u00e7o URL: https://pt.slideshare.net/vidigal/gestao-da-informacao-luis-vidigal-sociedade-da-informacao (acedido em 07 de agosto de 2017).\nANEXOS\nAnexo A \u2014 Cria\u00e7\u00e3o das tabelas em SQL\nCREATE TABLE campanha\n(\nnome_camp varchar(50) NOT NULL,\ndata_inicio date,\ndata_fim date,\nano numeric(4) NOT NULL,\nlocal varchar(15),\nnavio varchar(15),\nresp_tecnico varchar(20),\nresp_missao varchar(20),\nCONSTRAINT campanha_pkey PRIMARY KEY (nome_camp)\n);\nCREATE TABLE gs_plataforma\n(\ngid_gsplt serial NOT NULL,\nnome_camp varchar(50) NOT NULL,\nnome varchar(20) NOT NULL,\nambiente_sed varchar(10) NOT NULL,\nequipamento varchar(50),\ndata date NOT NULL,\nano numeric(4) NOT NULL,\nstn varchar(4),\nx numeric(9, 3),\ny numeric(9, 3),\nz_zh numeric(5, 3),\ngeom geometry,\ndatum_orig varchar(15),\nCONSTRAINT gs_plataforma_pkey PRIMARY KEY (gid_gsplt),\nCONSTRAINT enforce_dims_geom CHECK (st_ndims (geom) = 2),\nCONSTRAINT enforce_geotype_geom CHECK (geometrytype (geom) = 'MULTIPOINT'::text OR geom IS NULL),\nCONSTRAINT enforce_srid_geom CHECK (st_srid (geom) = 3763),\nFOREIGN KEY (nome_camp) references campanha (nome_camp)\n);\nCREATE TABLE gs_praia\n(\ngid_gspr serial NOT NULL,\nnome_camp varchar(50) NOT NULL,\nnome varchar(10) NOT NULL,\nambiente_sed varchar(5) NOT NULL,\ndata date NOT NULL,\nano numeric(4) NOT NULL,\nequipamento varchar(50),\nperfil varchar(10),\nstn varchar(4),\nx numeric(9, 3),\ny numeric(9, 3),\nz_zh numeric(5, 3),\ngeom geometry,\ndatum_orig varchar(15),\nCONSTRAINT gs_praia_pkey PRIMARY KEY (gid_gspr),\nCONSTRAINT enforce_dims_geom CHECK (st_ndims (geom) = 2),\nCONSTRAINT enforce_geotype_geom CHECK (geometrytype (geom) = 'MULTIPOINT'::text OR geom IS NULL),\nCONSTRAINT enforce_srid_geom CHECK (st_srid (geom) = 3763),\nFOREIGN KEY (nome_camp) references campanha (nome_camp)\n);\nCREATE TABLE gs_vertical\n(\ngid_gsv serial NOT NULL,\nnome_camp varchar(50) NOT NULL,\nnome varchar(10) NOT NULL,\nambiente_sed varchar(10) NOT NULL,\ndata date NOT NULL,\nano numeric(4) NOT NULL,\nequipamento varchar(50),\nx numeric(9, 3),\ny numeric(9, 3),\nfora time,\nespessura numeric(3,2),\nstn character(3),\nz_zh numeric (5, 3),\ngeom geometry,\ndatum_orig varchar(15),\nCONSTRAINT gs_vertical_pkey PRIMARY KEY (gid_gsv),\nCONSTRAINT enforce_dims_geom CHECK (st_ndims (geom) = 2),\nCONSTRAINT enforce_geotype_geom CHECK (geometrytype (geom) = 'MULTIPOINT'::text OR geom IS NULL),\nCONSTRAINT enforce_srid_geom CHECK (st_srid (geom) = 3763),\nFOREIGN KEY (nome_camp) references campanha (nome_camp)\n);\nCREATE TABLE gd_praia\n(\ngid_gdpr serial NOT NULL,\nnome_camp varchar(50) NOT NULL,\nnome varchar(10) NOT NULL,\nambiente_sed varchar(5) NOT NULL,\ndata date NOT NULL,\nano numeric(4) NOT NULL,\nequipamento varchar(30),\nx numeric(9, 3),\ny numeric(9, 3),\nz_zh numeric(5, 3),\nmenosz_zh numeric(5, 3),\ngeom geometry,\ndatum_orig varchar(15),\nCONSTRAINT gd_praia_pkey PRIMARY KEY (gid_gdpr),\nCONSTRAINT enforce_dims_geom CHECK (st_ndims (geom) = 2),\nCONSTRAINT enforce_geotype_geom CHECK (geometrytype (geom) = 'MULTIPOINT'::text OR geom IS\nNULL),\nCONSTRAINT enforce_srid_geom CHECK (st_srid(geom) = 3763),\nFOREIGN KEY (nome_camp) references campanha (nome_camp)\n);\nCREATE TABLE gd_plataforma\n(\ngid_gdplt serial NOT NULL,\nnome_camp varchar(50) NOT NULL,\nnome varchar(20) NOT NULL,\nambiente_sed varchar(10) NOT NULL,\ndata date NOT NULL,\nano numeric(4) NOT NULL,\nequipamento varchar(30),\nstn_s varchar(5),\nciclo_c varchar(3),\npatamar_p varchar(12),\nx numeric(9, 3),\ny numeric(9, 3),\nhh_mm_inic time,\nhh_mm_fim time,\nprof_lisst numeric(4, 2),\nconc_lisst numeric(4, 2),\nz_zh numeric (5, 3),\ngeom geometry,\ndatum_orig varchar(15),\nCONSTRAINT gd_plataforma_pkey PRIMARY KEY (gid_gdplt),\nCONSTRAINT enforce_dims_geom CHECK (st_ndims (geom) = 2),\nCONSTRAINT enforce_geotype_geom CHECK (geometrytype (geom) = 'MULTIPOINT'::text OR geom IS NULL),\nCONSTRAINT enforce_srid_geom CHECK (st_srid (geom) = 3763),\nFOREIGN KEY (nome_camp) references campanha (nome_camp)\n);\nCREATE TABLE hi_sondagem\n(\ngid_hi integer NOT NULL,\nnome_camp varchar(50) NOT NULL,\nnome varchar(10) NOT NULL,\nambiente_sed varchar(5) NOT NULL,\ndata date NOT NULL,\nano numeric(4) NOT NULL,\nequipamento varchar(50),\nx numeric(9, 3),\ny numeric(9, 3),\nz_zh numeric (5, 3),\nmenosz_zh numeric (5, 3),\ngeom geometry,\ndatum_orig varchar(15),\nCONSTRAINT hi_sondas_pkey PRIMARY KEY (gid_hi),\nCONSTRAINT enforce_dims_geom CHECK (st_ndims (geom) = 2),\nCONSTRAINT enforce_geotype_geom CHECK (geometrytype (geom) = 'MULTIPOINT'::text OR geom IS NULL),\nCONSTRAINT enforce_srid_geom CHECK (st_srid (geom) = 3763), FOREIGN KEY (nome_camp) references campanha (nome_camp) );\nCREATE TABLE users\n(\nuserid integer NOT NULL,\nnome varchar(50),\nusername varchar (20) NOT NULL,\npassword varchar (20) NOT NULL, isadmin boolean,\nCONSTRAINT users_pkey PRIMARY KEY (userid)\n);\nCampos criados para as tabelas correspondentes \u00e0s entidades gf_sismica e oc_fiadas, que foram inseridas diretamente da shapefile.\ngf_sismica\nB-\n\u00c9H '\u00a1F Columns (17)\ni\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\n\u00a9\nequipa ment\nI i n e_gi d\nnome_camp\nnome line\nnome\nambiente\ndata\nano\ngeom\nhidrofones\nformato\npos\ntx_disp\njanela_grv\nvelocidade\nresp_tec\ndatum_orig\noc_fiadas \u00e8\" I\u00ae Columns (13) I\nI k-i \u00ed\ni k-\u00fc ! k-\u00a9 I k-i I k..g i ni\nI k-i I k-\u00a9 I k-\u00fc i k-i I L\u00a9\nhh mm fim\ngid_nome\nnome_camp\nnome\nambiente s\nhh mm inic\ngeom\nmane\nfase\ndd_mm_aaaa\nano\nciclo\ndatum_orig\nAnexo B \u2014 Ficheiro Mapfile\n#\n#\tStart of map file\n#\nMAP\nEXTENT -67576.581 -197000.000 -58363.104 -188000.000\nUNITS meters\nSIZE 600 500\nSHAPEPATH \"../../../pmapper_demodata\"\nSYMBOLSET \"../common/symbols/symbols-pmapper.sym\"\nFONTSET \". ./common/fonts/msfontset.txt\"\nRESOLUTION 96\nIMAGETYPE png\nINTERLACE OFF\nPROJECTION\n\"init=epsg:3763\"\nEND\n#\n#\tStart of web interface definition\n#\nWEB\nTEMPLATE \"map.html\"\nIMAGEPATH \"/ms4w/tmp/ms_tmp/\"\nIMAGEURL \"/ms_tmp/\"\nMETADATA\nEND # Metadata\nEND # Web\n#\n#\tStart of Reference map definition\n#\nREFERENCE\nEXTENT -67576.581 -197000.000 -58363.104 -188000.000\nIMAGE \". ./../images/reference.png\"\nSIZE 186 153\nCOLOR -1 -1 -1\nOUTLINECOLOR 255 0 0\nEND # Reference\n#\n#\tStart of ScaleBar definition\n#\nSCALEBAR\nSTATUS off\nTRANSPARENT off\nINTERVALS 4\nSIZE 200 3\nUNITS meters\nCOLOR 250 250 250\nOUTLINECOLOR 0 0 0\nBACKGROUNDCOLOR 100 100 100\nSTYLE 0\nPOSTLABELCACHE true\nLABEL\nCOLOR 0 0 90\n#OUTLINECOLOR 200 200 200\nSIZE small\nEND # Label\nEND # ScaleBar\n#\tSYMBOLS USED IN PMAPPER\n#\t- 'circle' always necessary (used e.g. for highlight)\n#\t- 'square' used in currecnt map file\n#\tSymbols can also be defined via tag SYMBOLSET (see above)\nSymbol\nName 'circle'\nType ELLIPSE\nFilled TRUE\nPoints\n1 1\nEND\nEND\nSymbol\nName 'square'\nType VECTOR\nFilled TRUE\nPoints\n0 1\n0 0\n1 0\n1 1\n0 1\nEND\nEND\n#================== START OF LAYER SECTION =====================#\n#-..............RASTER-----------------#\nLAYER\nNAME mdt\nDATA \"/ms4w/apps/pmapper/pmapper-4.4.0/images/mdt1.gif\"\nSTATUS ON\nTYPE RASTER\nOFFSITE 70 74 66\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"MDT\"\nEND\nEND\nLAYER\nNAME orto2010\nDATA \"/ms4w/apps/pmapper/pmapper-4.4.0/images/orto2010.png\"\nSTATUS ON\nTYPE RASTER\nOFFSITE 70 74 66\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Ortofotomapa 2010\"\nEND\nEND\nLAYER\nNAME sed6\nDAT A \"/ms4w/apps/pmapper/pmapper-4.4.0/images/sed6. gif''\nSTATUS ON\nTYPE RASTER\nOFFSITE 70 74 66\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"SEPLAT - SED6\"\nEND\nEND\nLAYER#----------Portugal Continental\nNAME \"portugal\"\nTYPE polygon\nDATA \"PT_ETRS89TM06PT\"\nTRANSPARENCY 30\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Portugal Continental\"\nEND # Metadata\nCLASS\n# Name 'Portugal Continental'\nCOLOR 242 215 106\nOUTLINECOLOR 0 0 0\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Sondas\n#\nLAYER\nNAME \"sondas\"\nTYPE point\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\" DATA \"geom FROM hi_sondas USING UNIQUE gid_hi USING SRID=3763\"\nTOLERANCE 6\nTOLERANCEUNITS pixels\nLABELMAXSCALE 8000000\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Sondagem\"\n\"RESULT_FIELDS\" \"nome_camp, data, x, y, equipamento, z_zh, menosz_zh\" \"RESULT_HEADERS\" \"Campanha, Data, X, Y, Equipamento, Z_ZH, MenosZ_ZH\" \"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Sondagem'\nSYMBOL 'circle'\nSIZE 4\nCOLOR 0 128 64\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Fiadas OC\n#\nLAYER\nNAME \"oc_fiadas\"\nTYPE line\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\"\nDATA \"geom FROM oc_fiadas USING UNIQUE gid_nome USING SRID=3763\"\nTOLERANCE 6\nTOLERANCEUNITS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"ADCP Fiadas\"\n\"RESULT_FIELDS\" \"nome_camp, data, equipamento\"\n\"RESULT_HEADERS\" \"Campanha, Data, Equipamento\"\n\"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Fiadas ADCP'\nCOLOR 190 140 200\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Sismica\n#\nLAYER\nNAME \"sismica\"\nTYPE line\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\" DATA \"geom FROM gf_sismica USING UNIQUE line_gid USING SRID=3763\" TOLERANCE 3\nTOLERANCEUNITS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Reflex\u00e3o Sismica Boomer\"\n\"RESULT_FIELDS\" \"nome_camp, nome_line, equipament, hidrofones, formato\" \"RESULT_HEADERS\" \"Campanha, Fiada, Equipamento, Hidrofones, Formato\" \"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Sismica'\nCOLOR 0 0 255\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Aguas Praia\n#\nLAYER\nNAME \"gd_praia\"\nTYPE point\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\"\nDATA \"geom FROM gd_praia USING UNIQUE gid_gdpr USING SRID=3763\"\nTOLERANCE 6\nTOLERANCEUNITS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"\u00c1guas Praia\"\n\"RESULT_FIELDS\" \"nome_camp, x, y, ano, equipamento, z_zh, menosz_zh, datum_orig\"\n\"RESULT_HEADERS\" \"Campanha, X, Y, Ano, Equipamento, Z_ZH, MenosZ_ZH, Datum_origem\"\n\"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n#Name Din\u00e2mica_Praia'\nSYMBOL 'circle'\nSIZE 5\nCOLOR 180 180 180\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Din\u00e2mica Sedimentar Plataforma\n#\nLAYER\nNAME \"gd_plataforma\"\nTYPE point\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\"\nDATA \"geom FROM gd_plataforma USING UNIQUE gid_gdplt USING SRID=3763\" TOLERANCE 6\nTOLERANCEUNITS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"\u00c1guas Plataforma\"\n\"RESULT_FIELDS\" \"x, y, data, equipamento, stn_s, patamar_p, prof_lisst, z_zh\" \"RESULT_HEADERS\" \"X, Y, Data, Equipamento, STN_S, Patamar, Profundidade, Z_ZH\" \"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Din\u00e2mica_Plataforma'\nSYMBOL 'circle'\nSIZE 5\nCOLOR 255 0 0\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Amostragem Sedimentos Plataforma\n#\nLAYER\nNAME \"gs_plataforma\"\nTYPE point\nCONNECTIONTYPE POSTGIS\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\" DATA \"geom FROM gs_plataforma USING UNIQUE gid_gsplt USING SRID=3763\" TOLERANCE 6\nTOLERANCEUNITS pixels\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Sedimentos Superficiais Plataforma\"\n\"RESULT_FIELDS\" \" x, y, data, equipamento, stn, z_zh\" \"RESULT_HEADERS\" \"X, Y, Data, Equipamento, STN_S, Z_ZH\" \"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Amostragem_Plataforma'\nSYMBOL 'circle'\nSIZE 5\nCOLOR 128 0 64\nTEMPLATE void\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Amostragem Sedimentos Vertical\n#\nLAYER\nNAME \"gs_vertical\"\nTYPE point\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\" DATA \"geom FROM gs_vertical USING UNIQUE gid_gsv USING SRID=3763\" TOLERANCE 6\nTOLERANCEUNITS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Sedimentos Verticais\"\n\"RESULT_FIELDS\" \"x, y, data, equipamento, fora, espessura, stn, z_zh\" \"RESULT_HEADERS\" \"X, Y, Data, Equipamento, Fora, Espessura, STN, Z_ZH\" \"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Amostragem_Vertical'\nSYMBOL 'circle'\nSIZE 5\nCOLOR 0 128 192\nEND # Class\nEND # Layer\n#\n#\tStart of Layer Amostragem Sedimentos Praia\n#\nLAYER\nNAME \"gs_praia\"\nTYPE point\nCONNECTIONTYPE POSTGIS\nPROCESSING \"CLOSE_CONNECTION=DEFER\"\nCONNECTION \"dbname=BDGM user=postgres host=localhost password=postgres port=5432\" DATA \"geom FROM gs_praia USING UNIQUE gid_gspr USING SRID=3763\" TOLERANCE 6\nTOLERANCEUNITS pixels\nTEMPLATE void\nPROJECTION\n\"init=epsg:3763\"\nEND\nMETADATA\n\"DESCRIPTION\" \"Sedimentos Superficiais Praia\"\n\"RESULT_FIELDS\" \"x, y, data, equipamento, stn, z_zh\" \"RESULT_HEADERS\" \"X, Y, Data, Equipamento, STN, Z_ZH\" \"LAYER_ENCODING\" \"UTF-8\"\nEND # Metadata\nCLASS\n# Name 'Amostragem_Vertical'\nSYMBOL 'circle'\nSIZE 5\nCOLOR 58 250 226\nEND # Class\nEND # Layer\nEND #Map\nAnexo C \u2014 Scripts em linguagem de programa\u00e7\u00e3o PHP\nSistema de autentica\u00e7\u00e3o\n<body>\n<form action=\"action.php\" method=\"post\" >\n<fieldset>\n<br>\n<legend>Acesso ao Portal</legend>\n<p>\n<label for=\"username\">&lt;/label>\n<input type=\"text\" id=\"uid\" name=\"uid\" placeholder=\"username\" required>\n</p>\n<p>\n<label for=\"password\">&lt;/label>\n<input type=\"password\" id=\"passid\" name=\"passid\" placeholder=\"password\"required>\n</fieldset>\n<p>\n<input type=\"submit\" value=\"Entrar\" />\n</p>\n</form>\n</body>\naction.php\n<?php\n/* echo $_POST[\"uid\"];*/\n$db_host = 'localhost';\n$db_name = 'BDGM';\n$db_login = 'postgres';\n$db_port = 5432;\n$db_pass = 'postgres';\n$username = $_POST['uid'];\n$password = $_POST['passid'];\n$conn_string = sprintf(\"host=%s port=%s dbname=%s user=%s password=%s\",\n$db_host, $db_port, $db_name, $db_login, $db_pass);\n$connection = pg_connect($conn_string)\nor die(\"Could not connect : \" . pg_last_error());\n$sql = \"SELECT * FROM users WHERE username = '$username' AND password = '$password'\"; $result = pg_query($connection, $sql);\nif ($row = pg_fetch_assoc($result)) {\nheader(\"Location: map_default.phtml\");\n} else {\necho \"Your username or password is incorrect!\";\n}\n?>\nQueries\n<h2>Queries</h2>\n<form action=\"querymap.phtml\" target=\"_parent\" id=\"choosescale\" method=\"post\" >&lt;fieldset>\n<br>\n<legend>Cobertura geografica</legend>\n<p>\n<label for=\"X1\"> X1:</label>\n<input type=\"number\" step=\"any\" name=\"X1\" id=\"X1\" required><br>\n</p>\n<p>\n<label for=\"Y1\"> Y1:</label>\n<input type=\"number\" step=\"any\" name=\"Y1\" id=\"Y1\" required><br>\n</p>\n<p>\n<label for=\"X2\"> X2:</label>\n<input type=\"number\" step=\"any\" name=\"X2\" id=\"X2\" required><br>\n</p>\n<p>\n<label for=\"Y2\"> Y2:</label>\n<input type=\"number\" step=\"any\" name=\"Y2\" id=\"Y2\" required><br>\n</p>\n<br>\n(X1,Y1) - coordenadas do canto inferior esquerdo&lt;br>\n(X2,Y2) - coordenadas do canto superior direito\n</fieldset>\n<fieldset>\n<br><br>\n<legend>Atributos</legend>\n<p>\n<label>Campanha:</label>\n<input type=\"text\" name=\"campanha\" id=\"campanha\" required><br>\n</p>\n<p>\n<label>Ano:</label>\n<input type=\"number\" name=\"ano\" id=\"ano\" required><br>\n</p>\n</fieldset>\n<p>\n<br><br><input type = \"submit\" value = \"Procurar\" \"javascript:submit();$('#pmDlgContainer').hide()\"/><br>\n</p>\n</form>\nonclick\nquerymap.html\n$db_host = 'localhost'; $db_name = 'BDGM'; $db_login = 'postgres';\n$db_port = 5432;\n$db_pass = 'postgres';\n$campanha = $_POST['campanha'];\n$conn_string = sprintf(\"host=%s port=%s dbname=%s user=%s password=%s\", $db_host, $db_port, $db_name, $db_login, $db_pass);\n$connection = pg_connect($conn_string)\nor die(\"Could not connect : \" . pg_last_error());\n$sql = \"SELECT gd_praia.x, gd_praia.y, gd_praia.nome, gd_praia.ambiente_sed\nFROM gd_praia\nWHERE gd_praia.x BETWEEN '$_POST[X1]' AND '$_POST[X2]' AND gd_praia.y BETWEEN '$_POST[Y1]' AND '$_POST[Y2]' AND gd_praia.nome_camp = '$campanha' AND gd_praia.ano = '$_POST[ano]'\nUNION\nSELECT gs_vertical.x, gs_vertical.y, gs_vertical.nome, gs_vertical.ambiente_sed\nFROM gs_vertical\nWHERE gs_vertical.x BETWEEN '$_POST[X1]' AND '$_POST[X2]' AND gs_vertical.y BETWEEN '$_POST[Y1]' AND '$_POST[Y2]' AND gs_vertical.nome_camp = '$campanha' AND gs_vertical.ano = '$_POST[ano]'\nUNION\nSELECT gs_plataforma.x, gs_plataforma.y, gs_plataforma.nome, gs_plataforma.ambiente_sed\nFROM gs_plataforma\nWHERE gs_plataforma.x BETWEEN '$_POST[X1]' AND '$_POST[X2]' AND gs_plataforma.y BETWEEN '$_POST[Y1]' AND '$_POST[Y2]' AND gs_plataforma.nome_camp = '$campanha' AND gs_plataforma.ano = '$_POST[ano]'\nUNION\nSELECT gd_plataforma.x, gd_plataforma.y, gd_plataforma.nome, gd_plataforma.ambiente_sed\nFROM gd_plataforma\nWHERE gd_plataforma.x BETWEEN '$_POST[X1]' AND '$_POST[X2]' AND gd_plataforma.y BETWEEN '$_POST[Y1]' AND '$_POST[Y2]' AND gd_plataforma.nome_camp = '$campanha' AND gd_plataforma.ano = '$_POST[ano]'\nUNION\nSELECT gs_praia.x, gs_praia.y, gs_praia.nome, gs_praia.ambiente_sed\nFROM gs_praia\nWHERE gs_praia.x BETWEEN '$_POST[X1]' AND '$_POST[X2]' AND gs_praia.y BETWEEN '$_POST[Y1]' AND '$_POST[Y2]' AND gs_praia.nome_camp = '$campanha' AND gs_praia.ano = '$_POST[ano]'\nUNION\nSELECT hi_sondas.x, hi_sondas.y, hi_sondas.nome, hi_sondas.ambiente_sed\nFROM hi_sondas\nWHERE hi_sondas.x BETWEEN '$_POST[X1]' AND '$_POST[X2]' AND hi_sondas.y BETWEEN '$_POST[Y1]' AND '$_POST[Y2]' AND hi_sondas.nome_camp = '$campanha' AND hi_sondas.ano = '$_POST[ano]'\";\n$result = pg_query($connection, $sql);\nif (!$result) {\necho \"Problem with query \" . $query . \"<br/>\";\necho pg_last_error();\nexit();\n}\necho(\"<table border=1><tr>\n<td>x</td>\n<td>y</td>\n<td>nome</td>&lt;td>ambiente</td>\n</tr>\");\nwhile ($line = pg_fetch_array($result, null, PGSQL_ASSOC)) { echo(\"<tr>\");\nforeach ($line as $col_value => $row_value) { echo(\"<td>$row_value</td>\");\n}\necho(\"</tr>\\n\");\n}\necho(\"</table>\");\n?>"}]}}}