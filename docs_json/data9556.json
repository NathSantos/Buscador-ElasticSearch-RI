{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.13754"}, {"@name": "filename", "#text": "19868_Tese-%20Emanuel-Reformulado.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "UNIVERSIDADE DO ALGARVE \n\n                                      \n\nREDES DE TRANSMISS\u00c3O DE DADOS EM MEIOS \nSUBMARINOS \n\n \n\nEMANUEL ANT\u00d3NIO BAPTISTA INOC\u00caNCIO \n\n \n\nDisserta\u00e7\u00e3o \n \n\nMESTRADO EM ENGENHARIA EL\u00c9CTRICA E ELECTR\u00d3NICA \n\n \n\n \n\n \n\n \n\n \n\nTrabalho efectuado sob a Orienta\u00e7\u00e3o de: \n\nProfessor Doutor J\u00e2nio Monteiro &amp; Professor Doutor Ant\u00f3nio Jo\u00e3o Silva \n\n \n\n2015 \n\n\n\n\n\n  \n\n \n\nREDES DE TRANSMISS\u00c3O DE DADOS EM MEIOS \nSUBMARINOS \n\n \n\n \n\nDECLARA\u00c7\u00c3O DE AUTORIA DE TRABALHO \n\n \n\n \n\n      Declaro ser o autor deste trabalho, que \u00e9 original e in\u00e9dito. Autores e trabalhos \n\nconsultados est\u00e3o devidamente citados no texto e constam da listagem de refer\u00eancias \n\nbibliogr\u00e1fica inclu\u00edda. \n\n \n\n \n\n \n\n \n\n_____________________________ \n\n \n\n \n\n\u00a9 2014, EMANUEL ANT\u00d3NIO BAPTISTA INOC\u00caNCIO \n\n \n\n \n\n \n\nA Universidade do Algarve tem o direito, perp\u00e9tuo e sem limites geogr\u00e1ficos, de \n\narquivar publicitar este trabalho atrav\u00e9s de exemplares impressos reproduzidos em \n\npapel ou de forma digital, ou por qualquer outro meio conhecido ou que venha a ser \n\ninventado, de o divulgar atrav\u00e9s de reposit\u00f3rios cient\u00edficos e de admitir a sua c\u00f3pia e \n\ndistribui\u00e7\u00e3o com objetivos educacionais ou de investiga\u00e7\u00e3o, n\u00e3o comerciais, desde \n\nque seja dado cr\u00e9dito ao autor e editor. \n\n\n\n\n\n  \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\u00c0 minha fam\u00edlia, em especial \u00e0 minha filha,  \n\n                                                                           Marcyah Adriana Abreu Inoc\u00eancio \n\n  \n\n\n\n\n\n \n\n iii \n\nAgradecimentos \n\nEm primeiro lugar gostaria de agradecer aos Prof.Doutor J\u00e2nio Miguel E.Ferreira Monteiro e \n\nProf.Doutor Ant\u00f3nio Jo\u00e3o silva pelas suas orienta\u00e7\u00f5es e por me terem assegurado todas as \n\ncondi\u00e7\u00f5es necess\u00e1rias ao desenvolvimento deste trabalho. Gostaria de destacar os conhecimentos \n\nque me transmitiram, o tempo que me dispensaram, encorajamento, avalia\u00e7\u00e3o dos resultados \n\nobtidos e revis\u00e3o deste texto e pelo incentivo que sempre manifestaram, estimulando-me no meu \n\ntrabalho. \n\nGostaria tamb\u00e9m de agradecer a ajuda dos utilizadores do nsmiracle-users-mailing list que \n\nparticiparam no projecto WOSS (World Ocean Simulation System), nomeadamente ao Federico \n\nGuerra, ao Paolo Casari e ao Michele Zorzi. \n\nAgrade\u00e7o tamb\u00e9m o apoio do Instituto Superior de Engenharia da Universidade do Algarve, \n\nespecialmente aos meus colegas do curso e aos Professores da \u00c1rea Departamental de Engenharia \n\nElectroct\u00e9cnica. \n\nAo meu colega de Cabo Verde Mateus vai um \u201cObrigado\u201d pelo contacto permanente que tivemos \n\num com o outro durante o per\u00edodo de quase 4 anos; afinal come\u00e7\u00e1mos junto o curso e tivemos no \n\nin\u00edcio as mesmas dificuldades. \n\nQueria tamb\u00e9m agradecer a Nelida Abreu, minha esposa, que esteve presente activamente nestes \n\ndois \u00faltimos anos da minha forma\u00e7\u00e3o, apoiando-me e n\u00e3o me deixando desistir do curso. N\u00e3o deixo \n\nde real\u00e7ar que v\u00e1rios acontecimentos ocorreram neste per\u00edodo, tendo sido um deles, a possibilidade \n\nde me tornar pai pela primeira vez. \n\nN\u00e3o deixaria de agradecer a Deus e aos meus Pais por me terem disponibilizado os meios para \n\nconseguir fazer o curso, e pelas palavras de encorajamento. A todos os amigos que me incentivaram \n\nneste trabalho, a outras pessoas que, direta ou indiretamente, contribu\u00edram para a elabora\u00e7\u00e3o deste \n\ntrabalho. \n\n\n\n \n\n iv \n\n \n\n\n\n \n\n v \n\nResumo \n\nH\u00e1 um crescente interesse nas comunica\u00e7\u00f5es submarinas e aos dados oceanogr\u00e1ficos nos \u00faltimos \n\nanos, devido \u00e0 import\u00e2ncia dos oceanos para o ser humano. As redes ac\u00fasticas submarinas t\u00eam \n\ngrande potencial para suportar uma grande variedade de aplica\u00e7\u00f5es, monitoriza\u00e7\u00e3o ambiental, \n\nvigil\u00e2ncia submarina, preven\u00e7\u00e3o de cat\u00e1strofes, explora\u00e7\u00e3o de petr\u00f3leo e monitoriza\u00e7\u00e3o de polui\u00e7\u00e3o. \n\nApesar da comunica\u00e7\u00e3o ac\u00fastica submarina ter sido estudada durante v\u00e1rias d\u00e9cadas, trabalhos em \n\nredes ac\u00fasticas submarinos, projectos de implementa\u00e7\u00e3o de protocolos de acesso ao meio (MAC) e \n\nprotocolos de encaminhamento apenas est\u00e3o numa fase inicial como campo de pesquisa devido ao \n\nelevado custo dos n\u00f3s e dos navios de distribui\u00e7\u00e3o. Neste \u00e2mbito, a simula\u00e7\u00e3o torna-se como uma \n\nferramenta fundamental para avalia\u00e7\u00e3o do desempenho da rede e um grande auxiliar no projecto de \n\nimplementa\u00e7\u00e3o dos protocolos em aplica\u00e7\u00f5es onde os cen\u00e1rios s\u00e3o complexos, devido ao elevado \n\ncusto e inviabilidade em p\u00f4r na pr\u00e1tica. Neste sentido, tendo como objectivo proporcionar um \n\nambiente fi\u00e1vel de simula\u00e7\u00e3o de redes ac\u00fasticas submarinas, opt\u00e1mos pelo simulador de rede \n\nWOSS (World Ocean Simulation System) de forma a fornecer uma reprodu\u00e7\u00e3o mais detalhada da \n\npropaga\u00e7\u00e3o ac\u00fastica. \n\nO Objectivo central desta disserta\u00e7\u00e3o consiste na implementa\u00e7\u00e3o de um protocolo de acesso ao \n\nmeio DACAP (Distance Aware Collision Avoidance Protocol) para redes ad-hoc ac\u00fastica \n\nsubmarina -caracterizadas por longos atrasos de propaga\u00e7\u00e3o e diferentes requisitos de pot\u00eancia de \n\nTransmiss\u00e3o/Rece\u00e7\u00e3o- e de seguida test\u00e1-lo no referido simulador de rede. \n\nOs resultados s\u00e3o mostrados fazendo compara\u00e7\u00e3o do desempenho da rede ac\u00fastica submarina para \n\ndiversos par\u00e2metros, entre o protocolo DACAP e diversos mecanismos de acesso ao meio existentes \n\nno simulador de rede, para um conjunto de topologias diferentes e para diferentes tamanhos de \n\ntramas. \n\nPalavras-chave \nRedes ac\u00fasticas submarinas, simula\u00e7\u00e3o, Protocolos MAC, Modelo propaga\u00e7\u00e3o, Bellhop, simulador \n\nde rede ns-2, WOSS. \n\n  \n\n\n\n \n\n vi \n\n \n\n\n\n \n\n vii \n\nAbstract \n\nThere is an increasing interest in underwater communications and oceanographic data due to the \n\nimportance of oceans to human beings. The underwater acoustic networks have great potential to \n\nsupport a wide variety of applications, environmental monitoring, underwater surveillance, disaster \n\npreparedness, oil exploration and pollution monitoring. Despite the fact that underwater acoustic \n\ncommunication has been studied for several decades, underwater acoustic networks, projects and \n\nimplementation of medium access (MAC) and routing protocols are only at an early stage as a field \n\nof research, due to the high cost of nodes and the distribution vessel. In this context, the simulation \n\nbecomes a fundamental tool for the evaluation of network performance and a great help in the \n\nimplementation of protocols and applications where the scenarios are complex, due to the high cost \n\nand impracticality of putting in practice. In This sense, with the aim to provide a secure environment \n\nfor simulating underwater acoustic networks we chose the WOSS (World Ocean Simulation \n\nSystem) network simulator, which is capable of providing detailed reproduction of the acoustic \n\npropagation. \n\nThe central objective of this thesis is the implementation of the DACAP (Distance Aware Collision \n\nAvoidance Protocol) protocol medium access for underwater acoustic ad hoc networks,-\n\ncharacterized by long propagation delays and different power requirements of Transmission / \n\nReception- and then tested it in the network simulator. \n\nThe results comprise the comparison of performance of the underwater acoustic network, when \n\nvarious parameters of the protocol DACAP are used and against various access mechanisms \n\navailable in the network simulator, for a set of different topologies and different frames sizes. \n\n \n\nKeywords \nUnderwater acoustic networks, simulation, MAC protocols, propagation modeling, Bellhop, \n\nNetwork simulator ns-2, WOSS. \n\n\n\n \n\n viii \n\n\n\n \n\n ix \n\nConte\u00fado \nAgradecimentos ............................................................................................................................................................... iii \n\nResumo .............................................................................................................................................................................. v \n\nAbstract ........................................................................................................................................................................... vii \n\n\u00cdndice de Figuras............................................................................................................................................................. xii \n\n\u00cdndice de Tabelas .......................................................................................................................................................... xvii \n\nLista de Abreviaturas .................................................................................................................................................. xviii \n\nCap\u00edtulo 1 Introdu\u00e7\u00e3o ...................................................................................................................................................... 1 \n\n1.1. Motiva\u00e7\u00e3o ........................................................................................................................................................ 2 \n1.2. Objectivo da disserta\u00e7\u00e3o .................................................................................................................................. 5 \n1.3. Organiza\u00e7\u00e3o da disserta\u00e7\u00e3o .............................................................................................................................. 6 \n\nCap\u00edtulo 2  Conceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de redes submarinas...................................... 7 \n\n2.1. Principais caracter\u00edsticas das redes ac\u00fasticas submarinas ....................................................................................... 9 \n2.2.  Arquitecturas de comunica\u00e7\u00e3o em redes ac\u00fasticas submarinas ........................................................................... 10 \n2.2.1.  Arquitectura bidimensional ............................................................................................................................... 10 \n2.2.2.  Arquitectura tridimensional .............................................................................................................................. 11 \n2.3.  Comunica\u00e7\u00e3o submarina ...................................................................................................................................... 13 \n2.3.1.  Propaga\u00e7\u00e3o de sinais no ambiente ac\u00fastico submarino ..................................................................................... 13 \n2.4.  Canal ac\u00fastico submarino .................................................................................................................................... 14 \n2.4.1.  Velocidade de propaga\u00e7\u00e3o do som .................................................................................................................... 16 \n2.4.2.  Trajet\u00f3rias de propaga\u00e7\u00e3o ................................................................................................................................. 18 \n2.4.3.  Perdas de transmiss\u00e3o ....................................................................................................................................... 20 \n2.5.  Simulador de rede ac\u00fastica submarina ................................................................................................................. 22 \n2.5.1. Modelo f\u00edsico ac\u00fastico submarino no simulador NS-2 ...................................................................................... 23 \n2.5.1.1. Fun\u00e7\u00e3o de transfer\u00eancia do modelo de propaga\u00e7\u00e3o ......................................................................................... 24 \n2.5.1.2. Fun\u00e7\u00e3o de transfer\u00eancia do modelo do canal .................................................................................................. 26 \n2.5.1.3. Fun\u00e7\u00e3o de transfer\u00eancia do modelo de modula\u00e7\u00e3o ......................................................................................... 27 \n2.5.1.4. Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico ....................................................................................................... 28 \n2.5.1.5. An\u00e1lise do modelo de propaga\u00e7\u00e3o do NS-2 .................................................................................................... 29 \n2.5.2. Simulador de rede WOSS .................................................................................................................................. 32 \n2.5.2.1. Diagrama de blocos do simulador WOSS ....................................................................................................... 33 \n2.5.2.2. Defini\u00e7\u00e3o das classes no simulador WOSS ..................................................................................................... 34 \n2.5.2.3. Base de dados de batimetria do GEBCO ........................................................................................................ 35 \n2.5.2.4. Base de dados do perfil da velocidade propaga\u00e7\u00e3o do som ............................................................................ 37 \n2.5.2.5. Base de dados de sedimentos DECK41 .......................................................................................................... 38 \n2.6.  Conclus\u00f5es do cap\u00edtulo ........................................................................................................................................ 39 \n\nCap\u00edtulo 3  Mecanismos de controlo de acesso ao meio em redes ac\u00fasticas submarinas.......................................... 41 \n\n3.1. Introdu\u00e7\u00e3o ............................................................................................................................................................. 41 \n3.2. M\u00e9todos de acesso m\u00faltiplo ao meio .................................................................................................................... 42 \n3.3. Mecanismo de controlo de acesso ao meio para redes sem fios ............................................................................ 43 \n3.3.1. Protocolo ALOHA ............................................................................................................................................. 44 \n3.3.2. Protocolo Slotted ALOHA ................................................................................................................................. 46 \n3.3.3. Protocolo Carrier Sense Multiple Access (CSMA)............................................................................................. 47 \n3.3.3.1. Protocolo CSMA/CD ...................................................................................................................................... 48 \n3.3.3.2. Protocolo CSMA/CA ...................................................................................................................................... 50 \n3.3.3.3. Problemas do n\u00f3 escondido e exposto............................................................................................................. 52 \n3.3.4. Protocolo Multiple Access with Collision Avoidance ......................................................................................... 53 \n3.3.5. Protocolo MACA-Wireless ................................................................................................................................. 54 \n3.4. Mecanismos de controlo de acesso ao meio propostos para redes de ac\u00fasticas submarina .................................. 56 \n\n\n\n \n\n x \n\n3.4.1. Protocolo Slotted FAMA ................................................................................................................................... 56 \n3.4.1.1. Mecanismo de backoff utilizado pelo protocolo Slotted FAMA ..................................................................... 59 \n3.4.2. Protocolo de configura\u00e7\u00e3o do handshake ........................................................................................................... 60 \n3.4.3. Protocolo Tone-Lohi (T-Lohi) ............................................................................................................................ 62 \n3.4.4. Protocolo PDAP (Propagation Delay Aware Protocol) .................................................................................... 63 \n3.4.5. Protocolo DACAP (Distance Aware-Collision Avoidance Protocol) ................................................................ 65 \n3.4.5.1. Vers\u00e3o do protocolo DACAP sem ACK ......................................................................................................... 67 \n3.4.5.2. Vers\u00e3o do protocolo DACAP com ACK ........................................................................................................ 67 \n3.4.5.3. Mecanismo de backoff utilizado pelo protocolo DACAP ............................................................................... 68 \n3.5. Protocolos de encaminhamento............................................................................................................................. 69 \n3.6. Desenvolvimento das redes ac\u00fasticas submarinas ................................................................................................ 70 \n3.7. Conclus\u00f5es do cap\u00edtulo ......................................................................................................................................... 71 \n\nCap\u00edtulo 4  Implementa\u00e7\u00e3o do Mecanismo DACAP .................................................................................................... 73 \n\n4.1. Vis\u00e3o geral ............................................................................................................................................................ 73 \n4.2. Funcionamento da camada MAC no simulador de rede ....................................................................................... 74 \n4.3. Implementa\u00e7\u00e3o do protocolo DACAP proposto ................................................................................................... 78 \n4.3.1. Procedimentos e testes iniciais ........................................................................................................................... 78 \n4.3.2. Algoritmo do protocolo DACAP ....................................................................................................................... 79 \n4.3.2.1. M\u00f3dulo de transmiss\u00e3o ................................................................................................................................... 81 \n4.3.2.2. M\u00f3dulo de rece\u00e7\u00e3o .......................................................................................................................................... 82 \n4.3.2.3. M\u00f3dulo gest\u00e3o do estado do canal .................................................................................................................. 82 \n4.3.2.4. M\u00f3dulo gest\u00e3o do estado do backoff ............................................................................................................... 83 \n4.3.2.5. M\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o ........................................................................................................ 85 \n4.3.2.6. M\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o ............................................................................................................... 86 \n4.4. Protocolo DACAP with Warning .......................................................................................................................... 88 \n4.4.1. M\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o do protocolo DACAP com warning ........................................................ 88 \n4.4.2. Diagrama de sequ\u00eancia do protocolo DACAP com warning ............................................................................. 90 \n4.5. Conclus\u00f5es do cap\u00edtulo ......................................................................................................................................... 93 \n\nCap\u00edtulo 5  Simula\u00e7\u00f5es ................................................................................................................................................... 95 \n\n5.1. Estrutura da simula\u00e7\u00e3o no WOSS ......................................................................................................................... 95 \n5.2. Descri\u00e7\u00e3o dos protocolos utilizados na simula\u00e7\u00e3o ................................................................................................ 97 \n5.3. Defini\u00e7\u00e3o dos par\u00e2metros de avalia\u00e7\u00e3o de desempenho ....................................................................................... 98 \n5.4. Simula\u00e7\u00f5es efectuadas e resultados ...................................................................................................................... 99 \n5.4.1. An\u00e1lise comparativa dos protocolos MAC para 2 n\u00f3s emissores e 1 recetor ................................................... 100 \n5.4.1.1. Arquitetura sim\u00e9trica ..................................................................................................................................... 100 \n5.4.1.2. Arquitetura assim\u00e9trica ................................................................................................................................. 108 \n5.4.1.3. Sum\u00e1rio ......................................................................................................................................................... 113 \n5.4.2. An\u00e1lise comparativa dos protocolos MAC para 4 n\u00f3s emissores e 1 recetor ................................................... 114 \n5.4.3. An\u00e1lise comparativa dos protocolos MAC para 4 n\u00f3s emissores e 2 recetores ............................................... 121 \n5.5. Conclus\u00f5es .......................................................................................................................................................... 126 \n\nCap\u00edtulo 6  Conclus\u00f5es e trabalhos futuros ................................................................................................................ 131 \n\n6.1. Conclus\u00e3o ............................................................................................................................................................ 131 \n6.2. Trabalhos futuros ................................................................................................................................................ 133 \n\nBibliografia .................................................................................................................................................................... 135 \n\nAnexo ............................................................................................................................................................................. 141 \n\nAnexo A. Modelo de canal e da camada f\u00edsica no NS-2 ............................................................................................ 141 \nAnexo B. Fun\u00e7\u00e3o de transfer\u00eancia de cada um dos modelos ..................................................................................... 142 \nB.1. Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico .......................................................................................................... 142 \nB.2. Fun\u00e7\u00e3o de transfer\u00eancia do modelo canal ........................................................................................................... 143 \nB.3. Fun\u00e7\u00e3o de transfer\u00eancia do modelo modula\u00e7\u00e3o.................................................................................................. 144 \nB.4. Fun\u00e7\u00e3o de transfer\u00eancia do modelo propaga\u00e7\u00e3o ................................................................................................. 145 \nAnexo C. Analise comparativa entre protocolo ALOHA sem ACK e ALOHANEW sem ACK .............................. 147 \nAnexo D. Diagrama de estado dos m\u00f3dulos utilizados na implementa\u00e7\u00e3o do DACAP ............................................ 149 \nD.1. Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o ...................................................................... 149 \n\n\n\n \n\n xi \n\nD.2. Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o ............................................................................. 150 \nD.3. Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o com warning ....................................................... 151 \nAnexo E. Resultados dos testes .................................................................................................................................. 152 \nE.1. An\u00e1lise comparativa dos protocolos MAC para 2 n\u00f3s emissores e 1 recetor ..................................................... 152 \nE.1.1. Arquitetura sim\u00e9trica para tamanho pacote 600 byte ...................................................................................... 152 \nE.1.2. Arquitetura sim\u00e9trica para tamanho pacote 50 byte ........................................................................................ 154 \nE.1.3. Arquitetura assim\u00e9trica para tamanho pacote 600 byte ................................................................................... 156 \nE.1.4. Arquitetura assim\u00e9trica para tamanho pacote 50 byte ..................................................................................... 158 \nE.2. An\u00e1lise comparativa dos protocolos MAC para 4 n\u00f3s emissores e 1 recetor ..................................................... 160 \nE.2.1. Arquitetura sim\u00e9trica para tamanho pacote 600 byte ...................................................................................... 160 \nE.2.2. Arquitetura assim\u00e9trica para tamanho pacote 600 byte ................................................................................... 162 \n\n\n\n \n\n xii \n\n\u00cdndice de Figuras \n\nFigura 1.1: Configura\u00e7\u00e3o t\u00edpica de redes ac\u00fasticas submarinas........................................................... 4 \n\nFigura 2.1: Arquitetura bidimensional das redes ac\u00fasticas submarinas. ............................................ 11 \n\nFigura 2.2: Arquitetura tridimensional das redes ac\u00fasticas submarinas. ........................................... 12 \n\nFigura 2.3: Varia\u00e7\u00e3o da velocidade de propaga\u00e7\u00e3o do som no mar (a) e canal SOFAR (Sound Fixing \n\nAnd Ranging) (b). ....................................................................................................................... 17 \n\nFigura 2.4: Refra\u00e7\u00e3o do som entre dois meios com velocidades distintas (a) e em meio com varia\u00e7\u00e3o \n\ngradual de velocidade (b). .......................................................................................................... 18 \n\nFigura 2.5: Zonas de sombra e de converg\u00eancia. ............................................................................... 19 \n\nFigura 2.6: Reflex\u00e3o do sinal ac\u00fastico na superf\u00edcie e no fundo. ...................................................... 20 \n\nFigura 2.7: Rela\u00e7\u00e3o Sinal Ru\u00eddo em fun\u00e7\u00e3o da frequ\u00eancia. ............................................................... 21 \n\nFigura 2.8: Modelo do canal e da camada f\u00edsica ac\u00fastica submarina no NS-2. ................................. 24 \n\nFigura 2.9: Fun\u00e7\u00e3o de transfer\u00eancia do modelo de propaga\u00e7\u00e3o. ........................................................ 24 \n\nFigura 2.10: Fun\u00e7\u00e3o de transfer\u00eancia do modelo canal. .................................................................... 26 \n\nFigura 2.11: Fun\u00e7\u00e3o de transfer\u00eancia do modelo de modula\u00e7\u00e3o. ....................................................... 27 \n\nFigura 2.12: Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico. .................................................................... 28 \n\nFigura 2.13: Cen\u00e1rio da simula\u00e7\u00e3o para avaliar o modelo f\u00edsico no NS-2. ....................................... 29 \n\nFigura 2.14: Efeito da profundidade em rela\u00e7\u00e3o ao atraso de propaga\u00e7\u00e3o. ....................................... 30 \n\nFigura 2.15: Atraso de propaga\u00e7\u00e3o em rela\u00e7\u00e3o a dist\u00e2ncia entre os n\u00f3s. ........................................... 31 \n\nFigura 2.16: Pot\u00eancia de rece\u00e7\u00e3o em rela\u00e7\u00e3o a dist\u00e2ncia entre os n\u00f3s. .............................................. 31 \n\nFigura 2.17: Diagrama de blocos do simulador de rede WOSS. ....................................................... 34 \n\nFigura 2.18: Mapa do perfil batim\u00e9trico utilizando a GEBCO_08 grid. ........................................... 37 \n\nFigura 2.19: Diagrama para o c\u00e1lculo do SSP. .................................................................................. 38 \n\nFigura 3.1: Funcionamento do ALOHA exemplificando o conceito de colis\u00e3o e retransmiss\u00e3o. ..... 46 \n\nFigura 3.2: Funcionamento do Slotted ALOHA. ............................................................................... 47 \n\nFigura 3.3: Fluxograma do algoritmo de funcionamento do CSMA/CD. ......................................... 49 \n\nFigura 3.4: Estrutura de funcionamento do CSMA/CA. .................................................................... 51 \n\nFigura 3.5: Funcionamento do CSMA exemplificando o problema dos n\u00f3s expostos e escondido. . 52 \n\nFigura 3.6: Estrutura de funcionamento do protocolo MACA. ......................................................... 53 \n\nFigura 3.7: Protocolo MACA-Wireless: (a) funcionamento, (b) sem resposta CTS e (c) pacote WAIT.\n\n .................................................................................................................................................... 54 \n\nFigura 3.8: Teste de pot\u00eancias durante troca de tramas RTS e CTS. ................................................. 55 \n\nFigura 3.9: Estrutura de funcionamento do protocolo Slotted FAMA. .............................................. 58 \n\nFigura 3.10: Estrutura de funcionamento do protocolo baseado na configura\u00e7\u00e3o do handshake. ..... 61 \n\n\n\n \n\n xiii \n\nFigura 3.11: Estrutura de funcionamento do protocolo T-Lohi. ........................................................ 63 \n\nFigura 3.12: Estrutura de funcionamento do protocolo DACAP. ...................................................... 66 \n\nFigura 4.1: Diagrama de sequ\u00eancia dos pacotes para eventos TX/RX no WOSS. ............................ 75 \n\nFigura 4.2: Diagrama de sequ\u00eancia dos pacotes para eventos TX/RX no WOSS para camada f\u00edsica e \n\nMAC........................................................................................................................................... 77 \n\nFigura 4.3: Arquitetura da camada MAC utilizada para implementa\u00e7\u00e3o do DACAP. ...................... 81 \n\nFigura 4.4: Utiliza\u00e7\u00e3o do m\u00f3dulo gest\u00e3o do estado de backoff pelo m\u00f3dulo gest\u00e3o do estado de \n\ntransmiss\u00e3o. ................................................................................................................................ 84 \n\nFigura 4.5: M\u00f3dulo gest\u00e3o do estado de backoff. .............................................................................. 84 \n\nFigura 4.6: Diagrama de sequ\u00eancia de pacotes e primitivas do protocolo DACAP com warning. ... 92 \n\nFigura 5.1: Estrutura da simula\u00e7\u00e3o no simulador de rede ac\u00fastico WOSS........................................ 96 \n\nFigura 5.2: Cen\u00e1rio utilizado na simula\u00e7\u00e3o para an\u00e1lise comparativa dos protocolos para tamanhos \n\nde pacotes de 50 e 600 bytes. ................................................................................................... 100 \n\nFigura 5.3: Velocidade de propaga\u00e7\u00e3o do som em rela\u00e7\u00e3o a profundidade, utilizado no cen\u00e1rio \n\napresentado na figura 5.2. ........................................................................................................ 102 \n\nFigura 5.4: Mapa do perfil batim\u00e9trico utilizado no cen\u00e1rio apresentado na figura 5.2. ................. 103 \n\nFigura 5.5: Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. ............. 104 \n\nFigura 5.6: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\npara (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. ............................... 105 \n\nFigura 5.7: Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos para (a) \n\nTamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. ............................................ 106 \n\nFigura 5.8: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\npara (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. ............................... 107 \n\nFigura 5.9: Tempo gasto em mecanismos de controlo (Overhead), em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote \n\n50 bytes. ................................................................................................................................... 108 \n\nFigura 5.10: Cen\u00e1rio utilizado na simula\u00e7\u00e3o quando o n\u00f3 2 desloca para dist\u00e2ncia de 25 metros na \n\nhorizontal em rela\u00e7\u00e3o ao n\u00f3 0. ................................................................................................. 109 \n\nFigura 5.11 : Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos utilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) \n\nTamanho do pacote 50 bytes. ................................................................................................... 110 \n\nFigura 5.12: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\nutilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) Tamanho do \n\npacote 50 bytes. ........................................................................................................................ 111 \n\nFigura 5.13 : Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos utilizando \n\no cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 \n\nbytes. ........................................................................................................................................ 111 \n\nFigura 5.14: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos utilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) \n\nTamanho do pacote 50 bytes. ................................................................................................... 112 \n\n\n\n \n\n xiv \n\nFigura 5.15: Tempo gasto em mecanismos de controlo (Overhead) em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos utilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote \n\n600 bytes (b) Tamanho do pacote 50 bytes. ............................................................................. 113 \n\nFigura 5.16: Cen\u00e1rio da simula\u00e7\u00e3o para an\u00e1lise comparativa dos protocolos considerando o n\u00f3 4 \n\ncomo n\u00f3 recetor para tamanho do pacote de 600 bytes. .......................................................... 115 \n\nFigura 5.17: Velocidade de propaga\u00e7\u00e3o do som em rela\u00e7\u00e3o a profundidade utilizando o cen\u00e1rio da \n\nsimula\u00e7\u00e3o apresentado na figura 5.16. ..................................................................................... 116 \n\nFigura 5.18: Mapa do perfil batim\u00e9trico utilizado no cen\u00e1rio apresentado na figura 5.16. ............. 116 \n\nFigura 5.19: Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos considerando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. ................................. 117 \n\nFigura 5.20: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\nconsiderando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. .................................................. 118 \n\nFigura 5.21: Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\nconsiderando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. .................................................. 118 \n\nFigura 5.22: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos considerando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. ................................. 119 \n\nFigura 5.23: Tempo gasto em mecanismos de controlo (Overhead)  em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos considerando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. .. 120 \n\nFigura 5.24: Cen\u00e1rio utilizado na simula\u00e7\u00e3o para an\u00e1lise comparativa dos protocolos considerando \n\ndois n\u00f3s recetores (n\u00f3 4 e n\u00f3 5) para tamanho de pacote de 600 bytes. .................................. 121 \n\nFigura 5.25: Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos para tamanho do pacote de 600 bytes. ................................................................... 123 \n\nFigura 5.26: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\npara tamanho do pacote de 600 bytes. ..................................................................................... 123 \n\nFigura 5.27: Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos para \n\ntamanho do pacote de 600 bytes. ............................................................................................. 124 \n\nFigura 5.28: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos para tamanho do pacote de 600 bytes. ................................................................... 124 \n\nFigura 5.29: Tempo gasto em mecanismos de controlo (Overhead) em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos para tamanho do pacote de 600 bytes. ..................................... 125 \n\n \n\n  \n\n\n\n \n\n xv \n\n \n\n\n\n\n\n \n\n xvii \n\n\u00cdndice de Tabelas \n\nTabela 2.1: Largura de banda dispon\u00edvel para as diferentes dist\u00e2ncias em canais submarinos ......... 15 \n\nTabela 5.1: Tabela com pequena descri\u00e7\u00e3o dos protocolos utilizados na simula\u00e7\u00e3o ........................ 98 \n\nTabela 5.2: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o ................................... 101 \n\nTabela 5.3: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o do cen\u00e1rio da figura 5.16\n\n .................................................................................................................................................. 115 \n\nTabela 5.4: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o do cen\u00e1rio da figura 5.24\n\n .................................................................................................................................................. 122 \n\nTabela 5.5: Resumo sobre o desempenho dos protocolos de acesso ao meio para o cen\u00e1rio da figura \n\n5.2 ............................................................................................................................................. 128 \n\nTabela 5.6: Resumo sobre o desempenho dos protocolos de acesso ao meio para o cen\u00e1rio da figura \n\n5.16 ........................................................................................................................................... 129 \n\nTabela 5.7: Resumo sobre o desempenho dos protocolos de acesso ao meio para o cen\u00e1rio da figura \n\n5.24 ........................................................................................................................................... 129 \n\n\n\n \n\n xviii \n\nLista de Abreviaturas \n\nACK    Acknowledgment  \n\nAUV   Autonomous Underwater Vehicles \n\nAPI     Application Programming Interface \n\nALAN   Rede \u00c1rea Local Ac\u00fastica \n\nBODC   British Oceanographic Data Centre  \n\nBPSK   Binary Phase Shift Keying  \n\nCSMA   Carrier Sense Multiple Access \n\nCDMA  Code Division Multiple Access  \n\nCTS    Clear to Send \n\nCD                Collision Detection \n\nCA                Collision Avoidance   \n\nCW               Congestion Window \n\nCBR                 Constant Bit Rate  \n\nDACAP               Distance Aware Collision Avoidance Protocol  \n\nDSP               Digital Signal Processors  \n\nDCF                      Distributed Coordination Function \n\nDIFS      DCF Inter Frame Spaces \n\nFSK                          Frequency Shift Keying \n\nFHSS     Frequency Hopping Spread Spectrum \n\nFDMA   Frequency Division Multiple Access \n\nFAMA                     Floor Acquisition Multiple Access \n\nFH-BFSK                   Frequency Hopping - Binary Frequency Shift Keying  \n\nGEBCO              General Bathymetric Chart of the Oceans \n\nGPS                Global Positioning System \n\nISI               Interfer\u00eancia Intersimb\u00f3lica  \n\nLWT                    Listen While Talk \n\nMAC                Medium Access Control  \n\nMACA     Multiple Access with Collision Avoidance    \n\nMACA-W   Multiple Access with Collision Avoidance - Wireless  \n\nNAV                          Network Allocation Vector  \n\nNS-2              Network Simulator, vers\u00e3o 2 \n\nNTU       Nephelometric Turbidity Unit  \n\nPSK               Phase Shift Keying \n\nPCF               Point Coordination Function \n\nPIFS              PCF Inter Frame Spaces    \n\nPDAP               Propagation Delay Aware Protocol  \n\nPRN               Rede de Pacotes R\u00e1dio  \n\nRAS               Redes Ac\u00fasticas Submarinas   \n\nRF                           R\u00e1dio Frequ\u00eancia  \n\nRTS               Request to Send  \n\nSOFAR              Sound Fixing And Ranging  \n\nSNR               Signal-to-Noise Ratio   \n\nSINR               Interfer\u00eancia da Rela\u00e7\u00e3o Sinal Ru\u00eddo  \n\nSSP               Sound Speed Profile \n\nSIFS                 Short Inter Frame Spaces  \n\nSIR                   Interfer\u00eancia Sinal Ru\u00eddo \n\nTTP               Tempo de Transmiss\u00e3o do Pacote \n\n\n\n \n\n xix \n\nTDMA               Time Division Multiple Access   \n\nTGI                  Time Guard Interval \n\nWOSS                World Ocean Simulation System  \n\nWHOI               Woods Hole Oceanographic Institution  \n\nWOA                          World Ocean Atlas \n\n \n\n\n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 1 \n\nCap\u00edtulo 1 \n\nIntrodu\u00e7\u00e3o \n\nAs redes ac\u00fasticas submarinas cont\u00eam grande potencial para suportar uma grande variedade de \n\naplica\u00e7\u00f5es, incluindo entre outras a navega\u00e7\u00e3o, a pesca, a ecologia, a monitoriza\u00e7\u00e3o ambiental, a \n\nvigil\u00e2ncia submarina, a preven\u00e7\u00e3o de cat\u00e1strofes, a explora\u00e7\u00e3o de petr\u00f3leo, a dete\u00e7\u00e3o de intrusos e a \n\nmonitoriza\u00e7\u00e3o de polui\u00e7\u00e3o [1].   \n\nNos \u00faltimos anos tem-se assistido a um crescimento na import\u00e2ncia das comunica\u00e7\u00f5es submarinas \n\n[1]. Neste \u00e2mbito a comunica\u00e7\u00e3o entre sistemas aut\u00f3nomos, constitu\u00eddos por n\u00f3s fixos e m\u00f3veis, \n\ntornar-se-\u00e3o uma importante ferramenta com repercuss\u00f5es directas em in\u00fameras aplica\u00e7\u00f5es [2]. Na \n\nsua maioria, tais aplica\u00e7\u00f5es requerem a transmiss\u00e3o de sinais de sensores numa estrutura ad-hoc, \n\nenvolvendo protocolos de Controlo de Acesso ao Meio (MAC) e de encaminhamento [2]. \n\nNo entanto as comunica\u00e7\u00f5es submarinas diferem das comunica\u00e7\u00f5es em r\u00e1dio frequ\u00eancia cl\u00e1ssicas \n\nno que toca \u00e0s caracter\u00edsticas do canal onde os sinais de ac\u00fastica s\u00e3o transmitidos. Para al\u00e9m da \n\nvelocidade de propaga\u00e7\u00e3o mais baixa dos sinais ac\u00fasticos, as caracter\u00edsticas do canal s\u00e3o \n\nintrinsecamente dependentes das caracter\u00edsticas da \u00e1gua como meio de propaga\u00e7\u00e3o, que dependem \n\nda sua temperatura, salinidade e press\u00e3o. Outros factores como a profundidade da \u00e1gua, o tipo de \n\nsedimento e perfil batim\u00e9trico do fundo, ou a posi\u00e7\u00e3o dos pontos emissores em rela\u00e7\u00e3o \u00e0 superf\u00edcie \n\ne fundo, influenciam o d\u00e9bito de transmiss\u00e3o. Em termos de ru\u00eddo, a turbul\u00eancia, os ventos, os \n\nanimais e as condi\u00e7\u00f5es atmosf\u00e9ricas adicionam-se ao ru\u00eddo t\u00e9rmico. \n\nEm tais condi\u00e7\u00f5es, o estabelecimento de comunica\u00e7\u00f5es pode tornar-se complexo, havendo mesmo \n\numa aus\u00eancia de um link budget que consiga caracterizar tais comunica\u00e7\u00f5es [3]. \n\nNeste contexto os simuladores de redes tornam-se como ferramentas fundamentais para avalia\u00e7\u00e3o \n\ndo desempenho das redes ac\u00fasticas submarinas e um grande auxiliar no projecto de implementa\u00e7\u00e3o \n\ndos protocolos em aplica\u00e7\u00f5es onde os cen\u00e1rios s\u00e3o complexos, devido ao elevado custo e \n\ninviabilidade em p\u00f4r na pr\u00e1tica. \n\n\n\nIntrodu\u00e7\u00e3o \n\n 2 \n\nEmbora t\u00eam sido feitos alguns esfor\u00e7os para construir n\u00f3s mais baratos com menor intervalo de \n\ntransmiss\u00e3o e reduzindo as experi\u00eancias para redes com menor complexidade, a simula\u00e7\u00e3o continua \n\na ser uma ferramenta importante na avalia\u00e7\u00e3o do desempenho da rede. \n\nActualmente n\u00e3o existe nenhuma ferramenta de simula\u00e7\u00e3o padr\u00e3o espec\u00edfica para redes ac\u00fasticas \n\nsubmarinas. Uma abordagem mais amplamente adotada \u00e9 a reutiliza\u00e7\u00e3o dos simuladores terrestres \n\ndas redes sem fios, alterando o modelo de propaga\u00e7\u00e3o sem fios de forma a aproximar-se ao modelo \n\nde propaga\u00e7\u00e3o ac\u00fastico submarino. \n\nIsso normalmente \u00e9 feito definindo o valor da velocidade do som um valor constante de 1,5 km / s, \n\nutilizando f\u00f3rmulas emp\u00edricas para atenua\u00e7\u00e3o e densidade espectral de ru\u00eddo. \n\nEsta abordagem, no entanto, torna-se bastante limitada, devido a que as f\u00f3rmulas emp\u00edricas \n\ngeralmente possuem uma aproxima\u00e7\u00e3o, cuja precis\u00e3o depende muito do cen\u00e1rio e dos par\u00e2metros de \n\nimplementa\u00e7\u00e3o (isto \u00e9 \u00e1guas com pequenas profundidades em rela\u00e7\u00e3o a \u00e1guas com grandes \n\nprofundidades, \u00e1gua quente em rela\u00e7\u00e3o a \u00e1gua fria, fundo do mar e etc\u2026). Al\u00e9m disso, a varia\u00e7\u00e3o \n\ndos factores ambientais como a temperatura da \u00e1gua e da morfologia do fundo do mar poder\u00e1 n\u00e3o \n\nter um impacto desprez\u00edvel sobre a propaga\u00e7\u00e3o. \n\nCom o objectivo de proporcionar um ambiente fi\u00e1vel de simula\u00e7\u00e3o de redes ac\u00fasticas submarinas, \n\nneste trabalho utilizaremos o simulador de rede WOSS, de forma a fornecer uma reprodu\u00e7\u00e3o mais \n\ndetalhada da propaga\u00e7\u00e3o ac\u00fastica (isto \u00e9, atrav\u00e9s do modelo de propaga\u00e7\u00e3o belhop \u201cray tracing\u201d \n\nem vez de f\u00f3rmulas emp\u00edricas). \n\nO simulador WOSS ser\u00e1 integrado com outras ferramentas de simula\u00e7\u00e3o dispon\u00edveis como as \n\nextens\u00f5es do MIRACLE para o NS-2 (Network Simulator -2) de forma a fornecer uma ferramenta \n\ncompleta e personalizada, incluindo a propaga\u00e7\u00e3o ac\u00fastica, o modelo da camada f\u00edsica e cross-layer \n\npara especifica\u00e7\u00e3o dos protocolos de encaminhamento e protocolos de controlo de acesso ao meio. \n\n1.1. Motiva\u00e7\u00e3o \n\nNa d\u00e9cada passada as redes de comunica\u00e7\u00e3o sem fios sofreram um desenvolvimento extraordin\u00e1rio \n\ntendo havido desde ent\u00e3o uma necessidade crescente de comunicar a d\u00e9bitos mais elevados, de \n\nforma a acomodar novos servi\u00e7os. Pesquisas recentes apontam para um crescente interesse em \n\nampliar redes de sensores sem fios terrestres ao meio submarino [4]. Aplica\u00e7\u00f5es submarinas, tais \n\ncomo controlo de dados oceanogr\u00e1ficos, assist\u00eancia na navega\u00e7\u00e3o, vigil\u00e2ncia submarina, \n\nantecipa\u00e7\u00e3o de informa\u00e7\u00f5es sobre cat\u00e1strofes, explora\u00e7\u00e3o submarinas e controlo de polui\u00e7\u00e3o podem \n\nser contornados atrav\u00e9s de implementa\u00e7\u00e3o de redes ac\u00fasticas submarinas [4]. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 3 \n\nNeste \u00e2mbito o laborat\u00f3rio de processamento de sinal da Universidade o Algarve em parceria com \n\nos parceiros europeus incluindo cinco centros de investiga\u00e7\u00e3o e empresas da It\u00e1lia, Noruega e \n\nSu\u00e9cia pretendem criar uma rede sem fios para comunicar atrav\u00e9s do som dentro de \u00e1gua. Este \n\nprojecto que recebeu o nome de UAN (Underwater Acoustic Network), consiste em desenvolver \n\nmetodologias e tecnologias operacionais para implementa\u00e7\u00e3o de redes de comunica\u00e7\u00e3o ac\u00fastica \n\nsubmarina a serem integradas como componentes de uma rede multimedia para vigil\u00e2ncia e \n\nmonitoriza\u00e7\u00e3o de infra-estruturas cr\u00edticas no mar. \n\nA UAN ser\u00e1 composta por n\u00f3s m\u00f3veis, fixos, e uma esta\u00e7\u00e3o de base que assumir\u00e1 de c\u00e9rebro de \n\ntoda a opera\u00e7\u00e3o. Esta rede ter\u00e1 capacidade para cobrir de forma din\u00e2mica um per\u00edmetro subaqu\u00e1tico \n\nde cem quil\u00f3metros quadrados com os n\u00f3s da rede a transmitirem mensagens entre si atrav\u00e9s de \n\numa esp\u00e9cie de correio electr\u00f3nico: enviando texto e imagens uns aos outros usando ondas sonoras, \n\nque se propagam facilmente debaixo de \u00e1gua. Todos os n\u00f3s desta rede estar\u00e3o equipados com v\u00e1rios \n\nsensores, as armas necess\u00e1rias para detetar potenciais amea\u00e7as a infra-estruturas estrat\u00e9gicas como \n\nplataformas petrol\u00edferas ou instala\u00e7\u00f5es de gera\u00e7\u00e3o de energia, tanto em alto mar como em zonas \n\ncosteiras.  \n\nOs diversos sensores captar\u00e3o informa\u00e7\u00e3o sobre, a temperatura da \u00e1gua, a velocidade das correntes \n\nou a oscila\u00e7\u00e3o da coluna de \u00e1gua, monitorando a todo o tempo o per\u00edmetro que defendem. Os n\u00f3s \n\nm\u00f3veis, ou ve\u00edculos aut\u00f3nomos subaqu\u00e1ticos, ser\u00e3o cruciais no processo de recolha de informa\u00e7\u00e3o, \n\numa vez que podem ser destacados para ir a uma determinada localiza\u00e7\u00e3o confirmar dados ou \n\nrecolher imagens cruciais para tomar uma decis\u00e3o face a uma potencial amea\u00e7a. Os n\u00f3s fixos t\u00eam \n\ncomo fun\u00e7\u00e3o participar na recolha de informa\u00e7\u00e3o ambiental estrat\u00e9gica para o processo de \n\nvigil\u00e2ncia e dete\u00e7\u00e3o. \n\nA controlar as opera\u00e7\u00f5es estar\u00e1 uma cadeia de sensores, a esta\u00e7\u00e3o de base, que ter\u00e1 uma antena, \n\numa unidade de telemetria, um modem e v\u00e1rios sensores ao longo de um cabo que termina num \n\nflutuador abaixo da superf\u00edcie. Um exemplo de uma configura\u00e7\u00e3o t\u00edpica da rede ac\u00fastica submarina \n\n\u00e9 apresentado na figura 1.1 (Adaptada a refer\u00eancia [6]). \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nIntrodu\u00e7\u00e3o \n\n 4 \n\n \n\nFigura 1.1: Configura\u00e7\u00e3o t\u00edpica de redes ac\u00fasticas submarinas. \n\nApesar de poderem potencialmente vir a ser \u00fateis em diversas aplica\u00e7\u00f5es reais, as redes ac\u00fasticas \n\nsubmarinas colocam diversos desafios e limita\u00e7\u00f5es que derivam do ambiente submarino [7][8][9]. \n\nA variabilidade do meio submarino \u00e9 tal, e a velocidade, que as condi\u00e7\u00f5es mudam a cada segundo. \n\nEm termos pr\u00e1ticos a transmiss\u00e3o de uma mensagem poder\u00e1 levar v\u00e1rios segundos, ficando assim \n\nsujeita \u00e0 variabilidade do meio de propaga\u00e7\u00e3o.  \n\n\u00c9 \u00e0 luz deste problema que o conceito de rede, foi introduzido de forma priorit\u00e1ria no projecto UAN \n\nno contexto da comunica\u00e7\u00e3o debaixo de \u00e1gua. At\u00e9 agora a comunica\u00e7\u00e3o submarina tem vindo a ser \n\nfeita ponto a ponto, o que cria grandes problemas devido a variabilidade do meio. O conceito de \n\nrede que vamos trabalhar vem permitir fazer uma gest\u00e3o mais eficaz de todo o processo \n\ncomunicacional, permitindo-nos escolher qual \u00e9 o melhor caminho em dado momento para colocar \n\nos n\u00f3s da rede em contacto, tornando a troca de informa\u00e7\u00e3o mais r\u00e1pida e efetiva. \n\nAs raz\u00f5es atr\u00e1s apresentadas motivaram a escolha do estudo das redes de transmiss\u00e3o de dados em \n\nmeios submarinos, como tema desta disserta\u00e7\u00e3o. \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 5 \n\n1.2. Objectivo da disserta\u00e7\u00e3o \n\nTendo em considera\u00e7\u00e3o as limita\u00e7\u00f5es do canal ac\u00fastico e as particularidades do ambiente submarino \n\nquanto \u00e0 propaga\u00e7\u00e3o tais como largura de banda, atenua\u00e7\u00f5es, interfer\u00eancias, ru\u00eddo, alcance, \n\nvelocidade de propaga\u00e7\u00e3o do som, perdas de transmiss\u00e3o, trajet\u00f3rias de propaga\u00e7\u00e3o e pot\u00eancias de \n\ntransmiss\u00e3o pretende-se considerar a comunica\u00e7\u00e3o entre v\u00e1rios n\u00f3s da rede e analisar os efeitos que \n\ntais comunica\u00e7\u00f5es t\u00eam no aumento da interfer\u00eancia m\u00fatua, de acordo com v\u00e1rios mecanismos de \n\ncontrolo de acesso ao meio. \n\nPara tal, pretende-se melhorar as ferramentas existentes de simula\u00e7\u00e3o dos meios de transmiss\u00e3o \n\nsubmarinas para que traduzam a complexidade da transmiss\u00e3o submarina. Neste \u00e2mbito no presente \n\ntrabalho pretende-se analisar, implementar e propor melhorias nos principais protocolos de controlo \n\nde acesso ao meio para redes ac\u00fasticas submarinas. Tendo como ponto de partida a an\u00e1lise do \n\nprinc\u00edpio de funcionamento de v\u00e1rios mecanismos de acesso ao meio existentes pretende-se \n\nimplementar um mecanismo de controlo de acesso ao meio designado por DACAP (Distance \n\nAware Collision Avoidance Protocol) e test\u00e1-lo no simulador de rede WOSS utilizando diversas \n\nconfigura\u00e7\u00f5es.  \n\nNesse sentido, ap\u00f3s a implementa\u00e7\u00e3o do referido mecanismo de controlo de acesso ao meio \n\n(DACAP) ser\u00e3o realizados diversos testes de forma a verificar a melhoria introduzida por este \n\nmecanismo de controlo de acesso ao meio em diversos contextos, incluindo varia\u00e7\u00f5es no tamanho \n\nde trama, do n\u00famero de n\u00f3s e na sua disposi\u00e7\u00e3o. Os resultados obtidos pelo protocolo DACAP \n\nser\u00e3o comparados com os resultados dos protocolos como o ALOHA com e sem Acknowledgment \n\n[10], ALOHA com escuta ao meio e sem Acknowledgment (sem ACK) e o CSMA (Carrier Sense \n\nMultiple Access). O objetivo deste estudo \u00e9 o de analisar em que circunst\u00e2ncias cada um dos \n\nprotocolos acima referidos apresentam melhor desempenho nas redes ac\u00fasticas submarinas.  \n\n \n\n \n\n \n\n\n\nIntrodu\u00e7\u00e3o \n\n 6 \n\n1.3. Organiza\u00e7\u00e3o da disserta\u00e7\u00e3o \n\nEsta disserta\u00e7\u00e3o est\u00e1 organizada em seis cap\u00edtulos. Neste cap\u00edtulo (cap\u00edtulo 1) \u00e9 apresentada uma \n\nvis\u00e3o geral sobre redes ac\u00fasticas submarinas, o objectivo da disserta\u00e7\u00e3o e a motiva\u00e7\u00e3o para a \n\nrealiza\u00e7\u00e3o deste estudo.  \n\nNo cap\u00edtulo 2 ser\u00e1 realizada uma revis\u00e3o bibliogr\u00e1fica sobre redes ac\u00fasticas submarinas, \n\napresentando: as suas caracter\u00edsticas; as principais aplica\u00e7\u00f5es; a sua arquitetura; o conceito de canal \n\nac\u00fastico com as suas particularidades tais como lat\u00eancia, largura de banda, ru\u00eddo, alcance, \n\nvelocidade de propaga\u00e7\u00e3o do som, perdas de transmiss\u00e3o, traject\u00f3rias de propaga\u00e7\u00e3o e pot\u00eancias de \n\ntransmiss\u00f5es. Tamb\u00e9m neste cap\u00edtulo ser\u00e1 apresentada o modelo do canal ac\u00fastico, com vista ao \n\ndesenvolvimento de simula\u00e7\u00f5es no NS-2 (Network Simulator, vers\u00e3o 2), assim como tamb\u00e9m ser\u00e1 \n\napresentado o simulador de rede WOSS utilizado posteriormente. \n\nNo cap\u00edtulo 3 ser\u00e1 feita a descri\u00e7\u00e3o dos principais protocolos de controlo de acesso ao meio, \n\nanalisando-se os seus mecanismos de funcionamento que permitem efetuar o acesso ao canal e \n\nmelhorar o desempenho da rede. Tamb\u00e9m ser\u00e3o apresentados os protocolos de encaminhamento \n\npara redes ac\u00fasticas submarinas. O cap\u00edtulo ser\u00e1 encerrado apresentando os principais \n\ndesenvolvimentos das redes ac\u00fasticas submarinas. \n\nNo cap\u00edtulo 4, descreve-se os passos que conduziram \u00e0 implementa\u00e7\u00e3o do mecanismo de controlo \n\nde acesso ao meio DACAP.  \n\nNo cap\u00edtulos 5, ser\u00e3o apresentados os resultados comparativos entre os diversos mecanismos MAC, \n\nobtidos para um conjunto de topologias diferentes e para diferentes tamanhos de tramas. No \n\ncap\u00edtulo 6, apresentaremos as conclus\u00f5es, sugerindo alguns trabalhos futuros. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 7 \n\nCap\u00edtulo 2 \n\n \n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e \n\nSimulador de redes submarinas \n\nO desenvolvimento da ac\u00fastica submarina teve grande impulso na segunda guerra mundial, devido \n\n\u00e0 necessidade militar em identificar navega\u00e7\u00f5es inimigas e \u00e0 necessidade de comunica\u00e7\u00e3o entre \n\nsubmarinos. No entanto, a teoria de comunica\u00e7\u00e3o ac\u00fastica submarina desenvolveu-se apenas nas \n\nd\u00e9cadas seguintes, com os trabalhos de Wilson [11] (1960), Urick et al. [12] (1983), Coates [13] \n\n(1989) e Berkhovskikh et al. [14] (1991). Em paralelo com o desenvolvimento das t\u00e9cnicas de \n\ncomunica\u00e7\u00e3o digital de sinais e os avan\u00e7os da microeletr\u00f3nica, incluindo os DSPs (Digital Signal \n\nProcessors), permitiram o fabrico de modems ac\u00fasticos submarinos compactos, de baixo consumo e \n\ncom grande capacidade de processamento, permitido a implementa\u00e7\u00e3o de sistemas de modula\u00e7\u00e3o e \n\ncodifica\u00e7\u00e3o para transmiss\u00e3o digital de sinais ac\u00fasticos que proporcionam bons d\u00e9bitos de \n\ncomunica\u00e7\u00e3o [15]. Este desenvolvimento tem suscitado estudos e propostas para implementa\u00e7\u00e3o de \n\nredes ac\u00fasticas submarinas para diversas aplica\u00e7\u00f5es. Neste \u00e2mbito, as principais aplica\u00e7\u00f5es \n\ndescritas na literatura s\u00e3o: \n\n? Controlo de dados oceanogr\u00e1ficos: Existe um interesse crescente por dados \n\noceanogr\u00e1ficos, quer por parte da comunidade cient\u00edfica, quer para fins comerciais. Tais \n\ndados oceanogr\u00e1ficos podem auxiliar nas previs\u00f5es clim\u00e1ticas e na antecipa\u00e7\u00e3o de \n\ncat\u00e1strofes. As redes ac\u00fasticas submarinas podem neste \u00e2mbito proporcionar um meio \n\nadequado e eficiente para recolha dessas informa\u00e7\u00f5es. Entre os dados de interesse para a \n\noceanografia e pass\u00edveis de monitoriza\u00e7\u00e3o e registo podem citar-se: a temperatura, a \n\nsalinidade, a condutividade, as correntes mar\u00edtimas (superficiais, intermedi\u00e1rias e \n\nprofundas), a press\u00e3o, dados sobre ondas e mar\u00e9s, penetra\u00e7\u00e3o e distribui\u00e7\u00e3o da luz na \u00e1gua \n\ndo mar, turbul\u00eancia, concentra\u00e7\u00e3o de produtos qu\u00edmicos, poluentes etc; \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 8 \n\n? Assist\u00eancia na Navega\u00e7\u00e3o: Os sensores podem ser usados para identificar os perigos no \n\nfundo do mar, localizar rochas perigosas ou cardumes em \u00e1guas rasas, destro\u00e7os submersos, \n\nou tra\u00e7ar um perfil batim\u00e9trico. \n\n? Vigil\u00e2ncia submarina: esta aplica\u00e7\u00e3o foi impulsionada durante a segunda guerra mundial, \n\ncom o objectivo de detetar inimigos e proporcionar comunica\u00e7\u00e3o com submarinos. A \n\nutiliza\u00e7\u00e3o de redes ac\u00fasticas submarinas para essa finalidade tem o potencial de incrementar \n\na efici\u00eancia desses sistemas de defesa, ampliando sua \u00e1rea de cobertura e melhorando sua \n\nresolu\u00e7\u00e3o. Uma rede aut\u00f3noma para essa finalidade pode ser composta por n\u00f3s fixos e \n\nm\u00f3veis, o que proporciona flexibilidade e agilidade na detec\u00e7\u00e3o de intrusos; \n\n? Controlo de polui\u00e7\u00e3o: o controlo de polui\u00e7\u00e3o ambiental tem-se tornado cada vez mais \n\nnecess\u00e1rio e de interesse para os \u00f3rg\u00e3os fiscalizadores. As redes ac\u00fasticas submarinas t\u00eam \n\nflexibilidade e potencial para implementar um sistema de controlo em tempo real que \n\nefectivamente identifique fontes poluidoras com a agilidade necess\u00e1ria para minimizar os \n\nseus efeitos; \n\n? Antecipa\u00e7\u00e3o de informa\u00e7\u00f5es sobre cat\u00e1strofes: uma rede ac\u00fastica submarina com sensores \n\napropriados pode ser utilizada para antecipar informa\u00e7\u00f5es sobre poss\u00edveis cat\u00e1strofes \n\noriginadas nos oceanos, tais como os tsunamis. Tal permite a cria\u00e7\u00e3o de um sistema de \n\nseguran\u00e7a para alertar as popula\u00e7\u00f5es sobre a gera\u00e7\u00e3o desses eventos, com o objectivo de \n\nminimizar seus os efeitos. \n\n? Explora\u00e7\u00e3o submarina: As redes ac\u00fasticas submarinas podem ajudar a detetar campos \n\npetrol\u00edferos submarinos ou reservat\u00f3rios, determinar as rotas para coloca\u00e7\u00e3o de cabos \n\nsubmarinos, e auxiliar na explora\u00e7\u00e3o de min\u00e9rios valiosos. \n\n \n\nNo decorrer deste cap\u00edtulo abordaremos ao longo de 6 se\u00e7\u00f5es as redes de ac\u00fastica submarina. \n\nNa pr\u00f3xima se\u00e7\u00e3o (se\u00e7\u00e3o 2.1) apresentaremos as principais caracter\u00edsticas das redes ac\u00fasticas \n\nsubmarinas. A se\u00e7\u00e3o 2.2 apresentar\u00e1 as principais arquitecturas utilizadas nas redes ac\u00fasticas \n\nsubmarinas. Nas se\u00e7\u00f5es 2.3 e 2.4 apresentam-se os conceitos da comunica\u00e7\u00e3o ac\u00fastica, canal \n\nac\u00fastico e os principais fatores que influenciam as comunica\u00e7\u00f5es ac\u00fasticas. Na se\u00e7\u00e3o 2.5 \n\napresenta-se o simulador de rede. Esta se\u00e7\u00e3o (se\u00e7\u00e3o 2.5) descrever\u00e1 o modelo ac\u00fastico no \n\nsimulador de NS-2 [16], assim como tamb\u00e9m apresentar\u00e1 uma pequena descri\u00e7\u00e3o do princ\u00edpio \n\nde funcionamento do simulador WOSS [17]. O cap\u00edtulo \u00e9 encerrado na (se\u00e7\u00e3o 2.6) apresentando \n\nas respectivas conclus\u00f5es do referido cap\u00edtulo. \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 9 \n\n2.1. Principais caracter\u00edsticas das redes ac\u00fasticas submarinas \n\nComo forma de descrever as redes ac\u00fasticas submarinas \u00e9 comum caracterizar-se essas redes com \n\nbase em diversos crit\u00e9rios [4][5][6], sendo os mais comuns os seguintes: \n\n? Mobilidade: uma rede ac\u00fastica submarina pode ser composta exclusivamente por n\u00f3s fixos, \n\nm\u00f3veis, ou por mistura de ambos os tipos. Devido \u00e0s limita\u00e7\u00f5es da comunica\u00e7\u00e3o submarina, \n\nos n\u00f3s fixos s\u00e3o mais f\u00e1ceis de implementar, mas a flexibilidade que os n\u00f3s m\u00f3veis \n\nproporcionam \u00e9 um atrativo cada vez mais considerado na configura\u00e7\u00e3o de redes ac\u00fasticas \n\nsubmarinas [5]. Um factor que tem contribuido para isso \u00e9 o desenvolvimento dos AUVs \n\n(Autonomous Underwater Vehicles), que operam como n\u00f3s m\u00f3veis para recolha de \n\ninforma\u00e7\u00f5es, utilizando para tal sensores pr\u00f3prios [5]; \n\n? Topologia: podem ser centralizadas ou distribu\u00eddas. A centralizada \u00e9 utilizada em redes com \n\nos n\u00f3s fixos ao redor de um n\u00f3 denominado de Sink, onde os n\u00f3s da rede encaminham os \n\nseus dados e dele recebem comandos. Esse n\u00f3 Sink necessita de um canal de comunica\u00e7\u00e3o \n\ncom uma estac\u00e3o terrestre para encaminhar os dados da rede e dela receber comandos para \n\nconfigura\u00e7\u00e3o dos n\u00f3s sensores [5]. \n\nA topologia distribu\u00edda pode ser utilizada em redes ac\u00fasticas submarinas com n\u00f3s m\u00f3veis, \n\nonde n\u00e3o h\u00e1 hierarquia. Os n\u00f3s m\u00f3veis podem navegar independentemente com aux\u00edlio de \n\nrefer\u00eancias ac\u00fasticas submersas [5];  \n\n? Distribui\u00e7\u00e3o espacial: pode ser bidimensional, quando todos os n\u00f3s da rede est\u00e3o fixados \n\nno leito oce\u00e2nico, ou tridimensional, quando os n\u00f3s da rede ficam submersos, flutuando em \n\ndiferentes profundidades, presos ao fundo do mar por cabos com comprimentos variados; \n\n? Utiliza\u00e7\u00e3o do canal de comunica\u00e7\u00e3o: depende da densidade dos n\u00f3s e da extens\u00e3o \n\ngeogr\u00e1fica, a utiliza\u00e7\u00e3o do canal de comunica\u00e7\u00e3o pode ser comum ou em cluster. Na \n\nutiliza\u00e7\u00e3o comum o canal \u00e9 partilhado por todos os n\u00f3s da rede ao mesmo tempo, sendo \n\nnecess\u00e1rio um protocolo de controlo de acesso ao meio para organizar a utiliza\u00e7\u00e3o do canal. \n\nNa forma de utiliza\u00e7\u00e3o em clusters a arquitetura prev\u00ea a utiliza\u00e7\u00e3o de diversos grupos (ditos \n\n\u201cclusters\u201d), dentro dos quais os n\u00f3s se submetem a um mecanismo interno de acesso ao \n\nmeio, conforme descrevem Doukkali et al. [11] e Ma et al. [12]. Essa \u201cclusteriza\u00e7\u00e3o\u201d tem \n\ncomo objetivo permitir o reaproveitamento do canal de comunica\u00e7\u00e3o em c\u00e9lulas onde o \n\nafastamento impede a interfer\u00eancia m\u00fatua de transmiss\u00f5es simult\u00e2neas. \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 10 \n\n2.2.  Arquitecturas de comunica\u00e7\u00e3o em redes ac\u00fasticas \n\nsubmarinas \n\nA arquitetura da rede \u00e9 um factor crucial na determina\u00e7\u00e3o do consumo de energia, da capacidade e \n\nda confiabilidade de uma rede. Assim, a arquitetura da rede deve ser projetada com garantia de \n\ncuidado e ap\u00f3s a sua implementa\u00e7\u00e3o e otimiza\u00e7\u00e3o a arquitetura deve ser sempre que poss\u00edvel \n\nreavaliada [5]. \n\nAs miss\u00f5es de acompanhamento submarino s\u00e3o extremamente caras devido ao alto custo dos \n\naparelhos submarinos. Por isso, \u00e9 importante que a rede implementada seja altamente confi\u00e1vel, de \n\nmodo a evitar o fracasso das miss\u00f5es de acompanhamento que derivam da falha de um ou v\u00e1rios \n\ndispositivos.  \n\nA capacidade da rede tamb\u00e9m \u00e9 influenciada pela arquitectura da rede. Como a capacidade do canal \n\nsubmarino \u00e9 bastante limitada, \u00e9 muito importante organizar a arquitetura de rede de forma que n\u00e3o \n\nhaja nenhuma falha de comunica\u00e7\u00e3o. \n\nEm seguida analisaremos as principais arquiteturas utlizadas no contexto das redes ac\u00fasticas \n\nsubmarinas. \n\n2.2.1.  Arquitectura bidimensional \n\n \n\nA arquitectura bidimensional para redes ac\u00fasticas submarinas \u00e9 apresentada na figura 2.1 (adaptada \n\na partir de [5]). Na figura pode observar-se que os n\u00f3s sensores est\u00e3o ancorados no fundo do \n\noceano. Os n\u00f3s sensores submarinos comunicam com um ou mais n\u00f3s ditos Sink, por meio de \n\nliga\u00e7\u00f5es ac\u00fasticas sem fios. Os n\u00f3s Sink, como se pode observar na figura 2.1, s\u00e3o dispositivos da \n\nrede respons\u00e1veis pela retransmiss\u00e3o dos dados da rede do fundo do oceano para uma esta\u00e7\u00e3o da \n\nsuperf\u00edcie terrestre. Para retransmitir os dados da rede do fundo do oceano para esta\u00e7\u00e3o da \n\nsuperf\u00edcie terrestre, os n\u00f3s Sink s\u00e3o equipados com dois transdutores ac\u00fasticos, um transdutor \n\nvertical e um transdutor horizontal [5].  \n\nO transdutor horizontal \u00e9 utilizado pelo n\u00f3 Sink para comunicar com os n\u00f3s sensores, com o \n\nobjetivo de: enviar comandos e configurar os sensores (no sentido Sink para n\u00f3s sensores); recolher \n\ndados monitorizados (no sentido sensores para n\u00f3s Sink). O transdutor vertical \u00e9 utilizado pelo n\u00f3 \n\nSink para transmitir dados para uma esta\u00e7\u00e3o da superf\u00edcie.  \n\nA esta\u00e7\u00e3o da superf\u00edcie \u00e9 equipada com um transdutor ac\u00fastico que \u00e9 capaz de receber m\u00faltiplas \n\ncomunica\u00e7\u00f5es paralelas a partir de diversos n\u00f3s Sink. Tamb\u00e9m \u00e9 dotado de uma liga\u00e7\u00e3o r\u00e1dio \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 11 \n\nfrequ\u00eancia (RF) de longo alcance e/ou transmissor via sat\u00e9lite para comunicar com um Sink em \n\nterra e/ou um Sink de superf\u00edcie. \n\n \n\n \n\nFigura 2.1: Arquitetura bidimensional das redes ac\u00fasticas submarinas. \n\nOs n\u00f3s sensores podem comunicar com os n\u00f3s Sink diretamente ou atrav\u00e9s de m\u00faltiplos-saltos. Nas \n\nliga\u00e7\u00f5es diretas, cada n\u00f3 sensor envia diretamente os dados para o n\u00f3 Sink selecionado [10]. Nas \n\nliga\u00e7\u00f5es de m\u00faltiplos saltos, \u00e0 semelhan\u00e7a das redes de sensores terrestres [7], os dados produzidos \n\npor um n\u00f3 sensor da fonte \u00e9 retransmitida por n\u00f3s interm\u00e9dios at\u00e9 atingir o n\u00f3 Sink do destino. Isso \n\npode implicar um aumento do consumo de energia e aumento da capacidade da rede, mas tamb\u00e9m \n\naumenta a complexidade em termos de encaminhamento.  \n\n2.2.2.  Arquitectura tridimensional \n\nA arquitetura tridimensional para redes ac\u00fasticas submarinas \u00e9 apresentada na figura 2.2 (adaptada \n\nde [5]). As arquiteturas tridimensionais s\u00e3o utilizadas para detetar e observar fen\u00f3menos que n\u00e3o \n\npodem ser observados adequadamente por sensores colocados no fundo do oceano. Estas \n\narquiteturas permitem realizar uma amostragem tridimensional do ambiente oce\u00e2nico[5]. \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 12 \n\n \n\nFigura 2.2: Arquitetura tridimensional das redes ac\u00fasticas submarinas. \n\nNas redes ac\u00fasticas submarinas tridimensionais, os n\u00f3s sensores flutuam em diferentes \n\nprofundidades, com o objetivo de observar um determinado fen\u00f3meno [5]. Uma solu\u00e7\u00e3o poss\u00edvel \n\nseria conectar cada n\u00f3 sensor a uma boia de superf\u00edcie, por meio de cabos, onde o comprimento \n\npode ser regulado de modo a ajustar a profundidade de cada n\u00f3 sensor [8]. Embora esta solu\u00e7\u00e3o \n\npermita uma implementa\u00e7\u00e3o r\u00e1pida e f\u00e1cil da rede de sensores, diversas boias podem obstruir \n\nnavios que naveguem \u00e0 superf\u00edcie, ou em caso de cen\u00e1rios militares, podem ser facilmente detetadas \n\ne desativadas por inimigos. Al\u00e9m disso, as boias flutuantes s\u00e3o vulner\u00e1veis \u00e0s condi\u00e7\u00f5es \n\nmeteorol\u00f3gicas. Por estas raz\u00f5es, uma solu\u00e7\u00e3o diferente consiste em ancorar dispositivos sensores \n\nno fundo do oceano.  \n\nNa arquitectura tridimensional, apresentada na figura 2.2, cada n\u00f3 sensor \u00e9 representado ancorado \n\nao fundo do oceano e equipado com uma boia flutuante que pode ser enchida utilizando uma \n\nbomba, e que puxa o sensor em dire\u00e7\u00e3o \u00e0 superf\u00edcie do oceano. A profundidade do n\u00f3 sensor pode \n\nser regulada, ajustando o comprimento do cabo que interliga o sensor \u00e0 \u00e2ncora, utilizando para tal \n\num motor que reside no sensor e que \u00e9 controlado eletronicamente [5].  \n\nNa arquitetura tridimensional das redes ac\u00fasticas submarinas n\u00e3o se utiliza o n\u00f3 Sink de \n\nprofundidade tal como representado na figura 2.1. Os n\u00f3s sensores s\u00e3o capazes de transmitir \n\ninforma\u00e7\u00f5es para a esta\u00e7\u00e3o de superf\u00edcie atrav\u00e9s de m\u00faltiplos saltos [5]. Assim, os dispositivos de \n\nrede devem coordenar as suas profundidades de tal forma que a arquitetura da rede esteja sempre \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 13 \n\nconectada, ou seja deve existir pelo menos um caminho que permita que todos os n\u00f3s sensores \n\nconsigam comunicar para a esta\u00e7\u00e3o de superf\u00edcie [5]. \n\n2.3.  Comunica\u00e7\u00e3o submarina \n\n \n\nApesar do uso de cabos el\u00e9tricos ou de fibras \u00f3pticas no leito oce\u00e2nico ser uma opera\u00e7\u00e3o vi\u00e1vel, \n\nesses meios f\u00edsicos para comunica\u00e7\u00e3o entre n\u00f3s de uma rede submarina s\u00e3o restritos a aplica\u00e7\u00f5es \n\nmuito espec\u00edficas. A agressividade do ambiente ac\u00fastico submarino dificulta a viabilidade para \n\nconex\u00f5es eficientes e fi\u00e1veis.  \n\nA cria\u00e7\u00e3o de redes submarinas com cabos pode ser \u00fatil apenas para certas aplica\u00e7\u00f5es onde n\u00e3o se \n\nespera mudan\u00e7a de cen\u00e1rio ao longo do tempo, ou como parte de uma infra-estrutura de apoio na \n\nimplementa\u00e7\u00e3o de redes mistas [9].  \n\nEm termos pr\u00e1ticos, uma rede ac\u00fastica submarina deve dispor de meios de comunica\u00e7\u00e3o sem fios \n\nentre os n\u00f3s. A comunica\u00e7\u00e3o sem fios submarina proporciona mobilidade, dinamismo na \n\ncomposi\u00e7\u00e3o da rede (inclus\u00e3o e exclus\u00e3o de n\u00f3s) e contorna os inconvenientes das limita\u00e7\u00f5es das \n\nconex\u00f5es submarinas (resist\u00eancia a corros\u00e3o, resist\u00eancia a press\u00f5es elevadas, etc). \n\n2.3.1.  Propaga\u00e7\u00e3o de sinais no ambiente ac\u00fastico submarino \n\n \n\nA comunica\u00e7\u00e3o ac\u00fastica submarina sem fios pode ser feita atrav\u00e9s de transmiss\u00f5es \n\neletromagn\u00e9ticas, \u00f3ticas ou ac\u00fasticas. No entanto, embora poss\u00edveis, as comunica\u00e7\u00f5es submarinas \n\natrav\u00e9s de transmiss\u00f5es \u00f3ticas ou eletromagn\u00e9ticas apresentam v\u00e1rias limita\u00e7\u00f5es que as tornam \n\ninadequadas para implementa\u00e7\u00e3o de redes ac\u00fasticas submarinas. Lanbo et al. [4] organizaram uma \n\nboa descri\u00e7\u00e3o e compara\u00e7\u00e3o das comunica\u00e7\u00f5es submarinas empregando essas tr\u00eas tecnologias. \n\n \n\nTransmiss\u00e3o eletromagn\u00e9tica \n\nA principal desvantagem das transmiss\u00f5es eletromagn\u00e9ticas no ambiente ac\u00fastico submarino \u00e9 sua \n\natenua\u00e7\u00e3o devido \u00e0 absor\u00e7\u00e3o do meio. Essa absor\u00e7\u00e3o fica condicionado ao uso de baixas \n\nfrequ\u00eancias. A comunica\u00e7\u00e3o a baixas frequ\u00eancias requer grandes antenas, o que torna a \n\ncomunica\u00e7\u00e3o eletromagn\u00e9tica inadequada para implementa\u00e7\u00e3o de redes ac\u00fasticas submarinas \n\n[4][5][6]. Al\u00e9m disso, mesmo em baixas frequ\u00eancias, a propaga\u00e7\u00e3o a alcances \u00fateis requer pot\u00eancias \n\nelevadas, o que tamb\u00e9m \u00e9 um fator que limita a sua utiliza\u00e7\u00e3o, j\u00e1 que os n\u00f3s dessas redes s\u00e3o \n\nalimentados por baterias. \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 14 \n\n \n\nTransmiss\u00e3o \u00f3tica \n\nA transmiss\u00e3o \u00f3tica na \u00e1gua apesar de proporcionar altas taxas de transmiss\u00e3o com um consumo de \n\nenergia muito baixo, t\u00eam a desvantagem de propagar-se apenas a curtas dist\u00e2ncias, em \n\nconsequ\u00eancia da absor\u00e7\u00e3o e do espalhamento. A luz \u00e9 fortemente absorvida pela \u00e1gua e sofre grande \n\nespalhamento devido \u00e0s part\u00edculas em suspens\u00e3o, dificultando a comunica\u00e7\u00e3o e limitando a sua \n\naplica\u00e7\u00e3o a dist\u00e2ncias muito pequenas. Dependendo da turbidez na \u00e1gua, essa dist\u00e2ncia pode ser t\u00e3o \n\npequena quanto alguns cent\u00edmetros e, mesmo em \u00e1gua cristalina, o alcance pr\u00e1tico para essas \n\ntransmiss\u00f5es n\u00e3o excede alguns metros. O espalhamento da luz na \u00e1gua \u00e9 maior quanto maior for \n\nsua turbidez, que no caso da \u00e1gua do mar pode variar de poucas dezenas a alguns milhares de NTUs \n\n(Nephelometric Turbidity Unit). Al\u00e9m disso, mesmo para comunica\u00e7\u00e3o a pequenas dist\u00e2ncias, \u00e9 \n\nnecess\u00e1rio garantir alinhamento est\u00e1vel entre transmissor e recetor durante a transmiss\u00e3o para \n\ngarantir a efici\u00eancia da comunica\u00e7\u00e3o, o que no caso da din\u00e2mica do ambiente ac\u00fastico submarino \u00e9 \n\ndif\u00edcil de obter [5]. \n\nTransmiss\u00e3o ac\u00fastica \n\nA transmiss\u00e3o ac\u00fastica submarina apesar das suas limita\u00e7\u00f5es, \u00e9 a mais vers\u00e1til e a que \u00e9 \n\nefetivamente utilizada para comunica\u00e7\u00e3o no ambiente submarino, devido principalmente \u00e0s \n\nlimita\u00e7\u00f5es das transmiss\u00f5es eletromagn\u00e9ticas e \u00f3ticas. No entanto, o canal ac\u00fastico submarino tem \n\ncaracter\u00edsticas que restringem a sua aplicabilidade em redes ac\u00fasticas submarinas, tais como: \n\nvelocidade de propaga\u00e7\u00e3o baixa e vari\u00e1vel; banda estreita e dependente da dist\u00e2ncia entre \n\ntransmissor e recetor; grande consumo de energia nas transmiss\u00f5es [18]. \n\n2.4.  Canal ac\u00fastico submarino \n\n \n\nOs principais fatores que influenciam as comunica\u00e7\u00f5es ac\u00fasticas submarinas s\u00e3o: perdas de \n\ntransmiss\u00e3o, trajet\u00f3ria de propaga\u00e7\u00e3o, pot\u00eancia de transmiss\u00e3o, ru\u00eddo, multi-percurso e atraso de \n\npropaga\u00e7\u00e3o elevado e vari\u00e1vel. Todos estes fatores determinam a variabilidade temporal e espacial \n\ndo canal ac\u00fastico submarino e fazem com que a largura de banda dispon\u00edvel do canal ac\u00fastico \n\nsubmarino seja limitada e dependente tanto do alcance como da frequ\u00eancia. Nas comunica\u00e7\u00f5es \n\nac\u00fasticas submarinas as liga\u00e7\u00f5es podem ser classificadas de acordo com sua dist\u00e2ncia em: muito \n\nlongo, longo, m\u00e9dio, curta e muito curta [19]. A tabela 2.1 apresenta larguras de banda t\u00edpicas do \n\ncanal ac\u00fastico submarino para diferentes dist\u00e2ncias [19]. Nesta tabela pode-se verificar que quanto \n\nmaior forem as liga\u00e7\u00f5es, isto \u00e9 maior forem as dist\u00e2ncias nas comunica\u00e7\u00f5es ac\u00fasticas menor s\u00e9ra a \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 15 \n\nlargura de banda. As liga\u00e7\u00f5es ac\u00fasticas submarinas tamb\u00e9m s\u00e3o classificadas como vertical e \n\nhorizontal, de acordo com a dire\u00e7\u00e3o do raio de som em rela\u00e7\u00e3o ao fundo do oceano. \n\nSistema Dist\u00e2ncia [km] Largura de Banda [kHz] \n\nMuito longo 1000&lt;1 \n\nLongo 10-100 2-5 \n\nM\u00e9dio 1-10 ~10 \n\nCurto 0.1-1 20-50 \n\nMuito Curto&lt;0.1 >100 \n\n        Tabela 2.1: Largura de banda dispon\u00edvel para as diferentes dist\u00e2ncias em canais submarinos \n\nEm seguida s\u00e3o apresentados os principais fatores que influenciam as comunica\u00e7\u00f5es ac\u00fasticas \n\nsubmarinas: \n\n? Perdas de transmiss\u00e3o: as perdas de transmiss\u00e3o s\u00e3o calculadas considerando dois fatores: \n\na atenua\u00e7\u00e3o e a geometria da propaga\u00e7\u00e3o. A atenua\u00e7\u00e3o entre outros fatores \u00e9 provocada pela \n\nabsor\u00e7\u00e3o devido \u00e0 convers\u00e3o de energia ac\u00fastica em calor. A atenua\u00e7\u00e3o aumenta com a \n\ndist\u00e2ncia e frequ\u00eancia. A atenua\u00e7\u00e3o tamb\u00e9m \u00e9 causada pelo espalhamento e reflex\u00e3o (na \n\nsuperf\u00edcie e no fundo do oceano), refra\u00e7\u00e3o e dispers\u00e3o (devido ao deslocamento do ponto de \n\nreflex\u00e3o causada pelo vento na superf\u00edcie). A profundidade da \u00e1gua tamb\u00e9m desempenha \n\num papel fundamental na determina\u00e7\u00e3o da atenua\u00e7\u00e3o [5]. \n\nA geometria da propaga\u00e7\u00e3o tamb\u00e9m \u00e9 um fator importante no c\u00e1lculo das perdas de \n\ntransmiss\u00e3o. Existem dois tipos de geometria de propaga\u00e7\u00e3o: esf\u00e9rica, que caracteriza a \n\ncomunica\u00e7\u00e3o em \u00e1guas profundas, e cil\u00edndricas, o que caracteriza comunica\u00e7\u00f5es em \u00e1guas \n\nrasas [5]. \n\n? Ru\u00eddo: no canal ac\u00fastico submarino existe dois tipos de ru\u00eddo: \n\no o ru\u00eddo causado pelas m\u00e1quinas (bombas), e pelas actividades de navega\u00e7\u00e3o, \n\nespecialmente em \u00e1reas com tr\u00e1fego de navios, e \n\no o ru\u00eddo ambiental que est\u00e1 relacionado com a hidrodin\u00e2mica (movimento das \u00e1guas, \n\nincluindo as mar\u00e9s, correntes, tempestades, vento e chuva), e de fen\u00f3menos s\u00edsmicos \n\ne biol\u00f3gicos [5].  \n\n? Multi-Percurso: o multi-percurso pode ser respons\u00e1vel pela degrada\u00e7\u00e3o severa do sinal na \n\ncomunica\u00e7\u00e3o ac\u00fastica submarina, uma vez que gera interfer\u00eancia intersimb\u00f3lica (ISI) [5]. \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 16 \n\nA geometria do multi-percurso depende da configura\u00e7\u00e3o da liga\u00e7\u00e3o. Os canais verticais s\u00e3o \n\ncaracterizadas pelo pouco tempo de dispers\u00e3o, enquanto que os canais horizontais t\u00eam \n\npropaga\u00e7\u00e3o de multi-percurso extremamente longo. \n\n? Atraso elevado e vari\u00e1vel: a velocidade de propaga\u00e7\u00e3o no canal ac\u00fastico submarino \u00e9 de \n\ncinco ordens de magnitude menor do que no canal de r\u00e1dio terrestre. O atraso de propaga\u00e7\u00e3o \n\nmuito elevado (0,67 s/km) pode reduzir o rendimento do sistema consideravelmente [5]. \n\nPara al\u00e9m disso, a elevada varia\u00e7\u00e3o do atraso \u00e9 muito prejudicial na implementa\u00e7\u00e3o dos \n\nprotocolos de controlo de acesso ao meio, pois n\u00e3o permite uma estimativa precisa do tempo \n\nde ida e volta [5]. \n\nOs fatores descritos acima s\u00e3o causados pelas propriedades f\u00edsico-qu\u00edmicas do meio da \u00e1gua, tais \n\ncomo temperatura, salinidade e press\u00e3o, e com as suas varia\u00e7\u00f5es temporais no espa\u00e7o [5]. Essas \n\nvaria\u00e7\u00f5es, em conjunto com a natureza da guia de onda do canal, fazem com que o canal ac\u00fastico \n\nsubmarino seja altamente temporal e espacialmente vari\u00e1vel. \n\n2.4.1.  Velocidade de propaga\u00e7\u00e3o do som \n\n \n\nA velocidade de propaga\u00e7\u00e3o do som na \u00e1gua \u00e9 de aproximadamente 1500 m/s. Isso \u00e9 mais de 4 \n\nvezes a velocidade de propaga\u00e7\u00e3o do som no ar, mas \u00e9 cinco ordens de grandeza menor que a \n\npropaga\u00e7\u00e3o eletromagn\u00e9tica no ar. Essa baixa velocidade provoca grande lat\u00eancia nas transmiss\u00f5es \n\nac\u00fasticas submarinas (aproximadamente 0.67 s/km, ou 1 segundo a cada 1.500 metros), que \u00e9 um \n\ndos maiores problemas no desenvolvimento de redes ac\u00fasticas submarinas, porque dificulta o \n\ncontrolo de acesso ao meio, localiza\u00e7\u00e3o e sincronismo. Para al\u00e9m de baixa, a velocidade de \n\npropaga\u00e7\u00e3o do som na \u00e1gua \u00e9 vari\u00e1vel, dependendo da profundidade, da temperatura e da salinidade \n\ndo meio. A f\u00f3rmula da velocidade de propaga\u00e7\u00e3o do som na \u00e1gua do mar descrita por Wilson em \n\n[11], e expressa em m/s, pode ser representada usando uma aproxima\u00e7\u00e3o simplificada, com os \n\ntermos mais significativos atrav\u00e9s da express\u00e3o (2.1). \n\n \n\n? = 1449 + 4.6? ? 0.055?2 + 1.39(? ? 35) + 0.017?                         (2.1) \n \n\nEm (2.1), ? representa a velocidade em m/s, ? a temperatura da \u00e1gua em graus c\u00e9lsius, ? a \n\nprofundidade em metros e ? a salinidade, em partes por mil (ppm) (varia de 32 a 37, sendo 35 um \n\nvalor t\u00edpico). A equa\u00e7\u00e3o (2.1) d\u00e1 origem \u00e0 curva conhecida como perfil de velocidade, que \u00e9 uma \n\ncurva que representa a varia\u00e7\u00e3o da velocidade do som em fun\u00e7\u00e3o da profundidade. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 17 \n\nA temperatura da \u00e1gua nos oceanos, a partir de uma pequena camada superficial, diminui com o \n\naumento da profundidade, mas atinge um m\u00ednimo de aproximadamente 4 graus Celsius a uma \n\nprofundidade que varia em fun\u00e7\u00e3o da latitude, permanecendo constante a partir desta profundidade. \n\nDesprezando o efeito da varia\u00e7\u00e3o da salinidade, que \u00e9 desprez\u00edvel em mar aberto, chega-se ao perfil \n\nde velocidade, apresentado na figura 2.3(a), (adaptada a refer\u00eancia [14]). Nesta figura o eixo \n\nhorizontal (c) representa a velocidade do som e o eixo vertical (z) a profundidade. \n\nO ponto ?? \u00e9 a velocidade do som na profundidade do leito oce\u00e2nico e ?? a profundidade na qual a \n\nvelocidade se iguala \u00e0 da superf\u00edcie. \n\n \n\nFigura 2.3: Varia\u00e7\u00e3o da velocidade de propaga\u00e7\u00e3o do som no mar (a) e canal SOFAR (Sound Fixing \n\nAnd Ranging) (b). \n\nO ponto de inflex\u00e3o dessa curva, ??, delimita duas regi\u00f5es: acima, a termoclina principal e abaixo, \n\na isoterma profunda, origem dos efeitos da refrac\u00e7\u00e3o que criam o canal SOFAR (Sound Fixing And \n\nRanging), tal como apresentado na figura 2.3 (b) (adaptada a refer\u00eancia [14]). A termoclina \u00e9 a \n\nfaixa de profundidade no mar que apresenta temperatura decrescente, compreendida entre a camada \n\nsuperficial e a profundidade onde a temperatura atinge seu valor m\u00ednimo (4 graus C\u00e9lsius) [14]. \n\nNesta figura o eixo horizontal de (b) (r) representa dist\u00e2ncia horizontal e o eixo vertical (z) \u00e9 a \n\nprofundidade [14]. Este canal forma uma guia horizontal de ondas ac\u00fasticas cujo eixo central se \n\nlocaliza na separa\u00e7\u00e3o dessas duas regi\u00f5es [14]. Esse efeito ocorre por causa da refra\u00e7\u00e3o que as \n\nondas ac\u00fasticas sofrem nas camadas adjacentes, com velocidades diferentes [14]. \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 18 \n\n2.4.2.  Trajet\u00f3rias de propaga\u00e7\u00e3o \n\n \n\nO fen\u00f3meno da refra\u00e7\u00e3o ocorre quando as ondas atravessam interfaces entre meios que possuam \n\ndiferentes velocidades de propaga\u00e7\u00e3o. O que relaciona as velocidades nos dois meios \u00e9 o \u00edndice de \n\nrefra\u00e7\u00e3o relativo ?21. O desvio que a trajet\u00f3ria do som na \u00e1gua sofre quando passa de um meio para \n\noutro depende das diferen\u00e7as de velocidade entre esses meios. A lei de Shell relaciona os \u00e2ngulos \n\nde incid\u00eancia (??) e de refra\u00e7\u00e3o (??) com os \u00edndices de refra\u00e7\u00e3o dos meios e, consequentemente, \n\ncom suas respectivas velocidades (?1 e ?2) atrav\u00e9s da seguinte rela\u00e7\u00e3o [14]. \n\n???(??)\n\n???(??)\n=\n?2\n?1\n= ?21 =\n\n?1\n\n?2\n                                                       (2.2) \n\n \n\nA figura 2.4 (a) mostra esse efeito para o som quando atravessa a interface entre dois meios com \n\nvelocidades distintas e a figura 2.4 (b) mostra o efeito curvil\u00edneo de uma onda sonora propagando-\n\nse de uma regi\u00e3o de menor velocidade para uma de maior velocidade com varia\u00e7\u00f5es graduais. O \n\nraio ac\u00fastico tende a curvar-se na dire\u00e7\u00e3o da regi\u00e3o de menor velocidade. \n\n \n\n \n\nFigura 2.4: Refra\u00e7\u00e3o do som entre dois meios com velocidades distintas (a) e em meio com varia\u00e7\u00e3o \n\ngradual de velocidade (b).  \n\nPode concluir-se que o som no mar pode propagar-se em trajet\u00f3rias curvil\u00edneas e, em alguns casos, \n\nnunca atingir determinadas regi\u00f5es, conhecidas como zonas de sombra. Essas zonas s\u00e3o locais \n\ninalcan\u00e7\u00e1veis por transmiss\u00f5es ac\u00fasticas, como apresentado na figura 2.5, (adaptada de refer\u00eancia \n\n[18]). O mesmo fen\u00f3meno \u00e9 respons\u00e1vel por forma\u00e7\u00e3o de zonas de converg\u00eancia, locais onde, \n\ndevido \u00e0s trajet\u00f3rias c\u00edclicas, h\u00e1 uma converg\u00eancia de transmiss\u00f5es, por\u00e9m provenientes de \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 19 \n\ntrajet\u00f3rias diferentes, o que as faz chegar ao ponto de converg\u00eancias em tempos diferentes. No caso \n\nde transmiss\u00f5es digitais esse efeito causa o aumento de interfer\u00eancias inters\u00edmbolica. \n\n \n\n \n\nFigura 2.5: Zonas de sombra e de converg\u00eancia. \n\nEsses efeitos ocorrem principalmente em \u00e1guas profundas, porque em \u00e1guas rasas a velocidade n\u00e3o \n\nchega a sofrer a invers\u00e3o apresentada na figura 2.3 (a). No entanto, em \u00e1guas rasas, outro problema \n\nque ocorre na propaga\u00e7\u00e3o de sinais ac\u00fasticos \u00e9 o da reflex\u00e3o provocada pelas m\u00faltiplas reflex\u00f5es do \n\nsinal transmitido, na superf\u00edcie e no leito oce\u00e2nico, como mostrado na figura 2.6. Esse efeito \n\ntamb\u00e9m provoca aumento da interfer\u00eancia inters\u00edmbolica, devido \u00e0 chegada no recetor de sinais \n\nprovenientes da mesma fonte, mas com trajet\u00f3rias distintas, e atrasos distintos, o que \u00e9 agravado \n\npela baixa velocidade de propaga\u00e7\u00e3o. \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 20 \n\n \n\nFigura 2.6: Reflex\u00e3o do sinal ac\u00fastico na superf\u00edcie e no fundo. \n\n2.4.3.  Perdas de transmiss\u00e3o \n\n \n\nAs perdas de transmiss\u00e3o no canal ac\u00fastico submarino dependem tanto da dist\u00e2ncia transmissor-\n\nrecetor quanto da frequ\u00eancia do sinal transmitido, pela seguinte rela\u00e7\u00e3o [14]: \n\n ?(?,?) = ???(?)?                                                                                                         (2.3) \n\n \n\nA express\u00e3o (2.3) pode ser reescrita da seguinte forma: \n\n \n\n 10???10?(?,?) = ? \u00d7 10???10(?) + ? \u00d7 10???10(?(?))                                  (2.4) \n\n \n\nEm (2.4), ?(?,?) representa a atenua\u00e7\u00e3o em fun\u00e7\u00e3o da dist\u00e2ncia ? e da frequ\u00eancia ?, ? \u00e9 o factor de \n\nespalhamento e ?(?) \u00e9 o coeficiente de absor\u00e7\u00e3o. O factor ? determina a geometria da propaga\u00e7\u00e3o, \n\nquando para ? = 1 o espalhamento \u00e9 cil\u00edndrico e quando ? = 2 para espalhamento \u00e9 esf\u00e9rico. \n\nNormalmente, em termos pr\u00e1ticos, \u00e9 adotado um valor de ? = 1,5 [14]. \n\nO coeficiente de absor\u00e7\u00e3o \u00e9 expresso em dB/km atrav\u00e9s da f\u00f3rmula emp\u00edrica de Thorp e a \n\nfrequ\u00eancia \u00e9 dada em kHz para comunica\u00e7\u00f5es ac\u00fasticas submarinas [14]: \n\n \n\n10????(?) = {\n0.11 \n\n?2\n\n1+?2\n+ 44 \n\n?2\n\n4100+?\n+ 2.75.10?4 ?2 + 0.003,   ? ? 0.4\n\n0.002 + 0.01(\n?\n\n(1+?)\n) + 0.011?,                               ? ? 0.4\n\n               (2.5)     \n\n \n\nAs perdas por absor\u00e7\u00e3o s\u00e3o divididas em duas partes de frequ\u00eancias, uma frequ\u00eancia abaixo dos 400 \n\nHz e uma outra acima dos 400 Hz.  \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 21 \n\nO ru\u00eddo no canal ac\u00fastico submarino tem sido estudado e modelado em fun\u00e7\u00e3o de 4 componentes \n\nprincipais: turbul\u00eancia, ru\u00eddo da navega\u00e7\u00e3o, vento e ru\u00eddo t\u00e9rmico. A densidade espectral de \n\npot\u00eancia desses ru\u00eddos, em fun\u00e7\u00e3o da frequ\u00eancia (em kHz) \u00e9 expressa nas seguintes f\u00f3rmulas [13]: \n\n \n\nlog?? (?) = 1.7 ? 3log?                                                                                        (2.6) \n\nlog?? (?) = 4 + 2(? ? 0.5) + 2.6log? ? 6 log(? + 0.03)                           (2.7) \n\nlog?? (?) = 5 + 0.75?\n1\n2 + 2log? ? 4log(? + 0.4)                                      (2.8) \n\nlog??? (?) = ?1.5 + 2log?                                                                                   (2.9)                                                                         \n\n \n\nNestas express\u00f5es, ?? representa o ru\u00eddo por turbul\u00eancias, ?? o ru\u00eddo de navega\u00e7\u00f5es, ?? o ru\u00eddo dos \n\nventos, ??? o ru\u00eddo t\u00e9rmico, ? varia de 0 a 1, e ? \u00e9 a velocidade do vento em m/s. O ru\u00eddo \n\ntotal, ?(?) \u00e9 a soma desses quatro componentes [13]: \n\n \n\n ?(?) = ??(?) + ??(?) + ??(?) + ???(?)                                                    (2.10) \n \n\nA combina\u00e7\u00e3o dos efeitos de atenua\u00e7\u00e3o, provocados pelo espalhamento e pela absor\u00e7\u00e3o, \n\napresendada pela experss\u00e3o (2.4), com o ru\u00eddo total apresentado pela express\u00e3o (2.10), determina o \n\ngr\u00e1fico da Rela\u00e7\u00e3o Sinal Ru\u00eddo (SNR) em rela\u00e7\u00e3o a frequ\u00eancia, para cada dist\u00e2ncia emissor/recetor, \n\ncomo mostra a f\u00edgura 2.7, (adaptada de [19]). \n\n \n\n \n\nFigura 2.7: Rela\u00e7\u00e3o Sinal Ru\u00eddo em fun\u00e7\u00e3o da frequ\u00eancia. \n\nA partir deste gr\u00e1fico pode concluir-se que a densidade espectral de pot\u00eancia do ru\u00eddo n\u00e3o depende \n\napenas da dist\u00e2ncia, mas tamb\u00e9m das frequ\u00eancias usadas na comunica\u00e7\u00e3o. A melhor frequ\u00eancia para \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 22 \n\ntransmiss\u00f5es ac\u00fasticas submarinas, a que apresenta maior Rela\u00e7\u00e3o Sinal Ru\u00eddo (SNR) depende da \n\ndist\u00e2ncia emissor/recetor, sendo tanto menor quanto maior for essa dist\u00e2ncia. Portanto, o ru\u00eddo total \n\nafecta a comunica\u00e7\u00e3o entre os n\u00f3s quando a dist\u00e2ncia variar. \n\nA banda d\u00edsponvel para as transmiss\u00f5es tamb\u00e9m varia com essa dist\u00e2ncia, sendo maior quando \n\nmenor for as dist\u00e2ncias entre emissor/recetor. Portanto a banda de transmiss\u00e3o dispon\u00edvel no canal \n\nac\u00fastico, al\u00e9m de estreita em rela\u00e7\u00e3o quando comparada com a banda do canal eletromagn\u00e9tico \n\nterrestre, \u00e9 vari\u00e1vel com a dist\u00e2ncia emissor/recetor, uma caracter\u00edstica importante do canal ac\u00fastico \n\nsubmarino que precisa ser tido em considera\u00e7\u00e3o na implementa\u00e7\u00e3o das redes de ac\u00fastica submarina. \n\n2.5.  Simulador de rede ac\u00fastica submarina \n\n \n\nA maior parte dos trabalhos publicados na \u00e1rea de redes ac\u00fasticas submarinas apresentam resultados \n\nanal\u00edticos havendo poucos com resultados experimentais. Os que apresentam resultados de \n\nsimula\u00e7\u00e3o, nem todos informam os detalhes da ferramenta e a configura\u00e7\u00e3o de simula\u00e7\u00e3o usada. Os \n\nque descrevem um pouco melhor a simula\u00e7\u00e3o, fazem-no com dados obtidos em simuladores \n\ndesenvolvidos pelos pr\u00f3prios pesquisadores, ou em adapta\u00e7\u00f5es no NS-2, sem muitos detalhes sobre \n\no modelo da comunica\u00e7\u00e3o ac\u00fastica submarina (de [23] a [34]). \n\nNas redes ac\u00fasticas submarinas ainda n\u00e3o h\u00e1 um consenso sobre um modelo padr\u00e3o de simula\u00e7\u00e3o. \n\nA principal dificuldade consiste na defini\u00e7\u00e3o do modelo da comunica\u00e7\u00e3o ac\u00fastica submarina, que \n\ntem caracter\u00edsticas absolutamente distintas do canal eletromagn\u00e9tico terrestre. Essa lacuna dificulta \n\no desenvolvimento de protocolos por n\u00e3o permitir uma avalia\u00e7\u00e3o comparativa fi\u00e1vel da \n\nperformance, especialmente para os protocolos de acesso ao meio e de rede, por n\u00e3o haver ainda \n\numa refer\u00eancia de simula\u00e7\u00e3o consolidada e amplamente aceite. \n\nUma iniciativa no sentido de fornecer m\u00f3dulos para simula\u00e7\u00e3o de redes ac\u00fasticas submarinas no \n\nNS-2 tem sido desenvolvida pelo departamento de engenharia el\u00e9trica da Universidade de P\u00e1dova, \n\nIt\u00e1lia [22]. Essa iniciativa baseia-se na defini\u00e7\u00e3o do modelo do canal ac\u00fastico submarino descrito \n\npor Harris e Zorzi, na qual os autores dividem as fun\u00e7\u00f5es e caracter\u00edsticas do canal ac\u00fastico \n\nsubmarino e da camada f\u00edsica em 4 componentes do NS-2: propaga\u00e7\u00e3o, canal, meio f\u00edsico e \n\nmodula\u00e7\u00e3o [22]. \n\nO simulador WOSS \u00e9 outra proposta mais recente, apresentada por Guerra et al. [17], onde os \n\nautores descrevem simula\u00e7\u00e3o baseada no NS-2 e no NS2-MIRACLE, utilizando o modelo de \n\npropaga\u00e7\u00e3o do software Bellhop ray tracing [35]. Esta proposta agrega conhecimentos de perfis de \n\nvelocidade do som, dados de batimetria e informa\u00e7\u00f5es sobre os sedimentos do leito oce\u00e2nico, \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 23 \n\nobtidos a partir de base de dados livres na internet, para proporcionar ao modelo da comunica\u00e7\u00e3o \n\nac\u00fastica submarina maior fiabilidade na tradu\u00e7\u00e3o das condi\u00e7\u00f5es ambientais [35]. \n\n2.5.1. Modelo f\u00edsico ac\u00fastico submarino no simulador NS-2 \n\n \n\nNo simulador de rede NS-2 o modelo f\u00edsico ac\u00fastico submarino est\u00e1 dividido em 4 componentes ou \n\nmodelos como \u00e9 apresentado na figura 2.8 (adaptada de refer\u00eancia [22]): o modelo de propaga\u00e7\u00e3o, o \n\nmodelo do canal, o modelo da camada f\u00edsica, e o modelo de modula\u00e7\u00e3o. Na figura A.1 (ver anexo \n\nA) s\u00e3o apresentadas de forma mais detalhada as caracter\u00edsticas de cada um dos componentes do \n\nmodelo f\u00edsico ac\u00fastico submarino do simulador de rede NS-2. \n\nO modelo de propaga\u00e7\u00e3o calcula a Rela\u00e7\u00e3o Sinal Ru\u00eddo no recetor e a abrang\u00eancia da interfer\u00eancia \n\ndas transmiss\u00f5es com base nas caracter\u00edsticas da atenua\u00e7\u00e3o do sinal ac\u00fastico e no ru\u00eddo ambiental. \n\nA atenua\u00e7\u00e3o total \u00e9 obtida com base nas perdas por espalhamento e nas perdas por absor\u00e7\u00e3o, \n\nsegundo a aproxima\u00e7\u00e3o de Thorp descrito na se\u00e7\u00e3o 2.4.3 pela express\u00e3o (2.5) [14]. \n\nO modelo de propaga\u00e7\u00e3o no simulador de rede considera 4 factores tradicionais de ru\u00eddo: \n\nturbul\u00eancias, navega\u00e7\u00f5es, vento e ru\u00eddo t\u00e9rmico [13], permitindo atribui\u00e7\u00f5es de pesos diferentes a \n\ncada uma dessas fontes para adequarem o modelo aos diversos cen\u00e1rios poss\u00edveis do ambiente \n\nsubmarino. \n\nComo a atenua\u00e7\u00e3o do sinal ac\u00fastico submarino depende da frequ\u00eancia, o modelo calcula a \n\nfrequ\u00eancia cuja atenua\u00e7\u00e3o \u00e9 menor, em fun\u00e7\u00e3o da dist\u00e2ncia transmissor-recetor, para poder calcular \n\na Rela\u00e7\u00e3o Sinal Ru\u00eddo (SNR) no recetor. Calcula tamb\u00e9m a banda dispon\u00edvel para as dist\u00e2ncias \n\ntransmissor-recetor, identificando as frequ\u00eancias onde a atenua\u00e7\u00e3o \u00e9 3 dB maior que a m\u00ednima. \n\nO modelo do canal calcula os atrasos de propaga\u00e7\u00e3o, com base nas caracter\u00edsticas de velocidade \n\nvari\u00e1vel do canal ac\u00fastico submarino. Leva em considera\u00e7\u00e3o profundidades, temperaturas e \n\nsalinidade do meio. \n\nO modelo f\u00edsico calcula estat\u00edsticas de recep\u00e7\u00e3o de pacotes, tempos de transmiss\u00e3o do pacote, erro \n\ndo pacote e a capacidade em bit/s. O modelo requer informa\u00e7\u00f5es sobre pot\u00eancia de transmiss\u00e3o, \n\nconsumo de energia e defini\u00e7\u00e3o da pot\u00eancia limiar de rece\u00e7\u00e3o. Esses valores variam de equipamento \n\npara equipamento e os valores padr\u00e3o do modelo s\u00e3o estabelecidos com base no modem ac\u00fastico \n\nWHOI [20]. \n\nO modelo de modula\u00e7\u00e3o fornece o tipo de modula\u00e7\u00e3o, sistema de codifica\u00e7\u00e3o, n\u00edvel de ru\u00eddo, sendo \n\ntamb\u00e9m respons\u00e1vel pelo c\u00e1lculo da taxa de transmiss\u00e3o bin\u00e1ria (R), taxa de erro do bit (BER) e a \n\ntaxa de erro de pacote (PER), obtidos atrav\u00e9s da rela\u00e7\u00e3o sinal ru\u00eddo. \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 24 \n\nNa pr\u00f3xima subse\u00e7\u00e3o apresentaremos as fun\u00e7\u00f5es de transfer\u00eancia de cada um dos modelos descritos \n\nem cima. \n\n \n\nFigura 2.8: Modelo do canal e da camada f\u00edsica ac\u00fastica submarina no NS-2.  \n\n2.5.1.1. Fun\u00e7\u00e3o de transfer\u00eancia do modelo de propaga\u00e7\u00e3o \n\n \n\nA figura 2.9 apresenta a fun\u00e7\u00e3o de transfer\u00eancia do modelo de propaga\u00e7\u00e3o.  \n\n \n\n                     Figura 2.9: Fun\u00e7\u00e3o de transfer\u00eancia do modelo de propaga\u00e7\u00e3o. \n\nO modelo de propaga\u00e7\u00e3o no simulador de rede NS-2 recebe os seguintes par\u00e2metros de entrada: \n\npot\u00eancia de interfer\u00eancia (?i), frequ\u00eancia (f em kHz), a dist\u00e2ncia (?), o coeficiente de \n\natenua\u00e7\u00e3o ?(?), os coeficientes de propaga\u00e7\u00e3o (?) para determinar a geometria da propaga\u00e7\u00e3o tal \n\ncomo descrito na equa\u00e7\u00e3o em [14]. Tamb\u00e9m no modelo de propaga\u00e7\u00e3o temos que ter em \n\nconsidera\u00e7\u00e3o as faixas ou bandas de frequ\u00eancias superiores e inferiores (??,??) que s\u00e3o utilizadas no \n\nc\u00e1lculo da largura de banda, a pot\u00eancia de transmiss\u00e3o ??  e alguns fatores como a temperatura (th), \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 25 \n\no vento (w), a turbul\u00eancia (t), e a navega\u00e7\u00e3o (s) para determinar a densidade espectral de pot\u00eancia \n\ntotal do ru\u00eddo. \n\nAssim de acordo com os par\u00e2metros de entrada referidos, o modelo de propaga\u00e7\u00e3o devolve os \n\nseguintes par\u00e2metros de sa\u00edda: atenua\u00e7\u00e3o total ?(?,?), a Rela\u00e7\u00e3o Sinal Ru\u00eddo no recetor (SNR), a \n\nInterfer\u00eancia da Rela\u00e7\u00e3o Sinal Ru\u00eddo (SINR) e a largura de banda (B) em Hz. \n\nA atenua\u00e7\u00e3o total \u00e9 obtida a partir da rela\u00e7\u00e3o [14] descrita na sec\u00e7\u00e3o 2.4.3. \n\nNo modelo propaga\u00e7\u00e3o o c\u00e1lculo da Rela\u00e7\u00e3o Sinal Ru\u00eddo (SNR) no recetor \u00e9 feito tendo em \n\nconsidera\u00e7\u00e3o a atenua\u00e7\u00e3o total ?(?,?), a pot\u00eancia da transmiss\u00e3o ??, e a densidade espectral de \n\npot\u00eancia total do ru\u00eddo N(f). O c\u00e1lculo da Rela\u00e7\u00e3o Sinal Ru\u00eddo no recetor \u00e9 dado pela seguinte \n\nexpress\u00e3o [22]: \n\n ??? =\n??/?(?,?)\n\n?(?)\n                                                                                                (2.11) \n\nNo modelo de propaga\u00e7\u00e3o para al\u00e9m do c\u00e1lculo da Rela\u00e7\u00e3o Sinal Ru\u00eddo no recetor (SNR), tamb\u00e9m \n\nse tem que ter em conta a Interfer\u00eancia da Rela\u00e7\u00e3o Sinal Ru\u00eddo (SINR) que pode ser calculada pela \n\nseguinte express\u00e3o [22]: \n\n ???? =\n??/?(?,?)\n\n?(?)+??\n  .                                                                                           (2.12) \n\nA pot\u00eancia de interfer\u00eancia, ??, \u00e9 dada por [35]: \n\n             ?? = ? |?\n2(?)|??0                                                                                            (2.13) \n\nEsta express\u00e3o traduz o somat\u00f3rio das respostas impulsivas do sinal dado pela interfer\u00eancia \n\ninters\u00edmbolica. Em que ? representa a resposta impulsiva. \n\nNo simulador de rede o valor da pot\u00eancia de interfer\u00eancia (??) \u00e9 calculada usando a fun\u00e7\u00e3o \n\nMInterference. Essa fun\u00e7\u00e3o implementa um modelo de interfer\u00eancia respons\u00e1vel por verificar \n\nalgum tipo de interfer\u00eancia causado na transmiss\u00e3o do pacote. Esse modelo de interfer\u00eancia pode \n\nser substitu\u00eddo por outro modelo utilizando os seguintes m\u00e9todos: addToInterference() e \n\ngetInterferencePower() [35]. \n\n \n\n \n\n \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 26 \n\n2.5.1.2. Fun\u00e7\u00e3o de transfer\u00eancia do modelo do canal \n\n \n\nA figura 2.10 apresenta a fun\u00e7\u00e3o de transfer\u00eancia do modelo do canal no simulador de rede NS-2. O \n\nmodelo do canal \u00e9 respons\u00e1vel por calcular os atrasos de propaga\u00e7\u00e3o, e determinar as colis\u00f5es entre \n\nn\u00f3s vizinhos. \n\n \n\n \n\nFigura 2.10: Fun\u00e7\u00e3o de transfer\u00eancia do modelo canal. \n\nO modelo do canal recebe os seguintes par\u00e2metros de entrada: a temperatura (t) em graus celsius \n\n(?), a salinidade (S) na \u00e1gua em ppm (partes por mil), a profundidade (Z) em metros, as \n\ncoordenadas (?? , ??, ??) do transmissor, e as coordenadas ( ?? , ?? , ?? ) do recetor em metros. \n\nO modelo do canal como par\u00e2metro de sa\u00edda fornece o c\u00e1lculo do atraso de propaga\u00e7\u00e3o (Pdelay). O \n\nc\u00e1lculo do atraso de propaga\u00e7\u00e3o \u00e9 dado pela seguinte express\u00e3o [35]: \n\n \n\n \n\n \n\nOnde Totaldist representa a dist\u00e2ncia total, e c a velocidade de propaga\u00e7\u00e3o do som em ac\u00fastica \n\nsubmarina (em m/s). \n\nA dist\u00e2ncia total (Totaldist) pode ser calculada em fun\u00e7\u00e3o das coordenadas ??, ??, ?? do transmissor \n\ne coordenadas,?? , ?? , ?? do recetor atrav\u00e9s da seguinte express\u00e3o [35]: \n\n \n\n \n\n \n\nA velocidade de propaga\u00e7\u00e3o do som na \u00e1gua (c) depende da temperatura na \u00e1gua que por sua vez \n\ndepende na profundidade, em consequ\u00eancia de alguns efeitos de n\u00e3o linearidade. Para al\u00e9m da \n\ntemperatura e profundidade tamb\u00e9m devemos considerar o valor da salinidade na \u00e1gua (em ppm) \n\npara fazer o c\u00e1lculo da velocidade de propaga\u00e7\u00e3o. Normalmente o valor padr\u00e3o para a salinidade \n\nnos oceanos do mundo \u00e9 (35 ppm), mas tamb\u00e9m pode tomar outros valores. Por exemplo, no mar \n\nb\u00e1ltico o valor da salinidade \u00e9 de (9 ppm). \n\n?????? =\n?????????\n\n?\n                                                                                         (2.14) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n????????? = ?((?? ? ??)\n\n2 + (?? ? ??)\n2 + (?? ? ??)\n\n2\n)                               (2.15) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 27 \n\nNo modelo do canal ac\u00fastico submarino do simulador de rede NS-2, o valor da velocidade de \n\npropaga\u00e7\u00e3o do som na \u00e1gua \u00e9 calculada utilizando a express\u00e3o [35]. \n\n? = 1448.5 + 45.7? ? 5.2?2 + 0.23?2+(1.333?0.126t+0.009?2)(? ? 35) + 16.3? + 0.18?2          (2.16)  \n\nOnde (t) \u00e9 a temperatura, (z) \u00e9 a profundidade e (s) \u00e9 a salinidade na \u00e1gua. \n\n2.5.1.3. Fun\u00e7\u00e3o de transfer\u00eancia do modelo de modula\u00e7\u00e3o \n\nA figura 2.11 apresenta a fun\u00e7\u00e3o de transfer\u00eancia do modelo de modula\u00e7\u00e3o. No simulador de rede \n\nNS-2 o modelo de modula\u00e7\u00e3o apresenta caracter\u00edsticas sobre o tipo de modula\u00e7\u00e3o, sistema de \n\ncodifica\u00e7\u00e3o e o n\u00edvel do ru\u00eddo para comunica\u00e7\u00f5es ac\u00fasticas submarinas. O tipo de sistema de \n\nmodula\u00e7\u00e3o usado no simulador de rede NS-2 \u00e9 o BPSK (Binary Phase Shift Keying), modula\u00e7\u00e3o \n\ncoerente onde nas transi\u00e7\u00f5es de um bit 0 para um bit 1, ou de um bit 1 para um bit 0, a portadora \n\nsofre uma altera\u00e7\u00e3o de fase. \n\n \n\nFigura 2.11: Fun\u00e7\u00e3o de transfer\u00eancia do modelo de modula\u00e7\u00e3o.  \n\nNo modelo de modula\u00e7\u00e3o obt\u00eam-se o d\u00e9bito bin\u00e1rio (R), taxa de erros de bit (????) e a taxa de erro \n\ndo pacote (????), a partir da rela\u00e7\u00e3o sinal ru\u00eddo. Para efectuar os c\u00e1lculos dos valores dos \n\npar\u00e2metros citados, o modelo de modula\u00e7\u00e3o recebe os seguintes par\u00e2metros de entrada: pot\u00eancia do \n\nsinal recebido ( ?? ), pot\u00eancia do ru\u00eddo ( ?? ), e a largura de banda (B) dada pelo sistema de \n\nmodula\u00e7\u00e3o. \n\nNo sistema de modula\u00e7\u00e3o desenvolvido no simulador de rede NS-2 n\u00e3o se define diretamente a taxa \n\nde transmiss\u00e3o, mas sim a banda utilizada na modula\u00e7\u00e3o do sinal transmitido. Internamente a banda \n\n\u00e9 convertida em taxa de transmiss\u00e3o na propor\u00e7\u00e3o de 1bps para cada 2Hz dispon\u00edvel na banda do \n\ncanal ac\u00fastico. O d\u00e9bito bin\u00e1rio pode ser calculado usando a seguinte express\u00e3o [35]: \n\n  \n\n \n\nEm (2.17), T representa a dura\u00e7\u00e3o do s\u00edmbolo. A taxa de erro de bit ???? \u00e9 por sua vez calculada \n\npela seguinte express\u00e3o [35]: \n\n  \n\n \n\n \n\n? =\n1\n\n?\n=\n\n?\n\n2\n                                                                                            (2.17)                                                                        \n\n \n\n \n\n \n\n \n\n \n\n \n\n???? =\n1\n\n2\n ????  (?\n\n??\n\n??\n  )                                                                                     (2.18)  \n\n \n\n \n\n \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 28 \n\nEm (2.18), erfc(x) \u00e9 uma fun\u00e7\u00e3o complementar do erro. Essa fun\u00e7\u00e3o complementar do erro \u00e9 obtida \n\npela seguinte express\u00e3o [35]: \n\n  \n\n \n\nA taxa de erro de bit tamb\u00e9m pode ser utilizada para determinar a taxa de erro do pacote pela \n\nseguinte express\u00e3o [35]: \n\n????=1 ? (1 ? ????)\n???? \u00d78.0                                                                      (2.20) \n\nA express\u00e3o (2.20) traduz a probabilidade de um pacote com um tamanho de size bytes conter um \n\nbit errado. \n\n2.5.1.4. Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico \n\n \n\nA figura 2.12 apresenta a fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico. Tal como j\u00e1 referido no \n\nsimulador de rede NS-2 sup\u00f5e-se que \u00e9 utilizado um hardware espec\u00edfico para comunica\u00e7\u00f5es \n\nac\u00fasticas submarinas designado por modelo micromodem WHOI [20]. Neste modelo s\u00e3o definidos \n\nalguns par\u00e2metros de entrada como a pot\u00eancia m\u00e1xima de transmiss\u00e3o ( ?? ), pot\u00eancia limiar \n\nrecebido ( ?? ), e alguns par\u00e2metros de interface de consumo de energia. \n\n \n\nFigura 2.12: Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico. \n\nO modelo f\u00edsico recebe os seguintes par\u00e2metros de entrada: taxa de erros de bit (BER), taxa de erros \n\ndo pacote (PER), rela\u00e7\u00e3o sinal ru\u00eddo interferente (SINR), rela\u00e7\u00e3o sinal ru\u00eddo no recetor (SNR), \n\natenua\u00e7\u00e3o total (?(?,?)), largura de banda, (B), tamanho do pacote em bytes (size) e o d\u00e9bito \n\nbin\u00e1rio (R). \n\nComo par\u00e2metros de sa\u00edda o modelo f\u00edsico fornece: tempo de transmiss\u00e3o do pacote (TTP), erro do \n\npacote (ERR), e a capacidade do canal em bit/s (C). \n\nO tempo de transmiss\u00e3o do pacote em bit/s \u00e9 calculado utilizando a seguinte express\u00e3o [35]: \n\n \n\n??? =\n8\u00d7????\n\n?\n                                                                                                                                         (2.21)   \n\n \n\nOnde size \u00e9 o tamanho do pacote em bytes e R representa o d\u00e9bito bin\u00e1rio (em bit/s). \n\n????(?) =\n2\n\n??\n? ???\n\n2+00\n\n?\n ??                                                                            (2.19) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 29 \n\nO d\u00e9bito m\u00e1ximo te\u00f3rico permitido pelo canal (em bit/s) \u00e9 obtido a partir do teorema de Shannon-\n\nHartley para canais reais: \n\n \n\n ? = ? \u00d7 ???2(1 + ???)                                                                                             (2.22) \n\nOnde B \u00e9 a largura de banda do canal, \u00e9 definido em 3 dB para faixas ou bandas de frequ\u00eancias \n\nsuperiores e inferiores (??, ?? ) em Hz e SNR representa a Rela\u00e7\u00e3o Sinal Ru\u00eddo no recetor \n\n(representado como um fra\u00e7\u00e3o de pot\u00eancias em unidades lineares, i.e: n\u00e3o em decib\u00e9is (dB)). \n\nO modelo f\u00edsico para al\u00e9m de fornecer os c\u00e1lculos dos tempos de transmiss\u00f5es dos pacotes e as \n\ncapacidades em bit/s fornece tamb\u00e9m o c\u00e1lculo do erro do pacote e o atraso total. \n\n2.5.1.5. An\u00e1lise do modelo de propaga\u00e7\u00e3o do NS-2 \n\n \n\nPor forma a avaliar o modelo do canal ac\u00fastico submarino implementado no simulador NS-2, foram \n\nrealizadas v\u00e1rias simula\u00e7\u00f5es, comparando os resultados dos testes com os resultados do artigo dos \n\nautores Harris e Zorzi [22]. Para tal, foram avaliadas as principais caracter\u00edsticas do modelo, tais \n\ncomo: o atraso de propaga\u00e7\u00e3o e pot\u00eancia de rece\u00e7\u00e3o em fun\u00e7\u00e3o da profundidade e da dist\u00e2ncia entre \n\nos n\u00f3s.  \n\nO resultado do atraso de propaga\u00e7\u00e3o em rela\u00e7\u00e3o a profundidade da \u00e1gua foi obtido fazendo varias \n\nsimula\u00e7\u00f5es uma vez que este resultado depende da profundidade a que se efetua a comunica\u00e7\u00e3o. \n\nAssim foram realizados diversos testes, variando a profundidade e as dist\u00e2ncias entre n\u00f3s e \n\nutilizando um cen\u00e1rio simples, em que ambos os n\u00f3s, emissor e recetor, se encontravam \u00e0 mesma \n\nprofundidade, tal como mostra a figura 2.13. \n\n \n\n \n\nFigura 2.13: Cen\u00e1rio da simula\u00e7\u00e3o para avaliar o modelo f\u00edsico no NS-2. \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 30 \n\nA figura 2.14 apresenta o gr\u00e1fico do atraso de propaga\u00e7\u00e3o para uma comunica\u00e7\u00e3o entre dois n\u00f3s a \n\numa dist\u00e2ncia de 1 km, variando-se a profundidade conjunta dos dois n\u00f3s, desde os 0 m at\u00e9 aos \n\n4500 m. Desse gr\u00e1fico pode concluir-se que o atraso de propaga\u00e7\u00e3o vai diminuindo com aumento \n\nda profundidade desde os 1000 m at\u00e9 4500 m de profundidade devido ao aumento da velocidade de \n\npropaga\u00e7\u00e3o do som para esses valores de profundidade quando a dist\u00e2ncia entre os dois n\u00f3s \u00e9 de 1 \n\nkm. \n\n \n\n                               Figura 2.14: Efeito da profundidade em rela\u00e7\u00e3o ao atraso de propaga\u00e7\u00e3o. \n\nPara o mesmo cen\u00e1rio da figura 2.13 colocaram-se em seguida ambos os n\u00f3s a 10 m de \n\nprofundidade, fazendo variar dist\u00e2ncia entre n\u00f3s, dos 2000 m iniciais at\u00e9 aos 0 m, atrav\u00e9s da \n\ndesloca\u00e7\u00e3o do n\u00f3 1 a uma velocidade de 2 m/s no sentido do n\u00f3 0. A dura\u00e7\u00e3o do tempo da \n\nsimula\u00e7\u00e3o foi de 1000 segundos. \n\nA figura 2.15 apresenta o gr\u00e1fico com o resultado do atraso de propaga\u00e7\u00e3o em rela\u00e7\u00e3o a dist\u00e2ncia \n\nentre os n\u00f3s. Os resultados confirmam o expet\u00e1vel, ou seja pode concluir-se que para a mesma \n\nprofundidade o atraso de propaga\u00e7\u00e3o aumenta de forma linear com a dist\u00e2ncia entre os n\u00f3s.  \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 31 \n\n \n\nFigura 2.15: Atraso de propaga\u00e7\u00e3o em rela\u00e7\u00e3o a dist\u00e2ncia entre os n\u00f3s. \n\nEm seguida para o mesmo cen\u00e1rio e utilizando os mesmos dados da simula\u00e7\u00e3o anterior, foi obtido o \n\ngr\u00e1fico que relaciona a pot\u00eancia de rece\u00e7\u00e3o em (dB re ?Pa) com a dist\u00e2ncia entre os n\u00f3s. Desse \n\ngr\u00e1fico, representado na figura 2.16, pode concluir-se que a pot\u00eancia de rece\u00e7\u00e3o decresce de forma \n\nacentuada nos primeiros 500 m de dist\u00e2ncia, descendo de forma menos acentuadamente para \n\ndist\u00e2ncias superiores a 500 m. \n\n \n\nFigura 2.16: Pot\u00eancia de rece\u00e7\u00e3o em rela\u00e7\u00e3o a dist\u00e2ncia entre os n\u00f3s. \n\n \n\n \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 32 \n\nEm cada caso, os resultados simulados corresponderam exatamente ao modelo apresentado pelos \n\nautores Harris e Zorzi [22]. No entanto, dos resultados obtidos e da an\u00e1lise do modelo f\u00edsico \n\nac\u00fastico submarino implementado por Harris e Zorzi no simulador de rede NS-2 atrav\u00e9s de \n\nf\u00f3rmulas emp\u00edricas verificou-se a necessidade de um modelo ac\u00fastico submarino mais completo \n\n[22].  \n\n2.5.2. Simulador de rede WOSS \n\n \n\nO simulador de rede ac\u00fastico submarino WOSS foi proposto por Frederico Guerra, \u00e9 baseado no \n\nNS-2 [16] e nas extens\u00f5es do NS-2-MIRACLE [35]. O simulador WOSS com integra\u00e7\u00e3o de novas \n\nextens\u00f5es do NS-2-MIRACLE fornece novas e melhores funcionalidades incluindo comunica\u00e7\u00f5es \n\nbaseadas em pacotes, controle de acesso ao meio, encaminhamento, protocolos de camada superior, \n\nmobilidade, modelos de tr\u00e1fego, e as m\u00e9tricas de desempenho. Esses recursos s\u00e3o integrados com \n\numa reprodu\u00e7\u00e3o mais realista dos efeitos de propaga\u00e7\u00e3o ac\u00fastica por meio do programa Bellhop ray \n\ntracing [36]. Isso substitui e melhora o modelo ac\u00fastico submarino descrito anteriormente, \n\nincluindo os modelos de propaga\u00e7\u00e3o. \n\nPara calcular a solu\u00e7\u00e3o das equa\u00e7\u00f5es de propaga\u00e7\u00e3o entre um transmissor e um recetor, Bellhop \n\nexige o conhecimento do perfil da velocidade do som SSP (Sound speed profile), o perfil \n\nbatim\u00e9trico e o tipo de sedimentos de fundo oce\u00e2nico necess\u00e1rio para modelar as perdas de pot\u00eancia \n\nac\u00fastica devido \u00e0s reflex\u00f5es de fundo, obtidos atrav\u00e9s de bases de dados gratuitamente dispon\u00edveis \n\nna internet. \n\nO SSP \u00e9 calculado, utilizando a base de dados mundial dos oceanos [37], uma cole\u00e7\u00e3o de SSPs \n\nmedidos durante uma s\u00e9rie de experi\u00eancias em todo o mundo. As medi\u00e7\u00f5es s\u00e3o divididas pela \n\nlocaliza\u00e7\u00e3o e dia ou esta\u00e7\u00e3o do ano, em que a medi\u00e7\u00e3o foi realizada. \n\nComo complemento, s\u00e3o tamb\u00e9m utilizados dados espacialmente mais finos dispon\u00edveis em \n\nGLINT'08 [38], a partir de testes no mar (n\u00e3o foram utilizados na presente disserta\u00e7\u00e3o). \n\nOs dados batim\u00e9tricos s\u00e3o fornecidos atrav\u00e9s do GEBCO (General Bathymetric Chart of the \n\nOceans) [39], uma base de dados de amostras publicamente dispon\u00edvel da profundidade do fundo \n\ndo mar. \n\nO tipo de sedimentos de fundo oce\u00e2nico \u00e9 retirado da base de dados do National Geophysical Data \n\nCenter Deck41 [40]. \n\nPara tornar a interface da base de dados mais f\u00e1cil, o simulador WOSS espec\u00edfica uma tecnologia de \n\nbase de dados (SQLlite, netcdf) atrav\u00e9s de um programa de interface simples, com isto, o utilizador \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 33 \n\nsomente escreve um objeto que executa a interface e o simulador WOSS faz as liga\u00e7\u00f5es adequadas \n\npara as bases de dados. \n\nA uni\u00e3o de todos os esses componentes necess\u00e1rios para executar o Bellhop permite que o utilizador \n\nsomente tenha que especificar em que lugar ou zona as experi\u00eancias simuladas ocorrem. Isto \u00e9 feito \n\ndefinindo a latitude e longitude, assim como o tamanho da \u00e1rea de rede e o simulador \n\nautomaticamente trata do resto. \n\nNo simulador de rede WOSS todo o processo de simula\u00e7\u00e3o do modelo f\u00edsico ac\u00fastico submarino \n\ntorna-se transparente para o utilizador, de modo que \u00e9 poss\u00edvel concentrar-se apenas no projeto de \n\nimplanta\u00e7\u00e3o de rede e protocolos, e n\u00e3o nas quest\u00f5es de propaga\u00e7\u00e3o. \n\nEm seguida apresentaremos e descreveremos os principais blocos do simulador WOSS, \n\nexemplificando o seu funcionamento. \n\n2.5.2.1. Diagrama de blocos do simulador WOSS \n\nO diagrama de blocos do simulador ac\u00fastico submarino WOSS \u00e9 apresentado na figura 2.17.  \n\nEste diagrama representa a API (Application Programming Interface) do simulador, detalhando o \n\nconjunto de rotinas e normas estabelecidas para usar os seus servi\u00e7os, sem se envolver em detalhes \n\nda implementa\u00e7\u00e3o do software. \n\nO WossManager API tem como tarefa de responder, controlar, manipular e criar os objetos do \n\nsimulador WOSS. Ele oferece tamb\u00e9m a capacidade de planear uma estrat\u00e9gia para varia\u00e7\u00e3o do \n\ntempo e / ou simula\u00e7\u00f5es multifrequ\u00eancia do canal, usar batimetria, sedimentos ou dados do perfil da \n\nvelocidade do som para qualquer par transmissor-recetor. \n\nO WossCreator API fornece uma interface para cria\u00e7\u00e3o e inicializa\u00e7\u00e3o dos objetos do WOSS, \n\naliviando o utilizador dessa tarefa, fornecendo-lhe uma inst\u00e2ncia da base de dados pronta a utilizar. \n\nO Woss API tem como fun\u00e7\u00e3o integrar um simulador de canal, fornecendo para tal interfaces para: \n\n- Configura\u00e7\u00e3o do ambiente da base de dados ou de dados personalizados atrav\u00e9s da API \n\nDbManager. \n\n-  Leitura dos resultados do simulador do canal atrav\u00e9s da API ResReader. \n\nA defini\u00e7\u00e3o da batimetria, o perfil da velocidade do som (SSP), a base de dados dos sedimentos, o \n\nc\u00e1lculo da press\u00e3o e o c\u00e1lculo do atraso de pot\u00eancia do canal s\u00e3o acedidas atrav\u00e9s da base de dados \n\n( WossBathymetryDb, WossSedimentDb, WossSSPDb, WossResPressDb e WossResTimeArrDb) \n\nfornecidas pela API DbManager. \n\n \n\n \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 34 \n\n \n\nFigura 2.17: Diagrama de blocos do simulador de rede WOSS. \n\n2.5.2.2. Defini\u00e7\u00e3o das classes no simulador WOSS \n\nNo simulador WOSS s\u00e3o definidos um conjunto de classes. Das principais classes existentes \n\npodemos destacar os seguintes: \n\n? A classe das coordenadas geogr\u00e1ficas definida pelas classes (Woss :: Coord) e (Woss :: \n\nCoord Z): esta classe oferece informa\u00e7\u00f5es sobre a dist\u00e2ncia e as coordenadas horizontais, \n\nverticais e profundidades assim como tamb\u00e9m apresenta outras f\u00f3rmulas matem\u00e1ticas como \n\na raiz quadrada; \n\n? Data e tempo definidas pela classe (Woss :: Time): esta classe define aritm\u00e9ticas sobre data e \n\nhora;  \n\n? Tempo de refer\u00eancia da simula\u00e7\u00e3o definida pela classe (Woss :: TimeReference): esta classe \n\nimporta o tempo de refer\u00eancia da simula\u00e7\u00e3o externa ao do simulador de rede; \n\n? Gera\u00e7\u00e3o de n\u00fameros aleat\u00f3rios definida pela classe (Woss:: randomGenerator): esta classe \n\nfaz importa\u00e7\u00e3o de um gerador de n\u00fameros aleat\u00f3rio personalizado a partir de outro \n\nsimulador de rede externo; \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 35 \n\n? Perfil da velocidade do som definida pela classe (Woss :: SSP): esta classe faz c\u00e1lculos \n\nsobre velocidade de som e manipula\u00e7\u00f5es das equa\u00e7\u00f5es de propaga\u00e7\u00f5es do som retiradas \n\natrav\u00e9s da literatura cient\u00edfica; \n\n? Sedimento da superf\u00edcie definida pela classe (Woss:: Sediment): esta classe faz defini\u00e7\u00f5es e \n\nmanipula\u00e7\u00f5es dos par\u00e2metros dos sedimentos geoac\u00fasticos; \n\n? Perfil do atraso de pot\u00eancia do canal definida pela classe (Woss :: TimeArr): esta classe faz o \n\nc\u00e1lculo do atraso. \n\n? Press\u00e3o definida pela classe (Woss :: Pressure): esta classe faz opera\u00e7\u00f5es aritm\u00e9ticas e \n\nconvers\u00f5es sobre press\u00e3o; \n\n? Transdutor definida pela classe (Woss :: Transducer): esta classe faz c\u00e1lculos precisos sobre \n\no consumo de energia e capacidades do feixe dos transdutores reais; \n\n? Classe manipulador de todas as classes definidas acima atrav\u00e9s da classe (Woss :: \n\nDefHandler): esta classe serve para \"conetar\" em tempo de execu\u00e7\u00e3o qualquer classe que \n\nherda as classes descritas acima. \n\nA vers\u00e3o actual do simulador WOSS para al\u00e9m das classes definidas acima tamb\u00e9m tem capacidade \n\nde oferecer: \n\n? Implementa\u00e7\u00e3o de uma interface para o programa Bellhop ray tracing [36], atrav\u00e9s das \n\nclasses (Woss :: BellhopWoss) e ( Woss :: BellhopCreator); \n\n? Implementa\u00e7\u00e3o de uma interface da base de dados NetCDF do perfil das velocidades dos \n\nsons m\u00e9dias mensais retiradas das base de dados do WOA (World Ocean Atlas) [37] atrav\u00e9s \n\ndas classes (Woss :: SspWoa2005Db) e (Woss :: SspWoa2005DbCreator); \n\n? Implementa\u00e7\u00e3o de uma interface para a base de dados da batimetria da GEBCO [39], atrav\u00e9s \n\ndas classes (Woss :: BathyGebcoDb) e ( Woss :: BathyGebcoDbCreator); \n\n? Implementa\u00e7\u00e3o de uma interface personalizada da NetCDF para an\u00e1lise dos dados extra\u00eddos \n\ndas bases de dados DECK41, para a composi\u00e7\u00e3o dos sedimentos de fundo [40], atrav\u00e9s das \n\nclasses (Woss :: SedimDeck41Db) e (Woss :: SedimDeck41DbCreator); \n\n? Uma base de dados dos transdutores ac\u00fasticos reais feitos a partir de arquivos de dados dispon\u00edveis \n\npublicamente na Internet. \n\n2.5.2.3. Base de dados de batimetria do GEBCO \n\nO GEBCO consiste num grupo de especialistas internacionais que trabalham para o \n\ndesenvolvimento de um conjunto de dados batim\u00e9tricos globais para os oceanos, incluindo um \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 36 \n\nconjunto de dados batim\u00e9tricos em grelha, o GEBCO Altas Digital, o GEBCO da mapa do mundo e \n\no GEBCO com dados geogr\u00e1ficos para recursos submarinos [39]. \n\nNo simulador WOSS os dados batim\u00e9tricos da GEBCO s\u00e3o apresentados em forma de grelha, com \n\numa representa\u00e7\u00e3o computacional dos dados em 3D tridimensional (x, y, z). O valor de z \u00e9 a \n\nprofundidade do fundo do mar e \u00e9 dado por incrementos uniformemente espa\u00e7ados de longitude (x) \n\ne latitude (y). O simulador WOSS disponibiliza as seguintes grelhas para dados batim\u00e9tricos: a \n\ngrelha GEBCO_08 Grid e a grelha GEBCO one Minute. Essas duas grelhas est\u00e3o dispon\u00edveis para \n\ndownload atrav\u00e9s pagina web da BODC (British Oceanographic Data Centre) centro de dados \n\noceanogr\u00e1ficos brit\u00e2nicos. Utilizando esta aplica\u00e7\u00e3o web, o utilizador pode selecionar os ficheiros \n\ncompletos da grelha que pretende extrair ou definir uma \u00e1rea atrav\u00e9s de um mapa interativo, \n\ndigitando numa caixa de di\u00e1logo as coordenadas geogr\u00e1ficas da zona ou \u00e1rea que pretende simular. \n\nA grelha GEBCO_08 \u00e9 apresentada na figura 2.18. Esta grelha consiste numa grelha mundial de 30 \n\narco-segundo gerada na sua grande parte pela combina\u00e7\u00e3o das an\u00e1lises das profundidades dos \n\nnavios controlados pela interpola\u00e7\u00e3o dos pontos de sons orientados por dados derivados do sat\u00e9lite. \n\nA grelha GEBCO_08 \u00e9 acompanhada pela grade SID \u201c indentificador da fonte\u201d que tamb\u00e9m esta \n\ndispon\u00edvel para download. Este identificador mostra como \u00e9 que as c\u00e9lulas da grelha ser\u00e3o limitadas \n\npor dados batim\u00e9tricos durante o processo. A grelha GEBCO One Minute, grelha global de um \n\narco-minuto de resolu\u00e7\u00e3o baseia-se na sua grande parte em contornos batim\u00e9tricos contidos no \n\nGEBCO Digital Atlas. Os seus dados est\u00e3o dispon\u00edveis para download, visualiza\u00e7\u00e3o e acesso a \n\npartir dos ficheiros das grades Mundiais em ASCII, assim como tamb\u00e9m atrav\u00e9s da NetCDF \n\nmostrando a forma do fundo do mar. \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 37 \n\n \n\nFigura 2.18: Mapa do perfil batim\u00e9trico utilizando a GEBCO_08 grid. \n\n2.5.2.4. Base de dados do perfil da velocidade propaga\u00e7\u00e3o do \n\nsom \n\nNo simulador WOSS o c\u00e1lculo do perfil da velocidade propaga\u00e7\u00e3o do som (SSP) \u00e9 feito utilizando \n\nos dados retirados da base de dados da World Ocean Atlas para implementa\u00e7\u00e3o de uma base de \n\ndados a partir do ficheiro da NetCDF atrav\u00e9s da classe (Woss :: SSP). Esses dados cont\u00e9m m\u00e9dias \n\nmensais, sazonais e anuais dos perfis de velocidade do som. Os diferentes perfis conduzem a efeitos \n\nde propaga\u00e7\u00e3o potencialmente muito diferentes, incluindo os canais de superf\u00edcie do som, canais de \n\nsons profundo, zonas de converg\u00eancia e zonas de sombra [41]. \n\nA classe (Woss :: SSP) oferece m\u00faltiplas capacidades para cria\u00e7\u00e3o e manipula\u00e7\u00e3o dos perfis de \n\nvelocidade do som. A figura 2.19 apresenta o diagrama utilizado pela classe (Woss :: SSP) no \n\nsimulador WOSS para c\u00e1lculo do perfil da velocidade de propaga\u00e7\u00e3o do som. \n\n\n\nConceitos gerais sobre propaga\u00e7\u00e3o ac\u00fastica e Simulador de Redes Submarinas \n\n 38 \n\n \n\nFigura 2.19: Diagrama para o c\u00e1lculo do SSP.  \n\nComo pode se observar neste diagrama a classe (Woss :: SSP) armazena as seguintes informa\u00e7\u00f5es \n\nrelacionadas com um perfil de velocidade de propaga\u00e7\u00e3o do som: temperatura (em C0), a press\u00e3o \n\n(em bar), salinidade (em PSU), profundidade (em metros) e velocidade do som (em m/s). Ela \n\ntamb\u00e9m oferece recursos para c\u00e1lculos aritm\u00e9ticos computacionais, c\u00e1lculos de velocidade de som \n\nutilizando equa\u00e7\u00f5es de (Chen e Milero) com atualiza\u00e7\u00f5es de (Wong e Zu), convers\u00e3o da \n\nprofundidade para press\u00e3o (e vice-versa) com corre\u00e7\u00f5es nas coordenadas, transforma\u00e7\u00f5es do perfil \n\nda velocidade de propaga\u00e7\u00e3o e perturba\u00e7\u00f5es aleat\u00f3rias. \n\n2.5.2.5. Base de dados de sedimentos DECK41 \n\nOs dados sobre os sedimentos do fundo oce\u00e2nico s\u00e3o retirados da base de dados do National \n\nGeophysical Data Center Deck41 [40]. O tipo de sedimento do fundo \u00e9 necess\u00e1rio para caracterizar \n\nas reflex\u00f5es de fundo. A base de dados DECK41 cont\u00e9m mais de 36.000 descri\u00e7\u00f5es dos sedimentos \n\nsuperficiais de amostras do fundo do mar em todo o mundo. Esses dados incluem fonte de recolha \n\nnavio, cruzeiro, id da amostra, latitude, longitude, a data da recolha, profundidade da \u00e1gua, \n\ndispositivo de amostragem, litologia dominante, litologia secund\u00e1rio e descri\u00e7\u00e3o da superf\u00edcie do \n\nlocal. \n\nOs \u00edndices da litologia dominante e secund\u00e1ria para fins geoac\u00fasticos s\u00e3o fornecidos pelo simulador \n\nWOSS atrav\u00e9s da base de dados NetCDF para o sedimento do fundo. Estes valores s\u00e3o \n\nrepresentados por um n\u00famero inteiro sem sinal entre 1 e 11, segundo:  \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 39 \n\n 1- gr\u00e3os de areia, 2- areia, 3-limos, 4- argila, 5- lama, 6- barros, 7- pedras, 8- material org\u00e2nico \n\n(granada, turfa, coral e madeira), 9- n\u00f3dulos, concre\u00e7\u00f5es (fosfato, ferro e glauconite), 10- fundo, 11- \n\nnenhum valor. Esses valores podem ser consultados utilizando a classe (woss:: sedimDeck41Db). \n\nEsta classe fornece uma interface para cria\u00e7\u00e3o e manipula\u00e7\u00e3o dos par\u00e2metros geoac\u00fasticos \n\nsuperficiais.  \n\nA classe (woss:: sedimDeck41Db) para al\u00e9m dos par\u00e2metros dos sedimentos geoac\u00fasticos \n\nsuperficiais referidos acima, fornece os seguintes par\u00e2metros para simula\u00e7\u00e3o: nome do sedimento \n\nem ficheiro texto, velocidade de comprimento de onda em (m/s), shear wave velocity em (m/s), \n\ndensidade do sedimento em (g/cm3 ou definido pelo utilizador), atenua\u00e7\u00e3o do comprimento de onda \n\nem (dB/comprimento de onda ou definida pelo utilizador), shear wave attenuation em \n\n(dB/comprimento de onda ou definido pelo utilizador) e profundidade do fundo em metros. \n\nNo Cap\u00edtulo 5, apresentaremos os resultados das simula\u00e7\u00f5es utilizando o simulador WOSS e os \n\nrespetivos par\u00e2metros f\u00edsicos. \n\n2.6.  Conclus\u00f5es do cap\u00edtulo \n\nNeste cap\u00edtulo foram apresentados os conceitos base e revis\u00e3o bibliogr\u00e1fica sobre ac\u00fasticas \n\nsubmarina, com foco nas caracter\u00edsticas de propaga\u00e7\u00e3o ac\u00fastica do canal, j\u00e1 que, embora outras \n\nsolu\u00e7\u00f5es de comunica\u00e7\u00e3o sejam poss\u00edveis (tais como a eletromagn\u00e9tica e o \u00f3tica) \u00e9 a transmiss\u00e3o \n\nac\u00fastica a que \u00e9 efetivamente empregue. \n\nO cap\u00edtulo descreveu as classifica\u00e7\u00f5es das redes ac\u00fasticas submarinas, principais caracter\u00edsticas, \n\naplica\u00e7\u00f5es e arquitetura para comunica\u00e7\u00f5es ac\u00fasticas submarinas. \n\nDa propaga\u00e7\u00e3o ac\u00fastica submarina foram apresentados os principais fatores que influenciam as \n\ncomunica\u00e7\u00f5es ac\u00fasticas submarinas como: perdas de transmiss\u00e3o; ru\u00eddo; para al\u00e9m de atraso de \n\npropaga\u00e7\u00e3o elevado, de multi-percurso e vari\u00e1vel. Para al\u00e9m das caracter\u00edsticas de propaga\u00e7\u00e3o \n\nac\u00fastica, tamb\u00e9m foram enfatizadas as caracter\u00edsticas do canal ac\u00fastico como: velocidade de \n\npropaga\u00e7\u00e3o do som, trajet\u00f3rias de propaga\u00e7\u00e3o, reflex\u00f5es do fundo e pot\u00eancias de transmiss\u00e3o. \n\nFoi abordado tamb\u00e9m estudo do modelo da comunica\u00e7\u00e3o ac\u00fastica submarina no simulador de rede \n\nNS-2, assim como tamb\u00e9m foi apresentado um simulador de rede mais recente designado por \n\nWOSS baseado no NS-2 e nas extens\u00f5es do NS-2-MIRACLE com modelo de propaga\u00e7\u00e3o do \n\nsoftware Bellhop ray tracing. \n\nNo Cap\u00edtulo 3 abordaremos os principais protocolos de acesso ao meio MAC, descrevendo as suas \n\nprincipais caracter\u00edsticas.  \n\n\n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 41 \n\nCap\u00edtulo 3 \n\n \n\nMecanismos de controlo de acesso ao meio em \n\nredes ac\u00fasticas submarinas \n\nNeste cap\u00edtulo pretende-se descrever os principais protocolos de controlo de acesso ao meio MAC \n\npara redes sem fios terrestres assim como apresentar algumas propostas desses protocolos para \n\nambientes ac\u00fasticas submarinas, analisando os seus mecanismos de funcionamento que permitem \n\nefetuar o acesso ao canal e melhorar o desempenho da rede atrav\u00e9s do controlo do n\u00famero de \n\ncolis\u00f5es. Tamb\u00e9m apresentaremos os protocolos de encaminhamento para redes ac\u00fasticas \n\nsubmarinas. O cap\u00edtulo termina apresentando os principais desenvolvimentos das redes ac\u00fasticas \n\nsubmarinas. \n\n3.1. Introdu\u00e7\u00e3o \n\n \n\nNuma rede ac\u00fastica submarina com m\u00faltiplos terminais, o controlo de acesso ao meio \u00e9 um dos \n\npontos mais importantes e complexos devido ao elevado atraso de propaga\u00e7\u00e3o das comunica\u00e7\u00f5es. A \n\nn\u00e3o utiliza\u00e7\u00e3o de um mecanismo adequado implica a exist\u00eancia de colis\u00f5es entre transmiss\u00f5es que \n\npor conseguinte obrigam a sucessivas retransmiss\u00f5es dos mesmos dados.   \n\nUma das diferen\u00e7as existentes entre as transmiss\u00f5es eletromagn\u00e9ticas terrestres e as transmiss\u00f5es \n\nac\u00fasticas submarinas reside na possibilidade ou n\u00e3o de troca de bateria ou a sua recarga. Em terra, \n\nquer a troca de bateria quer a sua carga atrav\u00e9s de energia fotovoltaica, s\u00e3o actividades poss\u00edveis e \n\nat\u00e9 triviais. No entanto, no caso das redes ac\u00fasticas submarinas essas tarefas s\u00e3o muito dif\u00edceis e \n\ndispendiosas. A convers\u00e3o fotovoltaica tem uma efici\u00eancia modesta, mesmo \u00e0 superf\u00edcie. A luz \n\nsolar penetra pouco no mar, tornando essa alternativa desprez\u00e1vel como fonte de energia submarina. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 42 \n\nPor outro lado, trocar uma bateria de um n\u00f3 da rede ac\u00fastica submarina, mesmo a pequenas \n\nprofundidades, \u00e9 uma opera\u00e7\u00e3o com elevado custo e operacionalmente complicado que pode \n\ninviabilizar o projeto das redes ac\u00fasticas submarinas. \n\nPara al\u00e9m disso, nas redes ac\u00fasticas submarinas as colis\u00f5es no controlo de acesso ao meio, n\u00e3o s\u00f3 \n\ns\u00e3o muito mais frequentes do que nas redes terrestres em consequ\u00eancia dos atrasos elevados, mas \n\nt\u00eam ainda um efeito de reduzir o tempo de carga das baterias, dificultando assim a sua opera\u00e7\u00e3o. \n\nDevido \u00e0s diferen\u00e7as de energia e lat\u00eancia entre transmiss\u00f5es ac\u00fasticas submarinas e \n\neletromagn\u00e9ticas terrestres, as solu\u00e7\u00f5es encontradas para minimizar as colis\u00f5es nas comunica\u00e7\u00f5es \n\neletromagn\u00e9ticas terrestres n\u00e3o podem, sem altera\u00e7\u00f5es, ser aproveitadas nas comunica\u00e7\u00f5es ac\u00fasticas \n\nsubmarinas. Assim, t\u00eam-se vindo a desenvolver estudos e projetos nesta \u00e1rea, considerando \n\nprotocolos de controlo de acesso ao meio especialmente definidos para as redes ac\u00fasticas \n\nsubmarinas (de [42] a [50]). \n\n3.2. M\u00e9todos de acesso m\u00faltiplo ao meio \n\nNesta se\u00e7\u00e3o, apresentaremos tr\u00eas dos principais m\u00e9todos de acessos m\u00faltiplos em ambientes \n\nac\u00fasticos submarinos: Acesso M\u00faltiplo por Divis\u00e3o de Frequ\u00eancia (FDMA), Acesso M\u00faltiplo por \n\nDivis\u00e3o de Tempo (TDMA), e Acesso M\u00faltiplo por Divis\u00e3o de C\u00f3digo (CDMA).  \n\nO m\u00e9todo FDMA (Frequency Division Multiple Access) \u00e9 o mais simples de todos os m\u00e9todos de \n\nacesso m\u00faltiplo e baseia-se no seguinte: divide a banda de frequ\u00eancias dispon\u00edvel em sub-bandas e \n\natribui cada sub-banda a utilizadores individuais. O canal \u00e9 utilizado apenas por esse utilizador at\u00e9 \n\nque ele seja libertado. A largura de banda dos canais FDMA \u00e9 menor que a largura de banda do \n\ncanal de transmiss\u00e3o. Devido ao desvanecimento do sinal presente nos canais ac\u00fasticos submarinos, \n\nque afecta de forma diferenciada diferentes frequ\u00eancias, os sistemas baseados em FDMA s\u00e3o \n\ndif\u00edcilmente utilizados nestes ambientes [10]. Nas experi\u00eancias do SeaWeb descritas por RICE et al. \n\n[51] foi utilizado esse m\u00e9todo em consequ\u00eancia das limita\u00e7\u00f5es dos modems da \u00e9poca. No entanto, \n\ndevido \u00e0s limita\u00e7\u00f5es de banda dispon\u00edveis no canal ac\u00fastico, este m\u00e9todo n\u00e3o foi muito eficiente \n\npara comunica\u00e7\u00e3o nas redes ac\u00fasticas submarinas. \n\nO m\u00e9todo TDMA (Time Division Multiple Access) em vez de dividir a banda de frequ\u00eancias, divide \n\no tempo dispon\u00edvel para comunica\u00e7\u00e3o em intervalos de tempo (time slots), permitindo a transmiss\u00e3o \n\nsequencial dos n\u00f3s num esquema de multiplexagem no tempo. Durante cada time slot o canal \n\nac\u00fastico apenas fica reservado para transmiss\u00e3o de dados de um dos n\u00f3s da rede. Para garantir \n\naus\u00eancia de colis\u00f5es h\u00e1 necessidade de uma margem de seguran\u00e7a TGI (Time Guard Interval) entre \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 43 \n\nos time slots sucessivos. Essa margem de seguran\u00e7a \u00e9 proporcional ao atraso de propaga\u00e7\u00e3o \n\nexistente no canal. Para melhorar o funcionamento deste m\u00e9todo de acesso m\u00faltiplo, h\u00e1 necessidade \n\nde um m\u00ednimo de sincronismo entre os n\u00f3s da rede [52]. A elevada lat\u00eancia presente na \n\ncomunica\u00e7\u00e3o ac\u00fastica submarina implica a necessidade de margens de seguran\u00e7a muito grandes, o \n\nque limita a efici\u00eancia da comunica\u00e7\u00e3o utilizando esse m\u00e9todo de acesso m\u00faltiplo nas redes \n\nac\u00fasticas submarinas. Al\u00e9m disso, a forma de garantir um m\u00ednimo de sincronismo entre os n\u00f3s \n\nsubmarinos ainda \u00e9 uma quest\u00e3o em investiga\u00e7\u00e3o. Desse modo, o m\u00e9todo TDMA s\u00f3 \u00e9 seguro se a \n\naplica\u00e7\u00e3o tolerar longos Time Guard Intervals, compat\u00edveis com a precis\u00e3o do sincronismo \n\ndispon\u00edvel. \n\nO m\u00e9todo CDMA (Code Division Multiple Access) permite uma transmiss\u00e3o simult\u00e2nea de v\u00e1rios \n\nutilizadores na mesma gama de frequ\u00eancias. Os sinais s\u00e3o distribu\u00eddos atrav\u00e9s de c\u00f3digos de \n\npseudo-ru\u00eddo que s\u00e3o utilizados para espalhar, por todo o espectro dispon\u00edvel, as mensagens de cada \n\nutilizador. Este m\u00e9todo \u00e9 resistente ao desvanecimento seletivo de frequ\u00eancias que ocorre nas redes \n\nac\u00fasticas submarinas, devido \u00e0 propaga\u00e7\u00e3o por m\u00faltiplos percursos. As t\u00e9cnicas de espalhamento no \n\nespectro podem ser: o FHSS (Frequency Hopping Spread Spectrum), usando FSK (Frequency Shift \n\nKeying) para baixas taxas de transmiss\u00e3o e o DSSS (Direct Sequence Spread Spectrum), usando \n\nPSK (Phase Shift Keying) para altas taxas de transmiss\u00e3o [53], [54]. \n\nO canal ac\u00fastico submarino tem recursos muito limitados. Estes recursos escassos devem ser \n\ncompartilhados de uma forma justa e eficiente por meio de protocolos de controlo de acesso ao \n\nmeio simples e eficientes. Apesar dos m\u00e9todos de acesso m\u00faltiplo ao meio aqui descritos serem \n\nbastante utilizados em redes sem fios, em redes de ac\u00fastica submarina os principais esfor\u00e7os t\u00eam-se \n\ncentrado em mecanismos n\u00e3o determin\u00edsticos de controlo de acesso ao meio.  \n\nEm seguida iremos analisar os protocolos de acesso ao meio utilizados em redes sem fios, para \n\nposteriormente descrever alguns protocolos propostos para meios submarinos. \n\n3.3. Mecanismo de controlo de acesso ao meio para redes sem \n\nfios \n\nEm Sozer et al. [10] faz-se uma revis\u00e3o dos principais protocolos de controlo de acesso ao meio \n\npara redes sem fios, resumidamente descritos a seguir. \n\nO protocolo de acesso ao meio mais simples \u00e9 o ALOHA, cujo funcionamento \u00e9 baseado na \n\ntransmiss\u00e3o de um pacote assim que os dados estiverem dispon\u00edveis para envio. Em caso de sucesso \n\nna transmiss\u00e3o o emissor receber\u00e1 um ACK (Acknowledgment) emitido pelo n\u00f3 de destino \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 44 \n\nconfirmando a rece\u00e7\u00e3o. Caso contr\u00e1rio, o emissor tentar\u00e1 retransmitir o pacote. Devido \u00e0 \n\nindepend\u00eancia e aleatoriedade das transmiss\u00f5es verificam-se muitas colis\u00f5es, obtendo-se uma \n\nefici\u00eancia m\u00e1xima na utiliza\u00e7\u00e3o do canal de aproximadamente 18% [55]. Para melhorar o \n\ndesempenho do ALOHA foi introduzido o conceito de slots temporais, diminuindo assim a \n\nprobabilidade de haver colis\u00f5es a meio dos pacotes, que por sua vez podem danificar v\u00e1rios pacotes \n\nde uma s\u00f3 vez. Este m\u00e9todo denominado de slotted ALOHA, permitiu o aumento da efici\u00eancia do \n\nALOHA para 36 % [56]. \n\nNos protocolos ALOHA, os utilizadores n\u00e3o tomam em considera\u00e7\u00e3o o estado do canal, ou seja \n\nantes de transmitir n\u00e3o escutam para ver se alguma transmiss\u00e3o est\u00e1 em curso resultando por isso \n\nnuma elevada taxa de colis\u00f5es.  \n\nO protocolo de acesso ao meio CSMA (Carrier Sense Multiple Access) foi uma forma encontrada \n\npara minimizar as colis\u00f5es. Consiste em escutar o meio antes de transmitir, e durante a mesma. Em \n\nredes sem fios IEEE 802.11 o CSMA \u00e9 complementado com t\u00e9cnicas que previnem as colis\u00f5es \n\n(ditas de Collision Avoidance) atrav\u00e9s de um elaborado sistema de tempos entre tramas. Mais \n\ndetalhes e v\u00e1rias vers\u00f5es do m\u00e9todo CSMA podem ser encontradas em [57][58][59] e s\u00e3o \n\napresentadas no decorrer deste cap\u00edtulo.  \n\nDiversos protocolos MAC para redes sem fios s\u00e3o derivados do MACA (Multiple Access with \n\nCollision Avoidance). Esse protocolo, foi proposto por Karn em [60] e usa dois pacotes de \n\nsinaliza\u00e7\u00e3o, o RTS (Request to Send) e o CTS (Clear to Send). Quando um n\u00f3 A deseja enviar uma \n\nmensagem ao n\u00f3 B, inicia o protocolo com o envio de um RTS ao n\u00f3 B, que ao receb\u00ea-lo responde \n\ncom um CTS. Ao receber o CTS o n\u00f3 A inicia ent\u00e3o a transmiss\u00e3o dos dados. \n\nO protocolo MACAW (MACA-Wireless), constitui uma melhoria do MACA. Foi proposto por \n\nBharghavan et al. [61] com a transmiss\u00e3o de uma trama de ACK (Acknowledgment) ap\u00f3s cada \n\nrece\u00e7\u00e3o bem-sucedida, o que possibilita \u00e0 origem retransmitir pacotes que n\u00e3o tenham sido \n\ncorretamente recebidos pelo destino. \n\nEm seguida analisaremos com mais detalhe cada um destes mecanismos. \n\n3.3.1. Protocolo ALOHA \n\nO protocolo de acesso ao meio ALOHA foi desenvolvido por N. Abranson em 1970 na \n\nuniversidade de Havai [62]. O funcionamento do protocolo ALOHA \u00e9 simples, ou seja, sempre que \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 45 \n\num utilizador tem algum pacote de dados para enviar, esse pacote \u00e9 enviado imediatamente [10]. Se \n\na transmiss\u00e3o do pacote de dados for bem-sucedido, isto \u00e9, se nenhum pacote for recebido com erro, \n\no recetor envia uma confirma\u00e7\u00e3o ao emissor [10]. Se nenhum ACK for recebido num intervalo de \n\ntempo definido entre zero e 2?Delay+ackTime, onde Delay representa o atraso de propaga\u00e7\u00e3o entre \n\no n\u00f3 emissor e recetor e ackTime \u00e9 o tempo de transmiss\u00e3o de um ACK, o emissor considera que \n\nocorreu a perda do pacote na rede, possivelmente devido a uma colis\u00e3o no canal. Nesse caso o \n\npacote ser\u00e1 enviado novamente depois de um tempo aleat\u00f3rio, para evitar que haja uma nova \n\ncolis\u00e3o no caso de algum outro n\u00f3 tentar fazer o mesmo [10].  \n\nAssim, sempre que dois terminais tentam aceder ao canal ao mesmo tempo [17], d\u00e1-se uma colis\u00e3o \n\ne \u00e9 necess\u00e1rio haver um mecanismo de backoff [17] que evite que volte a ocorrer. O mecanismo de \n\nbackoff funciona da seguinte forma: depois de enviar um pacote de dados, o emissor espera durante \n\nper\u00edodo de tempo (entre zero e o dobro do atraso m\u00e1ximo de propaga\u00e7\u00e3o). No caso de n\u00e3o chegar \n\numa confirma\u00e7\u00e3o da correta rece\u00e7\u00e3o do pacote, cada terminal escolhe aleatoriamente e \n\nuniformemente o tempo de backoff, num intervalo que varia entre [0, 2txRetry? \n\n(2?maxDelay+dataTime)], em que dataTime representa o tempo de transmiss\u00e3o do pacote, \n\n???????? o atraso m\u00e1ximo de propaga\u00e7\u00e3o de um pacote na rede, e ??????? \u00e9 o n\u00famero de \n\nretransmiss\u00f5es do pacote. Assim, por cada transmiss\u00e3o falhada o valor m\u00e1ximo do intervalo vai \n\nduplicando, at\u00e9 um m\u00e1ximo de 5 tentativas falhadas. \n\nA figura 3.1 mostra um exemplo simples do funcionamento do protocolo ALOHA, em que tr\u00eas \n\nterminais tentam enviar as suas tramas para um terminal recetor, originando uma colis\u00e3o entre os \n\nterminais 2 e 3. \n\n \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 46 \n\n \n\nFigura 3.1: Funcionamento do ALOHA exemplificando o conceito de colis\u00e3o e retransmiss\u00e3o. \n\nO protocolo ALOHA, segundo os autores em [10], apresenta um desempenho muito fraco [10]. \n\nDesta forma para melhorar o desempenho da rede no sentido de se atingir uma efic\u00e1cia mais \n\nelevada Lawrence G. Roberts prop\u00f4s o protocolo de acesso ao meio slotted ALOHA [56]. \n\n3.3.2. Protocolo Slotted ALOHA \n\nO protocolo Slotted ALOHA foi proposto em [56] para aumentar a efici\u00eancia do m\u00e9todo proposto \n\npor N. Abranson no ALOHA [61]. No protocolo Slotted ALOHA o tempo \u00e9 dividido em intervalos \n\n(time slots) com dura\u00e7\u00f5es iguais ao tempo necess\u00e1rio para transmitir um pacote de dados no canal \n\n[61]. Cada terminal da rede \u00e9 sincronizado de acordo com esses slots, de modo que, quando um n\u00f3 \n\nquer enviar um pacote de dados, o pacote \u00e9 transmitido no intervalo de tempo (time slot) seguinte \n\n[61]. \n\n A dura\u00e7\u00e3o de um slot ? depende do atraso m\u00e1ximo de propaga\u00e7\u00e3o e do tempo de transmiss\u00e3o do \n\npacote [56], sendo definido como ??maxDelay+dataTime. Normalmente \u00e9 escolhido o valor de ? =\n\n1 para garantir que n\u00e3o haja nenhuma colis\u00e3o, a menos que os pacotes de dados sejam transmitidos \n\nao mesmo tempo, sobrepondo-se no recetor [56]. \n\nNa vers\u00e3o do protocolo Slotted ALOHA com ACK, a dura\u00e7\u00e3o do slot ? \u00e9 definida como 2? \u00d7\n\n???????? + ???????? + ???????. Neste caso, se durante a transmiss\u00e3o de um pacote de dados \n\num n\u00f3 emissor n\u00e3o receber um aviso de ACK ele tenta transmitir novamente, at\u00e9 um determinado \n\nn\u00famero de slots, implementando tamb\u00e9m o mecanismo de backoff. O n\u00famero de slots que um n\u00f3 \n\nespera antes de retransmitir um pacote \u00e9 escolhido aleatoriamente e uniformemente em [0,T], onde \n\n? = ?2??????\n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 47 \n\n \n\nNo protocolo slotted ALOHA, o intervalo de vulnerabilidade onde ocorrem colis\u00f5es para qualquer \n\npacote \u00e9 reduzido a um tempo de pacote duas vezes menor do que o tempo do pacote no ALOHA, \n\ncomo mostra a figura 3.2. \n\n \n\nFigura 3.2: Funcionamento do Slotted ALOHA. \n\nSegundo os autores em [10], o m\u00e9todo usado pelo protocolo Slotted ALOHA, permite alcan\u00e7ar um \n\nd\u00e9bito na rede mais elevado do que o m\u00e9todo usado pelo protocolo ALOHA [10]. Apesar disso o \n\nprotocolo Slotted ALOHA demonstrou ser muito ineficiente para resolver problemas de \n\ncongestionamento que podem surgir nas redes sem fios. Tamb\u00e9m n\u00e3o foi capaz de resolver \n\nproblemas de colis\u00f5es durante retransmiss\u00f5es [10]. \n\n3.3.3. Protocolo Carrier Sense Multiple Access (CSMA) \n\nAs baixas efici\u00eancias dos protocolos ALOHA levaram a que os investigadores procurassem \n\nsolu\u00e7\u00f5es que reduzissem as probabilidades de colis\u00f5es. \n\nOs escassos recursos do canal podem ser melhor utilizados se os terminais implementarem um \n\nmecanismo eficiente de escuta do canal antes de transmitir o pacote. O protocolo Carrier Sense \n\nMultiple Access (CSMA) consiste em escutar o meio antes de tentar uma transmiss\u00e3o [63]. No que \n\nrespeita \u00e0s estrat\u00e9gias de escuta os protocolos CSMA podem ser classificados em: \n\n? N\u00e3o Persistente \u2013 Se o meio n\u00e3o est\u00e1 ocupado, transmite. Caso contr\u00e1rio se o meio estiver \n\nocupado, espera um tempo aleat\u00f3rio e volta a escutar. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 48 \n\n? 1 Persistente (ou apenas persistente) \u2013 Se o meio n\u00e3o est\u00e1 ocupado, transmite. Se o meio est\u00e1 \n\nocupado, continua a escutar at\u00e9 o meio deixar de estar ocupado. Ent\u00e3o transmite \n\nimediatamente. \n\n? P Persistente \u2013 Se o meio n\u00e3o est\u00e1 ocupado, transmite com probabilidade P ou atrasa \n\ntransmiss\u00e3o com probabilidade (1-P). Caso contr\u00e1rio se o meio estiver ocupado, continua a \n\nescutar at\u00e9 o meio deixar de estar ocupado e ent\u00e3o transmite com probabilidade P ou atrasa \n\ntransmiss\u00e3o com probabilidade (1-P). \n\nO protocolo CSMA n\u00e3o elimina por si s\u00f3 as colis\u00f5es, mas redu-las consideravelmente. Muitas \n\nvaria\u00e7\u00f5es do protocolo CSMA foram propostas e s\u00e3o hoje utilizadas nas redes sem fios para \n\naumentar a efici\u00eancia do seu m\u00e9todo, como por exemplo: CSMA/CD, CSMA/CA e o CSMA with \n\nACK.  \n\nPor exemplo, o CSMA/CD (\"Carrier-Sense Multiple Access with Collision Detection\", com dete\u00e7\u00e3o \n\nde colis\u00e3o) \u00e9 usado em redes ethernet. Por sua vez, o CSMA/CA (\" Carrier-Sense Multiple Access \n\nwith Collision Avoidance\", com preven\u00e7\u00e3o de colis\u00e3o) \u00e9 popular em redes locais sem fios. \n\n3.3.3.1. Protocolo CSMA/CD \n\nO CSMA/CD (em que CD significa Collision Detection) \u00e9 o m\u00e9todo utilizado para controlar o \n\nacesso ao meio em redes ethernet half duplex.  \n\nO CSMA/CD funciona da seguinte forma: \n\n? Se n\u00e3o detetar sinal no meio antes de transmitir come\u00e7a a transmitir. Durante a transmiss\u00e3o \n\nverifica se houve colis\u00e3o. \n\n? Se detetar um sinal no meio antes de transmitir, espera que este sinal termine e come\u00e7a a \n\ntransmitir logo a seguir. \n\nO mecanismo CD obriga os n\u00f3s a escutarem a rede enquanto emitem dados, raz\u00e3o pela qual o \n\nCSMA/CD \u00e9 tamb\u00e9m conhecido por \u201cListen While Talk\u201d (LWT). Neste mecanismo, se for detetada \n\numa colis\u00e3o, deixa-se de transmitir e \u00e9 emitido um sinal (\u201cjam\u201d) com uma sequ\u00eancia de 48 bits para \n\ngarantir que os outros terminais tamb\u00e9m a detetam. Posteriormente os terminais envolvidos esperam \n\num determinado tempo aleat\u00f3rio antes de voltar a tentar utilizando um algoritmo de binary \n\nexponencial backoff em que o tempo de espera para novas tentativas (at\u00e9 15) vai duplicando em \n\ncada tentativa falhada. Ap\u00f3s 15 tentativa admite haver falha na rede. Neste caso, existe um aspeto \n\nhttp://pt.wikipedia.org/wiki/Ethernet\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 49 \n\nimportante a considerar para que as colis\u00f5es sejam detetadas com sucesso: o tamanho m\u00ednimo dos \n\npacotes deve ser tal que o seu tempo de transmiss\u00e3o seja superior ao dobro do atraso de propaga\u00e7\u00e3o. \n\nSe isto n\u00e3o acontecer uma esta\u00e7\u00e3o pode completar a emiss\u00e3o do pacote sem que o sinal produzido \n\npela colis\u00e3o chegue a tempo. Ou seja se ?? \u00e9 o tempo de propaga\u00e7\u00e3o, ? a taxa de transmiss\u00e3o e M o \n\ntamanho m\u00ednimo do pacote tem-se:  \n\n? ? 2 ? ??                                     (3.1) \n\nO m\u00e9todo CSMA/CD utiliza o algoritmo 1-Persistente que \u00e9 o mais eficiente para utiliza\u00e7\u00e3o do \n\nmeio de transmiss\u00e3o, ou seja o terminal transmite logo que o meio seja livre, como \u00e9 apresentado na \n\nfigura 3.3. \n\n \n\n \n\nFigura 3.3: Fluxograma do algoritmo de funcionamento do CSMA/CD. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 50 \n\n3.3.3.2. Protocolo CSMA/CA \n\nO protocolo CSMA/CA (em que CA significa Collision Avoidance) \u00e9 um protocolo utilizado nas \n\nredes sem fios [64]. O CSMA/CA difere do m\u00e9todo CSMA/CD porque o seu m\u00e9todo de \n\ntransmiss\u00e3o possui um grau de ordena\u00e7\u00e3o maior que o seu antecessor (CSMA/CD) e tamb\u00e9m pelo \n\nfacto de, no meio sem fios as colis\u00f5es serem dif\u00edceis de detetar, uma vez que nem todos os terminais \n\npodem escutar-se uns aos outros [64]. \n\nO CSMA utiliza dois m\u00e9todos basicos para acesso ao meio: o DCF (Distributed Coordination \n\nFunction) e o PCF (Point Coordination Function) [64]. O m\u00e9todo DFC fornece mecanismos \u00e0s \n\nesta\u00e7\u00f5es para negociar o acesso e para fornecer uma entrega fi\u00e1vel dos dados [64]. O m\u00e9todo PCF \n\nfornece um servi\u00e7o \u201cConnection oriented\u201d para tr\u00e1fego com requisitos de largura de banda e atraso \n\ntais como a VoIP. O PCF funciona com base em Polling em que uma esta\u00e7\u00e3o coordenadora (Point \n\nCoordinator) vai perguntando a cada uma das outras se quer transmitir [64]. \n\nEm termos de acesso ao meio as esta\u00e7\u00f5es a funcionar no modo PCF t\u00eam prioridade em rela\u00e7\u00e3o ao \n\nterminais DCF. Essa prioridade \u00e9 escalonada com base em intervalos de tempo diferentes que cada \n\nesta\u00e7\u00e3o tem que esperar antes de tentar aceder ao meio [64].  \n\nS\u00e3o definidos os seguintes intervalos por ordem crescente de dura\u00e7\u00e3o: \n\n? Short InterFrame Spaces (SIFS) - \u00e9 o intervalo de espera mais curto e \u00e9 utilizado por todas \n\nas esta\u00e7\u00f5es para enviar pacotes de pedido ou de confirma\u00e7\u00e3o ( ACK, RTS, CTS, etc), \n\n? PCF InterFrame Spaces (PIFS) - \u00e9 o intervalo de espera interm\u00e9dio que permite \u00e0s esta\u00e7\u00f5es \n\nPCF transmitir. \n\n? DCF InterFrame Spaces (DIFS) - \u00e9 o intervalo de espera m\u00e1ximo associado ao modo de \n\nDCF, dando-lhes a menor prioridade. \n\nAssim, o CA significa evitar colis\u00f5es onde elas s\u00e3o mais prov\u00e1veis, ou seja depois de uma \n\ntransmiss\u00e3o \u00e9 prov\u00e1vel que duas ou mais esta\u00e7\u00f5es tentem transmitir ao mesmo tempo. O seu \n\nprinc\u00edpio de funcionamento \u00e9 apresentado na figura 3.4 (adaptada a partir de [64]) e baseia-se no \n\nseguinte:  \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 51 \n\n? Se o meio est\u00e1 livre quando inicia a escuta, continua a escutar durante um intervalo DIFS e \n\nse o meio continuar livre transmite, \n\n? Quando o meio est\u00e1 ocupado espera que este fique livre e: \n\n1- espera  um intervalo DIFS \n\n2- durante o per\u00edodo de backoff as esta\u00e7\u00f5es que querem transmitir v\u00e3o decrementando o slot \n\ntime associado aos seus pacotes por cada slot escutado vazio, \n\n3- se slot time associado aos seus pacotes ficar igual a 0, transmite, \n\n \n\nFigura 3.4: Estrutura de funcionamento do CSMA/CA. \n\nO n\u00famero de slots de espera por cada pacote \u00e9 definido aleatoriamente (e uniformemente) logo \u00e0 \n\npartida, de acordo com o congestionamento verificado entre 0 (zero) e ?? (Congestion Window)  \n\nslots [64]. O algoritmo de c\u00e1lculo da ?? funciona da seguinte forma: \n\nO valor inicial da ?? \u00e9 inicialmente definido como ????? (pr\u00e9-determinado). \n\nPor cada retransmiss\u00e3o n verificada o valor de ?? \u00e9 definido como: \n\n2?(????? + 1) ? 1                                                            (3.2) \n\nAt\u00e9 que CW atinja o valor pr\u00e9-determinado ?????, mantendo-se igual a ?????. \n\nO n\u00famero de slots de espera por cada pacote vai sendo decrementado por cada slot que \u00e9 escutado \n\nvazio. Assim, os pacotes que est\u00e3o \u00e0 espera mais tempo t\u00eam mais probabilidade de serem os \n\nseguintes. \n\nUma esta\u00e7\u00e3o que receba bem um pacote envia um ACK no sentido inverso. Esse ACK tem mais \n\nprioridade uma vez que apenas tem que esperar um intervalo de tempo SIFS. \n\nAs colis\u00f5es s\u00e3o deduzidas pela aus\u00eancia de ACK e n\u00e3o atrav\u00e9s da escuta, tal como acontecia no \n\nCollision Detection. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 52 \n\nO protocolo CSMA em redes sem fios utiliza habitualmente o pacote de ACK [65] para verificar a \n\ncorreta rece\u00e7\u00e3o dos dados transmitidos. Se nenhum ACK for recebido dentro de um determinado \n\ntempo (? = 2?? + ????, onde ?? \u00e9 o atraso de propaga\u00e7\u00e3o e ????, \u00e9 o tempo de transmiss\u00e3o do \n\nACK), o pacote de dados \u00e9 retransmitido. Este processo \u00e9 repetido at\u00e9 que, a rece\u00e7\u00e3o seja bem-\n\nsucedida ou at\u00e9 que o limite m\u00e1ximo de tentativas (maxRetries) seja atingido [65]. O valor do atraso \n\nde propaga\u00e7\u00e3o ?? \u00e9 inicialmente ajustado com um valor superior ao atraso m\u00e1ximo de propaga\u00e7\u00e3o \n\n(maxDelay) [65]. O tempo de backoff \u00e9 escolhido de forma aleat\u00f3ria e uniformemente no intervalo \n\n[0, T] onde T = 2??????? (2maxDelay + ????? + ????). Onde ????? \u00e9 o tempo necess\u00e1rio para \n\ntransmitir um pacote de dados (na vers\u00e3o do CSMA sem ader\u00eancia a ACK \u00e9 assumido ser zero) \n\n[65].  \n\n3.3.3.3. Problemas do n\u00f3 escondido e exposto \n\nNa figura 3.5, podemos observar uma rede formada por tr\u00eas terminais, onde os c\u00edrculos em torno de \n\ncada n\u00f3 mostram o alcance da comunica\u00e7\u00e3o de cada n\u00f3. \n\nO n\u00f3 escondido ocorre quando numa transmiss\u00e3o de A para B como mostra a figura 3.5, um terceiro \n\nn\u00f3 C estiver no alcance de transmiss\u00e3o de B mas n\u00e3o ao alcance de A. Por n\u00e3o ouvir a transmiss\u00e3o \n\nde A para B, C pode transmitir ao mesmo tempo, causando colis\u00e3o em B (n\u00f3 A oculto ou escondido \n\na C) [10].  \n\nO CSMA \u00e9 tamb\u00e9m suscet\u00edvel ao problema do n\u00f3 exposto, que ocorre quando B transmite para A \n\nna presen\u00e7a de C; como C est\u00e1 ao alcance de B, ter\u00e1 sua transmiss\u00e3o adiada, mesmo se quiser \n\ntransmitir a n\u00f3s diferentes de A e B (n\u00f3 C exposto a B) [10]. \n\n \n\nFigura 3.5: Funcionamento do CSMA exemplificando o problema dos n\u00f3s expostos e escondido. \n\nPara resolver estes problemas foram propostos mecanismos de envio de pacotes de controlo RTS e \n\nCTS, que passaremos a analisar em seguida. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 53 \n\n3.3.4. Protocolo Multiple Access with Collision Avoidance \n\nO protocolo MACA foi proposto por Karn em [60] para evitar colis\u00f5es no recetor, como alternativa \n\npara o CSMA. Este protocolo usa dois pacotes de sinaliza\u00e7\u00e3o, o Request-to-Send (RTS) e o Clear-\n\nto-Send (CTS). Quando um n\u00f3 A deseja enviar uma mensagem ao n\u00f3 B, ele primeiro inicia o \n\nprotocolo com o envio de um pequeno pacote de RTS, que cont\u00e9m o comprimento da mensagem \n\nque se pretende enviar ao n\u00f3 B. Se o n\u00f3 B receber o RTS e puder receber o pacote de A, ele \n\nresponde com um CTS, que tamb\u00e9m cont\u00e9m o comprimento da mensagem. Ao receber o CTS o n\u00f3 \n\nA inicia ent\u00e3o a transmiss\u00e3o dos dados. A figura 3.6 apresenta a estrutura do funcionamento do \n\nprotocolo MACA. \n\n \n\nFigura 3.6: Estrutura de funcionamento do protocolo MACA. \n\nSe um terceiro n\u00f3 ouvir um RTS, mas n\u00e3o ouvir um CTS, decide que ele est\u00e1 fora do alcance do \n\nrecetor e por isso pode transmitir o seu pr\u00f3prio pacote. Neste caso o protocolo MACA pode resolver \n\ntanto os problemas de n\u00f3 escondido como o do n\u00f3 exposto [10] que n\u00e3o foram resolvidos pelo \n\nprotocolo CSMA. \n\nNo protocolo de acesso ao meio MACA o controlo de pot\u00eancia autom\u00e1tico pode ser incorporado de \n\numa forma simples [60]. Durante a mudan\u00e7a RTS-CTS, os n\u00f3s da rede percebem o n\u00edvel de \n\npot\u00eancia m\u00ednimo necess\u00e1rio para uma comunica\u00e7\u00e3o confi\u00e1vel por tentativa e erro. Com controlo de \n\npot\u00eancia, um n\u00f3 que ouve um CTS n\u00e3o precisa terminar as suas transmiss\u00f5es. De forma a limitar a \n\nsua pot\u00eancia de sa\u00edda a um n\u00edvel que n\u00e3o vai ser ouvido pelo n\u00f3 que enviou o CTS, pode continuar \n\nas suas transmiss\u00f5es com os n\u00f3s que requerem menos pot\u00eancia de sa\u00edda [60].  \n\nO protocolo MACA depende fortemente da simetria do canal, isto \u00e9, um CTS deve ser ouvido por \n\ntodos os n\u00f3s da rede dentro da faixa do n\u00f3 recetor. No entanto, caso se utilize o controlo de \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 54 \n\npot\u00eancia, esta simetria pode ser perdida [10]. Portanto, \u00e9 melhor enviar sinais CTS a um n\u00edvel de \n\npot\u00eancia mais elevado para garantir que todos os n\u00f3s dentro deste alcance possam ouvi-lo [10].  \n\nO protocolo MACA pode ser utilizado como base de um protocolo de acesso ao meio para redes \n\nac\u00fasticas submarinas. Os pacotes extra de RTS-CTS adicionam uma sobrecarga, mas a redu\u00e7\u00e3o de \n\nretransmiss\u00f5es podem compensar esse aumento [10]. Para melhorar o protocolo MACA, \n\nBharghavan et al. [61] propuseram o MACAW (MACA-Wireless) introduzindo um pacote do ACK \n\ne escalonamento. \n\n3.3.5. Protocolo MACA-Wireless \n\nO protocolo MACAW \u00e9 uma vers\u00e3o modificada do protocolo MACA. Este protocolo foi proposto \n\npor Bharghavan et al. [61] para melhorar o desempenho e a fiabilidade do protocolo MACA com a \n\ntransmiss\u00e3o de uma trama de ACK ap\u00f3s cada rece\u00e7\u00e3o bem-sucedida, possibilitando ao emissor a \n\nretransmiss\u00e3o de pacotes que n\u00e3o tenham sido corretamente recebidos pelo recetor. O seu princ\u00edpio \n\nde funcionamento \u00e9 apresentado na figura 3.7 (a).  \n\nQuando um n\u00f3 A deseja enviar uma mensagem ao n\u00f3 B, ele primeiro inicia o protocolo com o envio \n\nde um RTS ao n\u00f3 B. Se o n\u00f3 B receber o RTS, ele responde com um CTS. Ao receber o CTS o n\u00f3 \n\nA transmite um pacote de dados ao n\u00f3 B. O n\u00f3 B ao receber o pacote de dados com sucesso \n\ntransmite um ACK ao n\u00f3 A ap\u00f3s cada rece\u00e7\u00e3o bem-sucedida.    \n\n \n\n \n\nFigura 3.7: Protocolo MACA-Wireless: (a) funcionamento, (b) sem resposta CTS e (c) pacote WAIT. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 55 \n\nApesar da sobrecarga introduzida, o ganho obtido na efici\u00eancia \u00e9 compensador. No entanto, a n\u00e3o \n\nrece\u00e7\u00e3o de CTS em resposta a um RTS leva o emissor a repetir o RTS por um n\u00famero de vezes \n\npredeterminado, ap\u00f3s o que, sem sucesso, desiste da comunica\u00e7\u00e3o como mostra a figura 3.7 (b). \n\nEsse esquema \u00e9 inconveniente pois desperdi\u00e7a energia quando o n\u00f3 destino, apesar de ativo, estiver \n\ntemporariamente impossibilitado de responder. \n\nPara resolver esse problema em [66] Doukkali e Nuaymi prop\u00f5em o acr\u00e9scimo de um pacote de \n\nWAIT, a ser usado pelo destino quando estiver temporariamente impossibilitado de atender a um \n\nRTS. Um exemplo \u00e9 como apresentado na figura 3.7 (c). \n\n \n\nFigura 3.8: Teste de pot\u00eancias durante troca de tramas RTS e CTS. \n\nUma caracter\u00edstica importante dos m\u00e9todos que usam RTS e CTS consiste em que os n\u00f3s da rede \n\npodem testar o canal durante essa troca de RTS e CTS. Apesar de ter sido especificado para redes \n\nsem fios, esta solu\u00e7\u00e3o \u00e9 muito conveniente para as redes ac\u00fasticas submarinas, por possibilitar a \n\nadequa\u00e7\u00e3o das pot\u00eancias de transmiss\u00e3o ao m\u00ednimo necess\u00e1rio para obter comunica\u00e7\u00e3o fi\u00e1vel. Em \n\n[67] Doukalli et al. descrevem esse esquema apresentado na figura 3.8. Os n\u00f3s da rede transmitem o \n\nRTS e CTS, sempre com a pot\u00eancia m\u00e1xima. Ao receber um RTS o n\u00f3 de destino envia, junto com \n\no CTS, uma informa\u00e7\u00e3o sobre a rela\u00e7\u00e3o entre a pot\u00eancia recebida e a pot\u00eancia m\u00ednima que necessita \n\npara descodificar corretamente os sinais recebidos (r1). Atrav\u00e9s dessa informa\u00e7\u00e3o o n\u00f3 que enviou o \n\nRTS pode ent\u00e3o combinar a pot\u00eancia necess\u00e1ria e suficiente para enviar dados de forma fi\u00e1vel \n\naquele n\u00f3. Ao enviar o pacote de dados, o n\u00f3 que iniciou a comunica\u00e7\u00e3o envia tamb\u00e9m a \n\ninforma\u00e7\u00e3o da rela\u00e7\u00e3o entre a pot\u00eancia do CTS recebido e a pot\u00eancia m\u00ednima de que necessita para \n\ndescodificar corretamente os sinais (r2). Dessa forma o n\u00f3 destino tamb\u00e9m pode adequar a pot\u00eancia \n\ndas suas transmiss\u00f5es ao n\u00f3 que iniciou a comunica\u00e7\u00e3o. Assim os n\u00f3s da rede podem gerar uma \n\ntabela din\u00e2mica com as pot\u00eancias necess\u00e1rias \u00e0s transmiss\u00f5es aos seus vizinhos. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 56 \n\nO protocolo FAMA (Floor Acquisition Multiple Access) [68] aumenta a dura\u00e7\u00e3o dos pacotes de \n\nRTS e CTS para al\u00e9m do tempo m\u00e1ximo de propaga\u00e7\u00e3o da rede para prevenir as suas colis\u00f5es com \n\npacotes de dados. Foi mostrado pelos autores em [68] que a aus\u00eancia de colis\u00f5es \u00e9 garantida se a \n\ndura\u00e7\u00e3o do RTS for maior que o maior atraso de propaga\u00e7\u00e3o e se a dura\u00e7\u00e3o do CTS for maior que a \n\ndura\u00e7\u00e3o do RTS, somado com o atraso na comuta\u00e7\u00e3o do hardware entre TX (Transmissor) e RX \n\n(Recetor) e mais duas vezes o maior atraso de propaga\u00e7\u00e3o [27].  \n\nSegundo os autores em [61], a adi\u00e7\u00e3o de ACK em ambientes de grandes lat\u00eancias n\u00e3o foram \n\nconsiderados. Embora este esquema garanta aus\u00eancia de colis\u00f5es, a sua aplica\u00e7\u00e3o a redes ac\u00fasticas \n\nsubmarinas representa um desperd\u00edcio de energia devido aos elevados atrasos de propaga\u00e7\u00e3o. \n\n3.4. Mecanismos de controlo de acesso ao meio propostos para \n\nredes de ac\u00fasticas submarina \n\nBaseando nos tr\u00eas protocolos de acesso ao meio para redes sem fios (MACA, MACAW e FAMA) \n\nforam apresentadas diversas propostas de adapta\u00e7\u00e3o para uso nas redes ac\u00fasticas submarinas. Nesta \n\nse\u00e7\u00e3o, apresentaremos os mecanismos de funcionamento dos principais protocolos de acesso ao \n\nmeio existentes nas redes ac\u00fasticas submarinas. \n\n3.4.1. Protocolo Slotted FAMA \n\nO protocolo Slotted FAMA foi proposto por Molins e Stojanovic em [27], acrescentando slots de \n\ntempo ao esquema proposto no FAMA original, com o objetivo de limitar o impacto dos longos \n\natrasos de propaga\u00e7\u00e3o do canal ac\u00fastico submarino. As transmiss\u00f5es s\u00f3 ocorrem dentro desses slots \n\nde tempo caso o canal esteja livre. Quando o emissor envia um RTS e n\u00e3o recebe o respetivo CTS \n\nno slot de tempo seguinte, assume que houve uma colis\u00e3o, voltando a enviar um novo RTS ap\u00f3s um \n\nper\u00edodo aleat\u00f3rio de backoff [27].  \n\nO princ\u00edpio de funcionamento do protocolo Slotted FAMA baseia-se no seguinte: quando um n\u00f3 \n\ntem um pacote de dados para enviar ele espera at\u00e9 o in\u00edcio do pr\u00f3ximo slot e transmite um pacote de \n\nRTS. Este pacote \u00e9 recebido pelo n\u00f3 destino e todos os n\u00f3s vizinhos do n\u00f3 de origem dentro do slot \n\nde tempo [27]. O n\u00f3 destino se n\u00e3o estiver ocupado com outras comunica\u00e7\u00f5es, responde com envio \n\nde um pacote CTS no in\u00edcio do slot seguinte. O pacote de CTS \u00e9 recebido dentro do slot de tempo \n\npelo n\u00f3 de origem e por todos os n\u00f3s no alcance do n\u00f3 destino. Quando o n\u00f3 de origem receber \n\ncorretamente o CTS ele fica \u00e0 espera at\u00e9 o in\u00edcio do pr\u00f3ximo slot e, em seguida, come\u00e7a a enviar o \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 57 \n\npacote de dados. Quando o n\u00f3 de destino receber o pacote de dados, ele envia um pacote de ACK \n\npara indicar que a transmiss\u00e3o foi bem-sucedida [27]. \n\nA figura 3.9 apresenta a estrutura do funcionamento do protocolo Slotted FAMA no caso de uma \n\ntransmiss\u00e3o bem-sucedida. \n\nO protocolo Slotted FAMA baseia-se na dete\u00e7\u00e3o de portadora. Isto significa que os n\u00f3s da rede \n\nest\u00e3o constantemente a ouvir o canal. Todos os n\u00f3s da rede ficam em estado de repouso at\u00e9 que \n\nsintam a portadora no canal ou at\u00e9 que tenham dados para transmitir [27]. Se um pacote estiver \n\npronto para ser transmitido no in\u00edcio de um slot e n\u00e3o for detetada nenhuma portadora, o n\u00f3 envia \n\num RTS e fica \u00e0 espera durante os dois slots de tempo (o corrente e o pr\u00f3ximo slot) por um pacote \n\nCTS. Se nenhum pacote de CTS for recebido durante este tempo, \u00e9 assumido que houve uma \n\ncolis\u00e3o e o n\u00f3 entra no estado backoff. A dura\u00e7\u00e3o do tempo backoff \u00e9 determinada aleatoriamente e \n\nuniformemente pelo n\u00famero de slots escolhido no intervalo [1, ???? ] [27], onde ???? representa o \n\nn\u00famero m\u00e9dio de slots necess\u00e1rios para transmitir corretamente o pacote. Depois disso, o pacote de \n\nRTS \u00e9 reenviado se n\u00e3o for detetado nenhuma portadora durante o tempo de backoff. Quando um \n\nCTS \u00e9 recebido com sucesso, o n\u00f3 come\u00e7a a enviar o pacote de dados no pr\u00f3ximo slot. \n\n \n\n \n\n \n\n \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 58 \n\n \n\nFigura 3.9: Estrutura de funcionamento do protocolo Slotted FAMA. \n\nQuando um n\u00f3 detetar uma portadora no canal entra no estado de rece\u00e7\u00e3o, (enquanto estiver a \n\nreceber o pacote). O tipo de pacote recebido ir\u00e1 determinar as a\u00e7\u00f5es do recetor, da seguinte forma: \n\n? Depois de receber um pacote RTS destinado a outra esta\u00e7\u00e3o o n\u00f3 deve esperar dois slots de \n\ntempo (tempo necess\u00e1rio para que o recetor envie um CTS e o tempo necess\u00e1rio para \n\nemissor iniciar a transmiss\u00e3o de dados). Se ap\u00f3s este per\u00edodo, nenhuma portadora for \n\ndetetada, o n\u00f3 volta para o estado de repouso [27].  \n\n? Depois de receber um pacote CTS destinado a outra esta\u00e7\u00e3o um n\u00f3 deve esperar o tempo \n\nsuficiente de forma a permitir que a outra esta\u00e7\u00e3o transmita o pacote de dados e receba o \n\nACK correspondente. Como o n\u00f3 recebeu o pacote de CTS, tamb\u00e9m ir\u00e1 receber o pacote \n\nACK e, assim, saber\u00e1 se a transmiss\u00e3o de dados terminou com \u00eaxito [27]. \n\n? Depois de receber um pacote de dados destinado a outra esta\u00e7\u00e3o o n\u00f3 deve esperar o tempo \n\nsuficiente de forma a permitir a rece\u00e7\u00e3o do pacote de ACK subsequente. Caso um n\u00f3 n\u00e3o \n\nconsiga ouvir o ACK deve esperar um slot de tempo adicional para detetar se o pacote de \n\ndados foi reenviado ou n\u00e3o [27]. \n\n? Depois de ouvir um ACK destinado a outra esta\u00e7\u00e3o o n\u00f3 apenas tem de esperar at\u00e9 ao fim do \n\nslot uma vez que a transmiss\u00e3o de dados terminou com sucesso [27]. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 59 \n\n? Se algum n\u00f3 sentir alguma interfer\u00eancia no canal, \u00e9 assumido que houve uma colis\u00e3o. Se ele \n\nn\u00e3o souber quais foram os pacotes que colidiram \u00e9 considerada a pior suposi\u00e7\u00e3o, e ele age \n\ncomo se tivesse recebido um pacote de CTS que \u00e9 uma situa\u00e7\u00e3o que requer um longo tempo \n\nde espera [27]. \n\n3.4.1.1. Mecanismo de backoff utilizado pelo protocolo Slotted \n\nFAMA \n\nNo protocolo FAMA original, quando um n\u00f3 n\u00e3o recebe um CTS em resposta ao seu pacote RTS, \n\nele entra no estado backoff. O tempo de backoff \u00e9 definido aleatoriamente num intervalo entre um \n\nm\u00ednimo e um m\u00e1ximo, e depois do backoff, o pacote de RTS \u00e9 reenviado [27]. Se for detetada uma \n\nportadora no canal enquanto um n\u00f3 estiver no estado de backoff, o n\u00f3 entra no estado de rece\u00e7\u00e3o, \n\nexecutando todas as opera\u00e7\u00f5es requeridas pelo pacote recebido. Quando todas estas opera\u00e7\u00f5es \n\nforem efetuadas, o n\u00f3 retorna ao estado backoff e rep\u00f5e um novo tempo de backoff [27]. \n\nEm ambientes onde h\u00e1 muito tr\u00e1fego (ou seja, numa rede com um n\u00f3 com muitos vizinhos) o tempo \n\nnecess\u00e1rio para obter acesso ao canal pode ser muito longo em consequ\u00eancia dos backoffs [27]. Isto \n\nverifica-se em consequ\u00eancia do n\u00f3 deixar o estado backoff devido a entrada de um pacote, e voltar a \n\nrep\u00f4-lo no final [27].  \n\nPara atenuar este problema, o tempo de backoff pode ser reduzido, mas isso implicaria um outro \n\nproblema: com tempos de backoffs reduzidos, a probabilidade de dois ou mais n\u00f3s vizinhos \n\nescolherem o mesmo tempo aumenta e, portanto aumentaria consideravelmente a probabilidade do \n\nreenvio dos seus RTS no mesmo instante. \n\nNeste sentido a solu\u00e7\u00e3o proposta consistiu em redefinir o tempo de backoff cada vez que o n\u00f3 \n\nretorne ao estado de backoff  [27]. \n\nIsto significa que o tempo de backoff deve ser escolhido quando n\u00e3o h\u00e1 resposta a um RTS enviado. \n\nNeste sentido, \u00e9 definido um temporizador (timer) com o tempo de backoff aleat\u00f3rio [27]. Se \n\ndurante este tempo de backoff, o n\u00f3 tiver que sair deste estado devido a uma nova transmiss\u00e3o, o \n\ntempo continuar\u00e1 a contar [27]. Quando o n\u00f3 volta ao estado backoff, o tempo de backoff n\u00e3o \u00e9 \n\nreposto [27]. Quando terminar o tempo, o pacote RTS \u00e9 reenviado. Isto permite o protocolo \n\nmelhorar o seu desempenho em situa\u00e7\u00f5es de elevado tr\u00e1fego sem ter que diminuir o tempo de \n\nbackoff  [27]. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 60 \n\n3.4.2. Protocolo de configura\u00e7\u00e3o do handshake \n\nO protocolo de acesso ao meio baseado na configura\u00e7\u00e3o do handshake foi apresentado por Peleato e \n\nStojanovic em [45], para adequar-se as redes ac\u00fasticas submarinas com energia limitada e \n\ncaracterizada por longo atraso de propaga\u00e7\u00e3o. Este protocolo tem como objetivo limitar os efeitos \n\nda longa dura\u00e7\u00e3o da troca dos pacotes de RTS e CTS, onde a temporiza\u00e7\u00e3o do handshake \u00e9 \n\nproporcional \u00e0 separa\u00e7\u00e3o dos n\u00f3s envolvidos na comunica\u00e7\u00e3o [45]. Para fazer isso, o protocolo \n\ndetermina a capacidade de um recetor em tolerar um certo n\u00edvel de interfer\u00eancia [45]. Ao adaptar o \n\nprocesso de handshake \u00e0 dist\u00e2ncia entre os n\u00f3s consegue-se aumentar o rendimento e a efici\u00eancia, \n\nenquanto se evitam colis\u00f5es o que por sua vez minimiza o consumo de energia [45]. \n\nPara evitar colis\u00f5es, o protocolo alonga o processo de handshake para al\u00e9m do m\u00ednimo necess\u00e1rio, \n\ndefinindo os par\u00e2metros de transmiss\u00e3o de acordo com o atraso m\u00e1ximo de propaga\u00e7\u00e3o [45]. Para \n\nisso \u00e9 definido um ???? (comprimento m\u00ednimo de handshake) que permitir\u00e1 otimizar o protocolo \n\npara uma determinada rede. \n\nNuma rede onde a maioria das liga\u00e7\u00f5es est\u00e3o pr\u00f3ximas do alcance de transmiss\u00e3o, deve ser \n\natribu\u00eddo ao ???? um valor t\u00e3o longo como o tempo de ida e volta. Quando as liga\u00e7\u00f5es s\u00e3o mais \n\ncurtas, pode ser reduzido [45]. \n\nO princ\u00edpio de funcionamento do protocolo de configura\u00e7\u00e3o do handshake baseia-se no seguinte: ao \n\nreceber um RTS, o n\u00f3 recetor responde imediatamente com um CTS, e em seguida, escuta o canal e \n\nfica \u00e0 espera do pacote de dados [45]. Se durante este per\u00edodo de escuta ele ouvir um pacote RTS \n\npara outro n\u00f3, ele envia um pequeno pacote de aviso para o seu vizinho (o n\u00f3 a quem tinha enviado \n\no CTS) [45]. Ao receber um CTS, o n\u00f3 emissor espera algum tempo antes de transmitir o pacote de \n\ndados [45]. Se ouvir um outro CTS ou um aviso do seu vizinho durante este tempo, o n\u00f3 interrompe \n\na transmiss\u00e3o. A dura\u00e7\u00e3o do per\u00edodo de espera depende da dist\u00e2ncia entre os n\u00f3s e do tempo de ida \n\ne volta que o emissor utiliza para medi\u00e7\u00e3o do RTS / CTS [45]. \n\nA figura 3.10 apresenta a estrutura de funcionamento do protocolo baseado na configura\u00e7\u00e3o do \n\nhandshake. \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 61 \n\n \n\nFigura 3.10: Estrutura de funcionamento do protocolo baseado na configura\u00e7\u00e3o do handshake. \n\nNa figura 3.10, o n\u00f3 B quer transmitir um pacote para o n\u00f3 A, e o n\u00f3 D quer transmitir um pacote \n\npara o n\u00f3 C. Os n\u00f3s B e A est\u00e3o dentro do outro intervalo diferente dos n\u00f3s D e C. No entanto, os \n\nn\u00f3s B e C podem ouvir um ao outro, onde h\u00e1 uma grande probabilidade de interfer\u00eancia. Neste \n\nsentido a colis\u00e3o pode ser evitada utilizando um pequeno aviso. \n\nConsiderando que ? \u00e9 a dist\u00e2ncia entre dois n\u00f3s, e ? + ? \u00e9 a dist\u00e2ncia m\u00ednima de interfer\u00eancia para \n\nque uma rece\u00e7\u00e3o seja bem-sucedida, os tempos de propaga\u00e7\u00e3o correspondentes s\u00e3o obtidos \n\ndividindo as dist\u00e2ncias pela velocidade de som submarino. Assim, se ????? \u00e9 a dura\u00e7\u00e3o de um \n\npacote de dados, o per\u00edodo de espera (??) \u00e9 determinado pela seguinte express\u00e3o [45]: \n\n?? =\n\n{\n \n \n\n \n ???? ?\n\n2?\n\n?\n,              \n\n?\n\n?\n&lt;?1\n\n2(? + ?)\n\n?\n? ????   , ?/? ? (?1, ?2)\n\n2?\n\n?\n+ ?????   ,                     ?/? > ?2     \n\n                                                     (3.3) \n\nOnde [45] \n\n?1 =\n???? ? ??? (\n\n?\n?\n,????? )\n\n2\n                                                                                        (3.4) \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 62 \n\n?2 =\n????? + ????\n\n2\n                                                                                                           (3.5) \n\nExiste uma restri\u00e7\u00e3o adicional de que ?? > 2?/? para evitar colis\u00f5es de pacotes de dados com \n\npacotes de controlo. \n\nDevido a tamanhos de handshakes diferentes, podem colocar-se problemas de justi\u00e7a, que s\u00e3o \n\nresolvidos atribuindo a ???? um valor de 2? (o dobro do atraso m\u00e1ximo de propaga\u00e7\u00e3o). Com esse \n\nvalor, todos os handshakes t\u00eam a mesma dura\u00e7\u00e3o e n\u00e3o s\u00e3o necess\u00e1rios avisos, mas o rendimento \n\nglobal \u00e9 reduzido. \n\n3.4.3. Protocolo Tone-Lohi (T-Lohi) \n\nO protocolo T-Lohi \u00e9 um protocolo de acesso ao meio adaptado para redes ac\u00fasticas submarinas. \n\nEste protocolo foi proposto por Syed e Heidemann em [69] e baseia-se em conten\u00e7\u00e3o, onde os n\u00f3s \n\nda rede concorrem no acesso ao meio para transmiss\u00e3o de seus dados.  \n\nO protocolo T-Lohi utiliza duas formas para poupar energia: aloca\u00e7\u00e3o do canal para evitar colis\u00e3o \n\nno campo de dados e utiliza\u00e7\u00e3o de um recetor de baix\u00edssimo consumo para identificar tom de \n\ndespertar [69]. Os n\u00f3s da rede passam a maior parte do tempo em repouso, apenas ouvindo o meio \n\ncom um recetor de baixo consumo. A aloca\u00e7\u00e3o do canal \u00e9 feita durante um Per\u00edodo de Reserva (PR) \n\ncomposto por Per\u00edodos de Disputa pelo meio (PD), tantos quantos necess\u00e1rios para eleger o \n\nvencedor [69]. Durante os Per\u00edodos de Disputa os n\u00f3s da rede enviam curtos tons de disputa pelo \n\nmeio [69]. Se um n\u00f3 emitir um tom durante um desses per\u00edodos e n\u00e3o receber outros tons de disputa \n\nat\u00e9 o final do per\u00edodo de disputa em curso ent\u00e3o ganhou o meio. Pode nesse caso encerrar o Per\u00edodo \n\nde Reserva e iniciar sua transmiss\u00e3o [69]. Se durante o Per\u00edodo de disputa ao meio houver tons de \n\ndisputa de outros candidatos, todos os n\u00f3s desistem da transmiss\u00e3o e executam individualmente um \n\nprocedimento de backoff aleat\u00f3rio baseando no n\u00famero de candidatos \u00e0 transmiss\u00e3o naquele \n\nmomento, contados pelo n\u00famero de tons recebidos e tentam novamente no Per\u00edodo de Disputa \n\nseguinte, indicado pelo procedimento autom\u00e1tico de backoff [69]. O n\u00f3 que ganhar acesso ao canal \n\nenvia um tom de despertar a todos os n\u00f3s da rede, que despertam para verificar, pelo pre\u00e2mbulo, se \n\na mensagem no meio \u00e9 a ele destinada. Se assim for processam-na, caso contr\u00e1rio voltam ao estado \n\nde repouso [69]. Ao n\u00f3 que ganhou o meio e que acabou de transmitir seus dados \u00e9 suprimida \n\ntemporariamente a possibilidade de nova transmiss\u00e3o, com o objetivo de tornar o protocolo mais \n\neficiente [69].  \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 63 \n\nA figura 3.11 apresenta a estrutura de funcionamento do protocolo T-Lohi (adaptada a partir de \n\n[70]). O protocolo de acesso ao meio T-Lohi possui duas vers\u00f5es: uma vers\u00e3o mais agressiva \n\ndesignada de Tone-Lohi agressivo (aT-Lohi), e outra vers\u00e3o mais conservadora designada de Tone-\n\nLohi conservador (cT-Lohi) [70]. Na vers\u00e3o agressiva do protocolo o comprimento do tempo de \n\nespera \u00e9 igual \u00e0 dura\u00e7\u00e3o dos tons mais o atraso m\u00e1ximo de propaga\u00e7\u00e3o enquanto que na vers\u00e3o \n\nconservadora do protocolo o tempo de espera \u00e9 a dura\u00e7\u00e3o dos tons mais duas vezes o atraso m\u00e1ximo \n\nde propaga\u00e7\u00e3o [70]. \n\n \n\nFigura 3.11: Estrutura de funcionamento do protocolo T-Lohi. \n\n3.4.4. Protocolo PDAP (Propagation Delay Aware Protocol) \n\nO protocolo PDAP \u00e9 um protocolo de acesso ao meio proposto por Milica Stojanovic et al em [71] \n\nbaseando no protocolo de acesso ao meio CSMA para redes sem fios que foi adaptado para redes \n\nac\u00fasticas submarinas utilizando o mecanismo de RTS/CTS para reserva do canal e para transmiss\u00e3o \n\nde dados [71]. O protocolo PDAP tem como objetivo maximizar a utiliza\u00e7\u00e3o da largura de banda, \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 64 \n\nmantendo o controlo das transmiss\u00f5es dos vizinhos de forma a evitar colis\u00f5es e retransmiss\u00f5es, \n\npermitindo a transmiss\u00e3o de pacotes intercalados entre diferentes pares de n\u00f3s [71]. \n\nEm seguida analisaremos o funcionamento do protocolo PDAP. \n\nQuando um n\u00f3 tiver um pacote de dados para transmitir, primeiro verifica o seu cronograma com o \n\nobjetivo de encontrar tempos livres para troca de toda a informa\u00e7\u00e3o, isto \u00e9, para enviar o RTS, para \n\nreceber o CTS e enviar o pacote de dados [71]. \n\nO tempo de rece\u00e7\u00e3o do CTS deve iniciar-se ap\u00f3s a soma do tempo de chegada do RTS ao destino \n\ncom o tempo de volta do CTS \u00e0 origem. Do mesmo modo, o tempo de transmiss\u00e3o do pacote de \n\ndados deve ser programado imediatamente ap\u00f3s o tempo de rece\u00e7\u00e3o do CTS. Antes de enviar o \n\nRTS, o emissor fica \u00e0 espera por um tempo aleat\u00f3rio de forma a evitar a sincroniza\u00e7\u00e3o com outros \n\nemissores [71]. Este tempo de espera \u00e9 escolhido aleatoriamente e uniformemente no intervalo entre \n\n[0, T], onde T \u00e9 determinado pela seguinte express\u00e3o [71]: \n\n? = 2??????? (2???????? +  ???????)                                         (3.6)                                               \n\nem que txRetry indica o n\u00famero de retransmiss\u00f5es de um pacote, rtsTime \u00e9 o tempo que um n\u00f3 \n\ndemora para transmitir um pacote de RTS, e o maxDelay \u00e9 o atraso m\u00e1ximo de propaga\u00e7\u00e3o de um \n\npacote na rede, calculado com base no alcance m\u00e1ximo de transmiss\u00e3o e na velocidade de \n\npropaga\u00e7\u00e3o do som debaixo de \u00e1gua [71]. \n\nQuando um n\u00f3 quer enviar um RTS, primeiro verifica o estado do canal. Se estiver no estado de \n\nrepouso, o RTS \u00e9 enviado, ficando \u00e0 espera do CTS. Caso contr\u00e1rio, o emissor autoriza a \n\nprograma\u00e7\u00e3o (dos tempos do RTS, CTS e os tempos dos pacotes de dados), aumentando o contador \n\nde retransmiss\u00e3o e selecionando novos tempos para transmiss\u00e3o do RTS, para rece\u00e7\u00e3o do CTS e \n\npara transmiss\u00e3o de dados [71]. Ambos os pacotes de RTS e CTS cont\u00eam informa\u00e7\u00f5es sobre a \n\ndist\u00e2ncia entre a origem e o destino. Esta dist\u00e2ncia \u00e9 calculada com base no atraso de propaga\u00e7\u00e3o do \n\ncanal e no tempo do pacote de controlo [71].  \n\nQuando um potencial n\u00f3 interferente receber um pacote de controlo de um n\u00f3 vizinho, e no caso de \n\nser agendada uma transmiss\u00e3o que poderia colidir com a sua pr\u00f3pria comunica\u00e7\u00e3o, ele atualiza o \n\nseu cronograma, atrasando a sua transmiss\u00e3o [71]. Assim, a rece\u00e7\u00e3o de RTS e CTS por um poss\u00edvel \n\nn\u00f3 interferente \u00e9 tratado da seguinte forma: quando o n\u00f3 interferente receber um pacote RTS, ele \n\ndefine o seu NAV (Network Allocation Vector) de modo a que n\u00e3o sejam transmitidas informa\u00e7\u00f5es \n\nde controlo destinadas ao emissor durante o tempo agendado para rece\u00e7\u00e3o do CTS [71]. Esse n\u00f3 \n\ntamb\u00e9m n\u00e3o ir\u00e1 transmitir um pacote de controlo destinado ao recetor, enquanto o recetor estiver a \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 65 \n\nenviar o CTS. Da mesma forma, o n\u00f3 interferente n\u00e3o ir\u00e1 transmitir a informa\u00e7\u00e3o de controlo \n\ndestinado ao emissor durante a transmiss\u00e3o do pacote de dados [71]. Quando o n\u00f3 interferente \n\nreceber o CTS, ele atualiza o seu NAV de acordo com o tempo de rece\u00e7\u00e3o do CTS. Como \n\nconsequ\u00eancia, o n\u00f3 interferente n\u00e3o transmitir\u00e1 a informa\u00e7\u00e3o de controlo destinada ao recetor \n\ndurante a rece\u00e7\u00e3o do pacote de dados, e tamb\u00e9m n\u00e3o transmitir\u00e1 a informa\u00e7\u00e3o de controlo ao \n\nemissor durante a transmiss\u00e3o de dados [71].  \n\nO protocolo PDAP n\u00e3o utiliza uma pol\u00edtica agressiva para acesso ao canal, mas sim tenta agendar o \n\nmaior n\u00famero poss\u00edvel de transmiss\u00f5es paralelas. Os n\u00f3s da rede tentam evitar colis\u00f5es e os que s\u00e3o \n\nemissores s\u00e3o sincronizados durante a transmiss\u00e3o dos pacotes [71]. \n\n3.4.5. Protocolo DACAP (Distance Aware-Collision Avoidance \n\nProtocol) \n\nO Protocolo DACAP \u00e9 um protocolo de controlo de acesso ao meio baseado no protocolo MACA, \n\ndefinido para redes sem fios. O DACAP foi proposto recentemente por Borja Peleato e Milica \n\nStojanovic para redes ac\u00fasticas submarinas [46]. Este protocolo implementa mecanismos para evitar \n\ncolis\u00f5es de pacotes maximizando o d\u00e9bito na rede, n\u00e3o exigindo que os n\u00f3s da rede sejam \n\nsincronizados [46]. O protocolo DACAP tamb\u00e9m utiliza os pacotes sinaliza\u00e7\u00e3o RTS/CTS, e o \n\npacote de aviso (WARNING) para transmiss\u00e3o de dados. \n\nEm seguida passaremos a explicar o funcionamento do protocolo DACAP. Ao receber um RTS, o \n\nn\u00f3 recetor responde imediatamente enviando um CTS e fica \u00e0 espera de um pacote de dados. Se \n\ndurante a espera, ele receber pacote proveniente de um terceiro n\u00f3, o recetor envia um pequeno \n\naviso (WARNING) ao seu vizinho (o n\u00f3 a quem tinha enviado o CTS). Ao receber um CTS o n\u00f3 \n\nemissor espera durante algum tempo antes de transmitir o pacote de dados. Por sua vez, o n\u00f3 que \n\npretende enviar, se durante o per\u00edodo de espera escutar um pacote externo ou ouvir algum aviso \n\n(WARNING) ent\u00e3o adia a sua transmiss\u00e3o. \n\nA figura 3.12 apresenta um exemplo do mecanismo do funcionamento do protocolo DACAP. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 66 \n\n \n\nFigura 3.12: Estrutura de funcionamento do protocolo DACAP. \n\nA dura\u00e7\u00e3o do per\u00edodo de espera \u00e9 concebido quando se verifica que a rela\u00e7\u00e3o Interfer\u00eancia Sinal \n\nRu\u00eddo (SIR) \u00e9 muito elevada para continuar a transmiss\u00e3o [46]. A dura\u00e7\u00e3o desse per\u00edodo depende \n\nda dist\u00e2ncia entre os n\u00f3s (?) e o tempo de ida e volta dos pacotes RTS/CTS (i.e. 2?/?, onde ? \u00e9 a \n\nvelocidade de propaga\u00e7\u00e3o do som). Normalmente \u00e9 escolhido um per\u00edodo de espera que permita \n\ngarantir aus\u00eancia de colis\u00f5es [46]. Tamb\u00e9m s\u00e3o utilizados os protocolos de sinaliza\u00e7\u00e3o handshake \n\npara evitar colis\u00f5es entre n\u00f3s a uma determinada dist\u00e2ncia, isto \u00e9, as confirma\u00e7\u00f5es de handshake \n\nentre n\u00f3s vizinhos s\u00e3o feitas rapidamente, enquanto que entre n\u00f3s distantes s\u00e3o feitas lentamente. \n\nPara maximizar o d\u00e9bito da rede, \u00e9 definido o comprimento m\u00ednimo de handshake (????) para todos \n\nos n\u00f3s. Numa rede onde a maioria das liga\u00e7\u00f5es est\u00e3o pr\u00f3ximas da faixa de transmiss\u00e3o, ???? deve \n\nser igual ao dobro do atraso m\u00e1ximo de propaga\u00e7\u00e3o (2?), podendo ser reduzido quando as liga\u00e7\u00f5es \n\ns\u00e3o mais curtas. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 67 \n\nO protocolo de acesso ao meio DACAP possui duas vers\u00f5es: uma vers\u00e3o com ACK, e outra vers\u00e3o \n\nsem ACK. Na vers\u00e3o com ACK, o protocolo exige sincronismos ligeiramente diferentes em rela\u00e7\u00e3o \n\n\u00e0 vers\u00e3o sem ACK, a fim de acomodar a mensagem de ACK [46]. \n\n3.4.5.1. Vers\u00e3o do protocolo DACAP sem ACK \n\nQuando n\u00e3o \u00e9 utilizado o ACK, o recetor s\u00f3 envia um aviso se ocorrer um RTS entre 2? ? ???? \n\nsegundos depois de enviar um CTS. O emissor s\u00f3 adia a transmiss\u00e3o se ele receber um aviso do seu \n\nvizinho, ou ocorrer um CTS nos pr\u00f3ximos ???? segundos depois de enviar um RTS. \n\nConsiderando ? + ?? a dist\u00e2ncia m\u00ednima de interfer\u00eancia do n\u00f3 em caso de sucesso na rece\u00e7\u00e3o e \n\n????? a dura\u00e7\u00e3o do pacote de dados transmitidos, o per\u00edodo de espera ( ??) \u00e9 determinado pela \n\nseguinte express\u00e3o [46]: \n\n?? (\n?\n\n?\n) = {   \n\n???? ?\n2?\n\n?\n,              \n\n?\n\n?\n&lt;?1\n\n2(? + ??)\n\n?\n? ????   ,\n\n?\n\n?\n> ?1\n\n                                                                                   (3.7) \n\nEm que [46]:  \n\n?1 =\n???? ? ??? (\n\n??\n?\n,????? ,2? ? ????)\n\n2\n                                                                                      (3.8) \n\nH\u00e1 ainda uma restri\u00e7\u00e3o adicional que determina que ?? > 2??/?. \n\n3.4.5.2. Vers\u00e3o do protocolo DACAP com ACK \n\nNa vers\u00e3o do protocolo DACAP com ACK s\u00e3o introduzidos dois novos par\u00e2metros: ?????? , que \u00e9 \n\na diferen\u00e7a m\u00e1xima entre dura\u00e7\u00e3o de dois pacotes de dados e ??????, um tempo m\u00ednimo de espera \n\npredeterminado ?? . Deve ser escolhido um ???? superior a min(?,2???? (\n??\n\n?\n) + ??????) e um \n\n??????  inferior a min(?,????). \n\nO recetor envia um aviso quando ocorrer um CTS entre 2? ? ?????? segundos, ou um RTS entre \n\n2? ? ???? segundos ap\u00f3s transmitir um CTS. O emissor adia a transmiss\u00e3o se receber um aviso, ou \n\nocorrer um CTS entre ???? segundos, ou um RTS em ? segundos ap\u00f3s o envio de RTS. O per\u00edodo \n\nde espera ( ??)  \u00e9 determinado pela seguinte express\u00e3o [46]: \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 68 \n\n?? (\n?\n\n?\n) =\n\n{\n \n \n\n \n \n\n2(? + ??)\n\n?\n? ???? ,       \n\n?\n\n?\n? (?1 , ?2 )\n\n2(? + ??)\n\n?\n? ??????                \n\n?\n\n?\n> ???(?2, ?3)\n\n   ???? ?\n2?\n\n?\n                                               ??????                               \n\n                (3.9) \n\nOnde [46] \n\n?1 =\n???? ?  ??? (\n\n??\n?\n,?????,2? ? ????)\n\n2\n                                                                                   (3.10) \n\n?2 =\n???? ? ??????\n\n2\n                                                                                                                          (3.11) \n\n?3 = ??? (?1,\n???? + ?????? ?\n\n2??\n?\n\n4\n)                                                                                          (3.12) \n\nH\u00e1 uma restri\u00e7\u00e3o adicional que \u00e9 expressa por [46]:  \n\n?? (\n?\n\n?\n) > max(\n\n2??\n\n?\n,??????) \n\n3.4.5.3. Mecanismo de backoff utilizado pelo protocolo \n\nDACAP \n\nQuando houver uma confirma\u00e7\u00e3o de ocorr\u00eancia de um RTS ou CTS, entre n\u00f3s no mesmo intervalo \n\nde transmiss\u00e3o, \u00e9 adicionado um mecanismo de backoff para evitar colis\u00f5es [46]. Enquanto n\u00e3o \n\nforem conhecidas as dist\u00e2ncias entre os n\u00f3s, ao tempo do backoff \u00e9 atribu\u00eddo um valor acima do que \n\no necess\u00e1rio. \n\nPara minimizar as colis\u00f5es, o mecanismo de backoff prop\u00f5e duas estrat\u00e9gias [46]: \n\n- Os n\u00f3s da rede continuam a escutar o canal durante o estado de backoff, e voltam ao estado de \n\nrepouso ou inativo se for detetado o fim da transmiss\u00e3o (pacote de dados ou ACK). \n\n- Se um n\u00f3 receber um RTS de um ou mais n\u00f3s envolvidos na transmiss\u00e3o ele responde com um \n\nCTS e sai do estado de backoff. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 69 \n\n3.5. Protocolos de encaminhamento \n\nA camada de rede \u00e9 respons\u00e1vel por determinar o caminho entre a fonte e um n\u00f3 de destino \n\n(geralmente na esta\u00e7\u00e3o de superf\u00edcie).  \n\nNos \u00faltimos anos tem havido um estudo intensivo em protocolos de encaminhamento para redes ad \n\nhoc sem fio e redes ac\u00fasticas submarinas.  \n\nOs protocolos de encaminhamento s\u00e3o respons\u00e1veis por decidir qual o caminho que os pacotes ter\u00e3o \n\nque fazer para viajar entre dois n\u00f3s que n\u00e3o estejam diretamente alcan\u00e7\u00e1veis. Os protocolos de \n\nencaminhamento podem ser genericamente classificados em quatro grupos, como pr\u00f3-activos, \n\nreativos, h\u00edbridos e geogr\u00e1ficos. \n\nOs pr\u00f3-ativos s\u00e3o baseados na atualiza\u00e7\u00e3o e divulga\u00e7\u00e3o peri\u00f3dica das tabelas de encaminhamento, \n\ncom rotas definidas entre todos os n\u00f3s da rede. Assim as rotas est\u00e3o sempre atualizadas, mas esse \n\nprocedimento consome banda e energia, para manter rotas que por vezes nunca s\u00e3o usadas. Estes \n\ntipos de protocolos n\u00e3o s\u00e3o adequados \u00e0s redes ac\u00fasticas submarinas por implicarem uma grande \n\nsobrecarga devido \u00e0 cont\u00ednua atualiza\u00e7\u00e3o das tabelas de encaminhamento, desperdi\u00e7ando energia. \n\nNo caso dos protocolos reativos a fonte inicia a descoberta da rota para o destino, quando, e se, \n\nnecessitar de enviar um pacote para esse n\u00f3. Nos protocolos reativos a sobrecarga \u00e9 menor ou seja \n\nas rotas s\u00e3o determinadas apenas quando for necess\u00e1rio, mas h\u00e1 um atraso significativo imposto \n\npela determina\u00e7\u00e3o da rota. Entretanto, tamb\u00e9m requerem o inundar da rede com pacotes de controlo \n\npara descoberta das rotas, o que tamb\u00e9m os tornam inadequados para uso nas redes ac\u00fasticas \n\nsubmarinas. \n\nOs protocolos h\u00edbridos baseiam-se na combina\u00e7\u00e3o dos dois m\u00e9todos pr\u00f3-ativos e reativos. O \n\nobjetivo principal \u00e9 reduzir transmiss\u00f5es broadcasts e lat\u00eancia, mas tamb\u00e9m melhorar o impacto e o \n\ndinamismo. Toda a rede ser\u00e1 separada em zonas, e cada zona ter\u00e1 um gateway. Dentro de cada \n\nzona, um protocolo reativo \u00e9 considerado. Para o encaminhamento entre zonas diferentes, um \n\nprotocolo din\u00e2mico ou pr\u00f3-activo \u00e9 usado. \n\nOs protocolos de encaminhamento geogr\u00e1ficos baseiam-se nas coordenadas dos n\u00f3s para defini\u00e7\u00e3o \n\ndas rotas e necessitam de poucos pacotes de controlo, sendo muito eficientes e de baixo consumo. \n\nEntretanto, a localiza\u00e7\u00e3o dos n\u00f3s nas redes ac\u00fasticas submarinas ainda \u00e9 uma quest\u00e3o a ser \n\nresolvida, j\u00e1 que no ambiente submarino n\u00e3o h\u00e1 um sistema de posicionamento global, como o GPS \n\npara ambientes terrestres (de [72] a [75]). \n\nNeste sentido, nenhum dos quatro tipos de protocolos de encaminhamento s\u00e3o adequados \u00e0s \n\ncaracter\u00edsticas e limita\u00e7\u00f5es das transmiss\u00f5es ac\u00fasticas submarinas. \n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 70 \n\nDe qualquer forma, devido \u00e0 diminui\u00e7\u00e3o da banda do canal ac\u00fastico com a dist\u00e2ncia transmissor-\n\nrecetor, Stojanovic et al. demonstraram em [10] que teoricamente o consumo total de energia de \n\numa rede, quando os n\u00f3s encaminham os seus dados ao n\u00f3 recetor (Sink) atrav\u00e9s de m\u00faltiplos e \n\npequenos saltos, \u00e9 menor do que se todos os n\u00f3s transmitissem os seus dados diretamente ao n\u00f3 \n\nSink. Neste sentido \u00e9 necess\u00e1rio a pesquisa e desenvolvimento de protocolos de encaminhamento \n\npara este tipo de redes. No entanto, dado que o maior problema ainda \u00e9 o de controlo de acesso ao \n\nmeio, poucas propostas t\u00eam sido apresentadas para encaminhamento em redes ac\u00fasticas submarinas \n\ndevido \u00e0s caracter\u00edsticas adversas do canal ac\u00fastico submarino. \n\n3.6. Desenvolvimento das redes ac\u00fasticas submarinas \n\nAtualmente poucas aplica\u00e7\u00f5es das redes ac\u00fasticas submarinas foram desenvolvidas. A Rede \u00c1rea \n\nLocal Ac\u00fastica (ALAN) para \u00e1guas profundas foi desenvolvida por Monterey Canyon, CA [76]. A \n\nrede foi concebida para transferir dados dos n\u00f3s de fundo do oceano para uma esta\u00e7\u00e3o de superf\u00edcie \n\nimplementando comando e controlo de sinais na dire\u00e7\u00e3o inversa. Sempre que um n\u00f3 pretende enviar \n\numa determinada quantidade de dados, emite uma solicita\u00e7\u00e3o ao recetor da superf\u00edcie relativa ao \n\ntamanho de dados que vai ser transmitida. Ap\u00f3s a rece\u00e7\u00e3o do pedido, o recetor da superf\u00edcie \n\nprograma o tempo de transmiss\u00e3o (que depende do atraso de propaga\u00e7\u00e3o) e notifica o n\u00f3 de origem \n\ncom um ACK. O n\u00f3 de origem imediatamente envia o pacote de dados depois de receber o ACK. O \n\npedido, o ACK, e as transmiss\u00f5es dos dados s\u00e3o realizados em faixas de frequ\u00eancias diferentes. Se \n\nocorrer uma colis\u00e3o no canal onde foi feito o pedido, o recetor tenta decifrar a colis\u00e3o atrav\u00e9s do \n\nuso de uma estrutura com v\u00e1rios utilizadores, aumentando o d\u00e9bito da rede, eliminando a \n\nnecessidade de retransmiss\u00f5es. Uma vez que este protocolo baseia-se numa avalia\u00e7\u00e3o correta dos \n\ntempos de propaga\u00e7\u00e3o, qualquer erro no processo de avalia\u00e7\u00e3o diminui a taxa de transmiss\u00e3o, \n\ncausando retransmiss\u00f5es. No entanto, uma alternativa para esta solu\u00e7\u00e3o \u00e9 fixar o tempo entre \n\ntransmiss\u00f5es e o tempo m\u00e1ximo de propaga\u00e7\u00e3o. \n\nO protocolo store-and-forward foi proposto em [77] para ser utilizado nas Redes de \u00c1rea Local \n\nAc\u00fasticas (ALAN) para \u00e1guas com poucas profundidades. Esse protocolo \u00e9 uma vers\u00e3o modificada \n\ndo protocolo da Rede de Pacotes R\u00e1dio (PRN) [78]. No protocolo store-and-forward cada n\u00f3 na \n\nrede usa tr\u00eas canais diferentes (bandas de frequ\u00eancia): para transmitir, para receber pacotes do seu \n\nantecessor, e para receber as confirma\u00e7\u00f5es do ACK do seu sucessor. \n\nEm [79] foi desenvolvido um protocolo de comunica\u00e7\u00e3o ponto a ponto para controlar AUV \n\n(Autonomous Underwater Vehicles). O protocolo de acesso ao meio utilizado por esse protocolo \u00e9 o \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 71 \n\nCSMA. Quando uma mensagem estiver dispon\u00edvel para ser transmitido por um n\u00f3, ele come\u00e7a a \n\nescutar o canal. Se n\u00e3o receber um ACK do destino, o emissor envia novamente o pacote ap\u00f3s um \n\nper\u00edodo de tempo, calculado utilizando o tempo m\u00e1ximo de propaga\u00e7\u00e3o. \n\n3.7. Conclus\u00f5es do cap\u00edtulo \n\nNeste cap\u00edtulo foram apresentadas os principais protocolos de acesso m\u00faltiplo ao meio, protocolos \n\nde acesso ao meio para redes sem fios em redes terrestres. Foram tamb\u00e9m apresentadas as principais \n\npropostas de adapta\u00e7\u00f5es dos protocolos de acesso ao meio para redes ac\u00fasticas submarinas, \n\nincluindo solu\u00e7\u00f5es para minimizar as colis\u00f5es nas comunica\u00e7\u00f5es ac\u00fasticas submarinas devido a \n\nenorme lat\u00eancia. O cap\u00edtulo tamb\u00e9m apresentou os mecanismos de funcionamento dos principais \n\nprotocolos considerados cl\u00e1ssicos para redes ac\u00fasticas submarinas. Os protocolos de \n\nencaminhamento para redes ac\u00fasticas submarinas foram apresentados de forma resumida j\u00e1 que \n\nainda est\u00e3o numa fase inicial de desenvolvimento, devido \u00e0s caracter\u00edsticas adversas do canal \n\nac\u00fastico submarino. \n\nAp\u00f3s an\u00e1lise dos mecanismos de funcionamento dos principais protocolos de acesso ao meio \n\ncl\u00e1ssicos para redes ac\u00fasticas submarinas, propomos a implementa\u00e7\u00e3o do mecanismo de \n\nfuncionamento do protocolo DACAP por ser um dos protocolos mais recentes e por apresentar \n\nmelhor desempenho nas redes ac\u00fasticas submarinas de acordo com os autores em [46].\n\n\n\nMecanismos de controlo de acesso ao meio em Redes Ac\u00fasticas Submarinas \n\n 72 \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 73 \n\nCap\u00edtulo 4 \n\n \n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\nNeste cap\u00edtulo ir\u00e1 ser apresentado um mecanismo de acesso ao meio proposto para resolver os \n\nproblemas de colis\u00f5es existente nas redes ac\u00fasticas submarinas, caracterizada por longos atrasos de \n\npropaga\u00e7\u00e3o e diferentes requisitos de pot\u00eancia de transmiss\u00e3o/rece\u00e7\u00e3o. O princ\u00edpio de \n\nfuncionamento em que se baseia o protocolo foi descrito no cap\u00edtulo 3 na se\u00e7\u00e3o 3.4.5, apresentando \n\nas fases crucias do seu funcionamento. Neste sentido baseando no seu mecanismo e fazendo um \n\nestudo pr\u00e9vio dos mecanismos de funcionamento dos protocolos existentes no simulador de rede \n\npropomos a implementa\u00e7\u00e3o do protocolo DACAP, apresentando propostas para melhorar o seu \n\ndesempenho de forma a obter \u00f3timos resultados nas redes ac\u00fasticas submarinas. \n\n4.1. Vis\u00e3o geral \n\nO constante avan\u00e7o nas tecnologias de modems ac\u00fasticos, as pesquisas em comunica\u00e7\u00f5es ac\u00fasticas \n\nsubmarinas est\u00e3o atualmente muito focadas no desenho dos principais protocolos de acesso ao meio \n\npara redes sem fios em ambientes submarinos [10]. Os desafios no ambiente ac\u00fastico submarino \n\nincluem largura de banda limitada (tipicamente em poucos kHz a dist\u00e2ncia de v\u00e1rios quil\u00f3metros), \n\nm\u00e1 qualidade da liga\u00e7\u00e3o f\u00edsica e alta lat\u00eancia causada pela baixa velocidade de propaga\u00e7\u00e3o do som \n\n(c = 1500 m/s). Al\u00e9m disso, atualmente os modems ac\u00fasticos submarinos dispon\u00edveis operaram em \n\nhalf-duplex e a pot\u00eancia necess\u00e1ria para a transmiss\u00e3o \u00e9 tipicamente muito maior do que a que se \n\nencontra na rece\u00e7\u00e3o. \n\nComo forma de resolver o problema, a aplica\u00e7\u00e3o directa do controlo de acesso a meio baseando nos \n\nseus princ\u00edpios de funcionamento torna-se necess\u00e1ria. Neste sentido em vez de modificar os \n\nprotocolos existentes, optou-se por uma abordagem diferente e pela implementa\u00e7\u00e3o de um \n\nprotocolo que aproveita os atrasos de propaga\u00e7\u00e3o e perda de energia do sinal de forma a maximizar \n\no throughput. Para al\u00e9m disso, \u00e9 importante evitar colis\u00f5es de pacotes no recetor quando os pacotes \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 74 \n\nde dados est\u00e3o a ser transmitidos. Este facto foi reconhecido por diversos autores, o que resultou na \n\ndefini\u00e7\u00e3o e implementa\u00e7\u00e3o de protocolos MAC que s\u00e3o particularmente adequados para o canal \n\nac\u00fastico submarino. Refira-se a este n\u00edvel os trabalhos [27], [45] e [80], onde os autores propuseram \n\nprocedimentos baseados em handshakes que garantam a aus\u00eancia de colis\u00f5es. No entanto, estes \n\nprotocolos requerem longos per\u00edodos de handshake e um elevado n\u00edvel de sincroniza\u00e7\u00e3o entre os \n\nn\u00f3s. Ao definir os par\u00e2metros de transmiss\u00e3o de acordo com o atraso m\u00e1ximo de propaga\u00e7\u00e3o, o \n\nprocesso de handshake \u00e9 prolongado para al\u00e9m do m\u00ednimo necess\u00e1rio, o que torna estes protocolos \n\nineficientes em liga\u00e7\u00f5es muito mais curtas [46].  \n\nDesta forma para resolver este problema, na se\u00e7\u00e3o 4.3 ser\u00e1 apresentada a implementa\u00e7\u00e3o do \n\nmecanismo do protocolo de acesso ao meio DACAP no simulador de rede, um protocolo n\u00e3o \n\nsincronizado que permite a um n\u00f3 usar diferentes tamanhos de handshakes para diferentes recetores, \n\nde modo a minimizar a dura\u00e7\u00e3o m\u00e9dia do handshake. \n\n4.2. Funcionamento da camada MAC no simulador de rede  \n\nCom intuito de testar o protocolo de acesso ao meio analisado nesta disserta\u00e7\u00e3o, foi feita a sua \n\nimplementa\u00e7\u00e3o no simulador de rede WOSS (apresentado no cap\u00edtulo 2). \n\nUma das raz\u00f5es pela qual s\u00e3o desenvolvidos APIs, conjunto de rotinas, programas e normas \n\nestabelecidas pelo programa para utiliza\u00e7\u00e3o das funcionalidades da camada f\u00edsica (PHY) para o \n\ndesenvolvimento da camada MAC \u00e9 que o simulador WOSS n\u00e3o fornece suporte nativo para \n\nsimular diferentes fases de transmiss\u00e3o e rece\u00e7\u00e3o de pacotes, nem no MAC nem na camada f\u00edsica.  \n\nA figura 4.1 apresenta um diagrama de sequ\u00eancia de pacotes e eventos de Transmiss\u00e3o e Rece\u00e7\u00e3o \n\n(TX/RX) no simulador de rede WOSS. Como se pode observar neste diagrama, a transmiss\u00e3o do \n\npacote passa por rotinas que gerem a camada f\u00edsica e MAC. No recetor, a camada f\u00edsica (PHY) s\u00f3 \n\ntem conhecimento do inicio da transmiss\u00e3o, enquanto que a camada MAC tem no\u00e7\u00e3o do in\u00edcio e \n\nfinal da rece\u00e7\u00e3o. Inicialmente sempre que a camada MAC e f\u00edsica necessitam executar uma \n\nopera\u00e7\u00e3o (ap\u00f3s a conclus\u00e3o do pacote) eventos dedicados precisam ser gerados. Seguidamente a \n\ndura\u00e7\u00e3o de uma transmiss\u00e3o \u00e9 determinada na camada f\u00edsica, uma vez que depende do tamanho do \n\npacote, do esquema de codifica\u00e7\u00e3o, modula\u00e7\u00e3o e de outros aspetos espec\u00edficos tais como o \n\ncomprimento do pre\u00e2mbulo de sincroniza\u00e7\u00e3o. Assim a camada MAC deve agendar os eventos \n\nnecess\u00e1rios que envolvem duplica\u00e7\u00e3o de atributos da camada f\u00edsica na camada MAC e \n\nfuncionalidades que podem levar a inconsist\u00eancias, fraca legibilidade e manuten\u00e7\u00e3o do c\u00f3digo.  \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 75 \n\n \n\nFigura 4.1: Diagrama de sequ\u00eancia dos pacotes para eventos TX/RX no WOSS. \n\nPara resolver estes problemas foi concebido em alternativa o diagrama de sequ\u00eancia dos pacotes \n\ncom eventos para TX/RX no simulador WOSS como apresentado na figura 4.2 com ferramentas \n\nque suportam elevado grau de complexidade e flexibilidade para camada f\u00edsica e camada MAC. \n\nEste diagrama traz vantagens para o simulador de rede primeiro de tudo, porque a dura\u00e7\u00e3o da \n\ntransmiss\u00e3o de um pacote neste caso ser\u00e1 determinada pela camada f\u00edsica, al\u00e9m disso, a \n\nprograma\u00e7\u00e3o dos eventos do in\u00edcio/fim das transmiss\u00f5es e rece\u00e7\u00f5es ser\u00e3o fornecidas pela classe do \n\nmodelo f\u00edsico (MPhy), que tem como fun\u00e7\u00e3o chamar os par\u00e2metros de entrada para o c\u00f3digo com \n\nfuncionalidades especificas para camada f\u00edsica. V\u00e1rias mensagens de camada cruzada com \n\nfuncionalidades fornecidas pela estrutura do simulador WOSS s\u00e3o definidas para que as classes \n\nderivadas do modelo f\u00edsico possam desencadear os eventos de transmiss\u00e3o/rece\u00e7\u00e3o ou in\u00edcio/fim na \n\ncamada MAC (MMac). A classe do modelo MMac define os seguintes m\u00e9todos: Phy2MacEndTx (), \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 76 \n\nPhy2MacStartRx() e Phy2MacEndRx() que s\u00e3o chamados para rece\u00e7\u00e3o das mensagens acima \n\nmencionadas e podem ser usados pelas classes que herdam o modelo MAC (MMAC) com objetivo \n\nde facilitar a implementa\u00e7\u00e3o do c\u00f3digo do protocolo especificado e serem executados em resposta \n\naos eventos correspondentes. O modelo da camada MAC para al\u00e9m dos m\u00e9todos referenciados \n\nacima tamb\u00e9m possui o m\u00e9todo Mac2PhyStartTx fornecido pela classe Mac2PhyStartTx(). Este \n\nm\u00e9todo fornece par\u00e2metro de entrada para o c\u00f3digo para ser executado no in\u00edcio de uma \n\ntransmiss\u00e3o. Este m\u00e9todo \u00e9 respons\u00e1vel por iniciar uma transmiss\u00e3o do pacote da camada MAC \n\npara camada f\u00edsica. O m\u00e9todo Phy2MacEndTx fornece par\u00e2metros de entrada para o c\u00f3digo para ser \n\nexecutado no final da transmiss\u00e3o do pacote. Esse m\u00e9todo \u00e9 tamb\u00e9m utilizado para finalizar uma \n\ntransmiss\u00e3o da camada f\u00edsica para camada MAC. Enquanto que esses dois m\u00e9todos s\u00e3o utilizados \n\napenas para desencadear as transmiss\u00f5es, os m\u00e9todos Phy2MacStartRx e Phy2MacEndRx s\u00e3o \n\nutilizados para desencadear as rece\u00e7\u00f5es dos pacotes.  \n\nO m\u00e9todo Phy2MacStartRx fornece par\u00e2metros de entrada para o c\u00f3digo para ser executado no \n\nin\u00edcio da rece\u00e7\u00e3o. Este m\u00e9todo deve saber lidar com o processo de aquisi\u00e7\u00e3o na transmiss\u00e3o do \n\npacote e dete\u00e7\u00e3o do pre\u00e2mbulo de sincroniza\u00e7\u00e3o. Deve tamb\u00e9m responsabilizar-se por todas as \n\na\u00e7\u00f5es relativas ao in\u00edcio da rece\u00e7\u00e3o da camada f\u00edsica para camada MAC.  \n\nO m\u00e9todo Phy2MacEndRx fornece par\u00e2metros de entrada para o c\u00f3digo para ser executado no final \n\nda rece\u00e7\u00e3o. Este m\u00e9todo \u00e9 respons\u00e1vel por determinar a presen\u00e7a de erros no pacote, usando um \n\nmodelo de erro apropriado para camada f\u00edsica e para uma eventual ocorr\u00eancia de encaminhamento \n\ndos pacotes para as camadas superiores. Esse m\u00e9todo tamb\u00e9m \u00e9 utilizado para finalizar a rece\u00e7\u00e3o de \n\num pacote, da camada f\u00edsica para a camada MAC. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 77 \n\n \n\nFigura 4.2: Diagrama de sequ\u00eancia dos pacotes para eventos TX/RX no WOSS para camada f\u00edsica e \n\nMAC. \n\nNa pr\u00f3xima se\u00e7\u00e3o apresenta-se o mecanismo de implementa\u00e7\u00e3o do protocolo DACAP onde ser\u00e1 \n\napresentado com mais detalhe o funcionamento desses m\u00e9todos no simulador de rede. \n\n \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 78 \n\n4.3. Implementa\u00e7\u00e3o do protocolo DACAP proposto \n\n4.3.1. Procedimentos e testes iniciais \n\nNesta se\u00e7\u00e3o apresenta-se as principais fases e etapas estabelecidas durante o processo de \n\nimplementa\u00e7\u00e3o do protocolo DACAP. Numa primeira fase, ap\u00f3s o estudo do modelo da camada \n\nMAC no simulador de rede e compreens\u00e3o do funcionamento dos principais mecanismos dos \n\nprotocolos de acesso ao meio propostos para rede ac\u00fastica submarina come\u00e7ou-se por instalar o \n\nsimulador WOSS e todas as ferramentas para o real funcionamento da camada MAC no simulador \n\nde rede. Em seguida deu-se in\u00edcio \u00e0 fase de explora\u00e7\u00e3o dos ficheiros com exemplos de \n\nimplementa\u00e7\u00e3o dos protocolos MAC existentes no simulador de rede. \n\nNeste sentido, come\u00e7ou-se por perceber o funcionamento do protocolo ALOHA sem ACK \n\n(ALOHA no ACK). Este protocolo n\u00e3o considera o estado do canal resultando em altas taxas de \n\ncolis\u00f5es, n\u00e3o havendo transmiss\u00e3o de ACKs. Ou seja quando um emissor tiver um pacote de dados \n\npronto para transmitir ele envia-o imediatamente sem escuta pr\u00e9via causando elevadas taxas de \n\ncolis\u00f5es. Desta forma para minimizar o efeito de colis\u00f5es no protocolo ALOHA sem ACK foi \n\nimplementado uma altera\u00e7\u00e3o no c\u00f3digo do protocolo de forma a escutar o meio antes de tentar uma \n\ntransmiss\u00e3o, ou seja quando um emissor tiver um pacote de dados para enviar primeiro escuta o \n\ncanal e s\u00f3 depois envia o pacote ao recetor. Este protocolo alterado foi designado de ALOHANEW \n\nsem ACK (ALOHANEW no ACK). De seguida por forma a testar estes dois protocolos ALOHA \n\nforam feitas v\u00e1rios testes variando o n\u00famero da seed (semente) do gerador pseudo-aleat\u00f3rio por \n\nforma a garantir pequenas varia\u00e7\u00f5es no per\u00edodo entre pacotes. Os resultados obtidos com estes dois \n\nprotocolos s\u00e3o apresentados no (anexo C) da presente disserta\u00e7\u00e3o. Dos dados obtidos por \n\nsimula\u00e7\u00f5es verificou-se que o protocolo ALOHA no ACK (Sem escuta) apresenta uma perda \n\nligeiramente superior ao ALOHANEW no ACK (Com escuta). Nesse sentido, os resultados obtidos \n\nindicaram que a solu\u00e7\u00e3o de escuta por si s\u00f3 n\u00e3o \u00e9 suficientemente dado os elevados atrasos, \n\nrequerendo a utiliza\u00e7\u00e3o combinado de outros mecanismos. \n\nA solu\u00e7\u00e3o encontrada para resolver este problema foi fazer o estudo de um protocolo que apresenta \n\num mecanismo com maior grau de complexidade que n\u00e3o s\u00f3 apresentasse a solu\u00e7\u00e3o de escuta mas \n\ntamb\u00e9m mecanismos de backoff, transmiss\u00e3o de ACK e retransmiss\u00e3o de pacotes. \n\nCome\u00e7ou-se ent\u00e3o por analisar a implementa\u00e7\u00e3o do mecanismo do protocolo ALOHA com ACK \n\n(ALOHA With ACK) existente no simulador de rede. No protocolo ALOHA With ACK [10] se a \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 79 \n\ntransmiss\u00e3o do pacote de dados for bem-sucedida, isto \u00e9, se nenhum pacote for recebido com erro, o \n\nrecetor envia um aviso de ACK ao emissor num intervalo de tempo igual ao tempo de propaga\u00e7\u00e3o \n\n[10]. Se nenhum ACK for recebido num intervalo de tempo definido significa que houve perda de \n\npacote na rede devido a uma colis\u00e3o no canal, o pacote ser\u00e1 enviado novamente com um atraso \n\naleat\u00f3rio para evitar que haja uma outra colis\u00e3o entre v\u00e1rios terminais que estejam a concorrer entre \n\nsi [10]. Assim, para resolver os problemas de sucessivas colis\u00f5es, o protocolo utiliza um mecanismo \n\nde backoff  [17].  \n\nO protocolo ALOHA com ACK foi testado no simulador apresentando melhores resultados que o \n\nALOHA com e sem escuta. Tais resultados ser\u00e3o analisados em detalhe no cap\u00edtulo 5. No entanto, \n\napesar dessa melhoria, o protocolo ALOHA com ACK n\u00e3o conseguiu resolver todos os problemas \n\nde colis\u00f5es nas redes ac\u00fasticas submarinas.  \n\nPara resolver essas lacunas e inefici\u00eancias dos protocolos anteriores prop\u00f4s-se a implementa\u00e7\u00e3o do \n\nprotocolo de acesso ao meio DACAP incluindo propostas para melhorar o seu funcionamento e a \n\nsua complexidade em ambientes ac\u00fasticos submarinos. Nas pr\u00f3ximas subse\u00e7\u00f5es ser\u00e3o apresentadas \n\no algoritmo do protocolo DACAP e v\u00e1rias etapas seguidas durante o processo de implementa\u00e7\u00e3o do \n\nreferido protocolo. \n\n4.3.2. Algoritmo do protocolo DACAP \n\nComo j\u00e1 foi referido o protocolo DACAP utiliza um mecanismo para resolver problemas de \n\ncolis\u00f5es nas redes ac\u00fasticas submarinas. Este m\u00e9todo proposto utiliza um algoritmo que \u00e9 \n\ndecompon\u00edvel nos seguintes passos: \n\ni) Quando um n\u00f3 tiver um pacote de dados para enviar, primeiro ele verifica o canal. Se o \n\ncanal estiver inativo ele transmite um RTS. Caso contr\u00e1rio se o canal estiver ocupado, o \n\nemissor calcula um tempo de backoff e ap\u00f3s este tempo verifica o canal novamente. Ao \n\nreceber corretamente um pacote RTS, o n\u00f3 recetor responde enviando um pacote CTS e \n\nfica \u00e0 espera de um pacote de dados. Se enquanto espera por um pacote de dados, um n\u00f3 \n\nde destino ouvir um pacote de controlo destinado a um outro n\u00f3, ele envia um pequeno \n\npacote de aviso (Warning) para o emissor a quem tinha enviado um CTS para alerta-lo \n\nsobre poss\u00edveis interfer\u00eancias que possam afetar a pr\u00f3xima comunica\u00e7\u00e3o. \n\n \n\nii) Ao receber um pacote de CTS, o n\u00f3 emissor fica \u00e0 espera durante um tempo Twarning \n\nantes de transmitir o pacote de dados. O valor de Twarning \u00e9 definido como o tempo \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 80 \n\nm\u00ednimo que permite que os n\u00f3s vizinhos n\u00e3o colidam. Se enquanto espera por um CTS o \n\nemissor ouvir um pacote de controlo, ele adia a transmiss\u00e3o de dados. Ele tamb\u00e9m adia a \n\ntransmiss\u00e3o de dados se durante o per\u00edodo de espera Twarning receber um pacote de \n\naviso do n\u00f3 destino ou ouvir um pacote de controlo de outros n\u00f3s. Neste caso, o emissor \n\ncalcula o tempo de backoff e faz nova tentativa (para um n\u00famero predeterminado de \n\nvezes). O n\u00f3 de destino que enviou um pacote de Warning n\u00e3o se sabe se este pacote foi \n\nrecebido pelo n\u00f3 emissor a tempo de voltar a adiar a transmiss\u00e3o de dados e continuar a \n\nescutar o canal. Ainda assim, o pacote de dados pode ser recebido corretamente. \n\n \n\niii) Ao receber o pacote de dados corretamente o n\u00f3 recetor transmite um pacote de ACK ao \n\nn\u00f3 emissor. Se nenhum ACK for recebido ap\u00f3s transmiss\u00e3o de dados dentro de um \n\ntempo especificado o emissor considera a que a transmiss\u00e3o foi mal sucedida. O mesmo \n\nacontece quando o emissor estiver \u00e0 espera de um ACK e receber um RTS, um CTS ou \n\num pacote de dados de outros n\u00f3s. Neste caso as potenciais interfer\u00eancias ser\u00e3o \n\nbloqueadas com esquemas RTS/CTS. \n\nPara implementar o algoritmo DACAP no simulador de rede foram consideradas v\u00e1rias etapas a ter \n\nem conta na camada MAC. Essas etapas foram divididas em 6 m\u00f3dulos como \u00e9 apresentado na \n\nfigura 4.3. Esses m\u00f3dulos s\u00e3o: 1) Transmiss\u00e3o, 2) Rece\u00e7\u00e3o, 3) Gest\u00e3o do estado do canal, 4) Gest\u00e3o \n\nestado do backoff, 5) Gest\u00e3o do estado de transmiss\u00e3o e 6) Gest\u00e3o do estado de rece\u00e7\u00e3o. Como se \n\npode observar na figura 4.3 as linhas a cheio na figura mostram os caminhos de passagem de pacote \n\nde dados e pacotes de controlo enquanto que as linhas a tracejado indicam as interfaces de \n\nsinaliza\u00e7\u00e3o ativa entre os m\u00f3dulos. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 81 \n\n \n\nFigura 4.3: Arquitetura da camada MAC utilizada para implementa\u00e7\u00e3o do DACAP. \n\n4.3.2.1. M\u00f3dulo de transmiss\u00e3o \n\nO m\u00f3dulo de transmiss\u00e3o possui uma interface para camada f\u00edsica. Este m\u00f3dulo passa todos os tipos \n\nde tramas para camada f\u00edsica. O m\u00f3dulo de transmiss\u00e3o aceita pacotes de: RTS e dados a partir do \n\nm\u00f3dulo de gest\u00e3o do estado de transmiss\u00e3o; e pacotes de ACK e CTS a partir do m\u00f3dulo de gest\u00e3o \n\ndo estado de rece\u00e7\u00e3o. Quando s\u00e3o incorporadas outras caracter\u00edsticas de gest\u00e3o das camadas \n\nsuperiores do MAC, este m\u00f3dulo tamb\u00e9m ir\u00e1 aceitar tramas a partir dos novos m\u00f3dulos. \n\nO m\u00f3dulo de transmiss\u00e3o possui uma m\u00e1quina de estados simples, que consiste em 4 estados: TX \n\nRTS, TX CTS, TX DATA e TX ACK. \n\nO estado TX RTS \u00e9 respons\u00e1vel pela transmiss\u00e3o do pacote RTS enquanto que os outros estados \n\nTX CTS, TX DATA e TX ACK s\u00e3o respons\u00e1veis pelas transmiss\u00f5es dos seus respetivos pacotes. \n\n \n\n \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 82 \n\n4.3.2.2. M\u00f3dulo de rece\u00e7\u00e3o \n\nO m\u00f3dulo de rece\u00e7\u00e3o completa todo o processo de rece\u00e7\u00e3o de um pacote de entrada, que \u00e9 iniciado \n\nna camada f\u00edsica. \u00c9 utilizado para filtragem de pacotes recebidos com \u00eaxito antes de serem passados \n\npara outros m\u00f3dulos. O m\u00f3dulo de rece\u00e7\u00e3o faz uma verifica\u00e7\u00e3o da trama em cima da camada f\u00edsica \n\npara ver se um pacote foi recebido com sucesso. Isto \u00e9, se um n\u00f3 receber um pacote com erro o \n\nm\u00f3dulo de rece\u00e7\u00e3o informar\u00e1 o m\u00f3dulo de gest\u00e3o do estado do canal que houve um erro na \n\nverifica\u00e7\u00e3o da trama. Caso contr\u00e1rio se um pacote for recebido com sucesso o m\u00f3dulo de rece\u00e7\u00e3o \n\nfaz uma filtragem de todos os endere\u00e7os dos pacotes recebidos com sucesso e entra no m\u00f3dulo de \n\ngest\u00e3o do estado de rece\u00e7\u00e3o apropriado que se enquadra esse n\u00f3. Se algum pacote n\u00e3o passar no \n\nprocesso de filtragem de endere\u00e7os ser\u00e1 examinado para ver se ele cont\u00e9m um NAV (Network \n\nAllocation Vector) antes de ser descartado. Os pacotes de RTS, CTS e \u00e0s vezes os pacotes de dados \n\ncont\u00eam informa\u00e7\u00f5es do NAV. Se for encontrado, o m\u00f3dulo de rece\u00e7\u00e3o passa o valor do NAV para o \n\nm\u00f3dulo gest\u00e3o do estado do canal. \n\nO m\u00f3dulo de rece\u00e7\u00e3o tamb\u00e9m possui uma m\u00e1quina de estados simples. Estes estados s\u00e3o: RX RTS, \n\nRX CTS, RX DATA e RX ACK. O estado RX RTS \u00e9 respons\u00e1vel pela rece\u00e7\u00e3o de um pacote RTS. \n\nOs outros estados RX CTS, RX DATA e RX ACK s\u00e3o respons\u00e1veis pela rece\u00e7\u00e3o dos seus \n\nrespetivos pacotes. \n\n4.3.2.3. M\u00f3dulo gest\u00e3o do estado do canal \n\nO m\u00f3dulo gest\u00e3o do estado do canal \u00e9 respons\u00e1vel por manter o estado do suporte f\u00edsico para o \n\nmecanismo de acesso ao meio DACAP. \n\nO m\u00f3dulo gest\u00e3o do estado do canal depende da camada f\u00edsica para atualizar o estado f\u00edsico do \n\ncanal ac\u00fastico. Ele espera que a camada f\u00edsica sinalize que est\u00e1 ocupado, quando a for\u00e7a total do \n\nsinal recebido aumenta acima do limite da dete\u00e7\u00e3o da portadora do sinal no canal ac\u00fastico ou \n\nquando a camada f\u00edsica est\u00e1 a transmitir. Da mesma forma o m\u00f3dulo gest\u00e3o do estado do canal \n\nespera que a camada f\u00edsica sinalize canal dispon\u00edvel quando as duas condi\u00e7\u00f5es terminarem de \n\nacontecer. \n\nO m\u00f3dulo gest\u00e3o do estado do canal fica \u00e0 espera da sinaliza\u00e7\u00e3o para atualizar a portadora do canal \n\nac\u00fastico a partir do m\u00f3dulo de rece\u00e7\u00e3o. O m\u00f3dulo gest\u00e3o do estado do canal possui 2 estados: State \n\nIdle (Estado de repouso), State Listen (Estado de escuta). \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 83 \n\nNo estado de repouso, todos os temporizadores est\u00e3o inicialmente parados e s\u00f3 depois \u00e9 reiniciada a \n\nsess\u00e3o. No momento em que \u00e9 reiniciada a sess\u00e3o verifica-se o estado da fila do buffer de \n\ntransmiss\u00e3o do pacote. Se a fila de transmiss\u00e3o do pacote estiver vazia atualiza o State Listen e \n\ndepois entra no estado de escuta ao meio. Quando estiver no estado de escuta \u00e9 calculado um tempo \n\nque depende do tempo de escuta. Esse tempo depois \u00e9 escalonado pelo temporizador de escuta para \n\nverificar se esse tempo expirou ou ainda est\u00e1 ativo. \n\nO m\u00f3dulo gest\u00e3o do estado do canal informa o estado da camada f\u00edsica em resposta \u00e0 consultas de \n\nqualquer outro m\u00f3dulo. Ou seja ele informa se est\u00e1 no estado de repouso (se estiver em repouso) ou \n\nno estado de escuta (caso esteja nesse estado). Ele tamb\u00e9m informa o m\u00f3dulo gest\u00e3o do estado de \n\nrece\u00e7\u00e3o quando for consultado, para auxiliar a decis\u00e3o de envio de um pacote de controlo. O \n\nm\u00f3dulo gest\u00e3o do estado do canal sinaliza ativamente o m\u00f3dulo gest\u00e3o do estado de backoff sempre \n\nque ele se move para dentro ou fora do estado de repouso indicando as mudan\u00e7as nos estados do \n\ncanal. Por sua vez o m\u00f3dulo gest\u00e3o do estado de backoff retoma ou interrompe o seu processo de \n\nbackoff se respetivamente estiver num desses estados. \n\n4.3.2.4. M\u00f3dulo gest\u00e3o do estado do backoff \n\nO m\u00f3dulo gest\u00e3o do estado de backoff utiliza o temporizador de backoff para auxiliar o mecanismo \n\nde preven\u00e7\u00e3o de colis\u00f5es do protocolo DACAP. O m\u00f3dulo gest\u00e3o do estado de backoff tamb\u00e9m \n\nauxilia o m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o a executar tanto o backoff regular e o backoff p\u00f3s-\n\ntransmiss\u00e3o, mas n\u00e3o estar\u00e1 ciente da diferen\u00e7a entre os dois. A figura 4.4 apresenta uma vis\u00e3o \n\nsimplificada de como tal \u00e9 feito. O m\u00f3dulo gest\u00e3o do estado de backoff \u00e9 constitu\u00eddo por 3 estados \n\ncomo \u00e9 apresentado na figura 4.5. Esses estados s\u00e3o: Estado de sa\u00edda do backoff (Exit Backoff), \n\nEstado de pausa do backoff (Backoff Pause) e Estado de execu\u00e7\u00e3o do backoff (Backoff Running). O \n\nm\u00f3dulo gest\u00e3o do estado de backoff depende do m\u00f3dulo gest\u00e3o do estado do canal para sinalizar o \n\nestado de dete\u00e7\u00e3o da portadora do canal. Quando o temporizador do backoff chega a zero o m\u00f3dulo \n\ngest\u00e3o do estado de backoff muda de estado sinalizando o m\u00f3dulo de gest\u00e3o do estado de \n\ntransmiss\u00e3o.  \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 84 \n\n \n\nFigura 4.4: Utiliza\u00e7\u00e3o do m\u00f3dulo gest\u00e3o do estado de backoff pelo m\u00f3dulo gest\u00e3o do estado de \n\ntransmiss\u00e3o. \n\nComo se pode verificar na figura 4.5 o estado de sa\u00edda do backoff s\u00f3 \u00e9 realizado quando for \n\nsinalizado que o backoff foi conclu\u00eddo com sucesso pelo m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o. O \n\nbackoff deve ser iniciado se o canal estiver em repouso e em seguida deve-se inicializar o \n\ntemporizador de backoff, ap\u00f3s o que entra no estado de pausa do backoff se o canal continuar em \n\nrepouso.  \n\n \n\nFigura 4.5: M\u00f3dulo gest\u00e3o do estado de backoff. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 85 \n\n4.3.2.5. M\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o \n\nO m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o gere todo o acesso ao meio dos pacotes transmitidos a \n\npartir da camada superior. O diagrama de estado do m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o \u00e9 \n\napresentado na figura D.1 (ver anexo D). Este diagrama \u00e9 dividido em 4 partes, consoante for \n\nnecess\u00e1rio troca de mensagens RTS / CTS / DADOS / ACK. Pode-se observar que nesta fase n\u00e3o \n\nfoi tido em conta o mecanismo de Warning, por isso n\u00e3o foi considerado nenhum estado para \n\ntransmiss\u00e3o do pacote de Warning. \n\nSe o m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o n\u00e3o estiver no estado de repouso devido a um pacote \n\nvindo da camada superior, ele primeiro verifica o tamanho da fila do buffer, os pacotes que devem \n\nser gerados e em seguida entra no estado de escuta ao meio (State listen). Enquanto estiver no \n\nestado de escuta ao meio \u00e9 reescalonado o tempo de escuta atrav\u00e9s do temporizador de escuta \n\n(Listen Timer). Se o temporizador de escuta expirar, entra no estado de transmiss\u00e3o do pacote RTS \n\n(TX RTS) e quando terminar de escutar inicia a transmiss\u00e3o do pacote RTS. Caso contr\u00e1rio se o \n\ntemporizador de escuta estiver activo volta novamente a escutar os pacotes de dados pendentes no \n\ncanal e em seguida entra no estado de transmiss\u00e3o dos pacotes de dados (TX DATA). Quando \n\nestiver conclu\u00edda a transmiss\u00e3o do RTS, o m\u00f3dulo gest\u00e3o de estado de transmiss\u00e3o muda para o \n\nestado de espera do CTS (Wait CTS) e inicia um temporizador de CTS (CTS Timer). Se o m\u00f3dulo \n\ngest\u00e3o do estado de rece\u00e7\u00e3o sinalizar que n\u00e3o recebeu um pacote de CTS antes do tempo expirar, \n\nentra no estado de repouso e depois volta novamente para o estado de transmiss\u00e3o dos pacotes RTS \n\npendentes. Este processo \u00e9 repetido at\u00e9 que o n\u00famero m\u00e1ximo de tentativas seja atingido. Caso \n\ncontr\u00e1rio se o m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o sinalizar que ouviu uma resposta a um RTS, (isto \n\n\u00e9, que recebeu um pacote CTS) o m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o d\u00e1 instru\u00e7\u00e3o ao m\u00f3dulo \n\nde transmiss\u00e3o para transmitir o pacote de dados. Ap\u00f3s a transmiss\u00e3o do pacote de dados (TX \n\nDATA), o m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o entra no estado de espera do pacote ACK (Wait \n\nACK) e em seguida inicia o temporizador do ACK (ACK Timer). Se ele n\u00e3o conseguir ouvir \n\nnenhuma resposta confirmando a rece\u00e7\u00e3o do pacote ACK pelo m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o \n\n(antes do temporizador do ACK expirar) inicia o processo de backoff e logo de seguida volta a \n\ntransmitir os respectivos pacotes RTS e dados pendentes. Quando entra no estado do backoff ap\u00f3s o \n\ntemporizador do ACK expirar \u00e9 iniciado o reescalonamento do tempo do backoff pelo temporizador \n\ndo backoff (Backoff Timer). Se o temporizador do backoff expirar e se o backoff for executado com \n\nsucesso o m\u00f3dulo gest\u00e3o do estado do backoff sinaliza que o backoff foi conclu\u00eddo e sai do estado \n\ndo backoff (Exit backoff) e volta para o estado de repouso. Se um n\u00f3 enquanto estiver no estado de \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 86 \n\nrepouso, ouvir um pacote CTS dirigido para outro n\u00f3, ele muda para o estado de espera do ACK \n\n(Wait ACK) e fica \u00e0 espera do respetivo ACK. Se n\u00e3o for recebido nenhum pacote de ACK, \n\nsignifica que ocorreu um erro do pacote. O n\u00f3, permanece nesse estado at\u00e9 que a transmiss\u00e3o de \n\ndados (TX DATA) tenha sido conclu\u00edda corretamente, isto \u00e9 at\u00e9 que o m\u00f3dulo gest\u00e3o do estado de \n\nrece\u00e7\u00e3o sinalize que recebeu pacotes de dados com sucesso e entre no estado de transmiss\u00e3o do \n\nACK (TX ACK). Assim que o m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o sinalizar que o n\u00f3 recebeu o \n\npacote de ACK, ele volta novamente para o estado de repouso. Depois disso, se enquanto estiver no \n\nestado de repouso, houver um pacote na fila de espera isto \u00e9 se a fila do buffer n\u00e3o estiver vazia \n\nvolta para o estado de escuta ao meio (State listen) e reinicia novamente todo o processo de \n\ntransmiss\u00e3o, caso contr\u00e1rio, volta para o estado de repouso. \n\n4.3.2.6. M\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o \n\nO m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o recebe do m\u00f3dulo de rece\u00e7\u00e3o todos os pacotes de controlo e \n\npacotes de dados destinados ao respetivo n\u00f3. Ele sinaliza o m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o, \n\nquando receber um CTS e um pacote de ACK. \u00c9 respons\u00e1vel pelo tratamento das respostas dos \n\nCTS e respostas dos pacotes de ACK quando forem recebidos os pacotes de RTS e Dados. O \n\nm\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o tamb\u00e9m filtra todos os pacotes de dados antes de serem \n\ntransmitidos para a camada superior. Como se pode verificar na figura D.2 (ver anexo D), o \n\ndiagrama de estado do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o possui os seguintes estados: RX \n\nBackoff, RX Idle, RX Listen, RX Wait CTS, RX Wait ACK. O m\u00f3dulo gest\u00e3o de estado de rece\u00e7\u00e3o \n\npassa a maior parte do tempo no estado de repouso (State Idle) e fica \u00e0 espera dos pacotes de \n\ncontrolo e de dados a partir do m\u00f3dulo de rece\u00e7\u00e3o. \n\nQuando iniciada a rece\u00e7\u00e3o (START RX) come\u00e7a-se por verificar o estado atual da transmiss\u00e3o entre \n\nos seguintes poss\u00edveis: estado escuta na rece\u00e7\u00e3o (RX Listen); backoff na rece\u00e7\u00e3o (RX Backoff); \n\nestado de repouso na rece\u00e7\u00e3o (RX Idle); CTS na rece\u00e7\u00e3o (RX Wait CTS); estado de espera do ACK \n\nna rece\u00e7\u00e3o (RX Wait ACK). Quando um pacote RTS for recebido, o m\u00f3dulo gest\u00e3o do estado de \n\nrece\u00e7\u00e3o consulta o gestor do estado do canal para verificar o estado do NAV. Se a resposta indicar \n\num NAV ativo, o pacote de RTS \u00e9 simplesmente descartado. Caso contr\u00e1rio, o m\u00f3dulo gest\u00e3o do \n\nestado de rece\u00e7\u00e3o cria um pacote CTS e muda-se para o estado de espera do CTS na rece\u00e7\u00e3o (RX \n\nWait CTS) com um temporizador do CTS (CTS Timer). Na fase final de rece\u00e7\u00e3o (END RX) dos \n\npacotes RTS s\u00e3o verificados todos os endere\u00e7os MAC dos pacotes RTS. Se o endere\u00e7o MAC do \n\nterminal for igual ao recebido no pacote RTS, entra no estado de rece\u00e7\u00e3o do pacote RTS (RX RTS) \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 87 \n\ne logo de seguida d\u00e1 instru\u00e7\u00e3o ao m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o para transmitir o pacote \n\nCTS, entrando no estado de espera do pacote CTS na rece\u00e7\u00e3o (RX Wait CTS). \n\nSe enquanto estiver \u00e0 espera de receber um pacote de CTS for ouvido um pacotre de controlo, ele \n\nadia a transmiss\u00e3o de dados. Quando for recebido um pacote CTS com o seu MAC como destino, \n\nmuda para o estado de rece\u00e7\u00e3o do pacote CTS (RX CTS) e logo de seguida o m\u00f3dulo gest\u00e3o do \n\nestado de transmiss\u00e3o d\u00e1 instru\u00e7\u00e3o ao m\u00f3dulo de transmiss\u00e3o para transmitir os pacotes de dados. \n\nNo recetor, se o pacote de dados for recebido (RX DATA), o m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o \n\ninicia o processo ACK (de forma semelhante como ele lidou com as respostas do CTS). No entanto, \n\nele n\u00e3o consulta o m\u00f3dulo gest\u00e3o do estado do canal para verificar o estado do NAV. Isto \u00e9, se um \n\npacote de CTS ou ACK chega ao destinat\u00e1rio, o m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o simplesmente \n\nsinaliza o m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o correspondente. \n\n Na fase final da rece\u00e7\u00e3o do ACK (RX ACK) ser\u00e1 feita uma verifica\u00e7\u00e3o do endere\u00e7o MAC do \n\npacote. Se o endere\u00e7o MAC de destino no pacote de ACK for o do pr\u00f3prio n\u00f3, ent\u00e3o a transmiss\u00e3o \n\nfoi feita com sucesso. Volta-se nesse caso para o estado de respouso na transmiss\u00e3o. Caso n\u00e3o seja \n\no temporizador do ACK (ACK Timer) entra no estado que verifica se o pacote de ACK expirou \n\n(Check ACK Timer). Se o temporizador de ACK estiver expirado entra-se no estado de backoff. \n\nCaso contrario se o temporizador estiver ativo volta novamente para o estado de repouso. \n\nNa fase final da rece\u00e7\u00e3o (END RX) do protocolo DACAP poder\u00e3o surgir casos em que um n\u00f3 \n\nreceba um pacote que n\u00e3o lhe seja destinado (RX Packet Not For Me). Nesses casos ser\u00e3o \n\nverificados os estados de todos os temporizadores (Backoof Timer, CTS Timer, Listen Timer e ACK \n\nTimer) de forma a analisar onde ocorreu uma colis\u00e3o no canal. \n\nO m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o envia todos pacotes de dados para a camada superior. Neste \n\nprocesso, ser\u00e1 respons\u00e1vel por descartar todos pacotes de dados duplicados vindo do canal, que \n\npodem ser causados pelo mecanismo de retransmiss\u00e3o. \n\nNesta fase de implementa\u00e7\u00e3o do algoritmo do protocolo DACAP baseado na arquitetura da camada \n\nMAC apresentada na figura 4.3 tendo em conta os 6 m\u00f3dulos apresentados anteriormente n\u00e3o foi \n\nconsiderado o mecanismo de Warning. Isto \u00e9 n\u00e3o foi utilizada a transmiss\u00e3o do pacote de Warning \n\ncomo foi exemplificado no procedimento de implementa\u00e7\u00e3o do protocolo DACAP apresentado no \n\nalgoritmo 4.3.1. Apenas foram utilizados os esquemas de RTS/CTS/DATA/ACK referenciado no \n\ncap\u00edtulo 3 da presente disserta\u00e7\u00e3o. Esta primeira implementa\u00e7\u00e3o do protocolo DACAP foi \n\ndesignada DACAP no Warning. A diferen\u00e7a entre esse protocolo DACAP sem envio do pacote de \n\nWarning e o protocolo DACAP apresentado pelo algoritmo 4.3.1 consiste em que no protocolo \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 88 \n\nDACAP no Warning ao receber um CTS, o n\u00f3 emissor envia imediatamente o pacote de dados. Por \n\noutro lado no protocolo DACAP com envio do pacote de Warning ao receber um CTS o n\u00f3 emissor \n\ntem que esperar durante algum tempo antes de transmitir o pacote de dados.  \n\nNa pr\u00f3xima se\u00e7\u00e3o ser\u00e1 apresentada a vers\u00e3o DACAP com warning. \n\n4.4. Protocolo DACAP with Warning \n\nA proposta seguinte consiste em utilizar um pacote de Warning para reduzir o n\u00famero de colis\u00f5es \n\nentre pacotes de controlo e dados, especialmente pensada para quando for aumentada a \n\ncomplexidade da rede no ambiente ac\u00fastico submarino. Esta redu\u00e7\u00e3o ser\u00e1 feita introduzindo um \n\ntempo adicional (Twarning) de espera ao lado do emissor antes de transmitir os pacotes de dados, \n\ncomplementada pela introdu\u00e7\u00e3o de um temporizador de espera (Wait Timer) na rece\u00e7\u00e3o para \n\nquando receber um pacote de Warning. A utiliza\u00e7\u00e3o do pacote de Warning justifica-se sempre que \n\nos n\u00f3s terminais devam evitar colis\u00f5es, por exemplo por uma quest\u00e3o de gest\u00e3o de energia, mesmo \n\nque tal possa acarretar uma diminui\u00e7\u00e3o de dados recebidos. \n\nFoi utilizada a mesma arquitetura da camada MAC apresentada na figura 4.3 para implementar o \n\nmecanismo de Warning, partindo dos mesmos m\u00f3dulos utilizados na implementa\u00e7\u00e3o do protocolo \n\nDACAP sem envio de warning. Foi acrescentado o estado TX Warning no m\u00f3dulo de transmiss\u00e3o e \n\no estado RX Warning no m\u00f3dulo de rece\u00e7\u00e3o. N\u00e3o foi feito nenhuma altera\u00e7\u00e3o nos m\u00f3dulos gestores \n\ndo estado do canal, Backoff e m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o. Apenas foi alterada a \n\nimplementa\u00e7\u00e3o do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o. De seguida ser\u00e1 apresentada de forma mais \n\ndetalhada essas altera\u00e7\u00f5es apresentando o diagrama de estado do protocolo DACAP com envio do \n\npacote de Warning na rece\u00e7\u00e3o. \n\n4.4.1. M\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o do protocolo \n\nDACAP com warning \n\nO diagrama de estado do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o do protocolo DACAP com envio de \n\nWarning \u00e9 apresentado na figura D.3 (Ver anexo D). Este diagrama foi dividido em 5 partes, \n\nconsoante for necess\u00e1ria a troca de RTS / CTS / DADOS / ACK/ WARNING. Pode-se observar que \n\nnesta fase foi incluido o mecanismo de Warning, tendo sido adicionado o estado de rece\u00e7\u00e3o do \n\npacote de Warning (RX Warning) neste diagrama. No diagrama de estado do m\u00f3dulo gest\u00e3o do \n\nestado de rece\u00e7\u00e3o, do protocolo DACAP com envio do pacote de Warning, foi considerado na fase \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 89 \n\ninicial da rece\u00e7\u00e3o (START RX) os mesmos estados utilizados no m\u00f3dulo de gest\u00e3o do estado de \n\nrece\u00e7\u00e3o no protocolo DACAP sem envio de Warning acrescentado apenas um novo estado, \n\ndesignado de RX Wait Warning. O m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o do protocolo DACAP com \n\nenvio de warning sinaliza o m\u00f3dulo de gest\u00e3o do estado de transmiss\u00e3o, quando receber um pacote \n\nde CTS, Warning e pacote de ACK, assim como tamb\u00e9m filtra todos os pacotes de dados antes de \n\nserem transmitidos para a camada superior. \n\nNo instante em que se inicia a rece\u00e7\u00e3o (START RX) come\u00e7a-se por verificar o estado atual na \n\ntransmiss\u00e3o entre os seguintes: estado de espera do pacote de Warning na rece\u00e7\u00e3o (RX Wait \n\nWarning) ou estado de espera do CTS na rece\u00e7\u00e3o (RX Wait CTS). Na fase final de rece\u00e7\u00e3o (END \n\nRX) s\u00e3o verificados os endere\u00e7os MAC de todos os pacotes. Mas antes dessa verifica\u00e7\u00e3o come\u00e7a-se \n\npor consultar o m\u00f3dulo gest\u00e3o do estado do canal para verificar o estado do canal. Se o canal estiver \n\ninativo \u00e9 dado uma instru\u00e7\u00e3o ao m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o para transmitir o pacote de \n\nRTS. Caso contr\u00e1rio se o canal estiver ocupado, o m\u00f3dulo gest\u00e3o do estado do backoff calcula um \n\ntempo de backoff e ap\u00f3s o c\u00e1lculo deste tempo verifica-se novamente o estado do canal. \n\nSe for recebido um pacote de RTS (tendo como MAC de destino o seu pr\u00f3prio MAC), ent\u00e3o o \n\nm\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o d\u00e1 instru\u00e7\u00e3o ao m\u00f3dulo de transmiss\u00e3o para transmitir o pacote \n\nde CTS e muda para o estado de espera do pacote de dados, inicializando um temporizador de \n\nespera (Wait Timer). Se enquanto estiver no estado de espera de dados for detetado um pacote de \n\ncontrolo para outro n\u00f3, ser\u00e1 dada uma instru\u00e7\u00e3o ao m\u00f3dulo Gest\u00e3o de estado rece\u00e7\u00e3o para transmitir \n\no pacote de warning (TX Warning) de forma a alerta-lo sobre poss\u00edveis colis\u00f5es que podem afetar a \n\npr\u00f3xima comunica\u00e7\u00e3o.  \n\nSe enquanto estiver \u00e0 espera de receber um pacote CTS, for ouvido um pacote de controlo, adia-se a \n\ntransmiss\u00e3o de dados. Quando for recebido o pacote CTS (com o seu MAC como destino), ent\u00e3o \n\ntransita-se para o estado de rece\u00e7\u00e3o do pacote CTS (RX CTS) e logo de seguida fica-se \u00e0 espera por \n\num tempo Twarning antes de transmitir o pacote de dados atrav\u00e9s do temporizador de espera (Wait \n\nTimer). O tempo Twarning foi implementado com base na express\u00e3o do protocolo DACAP com \n\nACK, apresentada no cap\u00edtulo 3 (Ver se\u00e7\u00e3o 3.4.5.2) com o intuito de evitar colis\u00f5es entre n\u00f3s \n\nvizinhos. Caso n\u00e3o seja recebido o pacote CTS, ser\u00e1 verificado se o temporizador do CTS expirou \n\n(Check CTS Timer). Se o temporizador CTS expirar, s\u00e3o atualizados todos os pacotes CTS \n\nexpirados e muda-se para o estado de repouso. Caso contr\u00e1rio se o temporizador do CTS estiver \n\nativo cont\u00ednua-se \u00e0 espera dos pacotes de CTS pendentes. \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 90 \n\nCaso seja recebido o pacote de warning, entra-se no estado de rece\u00e7\u00e3o do pacote de warning (RX \n\nWarning) e atrasa-se a transmiss\u00e3o dos pacotes de dados atrav\u00e9s do temporizador de espera (Wait \n\nTimer). Se o temporizador de espera estiver ativo fica-se \u00e0 espera de todos os pacotes de warning \n\npendentes. Caso o temporizador de espera expire, o m\u00f3dulo gest\u00e3o de estado de rece\u00e7\u00e3o d\u00e1 \n\ninstru\u00e7\u00e3o ao m\u00f3dulo de transmiss\u00e3o para transmitir os pacotes de dados. Ap\u00f3s transmiss\u00e3o dos \n\npacotes de dados fica-se a aguardar pela chegada dos pacotes de dados na rece\u00e7\u00e3o (RX Wait \n\nDATA). Se o pacote de dados for recebido (RX DATA), o m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o inicia \n\no processo ACK. Na fase final da rece\u00e7\u00e3o do ACK (RX ACK) ser\u00e1 feita uma verifica\u00e7\u00e3o do \n\nendere\u00e7o MAC do pacote, assim como foi feito anteriormente com os outros pacotes. Se o endere\u00e7o \n\nMAC de destino no pacote de ACK for o do pr\u00f3prio n\u00f3, ent\u00e3o a transmiss\u00e3o \u00e9 considerada bem-\n\nsucedida.  \n\nOs restantes mecanismos s\u00e3o iguais aos do protocolo DACAP sem warning. \n\nPara testar a implementa\u00e7\u00e3o do protocolo DACAP com envio do pacote de warning foi proposto \n\num diagrama que verifica a sequ\u00eancia dos pacotes para eventos TX/RX no simulador de rede \n\nWOSS de forma a poder descobrir onde poder\u00e1 ocorrer uma colis\u00e3o. Com este diagrama (ver figura \n\n4.6) pode-se verificar a sequ\u00eancia de todos os pacotes e as camadas envolvidas na \n\ntransmiss\u00e3o/rece\u00e7\u00e3o de cada um dos pacotes, de forma a poder identificar onde poder\u00e3o ocorrer \n\ncolis\u00f5es entre n\u00f3s. De seguida ser\u00e1 apresentado esse diagrama exemplificando todos os eventos de \n\ntransmiss\u00e3o e rece\u00e7\u00e3o do protocolo DACAP com envio de warning no simulador de rede. \n\n4.4.2. Diagrama de sequ\u00eancia do protocolo DACAP com \n\nwarning \n\nO diagrama de sequ\u00eancia dos pacotes para eventos TX/RX foi proposto como uma alternativa para \n\ntestar a implementa\u00e7\u00e3o do protocolo DACAP com envio de warning. Este diagrama utiliza os \n\npacotes de sinaliza\u00e7\u00e3o, o RTS e o CTS, pacotes de dados, ACK e pacotes de Warning para \n\ncomunica\u00e7\u00e3o entre os n\u00f3s. Para al\u00e9m dos referidos pacotes o diagrama de sequ\u00eancia tamb\u00e9m \n\napresenta as camadas f\u00edsica, MAC e superiores e os eventos de transmiss\u00e3o/rece\u00e7\u00e3o entre as \n\ncamadas f\u00edsica para camada MAC e vice-versa. A figura 4.6 apresenta a estrutura de funcionamento \n\ndo diagrama. Quando um n\u00f3 A deseja enviar uma mensagem ao n\u00f3 B, ele primeiro inicia o \n\nprotocolo com o envio de um pacote RTS da camada MAC para camada f\u00edsica atrav\u00e9s da primitiva \n\n(MAC2PHYSTART TX) com informa\u00e7\u00f5es sobre o tamanho do pacote, endere\u00e7o MAC e o \n\nidentificador do pacote (ID do pacote) que se pretende enviar ao n\u00f3 B. Na fase final de transmiss\u00e3o \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 91 \n\ndo pacote RTS da camada f\u00edsica para camada MAC (primitiva PHY2MACEND TX) o n\u00f3 A fica \u00e0 \n\nespera do pacote CTS. Na fase final da rece\u00e7\u00e3o do pacote RTS (utilizando a primitiva \n\nPHY2MACEND RX), se o n\u00f3 B receber o referido pacote, ele responde transmitindo um CTS da \n\ncamada MAC para f\u00edsica (MAC2PHYSTART TX) para o n\u00f3 A, que tamb\u00e9m cont\u00e9m informa\u00e7\u00f5es \n\nsobre o seu endere\u00e7o MAC, ID do pacote e o tamanho do pacote. No fim da transmiss\u00e3o do pacote \n\nCTS (PHY2MACEND TX) o n\u00f3 B fica a aguardar por um pacote de dados. Se enquanto espera por \n\num pacote de dados, o n\u00f3 B ouvir um pacote de controlo destinado a um outro n\u00f3, por exemplo um \n\nn\u00f3 C, ele envia o pacote de warning da camada MAC para camada f\u00edsica (MAC2PHYSTART TX) \n\npara o n\u00f3 A de forma a alert\u00e1-lo sobre uma poss\u00edvel colis\u00e3o que possa afetar a pr\u00f3xima \n\ncomunica\u00e7\u00e3o. \n\nAo receber o pacote CTS da camada f\u00edsica para MAC (PHY2MACEND RX) o n\u00f3 A fica \u00e0 espera \n\ndurante um tempo Twarning antes de transmitir o pacote de dados para o n\u00f3 B. Esse tempo de \n\nespera Twarning definido no c\u00f3digo da implementa\u00e7\u00e3o \u00e9 que vai evitar a colis\u00e3o entre os n\u00f3s \n\nvizinhos. Se enquanto espera por um CTS, o n\u00f3 A ouvir um pacote de controlo, ele adia a \n\ntransmiss\u00e3o do pacote de dados da camada MAC para camada f\u00edsica (MAC2PHYSTART TX). O \n\nn\u00f3 A tamb\u00e9m vai adiar a transmiss\u00e3o de dados se durante o per\u00edodo de espera twarning ele receber \n\num pacote de warning do n\u00f3 B (atrav\u00e9s da camada fisica para camada MAC) ou ouvir um pacote de \n\ncontrolo de outros n\u00f3s. O n\u00f3 B transmite o pacote de warning da camada mas n\u00e3o ir\u00e1 saber se este \n\npacote foi recebido pelo n\u00f3 A a tempo de voltar a adiar a transmiss\u00e3o de dados, porque o pacote de \n\ndados pode ter sido recebido corretamente. Na fase final de transmiss\u00e3o dos pacotes de dados o n\u00f3 \n\nA fica \u00e0 espera do pacote de ACK. Ao receber o pacote de dados corretamente da camada o n\u00f3 B ir\u00e1 \n\ntransmitir um pacote de ACK da camada MAC para camada f\u00edsica para o n\u00f3 A. Se nenhum ACK \n\nfor recebido ap\u00f3s transmiss\u00e3o de dados dentro do tempo twarning especificado o n\u00f3 A considera \n\nque a houve um erro na transmiss\u00e3o. O mesmo acontece durante o periodo em que o n\u00f3 A estiver a \n\nespera de um ACK e receber um RTS, um CTS ou um pacote de dados de outros n\u00f3s. Neste caso as \n\npontenciais colis\u00f5es que possam surgir ser\u00e3o evitadas com o envio do pacote de warning. \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 92 \n\n \nFigura 4.6: Diagrama de sequ\u00eancia de pacotes e primitivas do protocolo DACAP com warning. \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 93 \n\n4.5. Conclus\u00f5es do cap\u00edtulo \n\nNeste cap\u00edtulo foi apresentada uma vis\u00e3o geral sobre a implementa\u00e7\u00e3o do mecanismo de acesso ao \n\nmeio DACAP. Neste sentido primeiro fez-se um estudo do funcionamento da camada MAC no \n\nsimulador de rede baseando no diagrama de sequ\u00eancia dos pacotes para eventos \n\ntransmiss\u00e3o/rece\u00e7\u00e3o. De seguida foi apresentada uma arquitetura da camada MAC utilizada para \n\nimplementa\u00e7\u00e3o do algoritmo do protocolo DACAP. Foi dividida a implementa\u00e7\u00e3o do referido \n\nprotocolo em duas fases. Na primeira fase de implementa\u00e7\u00e3o do protocolo DACAP n\u00e3o foi tida em \n\nconsidera\u00e7\u00e3o o mecanismo de warning. Foi feita a descri\u00e7\u00e3o dos seguintes m\u00f3dulos: Transmiss\u00e3o, \n\nrece\u00e7\u00e3o, m\u00f3dulo gest\u00e3o do estado do canal, m\u00f3dulo gest\u00e3o do estado do backoff, m\u00f3dulo gest\u00e3o do \n\nestado transmiss\u00e3o e m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o. Na fase seguinte foi proposto \n\nimplementa\u00e7\u00e3o do mecanismo de warning no protocolo DACAP, como alternativa para melhorar a \n\nprimeira implementa\u00e7\u00e3o do protocolo, alterando o m\u00f3dulo de gest\u00e3o de estado de rece\u00e7\u00e3o.  \n\nNo cap\u00edtulo 5, apresentaremos os resultados das simula\u00e7\u00f5es das duas implementa\u00e7\u00f5es do protocolo \n\nDACAP apresentado resultados comparativos entre os diversos mecanismos MAC existentes no \n\nsimulador de rede. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nImplementa\u00e7\u00e3o do Mecanismo DACAP \n\n 94 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 95 \n\nCap\u00edtulo 5 \n\n \n\nSimula\u00e7\u00f5es \n\nNeste cap\u00edtulo pretendem-se analisar os resultados da simula\u00e7\u00e3o dos protocolos de controlo de \n\nacesso ao meio (MAC) ALOHA com ACK, ALOHA sem ACK, ALOHANEW sem ACK, CSMA, \n\nDACAP com Warning e DACAP sem Warning, com o objetivo de determinar qual deles apresenta \n\nmelhor desempenho nas redes ac\u00fasticas submarinas. O estudo basear-se-\u00e1 numa an\u00e1lise \n\ncomparativa de desempenho desses mecanismos em v\u00e1rios cen\u00e1rios, de forma a determinar qual \n\ndeles se comporta melhor em determinadas condi\u00e7\u00f5es de rede.  \n\nNuma primeira fase, antes de obter os resultados, foram definidos os seguintes passos para analisar \n\no desempenho desses seis protocolos de camada MAC para redes ac\u00fasticas submarinas no \n\nsimulador de rede WOSS: \n\n1- Defini\u00e7\u00e3o de uma estrutura no simulador de rede de forma a perceber as camadas f\u00edsicas e \n\nde rede para comunica\u00e7\u00f5es ac\u00fasticas submarinas;  \n\n2- Defini\u00e7\u00e3o e an\u00e1lise dos seis protocolos de acesso ao meio a utilizar na simula\u00e7\u00e3o; \n\n3- Defini\u00e7\u00e3o dos par\u00e2metros para an\u00e1lise do desempenho; \n\n4- Defini\u00e7\u00e3o de um cen\u00e1rio da rede e respetivos par\u00e2metros f\u00edsicos e de rede;  \n\n5- An\u00e1lise dos resultados obtidos de forma a comparar o desempenho dos protocolos para \n\nv\u00e1rios cen\u00e1rios da rede de acordo com os par\u00e2metros definidos. \n\nNo resto deste cap\u00edtulo esses passos ser\u00e3o descritos em v\u00e1rias se\u00e7\u00f5es. \n\n5.1. Estrutura da simula\u00e7\u00e3o no WOSS \n\nA figura 5.1 apresenta as camadas envolvidas na simula\u00e7\u00e3o efetuada. Nessa estrutura da simula\u00e7\u00e3o \n\nfoi definido o canal ac\u00fastico submarino no simulador de rede WOSS. Esse modelo do canal \n\nac\u00fastico foi integrado no simulador de rede ac\u00fastico submarino com uma reprodu\u00e7\u00e3o mais realista \n\n\n\nSimula\u00e7\u00f5es \n\n 96 \n\nde propaga\u00e7\u00e3o ac\u00fastica atrav\u00e9s do modelo de propaga\u00e7\u00e3o do software Bellhop ray tracing [36]. O \n\nmodelo de propaga\u00e7\u00e3o Bellhop agrega informa\u00e7\u00f5es sobre o perfil de velocidade do som (i.e., a \n\nvaria\u00e7\u00e3o da velocidade do som com a profundidade, o que influencia a quantidade de flex\u00e3o \n\nincorridos pelas ondas), assim como dados de batimetria e informa\u00e7\u00f5es sobre os sedimentos do \n\nfundo, ambas necess\u00e1rias para caracterizar as reflex\u00f5es do fundo [36]. Esses recursos do simulador \n\nde rede ser\u00e3o interligados com bases de dados livres dispon\u00edveis na Internet, como o WOA (Base de \n\nDados Mundial dos Oceanos) [37], GEBCO (Quadro Batim\u00e9trico Geral dos Oceanos) [39] e \n\nNational Geophysical Data Center Deck41 (Base da dados do tipo de sedimentos de fundo \n\noce\u00e2nico) [40] de forma a proporcionar ao modelo da comunica\u00e7\u00e3o ac\u00fastica submarina maior \n\nfidelidade \u00e0s condi\u00e7\u00f5es ambientais. \n\nQuando se utiliza o Bellhop o utilizador apenas tem que especificar as coordenadas geogr\u00e1ficas de \n\nonde a simula\u00e7\u00e3o deve ser feita e deixar o simulador executar o Bellhop. Os efeitos de propaga\u00e7\u00e3o \n\nestimados para cada par de n\u00f3s da rede incluindo todos os c\u00e1lculos das perdas de caminho ac\u00fastico \n\nde cada par origem-destino de um determinado local, bem como a interfer\u00eancia, s\u00e3o repetidos se os \n\nn\u00f3s se movimentarem. \n\nA figura 5.1 apresenta o modelo protocolar considerado nos n\u00f3s. A camada f\u00edsica foi definida com \n\nbase no sistema de modula\u00e7\u00e3o BPSK, suportando v\u00e1rios protocolos de acesso ao meio para redes \n\nac\u00fasticas submarinas. Para tal consideraram-se diversos n\u00f3s da rede a tentarem enviar tr\u00e1fego do \n\ntipo de d\u00e9bito constante (CBR) para o qual se definiu o intervalo de gera\u00e7\u00e3o de pacotes e tamanho. \n\n \n\nFigura 5.1: Estrutura da simula\u00e7\u00e3o no simulador de rede ac\u00fastico WOSS. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 97 \n\nDepois da estrutura\u00e7\u00e3o da simula\u00e7\u00e3o no simulador de rede ac\u00fastico WOSS foram definidos alguns \n\ncen\u00e1rios durante o processo de simula\u00e7\u00e3o, de forma a avaliar os resultados comparativos dos \n\nprotocolos que ser\u00e3o apresentadas nas pr\u00f3ximas se\u00e7\u00f5es. \n\n5.2. Descri\u00e7\u00e3o dos protocolos utilizados na simula\u00e7\u00e3o \n\nNesta se\u00e7\u00e3o apresenta-se uma breve descri\u00e7\u00e3o dos seis protocolos de acesso ao meio para redes \n\nac\u00fasticas submarinas (ALOHA com ACK, ALOHA sem ACK, ALOHANEW sem ACK, CSMA, \n\nDACAP com Warning e DACAP sem Warning), utilizados nas simula\u00e7\u00f5es.  \n\nNo protocolo ALOHA sem ACK [17], n\u00e3o \u00e9 utilizado o pacote de ACK, nem \u00e9 considerado o \n\nestado do canal antes da transmiss\u00e3o de um pacote de dados. Quando um emissor tiver um pacote \n\nde dados para enviar, ele envia imediatamente o pacote ao recetor. N\u00e3o utiliza mecanismo de \n\nbackoff, nem utiliza os pacotes de sinaliza\u00e7\u00e3o RTS, CTS e pacotes de warning para resolver \n\neventuais problemas de colis\u00f5es que possam surgir nas redes ac\u00fasticas submarinas. \n\nO protocolo ALOHANEW sem ACK, tamb\u00e9m n\u00e3o utiliza o pacote de ACK na retransmiss\u00e3o. O \n\nprotocolo ALOHANEW foi implementado no simulador de rede, alterando o c\u00f3digo de \n\nimplementa\u00e7\u00e3o de forma a escutar o meio. Este protocolo tamb\u00e9m n\u00e3o utiliza o mecanismo de \n\nbackoff, warning, nem pacotes de sinaliza\u00e7\u00e3o. \n\nNo protocolo ALOHA com ACK, \u00e9 utilizado o pacote de ACK quando o recetor receber \n\ncorretamente um pacote de dados do emissor confirmando que a transmiss\u00e3o foi bem-sucedida. \n\nTamb\u00e9m utiliza o mecanismo de backoff para resolver o problema de colis\u00e3o em casos onde o \n\nemissor n\u00e3o consegue receber um ACK num intervalo de tempo predefinido. Nestes casos admite-\n\nse ter havido perda de pacote devido a uma colis\u00e3o no canal. O protocolo ALOHA com ACK \n\nefectua escuta ao meio mas n\u00e3o utiliza os pacotes de sinaliza\u00e7\u00e3o RTS, CTS e mecanismo de \n\nwarning. \n\nA descri\u00e7\u00e3o do protocolo CSMA e o DACAP foram apresentados no (cap\u00edtulo 3) da presente \n\ndisserta\u00e7\u00e3o, enquanto que os detalhes da implementa\u00e7\u00e3o e descri\u00e7\u00e3o do protocolo DACAP com \n\nwarning foi apresentado no cap\u00edtulo anterior (cap\u00edtulo 4). \n\nNa tabela 5.1 \u00e9 apresentado um breve resumo sobre a descri\u00e7\u00e3o desses protocolos de acesso ao meio \n\nutilizados na simula\u00e7\u00e3o. \n\n \n\n \n\n \n\n\n\nSimula\u00e7\u00f5es \n\n 98 \n\n \n\nProtocolo \n\n \n\nTem \n\nACK/Retransmiss\u00e3o \n\nTem Mecanismo \n\nBackoff \n\nEfectua escuta ao \n\nmeio \n\nTem Mecanismo \n\nWarning \n\nALOHA sem \n\nACK \n\nN\u00e3o N\u00e3o N\u00e3o N\u00e3o \n\nALOHANEW \n\nsem ACK \n\nN\u00e3o N\u00e3o Sim N\u00e3o \n\nALOHA com \n\nACK \n\nSim Sim Sim N\u00e3o \n\nCSMA Sim Sim Sim N\u00e3o \n\nDACAP sem \n\nWarning \n\nSim Sim Sim N\u00e3o \n\nDACAP com \n\nWarning \n\nSim Sim Sim Sim \n\nTabela 5.1: Tabela com pequena descri\u00e7\u00e3o dos protocolos utilizados na simula\u00e7\u00e3o \n\n5.3. Defini\u00e7\u00e3o dos par\u00e2metros de avalia\u00e7\u00e3o de desempenho \n\nPara avalia\u00e7\u00e3o dos resultados foram definidos os seguintes par\u00e2metros de forma a verificar o \n\ndesempenho dos protocolos de acesso ao meio nas redes ac\u00fasticas submarinas: o Average \n\nThroughput per Node (D\u00e9bito recebido por n\u00f3), Normalized Throughput (Throughput \n\nNormalizado), Success Ratio (\u00cdndice de Sucesso), Application Success Ratio (\u00cdndice Sucesso a nivel \n\nde Aplica\u00e7\u00e3o), Data Generation Rate per Node (D\u00e9bito de envio por n\u00f3) e o Overhead (O tempo \n\ngasto em mecanismos de controlo). \n\nO Average Throughput per Node \u00e9 definido como d\u00e9bito recebido em bps, isto \u00e9 o n\u00famero de bits \n\nde dados por segundo que consegue chegar ao destino pretendido, neste caso ao n\u00f3 Sink [17]. \n\nO Throughput Normalizado \u00e9 definido como o r\u00e1cio entre o d\u00e9bito recebido versus d\u00e9bito de \n\npacotes gerados, a n\u00edvel de aplica\u00e7\u00e3o [49]. O Throughput Normalizado \u00e9 determinado pela seguinte \n\nexpress\u00e3o: \n\n??????????  ?????????? = \n??????????\n\n???????\u00d78/?????????\n                              (5.1)                    \n\nOnde ??????? \u00e9 o tamanho do pacote em bytes e o ????????? \u00e9 o per\u00edodo entre pacotes em \n\nmilissegundos. \n\nO \u00cdndice de Sucesso \u00e9 definido como r\u00e1cio entre n\u00famero de pacotes recebidos corretamente pelo n\u00f3 \n\nSink versus n\u00famero total de pacotes enviados, enquanto que o \u00cdndice Sucesso a nivel de Aplica\u00e7\u00e3o \u00e9 \n\nnecess\u00e1rio a fim de compreender o n\u00edvel de desempenho da rede percebido a partir de uma fonte de \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 99 \n\ninforma\u00e7\u00e3o que funcione nas camadas de rede superiores [17]. Em casos em que os protocolos \n\nMAC, a um n\u00edvel mais baixo, n\u00e3o permitam a transmiss\u00e3o a um d\u00e9bito igual \u00e0 da fonte, os dados da \n\nmesma acabr\u00e3o por permanecer no buffer ou fila de transmiss\u00e3o, podendo mesmo ser descartados \n\nsem chegarem a ser transmitidos [17]. O \u00edndice de sucesso a n\u00edvel de aplica\u00e7\u00e3o \u00e9 ent\u00e3o definido \n\ncomo o r\u00e1cio entre n\u00famero de pacotes recebidos corretamente versus n\u00famero total de pacotes \n\ngerados pela fonte [49].  \n\nO \u00cdndice de Sucesso e o \u00cdndice Sucesso a n\u00edvel de Aplica\u00e7\u00e3o s\u00e3o determinados pelas seguintes \n\nexpress\u00f5es: \n\n??????? ????? =\n??????\n\n??????\n      (5.2)                                             \n\n??????????? ?????? ????? =\n??????\n\n????????/?????????\n             (5.3)  \n\nOnde ??????  \u00e9 o n\u00famero de pacotes CBR recebidos e o ?????? \u00e9 o n\u00famero de pacotes CBR \n\nenviados. Em que ???????? corresponde ao tempo total da simula\u00e7\u00e3o. \n\nO d\u00e9bito de envio por n\u00f3 \u00e9 obtido pela divis\u00e3o entre tamanho de pacotes CBR em bytes e o \n\nintervalo entre pacotes CBR [17], mais concretamente utilizando a seguinte express\u00e3o: \n\n???? ?????????? ???? ??? ???? =\n??????? \u00d7 8\n\n?????????\n   (5.4) \n\nO tempo gasto em mecanismos de controlo (ou overhead) mede o tempo que \u00e9 dedicado \u00e0 \n\nsinaliza\u00e7\u00e3o, i.e., \u00e0 transmiss\u00e3o de pacotes de ACK, RTS, CTS e Warning (DACAP). No caso das \n\nvers\u00f5es com ACK tal n\u00e3o inclui a retransmiss\u00e3o de pacotes errados. \n\nCom base nestes par\u00e2metros, nas pr\u00f3ximas se\u00e7\u00f5es ser\u00e3o apresentadas as an\u00e1lises comparativas dos \n\nresultados obtidos da simula\u00e7\u00e3o dos protocolos de acesso ao meio em redes ac\u00fasticas submarinas. \n\n5.4. Simula\u00e7\u00f5es efectuadas e resultados \n\nNesta se\u00e7\u00e3o apresenta-se os resultados comparativos dos seis protocolos de acesso ao meio \n\nreferenciados anteriormente para v\u00e1rios cen\u00e1rios da rede analisando os par\u00e2metros de desempenho \n\ncitados na se\u00e7\u00e3o anterior de forma a determinar qual deles apresenta melhor desempenho nas redes \n\nac\u00fasticas submarinas.  \n\nPara teste e compara\u00e7\u00e3o dos protocolos de controlo de aceso ao meio consideraram-se v\u00e1rios \n\ncen\u00e1rios em que dois ou mais n\u00f3s tentavam comunicar com um ou mais recetores. Nesses cen\u00e1rios \n\n\n\nSimula\u00e7\u00f5es \n\n 100 \n\nassumiu-se que os pacotes foram gerados de acordo com um processo de Poisson determinando o \n\nd\u00e9bito de transmiss\u00e3o da fonte, e considerando tamanhos de pacotes de 50 e 600 bytes. Os pacotes \n\nde sinaliza\u00e7\u00e3o (RTS, CTS, Warning) e os pacotes de ACK foram definidos como tendo um tamanho \n\nde 4 Bytes. \n\nNos referidos cen\u00e1rios tamb\u00e9m se assumiu que os n\u00f3s da rede foram equipados com hardware de \n\nmodem padr\u00e3o, como o modem WHOI micromodem (ver cap\u00edtulo 2 da presente disserta\u00e7\u00e3o), \n\npermitindo transmiss\u00f5es utilizando o sistema de modula\u00e7\u00e3o coerente BPSK em diferentes bandas, \n\ncom um d\u00e9bito bin\u00e1rio de 4800 bps e uma frequ\u00eancia da portadora de 11,5 kHz. Assumiu-se um \n\nper\u00edodo entre pacotes do fluxo CBR de 400 milissegundos e uma largura de banda do canal de \n\n5kHz. O per\u00edodo entre gera\u00e7\u00e3o de pacotes faz com que os n\u00f3s emissores estejam constantemente a \n\ntentar enviar dados. \n\n5.4.1. An\u00e1lise comparativa dos protocolos MAC para 2 n\u00f3s \n\nemissores e 1 recetor \n\n5.4.1.1. Arquitetura sim\u00e9trica \n\nInicialmente come\u00e7ou-se por analisar os resultados obtidos do cen\u00e1rio apresentado na figura 5.2, \n\ncom 2 n\u00f3s emissores (n\u00f3 0 e n\u00f3 1) e um n\u00f3 recetor (n\u00f3 2), designado de Sink e localizado no centro \n\nda \u00e1rea da rede em que os n\u00f3s (0 e 1). A dist\u00e2ncia horizontal entre os n\u00f3s emissores (n\u00f3 0 e o n\u00f3 1) \n\nfoi definida como sendo 500 metros, sendo a dist\u00e2ncia entre o n\u00f3 0 e n\u00f3 2 e entre n\u00f3 1 e n\u00f3 2 de \n\n258,3 metros, de acordo com o esquema da figura seguinte. \n\n \n\nFigura 5.2: Cen\u00e1rio utilizado na simula\u00e7\u00e3o para an\u00e1lise comparativa dos protocolos para tamanhos \n\nde pacotes de 50 e 600 bytes. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 101 \n\nForam definidos os seguintes valores para a latitude, longitude e profundidade dos n\u00f3s da rede \n\ncomo mostra a tabela 5.2. \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,128\u00b0? -15 Metros 250 Metros \n\nTabela 5.2: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o \n\nEm seguida foram definidas as coordenadas geogr\u00e1ficas como 42.59\u00b0 N  10.125\u00b0 E, para o SSP \n\n(Perfil de Velocidade do Som), impondo um conjunto de par\u00e2metros ambientais para avalia\u00e7\u00e3o dos \n\nresultados. \n\nFoi assumido que o ruido ambiental foi modelado, por meio de 4 fontes de ru\u00eddo: turbul\u00eancia, \n\nshipping (navega\u00e7\u00e3o), vento e o ruido t\u00e9rmico [13]. Esses factores de ru\u00eddos foram utilizados para \n\ndeterminar a densidade espectral de pot\u00eancia desses ru\u00eddos em dB re ?Pa/Hz , em fun\u00e7\u00e3o da \n\nfrequ\u00eancia (em kHz) pelas seguintes f\u00f3rmulas emp\u00edricas [13]: \n\n \n\n10 ????? (?) = 17 ? 30log?                                                                                                (5.5)                                              \n\n 10?????(?) = 40 + 20(? ? 0.5) + 26???(?) ? 60???(? + 0.03)                           (5.6)        \n\n10 log?? (?) = 50 + 7.5?\n1\n\n2 + 20log? ? 40log(? + 0.4)                                             (5.7)     \n\n10 log??? (?) = ?15 + 20log?                                                                                              (5.8)                                                                                    \n\n \n\nO impacto de cada componente da densidade espectral de pot\u00eancia do ru\u00eddo \u00e9 diferente para \n\nfrequ\u00eancias diferentes. Por exemplo, nas faixas de frequ\u00eancias encontradas para dist\u00e2ncias de \n\ntransmiss\u00e3o de mais de 10 metros, a turbul\u00eancia e as componentes de navega\u00e7\u00e3o t\u00eam muito pouco \n\nefeito, enquanto que o vento e o ru\u00eddo t\u00e9rmico t\u00eam efeitos mais significativos [22]. No referido \n\ncen\u00e1rio foram definidos os seguintes valores para os par\u00e2metros dos ru\u00eddos e salinidade da \u00e1gua: a \n\nnavega\u00e7\u00e3o foi atribu\u00edda o valor de 0.5, o vento foi considerado um valor nulo (0 metros por \n\nsegundos) e salinidade foi atribu\u00edda um valor de 35 ppm [22]. \n\nO perfil da velocidade do som utilizado na simula\u00e7\u00e3o \u00e9 apresentado na figura 5.3 com um conjunto \n\nde velocidades de propaga\u00e7\u00e3o do som para v\u00e1rias profundidades. Sendo um valor t\u00edpico para \n\n\n\nSimula\u00e7\u00f5es \n\n 102 \n\nvelocidades de propaga\u00e7\u00e3o do som para comunica\u00e7\u00f5es ac\u00fasticas submarinas um valor de \n\naproximadamente 1500 metros por segundos. \n\n \n\nFigura 5.3: Velocidade de propaga\u00e7\u00e3o do som em rela\u00e7\u00e3o a profundidade, utilizado no cen\u00e1rio \n\napresentado na figura 5.2.  \n\nO perfil batim\u00e9trico utilizado na simula\u00e7\u00e3o foi definido atrav\u00e9s do GEBCO que tem como objetivo \n\nproporcionar um quadro batim\u00e9trico geral dos oceanos livremente dispon\u00edveis na Internet [39]. No \n\nreferido cen\u00e1rio foi utilizado um conjunto de grade de dados batim\u00e9tricos usando o GEBCO One \n\nMinute Grid (grade de um minuto arco-resolu\u00e7\u00e3o) [39]. Na figura 5.4 apresenta-se o mapa do perfil \n\nbatim\u00e9trico utilizado na simula\u00e7\u00e3o.  \n\nO comando seguinte apresenta um exemplo de um script de defini\u00e7\u00e3o do perfil batim\u00e9trico no \n\nsimulador de rede: \n\nSetCustomBathymetry $opt (start_lat) $opt (start_long) -500.0 4 0.0 100.0 500.0 200.0 1500.0 \n200.0 2500.0 100.0 \n\n \n\nForam definidos os valores da latitude e longitude iniciais e um conjunto de pontos de intervalos de \n\nprofundidade e dist\u00e2ncia. Em $opt (start_lat) $opt (start_long) s\u00e3o definidas as latitudes e \n\nlongitudes inicias e os valores (-500.0 4 0.0 100.0 500.0 200.0 1500.0 200.0 2500.0 100.0) \n\ncorrespondem a conjuntos de pontos que definem as profundidades e dist\u00e2ncias.  \n\n \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 103 \n\n \n\n \n\nFigura 5.4: Mapa do perfil batim\u00e9trico utilizado no cen\u00e1rio apresentado na figura 5.2. \n\nO perfil do sedimento do fundo utilizado na simula\u00e7\u00e3o foi definido atrav\u00e9s da National Geophysical \n\nData Center Deck41 uma base de dados sobre os tipos de sedimentos do fundo oce\u00e2nico [40]. Os \n\npar\u00e2metros do perfil do sedimento do fundo foram definidos atrav\u00e9s do seguinte comando no \n\nsimulador de rede: \n\nsetCustomSediment   \"Test Sediment\" 1560 200 1.5 0.9 0.8 1.0 \n\n \n\nOnde Test Sediment indica o nome do tipo de sedimento e os valores (1560 200 1.5 0.9 0.8 1.0) \n\ncorrespondem aos par\u00e2metros do perfil do sedimento, nomeadamente: \n\n? Velocidade do comprimento de onda = 1560 m/s; \n\n? Shear wave velocity = 200 m/s; \n\n? Densidade do sedimento = 1,5 ?/??3; \n\n? Atenua\u00e7\u00e3o do comprimento = 0,9 dB/comprimento de onda; \n\n? Shear wave attenuation = 0,8 dB/comprimento de onda; \n\n? Profundidade do fundo = 1,0 m. \n\nForam realizadas 40 simula\u00e7\u00f5es, em cada uma delas variando o n\u00famero da Seed (semente) do \n\ngerador pseudo-aleat\u00f3rio, por forma a garantir pequenas varia\u00e7\u00f5es nos per\u00edodos entre pacotes CBR. \n\n\n\nSimula\u00e7\u00f5es \n\n 104 \n\nSeguidamente foram analisados os resultados dos d\u00e9bito recebido por n\u00f3 em fun\u00e7\u00e3o do d\u00e9bito de \n\nenvio por n\u00f3 dos protocolos para tamanho do pacote de 600 e 50 bytes como mostra a figura 5.5. \n\nNa figura 5.5 (a) pode-se verificar que para tamanhos de pacotes de 600 bytes, o protocolo DACAP \n\nsem Warning apresentou maior d\u00e9bito recebido por n\u00f3 para elevados d\u00e9bitos de envio quando \n\ncomparado com os outros protocolos. Em contrapartida, o protocolo ALOHA com ACK apresentou \n\no pior resultado.  \n\nPara tamanhos de pacotes de 50 bytes, apresentado na figura 5.5 (b) o protocolo ALOHA sem ACK \n\napresentou maiores d\u00e9bitos recebido por n\u00f3. A sobrecarga que os ACKs introduzem nos protocolos \n\nALOHA com ACK e CSMA assim como a sobrecarga que os handshakings (RTS/CTS/Warning) \n\nintroduzem nos protocolos DACAP, causam inefici\u00eancias quando s\u00e3o transmitidos pacotes \n\npequenos, uma vez que os tempos de ida e volta s\u00e3o maiores do que os tempos de transmiss\u00e3o. \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.5: Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. \n\nA figura 5.6 apresenta os resultados do Throughput Normalizado em fun\u00e7\u00e3o do d\u00e9bito de envio por \n\nn\u00f3 dos protocolos para tamanhos do pacote de 600 e 50 bytes. O Throughput Normalizado \n\ncorresponde ao n\u00famero de bits de dados por segundo que consegue chegar ao destino pretendido, \n\ndividido pelo n\u00famero de bits de dados gerados.  \n\nComo pode ser verificado na figura 5.6 (a), o protocolo DACAP sem Warning apresentou um \n\nmelhor desempenho no Throughput normalizado para baixos valores de d\u00e9bito de envio por n\u00f3 em \n\nrela\u00e7\u00e3o aos outros protocolos para tamanho do pacote de 600 bytes, enquanto que o protocolo \n\nALOHA com ACK apresentou o pior resultado. Nessa figura tamb\u00e9m se pode observar que o \n\nprotocolo DACAP sem Warning alcan\u00e7a o Throughput m\u00e1ximo de 1, e al\u00e9m disso \u00e9 capaz de \n\nmanter esse n\u00edvel at\u00e9 uma determinada taxa de tr\u00e1fego gerado, ap\u00f3s o qual o desempenho come\u00e7a a \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 105 \n\ncair devido as perdas dos pacotes que s\u00e3o gerados. Este comportamento deve-se a maior n\u00edvel de \n\ncoordena\u00e7\u00e3o aplicado entre os n\u00f3s no protocolo DACAP.  \n\nPor outro lado, para tamanhos de pacotes de 50 bytes o Throughput Normalizado do ALOHA sem \n\nACK decresce mais lentamente que o dos outros protocolos, mesmo com baixo tr\u00e1fego, devido \u00e0 \n\ncolis\u00e3o cada vez mais frequente nos protocolos de acesso aleat\u00f3rio.  \n\nEm termos gerais, pode-se observar que em ambas as figuras 5.6 (a) e 5.6 (b) o Throughput \n\nnormalizado dos protocolos ALOHA sem ACK (ALOHA sem ACK e ALOHANEW sem ACK) \n\ndiminui mais levemente do que os outros protocolos com ACK (ALOHA com ACK e CSMA), \n\ngra\u00e7as \u00e0 aus\u00eancia do tempo de espera antes da transmiss\u00e3o dos pacotes de dados. \n\n  \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n       (b) Tamanho do pacote 50 bytes. \n\nFigura 5.6: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\npara (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. \n\nNa figura 5.7 apresentam-se os resultados do \u00edndice de sucesso dos protocolos para tamanhos de \n\npacotes de 600 e 50 bytes respetivamente. Pode-se verificar nas figuras 5.7 (a) e 5.7 (b) que o \u00edndice \n\nde sucesso dos protocolos ALOHA em ambas as vers\u00f5es com e sem ACK e CSMA diminue \n\nconsistentemente com o tr\u00e1fego oferecido, o que traduz que s\u00e3o necess\u00e1rias mais transmiss\u00f5es por \n\ncada rece\u00e7\u00e3o bem-sucedida. Pode-se tamb\u00e9m observar que o protocolo CSMA apresentou um fraco \n\ndesempenho no \u00edndice de sucesso mostrando que n\u00e3o se adequa aos atrasos envolvidos. Por outro \n\nlado, nos protocolos DACAP em ambas as vers\u00f5es com Warning e sem Warning o \u00edndice de \n\nsucesso est\u00e1 sempre pr\u00f3ximo de 1. Se por um lado isso significa que todos os pacotes transmitidos \n\ns\u00e3o recebidos, isso n\u00e3o significa que todos os pacotes gerados chegam a ser transmitidos. Isso \u00e9 \n\nmostrado pela figura 5.6 onde se apresenta o Throughput Normalizado, que tem como refer\u00eancia o \n\nd\u00e9bito da fonte, ou seja que \u00e9 definido como o r\u00e1cio entre o d\u00e9bito recebido versus d\u00e9bito de \n\n\n\nSimula\u00e7\u00f5es \n\n 106 \n\npacotes gerados, a n\u00edvel de aplica\u00e7\u00e3o. Nestes casos alguns desses pacotes s\u00e3o descartados devido \u00e0s \n\nfilas de espera estarem cheias ou completas.  \n\nDos resultados apresentados nas figuras 5.7 (a) e 5.7 (b) pode-se concluir que os protocolos \n\nDACAPs utilizados na simula\u00e7\u00e3o apresentaram maior \u00edndice de sucesso em rela\u00e7\u00e3o aos outros \n\nprotocolos devido a aus\u00eancia de colis\u00f5es nos protocolos DACAPs devido ao mecanismo de backoff \n\nque obriga os n\u00f3s a estar em longos per\u00edodos de sil\u00eancio, diminuindo o n\u00edvel de interfer\u00eancia e as \n\nprobabilidades de colis\u00f5es nos protocolos DACAP.  \n\n \n\n(a)   Tamanho do pacote 600 bytes. \n\n \n\n  (b) Tamanho do pacote 50 bytes. \n\nFigura 5.7: Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos para (a) \n\nTamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. \n\n \n\nOs resultados do \u00edndice sucesso a nivel de aplica\u00e7\u00e3o em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 dos \n\nprotocolos para tamanho do pacote 600 e 50 bytes s\u00e3o apresentados nas figuras 5.8 (a) e 5.8 (b). Na \n\nfigura 5.8 (a) pode-se verificar que, para tamanhos de pacotes mais elevados o \u00edndice de sucesso a \n\nn\u00edvel de aplica\u00e7\u00e3o do protocolo DACAP sem warning mant\u00e9m-se at\u00e9 um determinado n\u00edvel de \n\ntr\u00e1fego e diminui com o aumento do d\u00e9bito de envio por n\u00f3 devido \u00e0 satura\u00e7\u00e3o dos n\u00f3s da rede, \n\nconduzindo a que quaisquer novos pacotes sejam descartados. No entanto pode-se observar nos \n\nresultados anteriores que o Throughput e o \u00edndice de sucesso consideram apenas os pacotes que s\u00e3o \n\ntransmitidos, desprezando os pacotes gerados que s\u00e3o descartados devido aos atrasos excessivos nos \n\nn\u00f3s. Ao contr\u00e1rio na figura 5.8 (b) para tamanho do pacote de 50 bytes pode-se verificar que todos \n\nos protocolos coordenados (DACAP sem Warning, DACAP com Warning) e os protocolos com \n\nACK (ALOHA com ACK e CSMA) sofrem perdas de pacotes a n\u00edvel de aplica\u00e7\u00e3o, n\u00e3o por causa \n\nde erros de transmiss\u00e3o, mas sim por causa de pacotes que s\u00e3o descartados devido as filas estarem \n\ncheias ou completas. O pior desempenho nesse sentido \u00e9 apresentado pelo protocolo ALOHA com \n\nACK, onde os efeitos de colis\u00f5es e opera\u00e7\u00f5es do protocolo determinam significativas perdas de \n\npacotes. Os protocolos ALOHA sem ACK apresentaram melhores resultados a n\u00edvel do \u00edndice \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 107 \n\nsucesso a n\u00edvel de aplica\u00e7\u00e3o em rela\u00e7\u00e3o aos outros protocolos para tamanhos de pacotes de 50 \n\nbytes. \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.8: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\npara (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. \n\nEm seguida, para finalizar a an\u00e1lise comparativa do desempenho dos protocolos para o cen\u00e1rio \n\napresentado na figura 5.2 s\u00e3o apresentados os resultados dos tempos gastos em mecanismos de \n\ncontrolo (Overhead) em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3, para tamanhos do pacote de 600 e 50 \n\nbytes nas figuras 5.9 (a) e 5.9 (b). Como se pode verificar os protocolos ALOHA com ACK, CSMA \n\ne os protocolos de sinaliza\u00e7\u00e3o (DACAP sem Warning, DACAP com Warning) apresentaram \n\nmaiores tempos gastos em mecanismos de controlo, para elevados d\u00e9bitos de envio por n\u00f3, em \n\nrela\u00e7\u00e3o aos protocolos sem ACK (ALOHA sem ACK e ALOHANEW sem ACK). O maior tempo \n\ngasto em mecanismo de controlo desses protocolos deve-se a maior sobrecarga introduzido pelos \n\npacotes de ACK e pacotes de sinaliza\u00e7\u00e3o (RTS / CTS/ Warning) aumentando o tempo de espera nas \n\ntransmiss\u00f5es. Por outro lado, os protocolos ALOHA sem ACK e ALOHANEW sem ACK \n\napresentaram um menor tempo gasto em mecanismo de controlo devido a sobrecarga nesses \n\nprotocolos ser praticamente nulo diminuindo os tempos de ida e volta. \n\n  \n\n\n\nSimula\u00e7\u00f5es \n\n 108 \n\n \n\n      (a) Tamanho do pacote 600 bytes. \n\n \n\n           (b) Tamanho do pacote 50 bytes. \n\nFigura 5.9: Tempo gasto em mecanismos de controlo (Overhead), em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 \n\nbytes. \n\nDos resultados obtidos do cen\u00e1rio apresentado na figura 5.2 utilizando a arquitetura sim\u00e9trica para \n\ntamanhos de pacotes de 600 e 50 bytes conclui-se que as duas vers\u00f5es dos protocolos DACAP \n\napresentaram melhores desempenhos no \u00edndice de sucesso quer para elevados ou baixos tr\u00e1fegos. \n\nTamb\u00e9m se constatou que apesar do \u00edndice de sucesso ser bastante bom nos protocolos DACAP, \n\nverificou-se que para tamanho do pacote de 50 bytes os protocolos DACAPs apresentaram um fraco \n\ndesempenho do d\u00e9bito recebido por n\u00f3 em rela\u00e7\u00e3o aos protocolos ALOHA sem ACK e em especial \n\no ALOHA sem ACK que apresentou um elevado Throughput. Em rela\u00e7\u00e3o aos protocolos ALOHA \n\ncom ACK e CSMA pode-se verificar que h\u00e1 uma degrada\u00e7\u00e3o acentuada dos par\u00e2metros testados \u00e0 \n\nmedida que se aumenta o d\u00e9bito de gera\u00e7\u00e3o de tr\u00e1fego nos n\u00f3s. \n\n5.4.1.2. Arquitetura assim\u00e9trica \n\nDe forma a testar se o desempenho desses protocolos varia consoante o cen\u00e1rio da rede que estiver \n\na ser utilizado, foi alterado o cen\u00e1rio da figura 5.2, aproximando o n\u00f3 2 do n\u00f3 0, como \u00e9 \n\napresentado figura 5.10. No referido cen\u00e1rio foi definido a dist\u00e2ncia horizontal entre o n\u00f3 0 e n\u00f3 1 \n\ncomo 500 metros, sendo a dist\u00e2ncia entre o n\u00f3 0 e o n\u00f3 2 de 69,6 metros e entre n\u00f3 1 e n\u00f3 2 de \n\n479,4 metros de dist\u00e2ncia. Tal como nos testes anteriores, foram considerados tamanhos de pacotes \n\nde 600 e 50 bytes. Tamb\u00e9m foram atribu\u00eddos os mesmos valores para os par\u00e2metros ambientais e \n\nf\u00edsicos, tais como velocidade de propaga\u00e7\u00e3o do som, batimetria, tipo de sedimento do fundo e \n\nmodula\u00e7\u00e3o como apresentado no cen\u00e1rio anterior para nossa avalia\u00e7\u00e3o de forma a comparar o \n\ndesempenho dos protocolos de acesso meio em cen\u00e1rios diferentes.  \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 109 \n\n \n\nFigura 5.10: Cen\u00e1rio utilizado na simula\u00e7\u00e3o quando o n\u00f3 2 desloca para dist\u00e2ncia de 25 metros na \n\nhorizontal em rela\u00e7\u00e3o ao n\u00f3 0. \n\nSeguidamente apresentam-se os resultados obtidos das 40 simula\u00e7\u00f5es efectuadas no cen\u00e1rio \n\napresentado na figura 5.10, fazendo uma an\u00e1lise comparativa desses resultados com os resultados \n\nobtidos no cen\u00e1rio anterior para tamanhos de pacote de 600 e 50 bytes. \n\nComo se pode verificar na figura 5.11 (a) o resultado do d\u00e9bito recebido por n\u00f3 em fun\u00e7\u00e3o do \n\nd\u00e9bito de envio por n\u00f3 dos protocolos CSMA e ALOHA com ACK para tamanho do pacote de 600 \n\nbyte apresentaram melhorias em rela\u00e7\u00e3o ao resultado do cen\u00e1rio anterior apresentado na figura 5.5 \n\n(a) onde os protocolos CSMA e ALOHA com ACK apresentavam piores resultados. Por outro lado \n\nquando se diminui o tamanho do pacote para 50 bytes pode-se verificar na figura 5.11 (b) que \n\napesar de haver uma ligeira melhoria nos protocolos CSMA e ALOHA com ACK em rela\u00e7\u00e3o ao \n\nresultado do cen\u00e1rio anterior apresentado na figura 5.5 (b) continua o protocolo ALOHA sem ACK \n\na apresentar o melhor resultado a n\u00edvel do d\u00e9bito recebido por n\u00f3. Tamb\u00e9m pode-se constatar na \n\nfigura 5.11 (b) para tamanho do pacote de 50 bytes que os protocolos DACAPs utilizados na \n\nsimula\u00e7\u00e3o apresentaram piores resultados a n\u00edvel do d\u00e9bito recebido por n\u00f3 devido \u00e0 sobrecarga que \n\no handshaking (RTS/CTS/Warning) introduz causando inefici\u00eancias quando os pacotes s\u00e3o \n\npequenos. Tal deve-se ao facto do tempo de ida e volta ser maior do que os tempos de transmiss\u00e3o. \n\n \n\n \n\n \n\n\n\nSimula\u00e7\u00f5es \n\n 110 \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.11 : Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos utilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) Tamanho \n\ndo pacote 50 bytes. \n\nOs resultados do Throughput Normalizado em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 para tamanho de \n\npacotes de 600 e 50 bytes respetivamente s\u00e3o apresentadas nas figuras 5.12 (a) e 5.12 (b). Como se \n\npode observar na figura 5.12 (a) h\u00e1 uma grande quebra ou diminui\u00e7\u00e3o nos Throughputs \n\nnormalizados de todos os protocolos com o aumento do d\u00e9bito de envio por n\u00f3 para tamanho de \n\npacotes de 600 bytes. Tamb\u00e9m na figura 5.12 (a) se pode verificar que os protocolos ALOHA com \n\nACK e CSMA a partir de um determinado n\u00edvel de d\u00e9bito de envio por n\u00f3 apresentaram melhores \n\nresultados no Throughput Normalizado em rela\u00e7\u00e3o aos outros protocolos, ao contr\u00e1rio dos \n\nresultados da figura 5.6 (a) onde o protocolo DACAP sem warning apresentava melhor resultado no \n\nThroughput Normalizado.  \n\nEm rela\u00e7\u00e3o ao Throughput Normalizado representado na figura 5.12 (b), o protocolo ALOHA sem \n\nACK apresentou o melhor resultado para tamanhos de pacotes de 50 bytes em rela\u00e7\u00e3o aos outros \n\nprotocolos quando aproximamos o n\u00f3 2 do n\u00f3 emissor. Ao contr\u00e1rio do protocolo ALOHA sem \n\nACK, o protocolo DACAP com warning apresentou o pior desempenho para tamanhos de pacotes \n\nde 50 bytes. Este fraco desempenho no Throughput Normalizado do protocolo DACAP com \n\nwarning deve-se ao facto n\u00e3o haver um incremento no d\u00e9bito de emiss\u00e3o (e por conseguinte de \n\nrece\u00e7\u00e3o) que responda ao d\u00e9bito de gera\u00e7\u00e3o, acabando muitos dos pacotes gerados por ficar nas filas \n\nde espera de emiss\u00e3o, ou acabando por ser descartados.  \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 111 \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.12: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\nutilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 \n\nbytes.  \n\nNas figuras 5.13 (a) e 5.13 (b) s\u00e3o apresentadas os resultados do \u00edndice de sucesso dos protocolos \n\nem fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 para tamanhos do pacote de 600 e 50 bytes. Dos resultados \n\napresentados pode-se verificar que os protocolos DACAP com e sem Warning apresentaram \n\nmelhores desempenhos nos \u00edndices de sucessos em rela\u00e7\u00e3o aos outros protocolos atingindo um \n\nvalor m\u00e1ximo muito pr\u00f3ximo dos 100 %, em consequ\u00eancia da maior preven\u00e7\u00e3o dos protocolos \n\nDACAPs em rela\u00e7\u00e3o \u00e0s colis\u00f5es.  \n\nO protocolo ALOHA sem ACK apresentou um resultado muito fraco ao n\u00edvel do \u00edndice de sucesso \n\nquando aproximamos o n\u00f3 2 em rela\u00e7\u00e3o ao n\u00f3 0 para tamanhos de pacotes de 600 e 50 bytes, que \n\ncompare com os resultados anteriores apresentados nas figuras 5.7 (a) e 5.7 (b), onde o protocolo \n\nCSMA apresentava o pior resultado. \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.13 : Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos utilizando \n\no cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) Tamanho do pacote 50 bytes. \n\n\n\nSimula\u00e7\u00f5es \n\n 112 \n\nOs resultados do \u00edndice sucesso a n\u00edvel de aplica\u00e7\u00e3o em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 dos \n\nprotocolos para tamanhos do pacote de 600 e 50 bytes s\u00e3o apresentadas nas figuras 5.14 (a) e 5.14 \n\n(b). Pode-se verificar que para tamanhos de pacote de 600 bytes o \u00edndice sucesso a nivel de \n\naplica\u00e7\u00e3o dos protocolos CSMA e ALOHA com ACK mant\u00e9m-se at\u00e9 um determinado n\u00edvel de \n\nd\u00e9bito de envio e depois come\u00e7a a diminuir. Devido \u00e0 satura\u00e7\u00e3o dos n\u00f3s da rede quaisquer pacotes \n\nadicionais s\u00e3o descartados. No entanto pode-se observar nos resultados obtidos anteriormente, \n\napresentados na figura 5.8 (a) para tamanho do pacote de 600 byte, que os resultados do \u00edndice de \n\nsucesso a n\u00edvel de aplica\u00e7\u00e3o dos protocolos CSMA e ALOHA com ACK sofreram uma grande \n\nqueda. Ao contr\u00e1rio, para tamanhos de pacote de 50 bytes (apresentado na figura 5.14 (b)) pode-se \n\nverificar que todos os protocolos com handshake (DACAP sem Warning e DACAP com Warning) \n\napresentaram p\u00e9ssimos resultados a n\u00edvel do \u00edndice sucesso a nivel de aplica\u00e7\u00e3o porque sofreram \n\nperdas de pacotes ao n\u00edvel de aplica\u00e7\u00e3o, n\u00e3o por causa dos erros de transmiss\u00e3o, mas sim por causa \n\ndos pacotes que s\u00e3o descartados devido as filas estarem cheias ou completas. O pior desempenho \n\nnesse sentido \u00e9 apresentado pelo protocolo DACAP com Warning. Estes resultados no entanto \n\nseriam evit\u00e1veis se se utilizassem outros mecanismos de controlo de fluxo de n\u00edvel de aplica\u00e7\u00e3o. \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.14: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos utilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 bytes (b) Tamanho \n\ndo pacote 50 bytes. \n\nEm seguida foram apresentados os resultados dos tempos gastos em mecanismos de controlo \n\n(Overhead) em fun\u00e7\u00e3o dos d\u00e9bitos de envio por n\u00f3 para tamanhos do pacote de 600 e 50 bytes nas \n\nfiguras 5.15 (a) e 5.15 (b). Pode-se verificar nesses resultados obtidos que o protocolo DACAP com \n\nWarning apresentou um elevado tempo gasto em mecanismos de controlo para maiores d\u00e9bito de \n\nenvio por n\u00f3 em rela\u00e7\u00e3o aos outros protocolos. O maior tempo gasto em mecanismos de controlo \n\ndeve-se aos pacotes de sinaliza\u00e7\u00e3o (RTS/CTS/Warning) que provocam um aumento do tempo de \n\nespera nas transmiss\u00f5es. No sentido contr\u00e1rio, os protocolos ALOHA sem ACK e ALOHANEW \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 113 \n\nsem ACK apresentaram menores tempos gastos em mecanismos de controlo devido \u00e0 aus\u00eancia de \n\nsobrecarga nesses protocolos, diminuindo os tempos de ida e volta. \n\n \n\n(a) Tamanho do pacote 600 bytes. \n\n \n\n(b) Tamanho do pacote 50 bytes. \n\nFigura 5.15: Tempo gasto em mecanismos de controlo (Overhead) em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos utilizando o cen\u00e1rio da figura 5.10 para (a) Tamanho do pacote 600 \n\nbytes (b) Tamanho do pacote 50 bytes. \n\n5.4.1.3. Sum\u00e1rio \n\nEm termos globais considerando os dois cen\u00e1rios apresentados anteriormente com tr\u00eas n\u00f3s na rede \n\npara tamanhos de pacotes de 600 e 50 bytes para os diversos par\u00e2metros testados, pode-se concluir \n\nque os protocolos DACAP apresentaram melhores desempenhos a n\u00edvel dos \u00edndices de sucessos dos \n\npacotes, justificando pela menor probabilidade de colis\u00f5es que induzem. Tamb\u00e9m se verificou que \n\no pior desempenho no \u00edndice de sucesso dos pacotes depende do cen\u00e1rio que estiver a ser utilizado. \n\nComo se pode observar no cen\u00e1rio apresentado na figura 5.2 o protocolo CSMA apresentou um \n\nfraco desempenho quando o n\u00f3 recetor (n\u00f3 2) se encontra no centro da rede, quer para tamanhos de \n\npacote de 600 ou 50 bytes, enquanto que o protocolo ALOHA sem ACK apresentou o pior \n\ndesempenho para a configura\u00e7\u00e3o assim\u00e9trica, em termos do \u00edndice de sucesso em fun\u00e7\u00e3o do d\u00e9bito \n\nde envio por n\u00f3. O protocolo DACAP, em particular o DACAP com warning, apesar de apresentar \n\num bom desempenho no \u00edndice de sucesso, apresentou um fraco desempenho a n\u00edvel do d\u00e9bito \n\nrecebido versus d\u00e9bito de envio, assim como apresentou um elevado tempo gasto em mecanismos \n\nde controlo (Overhead) em rela\u00e7\u00e3o aos protocolos ALOHA sem ACK e ALOHANEW sem ACK \n\ndevido \u00e0 sobrecarga que os pacotes de sinaliza\u00e7\u00e3o (RTS/CTS/Warning) introduzem aumentando o \n\ntempo de espera nas transmiss\u00f5es. \n\nOs resultados obtidos aqui foram comparados com os resultados do artigo apresentado por Federico \n\nGuerra et al. [17], onde os autores fizeram uma an\u00e1lise comparativa de tr\u00eas protocolos de acesso ao \n\n\n\nSimula\u00e7\u00f5es \n\n 114 \n\nmeio (DACAP, ALOHA e T-Lohi) para dois diferentes tipos de padr\u00f5es de tr\u00e1fego para gera\u00e7\u00e3o de \n\npacotes, isto \u00e9, quer de acordo com um tr\u00e1fego de Poisson utilizando o par\u00e2metro pacotes por \n\nsegundo por n\u00f3 e o tr\u00e1fego orientado a eventos (event-driven traffic).  \n\nA conclus\u00e3o que se pode tirar dos resultados do artigo em compara\u00e7\u00e3o com os nossos resultados foi \n\nque os protocolos com menores sobrecarga tendem a alcan\u00e7ar um maior Throughput em detrimento \n\nde um menor \u00edndice de sucesso, enquanto que os protocolos baseados em handshakes robustos, tais \n\ncomo o DACAP podem alavancar por usa vez maior organiza\u00e7\u00e3o nas transmiss\u00f5es, a fim de atingir \n\num \u00edndice de sucesso muito elevado \u00e0 custa de menor Throughput. \n\nEm termos gerais, os resultados obtidos nas nossas simula\u00e7\u00f5es e no artigo anterior indicam que o \n\nmelhor protocolo num contexto, n\u00e3o \u00e9 necessariamente melhor noutro contexto. Tamb\u00e9m se \n\nconcluiu que devem ser considerados outros efeitos tais como efeitos dos par\u00e2metros ambientais e \n\nmaior complexidade da rede com mais n\u00f3s, de forma a verificar o comportamento desses protocolos \n\nem cen\u00e1rios diferentes. Esse ser\u00e1 o \u00e2mbito das se\u00e7\u00f5es seguintes.    \n\n5.4.2. An\u00e1lise comparativa dos protocolos MAC para 4 n\u00f3s \n\nemissores e 1 recetor \n\nNesta se\u00e7\u00e3o ser\u00e1 apresentada a an\u00e1lise dos resultados obtidos dos protocolos de acesso ao meio para \n\no cen\u00e1rio apresentado na figura 5.16. No referido cen\u00e1rio foi aumentada a complexidade da rede por \n\nincremento do n\u00famero de n\u00f3s da rede. Assim, consideraram-se 4 n\u00f3s emissores e um n\u00f3 recetor. \n\nConsiderou-se que os n\u00f3s emissores da rede pretendem transmitir tr\u00e1fego do tipo CBR. \n\nFizeram-se duas an\u00e1lises comparativas, uma utilizando uma arquitetura sim\u00e9trica em que o n\u00f3 4 foi \n\no recetor (e os n\u00f3s 0, 1, 2 e 3 emissores) e outra assim\u00e9trica considerando o n\u00f3 2 como recetor (com \n\nos n\u00f3s 0, 1, 3 e 4 como emissores).  \n\nNo referido cen\u00e1rio da simula\u00e7\u00e3o, assumiu-se que os n\u00f3s da rede foram equipados com hardware de \n\nmodem padr\u00e3o, como o modem WHOI micromodem referenciado no cen\u00e1rio da se\u00e7\u00e3o anterior. \n\nConsiderou-se o sistema de modula\u00e7\u00e3o coerente BPSK, com um d\u00e9bito bin\u00e1rio de 4800 bps e uma \n\nfrequ\u00eancia da portadora de 11,5 kHz. Assumiu-se nesse cen\u00e1rio apenas o tamanho do pacote de 600 \n\nbytes, com o per\u00edodo entre pacotes do fluxo CBR de 400 milissegundos e uma largura de banda do \n\ncanal de 5kHz. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 115 \n\n \n\nFigura 5.16: Cen\u00e1rio da simula\u00e7\u00e3o para an\u00e1lise comparativa dos protocolos considerando o n\u00f3 4 \n\ncomo n\u00f3 recetor para tamanho do pacote de 600 bytes. \n\nA dist\u00e2ncia horizontal entre o n\u00f3 0 e n\u00f3 1 foi definida como 500 metros, sendo que a dist\u00e2ncia \n\nhorizontal entre o n\u00f3 2 e o n\u00f3 4 e entre n\u00f3 3 e n\u00f3 4 de 225 metros. A dist\u00e2ncia entre o n\u00f3 0 e o n\u00f3 4 \n\ne entre n\u00f3 1 e n\u00f3 4 de 258,3 metros. Foram definidos os valores para a latitude, longitude e \n\nprofundidade dos n\u00f3s da rede, de acordo a tabela 5.3. \n\nN\u00f3 Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,125\u00b0? -15 Metros 25 Metros \n\n3 42,59\u00b0? 10,130\u00b0? -15 Metros 475 Metros \n\n4 42,59\u00b0? 10,128\u00b0? -15 Metros 250 Metros \n\nTabela 5.3: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o do cen\u00e1rio da figura 5.16 \n\nEm seguida foram definidas as coordenadas geogr\u00e1ficas, o perfil de velocidade do som, assim como \n\nforam especificados um conjunto de par\u00e2metros ambientais para nossa avalia\u00e7\u00e3o. O valor do perfil \n\nda velocidade do som foi obtido atrav\u00e9s de um ficheiro texto indicando os valores das latitudes e \n\nlongitudes iniciais e um conjunto de velocidades de propaga\u00e7\u00e3o do som para v\u00e1rias profundidades \n\ncomo \u00e9 apresentado na figura 5.17. Foi considerado que o ru\u00eddo ambiental foi modelado por meio \n\nde 4 fontes de ru\u00eddo: turbul\u00eancia, a navega\u00e7\u00e3o (shipping), vento e o ruido t\u00e9rmico. Foram atribu\u00eddos \n\nos seguintes valores para os par\u00e2metros dos ru\u00eddos e salinidade da \u00e1gua: a navega\u00e7\u00e3o foi atribu\u00edda o \n\nvalor de 1, o vendo foi considerado um valor de 10 metros por segundos e salinidade foi atribu\u00edda \n\num valor de 33 ppm. \n\n\n\nSimula\u00e7\u00f5es \n\n 116 \n\n \n\nFigura 5.17: Velocidade de propaga\u00e7\u00e3o do som em rela\u00e7\u00e3o a profundidade utilizando o cen\u00e1rio da \n\nsimula\u00e7\u00e3o apresentado na figura 5.16. \n\nDiferente dos cen\u00e1rios apresentados anteriormente, o perfil batim\u00e9trico utilizado no cen\u00e1rio \n\napresentado na figura 5.16, foi definido atrav\u00e9s do GEBCO_08 Grid (grade de 30 arco-segundos de \n\nresolu\u00e7\u00e3o). O mapa do perfil batim\u00e9trico utilizado nessa simula\u00e7\u00e3o \u00e9 apresentado na figura 5.18. \n\n \n\n \n\nFigura 5.18: Mapa do perfil batim\u00e9trico utilizado no cen\u00e1rio apresentado na figura 5.16. \n\nForam definidos os seguintes par\u00e2metros do perfil do sedimento do fundo: \n\n? Velocidade do comprimento de onda = 1540 m/s; \n\n? Shear wave velocity = 180 m/s; \n\n? Densidade do sedimento = 1,0 ?/??3; \n\n? Atenua\u00e7\u00e3o do comprimento = 0,7 dB/comprimento de onda; \n\n? Shear wave attenuation = 0,6 dB/comprimento de onda; \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 117 \n\n? Profundidade do fundo = 1,5 m. \n\nSeguidamente apresentam-se os resultados obtidos das 40 simula\u00e7\u00f5es efetuadas com o referido \n\ncen\u00e1rio, fazendo uma an\u00e1lise comparativa desses resultados utilizando as duas arquiteturas: uma \n\narquitetura sim\u00e9trica em que o n\u00f3 4 foi considerado como recetor e outra assim\u00e9trica considerando \n\no n\u00f3 2 como recetor.  \n\nA figura 5.19 apresenta o resultado do d\u00e9bito recebido por n\u00f3 em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 \n\ndos protocolos utilizando as duas arquiteturas. Como se pode verificar nesses resultados o protocolo \n\nDACAP sem Warning apresentou maiores d\u00e9bitos recebidos por n\u00f3, para elevados d\u00e9bitos de envio \n\nem rela\u00e7\u00e3o aos outros protocolos, sendo que os protocolos DACAP com warning e ALOHA sem \n\nACK a apresentarem piorem desempenhos no d\u00e9bito recebido por n\u00f3.  \n\n \n\n \n\n(a) N\u00f3 4 recetor. \n\n \n\n(b) N\u00f3 2 recetor. \n \n\n \n\nFigura 5.19: Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos considerando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. \n\nNa figura 5.20 apresenta-se o resultado do Throughput Normalizado em fun\u00e7\u00e3o do d\u00e9bito de envio \n\npor n\u00f3 dos protocolos para as duas arquiteturas: (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. Pode-\n\nse verificar que h\u00e1 uma diminui\u00e7\u00e3o dos Throughput normalizados com um aumento dos d\u00e9bito de \n\nenvio por n\u00f3 em todos os protocolos. O protocolo DACAP sem Warning apresenta um melhor \n\ndesempenho no Throughput normalizado em rela\u00e7\u00e3o aos outros protocolos nas duas arquiteturas \n\napresentadas devido ao aumento do d\u00e9bito na rece\u00e7\u00e3o em compara\u00e7\u00e3o com os d\u00e9bitos recebidos nos \n\noutros protocolos. Esses resultados mostram que o protocolo DACAP sem Warning alcan\u00e7a o \n\nThroughput m\u00e1ximo de 1, e al\u00e9m disso \u00e9 capaz de manter esse n\u00edvel at\u00e9 uma determinada taxa de \n\ntr\u00e1fego gerado, ap\u00f3s o qual o desempenho come\u00e7a a cair devido as perdas dos pacotes que s\u00e3o \n\ngerados. \n\n\n\nSimula\u00e7\u00f5es \n\n 118 \n\n \n\n(a) N\u00f3 4 recetor. \n\n \n\n(b) N\u00f3 2 recetor. \n\nFigura 5.20: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\nconsiderando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor.  \n\nOs resultados do \u00edndice de sucesso dos pacotes considerando as duas arquiteturas s\u00e3o apresentadas \n\nnas figuras 5.21 (a) e 5.21 (b). Pode-se verificar que os \u00edndices de sucessos dos protocolos ALOHA \n\nsem ACK e ALOHANEW sem ACK diminuem consistentemente com o aumento tr\u00e1fego oferecido. \n\nPor outro lado, nos protocolos DACAP sem Warning e DACAP com Warning o \u00edndice de sucesso \n\nest\u00e1 sempre pr\u00f3ximo dos 100%, justificando que as duas vers\u00f5es dos protocolos DACAP utilizados \n\nna simula\u00e7\u00e3o apresentam maior \u00edndice de sucesso que os outros protocolos devido a aus\u00eancia de \n\ncolis\u00f5es nos protocolos DACAP devido ao mecanismos de backoff que obriga os n\u00f3s estarem em \n\nlongos per\u00edodos de sil\u00eancio diminuindo o n\u00edvel de interfer\u00eancia e as probabilidades de colis\u00f5es nos \n\nprotocolos DACAPs. \n\n \n\n(a) N\u00f3 4 recetor. \n\n \n\n(b) N\u00f3 2 recetor. \n\nFigura 5.21: Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\nconsiderando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 119 \n\nA figura 5.22 apresenta os resultados do \u00edndice de sucesso a n\u00edvel de aplica\u00e7\u00e3o em rela\u00e7\u00e3o ao d\u00e9bito \n\ndo envio por n\u00f3 para as duas arquiteturas: (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. Nesses \n\nresultados verifica-se que no protocolo DACAP sem warning o \u00edndice de sucesso a n\u00edvel de \n\naplica\u00e7\u00e3o mant\u00e9m-se at\u00e9 um determinado n\u00edvel de d\u00e9bito de envio por n\u00f3 e diminui com o aumento \n\ndo mesmo em consequ\u00eancia da satura\u00e7\u00e3o dos n\u00f3s da rede. No entanto tamb\u00e9m se pode observar que \n\nos \u00edndices de sucesso a n\u00edvel de aplica\u00e7\u00e3o dos outros protocolos sofreram uma grande queda uma \n\nvez que os pacotes gerados s\u00e3o descartados devido aos atrasos excessivos nos n\u00f3s. O pior \n\ndesempenho nesse sentido \u00e9 apresentado pelo protocolo ALOHA sem ACK. \n\n \n\n(a) N\u00f3 4 recetor. \n\n \n\n(b) N\u00f3 2 recetor. \n\nFigura 5.22: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos considerando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. \n\nEm seguida, para finalizar a an\u00e1lise comparativa do desempenho dos protocolos pode-se observar \n\nnas figuras 5.23 (a) e 5.23 (b) os resultados dos tempos gastos em mecanismos de controlo \n\n(Overhead) em fun\u00e7\u00e3o dos d\u00e9bitos do envio por n\u00f3. Como se pode verificar, o protocolo DACAP \n\ncom Warning apresentou o maior tempo gasto em mecanismos de controlo em rela\u00e7\u00e3o aos outros \n\nprotocolos. O maior tempo gasto em mecanismos de controlo (Overhead) deve-se aos pacotes de \n\nsinaliza\u00e7\u00e3o (RTS/CTS/Warning) aumentando o tempo de espera nas transmiss\u00f5es. Por outro lado, \n\nos protocolos sem ACK apresentaram menor tempo gasto em mecanismos de controlo devido a \n\naus\u00eancia de sobrecarga nesses protocolos diminuindo os tempos de ida e volta. \n\n\n\nSimula\u00e7\u00f5es \n\n 120 \n\n \n\n(a) N\u00f3 4 recetor. \n\n \n\n(b) N\u00f3 2 recetor. \n\nFigura 5.23: Tempo gasto em mecanismos de controlo (Overhead)  em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos considerando (a) N\u00f3 4 como recetor (b) N\u00f3 2 como recetor. \n\nPela an\u00e1lise dos resultados dos dados anteriores, considerando as duas arquiteturas apresentadas \n\npara tamanho de pacote de 600 bytes utilizando o tr\u00e1fego de Poisson para diversos par\u00e2metros \n\ntestados pode-se concluir o seguinte: \n\n? O protocolo ALOHA sem ACK apresentou menor desempenho no d\u00e9bito recebido por n\u00f3, \n\nbaixo Throughput Normalizado, menor \u00edndice de sucesso, mas um baixo Overhead; \n\n? O protocolo ALOHANEW sem ACK apresentou um bom d\u00e9bito recebido por n\u00f3, bom \n\nThroughput Normalizado, \u00edndice de sucesso limitado e um menor tempo gasto em \n\nmecanismos de controlo; \n\n? O protocolo ALOHA com ACK apresentou um D\u00e9bito recebido por n\u00f3 razo\u00e1vel, \n\nThroughput Normalizado limitado, bom \u00edndice de sucesso apesar de um tempo gasto em \n\nmecanismos de controlo (Overhead) elevado; \n\n? O protocolo CSMA apresentou um d\u00e9bito recebido por n\u00f3 razo\u00e1vel, baixo Throughput \n\nNormalizado, fraco desempenho no \u00edndice de sucesso e um Overhead razo\u00e1vel; \n\n? O protocolo DACAP sem Warning apresentou o melhor desempenho no d\u00e9bito recebido por \n\nn\u00f3, bom Throughput Normalizado, alta taxa de sucesso e um Overhead elevado; \n\n? O protocolo DACAP com Warning apresentou um fraco desempenho no d\u00e9bito recebido por \n\nn\u00f3, baixo Throughput Normalizado, maior \u00edndice de sucesso de pacote apesar de um maior \n\ntempo gasto em mecanismos de controlo (Overhead). \n\nEm termos globais pode-se constatar que a utiliza\u00e7\u00e3o do Warning no protocolo DACAP com \n\nwarning tende a reduzir a quantidade de pacotes perdidos. Tamb\u00e9m se verificou que h\u00e1 uma \n\ndiminui\u00e7\u00e3o do n\u00famero de pacotes recebidos fazendo com que o d\u00e9bito recebido por n\u00f3 e o \n\nThroughput Normalizado diminuiam. Esta redu\u00e7\u00e3o deriva da introdu\u00e7\u00e3o do tempo adicional de \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 121 \n\nespera no lado do emissor antes de poder enviar o pacote de dados. Assim, a utiliza\u00e7\u00e3o do pacote de \n\nWarning justifica-se sempre que os n\u00f3s terminais devam evitar colis\u00f5es, por exemplo por uma \n\nquest\u00e3o de gest\u00e3o de energia, mesmo que tal acarrete uma diminui\u00e7\u00e3o da quantidade de dados \n\nrecebidos. \n\n5.4.3. An\u00e1lise comparativa dos protocolos MAC para 4 n\u00f3s \n\nemissores e 2 recetores \n\nNesta se\u00e7\u00e3o apresenta-se uma an\u00e1lise comparativa dos resultados obtidos nos cen\u00e1rios apresentados \n\nanteriormente com os resultados obtidos do cen\u00e1rio apresentado na figura 5.24. No referido cen\u00e1rio \n\nfoi aumentado o n\u00famero de n\u00f3s da rede para 6 considerando 4 n\u00f3s emissores (n\u00f3 0, n\u00f3 1, n\u00f3 2 e n\u00f3 \n\n3) e dois n\u00f3s recetores (n\u00f3 4 e n\u00f3 5) sobrepostos com as mesmas dist\u00e2ncias localizados no centro da \n\n\u00e1rea da rede. Em seguida definiram-se os mesmos valores para os par\u00e2metros ambientais e f\u00edsicos, \n\ntais como fontes do ru\u00eddo, salinidade da \u00e1gua, velocidade de propaga\u00e7\u00e3o do som, batimetria, tipo de \n\nsedimento do fundo como foi definido na se\u00e7\u00e3o anterior para nossa avalia\u00e7\u00e3o. Assumiu-se tamb\u00e9m \n\nque os n\u00f3s da rede foram equipados com hardware WHOI micromodem, considerando o mesmo \n\ntipo de modula\u00e7\u00e3o e os mesmos valores para o d\u00e9bito bin\u00e1rio, frequ\u00eancia da portadora, tamanho do \n\npacote e o mesmo valor para largura de banda do canal.  \n\nNo referido cen\u00e1rio utilizado na simula\u00e7\u00e3o foram-se aumentados as dist\u00e2ncias entre os n\u00f3s da rede \n\nem compara\u00e7\u00e3o com as dist\u00e2ncias consideradas nas se\u00e7\u00f5es anteriores. A dist\u00e2ncia horizontal entre o \n\nn\u00f3 0 e n\u00f3 3 foi definida como 3000 metros, sendo que a dist\u00e2ncia horizontal entre o n\u00f3 0 e o n\u00f3 1 foi \n\nconsiderado de 1000 metros e entre n\u00f3 0 e n\u00f3 2 de 2000 metros. A dist\u00e2ncia horizontal entre o n\u00f3 0 \n\ne os n\u00f3s (4 e 5) e entre o no 3 e n\u00f3s (4 e 5) foi definida como 1500 metros. \n\n \n\nFigura 5.24: Cen\u00e1rio utilizado na simula\u00e7\u00e3o para an\u00e1lise comparativa dos protocolos considerando \n\ndois n\u00f3s recetores (n\u00f3 4 e n\u00f3 5) para tamanho de pacote de 600 bytes.  \n\n\n\nSimula\u00e7\u00f5es \n\n 122 \n\nDe forma diferente do cen\u00e1rio apresentado na se\u00e7\u00e3o anterior, aqui foram definidos os seguintes \n\nvalores para a latitude, longitude, profundidade dos n\u00f3s em metros e dist\u00e2ncia entre os n\u00f3s da rede \n\ncomo mostra a tabela 5.4.  \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,49\u00b0? 10,125\u00b0? -50 Metros 0 Metros \n\n1 42,49\u00b0? 10,137\u00b0? -51 Metros 1000 Metros \n\n2 42,49\u00b0? 10,149\u00b0? -52 Metros 2000 Metros \n\n3 42,49\u00b0? 10,161\u00b0? -53 Metros 3000 Metros \n\n4 42,49\u00b0? 10,143\u00b0? -15 Metros 1500 Metros \n\n5 42,49\u00b0? 10,143\u00b0? -15 Metros 1500 Metros \n\nTabela 5.4: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o do cen\u00e1rio da figura 5.24 \n\nEm seguida ser\u00e1 apresentada a an\u00e1lise comparativa dos resultados dos protocolos utilizando o \n\ncen\u00e1rio apresentado na figura 5.24. Esses resultados foram obtidos efetuando 40 simula\u00e7\u00f5es como \n\nnos cen\u00e1rios anteriores.  \n\nA figura 5.25 apresenta o resultado do d\u00e9bito recebido por n\u00f3 em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 \n\ndos protocolos para tamanho do pacote 600 bytes. Como se pode verificar os protocolos DACAP \n\napresentaram piores resultados no d\u00e9bito recebido por n\u00f3. O protocolo DACAP sem warning \n\napresentou um fraco desempenho. Estes resultados contrastam com os resultados obtidos nos \n\ncen\u00e1rios apresentados anteriormente que apresentavam maiores valores para o d\u00e9bito recebido por \n\nn\u00f3 para elevados d\u00e9bito de envio por n\u00f3. Esse fraco desempenho dos protocolos DACAP deve-se ao \n\nfato do referido cen\u00e1rio com dois n\u00f3s recetores (n\u00f3 4 e n\u00f3 5). Tamb\u00e9m se pode observar que o \n\nprotocolo CSMA apresentou melhorias no d\u00e9bito recebido por n\u00f3 em compara\u00e7\u00e3o com os \n\nresultados obtidos anteriormente. \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 123 \n\n \n\nFigura 5.25: Average Throughput per Node em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos para tamanho do pacote de 600 bytes. \n\nO resultado do Throughput Normalizado em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 dos protocolos para \n\ntamanho do pacote 600 bytes \u00e9 apresentado na figura 5.26. Como pode-se verificar h\u00e1 uma \n\ndiminui\u00e7\u00e3o no desempenho dos throughputs normalizados quando aumentamos os d\u00e9bitos de envio \n\npor n\u00f3 em todos os protocolos. Os protocolos DACAPs apresentaram piores desempenhos nos \n\nThroughputs normalizados quando aumentamos os d\u00e9bitos de envio por n\u00f3 em rela\u00e7\u00e3o aos outros \n\nprotocolos comparando com os resultados obtidos nos cen\u00e1rios anteriores onde o DACAP sem \n\nWarning apresentava melhores resultados. O fraco desempenho do Throughput Normalizado do \n\nprotocolo DACAP sem warning deve-se \u00e0 diminui\u00e7\u00e3o do d\u00e9bito na rece\u00e7\u00e3o assim como perdas de \n\npacotes gerados a n\u00edvel de aplica\u00e7\u00e3o. \n\n \n\nFigura 5.26: Normalized Throughput em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos \n\npara tamanho do pacote de 600 bytes. \n\nNa figura 5.27 apresenta-se os resultados do \u00edndice de sucesso em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 \n\ndos protocolos para tamanho do pacote de 600 bytes. Como se pode verificar, o \u00edndice de sucesso \n\ndos protocolos ALOHA sem ACK e CSMA diminuem consistentemente com o aumento do tr\u00e1fego \n\noferecido. Podemos observar que o protocolo CSMA apresenta pior desempenho nas redes \n\nac\u00fasticas submarinas. Por outro lado, os protocolos DACAP sem Warning e DACAP com Warning \n\napresentaram um \u00edndice de sucesso bastante razo\u00e1vel com um valor um pouco abaixo dos 80% \n\n\n\nSimula\u00e7\u00f5es \n\n 124 \n\ncomparando com os resultados anteriores onde o \u00edndice do sucesso dos protocolos apresentava \n\nresultados bastante bons com um valor muito pr\u00f3ximo dos 100%, justificando que as duas vers\u00f5es \n\ndos protocolos DACAPs utilizados na simula\u00e7\u00e3o apresentam maior \u00edndice de sucesso que os outros \n\nprotocolos devido ao melhor mecanismo de preven\u00e7\u00e3o as colis\u00f5es apresentado pelos protocolos \n\nDACAPs. \n\n \n\nFigura 5.27: Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos protocolos para \n\ntamanho do pacote de 600 bytes.  \n\nA figura 5.28 apresenta o resultado do \u00edndice sucesso a nivel de aplica\u00e7\u00e3o em fun\u00e7\u00e3o do d\u00e9bito de \n\nenvio por n\u00f3 dos protocolos para tamanho do pacote 600 bytes. Nessa figura pode-se verificar que \n\nos protocolos DACAP atingem o \u00edndice de sucesso a n\u00edvel de aplica\u00e7\u00e3o um valor m\u00e1ximo para \n\nbaixos valores do d\u00e9bito de envio por n\u00f3 e depois come\u00e7a a diminuir com o aumento taxa de dados \n\ngerados por n\u00f3 devido a satura\u00e7\u00e3o dos n\u00f3s da rede os novos pacotes ser\u00e3o descartados. Tamb\u00e9m \n\npode ser observado que os \u00edndices sucesso a n\u00edvel de aplica\u00e7\u00e3o dos outros protocolos sofreram uma \n\ngrande queda devido aos pacotes gerados que s\u00e3o descartados devidos aos atrasos excessivos nos \n\nn\u00f3s. O pior desempenho nesse sentido \u00e9 apresentado pelo protocolo CSMA. Nos resultados \n\nanteriores o ALOHA sem ACK apresentava o pior desempenho. \n\n \n\nFigura 5.28: Application Success Ratio em fun\u00e7\u00e3o do Data Generation Rate per Node dos \n\nprotocolos para tamanho do pacote de 600 bytes. \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 125 \n\nFinalmente para terminar a an\u00e1lise dos resultados \u00e9 apresentado na figura 5.29 o resultado do tempo \n\ngasto em mecanismos de controlo (Overhead) em fun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3 dos protocolos \n\npara tamanhos do pacote de 600 bytes. Como se pode verificar os protocolos de sinaliza\u00e7\u00e3o \n\nDACAP sem Warning e DACAP com Warning apresentaram maiores tempos gastos em \n\nmecanismos de controlo para elevados d\u00e9bitos de envio por n\u00f3 em rela\u00e7\u00e3o aos protocolos ALOHA \n\nsem ACK e ALOHANEW sem ACK. O maior tempo gasto em mecanismos de controlo desses \n\nprotocolos deve-se \u00e0 maior sobrecarga introduzida pelos pacotes de ACK e pacotes de sinaliza\u00e7\u00e3o, \n\naumentando o tempo de espera nas transmiss\u00f5es. \n\n \n\nFigura 5.29: Tempo gasto em mecanismos de controlo (Overhead) em fun\u00e7\u00e3o do Data Generation \n\nRate per Node dos protocolos para tamanho do pacote de 600 bytes. \n\nDos dados anteriores considerando a arquitetura apresentada na figura 5.24, onde foram aumentadas \n\na complexidade da rede, o n\u00famero dos n\u00f3s, as dist\u00e2ncias entre os n\u00f3s e alterando as coordenadas \n\ndas latitudes, longitudes e profundidades dos n\u00f3s para tamanho do pacote de 600 bytes pode-se \n\nconcluir que os protocolos DACAPs apresentaram um decr\u00e9scimo a n\u00edvel dos \u00edndices de sucesso \n\ndos pacotes em compara\u00e7\u00e3o com os resultados anteriores. Tamb\u00e9m se verificou uma melhoria no \n\nd\u00e9bito recebido por n\u00f3 do protocolo CSMA assim como uma diminui\u00e7\u00e3o no desempenho do d\u00e9bito \n\nrecebido por n\u00f3 do protocolo DACAP sem warning em compara\u00e7\u00e3o com os dados anteriores. Em \n\nrela\u00e7\u00e3o aos protocolos ALOHA sem ACK verificou-se que este protocolo apresentou perdas de \n\npacotes ligeiramente superiores ao ALOHANEW sem ACK (com escuta), justificando que a \n\ndiferen\u00e7a entre as solu\u00e7\u00f5es com e sem escuta \u00e9 pouco significativa, em compara\u00e7\u00e3o com a \n\nintrodu\u00e7\u00e3o do ACK onde podemos verificar que o protocolo ALOHA com ACK apresentou \n\nmelhorias a n\u00edvel do desempenho do \u00edndice de sucesso dos pacotes em compara\u00e7\u00e3o com os dados \n\nanteriores. \n\nOs nossos resultados foram comparados com os resultados do artigo apresentado por Federico \n\nGuerra et al. [49], onde os autores fizeram uma an\u00e1lise comparativa de tr\u00eas protocolos de acesso ao \n\n\n\nSimula\u00e7\u00f5es \n\n 126 \n\nmeio ALOHA, T-Lohi (em ambas as suas vers\u00f5es, a vers\u00e3o agressiva e a vers\u00e3o conservadora) e \n\nDACAP para tamanhos de pacotes de 600 bytes. \n\nAs conclus\u00f5es que os autores em [49] tiraram dos resultados que obtiveram \u00e9 que os protocolos T-\n\nLohi e DACAP, alcan\u00e7aram um valor m\u00e1ximo de Throughput, e al\u00e9m disso s\u00e3o capazes de manter \n\nesse n\u00edvel at\u00e9 uma determinada taxa de tr\u00e1fego gerado, ap\u00f3s o qual o desempenho come\u00e7a a cair. \n\nNessa situa\u00e7\u00e3o, os protocolos ALOHAs (com e sem ACK) apresentaram melhores resultados no \n\nThroughput. Pode-se verificar que os resultados que os autores obtiveram a n\u00edvel Throughput s\u00e3o \n\nsemelhantes aos resultados que obtivemos no nosso cen\u00e1rio, onde os protocolos ALOHA na vers\u00e3o \n\ncom ACK e sem ACK obtiveram melhores resultados que os protocolos DACAP na vers\u00e3o com \n\nWarning e sem Warning. Por outro lado o \u00edndice de sucesso do protocolo ALOHA diminui \n\nconsistentemente com o tr\u00e1fego oferecido em compara\u00e7\u00e3o com os protocolos DACAP onde \u00edndice \n\nde sucesso est\u00e1 sempre pr\u00f3ximo de 1. Em compara\u00e7\u00e3o com o nosso resultado pode-se verificar que \n\no DACAP continua a apresentar melhores resultados a n\u00edvel do \u00edndice sucesso, que os protocolos \n\nALOHA, apersar de um ligeiro decr\u00e9scimo no seu desempenho comparado com os resultados que \n\nos autores em [49] obtiveram. \n\n \n\n5.5. Conclus\u00f5es \n\nDos dados obtidos dos v\u00e1rios cen\u00e1rios apresentados neste cap\u00edtulo pode-se concluir que os \n\nprotocolos DACAP apresentaram melhores desempenhos nos \u00edndices de sucessos dos pacotes em \n\nfun\u00e7\u00e3o do d\u00e9bito de envio por n\u00f3, quando comparado com os outros protocolos, atingindo valores \n\npr\u00f3ximos dos 100 % em quase todos os casos, quer para tamanho de pacotes de 600 quer para 50 \n\nbytes. Exceptuam-se as situa\u00e7\u00f5es em que aumentamos as dist\u00e2ncias entre os n\u00f3s. Nestes casos pode-\n\nse constatar que apesar do protocolo DACAP ainda apresentar desempenho razo\u00e1vel no \u00edndice \n\nsucesso, houve um decr\u00e9scimo no seu desempenho atingindo valores um pouco abaixo dos 80% em \n\ncompara\u00e7\u00e3o com os resultados anteriores. Tamb\u00e9m se conclui que os protocolos DACAP \n\napresentaram um fraco desempenho a n\u00edvel do d\u00e9bito recebido por n\u00f3 e Throughput Normalizado \n\nem quase todos os casos, com poucas excep\u00e7\u00f5es. Por exemplo para tamanhos de pacotes de 50 \n\nbytes o protocolo DACAP sem warning apresentou um bom desempenho (no d\u00e9bito recebido por \n\nn\u00f3) em compara\u00e7\u00e3o com o protocolo DACAP com warning, mostrando que a utiliza\u00e7\u00e3o do pacote \n\nde warning tende a reduzir os pacotes perdidos e diminuir a quantidade de dados recebidos em \n\nconsequ\u00eancia da introdu\u00e7\u00e3o do tempo de espera no lado do emissor antes de enviar o pacote de \n\ndados. O pacote de warning apesar da vantagem de evitar colis\u00f5es tende a aumentar (juntamente \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 127 \n\ncom os pacotes de sinaliza\u00e7\u00e3o RTS e CTS) a sobrecarga dos protocolos DACAP, aumentando os \n\ntempos gastos em mecanismos de controlo (Overhead). \n\nEm rela\u00e7\u00e3o aos protocolos ALOHA pode-se concluir que o protocolo ALOHA sem ACK \n\napresentou melhor desempenho no d\u00e9bito recebido por n\u00f3, por compara\u00e7\u00e3o com o protocolo \n\nALOHA com ACK, devido \u00e0 aus\u00eancia do tempo de espera antes de transmiss\u00e3o dos pacotes de \n\ndados. Tamb\u00e9m se constatou que o protocolo ALOHA sem ACK (sem escuta) apresentou perdas \n\nligeiramente superiores ao ALOHANEW sem ACK (com escuta) tendo menores desempenhos no \n\n\u00edndice de sucesso quando comparado com o ALOHA com ACK. \n\nO protocolo CSMA apresentou o pior desempenho na maior parte dos cen\u00e1rios apresentados \n\nverificando uma degrada\u00e7\u00e3o acentuada dos par\u00e2metros testados \u00e0 medida que se aumenta o d\u00e9bito \n\nde gera\u00e7\u00e3o de tr\u00e1fego nos n\u00f3s, justificando que o protocolo CSMA utilizado na simula\u00e7\u00e3o ainda \n\nnecessite de algumas altera\u00e7\u00f5es de forma adaptar-se melhor em ambientes ac\u00fasticos submarinos. \n\nNas tabelas (5.5, 5.6 e 5.7) s\u00e3o apresentados de forma resumida os resultados obtidos pelos \n\nprotocolos de controlo de acesso ao meio. \n\nNa tabela 5.5, pode-se verificar que, nas duas arquiteturas assim\u00e9trica e sim\u00e9trica os protocolos \n\nDACAP (com warning e sem warning) apresentaram melhor desempenho no \u00edndice de sucesso dos \n\npacotes. Tamb\u00e9m se conclui que a n\u00edvel do Throughput Normalizado para tamanhos de pacotes \n\npequenos (50 bytes) o protocolo ALOHA sem ACK apresentou melhor desempenho, para ambas as \n\narquiteturas. Para tamanhos de pacotes grandes (600 bytes) este protocolo foi superado pelo \n\nprotocolo DACAP sem warning na arquitetura sim\u00e9trica e pelo ALOHA com ACK na arquitetura \n\nassim\u00e9trica. Os protocolos ALOHA (sem ACK) apresentaram melhores desempenhos nos tempos \n\ngastos em mecanismos de controlo (Overhead) utilizando as duas arquiteturas. \n\nNa tabela 5.6 aumentando o n\u00famero de n\u00f3s (para 4 n\u00f3s emissores e um n\u00f3 recetor) utilizando o \n\ncen\u00e1rio da figura 5.16 para tamanhos de pacotes grandes (600 bytes) concluiu-se que os protocolos \n\nDACAP (com warning e sem warning) continuam a apresentar melhor desempenho a n\u00edvel do \n\n\u00edndice de sucesso dos pacotes para as duas arquiteturas. Tamb\u00e9m se constatou uma evolu\u00e7\u00e3o no \n\ndesempenho do Throughput Normalizado do protocolo DACAP sem warning para tamanho de \n\npacotes de 600 bytes apresentado melhor desempenho utilizando as duas arquiteturas. A n\u00edvel do \n\ntempo gasto em mecanismos de controlo (Overhead) continuam os protocolos ALOHAs (sem \n\nACK) a apresentar melhor desempenho. \n\nPara tabela 5.7 utilizando o cen\u00e1rio da figura 5.24 (4 n\u00f3s emissores e 2 n\u00f3s recetores) para \n\ntamanhos de pacote grande (600 bytes) concluiu-se que os protocolos CSMA e ALOHANEW sem \n\n\n\nSimula\u00e7\u00f5es \n\n 128 \n\nACK tiveram grandes evolu\u00e7\u00f5es ao n\u00edvel do desempenho no Throughput Normalizado, \n\napresentando melhores resultados comparando com os resultados dos cen\u00e1rios obtidos \n\nanteriormente, onde o DACAP sem warning apresentou melhor desempenho. A n\u00edvel do \u00edndice de \n\nsucesso dos pacotes, os protocolos DACAP (sem warning e com warning) apresentaram melhores \n\ndesempenhos, mantendo os resultados obtidos nos cen\u00e1rios anteriores. Tamb\u00e9m se concluiu que os \n\nprotocolos ALOHA (sem ACK) obtiveram melhor desempenho no tempo gasto em mecanismos de \n\ncontrolo (Overhead), quando comparado com os outros protocolos utilizados na simula\u00e7\u00e3o. \n\nNo cap\u00edtulo 6 ap\u00f3s an\u00e1lise concreta dos resultados obtidos pelos protocolos de acesso ao meio \n\nutilizados na simula\u00e7\u00e3o (apresentadas no cap\u00edtulo 5) ser\u00e3o apresentadas as conclus\u00f5es finais da \n\ndisserta\u00e7\u00e3o e trabalhos futuros na \u00e1rea das redes ac\u00fasticas submarinas. \n\n \n\n Sim\u00e9trica Assim\u00e9trica \n\nTamanho \n\nPacote \n\nPequeno \n\n(50 bytes) \n\nGrande \n\n(600 bytes) \n\nPequeno \n\n(50 bytes) \n\nGrande \n\n(600 bytes) \n\nNormalize \n\nThroughput \n\nALOHA sem ACK DACAP sem \n\nWarning \n\nALOHA sem ACK ALOHA com ACK \n\nSuccess Ratio DACAP sem \n\nWarning e DACAP \n\ncom Warning \n\nDACAP sem \n\nWarning e DACAP \n\ncom Warning \n\nDACAP sem Warning \n\ne DACAP com \n\nWarning \n\nDACAP sem \n\nWarning e DACAP \n\ncom Warning \n\nTime spent in \n\nControl Mechanisms \n\n(Overhead) \n\nALOHA sem ACK e \n\nALOHANEW sem \n\nACK \n\nALOHA sem ACK e \n\nALOHANEW sem \n\nACK \n\nALOHA sem ACK e \n\nALOHANEW sem ACK \n\nALOHA sem ACK e \n\nALOHANEW sem \n\nACK \n\nTabela 5.5: Resumo sobre o desempenho dos protocolos de acesso ao meio para o cen\u00e1rio da figura \n\n5.2 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 129 \n\n Sim\u00e9trica Assim\u00e9trica \n\nTamanho Pacote  Grande (600 bytes) Grande (600 bytes) \n\nNormalize Throughput DACAP sem Warning DACAP sem Warning \n\nSuccess Ratio DACAP sem Warning e  \n\nDACAP com Warning \n\nDACAP sem Warning e  \n\nDACAP com Warning \n\nTime spent in Control \n\nMechanisms (Overhead) \n\nALOHA sem ACK e  \n\nALOHANEW sem ACK \n\nALOHA sem ACK e  \n\nALOHANEW sem ACK \n\nTabela 5.6: Resumo sobre o desempenho dos protocolos de acesso ao meio para o cen\u00e1rio da figura \n\n5.16 \n\nSim\u00e9trica \n\nTamanho Pacote Grande (600 bytes) \n\nNormalize Throughput CSMA e ALOHANEW sem ACK \n\nSuccess Ratio DACAP sem Warning e DACAP com Warning \n\nTime spent in Control \n\nMechanisms \n\n(Overhead) \n\nALOHA sem ACK e  \n\nALOHANEW sem ACK \n\nTabela 5.7: Resumo sobre o desempenho dos protocolos de acesso ao meio para o cen\u00e1rio da figura \n\n5.24 \n\n \n\n\n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 131 \n\nCap\u00edtulo 6 \n\n \n\nConclus\u00f5es e trabalhos futuros \n\n6.1. Conclus\u00e3o \n\nA import\u00e2ncia da implementa\u00e7\u00e3o e teste dos protocolos para o ambiente ac\u00fastico submarino \u00e9 cada \n\nvez maior devido ao desejo de controlar e explorar os oceanos do mundo. No entanto, nenhum \n\nmodelo padr\u00e3o se encontra dispon\u00edvel para os investigadores utilizarem, na fase de simula\u00e7\u00e3o do \n\nseu projeto. Os trabalhos desenvolvidos no \u00e2mbito desta disserta\u00e7\u00e3o incidiram fundamentalmente na \n\ncompara\u00e7\u00e3o dos v\u00e1rios protocolos de acesso ao meio (MAC) e da sua avalia\u00e7\u00e3o de desempenho em \n\nredes ac\u00fasticas submarinas. \n\nForam apresentados estudos sobre as caracteristicas da propaga\u00e7\u00e3o ac\u00fastica do canal, tendo na \n\ncomunica\u00e7\u00e3o ac\u00fastica submarina a sua principal tecnologia. Neste sentido foram apresentadas e \n\ndiscutidas as limita\u00e7\u00f5es do canal ac\u00fastico e as dificuldades que essas limita\u00e7\u00f5es implicam na \n\nimplementa\u00e7\u00e3o dos protocolos de acesso ao meio nas redes ac\u00fasticas submarinas. Do canal ac\u00fastico \n\nfoi concluido que: \n\n? A velocidade de propaga\u00e7\u00e3o \u00e9 baixa provocando grande lat\u00eancia na comunica\u00e7\u00e3o. Para al\u00e9m \n\ndisso, varia com a profundidade; \n\n? A largura de banda al\u00e9m de estreita, depende da dist\u00e2ncia Emissor/Recetor, limitanto as \n\ntaxas de transmiss\u00e3o a poucos kbps; \n\n? Devido aos efeitos da refra\u00e7\u00e3o provocados pelo perfil de velocidade do som no mar, as \n\ntrajet\u00f3rias dos sinais ac\u00fasticos podem ser curvil\u00edneas, podendo gerar efeitos de zonas de \n\nsombra e zonas de converg\u00eancia; \n\n?  Em \u00e1guas rasas, devido a m\u00faltiplas reflex\u00f5es na superf\u00edcie e no leito oce\u00e2nico, existe um \n\naumento da interfer\u00eancia inters\u00edmbolica nas transmiss\u00f5es digitais; \n\n\n\nConclus\u00f5es e Trabalhos Futuros \n\n 132 \n\n? O consumo de energia para trasmiss\u00f5es ac\u00fasticas \u00e9 muito maior do que para as transmiss\u00f5es \n\neletromagn\u00e9ticas terrestres, porque os sinais ac\u00fasticos s\u00e3o gerados atrav\u00e9s de vibra\u00e7\u00f5es \n\nmec\u00e2nicas das part\u00edculas do meio. \n\nEssas limita\u00e7\u00f5es foram comprovadas com os resultados das simula\u00e7\u00f5es do modelo ac\u00fastico \n\nsubmarino no simulador de rede NS-2. O modelo foi dividido em 4 camadas: propaga\u00e7\u00e3o, canal, \n\nf\u00edsica e modula\u00e7\u00e3o. Foram descritas as funcionalidades cr\u00edticas de cada uma dessas camadas, \n\ndescrevendo detalhadamente as fun\u00e7\u00f5es de transfer\u00eancias utilizadas em cada camada. Al\u00e9m disso, \n\nforam apresentados alguns resultados das simula\u00e7\u00f5es, comparando os nossos resultados com os \n\nresultados do artigo dos autores Harris e Zorzi [22].  \n\nCom base nas limita\u00e7\u00f5es do canal ac\u00fastico, comprovadas pelas simula\u00e7\u00f5es feitas no NS-2, \n\nverificou-se a necessidade de um modelo ac\u00fastico submarino mais completo para estudos de \n\nsimula\u00e7\u00e3o. Neste sentido propos-se utilizar o simulador WOSS que integra novas extens\u00f5es do NS-\n\n2/MIRACLE para criar um modelo mais preciso dos efeitos de desvanecimento e multi-percurso no \n\nambiente ac\u00fatico submarino, baseado no modelo de propaga\u00e7\u00e3o Bellhop ray tracing. Este modelo \n\nfornece novas e melhores funcionalidades, incluindo comunica\u00e7\u00f5es baseadas no controle de acesso \n\nao meio, protocolos de camada superior, mobilidade, modelos de trafego e as m\u00e9tricas de \n\ndesempenho. \n\nO nosso contributo na implementa\u00e7\u00e3o do protocolo DACAP considerou tr\u00eas fases. Na primeira fase \n\nde implementa\u00e7\u00e3o foi apresentado uma arquitetura da camada MAC para o protocolo DACAP \n\nimplementando os principais m\u00f3dulos que comp\u00f5em a referida arquitetura, sem ter em considera\u00e7\u00e3o \n\no mecanismo de warning. Neste \u00e2mbito foram implementados os seguintes m\u00f3dulos: transmiss\u00e3o, \n\nrece\u00e7\u00e3o, m\u00f3dulo gest\u00e3o do estado do canal, m\u00f3dulo gest\u00e3o do estado do backoff, m\u00f3dulo gest\u00e3o do \n\nestado transmiss\u00e3o e m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o. Na segunda fase de implementa\u00e7\u00e3o foi \n\nintroduzido o mecanismo de warning alterando a implementa\u00e7\u00e3o do m\u00f3dulo de gest\u00e3o de estado de \n\nrece\u00e7\u00e3o. Na terceira e \u00faltima fase, foram realizadas testes de implementa\u00e7\u00e3o do protocolo DACAP. \n\nConclui-se que com introdu\u00e7\u00e3o desse mecanismo de warning reduz-se o n\u00famero de colis\u00f5es entre \n\npacotes de controlo e dados. \n\nEm seguida realizaram-se testes de simula\u00e7\u00e3o para analisar o desempenho dos mecanismos de \n\nacesso ao meio nas redes ac\u00fasticas submarinas para um conjunto de topologias diferentes e \n\ndiferentes tamanhos de tramas.  \n\nO protocolo de acesso ao meio DACAP proposto, mostrou-se eficiente a n\u00edvel de resolu\u00e7\u00e3o de \n\nproblemas de colis\u00f5es nas redes ac\u00fasticas submarinas. Os testes demonstraram que os protocolos \n\n\n\nRedes de transmiss\u00e3o de dados em meios submarinos \n\n 133 \n\nDACAP em ambas as vers\u00f5es apresentaram melhores resultados nos \u00edndices de sucessos dos \n\npacotes quer para tamanhos de pacotes de 600 e 50 bytes utilizando o tr\u00e1fego de Poisson, \n\njustificando pela menor probabilidade de colis\u00f5es. No entando a grande desvantagem do protocolo \n\nDACAP proposto em rela\u00e7\u00e3o aos protocolos ALOHA existentes no simulador de rede est\u00e1 no facto \n\nde apresentarem um fraco desempenho a n\u00edvel do Throughput. Tal deve-se \u00e0 introdu\u00e7\u00e3o dos \n\nmecanismos de warning e pacotes RTS e CTS, que causam uma maior sobrecarga e aumentam o \n\ntempo gasto em mecanismos de controlo (Overhead). \n\nDe um modo geral podemos dizer que foram atingidos todos os objetivos do trabalho, n\u00e3o tendo \n\napenas sido satisfeitas em alguns par\u00e2metros de desempenho, conforme o argumento acima. \n\nConsidera-se assim que a contribui\u00e7\u00e3o principal deste trabalho est\u00e1 na implementa\u00e7\u00e3o do algoritmo \n\ndo protocolo de acesso ao meio DACAP e que, este pode ser aplicado em qualquer arquitetura para \n\nredes sem fios nos ambientes ac\u00fasticos submarinos. \n\n6.2. Trabalhos futuros \n\nComo proposta para trabalho futuros, gostariamos de aprofundar estudos sobre a modelagem da \n\ncomunica\u00e7\u00e3o ac\u00fastica com objetivo de aprimorar os m\u00f3dulos para simula\u00e7\u00e3o de redes ac\u00fasticas \n\nsubmarinas no simulador WOSS. Al\u00e9m disso pretendemos estudar o impacto que os par\u00e2metros \n\nambientais t\u00eam no desempenho dos protocolos de acesso ao meio, uma vez que que tais par\u00e2metros \n\nlevam em considera\u00e7\u00e3o o modelo de propaga\u00e7\u00e3o que tamb\u00e9m \u00e9 uma ferramenta \u00fatil para ajudar a \n\navaliar o desempenho da rede. \n\nFinalmente, poucas propostas t\u00eam sido apresentadas para o encaminhamento em redes ac\u00fasticas \n\nsubmarinas devido \u00e0s caracter\u00edsticas adversas do canal ac\u00fastico submarino referenciadas nesta \n\ndisserta\u00e7\u00e3o. Neste sentido gostariamos de explorar a possibilidade de encaminhar os pacotes na \n\nrede, implementando os mecanismos que permitam comunica\u00e7\u00e3o entre v\u00e1rios n\u00f3s fixos e m\u00f3veis na \n\nrede, utilizando liga\u00e7\u00f5es que disponibilizassem largura de banda suficiente para responder aos seus \n\nritmos de transmiss\u00e3o.  \n\n\n\n\n\nBibliografia \n\n 135 \n\nBibliografia \n\n[1] Mandar Chitre, Shiraz Shahabudeen, Lee Freitag, Milica Stojanovic. \u201cUnderwater Acoustic \n\nCommunications and Networking: Recent Advances and Future Challenges\u201d. Sep 2008. \n\ndoi:10.1109/48.820738. \n\n[2] Partan, J., Kurose, J., Levine, B. N. \u201cA Survey of Practical Issues in Underwater Networks\u201d. \n\nIn: WUWNet \u201906: Proceedings of the 1st ACM International Workshop on Underwater \n\nNetworks, pp. 17\u201324, New York, NY, USA, 2006. ACM. ISBN: 1-59593-484-7. Available: \n\nhttp://doi.acm.org/10.1145/1161039.1161045. \n\n[3] Akyildiz, I. F., Pompilli, D., Melodia, T. \u201cState-of-the-art in Protocol Research for \n\nUnderwater Acoustic Sensor Networks\u201d. In: WUWNet\u201906: Proceedings of the 1st ACM \n\nInternational Workshop on Underwater, pp. 7\u201316, Los Angeles, CA, USA, Sep. 2006. ACM. \n\nISBN:1-59593-484-7. Available: http://doi.acm.org/10.1145/1161039.1161045. \n\n[4] Lanbo, L., Shengli, Z., Jun-Hong, C. \u201cProspects and Problems of Wireless Communication \n\nfor Underwater Sensor Networks\u201d, Wirel. Commun.Mob. Comput., v. 8, n. 8, pp. 977\u2013994, \n\n2008. ISSN: 1530-8669. Available: http://dx.doi.org/10.1002/wcm.v8:8. \n\n[5] Akyildiz, I. F., Pompilli, D., Melodia, T. \u201cUnderwater Acoustic SensorNetworks: Research \n\nChallenges\u201d, Ad Hoc Networks, pp. 257\u2013279, 2005.doi: 10.101/j.adhoc.2005.01.004. \n\n[6] Heidemann, J., Ye, W., Wills, J., et al. \u201cResearch Challenges and Applications for \n\nUnderwater Sensor Networking\u201d, Wireless Communications and Networking Conference, \n\n2006. WCNC 2006. IEEE, v. 1, pp. 228\u2013235, 2006. ISSN: 1525-3511. doi: \n\n10.1109/WCNC.2006.1683469. \n\n[7] I.F. Akyildiz, W. Su, Y. Sankarasubramaniam, E. Cayirci, Wireless sensor networks: A \n\nsurvey, Computer Networks 38 (4) (2002) 393\u2013422. \n\n[8] E. Cayirci, H. Tezcan, Y. Dogan, V. Coskun, Wireless sensor networks for underwater \n\nsurveillance systems, Ad Hoc Networks, in press; doi:10.1016/j.adhoc.2004.10.008. \n\n[9] Freitag, L., Stojanovic, M., Grund, M., et al. \u201cAcoustic Communication for Regional \n\nUndersea Observatories\u201d. In: Proceedings of Oceanology International, 2002. \n\n[10] Sozer, E., Stojanovic, M., Proakis, J. \u201cUnderwater Acoustic Networks\u201d, Oceanic Engineering, \n\nIEEE Journal of, v. 25, n. 1, pp. 72\u201383,Jan 2000. ISSN: 0364-9059. doi: 10.1109/48.820738. \n\n[11] Wilson, W. D. \u201cSpeed of Sound in Sea Water as a Function of Temperature, Pressure, and \n\nSalinity\u201d, Journal of the Acoustic Society of America, v. 32, n. 6, pp. 641\u2013644, 1960. \n\n[12] Urick, R. J. Principles of Underwater Sound. McGraw-Hill, 1983. ISBN:0-07-066087-5. \n\n[13] Coates, R. F. W. Underwater Acoustic Systems. John Wiley and Sons, 1990.ISBN: 0-333-\n\n42542-1. \n\n[14] Brekhovskikh, L. M., Lysanov, Y. P. Fundamentals of Ocean Acoustics.Springer-Verlag, \n\n1991. \n\n[15] Kilfoyle, D., Baggeroer, A. \u201cThe State of the Art in Underwater Acoustic Telemetry\u201d, \n\nOceanic Engineering, IEEE Journal of, v. 25, n. 1, pp. 4\u201327, Jan 2000. ISSN: 0364-9059. doi: \n\n10.1109/48.820733. \n\n[16] ns2 Network Simulator. Available: http://www.isi.edu/nsnam/ns/. \n\n[17] Guerra, F., Casari, P., Zorzi, M. \u201cWorld ocean simulation system (WOSS): a simulation tool \n\nfor underwater networks with realistic propagation modeling\u201d. In: WUWNet \u201909: Proceedings \n\nof the Fourth ACM International Workshop on UnderWater Networks, pp. 1\u20138, New \n\n \n\nhttp://doi.acm.org/10.1145/1161039.1161045\nhttp://doi.acm.org/10.1145/1161039.1161045\nhttp://dx.doi.org/10.1002/wcm.v8:8\nhttp://www.isi.edu/nsnam/ns/\n\n\n \n\n 136 \n\nYork,NY, USA, 2009. ACM. ISBN: 978-1-60558-821-6. doi: \n\nhttp://doi.acm.org/10.1145/1654130.1654134. \n\n[18] Preisig, J. \u201cAcoustic Propagation Considerations for Underwater Acoustic Communications \n\nNetwork Development\u201d, SIGMOBILE Mob. Comput.Commun. Rev., v. 11, n. 4, pp. 2\u201310, \n\n2007. ISSN: 1559-1662. doi:http://doi.acm.org/10.1145/1347364.1347370. \n\n[19] M. Stojanovic, \u201cUnderwater Acoustic communications\u201d. In: Encyclopedia of Electrical and \n\nElectronics Engineering, v.22, pp. 688-698, John Wiley and Sons, 2003. \n\n[20] Freitag, L., Grund, M., Singh, S., et al. \u201cThe WHOI Micro-modem:an Acoustic \n\nCommunications and Navigation System for Multiple Platforms\u201d, OCEANS, 2005. \n\nProceedings of MTS/IEEE, v. 2, pp. 1086\u20131092, 2005. doi: 10.1109/OCEANS.2005.1639901. \n\n[21] Dokkali, H., Nuaymi, L., Houcke, S. \u201cPower and Distance Based MAC Algorithms for \n\nUnderwater Acoustic Networks\u201d, OCEANS 2006, pp. 1\u20135, Sept 2006. doi: \n\n10.1109/OCEANS.2006.307004. \n\n[22] Albert F. Harris, I., Zorzi, M. \u201cModeling the Underwater Acoustic Channel in ns2\u201d. In: \n\nValueTools \u201907: Proceedings of the 2nd International Conference on Performance Evaluation \n\nMethodologies and Tools, pp. 1\u20138,ICST, Brussels, Belgium, Belgium, 2007. ICST (Institute \n\nfor Computer Sciences, Social-Informatics and Telecommunications Engineering). ISBN:978-\n\n963-9799-00-4. \n\n[23] Albert F. Harris, I., Stojanovic, M., Zorzi, M. \u201cWhen Underwater Acoustic Nodes Should \n\nSleep with one Eye Open: Idle-time Power Management in Underwater Sensor Networks\u201d. In: \n\nWUWNet \u201906: Proceedings of the 1st ACM International Workshop on Underwater \n\nNetworks,pp. 105\u2013108, New York, NY, USA, 2006. ACM. ISBN: 1-59593-484-7. \n\ndoi:http://doi.acm.org/10.1145/1161039.1161061. \n\n[24] Chirdchoo, N., Soh, W.-S., Chua, K. C. \u201cAloha-Based MAC Protocols with Collision \n\nAvoidance for Underwater Acoustic Networks\u201d, INFOCOM 2007. 26th IEEE International \n\nConference on Computer Communications.IEEE, pp. 2271\u20132275, May 2007. ISSN: 0743-\n\n166X. doi:10.1109/INFCOM.2007.263. \n\n[25] Pompili, D., Melodia, T., Akyildis, I. F. \u201cA Distributed CDMA Medium Access Control in \n\nUnderwater Acoustic Sensor Networks\u201d. In: Proceedings of Med Hoc-Net, Corfu, Greece, \n\njune 2007. \n\n[26] Chirdchoo, N., Soh, W.-S., Chua, K. C. \u201cMACA-MN: A MACA Based MAC Protocol for \n\nUnderwater Acoustic Networks with Packet Train for Multiple Neighbors\u201d, Vehicular \n\nTechnology Conference, 2008.VTC Spring 2008. IEEE, pp. 46\u201350, May 2008. ISSN: 1550-\n\n2252. doi:10.1109/VETECS.2008.22. \n\n[27] Molins, M., Stojanovic, M. \u201cSlotted FAMA: a MAC Protocol for Underwater Acoustic \n\nNetworks\u201d, OCEANS 2006 - Asia Pacific, pp. 1\u20137, May 2006. doi: \n\n10.1109/OCEANSAP.2006.4393832. \n\n[28] Lee, J.-W., Kim, J.-P., Lee, J.-H., et al. \u201cAn Improved ARQ Scheme in Underwater Acoustic \n\nSensor Networks\u201d, OCEANS 2008 - MTS/IEEE Kobe Techno-Ocean, pp. 1\u20135, April 2008. \n\ndoi: 10.1109/OCEANSKOBE.2008.4530937. \n\n[29] Xie, P., Hong Cui, J., Lao, L. \u201cVBF: Vector\u2013Based Forwarding Protocol for Underwater \n\nSensor Networks\u201d. In: in Proceedings of IFIP Networking\u201906, pp. 1216\u20131221, 2006. \n\n[30] Nicolaou, N., See, A., Xie, P., et al. \u201cImproving the Robustness of Location-Based Routing \n\nfor Underwater Sensor Networks\u201d, OCEANS 2007 - Europe, pp. 1\u20136, June 2007. doi: \n\n10.1109/OCEANSE.2007.4302470. \n\n[31] Xie, P., Cui, J.-H. \u201cR-MAC: An Energy-Efficient MAC Protocol for Underwater Sensor \n\nNetworks\u201d, Wireless Algorithms, Systems and Applications, 2007. WASA 2007. International \n\nhttp://doi.acm.org/10.1145/1654130.1654134\nhttp://doi.acm.org/10.1145/1347364.1347370\n\n\nBibliografia \n\n 137 \n\nConference on, pp. 187\u2013198, Aug.2007. \n\n[32] Doukkali, H., Nuaymi, L., Houcke, S. \u201cDistributed MAC Protocols for Underwater Acoustic \n\nData Networks\u201d, Vehicular Technology Conference,2006. VTC-2006 Fall. 2006 IEEE 64th, \n\npp. 1\u20135, Sept. 2006. doi: 10.1109/VTCF.2006.428. \n\n[33] Seah, W., Tan, H.-X. \u201cMultipath Virtual Sink Architecture for Underwater Sensor Networks\u201d, \n\nOCEANS 2006 - Asia Pacific, pp. 1\u20136, May 2006. doi: 10.1109/OCEANSAP.2006.4393933. \n\n[34] Morns, I., Hinton, O., Adams, A., et al. \u201cProtocols for Sub-sea Communication Networks\u201d, \n\nOCEANS, 2001. MTS/IEEE Conference and Exhibition, v.4, pp. 2076\u20132082 vol.4, 2001. doi: \n\n10.1109/OCEANS.2001.968318. \n\n[35] Baldo, N., Maguolo, F., Miozzo, M., et al. \u201cns2-MIRACLE: a modular framework for multi-\n\ntechnology and cross-layer support in network simulator 2\u201d. In: ValueTools \u201907: Proceedings \n\nof the 2nd international conference on Performance evaluation methodologies and tools, pp. \n\n1\u20138,ICST, Brussels, Belgium, Belgium, 2007. ICST (Institute for Computer Sciences, Social-\n\nInformatics and Telecommunications Engineering). ISBN:978-963-9799-00-4. \n\n[36] M. Porter et al., \u201cBellhop code.\u201d [Online]. Available:  \n\nhttp://oalib.hlsresearch.com/Rays/index.html. \n\n[37] \u201cWorld ocean atlas.\u201d [Online]. Available: www.nodc.noaa.gov/OC5/WOA05/pr_woa05.html. \n\n[38] H. Schmidt et al., \u201cGOATS 2008: autonomous, adaptive multistatic acoustic sensing,\u201d \n\nMassachusetts Institute of Technology, Tech. Rep., 2008. [Online]. Available: \n\nwww.onr.navy.mil/sci_tech/32/reports/docs/08/oaschmi3.pdf \n\n[39] \u201cGeneral bathymetric chart of the oceans.\u201d [Online]. Available: www.gebco.net \n\n[40] \u201cNational geophysical data center, seafloor surficial sediment descriptions.\u201d [Online]. \n\nAvailable: http://www.ngdc.noaa.gov/mgg/geology/deck41.html \n\n[41] F. Jensen, W. Kuperman, M. Porter, and H. Schmidt, Computational Ocean Acoustics. \n\nSpringer-Verlag, 2000. \n\n[42] Tan, H.-P., Sean, W., Doyle, L. \u201cA Multi-hop ARQ Protocol for Underwater Acoustic \n\nNetworks\u201d, OCEANS 2007 - Europe, pp. 1\u20136, June \n\n2007.doi:10.1109/OCEANSE.2007.4302195. \n\n[43] Park, M. K., Rodoplu, V. \u201cUWAN-MAC: An Energy-Efficient MAC Protocol for \n\nUnderwater Acoustic Wireless Sensor Networks\u201d, Oceanic Engineering,IEEE Journal of, v. \n\n32, n. 3, pp. 710\u2013720, July 2007. ISSN:0364-9059. doi: 10.1109/JOE.2007.899277. \n\n[44] Chirdchoo, N., Soh, W.-S., Chua, K. C. \u201cAloha-Based MAC Protocolswith Collision \n\nAvoidance for Underwater Acoustic Networks\u201d, INFOCOM 2007. 26th IEEE International \n\nConference on Computer Communications. IEEE, pp. 2271\u20132275, May 2007. ISSN: 0743-\n\n166X. doi:10.1109/INFCOM.2007.263. \n\n[45] Peleato, B., Stojanovic, M. \u201cA MAC Protocol for Ad-hoc Underwater Acoustic Sensor \n\nNetworks\u201d. In: WUWNet \u201906: Proceedings of the 1st ACM International Workshop on \n\nUnderwater Networks, pp. 113\u2013115, New York, NY, USA, 2006. ACM. ISBN: 1-59593-484-\n\n7. doi: http://doi.acm.org/10.1145/1161039.1161063. \n\n[46] Peleato, B., Stojanovic, M. \u201cDistance Aware Collision Avoidance Protocol for Ad-hoc \n\nUnderwater Acoustic Sensor Networks\u201d, Communications Letters, IEEE, v. 11, n. 12, pp. \n\n1025\u20131027, December 2007. ISSN:1089-7798. doi: 10.1109/LCOMM.2007.071160. \n\n[47] Makh.A, D., Kumaraswamy, P., Roy, R. \u201cChallenges and Design of MAC Protocol for \n\nUnderwater Acoustic Sensor Networks\u201d, Modeling and Optimization in Mobile, Ad Hoc and \n\nWireless Networks, 2006 4th International Symposium on, pp. 1\u20136, April 2006. \n\n[48] Stojanovic, M. \u201cOptimization of a Data Link Protocol for an Underwater Acoustic Channel\u201d, \n\nhttp://oalib.hlsresearch.com/Rays/index.html\nhttp://www.nodc.noaa.gov/OC5/WOA05/pr_woa05.html\nhttp://www.onr.navy.mil/sci_tech/32/reports/docs/08/oaschmi3.pdf\nhttp://www.gebco.net/\nhttp://www.ngdc.noaa.gov/mgg/geology/deck41.html\nhttp://doi.acm.org/10.1145/1161039.1161063\n\n\n \n\n 138 \n\nOceans 2005 - Europe, v. 1, pp. 68\u201373 Vol. 1, June 2005. doi: \n\n10.1109/OCEANSE.2005.1511686. \n\n[49] Federico Guerra, Paolo Casari, Michele Zorzi, \u201cA performance comparison of MAC protocols \n\nfor underwater networks using a realistic channel simulator,\u201d in  Proc. of MTS/IEEE Oceans, \n\nBiloxi, MS, Oct. 2009. \n\n[50] F. Guerra, P. Casari, and M. Zorzi, \u201cMAC protocols for monitoring and event detection in \n\nunderwater    networks   employing a FH-BFSK physical layer,\u201d in Proc. of IACM UAM, \n\nNafplion, Greece, Jun. 2009. \n\n[51] Rice, J., Creber, B., Fletcher, C., et al. \u201cEvolution of Seaweb Underwater Acoustic \n\nNetworking\u201d, OCEANS 2000 MTS/IEEE Conference and Exhibition, v. 3, pp. 2007\u20132017 \n\nvol.3, 2000. doi: 10.1109/OCEANS.2000.882235. \n\n[52] D. D. Falconer, F. Adachi, and B. Gudmundson, \u201cTime division multiple access methods for \n\nwireless personal communications,\u201d IEEE Commun.Mag., pp. 33\u201336, Jan. 1995. \n\n[53] T. S. Rappaport, Wireless Communications. Englewood Cliffs, NJ:Prentice Hall, 1996. \n\n[54] R. Kohno, R. Meidan, and L. B. Milstein, \u201cSpread spectrum methods for wireless \n\ncommunications,\u201d IEEE Commun. Mag., pp. 33\u201336, Jan. 1995. \n\n[55] D. Bertsekas and R. Gallager, Data Networks, NJ: Prentice Hall, 1992. \n\n[56]  L. G. Roberts, \u201cALOHA packet system with and without slots and capture,\u201d ACMSIGCOM \n\nComput. Commun. Rev., pp. 28\u201342, 1975. \n\n[57] L. Kleinrock and F. A. Tobagi, \u201cCarrier sense multiple access for packet switched radio \n\nchannels,\u201d in Proc. ICC\u201974, June 1974, pp.21B-1\u201321B-7. \n\n[58] F. A. Tobagi and L. Kleinrock, \u201cPacket switching in radio channels, part II: The hidden \n\nterminal problem in carrier sense multiple access and busy tone solution,\u201d IEEE Trans. \n\nCommun., pp. 1417\u20131433, 1975. \n\n[59] H. Takagi and L. Kleinrock, \u201cCorrection to \u2018throughput analysis for persistent CSMA \n\nsystems\u2019,\u201d IEEE Trans. Commun., pp. 243\u2013245, 1987. \n\n[60] Karn, P. \u201cMACA, A New Channel Access Method for Packet Radio\u201d. ARRL/CRRL Amateur \n\nRadio 9th Computer Networking Conf., 1990. \n\n[61] Bharghavan, V., Demers, A., Shenker, S., et al. \u201cMACAW: a Media Access Protocol for \n\nWireless LAN\u2019s\u201d, SIGCOMM Comput. Commun. Rev,v. 24, n. 4, pp. 212\u2013225, 199. ISSN: \n\n0146-4833. doi: http://doi.acm.org/10.1145/190809.190334. \n\n[62] N. Abramson, \u201cThe ALOHA systems \u2013 Another Alternative for computer communications,\u201d \n\nAFIPS Conf. Proc., Fall Joint Comput. Conf., 37, 281-285, 1970. \n\n[63] K. Pahlavan and A. H. Levesque, Wireless Information Networks, New York: Wiley, 1995. \n\n[64] Monteiro, J\u00e2nio. 2011. Sebenta de Redes de Comunica\u00e7\u00e3o. Cap\u00edtulo 4. Available: \n\nhttp://w3.ualg.pt/~jmmontei/RC.htm/.  \n\n[65] S. Basagni, C. Petrioli, R. Petroccia, and M. Stojanovic, \u201cChoosing the packet size in multi-\n\nhop underwater networks,\u201d in Proceedings of IEEE OCEANS 2010, Sydney, Australia, May, \n\n24\u201327 2010, pp. 1\u20139. \n\n[66] Doukkali, H., Nuaymi, L. \u201cAnalysis of MAC Protocols for Underwater Acoustic Data \n\nNetworks\u201d, Vehicular Technology Conference, 2005. VTC 2005-Spring. 2005 IEEE 61st, v. 2, \n\npp. 1307\u20131311 Vol. 2, May-1 June 2005. ISSN: 1550-2252. doi: \n\n10.1109/VETECS.2005.1543520. \n\n[67] Doukkali, H., Nuaymi, L., Houcke, S. \u201cPower and Distance Based MAC Algorithms for \n\nUnderwater Acoustic Networks\u201d, OCEANS 2006, pp. 1\u20135, Sept 2006. doi: \n\n10.1109/OCEANS.2006.307004. \n\n\n\nBibliografia \n\n 139 \n\n[68] Doukkali, H., Nuaymi, L., Houcke, S. \u201cPower and Distance Based MAC Algorithms for \n\nUnderwater Acoustic Networks\u201d, OCEANS 2006, pp. 1\u20135, Sept 2006. doi: \n\n10.1109/OCEANS.2006.307004. \n\n[69] Syed, A., Ye, W., Heidemann, J. \u201cT-Lohi: A New Class of MAC Protocols for Underwater \n\nAcoustic Sensor Networks\u201d, INFOCOM 2008. The 27th Conference on Computer \n\nCommunications. IEEE, pp. 231\u2013235, April 2008. ISSN: 0743-166X. doi: \n\n10.1109/INFOCOM.2008.55. \n\n[70] A. Syed, W. Ye, and J. Heidemann, \u201cComparison and Evaluation of the T-Lohi MAC for \n\nUnderwater Acoustic Sensor Networks,\u201d IEEE J. Select. Areas Commun., vol. 26, pp. 1731\u2013\n\n1743, Dec. 2008. \n\n[71] C. Petrioli, R. Petroccia, and M. Stojanovic, \u201cA comparative performance evaluation of MAC \n\nprotocols for underwater sensor networks,\u201din Proc. MTS/IEEE Oceans, Qu\u00b4ebec City, \n\nCanada, 2008. \n\n[72] Tian, C., Liu, W., Jin, J., et al. \u201cLocalization and Synchronization for 3D Underwater \n\nAcoustic Sensor Networks\u201d, Lecture Notes in Computer Science,, n. 4611, pp. 622\u2013631, 2007. \n\nISSN: 0302-9743. \n\n[73] K. Pahlavan and A. H. Levesque, Wireless Information Networks, New York: Wiley, 1995. \n\n[74] Ko, J., Shin, J., Kwon, S., et al. \u201cLocalization of Sensor Nodes in Underwater Acoustic \n\nSensor Networks Using Two Reference Points\u201d. In: Information Networking, 2008. ICOIN \n\n2008. International Conference on,pp. 1\u20135, 2008. \n\n[75] Chandrasekhar, V., Seah, W. K., Choo, Y. S., et al. \u201cLocalization in Underwater Sensor \n\nNetworks: Survey and Challenges\u201d. In: WUWNet\u201906: Proceedings of the 1st ACM \n\nInternational Workshop on Underwater Networks, pp. 33\u201340, New York, NY, USA, 2006. \n\nACM. ISBN: 1-59593-484-7. doi: http://doi.acm.org/10.1145/1161039.1161047. \n\n[76] D. B. Johnson and D. A. Maltz, \u201cProtocols for adaptive wireless and mobile networking,\u201d \n\nIEEE Personal Commun., 1996. \n\n[77] J. Broch, D. A. Maltz, D. B. Johnson, Y. Hu, and J. Jetcheva, \u201cA performance comparison of \n\nmulti-hop wireless ad hoc network routing protocols,\u201din ACM/IEEE Int. Conf. Mobile \n\nComputing and Networking, Oct.1998. \n\n[78] J. Jubin and J. D. Tornow, \u201cThe DARPA packet radio network protocols,\u201din Proc. IEEE, vol. \n\n75, Jan. 1987, pp. 21\u201332. \n\n[79] C. E. Perkins, \u201cAd hoc on demand distance vector (AODV) routing,\u201d, Internet-Draft, draft-\n\nietf-manet-aodv-00.txt, 1997. \n\n[80] X. Guo, M. Frater, and M. Ryan, \u201cA propagation-delay-tolerant collision avoidance protocol \n\nfor underwater acoustic sensor networks,\u201d in Proc.IEEE Oceans Conf. 2006. \n\n[81] Othmam, A.-K. \u201cGPS-less Localization Protocol for Underwater Acoustic Networks\u201d. In: \n\nWireless and Optical Communications Networks, 2008.WOCN \u201908. 5th IFIP International \n\nConference, pp. 1 \u20136, May 2008. doi:10.1109/WOCN.2008.4542532. \n\n \n\n \n\n \n\nhttp://doi.acm.org/10.1145/1161039.1161047\n\n\n\n\nAnexo \n\n 141 \n\nAnexo \n\nAnexo A. Modelo de canal e da camada f\u00edsica no NS-2 \n\n \n\nFigura A.1: Modelo de canal e da camada f\u00edsica no NS-2. \n\n \n\n \n\n \n\n\n\n \n\n 142 \n\nAnexo B. Fun\u00e7\u00e3o de transfer\u00eancia de cada um dos modelos \n\nB.1. Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico \n\n \n\nFigura B.1: Fun\u00e7\u00e3o de transfer\u00eancia do modelo f\u00edsico. \n\n \n\n \n\n \n\n \n\n \n\n????=Interfer\u00eancia da rela\u00e7\u00e3o sinal ru\u00eddo em dB \n\n???=Rela\u00e7\u00e3o sinal ru\u00eddo no receptor em dB \n\nSize= Tamanho do pacote em bytes \n\nB=Largura de banda (Hz) \n\nC=c\u00e1lculo da capacidade em bit/s  \n\nA (l, f) =Atenua\u00e7\u00e3o total (dB) \n\nR=Taxa do bit (bit/s) \n\nPER=Taxa do erro do pacote \n\nBER=Taxa de erro do bit \n\nERR=Erro do pacote \n\nTTC=Tempo de transmiss\u00e3o do pacote \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n? = ? \u00d7 log2(1 + ???) \n\n \n\n \n\nTTP =\n8 \u00d7 size\n\nR\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n??? = 1 ? ??? \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 143 \n\nB.2. Fun\u00e7\u00e3o de transfer\u00eancia do modelo canal \n\n \n\nFigura B.2: Fun\u00e7\u00e3o de transfer\u00eancia do modelo canal. \n\n \n\n \n\n \n\n \n\n \n\n \n\nt =Temperatura ( ? ) \n\nZ=Profundidade (m) \n\nS=Salinidade (ppm) \n\nTotaldist=Dist\u00e2ncia total (m) \n\nRx=distancia x do receptor (m) \n\nRy=dist\u00e2ncia y do receptor (m) \n\nRz=dist\u00e2ncia z do receptor (m) \n\nTx=dist\u00e2ncia x do transmissor (m) \n\nTy=dist\u00e2ncia y do transmissor (m) \n\nTz=dist\u00e2ncia z do transmissor (m) \n\nc = velocidade da propaga\u00e7\u00e3o ac\u00fastica submarina em (m/s) \n\n??????=Atraso de propaga\u00e7\u00e3o (s) \n\n \n\n \n\n \n\nTotaldist = ?((Rx ? Tx)\n2 + (Ry ? Ty)\n\n2 + (Rz ? Tz)\n2\n) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nPdelay =\nTotaldist\n\nc\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n? = 1448.5 + 45.7? ? 5.2?2 + 0.23?2+(1.333?0.126t+0.009?2)(? ? 35) + 16.3? + 0.18?2 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n \n\n 144 \n\nB.3. Fun\u00e7\u00e3o de transfer\u00eancia do modelo modula\u00e7\u00e3o \n\n \n\nFigura B.3: Fun\u00e7\u00e3o de transfer\u00eancia do modelo modula\u00e7\u00e3o. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n??=Pot\u00eancia do Ru\u00eddo (dBm ou linear) \n\n??=Pot\u00eancia Recebida (dBm ou linear) \n\n????=Taxa de erro do bit  \n\n????=Taxa de erro do pacote  \n\nSize=Tamanho do pacote (bytes) \n\nR=Taxa do bit (bit/s) \n\nerfc=fun\u00e7\u00e3o complementar de erro \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n???? =\n1\n\n2\n ???? ?\n\n??\n??\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n????=1 ? (1 ? ????)\n???? \u00d78.0 \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n????(?) =\n2\n\n??\n? ???\n\n2\n00\n\n?\n\n ?? \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nR =\n1\n\nT\n=\nB\n\n2\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 145 \n\nB.4. Fun\u00e7\u00e3o de transfer\u00eancia do modelo propaga\u00e7\u00e3o \n\n \n\nFigura B.4: Fun\u00e7\u00e3o de transfer\u00eancia do modelo propaga\u00e7\u00e3o. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n??=Resposta impulsiva \n\nS = navega\u00e7\u00e3o (shipping [0 1]) \n\nTh = Temperatura (? )  \n\nw = Vento (wind in m/s) \n\nt = turbul\u00eancia \n\nf = Frequ\u00eancia (???) \n\n? = Dist\u00e2ncia (m) \n\n??=Pot\u00eancia de interfer\u00eancia (dBm ou linear) \n\n??=Pot\u00eancia de transmiss\u00e3o (dBm ou linear) \n\n10log?(?,?) = ?.10log? + ?.10log?(?) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nN(f) = Nt(f) + Ns(f) + Nw(f) + Nth(f) \n\n \n\n \n\n \n\n \n\nSNR =\nPt/A(l, f)\n\nN(f)\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n10log?? (?) = 17 ? 30log? \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n10log?? (?) = 40 + 20(? ? 0.5) + 26log? ? 60log(? + 0.03) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n10log?? (?) = 50 + 7.5?\n1\n2 + 20log? ? 40log(? + 0.4) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n10log??? (?) = ?15 + 20log? \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n10log?(?) = {\n0.11 \n\n?2\n\n1+?2\n+ 44 \n\n?2\n\n4100+?\n+ 2.75.10?4 ?2 + 0.003,   ? ? 0.4\n\n0.002 + 0.01(\n?\n\n(1+?)\n) + 0.011?,                               ? ? 0.4\n\n  \n\n \n\n \n\n \n\n \n\n \n\n \n\n?? = ? |?\n2(?)|\n\n??0\n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\nSINR =\nPt/A(l, f)\n\nN(f) + Pi\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n \n\n 146 \n\nK = coeficiente de propaga\u00e7\u00e3o \n\na(f) = Coeficiente de atenua\u00e7\u00e3o (absorption loss) (dB/m ou (?? ?? ???)) \n\nN (f) = densidade espectral de pot\u00eancia total do ru\u00eddo (?? ?? ??? ???) \n\nSNR = Rela\u00e7\u00e3o sinal ru\u00eddo no receptor (dB) \n\nSINR=Interfer\u00eancia da rela\u00e7\u00e3o sinal ru\u00eddo (dB) \n\nA (l, f) =Atenua\u00e7\u00e3o total (dB) \n\n(fl, fr) = bandas de frequ\u00eancias usadas na comunica\u00e7\u00e3o \n\nB = largura de Banda (Hz) \n\n?? =Ru\u00eddo dado pela turbul\u00eancia (dB) \n\n??? =Ru\u00eddo T\u00e9rmico (dB) \n\n?? = Ru\u00eddo dado pelo vento (dB) \n\n?? = Ru\u00eddo dado pela navega\u00e7\u00e3o (dB) \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 147 \n\nAnexo C. Analise comparativa entre protocolo ALOHA sem \n\nACK e ALOHANEW sem ACK \n\n \n\nTabela C.1: Tabela comparativa de 2 vers\u00f5es do protocolo ALOHA sem escuta e com escuta \n\ndurante 20 simula\u00e7\u00f5es. \n\n \n\n\n\n \n\n 148 \n\nTipo de Pacote  M\u00e9dia Pacotes Enviados M\u00e9dia Pacotes Recebidos \n\nCBR(0) 500,60 487,00 \n\nCBR (1) 488,35 484,85 \n\nTabela C.2: M\u00e9dia dos pacotes CBR enviados e recebidos pelo protocolo ALOHA sem ACK (sem \n\nescuta). \n\nTipo de Pacote M\u00e9dia Pacotes Enviados M\u00e9dia Pacotes Recebidos \n\nCBR (0) 501,85 495,40 \n\nCBR (1) 497,55 490,15 \n\nTabela C.3: M\u00e9dia dos pacotes CBR enviados e recebidos pelo protocolo ALOHANEW sem ACK \n\n(com escuta). \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 149 \n\nAnexo D. Diagrama de estado dos m\u00f3dulos utilizados na \n\nimplementa\u00e7\u00e3o do DACAP \n\nD.1. Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de \n\ntransmiss\u00e3o \n\n \n\nFigura D.1: Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de transmiss\u00e3o. \n\n\n\n \n\n 150 \n\nD.2. Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de \n\nrece\u00e7\u00e3o \n\n \n\nFigura D.2: Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o. \n\n\n\nAnexo \n\n 151 \n\nD.3. Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de \n\nrece\u00e7\u00e3o com warning \n\n \n\nFigura D.3: Diagrama de estado do m\u00f3dulo gest\u00e3o do estado de rece\u00e7\u00e3o com Warning. \n\n \n\n \n\n \n\n\n\n \n\n 152 \n\nAnexo E. Resultados dos testes \n\nE.1. An\u00e1lise comparativa dos protocolos MAC para 2 n\u00f3s \n\nemissores e 1 recetor \n\nE.1.1. Arquitetura sim\u00e9trica para tamanho pacote 600 byte \n\n \n\nFigura E.1: Cen\u00e1rio utilizado na simula\u00e7\u00e3o dos protocolos para tamanho de pacote 600 byte. \n\n \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,128\u00b0? -15 Metros 250 Metros \n\n \n\nTabela E.1: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o utilizando o cen\u00e1rio \n\napresentado na figura E.1. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 153 \n\n \n\nTeste Average Throughput \n\n \n\n \n\nTeste Normalized Throughput \n\n \nTeste Sucess Ratio \n\n \n\nTeste  Applictattion Success Ratio \n\n \nTeste  Overhead \n\n \n\nTeste  Number of Sent Packets \n\n \n\n\n\n \n\n 154 \n\nTeste  Number of Received Packets \n\n \n\nTeste Application Layer Packet Loss \n\nRatio \n\n \n\nFigura E.2: Resultados obtidos do cen\u00e1rio apresentado na figura E.1. \n\nE.1.2. Arquitetura sim\u00e9trica para tamanho pacote 50 byte \n\n \n\nFigura E.3: Cen\u00e1rio utilizado na simula\u00e7\u00e3o dos protocolos para tamanho de pacote 50 byte. \n\n \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,128\u00b0? -15 Metros 250 Metros \n\nTabela E.2: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o utilizando o cen\u00e1rio \n\napresentado na figura E.3. \n\n \n\n\n\nAnexo \n\n 155 \n\n \n\nTeste Average Throughput \n\n \n\nTeste Normalized Throughput \n\n \nTeste Sucess Ratio \n\n \n\nTeste  Applictattion Success Ratio \n\n \nTeste  Overhead \n\n \n\nTeste  Number of Sent Packets \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n \n\n 156 \n\nTeste  Number of Received Packets \n\n \n\nTeste Application Layer Packet Loss \n\nRatio \n\n \n\nFigura E.4: Resultados obtidos do cen\u00e1rio apresentado na figura E.3. \n\nE.1.3. Arquitetura assim\u00e9trica para tamanho pacote 600 byte \n\n \n\nFigura E.5: Cen\u00e1rio utilizado na simula\u00e7\u00e3o dos protocolos para tamanho de pacote 600 byte. \n\n \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,125\u00b0? -15 Metros 25 Metros \n\nTabela E.3: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o utilizando o cen\u00e1rio \n\napresentado na figura E.5. \n\n \n\n  \n\n\n\nAnexo \n\n 157 \n\n \n\n \n\nTeste Average Throughput \n\n \n\n \n\n \n\nTeste Normalized Throughput \n\n \nTeste Sucess Ratio \n\n \n\nTeste  Applictattion Success Ratio \n\n \nTeste  Overhead \n\n \n\nTeste  Number of Sent Packets \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n \n\n 158 \n\n \n\n \n\nTeste  Number of Received Packets \n\n \n\n \n\n \n\nTeste Application Layer Packet Loss \n\nRatio \n\n \n\nFigura E.6: Resultados obtidos do cen\u00e1rio apresentado na figura E.5 \n\nE.1.4. Arquitetura assim\u00e9trica para tamanho pacote 50 byte \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,125\u00b0? -15 Metros 25 Metros \n\nTabela E.4: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o utilizando o cen\u00e1rio \n\napresentado na figura E.5. \n\n \n\nTeste Average Throughput \n\n \n\nTeste Normalized Throughput \n\n \n\n\n\nAnexo \n\n 159 \n\n \n\n \n\n \n\nTeste Sucess Ratio \n\n \n\n \n\n \n\n \n\nTeste  Applictattion Success Ratio \n\n \nTeste  Overhead \n\n \n\nTeste  Number of Sent Packets \n\n \n\nTeste  Number of Received Packets \n\n \n\nTeste Application Layer Packet Loss \n\nRatio \n\n \n\nFigura E.7: Resultados obtidos do cen\u00e1rio apresentado figura E.5. \n\n \n\n \n\n\n\n \n\n 160 \n\nE.2. An\u00e1lise comparativa dos protocolos MAC para 4 n\u00f3s \n\nemissores e 1 recetor \n\nE.2.1. Arquitetura sim\u00e9trica para tamanho pacote 600 byte \n\n \n\nFigura E.8: Cen\u00e1rio utilizado na simula\u00e7\u00e3o dos protocolos considerando o n\u00f3 4 como recetor. \n\n \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,125\u00b0? -15 Metros 25 Metros \n\n3 42,59\u00b0? 10,130\u00b0? -15 Metros 475 Metros \n\n4 42,59\u00b0? 10,128\u00b0? -15 Metros 250 Metros \n\nTabela E.5: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o utilizando o cen\u00e1rio \n\napresentado na figura E.8. \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 161 \n\n \n\n \n\nTeste Average Throughput \n\n \n\nTeste Normalized Throughput \n\n \nTeste Sucess Ratio \n\n \n\nTeste  Applictattion Success Ratio \n\n \nTeste  Overhead \n\n \n\nTeste  Number of Sent Packets \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n \n\n 162 \n\nTeste  Number of Received Packets \n\n \n\nTeste Application Layer Packet Loss \n\nRatio \n\n \n\nFigura E.9: Resultados obtidos do cen\u00e1rio apresentado na figura E.8. \n\nE.2.2. Arquitetura assim\u00e9trica para tamanho pacote 600 byte \n\n \n\nFigura E.10: Cen\u00e1rio utilizado na simula\u00e7\u00e3o dos protocolos considerando o n\u00f3 2 como recetor. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 163 \n\nN\u00f3  Latitude  Longitude Profundidade \n\n(metros) \n\nDist\u00e2ncia \n\n0 42,59\u00b0? 10,125\u00b0? -80 Metros 0 Metros \n\n1 42,59\u00b0? 10,131\u00b0? -80 Metros 500 Metros \n\n2 42,59\u00b0? 10,128\u00b0? -15 Metros 25 Metros \n\n3 42,59\u00b0? 10,130\u00b0? -15 Metros 475 Metros \n\n4 42,59\u00b0? 10,125\u00b0? -15 Metros 250 Metros \n\nTabela E.6: Coordenadas e profundidades dos n\u00f3s utilizados na simula\u00e7\u00e3o utilizando o cen\u00e1rio \n\napresentado na figura E.10. \n\n \n\nTeste Average Throughput \n\n \n\nTeste Normalized Throughput \n\n \nTeste Sucess Ratio \n\n \n\nTeste  Applictattion Success Ratio \n\n \n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\n \n\n 164 \n\nTeste  Overhead \n\n \n\nTeste  Number of Sent Packets \n\n \n\n \n\nTeste  Number of Received Packets \n\n \n\n \n\nTeste Application Layer Packet Loss \n\nRatio \n\n \n\nFigura E.11: Resultados obtidos do cen\u00e1rio apresentado na figura E.10. \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n \n\n\n\nAnexo \n\n 165"}]}}}