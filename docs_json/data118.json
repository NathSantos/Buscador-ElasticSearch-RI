{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BT.04677"}, {"@name": "filename", "#text": "BTP_1973_16_3_07_Programacao_de_oleo.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "PLANEJAMENTO\nprograma\u00e7\u00e3o de \u00d3leo combust\u00edvel\npor cabotagem\nCarlos Alberto Silva de Azevedo (*)\nRamiro de Araujo Almeida Sobrinho (**)\nSINOPSE \u2014 0 Programa de \u00f3leo Combust\u00edvel por Cabotagem, que visa atender os pedidos das companhias distribuidoras,/ desenvolve-se em refer\u00eancia \u00e0 costa brasileir\u00e3rtendoem-vistaalguns requisitos e pressupostos alguns dados conhecidos. Consideram-se dois tipos de \u00f3leo: o de alto e o de baixo ponto de fluidez. A vig\u00eancia da programa\u00e7\u00e3o \u00e9 de trinta dias, com Twrizonte~tte~sessenta. Jogando com n\u00famero de rotas, tipos de navios, refinaria de origem e a de destino, tempo de viagem, portos de escala, dist\u00e2ncias entre cada porto e a refinaria de origem, estabelecem-se os v\u00e1rios esquemas e opera\u00e7\u00f5es das rotas.\n(*) T\u00e9cnico da Assessoria de Pesquisa Operacional, Servi\u00e7o de Organiza\u00e7\u00e3o (PESOP/SEOEG-) \u2014 PETROBR\u00c1S.\n(**) T\u00e9cnico da Companhia Telef\u00f4nica Brasileira (CTB).\nCarlos Alberto Silva de Azevedo, Engenheiro Eletricista forma\u00e3o pela Escola Nacional \u00e3e Engenharia \u00e3a Nniversi\u00e3a\u00e3e Fe\u00e3eral \u00e3o Eio \u00e3e Janeiro (1969), ingressou na PETBOBEAS no ano \u00e3e 1970, atrav\u00e9s \u00e3o Curso \u00e3e Importa\u00e7\u00e3o e Suprimento \u00e3e Petr\u00f3leo e Deriva\u00e3os. Analista \u00e3e Pesquisa Operacional, \u00e3es\u00e3e a sua a\u00e3miss\u00e3o na Empresa est\u00e1 lota\u00e3o no Servi\u00e7o \u00e3e Organiza\u00e7\u00e3o (SEOEG), on\u00e3e atualmente chefia o Setor \u00e3e An\u00e1lise e Processamento \u00e3a Informa\u00e7\u00e3o, \u00e3a Assessoria \u00e3e Pesquisa Operacional (SEPBI/PESOP).\nRamiro de Araujo Almeida Sobrinho, Engenheiro Industrial Mec\u00e2nico forma\u00e3o pela Pontif\u00edcia Nniversi\u00e3a\u00e3e Cat\u00f3lica (1962) e Engenheiro \u00e3e Petr\u00f3leo forma\u00e3o pela Nniversi\u00e3a\u00e3e \u00e3a Bahia (1964), obteve o t\u00edtulo \u00e3e Master of Science em Engenharia Mec\u00e2nica, pela Escola Gra\u00e3ua\u00e3a \u00e3e Ci\u00eancias em Engenharia, \u00e3a Nniversi\u00e3a\u00e3e Pontif\u00edcia Cat\u00f3lica (1965), on\u00e3e lecionou \u00e3e 1964-1968, e cr\u00e9\u00e3itos para Master of Science no Instituto Tecnol\u00f3gico \u00e3e Aeron\u00e1utica (1969). Des\u00e3e 1970 leciona na Escola Nacional \u00e3e Ci\u00eancias e Estat\u00edstica. Trabalhou na Empresa primeiramente como T\u00e9cnico .... (1963-1964) e \u00e3epois na Assessoria \u00e3e Pesquisa Operacional \u00e3o Servi\u00e7o \u00e3e Organiza\u00e7\u00e3o (PESOP/SEOEG), como Analista \u00e3e Pesquisa Operacional (1966-1971). Dessa \u00e9poca para c\u00e1 vem \u00e3esempenhan\u00e3o a fun\u00e7\u00e3o \u00e3e T\u00e9cnico em Computa\u00e7\u00e3o, na Companhia Telef\u00f3nica Brasileira (CTB).\n1\t\u2014 INTRODU\u00c7\u00c3O\nO programa do suprimento nacional dos derivados de petr\u00f3leo, realizado pelo Departamento Comercial desta Empresa, desde a sua cria\u00e7\u00e3o, visa atender os pedidos das companhias distribuidoras. A programa\u00e7\u00e3o \u00e9 manual, onde se procura manter, da melhor forma poss\u00edvel, o sistema em funcionamento. Para isto n\u00e3o se obedece a nenhum crit\u00e9rio r\u00edgido de decis\u00f5es.\nDevido \u00e0s dificuldades inerentes ao servi\u00e7o, programa-se para um horizonte pequeno (uma semana).\nCom o passar do tempo, o crescimento da Empresa e de todo o sistema envolvido no abastecimento nacional veio tornar bastante complexa esta programa\u00e7\u00e3o, agora com um n\u00famero muito maior de vari\u00e1veis a serem consideradas.\nO conhecimento cada vez maior, pelos executivos de nossa Empresa, dos resultados obtidos com o emprego de t\u00e9cnicas de pesquisa operacional como instrumento de decis\u00e3o, levou o Departamento Comercial a procurar a Assessoria de Pesquisa Operacional, para que esta apresentasse uma solu\u00e7\u00e3o matem\u00e1tica.\nDadas as caracter\u00edsticas do problema, foi utilizada a t\u00e9cnica de simula\u00e7\u00e3o.\nO programa foi dividido em tr\u00eas partes.\nUma delas destinada ao suprimento de G\u00e1s Liquefeito, outra ao do Oleo Combust\u00edvel, e uma terceira ao dos derivados claros (Gasolina, Querosene e Diesel).\nEstudaremos aqui apenas o modelo para a programa\u00e7\u00e3o do suprimento do \u00d3leo Combust\u00edvel, deixando as demais para uma outra apresenta\u00e7\u00e3o, devido ao volume de informa\u00e7\u00f5es que cada modelo exige.\n2\t\u2014 CARACTER\u00cdSTICAS DO SISTEMA\nO sistema sobre o qual dissertaremos ser\u00e1 a costa brasileira, com seus onze portos capazes de receber os produtos, tr\u00eas refinarias que no momento\nexportam os derivados e seis navios da frota destinados a este servi\u00e7o.\nComo ser\u00e1 poss\u00edvel observar, o modelo em quest\u00e3o n\u00e3o se'prop\u00f5e a fazer dimensionamento algum no sistema. Nem no tamanho da frota, nem nas ' tancagens dos portos ou refinarias, e tampouco na produ\u00e7\u00e3o destas. Tudo isto \u00e9 considerado conhecido, e, caso haja alguma diverg\u00eancia sobre estas dimens\u00f5es, prop\u00f5e-se seja o problema estudado \u00e0 parte, com um modelo espec\u00edfico para cada caso. Na melhor das hip\u00f3teses, o nosso modelo poder\u00e1 acusar uma defici\u00eancia em um dos componentes do sistema, mas dificilmente poder\u00e1 dimension\u00e1-lo.\nSegundo crit\u00e9rios os mais diversos, fez-se um levantamento de alguns requisitos imprescind\u00edveis \u00e0 programa\u00e7\u00e3o. S\u00e3o eles:\n1)\tEm nenhum porto do nosso sistema dever\u00e1 faltar produto\n2)\tConv\u00e9m ser o menor poss\u00edvel o n\u00famero de navios parados\n3)\tNenhuma refinaria dever\u00e1 ter sua carga diminu\u00edda\n4)\t\u00ca necess\u00e1rio que seja minimizado o custo de suprimento do sistema.\nS\u00e3o conhecidos os dados a seguir (vari\u00e1veis de estado):\n1)\tTancagem, produ\u00e7\u00e3o di\u00e1ria para os tr\u00eas meses seguintes e o estoque m\u00ednimo permitido a uma refinaria;\n2)\tTancagem, consumo di\u00e1rio para os tr\u00eas meses subseq\u00fcentes e estoque m\u00ednimo aludido aos portos;\n3)\tCapacidade, calado e velocidade dos navios;\n4)\tDist\u00e2ncia entre portos e refinarias.\nNOTA: O esto qua m\u00ednimo para um porto \u00ea determinado pelo consumo e pela sua dist\u00e2ncia em rela\u00e7\u00e3o \u00e0 refinaria mais pr\u00f3xima. Isto lhe garante o abas..\t. tecimento em casos de emerg\u00eancia.\nPara o \u00f3leo combust\u00edvel, dois tipos foram considerados: o de alto ponto de fluidez (APF) e o de baixo ponto de fluidez (BPF). A mudan\u00e7a prevista para uma outra classifica\u00e7\u00e3o \u2014 a de \u00f3leo de baixo (BTE) e de alto teor de enxofre (ATE) \u2014 n\u00e3o trar\u00e1 maiores problemas, e est\u00e1 aguardando, apenas, uma confirma\u00e7\u00e3o do Departamento Comercial neste sentido.\nFar-se-\u00e1 uma programa\u00e7\u00e3o para trinta dias, com um horizonte de 60.\nOutro dado de entrada necess\u00e1rio \u00e0 nossa programa\u00e7\u00e3o \u00e9 um conjunto de rotas, resultado de uma programa\u00e7\u00e3o linear, onde se geram todas as rotas poss\u00edveis, com os seus respectivos custos. S\u00e3o selecionadas as mais econ\u00f4micas, e a programa\u00e7\u00e3o \u00e9 levada a efeito fazendo-se uso delas. Isto dever\u00e1 garantir o cumprimento do quarto requisito apresentado.\nUma rota se comp\u00f5e dos seguintes itens:\n1)\tN\u00famero \u2014 todas elas s\u00e3o numeradas para fins\nde refer\u00eancia posterior;\n2)\tClasse \u2014 indica os tipos de navios que podem\nexecutar a rota devido a problemas de calado e operacionalidade n\u00f3s portos que a comp\u00f5em;\n3)\tOrigem \u2014 refinaria (terminal) onde o navio se\nencontra;\n4)\tDestino \u2014 refinaria \u00e0 qual se destina o navio\nap\u00f3s a descarga nos portos;\n5)\tDura\u00e7\u00e3o \u2014 tempo total gasto pelo navio pa-\nra executar a rota (carregar, chegar aos portos, descarregar e retornar ao destino).\n6)\tPortos \u2014 portos nos quais o navio atraca\nquando executa a rota.\n7)\tDist\u00e2ncia\u2014 dist\u00e2ncia entre a origem e cada\nporto da rota. Este tempo \u00e9 calculado em dias, pois a dist\u00e2ncia e a velocidade do navio s\u00e3o da-\ndos conhecidos.\t\t\nExemplo:\t\t\nN\u00famero\tClasse Origem Destino\tDura\u00e7\u00e3o\n7\t1\tMADRE REDUC\t5\nPorto\tDist\u00e2ncia\t\nSantos\t3\t\nEsta rota, por exemplo, \u00e9 a de n\u00famero sete, classe um. Sai de Madre de Deus, na Bahia, retorna para a Refinaria Duque de Caxias (REDUC), no Rio, e descarrega, apenas, no porto de Santos. Seu per\u00edodo de dura\u00e7\u00e3o \u00e9 de cinco dias, levando tr\u00eas para ir de Madre de Deus a Santos.\n\u00ca poss\u00edvel se trabalhar com estas rotas de forma a abrir ou fechar a programa\u00e7\u00e3o tantas vezes quanto se queira, aumentando ou diminuindo a \u00e1rea de influ\u00eancia de determinada refinaria.\nPortos = {Pi, . .,P,}\nRefinarias {Pi, ..., Rm}\nZi = zona de influ\u00eancia da refinaria Ri\nNo nosso sistema n = 11 e m = 3\nSe quisermos limitar ao ret\u00e2ngulo do desenho Zi a \u00e1rea de influ\u00eancia da refinaria Pi, por exemplo, basta retirar do modelo as rotas oriundas desta refinaria e com destino a portos fora desta zona.\nVale ressaltar que a refinaria de destino de uma rota n\u00e3o precisa ser a mesma de origem.\nRj Rs j =&lt;1...ml 3 X....ml\nRota \u00e9 uxna \u00eanupla definida da seguinte forma: Rotafc = (K, Ck, Rj, Rs, T, Pi, ti, .. .,Pn, tn)\nonde:\nK = n\u00famero de rota\nCic = classe da rota K\nRj\t=\trefinaria\tde\torigem\nRs\t=\trefinaria\tde\tdestino\nT\t=\ttempo total\tda rota\nPi\t=\tporto i\nti = tempo em dias para se chegar ao porto Pj da refinaria R,\nPor crit\u00e9rio de operacionalidade da frota, atualmente o n\u00famero m\u00e1ximo de portos em uma rota \u00e9 tr\u00eas (n &lt;3)\n3\t\u2014 PROGRAMA\u00c7\u00c3O DO\nTRANSPORTE DE \u00d3LEO COMBUST\u00cdVEL POR CABOTAGEM\nO programa desenvolvido para a utiliza\u00e7\u00e3o do modelo segue o seguinte procedimento. Primeiramente s\u00e3o lidos os dados de entrada informando sobre o estado inicial do sistema, ou seja, o estoque de abertura nos portos e refinarias, o consumo e a produ\u00e7\u00e3o previstos e a disponibilidade de programa\u00e7\u00e3o dos navios. Com isto \u00e9 poss\u00edvel se tra\u00e7ar uma curva mostrando a evolu\u00e7\u00e3o dos estoques caso n\u00e3o haja programa\u00e7\u00e3o alguma. Em seguida ordenam-se os navios conforme seus tempos de compromisso (tempo mais cedo, a partir do qual o navio estar\u00e1 dispon\u00edvel para programa\u00e7\u00e3o).\nSe o primeiro navio chegar depois do horizonte de tempo estabelecido para a programa\u00e7\u00e3o, o programa p\u00e1ra; p\u00e1ra, tamb\u00e9m, caso a disponibilidade em uma refinaria ultrapasse sua tancagem, ou a vida (estoque de produto expresso em dias de consumo) em um porto seja nula.\nEm seguida ordenam-se os portos segundo suas vidas e tenta-se atribuir rotas aos navios. Para que isso se torne poss\u00edvel, uma s\u00e9rie de exig\u00eancias dever\u00e1 ser cumprida, tais como a compatibilidade entre a origem da rota (refinaria na qual a rota come\u00e7a) e o destino do navio, a classe da rota (calado e condi\u00e7\u00f5es de operacionalidade) e a do navio, o produto consumido pelos portos que comp\u00f5em a rota e o produto atribu\u00eddo ao navio, etc. ...\nDepois de atribu\u00eddas as rotas, tenta-se gerar seq\u00fc\u00eancias de rotas exequ\u00edveis, ou seja, dado que uin navio executou uma rota, o pr\u00f3ximo procurar\u00e1 executar outra compat\u00edvel com a primeira, e assim sucessivamente. Isto nem sempre \u00e9 poss\u00edvel, pois a descarga de um navio num porto pode diminuir seu espa\u00e7o dispon\u00edvel deforma tal que o navio seguinte n\u00e3o consiga descarregar. Se nenhuma seq\u00fc\u00eancia for formada, escolhe-se a melhor rota para o primeiro navio. Entende-se por melhor rota aquela que atenda ao maior n\u00famero de portos cr\u00edticos (de menor vida) .\nSe, ao contr\u00e1rio, forem formadas, todas as seq\u00fc\u00eancias s\u00e3o analisadas, e aquela que conseguir atender o sistema com maior horizonte em menor tempo \u00e9 escolhida para programa\u00e7\u00e3o. Finalmente os dados s\u00e3o atualizados e o programa recome\u00e7a a programa\u00e7\u00e3o para um novo per\u00edodo.\n4\t\u2014 DESCRI\u00c7\u00c3O SIMPLIFICADA DO\nFUNCIONAMENTO DO MODELO DE PROGRAMA\u00c7\u00c3O\nExistem dois tipos de informa\u00e7\u00f5es para o modelo.\nO primeiro corresponde a dados que variam conforme cada nova corrida, tais como: estoque\ninicial e consumo nos portos e refinarias, carregamentos e descargas obrigat\u00f3rias, e situa\u00e7\u00e3o dos navios.\t~\nComo situa\u00e7\u00e3o dos navios temos a refinaria para onde cada um se dirige no in\u00edcio da programa\u00e7\u00e3o, e em que data chegar\u00e1 ao destino.\nO segundo corresponde aos dados que n\u00e3o variam a cada corrida, mas sim com a evolu\u00e7\u00e3o do sistema. Por exemplo: tancagem nos portos e refinarias, n\u00famero de navios da frota, de portos, de refinarias e rotas poss\u00edveis de serem executadas.\nOs dados que variam a cada corrida s\u00e3o lidos em cart\u00f5es cada vez que o programa corre.\nOs dados que dimensionam o sistema est\u00e3o num BLOCK DATA, e sempre que se deseje alter\u00e1-los; deve-se faz\u00ea-lo nesta sub-rotina; depois de realizadas as altera\u00e7\u00f5es, o programa dever\u00e1 ser catalogado novamente.\nAntes de iniciar a descri\u00e7\u00e3o, conv\u00e9m apresentar o fluxograma do modelo, para facilitar a compreens\u00e3o dos leitores.\nFig. 3\n. 5 \u2014 DESCRI\u00c7\u00c3O DO FLUXOGRAMA\n5.1\t\u2014 SUB-ROTINA SLEITU\nComo se pode observar no diagrama de blocos, a primeira sub-rotina executada \u00e9 a SLEITU, que \u00e9 a sub-rotina (S) de leitura (LEITU). \u00c9la n\u00e3o s\u00f3 l\u00ea os dados de inicia\u00e7\u00e3o, como constr\u00f3i as curvas de estoque de produto nos portos e refinarias, levando em conta as descargas e carregamentos obrigat\u00f3rios.\nEstes carregamentos e descargas obrigat\u00f3rios constituem uma ferramenta com a qual o usu\u00e1rio pode influir na programa\u00e7\u00e3o. O modelo n\u00e3o tem nenhuma interfer\u00eancia neste tipo de programa\u00e7\u00e3o, que serve apenas para atualizar o estoque no porto (descarga no porto considerado) ou numa refinaria (carregamento obrigat\u00f3rio nesta refinaria), pois \u00e9 encarada como uma programa\u00e7\u00e3o obrigat\u00f3ria. E imprime toda a situa\u00e7\u00e3o inicial do sistema, sua dimens\u00e3o e as curvas de estoque.\nDepois de executada, dar-se-\u00e1 o acesso ao estoque, em qualquer dia, num porto ou refinaria do sistema, antes da programa\u00e7\u00e3o.\nTANCAGEM\nFig. 4\nFig. 5\nContinuando, o programa conta o primeiro dia (interno) para programa\u00e7\u00e3o, e chama a sub-rotina SORDEM (1).\n5.2\t\u2014 SUB-ROTINA SORDEM\nEsta sub-rotina faz duas ordena\u00e7\u00f5es no nosso sistema, dependendo do seu argumento K. No caso de ser um (K = 1) ordenar\u00e1 os navios em ordem crescente em rela\u00e7\u00e3o aos \u25a0 seus tempos de compromisso, ou os portos (K = 2) em ordem crescente com base nos seus estoques medidos em dias de consumo (vida do porto). .\nDepois de estarem os navios ordenados, o dia posterior para onde nossa simula\u00e7\u00e3o avan\u00e7ar\u00e1 \u00e9 determinado pelo primeiro navio a chegar a alguma origem, pois \u00e9 o primeiro evento da simula\u00e7\u00e3o. Verifica-se se este dia est\u00e1 dentro do horizonte de programa\u00e7\u00e3o (30 dias); em caso negativo o programa \u00e9 finalizado pela sub-rotina (SAIDA), que imprime a situa\u00e7\u00e3o do sistema naquele instante, ou prossegue com a STESTE.\n5.3\t\u2014 SUB-ROTINA STESTE\nTesta-se em uma refinaria, at\u00e9 o dia mais cedo previsto para programa\u00e7\u00e3o (DIA), se a disponibilidade em alguma outra ultrapassa a sua tan-cagem. Se isto ocorre, a programa\u00e7\u00e3o se torna imposs\u00edvel, pois nenhum navio chegar\u00e1 \u00e0 refinaria a tempo, e o programa p\u00e1ra, imprimindo esta mensagem para que o problema seja contornado. Caso contr\u00e1rio,\u2019o programa prossegue com a SVIDDA.\n5.4\t\u2014 SUB-ROTINA SVIDDA\nNesta parte do programa calculam-se as vidas de todos os portos referentes aos produtos APF e BPF, guardando-se a menor vida e o seu respectivo produto.\nTesta-se em seguida se a vida em algum porto, naq\u00fcele dia de programa\u00e7\u00e3o, \u00e9 menor ou igual a zero; caso se confirme, a programa\u00e7\u00e3o \u00e9 imposs\u00edvel, e o programa p\u00e1ra; se n\u00e3o, a sub-rotina SORDEM\n(2)\t\u00e9 chamada, agora para ordenar os portos. Feito isto o porto 1 ser\u00e1 o porto mais cr\u00edtico, e n\u00e3o mais o primeiro porto do sistema em ordem de entrada.\n\u00c0 parte mais importante do modelo tem in\u00edcio agora com a sub-rotina SMATRI.\n5.5\t\u2014 SUB-ROTINA SMATRI\nAqui, duas matrizes s\u00e3o preenchidas com rotas. Uma .de APF e outra de BPF.\nDepois de ordenados segundo seus tempos de compromisso (ver SORDEM (1)) os navios s\u00e3o colocados nesta matriz, formando suas colunas. Assim, a cada coluna, fica associado um navio com sua respectiva refinaria de-origem e-o dia indicando sua chegada. E'' cada elemento da matriz ser\u00e1 uma rota poss\u00edvel de ser executada pelo navio da coluna.\n19 N A V ! 0\t22 N A V 1 0\t\t\t\tN9 N A V 1 0\nIO\t0\t\t1 1 \u00ab\t\t3\n5\t0\t\u2014\t1 Rijk\t\t5\n3\t0\t\t\t\t15\n\t\t\t\t\t\nAPF\nK = 1\n|9 N A V 1 0\t22 N A V 1 0\t\t\tN9 N A V 1 0\n13\t10\t\t\t0\n15\t21\t\t\t0\n3\t4\t\t\t0\nFig- 6\nBPF\nK=2\nEsta sub-rotina testa que rotas pode um determinado navio exec\u00fctar. Como j\u00e1 foi visto na introdu\u00e7\u00e3o deste trabalho, para que isso se torne vi\u00e1vel, uma s\u00e9rie de exig\u00eancias deve ser cumprida.\nLogicamente se um determinado navio (2.\u00b0 navio do exemplo) se encontra numa origem s\u00f3 de BPF (REFAP) n\u00e3o receber\u00e1 rotas numa de APF, pois um dos requisitos (compatibilidade entre o \u00edndice de produto da refinaria e da matriz) deixar\u00e1 de ser satisfeito. O inverso tamb\u00e9m \u00e9 verdadeiro.\nNo caso de uma refinaria produzir os dois produtos, e se desejar que um deles a priori seja carregado, basta mudar neste instante o \u00edndice de produtos, indicando que a refinariaria s\u00f3 produz o escolhido.\nS\u00f3 \u00e9 interressante adotar este crit\u00e9rio quando, por exemplo, a refinaria n\u00e3o disp\u00f5e de espa\u00e7o para armazenar um dos produtos \u00e0t\u00e9 que se d\u00ea a chegada do navio seguinte. Ent\u00e3o o navio que se encontrar l\u00e1 no momento dever\u00e1 retirar este produto. Para isso basta dizer-se que o \u00edndice de produto desta refinaria \u00e9 o do produto cr\u00edtico.\nNo programa \u00e9 feito um \u00edndice de produto da origem IP<\u00a3\nIP0 = 1, quando a refinaria s\u00f3 produz APF\nIP</> = 2, quando a refinaria s\u00f3 produz BPF\nIP<f> = 3, quando a refinaria produz APF e BPF\nOutro procedimento feito nesta sub-rotina \u00e9 a constru\u00e7\u00e3o de uma curva de estoque auxiliar para as refinarias onde, cada vez que se atribui a um navio, pelo menos uma rota, considera-se este como car\nregado, sendo sua carga abatida na curva, que ser\u00e1 utilizada por outra sub-rotina, SGEMEA.\nConv\u00e9m falar sobre uma sub-rotina que programa as descargas chamadas pela SMATRI, a SDESCA.\n5.6\t\u2014 SUB-ROTINA SDESCA\nPrograma a descarga em um porto, em fun\u00e7\u00e3o do seu consumo e da sua dist\u00e2ncia \u00e0 origem.\nCn' En\u2019 0\nXZKZI?\nFig. 7\nK = carga do navio;\nCi, Li = consumo e dist\u00e2ncia do porto \u00e0 origem\nEi = estoque do porto i\nSe a rota vai a n portos, a descarga em cada um \u00e9 dada pela f\u00f3rmula:\nFATOR =\t\u2022 Ci\n\u00ed= i Bi\nDescarga no Porto i\n1\nFATOR\nX K\nPode ocorrer que o espa\u00e7o dispon\u00edvel para receber produto em um determinado porto seja menor do que a descarga calculada para ele. Nestes casos, completa-se o tanque do porto em considera\u00e7\u00e3o e recalculam-se as descargas para os demais, como se o primeiro n\u00e3o mais fizesse parte da rota, e o navio tivesse carga igual \u00e0 diferen\u00e7a entre a inicial e a quantidade descarregada nesse porto.\nExemplo T,-- E\u00a3 = EP,-,\nTi = tancagem no porto i EP{ = espa\u00e7os no porto i Ei = estoque no porto i Di = descarga no porto i K = carga do navio\nSe Dt > EPi\nEnt\u00e3o faz-se Di = EPi\nK = K \u2014 Di Descarga = j (L, C, E, K)\n5.7\t\u2014 SUB-ROTINA SG\u00c9MEA\nSua finalidade \u00e9 eliminar rotas g\u00eameas, ou seja, rotas que tenham a mesma origem, os mesmos portos, mas retornam a destinos diferentes.\nFig. 8\n5.7.1 \u2014 ROTAS G\u00caMEAS\nSaem da refinaria Rj, dirigem-se aos mesmos portos, Pk, Pk+i, por\u00e9m retornam a refinarias diferentes: A jAB 5^ C. Os tempos totais destas, rotas podem ou n\u00e3o diferir. Esta sub-rotina, para cada, navio, em cada matriz, testa se determinada rota tem g\u00eamea, e qual deve ser exclu\u00edda. Naturalmente aquela cujo destino tenha vida (espa\u00e7o em dias para armazenamento) maior, para que a refinaria mais necessitada seja atendida.\nPara o c\u00e1lculo da vida, na origem, nesta sub-rotina, usou-se a curva artificial de estoques descrita na SMATRI, isto porque, quando um navio retorna \u00e0 refinaria de destino, uma s\u00e9rie de navios j\u00e1 deve ter sido carregada.\nExemplo:\nImaginemos, por exemplo, que o primeiro navio se encontre na refinaria Rlt no dia di, e o segundo na refinaria\u2019E2, no^dia d2.\nFig. 9\nE seja o tempo total da rota 15 maior do' que o da rota 13.\nNo caso de serem g\u00eameas as rotas 13 e 15, e para que se determine aquela que deve ser eliminada, \u00e9 preciso saber como o sistema evoluir\u00e1 at\u00e9 o retorno do navio, segundo cada uma delas. As rotas 13 e 15 indicam a posi\u00e7\u00e3o a ser ocupada pelo primeiro navio na matriz, caso as execute.\nS\tOrigem R2\nDestino Ei\nS\tOrigem Ri\nDestino Rs\nFig. 10\nAqui, como a vida de R2 \u00e9 maior do que a de Ri, a rota R2 sairia da matriz, dando prefer\u00eancia \u00e0 rota Ei, de cujo esquema faz parte a refinaria a ser atendida mais cedo.\nE preciso observar que somente ser\u00e3o questionadas as rotas que tiverem g\u00eamea, pois que o objetivo aqui n\u00e3o \u00e9 socorrer \u00e0 refinaria, mas sim aos portos. E ao se eliminar uma rota g\u00eamea, n\u00e3o se estar\u00e1 alterando o sistema, j\u00e1 que ambas as rotas indicam os mesmos portos.\nVerifica-se em seguida se foi atribu\u00edda alguma rota ao primeiro navio, caso n\u00e3o tenha sido, chama-se a sub-rotina SALTEE.\n5.8 \u2014 SUB-ROTIN A SALTER\nSua finalidade \u00e9 testar se o segundo e o primeiro navio chegam no mesmo dia. Se chegam, troca-se a ordem de chegada e o. programa prossegue, se n\u00e3o, acrescenta-se um dia \u00e0 programa\u00e7\u00e3o.\n12 N A V 1 0\t22 N A V 1 0\t\n0\t1 5\t\n\t3\t\n\t4\t\nL = 1,....L n\u00famero de rotas de cada navio atualmente i &lt;15\nRi1K = Ri2K\\ j=l,....,LN n\u00famero de na-\nvios; LN = 5\nK = 1,2 n\u00famero de produtos\n\nFig. 11\nHavendo rota para o primeiro navio, o programa continua, chamando-se, ent\u00e3o, a sub-rotina \u00c2SBQtlE.\n5.9\t\u2014 SUB-ROTINA SSEQUE\nEsta sub-rotina tenta gerar as seq\u00fc\u00eancias n\u00e3o s\u00f3 com rotas de uma mesma matriz, mas tamb\u00e9m com rotas de outra.\nFig. 12\nPor Exemplo: a seq\u00fc\u00eancia 10 \u2014 10 \u2014 3 \u00e9 uma seq\u00fc\u00eancia v\u00e1lida.\nO artif\u00edcio empregado foi o da constru\u00e7\u00e3o de uma terceira matriz, para onde se transcrevem as colunas das matrizes com as quais se deseja gerar as seq\u00fc\u00eancias.\n\u00dc\t2\u00bb\t\tN2\t12\t\t29\t-\tNS \u2022\t\nN\tN\t\tN\t\tH\tN\t\tn ...\nA\tA\t\tA\t\tA\tA\t\tA\nV\tV\t\tV\t\tV\tV\t\tV\n0\t0\t\t0\t\t0\t0\t\t0\nIO\t0\t\t3\tAPF\t\u2019\t13\tIO\t\t0\ns\t\t\t5\t\t15\t\u2022 21\t\t\n3 \u2019\t\t\t15\t\t3\t4\t\t\nFig. 13\n|9\t22\t\tN9\nIO\t10\t\t3\n5\t21\t\t5\n3\t4\t\tIS\nExemplo de matriz sobre a qual ser\u00e3o geradas as seq\u00fc\u00eancias (3.a MATRIZ).\nFig. 14\nPassar inicialmente da primeira para a terceira matriz as colunas cujas rotas n\u00e3o sejam de todo nulas. Se houver coluna sem nenhuma rota, verificar, ent\u00e3o, na segunda matriz, a coluna correspondente; havendo rotas, pass\u00e1-las para a terceira matriz, como se d\u00e1 no exemplo; caso contr\u00e1rio, o programa prosseguir\u00e1 e o navio correspondente \u00e0 coluna permanecer\u00e1 sem rotas.\nEm seguida tenta-se gerar as seq\u00fc\u00eancias, correndo-se inicialmente todas as rotas do primeiro navio, e mantendo-se as demais constantes. Depois a do segundo, e, assim, sucessivam\u00e9nte. Quando se esgotarem todas as seq\u00fc\u00eancias poss\u00edveis de serem geradas, copia-se no lugar da coluna de APF para o l.\u00b0 navio a de BPF na 3a. matriz. Repete-se agora para a nova matriz de gera\u00e7\u00e3o o mesmo processo j\u00e1 descrito anteriormente.\nQuando novamente se esgotarem as seq\u00fc\u00eancias, monta-se uma nova matriz, fazendo-se variar agora a coluna do segundo navio. Este processo ser\u00e1 repetido at\u00e9 que se esgotem todas as seq\u00fc\u00eancias para todas as matrizes formadas.\nCalcula-se tamb\u00e9m o menor tempo de todas \u00e0s rotas atribu\u00eddas ao l.\u00b0 navio, e todos os navios que, em rela\u00e7\u00e3o ao primeiro, chegarem com intervalo superior a este tempo n\u00e3o ser\u00e3o considerados na gera\u00e7\u00e3o de seq\u00fc\u00eancias. Isto porque o retorno do primeiro navio se daria no meio da seq\u00fc\u00eancia, perdendo esta o sentido.\nFig. 15\nH\u00c3O SER\u00c3O CONSIDERADAS\nIP N A V 1 0\t\t\t\t\t\nIO\t\t\t\t\t\n5\t\t\t\t\t\n3\t\t\t\t\t\n'\"\u2019\"\u2019\u2019\"\u2019\"\u2019{\u2019lO.'s.'s,}\nGENERALIZANDO\n1,...\n1,2\nL\nAo se tentar gerar uma seq\u00fc\u00eancia, o que estamos querendo \u00e9 que se execute a r\u00f2t\u00e1 RijK e a subse-q\u00fcente Ri(j + 1) K, ou seja, para cada seq\u00fc\u00eancia,\nverificamos se a seguinte proposi\u00e7\u00e3o, \u2014 RilK A\nA Rf\u00e0K A ... A RijK A ... A RiNK (possibilidade seq\u00fcencial de execu\u00e7\u00e3o das rotas), \u00e9 verdadeira ou falsa.\nN\u00famero de rotas atribu\u00eddas ao navio j\nN\u00famero de produtos\n1)\t\u2014 as que atendam ao maior n\u00famero de portos cr\u00edticos, na prioridade a seguir:\nIo, 2.\u00b0 e 3.\u00b0 portos cr\u00edticos\nl.\u00b0 e 2.\u00b0\n1.\t\u00b0 e 3.\u00b0\n2.\t\u00b0 e 3.\u00b0\n2.\u00b0\n3.\t\u00b0\n0 artif\u00edcio da terceira matriz nada mais \u00e9 do que uma maneira de se passar para duas um problema de tr\u00eas dimens\u00f5es.\nNa pr\u00e1tica, foram limitadas em 300 (trezentas) as seq\u00fc\u00eancias para cada matriz formada, pois ficou constatado que, quando se geram muitas seq\u00fc\u00eancias, o tempo de processamento cresce de forma consider\u00e1vel, e a solu\u00e7\u00e3o obtida praticamente n\u00e3o muda.\nEm seguida testa-se se foi gerada alguma seq\u00fc\u00eancia. Se n\u00e3o foi, uma fun\u00e7\u00e3o (FMEROT) \u00e9 chamada.\n5.10\t-- FUNQ\u00c1O FMEROT\nEsta fun\u00e7\u00e3o escolhe a melhor rota (das duas matrizes) para o primeiro navio.\nSe houver seq\u00fc\u00eancias, a SSEATU \u00e9 chamada.\n5.11\t\u2014 SUB-ROTINA SSEATU\nSua fun\u00e7\u00e3o \u00e9 selecionar as seq\u00fc\u00eancias, segundo os seguintes crit\u00e9rios:\n2)\t\u2014 dentre as que atendam ao mesmo n\u00famero de\nportos cr\u00edticos, as que contiverem mais rotas, ou seja, as que mant\u00eam o maior n\u00famero de navios operando e o sistema funcionando durante mais tempo;\n3)\t\u2014 satisfeito o -2.\u00b0 item, escolhe-se a seq\u00fc\u00eancia\nde menor tempo total, isto \u00e9, a que realiza tudo o que foi proposto em menos tempo, a fim de dar maior rotatividade aos navios. Posteriormente, o sistema \u00e9 atualizado para sua nova situa\u00e7\u00e3o, e o programa prossegue.\n6\t\u2014 CONCLUS\u00c3O\nConcluindo, podemos observar que o sistema foi mantido operando no maior espa\u00e7o de tempo poss\u00edvel, os portos foram atendidos segundo as melhores rotas, os navios tiveram sua utiliza\u00e7\u00e3o maximizada, pois operaram no maior prazo exeq\u00fc\u00edvel (maiores seq\u00fc\u00eancias), executando as menores rotas (seq\u00fc\u00eancia mais r\u00e1pida), e sempre retornaram \u00e0s refinarias mais necessitadas, permitindo-lhes manter a altura da carga. Este \u00e9 o balan\u00e7o positivo da programa\u00e7\u00e3o executada.\nSYNOPSIS \u2014 The cabotage supply system of petroleum products is concerned with refineries, harbors and ships. Our problem is to find a way to schedule these ships so that none of the consuming harbours will be without products and, also, so that. none of the refineries need to decrease their production for lack of space remaining in the tanks. All this must be done trying to minimize the total cost of the transportation involved.\nThis program deals wih the Fuel Oil (APF Sr BPF) Cabotage Programming (pattern).\t.\n(Originais recebidos em 6-XI-72.)"}]}}}