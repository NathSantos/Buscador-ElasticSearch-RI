{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BT.05598"}, {"@name": "filename", "#text": "BTP_2003_46_1_2_09_Programacao_de_distribuicao.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "PROGRAMA\u00c7\u00c3O DE DISTRIBUI\u00c7\u00c3O DUTOVI\u00c1RIA\nDE DERIVADOS DE PETR\u00d3LEO\nPIPELINE DISTRIBUTION SCHEDULE FOR\nOIL DERIVATIVES\nPROGRAMACI\u00d3NDE DISTRIBUCI\u00d3NPOR DUCTOS DE DERIVADOS DE PETR\u00d3LEO\nRubens Rejowski Junior Departamento de Engenharia Qu\u00edmica e-maik. rubens@lscp.pqi.ep.usp.br Universidade de S\u00e3o Paulo Jos\u00e9 Maur\u00edcio Pinto Department of Chemical and Biological Sciences and Engineering e-mail. jpinto@poly.edu Polytechnic University, NY, USA.\nRESUMO O caso aqui considerado \u00e9 o de uma companhia petrol\u00edfera que opera com uma refinaria e dep\u00f3sitos em locais geograficamente distintos. Um sistema dutovi\u00e1rio real de transporte de quatro produtos derivados, denominado OSBRA, que abastece cinco bases de distribui\u00e7\u00e3o nas regi\u00f5es Sudeste e Centro-Oeste a partir da refinaria REPLAN de Paul\u00ednia (SP). Para isto, \u00e9 desenvolvido um modelo de programa\u00e7\u00e3o matem\u00e1tica mista-inteira linear para um sistema dutovi\u00e1rio que deve respeitar condi\u00e7\u00f5es de balan\u00e7o de massa, de distribui\u00e7\u00e3o e de demanda pelos produtos a serem transportados e armazenados. O modelo \u00e9 baseado na formula\u00e7\u00e3o Convex-hull. Pode-se destacar como principais desafios deste trabalho o tempo de percurso dos produtos enviados da refinaria para cada base, o seq\u00fcenciamento restrito de derivados dentro do duto e o custo de bombeamento sazonal. Este \u00faltimo caracteriza-se pela varia\u00e7\u00e3o deste par\u00e2metro nos per\u00edodos de pico de utiliza\u00e7\u00e3o de energia el\u00e9trica no Pa\u00eds. Como solu\u00e7\u00e3o destes problemas devem ser conhecidas as quantidades a serem enviadas para os v\u00e1rios dep\u00f3sitos durante o horizonte de tempo de opera\u00e7\u00e3o, as quantidades dos produtos enviados aos mercados consumidores e os produtos estocados ao longo do duto.\nABSTRACT\nThe case herein considered is from an oil company which operates with a refinery and stores at geographically distinct locations. A real pipeline system for the transport offour derived products, called OSBRA, which supplies five distribution bases in the Southeast and Central-West regions, from the Paul\u00ednia Refinery - REPLAN, in the State of S\u00e3o Paulo. For this, a linear mixed integer mathematic programming model for a pipeline system was developed, which must respect the mass balance, distribution and request conditions by products to be transported and stored. The model is based on the Convex-hull formulae. The time the products take from the refinery to each base, the restricting sequencing of derivatives into the pipeline and the seasonal pumping costs can be highlighted as the main challenges of this work. This latter is characterized by this parameter variation in the peak periods of electric energy utilization in the country. As a solution for these\nproblems, the amounts to be sent to various stores during the operational time range, the amount of products sent to consumer markets and the products stored along the pipeline must be known.\nRESUMEN\nEl caso que aqu\u00ed se considera es el de una compah\u00eda petrol\u00edfera que opera con una refinaria y dep\u00f3sitos en lugares geogr\u00e1ficamente distintos. Un sistema de ductos real de transporte de cuatro productos derivados, denominado OSBRA, que abastece cinco bases de distribuci\u00f3n en las regiones Sudeste y Centro-Oeste, a partir de la Refiner\u00eda de Paul\u00ednia \u2014 REPLAN, en el estado de S\u00e3o Paulo. Para esto, se desarrolla un modelo de programaci\u00f3n matem\u00e1tica mixta-entera lineal para un sistema de ductos que debe respetar condiciones de balance de masa, de distribuci\u00f3n y de demanda para los productos a ser transportados y almacenados. El modelo est\u00e1 basado en la formulaci\u00f3n Convex-hull. Se pueden destacar como principales desafios de este trabajo el tiempo de recorrido de los productos enviados desde la refiner\u00eda hasta cada base, las secuencias pautadas, secuencia restrictiva de derivados dentro de la tuberia y el costo de bombeo por \u00e9pocas. Este \u00faltimo se caracteriza por la variaci\u00f3n de este par\u00e2metro en los per\u00edodos de pico de utilizaci\u00f3n de energ\u00eda el\u00e9ctrica en el Pa\u00eds. Como soluci\u00f3n de estos problemas deben conocerse las cantidades a ser enviadas hacia los varios dep\u00f3sitos durante el horizonte de tiempo de operaci\u00f3n, las cantidades de los productos enviados a los mercados consumidores y los productos almacenados a lo largo del ducto.\n1.\tINTRODU\u00c7\u00c3O\nAtividades referentes ao planejamento de produ\u00e7\u00e3o e de distribui\u00e7\u00e3o ganharam import\u00e2ncia a partir de 1980, quando se identificou que o ganho de qualidade, o corte de custos e o melhor atendimento aos clientes eram e ainda s\u00e3o fundamentais para um bom desempenho dentro dos mercados globais atuais. Para a Ind\u00fastria Petrol\u00edfera em especial, uma boa execu\u00e7\u00e3o destas tarefas pode proporcionar um ganho consider\u00e1vel.\nO transporte de produtos para os clientes da Ind\u00fastria Petrol\u00edfera pode ser realizado de diversas maneiras. As op\u00e7\u00f5es para esta opera\u00e7\u00e3o s\u00e3o o transporte rodovi\u00e1rio, o ferrovi\u00e1rio, o mar\u00edtimo, e por fim o transporte atrav\u00e9s de dutos. O transporte por dutos comp\u00f5e um mecanismo muito eficiente para a transfer\u00eancia de grandes quantidades de fluidos. Os dutos come\u00e7aram a ser largamente utilizados por companhias petrol\u00edferas para o transporte de petr\u00f3leo a partir de terminais, nos quais o petr\u00f3leo chega por meio de navios-tanque suprindo as refinarias, onde \u00e9 processado, dando origem a uma s\u00e9rie de produtos. O transporte de produtos derivados de petr\u00f3leo atrav\u00e9s de dutos difere dos demais sistemas por fornecer um modo cont\u00ednuo de distribui\u00e7\u00e3o, enquanto todos os outros n\u00e3o oferecem este modo de opera\u00e7\u00e3o (Sasikumar et al., )(1).\nO caso aqui considerado \u00e9 o de uma companhia petrol\u00edfera que opera com uma refinaria e dep\u00f3sitos em locais geograficamente distintos. Uma variedade de produtos \u00e9 gerada nesta planta e deve atender \u00e0s demandas em diversos centros consumidores atrav\u00e9s destes dep\u00f3sitos que, por sua vez, s\u00e3o abastecidos pela refinaria. O elemento de distribui\u00e7\u00e3o surge tanto da transfer\u00eancia de produtos e/ou intermedi\u00e1rios da refinaria quanto da transfer\u00eancia de produtos para armaz\u00e9ns regionais que devem satisfazer as demandas.\nA abordagem proposta envolve o desenvolvimento de um plano central de distribui\u00e7\u00e3o da refinaria para as distribuidoras (bases) regionais atrav\u00e9s de um duto. Al\u00e9m deste objetivo, os fatores que tornam a realiza\u00e7\u00e3o deste trabalho relevante podem ser descritos a seguir:\n\u2022\talto potencial do Pa\u00eds para a instala\u00e7\u00e3o de novas linhas dutovi\u00e1rias;\n\u2022\tos dutos s\u00e3o de vital import\u00e2ncia para a empresa respons\u00e1vel e para o Brasil;\n\u2022\tprodutos como gasolina, \u00f3leo diesel e GLP s\u00e3o consumidos em grandes quantidades no Pa\u00eds, e;\n\u2022 abertura do mercado petrol\u00edfero, atrav\u00e9s da cria\u00e7\u00e3o da Emenda Constitucional N\u00b0 9, e pela Lei N\u00b0 9478, de 06.08.1997 (Lei do Petr\u00f3leo);\nAborda-se, aqui, uma fra\u00e7\u00e3o de um sistema log\u00edstico ligado a uma refinaria. Pretende-se, ent\u00e3o, investigar formula\u00e7\u00f5es de scheduling agregadas e consistentes que levem em conta todas as restri\u00e7\u00f5es e atividades relevantes, incluindo aquelas associadas ao armazenamento e transporte de alguns dos produtos acabados de uma refinaria. Como solu\u00e7\u00e3o destes problemas devem ser conhecidas as quantidades a serem enviadas para os v\u00e1rios dep\u00f3sitos durante o horizonte de tempo de opera\u00e7\u00e3o. A seq\u00fc\u00eancia exata de opera\u00e7\u00f5es na refinaria e em cada dep\u00f3sito pode ser obtida a partir de um problema de scheduling gerado pelo problema de planejamento global.\nUm exemplo bastante interessante, e ao mesmo tempo complexo, \u00e9 o sistema composto pela Refinaria de Paul\u00ednia (REPLAN) da Petrobras, localizada em Paul\u00ednia. A ela \u00e9 conectado um duto que se estende por v\u00e1rias cidades, dentre elas Ribeir\u00e3o Preto (SP), Uberaba (MG), Uberl\u00e2ndia (MG), Goi\u00e2nia (GO) e Bras\u00edlia (DF). Este duto, que possui aproximadamente 955 quil\u00f4metros de extens\u00e3o, \u00e9 denominado pela companhia de OSBRA (Oleoduto S\u00e3o Paulo - Bras\u00edlia). Tal sistema dutovi\u00e1rio \u00e9 mostrado pela figura 1. Por ele s\u00e3o distribu\u00eddos diversos produtos gerados pela REPLAN, sendo transportados gasolina, \u00f3leo diesel, querosone de avia\u00e7\u00e3o e g\u00e1s liq\u00fcefeito de petr\u00f3leo (GLP). Este \u00faltimo \u00e9 transportado em estado l\u00edquido, atrav\u00e9s da pressuriza\u00e7\u00e3o do duto.\nUberl\u00e2ndia\nUberaba\n(M-do Consumido^ (Mercado Consumidor)\nA...A ... A A\tA...A ...A A\n1\nP-il I p\np-il I p\nMercado Consumidorjifi\nRib. Preto C7\np-ill p\n] r\n<\nREPLAN\nV\nFig. 1 - Fluxograma operacional do sistema de distribui\u00e7\u00e3o.\nFig- 1 \u2014 Distribution system operational flowchart.\n2.\tDESCRI\u00c7\u00c3O DO PROBLEMA\nSeja uma refinaria de petr\u00f3leo disposta a distribuir P produtos derivados atrav\u00e9s de um \u00fanico duto de transporte para D bases distintas, as quais est\u00e3o ligadas a mercados consumidores. Esta distribui\u00e7\u00e3o deve atender aos limites de estoques, na refinaria e nas bases de distribui\u00e7\u00e3o de produtos, \u00e0s limita\u00e7\u00f5es de vaz\u00f5es, como por exemplo a vaz\u00e3o de alimenta\u00e7\u00e3o do duto pela refinaria, ao tempo de percurso de uma dada base referente \u00e0 origem e aos requisitos dos produtos pelos clientes em quest\u00e3o.\nNo sistema pertencente \u00e0 Petrobras, tr\u00eas derivados de petr\u00f3leo s\u00e3o armazenados e transferidos da refinaria REPLAN para as bases conectadas ao duto OSBRA. Estes s\u00e3o gasolina, \u00f3leo diesel e g\u00e1s liq\u00fcefeito de petr\u00f3leo (GLP). O GLP, por sua vez, \u00e9 armazenado em esferas pressurizadas e transferido sob pressuriza\u00e7\u00e3o do duto, uma vez que em condi\u00e7\u00f5es normais de press\u00e3o este derivado se encontra em estado gasoso. A empresa ainda estuda a inclus\u00e3o do produto denominado querosene de avia\u00e7\u00e3o (QAv) neste sistema de transporte. At\u00e9 o presente momento este derivado \u00e9 transferido para algumas das bases de distribui\u00e7\u00e3o atrav\u00e9s de outros meios de transporte.\nPara os casos estudados, ser\u00e1 fixada uma taxa de produ\u00e7\u00e3o conhecida dos respectivos produtos advinda da refinaria. Na situa\u00e7\u00e3o real, a refinaria recebe de forma descont\u00ednua e programada quantidades dos referentes produtos ao longo de uma campanha de envio de derivados para as bases de distribui\u00e7\u00e3o, o que \u00e9 adapt\u00e1vel ao presente caso.\nPara melhor entendimento do funcionamento do sistema em quest\u00e3o, na figura 2 ilustra-se o fluxograma de opera\u00e7\u00f5es de um sistema dutovi\u00e1rio com D bases conectadas ao duto.\nRefinaria\nSegmento 1\nr----------V\nSegmento d\nr-------------U\nSegmento D\n\nFig- 2 - Sistema dutovi\u00e1rio de distribui\u00e7\u00e3o.\nFig. 2 \u2014 Pipeline system for distribution.\nO sistema real na refinaria REPLAN \u00e9 composto por v\u00e1rios tanques de cada produto. Os tanques aqui listados s\u00e3o somente dedicados ao oleoduto OSBRA. Segundo M\u00e1s (2), alguns dos tanques da Petrobras funcionam pelo sistema de teto flutuante. Desta forma, o n\u00edvel de um produto dentro do tanque flutua dentro do mesmo e, como conseq\u00fc\u00eancia disto, \u00e9 imposto um volume m\u00ednimo para que o dispositivo de flutua\u00e7\u00e3o n\u00e3o toque a superf\u00edcie inferior do tanque para evitar danos \u00e0 base do mesmo. Este volume m\u00ednimo \u00e9 sempre adotado pela empresa como 10 a 15% da capacidade de cada tanque, o que representa uma altura de aproximadamente dois metros de um derivado em um tanque. Exce\u00e7\u00e3o \u00e9 feita ao GLP, que \u00e9 armazenado em esferas e, portanto, possui uma capacidade m\u00ednima inferior.\nAs vaz\u00f5es de alimenta\u00e7\u00e3o do duto podem variar de valores de 650 m3/h at\u00e9 800 m3/h. Vale salientar que tanto na refinaria quanto nas bases de distribui\u00e7\u00e3o de derivados existe mais de um tanque por produto. Uma caracter\u00edstica\noperacional do sistema, que facilita o uso das capacidades agregadas em todas as localidades, \u00e9 o fato de que \u00e9 permitido a somente um tanque de qualquer produto a conex\u00e3o para a alimenta\u00e7\u00e3o ao duto. Caso fosse permitido a mais tanques do mesmo produto a alimenta\u00e7\u00e3o ao duto, esta abordagem n\u00e3o seria adequada. As vaz\u00f5es teriam de assumir valores discretos de acordo com o n\u00famero de tanques que em uma dada situa\u00e7\u00e3o estivessem conectados ao duto.\nO correto gerenciamento das bases de distribui\u00e7\u00e3o requer essencialmente uma decis\u00e3o. Esta refere-se ao envio de produtos para os respectivos mercados consumidores. As restri\u00e7\u00f5es s\u00e3o compostas pelos limites m\u00e1ximo e m\u00ednimo de volume de estocagem para os produtos, pelo tempo de percurso de uma determinada quantidade de derivado, pelas temporiza\u00e7\u00f5es de descarregamentos efetuados. Uma situa\u00e7\u00e3o em que os dep\u00f3sitos n\u00e3o possuam estoques de produtos pode afetar os consumidores locais. Uma situa\u00e7\u00e3o oposta, al\u00e9m de paralisar o escoamento no duto, pode tamb\u00e9m interromper a produ\u00e7\u00e3o da refinaria.\nO duto OSBRA, como descrito anteriormente, tem como \u00fanico ponto de alimenta\u00e7\u00e3o de derivados a refinaria REPLAN, e todas as outras bases j\u00e1 citadas anteriormente como pontos de retirada de produtos.\nAs vaz\u00f5es do duto podem variar de valores da ordem de 800 m3/h at\u00e9 1200 m3/h, exceto para o \u00faltimo trecho. \u00c9 interessante ressaltar que para todos os segmentos, exceto o primeiro, os valores de sua vaz\u00e3o podem ser reduzidos caso a base de distribui\u00e7\u00e3o do trecho anterior estiver retirando derivados ao mesmo tempo. Como conseq\u00fc\u00eancia disto, o tempo de percurso de uma determinada quantidade de um produto a uma base qualquer conectada ao duto ser\u00e1 aumentado.\nDevido ao seq\u00fcenciamento de descarregamentos de derivados de diferentes esp\u00e9cies provenientes da refinaria para o duto, \u00e9 inevit\u00e1vel que ocorram contamina\u00e7\u00f5es e perdas na regi\u00e3o entre um produto e outro, denominada de interface por Pinto et al. (3), devido ao contato entre os derivados dentro do duto. Este aspecto operacional implica em um custo adicional na opera\u00e7\u00e3o. Sasikumar et al. (1) ainda retratam o fato de existirem seq\u00fc\u00eancias proibidas de descarregamentos de diferentes produtos. Para o presente caso, uma quantidade de GLP s\u00f3 pode ser transportada entre duas outras de gasolina. Desta maneira, as seq\u00fc\u00eancias para o sistema s\u00e3o descritas pela tabela I, onde aquelas seq\u00fc\u00eancias proibidas s\u00e3o denotadas por \u201cX\u201d e as permitidas por \u201cV\u201d. Apesar de a interface \u00d3leo Diesel-Querosene de Avia\u00e7\u00e3o ser permitida, deve-se evitar o contato destes produtos, devido ao alto custo de separa\u00e7\u00e3o desta interface.\nTABELA I\nSEQ\u00dcENCIAMENTO DE PRODUTOS DENTRO DO DUTO\nTABLE I\nSEQUENCING OF PRODUCTS INSIDE THE PIPELINE\nProduto\tGasolina\tOleo Diesel\tGLP\tQAv\nGasolina\tV\tV\tV\tV\n\u00d3leo Diesel\tV\tV\tX\tV\nGLP\tV\tX\tV\tX\nQAv\tV\tV\tX\tV\nOs custos envolvidos nesta opera\u00e7\u00e3o s\u00e3o relativos \u00e0 estocagem de produtos tanto na refinaria quanto nas bases de distribui\u00e7\u00e3o, al\u00e9m dos custos de transfer\u00eancia da refinaria para uma base.\nOs custos de estocagem s\u00e3o diretamente proporcionais \u00e0s quantidades estocadas dos produtos em todos os subsistemas, al\u00e9m do tempo pelo qual estas mesmas permanecem em cada uma das localidades. Assim, cada parcela deste custo \u00e9 composta pelo produto entre a quantidade estocada de um dado derivado, a dura\u00e7\u00e3o de um dado descarregamento efetuado pela refinaria para alimenta\u00e7\u00e3o do duto, e um custo unit\u00e1rio que ter\u00e1 seu valor determinado para cada localidade do sistema.\nO custo de bombeamento \u00e9 diretamente proporcional \u00e0 quantidade enviada pela refinaria de um determinado derivado e pela dist\u00e2ncia que esta deve percorrer ao longo do duto. As parcelas componentes deste custo s\u00e3o compostas pelo produto entre a quantidade transferida de um determinado produto a uma base de distribui\u00e7\u00e3o e pelo custo unit\u00e1rio de bombeamento. Este par\u00e2metro ser\u00e1 tanto maior quanto mais distante a base estiver da refinaria.\nA parcela do custo mais dif\u00edcil de ser contabilizada \u00e9 sem d\u00favida a composta pelos custos de transi\u00e7\u00e3o. Assim como no trabalho realizado por Pinto e Joly (4), ser\u00e1 fixado um custo para cada interface presente no duto. Este custo representar\u00e1 perdas de produto dentro do duto, bem como o tratamento da interface formada por diferentes produtos, que \u00e9 realizado nas bases de distribui\u00e7\u00e3o.\n3.\tDESCRI\u00c7\u00c3O DO MODELO MATEM\u00c1TICO\nO modelo aqui proposto tem o objetivo de retratar o comportamento adequado que uma refinaria, um duto e uma ou mais bases de distribui\u00e7\u00e3o devem possuir durante a opera\u00e7\u00e3o de transporte dos referidos produtos. Para o presente caso, o modelo matem\u00e1tico deve representar uma opera\u00e7\u00e3o intermitente durante o envio dos produtos.\nPara a considera\u00e7\u00e3o inicial do sistema faz-se necess\u00e1ria a descri\u00e7\u00e3o de alguns aspectos importantes relacionados a esta opera\u00e7\u00e3o.\nPara este caso, a refinaria \u00e9 a respons\u00e1vel pela alimenta\u00e7\u00e3o do duto, e as bases s\u00e3o designadas para a retirada de derivados do mesmo. Tanto a refinaria quanto as bases de distribui\u00e7\u00e3o devem enviar ou receber, respectivamente, no m\u00e1ximo um derivado em um dado instante de tempo. Al\u00e9m disto, os tanques ser\u00e3o tratados como capacidades agregadas. Isto pode ser considerado, uma vez que na opera\u00e7\u00e3o real o alinhamento ao duto \u00e9 permitido somente a um tanque. Desta forma, a vaz\u00e3o de alimenta\u00e7\u00e3o do duto n\u00e3o \u00e9 alterada.\nPara a correta modelagem dos trechos do duto, cada um deles ser\u00e1 dividido em lotes de igual volume. Na figura 3 ilustra-se melhor esta id\u00e9ia.\nTransi\u00e7\u00e3o entre dois produtos distintos\nVODP.d,k\nLote 1 Lote 2\nH---------*+<--------H\nLote L-1 Lote L\nVOTp, d+1, k\nH-------------H\n>\nFig. 3 - Ilustra\u00e7\u00e3o de lotes de produtos em um determinado segmento d do duto.\nFig. 3 \u2014 Illustration ofproduct batches on a determined d segment of the pipeline.\nUm segmento gen\u00e9rico de um duto pode ser definido como o espa\u00e7o dutovi\u00e1rio compreendido entre a base de distribui\u00e7\u00e3o d-1 e a base d. O primeiro segmento do mesmo \u00e9 definido como o duto entre o seu ponto de alimenta\u00e7\u00e3o, que para este caso \u00e9 a refinaria, e a primeira base de distribui\u00e7\u00e3o.\nConsidere L lotes existentes em um determinado trecho gen\u00e9rico d de um duto. Cada lote cont\u00e9m apenas um produto em um dado instante. A entrada de um volume VOTp,d,k do produto p no segmento d no instante k implica em um deslocamento do produto que est\u00e1 contido dentro do primeiro lote para o seguinte. O mesmo ocorre com os demais lotes do mesmo segmento. Conseq\u00fcentemente, uma quantidade igual de produto deve ser destinada \u00e0 base de distribui\u00e7\u00e3o (VODp,dk) ou ao segmento d+1 (VOTp,d+1,k).\nAs decis\u00f5es a serem tomadas s\u00e3o as seguintes:\n\u2022\tse a refinaria deve ou n\u00e3o efetuar um descarregamento de um determinado produto p em uma quantidade igual aos lotes pertencentes ao primeiro trecho do duto;\n\u2022\tno caso de ocorrer um descarregamento, a composi\u00e7\u00e3o do lote gen\u00e9rico l no intervalo de tempo deve ser igual \u00e0 composi\u00e7\u00e3o do lote l+1 no intervalo seguinte. Ainda no caso de haver movimenta\u00e7\u00e3o, deve-se determinar o destino do lote L (\u00faltimo lote pertencente ao trecho). Este compartimento deve ser enviado \u00e0 respectiva base de distribui\u00e7\u00e3o conectada ou ao segmento subseq\u00fcente no mesmo intervalo de tempo da movimenta\u00e7\u00e3o de fluidos. No caso de envio do conte\u00fado do \u00faltimo lote para o dep\u00f3sito, todos os trechos seguintes ficar\u00e3o sem movimenta\u00e7\u00e3o;\n\u2022\tno caso de paralisa\u00e7\u00e3o de um determinado segmento, o produto que est\u00e1 contido em um dado lote em um intervalo de tempo permanece no mesmo lote no intervalo seguinte. Como conseq\u00fc\u00eancia, todos os trechos posteriores a este tamb\u00e9m ficam paralisados.\nO modelo aqui descrito utiliza a abordagem de intervalos de tempo de dura\u00e7\u00e3o uniforme. Desta forma, a opera\u00e7\u00e3o pode ser ilustrada em rela\u00e7\u00e3o ao tempo de acordo com a figura 4. Na representa\u00e7\u00e3o discreta a dura\u00e7\u00e3o dos intervalos de tempo, representados por 8, \u00e9 dada pelo m\u00e1ximo divisor comum dos tempos de processamento de uma opera\u00e7\u00e3o do problema (Shah et al,)(\\\nTempo\n-------------------------------\u25ba\n8 8 8 8 8\n\u25c4--------------------\u25ba ''' \u25c4---------------------------------------------------------------------\u25ba\nI I T...........................T..........I..........T..........1 I I I\nk=0\tk=1\tk=2\t...\tk=K-2\tk=K-1\tk=K\nFig. 4 - Representa\u00e7\u00e3o por discretiza\u00e7\u00e3o uniforme dos intervalos de tempo.\nFig. 4 \u2014 Representation by uniform discretization of time intervals.\nPara o modelo, as principais hip\u00f3teses consideradas para o sistema operacional em quest\u00e3o s\u00e3o:\nH1 - Os fluidos envolvidos nesta opera\u00e7\u00e3o possuem densidades constantes.\nH2 - O perfil de produ\u00e7\u00e3o da refinaria ao longo do horizonte de tempo operacional \u00e9 fornecido pela mesma.\nH3 - Para o sistema, de modo geral, tanto na refinaria quanto nas bases, os tanques s\u00e3o tratados como capacidades agregadas com rela\u00e7\u00e3o a um determinado produto.\nH4 - Tanto nas bases como na refinaria, somente um tanque pode estar conectado ao duto em um dado instante de tempo.\nH5 - Inicialmente, todos os segmentos do duto est\u00e3o totalmente preenchidos, assim como durante e ao t\u00e9rmino da opera\u00e7\u00e3o.\nH6 - Toda e qualquer interface de produtos, presente no duto, pode ser recebida e posteriormente tratada em qualquer base conectada ao mesmo.\nH7 - Os valores para os custos da opera\u00e7\u00e3o e as demandas de produtos em cada mercado consumidor de uma respectiva base s\u00e3o fornecidos para o horizonte de tempo. As demandas estabelecidas devem ser exatamente atendidas pelas bases de distribui\u00e7\u00e3o.\nAs restri\u00e7\u00f5es da refinaria s\u00e3o baseadas em balan\u00e7os volum\u00e9tricos dos tanques para cada produto que \u00e9 dedicado ao duto. Os termos destes balan\u00e7os s\u00e3o compostos pelas vari\u00e1veis VRp,k, que indicam o volume do derivado p na refinaria no intervalo de tempo k. A vaz\u00e3o de produ\u00e7\u00e3o da refinaria do derivado p no intervalo de tempo k \u00e9 representada pelo termo RPp,k. Na figura 5(a) mostra-se o tanque representativo da refinaria e suas vari\u00e1veis. O volume enviado ao duto \u00e9 representado pela vari\u00e1vel VORp,k, que segue o par\u00e2metro volum\u00e9trico Ud e a vari\u00e1vel bin\u00e1ria XRp,k.\nA formula\u00e7\u00e3o do duto \u00e9 baseada em rela\u00e7\u00f5es l\u00f3gicas e na formula\u00e7\u00e3o denominada Convex-hull. O uso desta oferece uma representa\u00e7\u00e3o alternativa para o estudo sistem\u00e1tico de modelos de programa\u00e7\u00e3o mista-inteira linear. Raman e Grossmann (6), Raman e Grossmann (7), Raman e Grossmann (8) e Vecchietti e Grossmann (9) abordam t\u00f3picos interessantes a respeito deste assunto. Esta formula\u00e7\u00e3o se baseia em disjun\u00e7\u00f5es lineares. O conte\u00fado dos lotes de cada segmento \u00e9 dado pela vari\u00e1vel XVp,dl,k, que indica se o lote l do segmento d armazena o produto p no intervalo de tempo k. Outra vari\u00e1vel l\u00f3gica importante a ser mencionada \u00e9 XSd,k. Ela indica se o trecho d est\u00e1 sob opera\u00e7\u00e3o no intervalo de tempo k. Finalmente, os poss\u00edveis destinos do produto contido no \u00faltimo lote do segmento d podem ser a respectiva base (XDp,dk), ou o segmento seguinte (XTp,d+1,k). Na figura 6 mostra-se um exemplo de diferentes condi\u00e7\u00f5es de opera\u00e7\u00e3o de um duto de segmento \u00fanico.\nO seq\u00fcenciamento de diferentes produtos dentro do duto \u00e9 contabilizado pela vari\u00e1vel l\u00f3gica TYdp,p-,k e pelo par\u00e2metro CONTACTpp\\ Esta vari\u00e1vel assume valores iguais a 1 quando \u00e9 identificada em cada segmento d do duto o contato entre dois produtos diferentes. Para o caso desta ser zero existem duas possibilidades. A primeira se d\u00e1 quando o derivadop \u00e9 igual aop'. A segunda possibilidade \u00e9 caracterizada quando dois derivados distintos p e p' fazem parte do conjunto FSp,p \u2022, que denota o conjunto de seq\u00fc\u00eancias proibidas dentro de cada segmento do duto. A interface \u00e9 identificada para todos os segmentos do duto e para cada intervalo de tempo da opera\u00e7\u00e3o. Para que o seq\u00fcenciamento restrito de produtos seja respeitado, \u00e9 necess\u00e1rio apenas a verifica\u00e7\u00e3o de interface entre os dois primeiros lotes de cada segmento do duto. Pinto e Grossmann (10) apresentam t\u00f3picos interessantes sobre este assunto.\nAs restri\u00e7\u00f5es das bases de distribui\u00e7\u00e3o conectadas ao duto seguem a mesma l\u00f3gica em rela\u00e7\u00e3o \u00e0s restri\u00e7\u00f5es da refinaria. A vari\u00e1vel VDp,d,k indica o volume do derivado p na base d no intervalo k. O termo de entrada em cada base d \u00e9 representado pela vari\u00e1vel VODp,d,k, que por sua vez est\u00e1 relacionada com a vari\u00e1vel XDp,d,k. O termo de sa\u00edda dos tanques \u00e9 dado pela vari\u00e1vel VOMp,d,k, que deve satisfazer exatamente os requerimentos estabelecidos por cada mercado consumidor (DEMp,d). Na figura 5(b) mostra-se um tanque representativo de uma base de distribui\u00e7\u00e3o e suas vari\u00e1veis operacionais.\nRPp,k\nVOMp,d,k\n(a) - Tanque representativo da refinaria\n(b) - Tanque representativo de uma base d\nFig. 5 - Representa\u00e7\u00e3o dos tanques da refinaria e das bases.\nFig. 5 \u2014 Representation of refinery tanks and bases.\nCondi\u00e7\u00e3o inicial do duto\nIntervalo k=0\nH-------H*------H*------H\nLote 1, p=1 Lote 2, p=2 Lote 3, p=1\nCondi\u00e7\u00e3o do duto ap\u00f3s descarregamento do produto 1\nH---------->+0----------------------H\nLote 1, p=1 Lote 2, p=1 Lote 3, p=2\nCondi\u00e7\u00e3o do duto ap\u00f3s parada\nH-------------------------------H\nLote 1, p=1 Lote 2, p=1 Lote 3, p=2\nIntervalo k=1\nIntervalo k=2\nFig. 6 - Duto de segmento \u00fanico sob diferentes condi\u00e7\u00f5es operacionais.\nFig. 6 \u2014 Single segment pipeline under different operational conditions.\nO par\u00e2metro XDMINp,d indica o n\u00famero m\u00ednimo de vezes que uma dada base d deve retirar o derivado p do duto, ao longo da opera\u00e7\u00e3o. Este par\u00e2metro leva em conta a demanda estabelecida pelo mercado consumidor ligado \u00e0 base d para o produto p, o seu estoque inicial e o volume m\u00ednimo de estocagem que deve ser respeitado.\nA fun\u00e7\u00e3o objetivo do problema de otimiza\u00e7\u00e3o desta opera\u00e7\u00e3o \u00e9 composta por quatro termos. Dois destes s\u00e3o reservados para os custos de estoque na refinaria e nas bases de distribui\u00e7\u00e3o. Eles s\u00e3o compostos por um custo unit\u00e1rio de estoque (CERp,k para a refinaria e CEDp,d,k para as bases), pela vari\u00e1vel que contabiliza o volume de cada derivado em cada localidade do sistema (VRp,k e VDp,d,k) e pelo tempo que esta quantidade \u00e9 armazenada (\u00e1). O terceiro termo representa o custo de bombeamento dos produtos para as bases. Este \u00e9 formado pela vari\u00e1vel de retirada de cada produto por parte de uma base d (VODp,d,k) e por custo de bombeamento CPp,d,k, sendo este diretamente proporcional \u00e0 dist\u00e2ncia da refinaria para a base d. O quarto e \u00faltimo termo contabiliza os custos de interface segundo a vari\u00e1vel TYp,p-d,k e o par\u00e2metro CONTACTp,p\\\n4.\tIMPLEMENTA\u00c7\u00c3O DO MODELO AO SISTEMA OSBRA\nO sistema da Petrobras \u00e9 composto por cinco bases de distribui\u00e7\u00e3o. Por\u00e9m, algumas delas n\u00e3o armazenam todos os derivados. Inicialmente, \u00e9 proposto um conjunto envolvendo os \u00edndices p e d, denominado DEPdp. Este conjunto \u00e9 dado pela tabela II. Note que o s\u00edmbolo \u201cV\u201d denota se a base d estoca o derivado p, enquanto o \u201cX\u201d mostra quando isto n\u00e3o ocorre.\nTABELA II\nCONJUNTO DEPd,p\nTABLE II\nDEPd,p SET\nBases\nDerivado\tRib. Preto (1)\tUberaba (2)\tUberl\u00e2ndia (3)\tGoi\u00e2nia (4)\tDF (5)\nGasolina (1)\tV\tV\tV\tV\tV\n\u00d3leo Diesel (2)\tV\tV\tV\tV\tV\nGLP (3)\tV\tX\tV\tV\tV\nQAv (4)\tX\tX\tX\tV\tV\nEste conjunto deve ser aplicado a qualquer produto e a qualquer base nas restri\u00e7\u00f5es pertinentes \u00e0 sa\u00edda de cada segmento e a cada base de distribui\u00e7\u00e3o.\nOutro assunto que merece aten\u00e7\u00e3o especial \u00e9 o tratamento matem\u00e1tico de segmentos com capacidades distintas. Na tabela III mostram-se as capacidades de cada segmento do duto, bem como as capacidades que foram adotadas nos exemplos mostrados a posteriori. O sistema apresenta diferentes possibilidades para o seu tratamento matem\u00e1tico. Uma possibilidade \u00e9 discretizar todos os segmentos em lotes de mesma capacidade volum\u00e9trica. Esta possibilidade, al\u00e9m de inviabilizar a implementa\u00e7\u00e3o computacional do modelo, devido ao enorme crescimento do n\u00famero de vari\u00e1veis, faz com que a opera\u00e7\u00e3o n\u00e3o seja flex\u00edvel, ou seja, somente uma das cinco bases possam retirar produtos do duto quando a refinaria alimenta o mesmo. Outra alternativa \u00e9 a discretiza\u00e7\u00e3o do sistema em lotes de capacidades volum\u00e9tricas distintas. Esta op\u00e7\u00e3o, al\u00e9m de viabilizar a implementa\u00e7\u00e3o computacional do modelo proposto, faz com que a opera\u00e7\u00e3o de distribui\u00e7\u00e3o de produtos pelo\nduto OSBRA seja flex\u00edvel. Desta forma, mais duas bases podem retirar derivados do duto, quando a refinaria efetua a sua alimenta\u00e7\u00e3o. Na figura 7 mostra-se um sistema baseado nesta id\u00e9ia.\nO sistema descrito pela figura 7 apresenta as seguintes possibilidades de opera\u00e7\u00e3o:\n\u2022\to segmento d' n\u00e3o \u00e9 alimentado pelo seu antecessor. Neste caso, n\u00e3o ocorre o deslocamento de produtos dentro deste segmento, ou seja, os produtos permanecem nos lotes em que estavam inicialmente alocados. Conseq\u00fcentemente, o segmento d\u2019+1 tamb\u00e9m permanece inativo;\n\u2022\to segmento d\u2019 \u00e9 alimentado pelo seu antecessor. Para esta situa\u00e7\u00e3o, o produto inicialmente alocado ao lote l \u00e9 deslocado para o lote l+1. Quanto ao produto contido no \u00faltimo lote deste segmento, surgem duas possibilidades:\n\u2022\to derivado pode ser enviado integralmente para a respectiva base. Neste caso, o segmento d\u2019+1 fica paralisado. Esta possibilidade faz com que a base d\u2019 retire uma quantidade Ud, do duto, que, por sua vez, \u00e9 de mesmo valor que o descarregamento efetuado pela refinaria;\n\u2022\to derivado pode ser enviado parcialmente para a respectiva base e para o segmento seguinte. Neste caso, o segmento d\u2019+1 \u00e9 alimentado por d\u2019, e, como conseq\u00fc\u00eancia, ocorre o deslocamento dos produtos nesta fra\u00e7\u00e3o do duto. Note que, neste caso, a base d\u2019 retira uma quantidade Ud\u2019-Ud\u2019+1. A soma das retiradas de derivados do duto por parte das bases subseq\u00fcentes a esta deve ser Ud+1.\nNa figura 7 mostra-se que o segmento d\u2019+1 jamais pode ter os lotes maiores do que o seu antecessor. Esta nova configura\u00e7\u00e3o operacional possibilita que mais de uma base retire produtos simultaneamente do duto, se a refinaria estiver alimentando o mesmo. A soma de todas as retiradas das bases deve ser igual ao descarregamento efetuado pela refinaria, para que a manuten\u00e7\u00e3o dos derivados contidos dentro do duto seja respeitada.\nSegmento d\u2019\nSegmento d\u2019+1\n\u25c4---------\nVOTp,d',k\nVOD\n]\nLote Ld\u2019\nUd'\nI\nUd' > Ud+1\nFig- 7 - Sistema dutovi\u00e1rio de segmentos compostos por lotes de diferentes capacidades.\nFig. 7\u2014Pipeline system of segments composed of batches with different capacities.\nPara este sistema, a vari\u00e1vel VODp,d\u2019,k \u00e9 desagregada em duas vari\u00e1veis de decis\u00e3o, XWp,d-,k e XUp,d\u2019,k- A vari\u00e1vel XWpddi indica se o produto contido no lote L, pertencente ao segmento d\u2019, \u00e9 enviado para a respectiva base e para o segmento subseq\u00fcente. A vari\u00e1vel XUpdd, indica se o derivado contido em L \u00e9 enviado integralmente para a respectiva base. na figura 8 mostra-se o funcionamento operacional do segmento d' segundo estas vari\u00e1veis e as descritas anteriormente.\nXDp,d,k\n----------M----------\u25ba\nI\nsegmento d\u2019| segmento d+1\ni\ni\nI XTP,d,k\n1 \t\u25ba 1 \u2014\t\t\u25ba |\n\tM\t\t\t\u25ba\nl\nsegmento dj segmento d\u2019+1\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\ni\nXUp,d,k\n, _jl ,\t,\n----------M-----------\u25ba\ni\nsegmento d\u2019| segmento d\u2019+1\ni\ni\nXWp,d,k\n---------M-----------\u25ba\ni\nSegmento d\u2019 | segmento d\u2019+1\ni\ni\nFig- 8 - Funcionamento operacional de segmentos intermedi\u00e1rios segundo as formula\u00e7\u00f5es propostas.\nFig. 8 \u2014 Operational running of intermediary segments according to proposed formulae.\n5.\tEXEMPLIFICA\u00c7\u00c3O DO SISTEMA\nPara mostrar a aplica\u00e7\u00e3o do modelo ao sistema OSBRA, s\u00e3o propostos dois exemplos. O primeiro, denominado E1, \u00e9 o caso base, onde a aplica\u00e7\u00e3o da estrat\u00e9gia de discretiza\u00e7\u00e3o de lotes de capacidades volum\u00e9tricas distintas \u00e9 aplicada. Em seguida, o exemplo E2 mostra uma aplica\u00e7\u00e3o onde os custos de bombeamento apresentam uma varia\u00e7\u00e3o sazonal.\n5.1.\tExemplo E1\nPara o exemplo E1, assim como para o exemplo E2, as capacidades dos segmentos adotadas no exemplo e a sua respectiva diferen\u00e7a em rela\u00e7\u00e3o \u00e0 capacidade real de cada um s\u00e3o mostradas na tabela III. Note que a diferen\u00e7a entre ambas \u00e9 pequena para todos os segmentos. O segmento Goi\u00e2nia-Bras\u00edlia possui uma capacidade de armazenamento reduzida em rela\u00e7\u00e3o aos demais. Na tabela III tamb\u00e9m mostra-se o n\u00famero de lotes por segmento, bem como as suas capacidades que s\u00e3o adotadas para os exemplos E1 e E2.\nNa tabela IV mostram-se as capacidades m\u00e1xima e m\u00ednima da refinaria e suas condi\u00e7\u00f5es iniciais para cada derivado para os exemplos E1 e E2. A capacidade m\u00ednima estabelecida para estes exemplos est\u00e1 acima do limite de 10% da capacidade de estocagem dos tanques. Isto pode ser justificado pois uma situa\u00e7\u00e3o de estoques m\u00ednimos em todas as localidades n\u00e3o \u00e9 desej\u00e1vel, devido \u00e0 brusca varia\u00e7\u00e3o da demanda dos derivados Na tabela V mostram-se os mesmos par\u00e2metros paras as bases conectadas ao duto para ambos os exemplos.\nTABELA III CAPACIDADES VOLUM\u00c9TRICAS DOS SEGMENTOS DO DUTO E DOS LOTES DE CADA SEGMENTO\nTABLE III VOLUMETRIC CAPACITIES OF PIPELINE SEGMENTS AND BATCHES OF EACH SEGMENT\nSegmento\tCapacidade Real [m3]\tCapacidade Adotada [m3]\tDiferen\u00e7a Relativa (%)\tUd [x 10-2 m3]\tLd Lotes\nREPLAN-Rib. Preto\t39759\t40000\t0,61\t50\t8\nRib. Preto-Uberaba\t25879\t25000\t3,52\t50\t5\nUberaba-Uberl\u00e2ndia\t25321\t25000\t1,27\t50\t5\nUberl\u00e2ndia-Goi\u00e2nia\t59676\t60000\t0,54\t50\t12\nGoi\u00e2nia-Bras\u00edlia\t13739\t13500\t1,74\t27\t5\nTABELA IV\nLIMITES DE CAPACIDADES E CONDI\u00c7\u00d5ES INICIAIS DE ESTOCAGEM NA REFINARIA\nTABLE IV\nLIMIT OF CAPACITIES AND INITIAL STORAGE CONDITIONS\nAT REFINERY\nDerivado\tCapacidades M\u00e1x./M\u00edn.\tCondi\u00e7\u00e3o Inicial\n\tVRMAXp,k / VRMINPk [x 10-2 m3]\tVRZEROpd [x 10-2 m3]\nGasolina (1)\t2,250/400\t1,000\nDiesel (2)\t2,500/400\t1,200\nGLP (3)\t300/50\t100\nQAv (4)\t560/150\t315\n\t\t\nTABELA V\nLIMITES DE CAPACIDADES E CONDI\u00c7\u00d5ES INICIAIS DE ESTOCAGEM NAS BASES\nTABLE V\nLIMIT OF CAPACITIES AND INITIAL STORAGE CONDITIONS AT BASES\nBase\tDerivado\tCapacidades M\u00e1x./M\u00edn. [x 10-2 m3] VDMAXp,d,k/VDMINp,d,k\tCondi\u00e7\u00e3o Inicial [x 10-2 m3] VDZEROp d\n\tGasolina (1)\t190/50\t100\n\tDiesel (2)\t270/90\t180\n\tGLP (3)\t120/20\t90\n\tQAv (4)\t0/0\t0\n\tGasolina (1)\t90/30\t40\n\tDiesel (2)\t190/50\t150\nUberaba\t\t\t\n\tGLP (3)\t0/0\t0\n\tQAv (4)\t0/0\t0\n\tGasolina (1)\t90/20\t50\n\tDiesel (2)\t270/90\t180\nUberl\u00e2ndia\t\t\t\n\tGLP (3)\t120/20\t60\n\tQAv (4)\t0/0\t0\n\tGasolina (1)\t190/50\t110\n\tDiesel (2)\t720/150\t350\nGoi\u00e2nia\t\t\t\n\tGLP (3)\t180/20\t60\n\tQAv (4)\t140/30\t90\n\tGasolina (1)\t180/50\t100\n\tDiesel (2)\t720/150\t330\nBras\u00edlia\t\t\t\n\tGLP (3)\t92/20\t60\n\tQAv (4)\t136/25\t110\nNa figura 9 mostra-se o perfil de produ\u00e7\u00e3o da refinaria ao longo da opera\u00e7\u00e3o. Note que do primeiro ao d\u00e9cimo intervalo de tempo os tanques recebem apenas gasolina e \u00f3leo diesel, enquanto que do d\u00e9cimo primeiro ao d\u00e9cimo quinto GLP e QAv s\u00e3o enviados para os tanques respons\u00e1veis pela alimenta\u00e7\u00e3o do duto.\nNa tabela VI mostram-se os par\u00e2metros para o exemplo E1. S\u00e3o mostrados os custos de estocagem para todas as localidades, os custos de bombeamento para todas as bases de distribui\u00e7\u00e3o, os custos de interface entre os produtos e as demandas estabelecidas pelos respectivos mercados consumidores. Na tabela VII mostra-se a condi\u00e7\u00e3o inicial de estocagem de cada segmento do duto para os exemplos E1 e E2.\n6\nGLP e QAv\n5\n6 1\nGasolina e Diesel\n0\t10\t20\t30\t40\t50\t60\t70\nTempo [h]\n10 20\n30\t40\t50\t60\t70\n4\n3\n2\n1\n0\n0\nTempo [h]\nFig- 9 - Perfil de produ\u00e7\u00e3o da refinaria ao longo da opera\u00e7\u00e3o.\nFig. 9 \u2014 Refinery production profile during operation.\nTABELA VI\nPAR\u00c2METROS PARA O EXEMPLO E1\nTABLE VI\nPARAMETERS FOR EXAMPLE E1\nDerivado\t\tCustos de Estocagem [$/m3.h]\t\t\t\tCustos de bombeamento [$/m3]\t\n\t\trefinaria CERp\tbases CED p,d\t\t\tCPp,1/CPp,2\tCPp,3/ CPp,4/ CPp,5\nGasolina (1)\t\t0,020\t\t0,100\t\t3,5/ 4,5\t5,5/ 6,0/ 6,9\nDiesel (2)\t\t0,023\t\t0,155\t\t3,6/ 4,6\t5,6/ 6,2/ 7,3\nGLP (3)\t\t0,070\t\t0,200\t\t4,8/ 5,7\t6,8/ 7,9/ 8,9\nQAv (4)\t\t0,025\t\t0,170\t\t3,7/ 4,7\t5,7/ 6,1/ 7,0\n\t\tCONTACTpp\u2019 [x 10-2 $]\t\t\t\tDEMp,d\t[x 10-2m3]\n\tP'=1\tp'=2\tp'=3\tp'=4\t\td=1\td=2\td=3\td=4\td=5\nP=1\t0\t30\t37\t35\t\t0\t80 80\t130\t70\nP=2\t30\t0\tX\tX\t\t100\t0 10\t200\t270\nP=3\t37\tX\t0\tX\t\t20\t0 20\t50\t20\np=4\t35\tX\tX\t0\t\t0\t0 0\t20\t50\nTABELA VII\nCONDI\u00c7\u00d5ES INICIAIS DE ESTOCAGEM DE CADA SEGMENTO DO DUTO OSBRA\nTABLE VII INITIAL STORAGE CONDITIONS OF EACH OSBRA PIPELINE SEGMENT\nDerivado\tXVZEROp,i,i [x 102 m3]\tXVZEROp.2.i [x 102 m3]\tXVZEROpj.i [x 102 m3]\nGasolina (1)\t0/0\t1 (l=1,2,3,4,5)\t1 (l=1,2,3,4,5)\nDiesel (2)\t1 (l=1,2,3,4,5,6,7,8)\t0\t0\nGLP (3)\t0\t0\t0\nQAv (4)\t0\t0\t0\nDerivado\tXVZEROp,4,i [x 10-2 m3]\t\tXVZEROp,5,i [x 10-2 m3]\nGasolina (1)\t1 (l=1,2,3,4,9,10,11,12)\t\t0\nDiesel (2)\t0\t\t1 (l=1,2,3,4,5)\nGLP (3)\t1 (l=5,6,7,8)\t\t0\nQAv (4)\t0\t\t0\nOs dois exemplos aqui mostrados discretizam uma opera\u00e7\u00e3o de aproximadamente tr\u00eas dias (75 horas) em 15 intervalos de 5 horas cada. Na tabela VIII mostra-se o desempenho computacional para o exemplo E1. A solu\u00e7\u00e3o obtida para este MILP (mixed-integer linear problem ou problema de programa\u00e7\u00e3o mista-inteira linear) est\u00e1 no m\u00e1ximo 5,8% distante da solu\u00e7\u00e3o \u00f3tima em 10000 segundos de tempo computacional (aproximadamente tr\u00eas horas). Uma caracter\u00edstica importante a ser ressaltada \u00e9 que as vari\u00e1veis XUp,dk e XWpd\u00ed podem ser colocadas como vari\u00e1veis cont\u00ednuas, pois estas sempre assumem valores iguais a 1 ou 0. Isto \u00e9 poss\u00edvel, pois a vari\u00e1vel XSdk para d=4 e d=5 sempre assumem valores iguais a 1 ou 0, uma vez que estas est\u00e3o, respectivamente, relacionadas \u00e0s vari\u00e1veis bin\u00e1rias XTp,4,k e XDp,5,k. (ver restri\u00e7\u00f5es (2.34) e (2.35) no Ap\u00eandice 2). Desta forma, a partir de uma destas restri\u00e7\u00f5es, XUp,4,k e XWp,4,k podem ser definidas como vari\u00e1veis cont\u00ednuas.\nNa figura 10 mostram-se os n\u00edveis de estoque para os derivados em todas as localidades do sistema ao longo da opera\u00e7\u00e3o de distribui\u00e7\u00e3o. De acordo com esta figura, nota-se que o duto opera durante os seguintes intervalos: k = {3, 4, 5, 7, 8, 9, 12, 14, 15}. Na figura 11 mostra-se o perfil de produtos em todos os segmentos do duto ao longo da opera\u00e7\u00e3o. Note que o seq\u00fcenciamento de derivados \u00e9 respeitado pelo modelo proposto.\nPara k=5 h\u00e1 um aumento no n\u00edvel de estoque de gasolina na base localizada em Uberaba e, como conseq\u00fc\u00eancia, os tr\u00eas primeiros segmentos do duto est\u00e3o sob opera\u00e7\u00e3o neste intervalo de tempo. A partir de k=7 todos os segmentos do duto est\u00e3o sob opera\u00e7\u00e3o quando a refinaria alimenta o mesmo, sendo que a base de Goi\u00e2nia e a de Bras\u00edlia retiram derivados do duto simultaneamente. Desta forma, observa-se que para este exemplo a vari\u00e1vel XUp,d,k n\u00e3o precisou ser ativada em nenhum momento da opera\u00e7\u00e3o.\nTABELA VIII DESEMPENHO COMPUTACIONAL PARA O EXEMPLO E1\nTABLE VIII\nCOMPUTATIONAL PERFORMANCE FOR EXAMPLE E1\nExemplo E1\t\nSolu\u00e7\u00e3o Relaxada [$ x 10-2]\t22407,752\nSolu\u00e7\u00e3o [$ x 10-2]\t23995,925\nTempo Computacional [s]\t10000\nN\u00f3s Visitados\t2286\nVari\u00e1veis Cont\u00ednuas\t6316\nVari\u00e1veis Bin\u00e1rias\t420\nEqua\u00e7\u00f5es\t9393\nTempo [h]\t.... Uberaba\n\u2014 Uberl\u00e2ndia Goi\u00e2nia Bras\u00edlia\n--------REF\n^200 -o 150 -\nx\n100\nGLP\nCO\nE\nOS\nX\n250\n200\nQAv\no\n3 O\u2019 O\nM\u2014>&lt;/)\nLU \u00f5\n>\n0\n50 -\no\n3\nO\u2019\nO\nM\u2014>&lt;/)\nJJ \u00f5\n>\n150\n100\n50\nTempo [h]\n800\n600\n400\n200\n0\nQ\trf\nTempo [h]\nFig. 10 - N\u00edveis de estoque dos derivados em todas as localidades para o exemplo E1.\nFig. 10 \u2014 Stock levels of derivatives at all locations for the example E1.\nk=15\n0 Segmento Uberaba-Uberl\u00e2ndia [x 10-2m3] 250\nFig. 11 - Perfil de transporte dos derivados no duto (exemplo E1).\nFig. 11 - Transporting profile of derivatives in the pipeline (example E1).\n0 Segmento Goi\u00e2nia-DF [x 10-2m3]\t135\n\u25a1\tGASOLINA\n\u25a1\tDIESEL\nGLP\nQAv\nBol. t\u00e9c. Petrobras, Rio de Janeiro, 46 (1/2): 134 - 166, jan./jun., 2003\n151\nOs resultados deste exemplo mostram que os n\u00edveis dos estoques nas bases de distribui\u00e7\u00e3o devem permanecer os mais baixos poss\u00edveis. Para que isto ocorra, produtos com altas demandas, como por exemplo gasolina e diesel, devem atender os mercados consumidores desde o in\u00edcio do horizonte de tempo. Estes tanques devem receber quantidades complementares do duto ao longo da opera\u00e7\u00e3o, para que a demanda seja atendida, perto do fim do horizonte de tempo.\nExiste uma situa\u00e7\u00e3o especial em que n\u00e3o h\u00e1 altera\u00e7\u00e3o de estoque de produtos de um segmento quando este estiver em regime de opera\u00e7\u00e3o. Esta ocorre quando o trecho armazena o mesmo derivado em todos os seus lotes, e \u00e9 alimentado pelo segmento anterior com o mesmo produto. Assim, a diferen\u00e7a no seu perfil de estoque n\u00e3o \u00e9 notada, por\u00e9m o segmento est\u00e1 sob opera\u00e7\u00e3o.\nA solu\u00e7\u00e3o \u00f3tima para este exemplo n\u00e3o foi alcan\u00e7ada devido a diversos fatores. Primeiramente, devido \u00e0 grande magnitude do modelo que possui mais de cinco mil vari\u00e1veis (ver tabela VIII). A estrutura do modelo tamb\u00e9m contribui para esta dificuldade em garantir o ponto \u00f3timo global do problema. Como todos os segmentos do duto devem permanecer totalmente preenchidos ao longo da opera\u00e7\u00e3o, e este possui somente um ponto de alimenta\u00e7\u00e3o que \u00e9 a refinaria, no m\u00e1ximo 21 dos 5 pontos de retirada podem ser ativados a fim de que a conserva\u00e7\u00e3o dos volumes dentro do duto seja respeitada, o que torna o sistema pouco flex\u00edvel em rela\u00e7\u00e3o \u00e0s decis\u00f5es que devem ser tomadas.\nApesar deste exemplo retratar a distribui\u00e7\u00e3o de derivados de petr\u00f3leo de um sistema de caracter\u00edsticas muito semelhantes ao sistema OSBRA, ele n\u00e3o retrata a varia\u00e7\u00e3o sazonal do custo unit\u00e1rio de bombeamento. Esta varia\u00e7\u00e3o faz com que, em muitos casos pr\u00e1ticos, o encontro de uma solu\u00e7\u00e3o vi\u00e1vel seja um desafio. Desta forma, o exemplo E2 retrata esta situa\u00e7\u00e3o para o mesmo sistema mostrado neste exemplo.\n5.2.\tExemplo E2\nO custo de bombeamento sazonal \u00e9 um dos fatores mais importantes de opera\u00e7\u00f5es dutovi\u00e1rias. A Petrobras tem encontrado muitas dificuldades para elaborar uma programa\u00e7\u00e3o eficiente nestes termos, muitas vezes devido \u00e0s grandes quantidades requeridas pelos mercados consumidores ligados aos dep\u00f3sitos. O problema sazonal deste par\u00e2metro resume-se basicamente no grande aumento do custo unit\u00e1rio nos per\u00edodos de pico de utiliza\u00e7\u00e3o de energia el\u00e9trica no pa\u00eds. Estes compreendem os intervalos das dezessete \u00e0s vinte horas em todos os dias de opera\u00e7\u00e3o. Desta maneira, pode-se definir como opera\u00e7\u00e3o \u00f3tima de distribui\u00e7\u00e3o aquela que n\u00e3o utiliza o duto dentro destes hor\u00e1rios, ou ent\u00e3o que o utiliza o m\u00ednimo poss\u00edvel e, ao mesmo tempo, satisfa\u00e7a todas as demandas dos derivados nas bases, mantendo baixos n\u00edveis de invent\u00e1rio.\nO exemplo E2 utiliza os mesmos par\u00e2metros, com exce\u00e7\u00e3o dos custos unit\u00e1rios de bombeamento para o quarto, quinto, nono e d\u00e9cimo intervalos, que s\u00e3o acrescidos em cinco vezes em rela\u00e7\u00e3o aos demais, como mostra-se na tabela IX.\nA solu\u00e7\u00e3o apresentada para este exemplo \u00e9 de boa qualidade, por\u00e9m n\u00e3o \u00e9 \u00f3tima. Na tabela X mostra-se o desempenho computacional do exemplo E2.\n1 Quando se trata de pontos dois pontos de retirada de derivados do duto, estes devem ser obrigatoriamente as duas \u00faltimas bases conectadas ao duto.\nTABELA IX VALORES PARA OS CUSTOS DE BOMBEAMENTO PARA O EXEMPLO E2\nTABLE IX\nVALUES FOR PUMPING COSTS FOR EXAMPLE E2\nIntervalos de tempo (k)\t\tGasolina (CP1>d,k\t\t[x $/m3])\t\n\tD=1\td=2\td=3\td=4\td=5\n1-3, 6-8, 11-15\t3,5\t4,5\t5,5\t6,0\t6,9\n4-5, 9-10\t17,5\t22,5\t27,5\t30,0\t34,5\nIntervalos de tempo (k)\t\t\u00d3leo Diesel (CP2,d,k [x $/m3])\t\t\t\n\tD=1\td=2\td=3\td=4\td=5\n1-3, 6-8, 11-15\t3,6\t4,6\t5,6\t6,2\t7,3\n4-5, 9-10\t18\t23,0\t28,0\t31,0\t36,5\nIntervalos de tempo (k)\t\tGLP\t(CP3,d,k [x $/m3])\t\t\n\tD=1\td=2\td=3\td=4\td=5\n1-3, 6-8, 11-15\t4,8\t5,7\t6,8\t7,9\t8,9\n4-5, 9-10\t24,0\t28,5\t34,0\t39,5\t44,5\nIntervalos de tempo (k)\t\tQAv (CP4,d,k [x $/m3])\t\t\t\n\tD=1\td=2\td=3\td=4\td=5\n1-3, 6-8, 11-15\t3,7\t4,7\t5,7\t6,1\t7,0\n4-5, 9-10\t18,5\t23,5\t28,5\t30,5\t35,0\nGasolina\n1500\n1000\n500\n0\n- Rib. Preto\nTempo [h]\t... - Uberaba\n------- Uberl\u00e2ndia\nDiesel\n1500\n1000\n500\n0\n\u00a3\t$\t\u00a3\t\u00a3\t\u00a3\t#\t4?\nTempo [h]\n\u2014\tGoi\u00e2nia\n\u2014\tBras\u00edlia\n---------REF\n250\n200\n150\n3\n100\nLU\n50\nQAv\n\nTempo [h]\n800\n600\n400\n200\n0\nFig. 12 - N\u00edveis de estoque dos derivados em todas as localidades para o exemplo E2.\nFig. 12 - Stock levels of derivatives at all locations for the example E2.\nTABELA X DESEMPENHO COMPUTACIONAL PARA O EXEMPLO E2\nTABLE X COMPUTATIONAL PERFORMANCE FOR EXAMPLE E2\nExemplo E2\t\nSolu\u00e7\u00e3o Relaxada [$ x 10-2]\t22431,130\nSolu\u00e7\u00e3o [$ x 10-2]\t24050,475\nTempo Computacional [s]\t10000\nN\u00f3s Visitados\t2287\nVari\u00e1veis Cont\u00ednuas\t6316\nVari\u00e1veis Bin\u00e1rias\t420\nEqua\u00e7\u00f5es\t9393\nk=15\nk=14\nk=13\nk=12\nk=10\nk=9\nk=8\nk=7\nk=6\nk=5\nk=3\nk=2\nk=0\nI\tI\tI\tI\tI\tI\tI\nI\tI\tI\tI\tI\tI\nI\tI\tI\tI\t  I\tI\nI\tI\tI\tI\tI\tI\nI\tI\tI\tI\tI\tI\nI\tI\tI ~------------------------------------------------ I\tI\tI\nI\tI\tI\tI\tI\tI\n0\tSegmento Uberl\u00e2ndia-Goi\u00e2nia [x 10-2 m3]\t600\n0 Segmento Goi\u00e2nia-DF [x 10-2m3] 135\n\u25a1\tGASOLINA\n\u25a1\tDIESEL\nGLP\nQAv\nFig. 13 - Perfil de transporte dos derivados no duto (exemplo E2).\nFig. 13 - Transport profile of derivatives in the pipeline (example E2).\nBol. t\u00e9c. Petrobras, Rio de Janeiro, 46 (1/2): 134 - 166, jan./jun., 2003\n155\nNote que o valor da fun\u00e7\u00e3o objetivo deste exemplo apresenta um valor aproximadamente no m\u00e1ximo 5,1% distante da solu\u00e7\u00e3o \u00f3tima. Neste exemplo, a refinaria alimenta o duto somente com \u00f3leo diesel e gasolina. O duto opera nos intervalos \u00a3={2,3,6,7,11,12,13,14,15}. Este caso possibilita o funcionamento operacional do duto em per\u00edodos diferentes daqueles que penalizam a transfer\u00eancia de produtos. Isto n\u00e3o \u00e9 poss\u00edvel para o caso de demandas altas estabelecidas pelos mercados consumidores pois, quanto maior o valor destas, maior deve ser a quantidade que as respectivas bases de distribui\u00e7\u00e3o necessitam para o seu devido atendimento. Como conseq\u00fc\u00eancia disto, maiores devem ser os volumes de derivados transportados pelo duto, de maneira que as solu\u00e7\u00f5es vi\u00e1veis pertencentes ao problema sejam compostas pelo funcionamento operacional do duto em todos os intervalos de tempo da opera\u00e7\u00e3o, inclusive nos hor\u00e1rios de pico de utiliza\u00e7\u00e3o de energia el\u00e9trica.\nNa figura 12 mostra-se o n\u00edvel dos estoques em todas as localidades ao longo do horizonte de tempo. Assim, como no exemplo E1, os estoques nas bases tendem a sofrer uma diminui\u00e7\u00e3o no seu n\u00edvel desde o in\u00edcio da opera\u00e7\u00e3o, conforme as demandas s\u00e3o atendidas. Nesta figura mostra-se que o n\u00edvel de alguns produtos permanece perto do n\u00edvel m\u00ednimo estabelecido, mesmo que a demanda n\u00e3o tenha sido totalmente atendida. Para estes casos, quantidades complementares s\u00e3o enviadas para as respectivas bases perto do fim da opera\u00e7\u00e3o. \u00c9 o caso do GLP na base de Goi\u00e2nia e do \u00f3leo diesel em Bras\u00edlia.\nNa figura 13 mostra-se o perfil de transporte para cada segmento do duto ao longo da opera\u00e7\u00e3o. Analogamente ao exemplo E1, a vari\u00e1vel XUp4k n\u00e3o precisou ser ativada, ou seja, a partir de k=11, quando a refinaria alimenta o duto, todos os segmentos do duto se encontram em regime de opera\u00e7\u00e3o.\n6.\tCONCLUS\u00d5ES\nO modelo aqui apresentado evita que modelos intrat\u00e1veis computacionalmente sejam gerados para este caso, gra\u00e7as \u00e0 abordagem de lotes de diferentes capacidades para segmentos de capacidades volum\u00e9tricas muito distintas. Um modelo matem\u00e1tico com lotes de capacidades iguais implicaria em um acr\u00e9scimo de 1400% no n\u00famero de vari\u00e1veis cont\u00ednuas, 400% em rela\u00e7\u00e3o \u00e0s vari\u00e1veis bin\u00e1rias e acresceria as equa\u00e7\u00f5es em 1500%.\nNote que para os exemplos do sistema OSBRA, as vari\u00e1veis XVpdl,k e XSdk podem ser colocadas vari\u00e1veis cont\u00ednuas. Isto fez com que a \u00e1rvore bin\u00e1ria de busca da solu\u00e7\u00e3o \u00f3tima n\u00e3o tomasse propor\u00e7\u00f5es enormes. Assim como estas, as vari\u00e1veis XUpdk e XWpdk s\u00e3o colocadas no problema como vari\u00e1veis cont\u00ednuas. Isto foi poss\u00edvel pois as vari\u00e1veis XSdk dos segmentos de Uberl\u00e2ndia-Goi\u00e2nia e de Goi\u00e2nia-Bras\u00edlia est\u00e3o relacionadas respectivamente \u00e0s vari\u00e1veis bin\u00e1rias XTpdk (vari\u00e1vel bin\u00e1ria de alimenta\u00e7\u00e3o do segmento) e XDp,dk (vari\u00e1vel bin\u00e1ria de alimenta\u00e7\u00e3o da base terminal). Assim, assegura-se que as vari\u00e1veis XSdk destes segmentos assumam valores iguais a 1 ou 0, em qualquer circunst\u00e2ncia operacional.\nOs exemplos de aplica\u00e7\u00e3o mostraram a opera\u00e7\u00e3o completa de um sistema de caracter\u00edsticas semelhantes ao sistema OSBRA. No segundo exemplo, foi ilustrada uma situa\u00e7\u00e3o onde ocorre a varia\u00e7\u00e3o sazonal do custo unit\u00e1rio de bombeamento do sistema. O exemplo gerou uma solu\u00e7\u00e3o que permite a paralisa\u00e7\u00e3o do duto nos intervalos de tempo que penalizam a opera\u00e7\u00e3o do sistema.\nO modelo aqui proposto mostra os n\u00edveis de estoque na refinaria, em todos os segmentos do duto e nas bases de distribui\u00e7\u00e3o. A representa\u00e7\u00e3o dos perfis de produtos ao longo dos segmentos do duto constitui o maior desafio deste trabalho, uma vez que o mesmo opera em modo intermitente.\nFinalmente, pode-se concluir que a abordagem sistem\u00e1tica gerada atrav\u00e9s do modelo MILP fornece excelentes perspectivas para a opera\u00e7\u00e3o de sistemas dutovi\u00e1rios de relev\u00e2ncia pr\u00e1tica.\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS\n(1)\tSasikumar, M.; Prakash, P. R.; Patil, S. M.; Ramani, S. PIPES: A Heuristic Search Model for Pipeline Schedule Generation. Knowledge - Based Systems, v.10, p.169-175. 1997.\n(2)\tM\u00e1s, R. T\u00e9cnicas de Otimiza\u00e7\u00e3o para a Distribui\u00e7\u00e3o de Petr\u00f3leo. S\u00e3o Paulo (SP) - 195p. Disserta\u00e7\u00e3o (Mestrado) - Escola Polit\u00e9cnica, Universidade de S\u00e3o Paulo. 2001.\n(3)\tPinto, J. M., Joly; M., Moro; L.F.L. Planning and Scheduling Models for Refinery Operations. Computers &amp; Chemical Engineering, v.24, p.2259-2276. 2000.\n(4)\tPinto, J.M.; Joly, M. MILP Model for Scheduling of Continuous Multiproduct Plant Distribution. 15th International Conference on CAD/CAM Robotics &amp; Factories of the Future, Campinas 1999.\n(5)\tShah, N.; Pantelides, C.C.; Sargent, W.H. Optimal Periodic Scheduling of Multipurpose Batch Plants. Annals of Operations Research, v.42, p.193-228. 1993.\n(6)\tRaman, R.; Grossmann, I.E. Relation Between MILP Modelling and Logical Inference for Chemical Process Synthesis. Computers &amp; Chemical Engineering, v.2, p.73-84. 1991.\n(7)\tRaman, R.; Grossmann, I.E. Symbolic Integration of Logic in Mixed-Integer Linear Programming Techniques for Process Synthesis. Computers &amp; Chemical Engineering, v.9, p.909-927. 1993.\n(8)\tRaman, R.; Grossmann, I.E. Modelling and Computational Techniques for Logic Based Integer Programming. Computers &amp; Chemical Engineering, v.7, p.563-578. 1994.\n(9)\tVecchietti, A.R. &amp; Grossmann, I.E. (2000). Modeling issues and implementation of language for disjunctive programming. Computers &amp; Chemical Engineering, v.24, p.2143-2155.\n(10)\tPinto, J. M.; Grossmann, I. E. Assignment and Sequencing Models for the Scheduling of Process Systems. Annals of Operations Research, v.81, p.4433-4466. 1998.\nANEXO 1\nNOMENCLATURA DOS MODELOS\nO modelo descrito utiliza a nomenclatura descrita neste anexo. Inicialmente, s\u00e3o mostrados os \u00edndices.\nd k l p (oup')\t2 Bases de distribui\u00e7\u00e3o de produtos conectadas ao duto Intervalos de tempo Lotes de um determinado trecho do duto Produtos envolvidos na opera\u00e7\u00e3o de transporte\nO modelo utiliza os conjuntos descritos a seguir.\nD DEPd,p FSpp K Ld P TSPp\t3 Bases de distribui\u00e7\u00e3o de produtos conectadas ao duto Conjunto das bases d que armazenam o derivado p Seq\u00fc\u00eancias proibidas de produtos enviados ao duto Intervalos de tempo Lotes do segmento d Produtos envolvidos na opera\u00e7\u00e3o de transporte Seq\u00fc\u00eancias poss\u00edveis totais dos produtos\nOs par\u00e2metros envolvidos neste modelo s\u00e3o descritos a seguir.\n\u00f4 CEDpd CERp\tDura\u00e7\u00e3o dos intervalos de tempo Custo de estoque do derivado p na base d Custo de estoque do produto p na refinaria\nCONTACTpp' Custo de interface entre o produtop e o produtop'\nCPp,d,k DEMp,d RPp.k Ud UMp,d VDMAXp,d,k VDMINd, VDZERO. d VRMAXpk \\RMIN- VRZEROp XVZEROpdi\tCusto de bombeamento do produto p para a base d no intervalo k Demanda do produto p imposta pelo mercado consumidor conectado \u00e0 base d Taxa de produ\u00e7\u00e3o na refinaria do produto p no intervalo k Par\u00e2metro volum\u00e9trico referente ao segmento d Par\u00e2metro volum\u00e9trico para a vari\u00e1vel VOMp, d k Capacidade volum\u00e9trica do tanque que cont\u00e9m o produto p na base d Estoque m\u00ednimo do tanque que cont\u00e9m p na base d Volume inicial do produto p na base d Capacidade volum\u00e9trica do tanque que cont\u00e9m p na refinaria Estoque m\u00ednimo do tanque que cont\u00e9m o derivado p na refinaria Volume inicial do produto p na refinaria Par\u00e2metro 0-1 que denota o conte\u00fado inicial do lote l pertencente ao trecho d\nAs vari\u00e1veis cont\u00ednuas envolvidas s\u00e3o descritas a seguir4.\nC TYp , p'd, k Vp, d, l, k VDp , d k VODpdk\tCusto da opera\u00e7\u00e3o envolvida. Vari\u00e1vel a ser minimizada Vari\u00e1vel que indica se o produto p sucede o produto p' no segmento d no intervalo de tempo k Volume do lote l pertencente ao trecho d, preenchido pelo produto p no intervalo de tempo k Volume do tanque que cont\u00e9m o produto p na base d no intervalo de tempo k Volume de p proveniente do duto para o tanque localizado na base d no intervalo de tempo k\n2\tO conceito do \u00edndice d pode ser tamb\u00e9m aplicado aos trechos de um determinado duto.\n3\tO conjunto D tamb\u00e9m pode ser aplicado a segmentos do duto.\n4\tTodas as vari\u00e1veis cont\u00ednuas listadas s\u00e3o reais e n\u00e3o negativas.\nVOMPdk\tVolume do produto p proveniente da base d para o seu respectivo mercado consumidor no intervalo de tempo k\nVORp,k\tVolume do produto p enviado do tanque localizado na refinaria para o duto no intervalo de tempo k\nVOTpdk VRp,k XSd,k XVp, d, l, k\tVolume do produto p enviado para o segmento d no intervalo de tempo k Volume do tanque que cont\u00e9m o produto p na refinaria no intervalo de tempo k Indica se houve transfer\u00eancia de produtos no segmento d no intervalo de tempo k Indica se o lote l pertencente ao trecho d est\u00e1 preenchido pelo produto p em k\nAs vari\u00e1veis bin\u00e1rias s\u00e3o as seguintes:\nXDp , d k\tIndica se o tanque na base de distribui\u00e7\u00e3o d que cont\u00e9m p recebe algum lote do duto no intervalo de tempo k\nXRpk XTp, d k XUp , d k XWpdk\tIndica se a refinaria efetua o descarregamento do produto p para o duto no intervalo de tempo k Indica se o produto p foi transferido para um trecho d no intervalo de tempo k Indica se o derivado contido em L \u00e9 enviado integralmente para a respectiva base d. Indica se o derivado contido em L \u00e9 enviado parcialmente para a respectiva base d e o segmento posterior d+1.\nAs vari\u00e1veis Booleanas s\u00e3o listadas a seguir:\nYdk Zd, k\tVerdadeira se o segmento d est\u00e1 em opera\u00e7\u00e3o no intervalo de tempo k. Verdadeira se o produto contido no \u00faltimo lote \u00e9 dividido entre a respectiva base d e o segmento d+1.\nANEXO 2\nDESCRI\u00c7\u00c3O DO MODELO DE OTIMIZA\u00c7\u00c3O\n2.1. Restri\u00e7\u00f5es Referentes \u00e0 Refinaria\nOs balan\u00e7os de massa e as capacidades volum\u00e9tricas para os tanques representativos da refinaria s\u00e3o as seguintes:\nVRp,k = VRZEROp+RPp, k x\u00f5-VORp, k\nyp, k=i\n(2.1a)\nVRp, k = VRp, k-1 + RPp, k x\u00f5 -VORp, k\nyp, k=2,...,K\n(2.1b)\nVRMINp,k &lt;VRp,k &lt;VRMAXp,k\nyp, k\n(2.2)\nAs equa\u00e7\u00f5es de balan\u00e7o de massa, tanto na refinaria como tamb\u00e9m nas bases, podem ser representadas segundo os volumes nos tanques e as vaz\u00f5es volum\u00e9tricas, como em (2.1a) e (2.1b). As capacidades m\u00ednima e m\u00e1xima volum\u00e9tricas dos tanques s\u00e3o dadas por (2.2).\nA restri\u00e7\u00e3o (2.3) representa as limita\u00e7\u00f5es para os valores de volume de sa\u00edda dos tanques representativos. Para este caso, o volume enviado pela refinaria deve ser igual ao volume dos lotes pertencentes ao primeiro segmento, dado pelo par\u00e2metro volum\u00e9trico U1.\nVORp, k = XRp, k xUi\nyp, k\n(2.3)\nA restri\u00e7\u00e3o (2.4) imp\u00f5e que no m\u00e1ximo um derivado p pode alimentar o duto no intervalo k.\n\u00a3 XRp,k&lt;1\np=i\nyk\n(2.4)\n2.2. Restri\u00e7\u00f5es Referentes aos Segmentos do Duto\nPara a modelagem do duto foi utilizada uma formula\u00e7\u00e3o do tipo Convex-hull (Raman e Grossmann (8)). As restri\u00e7\u00f5es do primeiro segmento do duto s\u00e3o baseadas nas disjun\u00e7\u00f5es dadas em (2.5).\nY i,k\n-Y i,k\nVp,i,i,k=VORp,k\typ\nVp,i,i, k = VZEROp,i,i-i\typ,l=2,...,L\nVODp,i,k+VOTp,2,k = VZEROp,i,L yp\nVp,i,i,k = VZEROp,i,i yp\nVp,i,l,k = VZEROp,i,l yp,l=2,...,L\nVODp,i,k+VOTp,2,k=0\typ\nk=i\n(2.5a)\nV\n\"\tYik\t\t\t\t_\t-Y i,k\t\nVp,i,i,k = VORp,k\typ\t\t\\ /\tVp,i,i,k=Vp,i,l ,k -i\typ\t\nVp,i,l,k = Vp,i,l-1,k-i\typ,l=2,.\t..,L\tV\tVp,i,l,k=Vp,i,l,k-i yp,l=2,.\t.,L\nVODpii, k + VOTp,2,k =\tVp,i,L,k-i\typ\t\tVODp,i,k+VOTp,2,k=0\typ_\nk=2,...,K\n(2.5b)\nA disjun\u00e7\u00e3o (2.5) funciona de acordo com o valor atribu\u00eddo \u00e0 vari\u00e1vel Booleana P1>k, que \u00e9 verdadeira para o caso de transfer\u00eancia de fluidos no segmento e falsa em caso contr\u00e1rio.. Para o primeiro lote do primeiro\nsegmento pode-se dizer que se Y1,k for verdadeira, ent\u00e3o Vp,1,1,k assume valores iguais a VORp,k, ou no caso de Y1,k ser falsa, Vp>1>1>1 toma valores iguais a VZEROpX1. Para um lote l tal que (1<l<L) no primeiro intervalo, a vari\u00e1vel Vp>1>l>1 assume o valor VZEROp,1,l-1 quando Y1:k for verdadeira ou o valor VZEROp^ em caso desta ser falsa. Para os intervalos seguintes, Vp>1>ik toma valores de Vp>1>l-1>k-1 quando Y1k for verdadeira, e quando esta for falsa Vp.\\,i.k assume valores de Vp1l,k-1. Analogamente, as vari\u00e1veis VODp11 ou VOTp>2>1 assumem o valor VZEROpXL se houver transfer\u00eancia de fluidos no primeiro intervalo, e para os demais VODp,d k ou VOTp,d+1,k tomam valores iguais a Vp1L,k-1. Se a movimenta\u00e7\u00e3o de produtos n\u00e3o ocorrer, VODp,d k e VODp,d+1,k tomam o valor nulo.\nAs disjun\u00e7\u00f5es em (2.5) devem ser transformadas em restri\u00e7\u00f5es matem\u00e1ticas para o referido sistema operacional. Desta maneira, deve-se substituir a vari\u00e1vel Booleana Y1,k por uma vari\u00e1vel de decis\u00e3o. Esta \u00e9 denotada por XS^k , que assume valores iguais a 1 no caso de transfer\u00eancia de produtos para um determinado segmento d em um intervalo k, e zero quando o conte\u00fado do mesmo trecho d permanecer parado. Desta forma, as restri\u00e7\u00f5es referentes ao primeiro segmento s\u00e3o enumeradas de (2.6) a (2.16).\n\u00a3 XRp, k = XSd, k\nP=1\nXSd, k&lt;1\nVp,d ,l ,k = XVp,d ,l ,k x\u00fcd\n\u00a3 XVp,d, I,k=1\np=1\nXVp,d ,l ,k > XRp,k\nXVp, d, i, k > XVZEROp, d, i -1 - [1 - XSd, k ]\nXVp, d, l, k > XVp, d, l -1, k -1 \u2014 [1 \u2014 XSd, k ]\nXVp, d, i, k > XVZEROp, d, i - XSd, k\nXVp, d, l, k > XVp, d, l, k -1 - XSd, k\nP\n\u00a3 [ XDp, d, k + XTp, d + 1,k ] = XSd, k\np=1\nXDp, d, k+XTp, d+1, k > XVZEROp, d, l - [1 - XSd, k ]\nXDp, d, k + XTp, d+1,k > XVp, d, l, k -1- [1- XSd, k ]\nVOTp,d, k = XTp, d ,k x\u00fcd\nVOTp, d, k = 0\nVODp,d ,k = XDp,d ,k x\u00fcd\nV k, d=1\t(2.6a)\nV d, k\t(2.6b)\nV p, d, l, k\t(2.7)\nV d, l, k\t(2.8)\nV p, k, d=1, l=1\t(2.9)\nVp,d,l=2,.,L,k=1\t(2.10a)\nVp,d,l=2,.,L,k>1\t(2.10b)\nV p, d, l, k=1\t(2.11a)\nV p, d, l, k=2,..,K\t(2.11b)\nV k, d<D\t(2.12)\nV\tp. DEPd,p, d<D , l= L, k=1 (2.13a)\nV\tp.DEPdp d<D,l= L, k>1 (2.13b)\nV p. DEPd,p ,d, k\t(2.14)\nV p, d=1, k\t(2.15)\nV p. DEPd,p ,d, k\t(2.16)\nA restri\u00e7\u00e3o (2.7) ilustra a composi\u00e7\u00e3o de cada lote l pertencente ao segmento do duto. A restri\u00e7\u00e3o (2.8) imp\u00f5e que qualquer lote l deve sempre estar preenchido por exatamente um produto em um dado instante de tempo.\nAs restri\u00e7\u00f5es (2.9) e (2.11) atuam em conjunto para a composi\u00e7\u00e3o do primeiro lote, assim como (2.10) e (2.11) valem para os demais. A condi\u00e7\u00e3o l\u00f3gica para a composi\u00e7\u00e3o do primeiro lote \u00e9 dada quando XVP1,1,k assume valores iguais a XRp,k no caso de que algum descarregamento tenha sido efetuado segundo (2.9) e, em caso\ncontr\u00e1rio, ela toma o mesmo valor do conte\u00fado do primeiro lote no instante anterior, imposto por (2.11). Para os demais lotes, no caso de transfer\u00eancia de produtos, as restri\u00e7\u00f5es (2.10) s\u00e3o ativadas, e para o caso de paralisa\u00e7\u00e3o do segmento, novamente (2.9) determinam os valores do conte\u00fado dos lotes. Note que a restri\u00e7\u00e3o (2.8) tamb\u00e9m \u00e9 fundamental para o funcionamento destas restri\u00e7\u00f5es, pois ela limita o conte\u00fado de um lote l a apenas um produto p. O derivado presente no \u00faltimo lote deste segmento pode ser enviado para a respectiva base (Xl)pdk), ou para o segmento seguinte (XTpd+1,k), segundo as restri\u00e7\u00f5es (2.12) e (2.13).\nUm aspecto interessante a ser notado nesta formula\u00e7\u00e3o \u00e9 o fato de as vari\u00e1veis XVpd ik serem definidas como cont\u00ednuas, pois estas restri\u00e7\u00f5es atribuem a elas valores um ou zero para qualquer circunst\u00e2ncia. Note que a desagrega\u00e7\u00e3o das vari\u00e1veis, segundo a formula\u00e7\u00e3o Convex-hull, seria redundante para este caso, pois quando um segmento do duto n\u00e3o \u00e9 alimentado, a respectiva base e o segmento subseq\u00fcente tamb\u00e9m permanecem inoperantes.\nAs disjun\u00e7\u00f5es lineares referentes \u00e0 opera\u00e7\u00e3o de um segmento intermedi\u00e1rio d (1<d<D) s\u00e3o dadas por (2.17).\n\u2019\tYd,k\t'\t\t\u2019\t-Yd,k\t'\nVp,d,1,k = VOTp,d,k\tVp\t\tVp,d ,1,k = VZEROp,d,1 Vp\nVp,d,i ,k = VZEROp,d,i-i\tVp,l=2,...,L\tV\tVp,d,l,k = VZEROp,d,l Vp,l=2,...,L\nVODp,d,k+VOTp,d+1,k = VZEROp,d,l Vp\t\tVODp,d, k+VOTp,d+1,k = 0\tVp\nk=1,d=2,...D-1\t(2.17a)\n\u2019\tYd,k\t'\t\t_\t-Yd ,k\t'\nVp,d,1,k = VOTp,d,k\tVp\t\\ /\tVp,d ,1,k = Vp,d,l, k-1\tVp\nVp,d,l,k = Vp,d,l-1,k-1\tVp,l = 2,...,L\tV\tVp,d,l,k = Vp,d,l,k-1 Vp,l = 2,...,L\nVODp,d ,k + VOTp,d + 1,k = Vp,d,L,k-1 Vp\t\tVODp,d ,k = 0\tVp\nk=2,...,K ,d=2,...D-1\t(2.17b)\nAs restri\u00e7\u00f5es referentes a um segmento intermedi\u00e1rio d do duto s\u00e3o an\u00e1logas \u00e0s descritas anteriormente, com exce\u00e7\u00e3o das restri\u00e7\u00f5es (2.6a) e (2.9), que s\u00e3o substitu\u00eddas respectivamente por (2.18) e (2.19). Estas restri\u00e7\u00f5es s\u00e3o alteradas pois estes segmentos n\u00e3o s\u00e3o alimentados pela refinaria (XRp k), mas pelo seu segmento antecessor (XTpdk).\nP\n\u00a3 XTp, d, k=XSd,k\tV k, d>1\t(2.18)\np=i\nXVp, d,l, k >XTp, d, k\tV p, k, d>1, l\u20141\t(2.19)\nAs disjun\u00e7\u00f5es lineares referentes segmento terminal do duto (d=D) s\u00e3o dadas por (2.20).\nYD,k\t\t\t-YD,k\nVp,D,1,k = VOTp,D,k\tVp\t\t\tVp,D,1,k = VZEROp,D,1 Vp\nVp,D, l, k = VZEROp,D,l-1\tVp,l=2,...\t,L\tV\tVp,D,l,k = VZEROp,D,l Vp,l =\nVODp,D,k = VZEROp,d,l Vp\t\t\tVODp,D,k=0\tVp\nYD,k\t\t\t-YD,k\nVp,D,1,k = VOTp,D,k\tVp\t\\ /\tVp,D,1,k = Vp,D,l ,k-1\tVp\t\nVp,D,l,k = Vp,D,l-1,k-1\tVp,l = 2,...,L\tV\tVp,D,l,k = Vp,D,l,k-1 Vp,l = 2,...,L\t\nVODp,D,k = Vp,D,L,k-1 Vp\t\tVODp,D,k = 0\tVp\t\nk=1,\nk=2,...,K\n(2.20a)\n(2.20b)\n\\,...,L\nAs restri\u00e7\u00f5es referentes a um segmento terminal D do duto s\u00e3o an\u00e1logas \u00e0s descritas para os segmentos intermedi\u00e1rios, com exce\u00e7\u00e3o das restri\u00e7\u00f5es (2.12) e (2.13), que s\u00e3o substitu\u00eddas respectivamente por (2.21) e (2.22). Estas restri\u00e7\u00f5es s\u00e3o referentes somente \u00e0 alimenta\u00e7\u00e3o da \u00faltima base conectada ao duto.\n\u00a3 XDp, d, k = XSd, k\np=1\nXDp, d, k > XVZEROp, d, i - [1 - XSd, k ]\nXDp, d, k > XVp, d, l, k -1 \u2014 [1 \u2014 XSd, k ]\nV k, d=D\n(2.21)\nV pe DEPdp, d=D, l= L, k=1\t(2.22a)\nVpe DEPdp, d=D,l= L, k>1\t(2.22b)\nEstas restri\u00e7\u00f5es referem-se a um sistema dutovi\u00e1rio com segmentos dividos em lotes de capacidades volum\u00e9tricas iguais. Este sistema permite que apenas uma das D bases conectadas ao duto retirem algum derivado do duto quando a refinaria alimenta o mesmo.\nO seq\u00fcenciamento de produtos para este modelo segue o conjunto de restri\u00e7\u00f5es (2.23).\nTYp,p',d,k > XVp,d,l,k + XVp',d,l',k\u20141\nTYp, p',d,k = 0\nTYp, p',d,k = 0\n{Vp,p\u2019\\ eTSp,p\u2019}, Vd,k, l=1, l\u2019=2\t(2.23a)\n{Vp,p\u2019\\ eFSp,P\u2019},Vd, k\t(2.23b)\nVp=p\u2019, d, k\t(2.23c)\nA restri\u00e7\u00e3o (2.23a) ilustra a transi\u00e7\u00e3o dos produtos que pertencem ao conjunto de seq\u00fc\u00eancias totais e poss\u00edveis TSpP'. Como a transi\u00e7\u00e3o \u00e9 somente caracterizada pelo contato de diferentes produtos no duto, a seq\u00fc\u00eancia de dois produtos iguais n\u00e3o pertence ao conjunto TSpp, segundo (2.23c). Note que esta restri\u00e7\u00e3o n\u00e3o \u00e9 aplicada \u00e0 restri\u00e7\u00e3o (2.23a). Ela somente caracteriza a inexist\u00eancia da transi\u00e7\u00e3o quando o derivadop \u00e9 igual aop\u2019.\n2.3.\tRestri\u00e7\u00f5es Referentes \u00e0s Bases de Distribui\u00e7\u00e3o\nO conjunto de restri\u00e7\u00f5es (2.24) representa os balan\u00e7os de massa nas bases, que podem ser escritos em termos volum\u00e9tricos, enquanto as capacidades volum\u00e9tricas seguem a restri\u00e7\u00e3o (2.25).\nVDp, d, k = VDZEROp, d+VODp, d, k\u2014VOMp,d, k\nVDp,d ,k = VDp,d ,k-1 + VODp,d,k-VOMp,d, k\nVDMINp,d, k &lt;VDp,d ,k &lt;VDMAXp,d ,k\nVpe DEPdp, d, k=1\t(2.24a)\nVpe DEPdp, d, k=2,..,K\t(2.24b)\nVpe DEPdp, d, k\t(2.25)\nA restri\u00e7\u00e3o (2.26) ilustra que os requerimentos de cada derivado p de cada base d devem ser exatamente atendidos.\n\u00a3VOMp,d ,k = DEMp,d\nk=1\nVpe DEPdp, d\n(2.26)\nPara este trabalho, os requerimentos impostos pelos mercados consumidores devem ser exatamente atendidos. Em uma situa\u00e7\u00e3o onde os valores das demandas dos produtos s\u00e3o adotados como requisitos m\u00ednimos, o volume\nenviado de cada produto de cada base de distribui\u00e7\u00e3o ao longo do horizonte deve ser maior ou igual ao par\u00e2metro DEMpd. Os limites dos volumes de produtos enviados aos mercados consumidores s\u00e3o descritos pela restri\u00e7\u00e3o a seguir:\nVOMp,d,k &lt;UMp,d ,k\n'p DEPd,p, d, k\n(2.27)\nFicam assim descritas as restri\u00e7\u00f5es de uma base de distribui\u00e7\u00e3o de derivados de petr\u00f3leo conectada ao duto.\n2.4.\tRestri\u00e7\u00e3o Auxiliar\nA restri\u00e7\u00e3o proposta neste item refere-se \u00e0 quantidade m\u00ednima de vezes que uma base deve retirar um dado produto do duto ao longo da opera\u00e7\u00e3o. Para o caso de seu estoque inicial n\u00e3o ser suficiente para atender os requisitos do mercado consumidor, a base \u00e9 obrigada a retirar este produto do duto no decorrer da opera\u00e7\u00e3o, at\u00e9 que as demandas estabelecidas sejam satisfeitas. Em caso contr\u00e1rio, ela s\u00f3 deve retirar o respectivo produto para garantir a viabilidade do problema, quando, por exemplo, os estoques na refinaria atingirem o limite m\u00e1ximo de sua capacidade, ou ent\u00e3o, para garantir o seq\u00fcenciamento vi\u00e1vel de produtos no segmento subseq\u00fcente.\nEsta id\u00e9ia pode ser representada matematicamente pela defini\u00e7\u00e3o do seguinte par\u00e2metro:\nXDMIN,\nP.d\n= max&lt;0 ,\nDEMpd - (VDZEROpd - VDMINp\u201e)\nUd\n>\t-p DEPdpd\n(2.28)\nonde | X | retorna o menor valor inteiro maior ou igual a x. Note que o \u00edndice k foi retirado do par\u00e2metro VDMINPdk, pois \u00e9 admitido que o volume m\u00ednimo n\u00e3o se altera ao longo do tempo.\nA restri\u00e7\u00e3o auxiliar deve representar o n\u00famero m\u00ednimo de vezes ao longo do horizonte de tempo que uma base d deve retirar o produto p do duto, segundo (2.29).\n\u00a3 XDp,d ,k > XDMINp,d\nk=1\n^pe DEPdp, d\t(2.29)\n2.5.\tFun\u00e7\u00e3o Objetivo\nA fun\u00e7\u00e3o objetivo do problema pode ser escrita na forma de (2.30).\nCusto =\n^^CERpxVRp, k+YY^CEDp,d xVDp.d, k\nx\u00f5\np=1k=1\np=1d=1k=1\np=1d=1k=1\np=1p'=1d=1k=1\n(2.30)\nEsta fun\u00e7\u00e3o matem\u00e1tica linear representa o custo global da opera\u00e7\u00e3o. As duas primeiras parcelas representam os custos de estoque na refinaria e nas bases, enquanto que a terceira representa os custos de bombeamento e a \u00faltima os custos de transi\u00e7\u00e3o. Estes custos s\u00e3o contabilizados a cada intervalo de tempo. Note que os custos de\nestoque s\u00e3o formados pelo custo unit\u00e1rio de estocagem, pelo volume de um determinado produto e pelo tempo em que esta quantidade \u00e9 estocada. No caso, como o problema est\u00e1 sendo representado em intervalos de tempo discretos, estes termos permanecem lineares. Se o problema fosse representado utilizando-se a modelagem em tempo cont\u00ednuo, cujos intervalos de tempo s\u00e3o vari\u00e1veis, esta mesma fun\u00e7\u00e3o objetivo se tornaria n\u00e3o-linear.\n2.6.\tFormula\u00e7\u00e3o para Sistemas Dutovi\u00e1rios com Lotes de Capacidades Diferentes\nAs disjun\u00e7\u00f5es (2.31) mostram o funcionamento dos segmentos ilustrados pela figura 7.\nYd\\k\nVp,d',1,1=VOTp,d',1\tYp\nVp,d',i,1 = VZEROp,d',i-1\tYp, l=2,...,L\nZd', k\nVp,d'+1,1,1 = VZEROp,d',L - VODp, d',1\n\u2014Zd', k\nVODp, d', k = VZEROp,d,L\nYp\n\u2014 Yd,k\nVp, d',1,1 = VZEROp,d',1\nVp, d , l,1 =VZEROp, d , l\nVODp, d ,1 =0\nYp\nYp,l=2,...,L\nYp\nk=1\n(2.31a)\nYd,k\nVp,d',1,k = VOTp,d', k\tYp\nVp,d',l,k = Vp,d', l-1,k-1\tYp, l = 2,\nZd , k\nVp,d'+1,1, k = Vp,d\u2018,L,k-1-VODp,d', k\n\u2014Zd', k\nVp,d',L,k-1 =VODp,d', k\n,L\nYp\n\u2014 Yd,k Vp,d',1,k = Vp,d',1,k -1 Vp,d', l,k = Vp,d', l, k-1 VODp, d',1 = 0\nYp\nYp,l = 2,...,L\nYp\nk=2,...K\n(2.31b)\nNote que dentro das disjun\u00e7\u00f5es principais, relacionadas a Yd,k, existe uma outra interna, referente a Zd-,k. Desta forma, estas s\u00e3o classificadas como disjun\u00e7\u00f5es embutidas (Vecchietti e Grossmann (9)). Para o presente caso, o funcionamento l\u00f3gico de (2.31) \u00e9 atribu\u00eddo \u00e0s vari\u00e1veis Booleanas Yd,k e Zd-,k. A primeira citada possui o mesmo significado quando foi colocada na disjun\u00e7\u00e3o (2.5). A vari\u00e1vel Zd,k indica se o produto que est\u00e1 alocado ao \u00faltimo lote do segmento d\u2019 \u00e9 enviado para a respectiva base e o segmento subseq\u00fcente. Para o caso de transfer\u00eancia de produtos no segmento d' (Yd,k verdadeira), a alimenta\u00e7\u00e3o do duto, representada por VOTp,d,k assume a composi\u00e7\u00e3o do primeiro lote (Vxu)- O derivado que est\u00e1 inicialmente alocado ao lote l-1 (Vp,dk1,k-1) \u00e9 transferido para o lote l (VpMk). Para o caso de Zd,k ser verdadeira, o produto que est\u00e1 contido no \u00faltimo lote (Vp,dL,k-1) pode ser destinado \u00e0 respectiva base d' (VODp d,k) e o seu segmento subseq\u00fcente (Vp,d+1d,k). Se Zd,k for falsa, o derivado contido inicialmente no \u00faltimo lote (Vp,dLk-1) de d' \u00e9 enviado integralmente para a respectiva base (VODp,d,k). Se o segmento d\u2019 n\u00e3o estiver sob transfer\u00eancia de derivados (Yd,k falsa), o mesmo n\u00e3o \u00e9 alimentado pelo seu antecessor (VOTp,d,k=0) e o deslocamento dos derivados que est\u00e3o dentro de d' n\u00e3o ocorre (Vp, d', /, k-1=Vp, d, l k). A sa\u00edda deste segmento assume valores nulos (VODp, d, k=0).\nA transforma\u00e7\u00e3o destas disjun\u00e7\u00f5es em restri\u00e7\u00f5es mistas-inteiras lineares \u00e9 semelhante ao procedimento adotado para as disjun\u00e7\u00f5es (2.5), (2.17) e (2.30). A vari\u00e1vel Booleana Yd,k \u00e9 substitu\u00edda pela vari\u00e1vel de decis\u00e3o XSd,k. A vari\u00e1vel Booleana Zd-,k \u00e9 desagregada em duas vari\u00e1veis de decis\u00e3o denominadas de XWp,d,k e XUp,d,k.\nAs restri\u00e7\u00f5es deste segmento s\u00e3o an\u00e1logas aos casos mostrados anteriormente, com exce\u00e7\u00e3o da sua sa\u00edda. Estas s\u00e3o dadas a seguir, segundo a formula\u00e7\u00e3o Convex-hull.\nVODp,d' ,k = XWp,d' ,k x[\u00fcd'-Ud'+1] + X\u00fcp,d' ,k x\u00fcd'\tY pp DEPd,p, k\t(2.32)\n(2.33)\nV pe DEPd,p, k\n\u00a3[ XWpd,k+XUp,d, k ] = XSd,k\np=1\nAs restri\u00e7\u00f5es acima descrevem a sa\u00edda do duto no segmento d', sendo que (2.32) mostra a vari\u00e1vel VODP,d,k desagregada em duas vari\u00e1veis de decis\u00e3o, XWP:d,k e XUP,d,k. A vari\u00e1vel XWP,d,k indica se o produto contido no lote L, pertencente ao segmento d', \u00e9 enviado para a respectiva base e para o segmento subseq\u00fcente. A vari\u00e1vel XUP,d,k indica se o derivado contido em L \u00e9 enviado integralmente para a respectiva base. Na figura 8 mostra-se o funcionamento operacional do segmento d' segundo estas vari\u00e1veis e as descritas anteriormente.\nAs restri\u00e7\u00f5es quanto ao destino do derivado contido no \u00faltimo lote do segmento d\u2019 s\u00e3o dadas pelas restri\u00e7\u00f5es (2.34).\nXWp, d ,1+XUp, d ,1 > XVZEROp, d, l -[1 - XSd,k ]\nV p. DEPd,p\n(2.34a)\nXWp,d, k+XUp,d,k > XVp,d, l, k-1-[1-XSd,k ]\nVp. DEPd,p, k=2,...,K\t(2.34b)\nXVp,d'+1,1,k > XWp,d',k\nV p. DEPdp, k\n(2.34c)\nEstas possibilitam a transfer\u00eancia do derivado que estiver alocado ao lote L do segmento d\u2019 para o subseq\u00fcente e/ou para a respectiva base de distribui\u00e7\u00e3o. Estas restri\u00e7\u00f5es tamb\u00e9m podem ser escritas segundo (2.35).\nXWp, d' ,1 + XUp, d' ,1 &lt;XVZEROp, d,L\nXWp, d\u2018 ,k + XUp, d\u2018, k &lt;XVp, d\u2018 ,L, k-1\nXVpd+1,1,1 > XVZEROp, d,L -[1 - XWp, d,1]\nXVp, d'+1,1, k > XVp, d' ,L, k -1 -[1 - XWp, d, k ]\nV p. DEPd,p\t(2.35a)\nV pe DEPd,p, k=2,...,K\t(2.35b)\nV p. DEPd,p\t(2.35c)\nV p. DEPd,p, k\t(2.35d)\nPara os exemplos mostrados neste trabalho, as restri\u00e7\u00f5es (2.35) s\u00e3o utilizadas para o envio do derivado contido no \u00faltimo lote do quarto segmento, pois testes computacionais mostraram um desempenho superior destas no algoritmo B&amp;B em rela\u00e7\u00e3o \u00e0s restri\u00e7\u00f5es (2.34).\nNote que o segmento subseq\u00fcente deve estar sob transfer\u00eancia se a vari\u00e1vel XWP,d,k, referente a qualquer produto, for ativada. A restri\u00e7\u00e3o a seguir ilustra esta id\u00e9ia.\nP\n\u00a3 XWP,d,k = XSd+1,k\np=1\nV k\n(2.36)\nAs restri\u00e7\u00f5es de movimenta\u00e7\u00e3o, parada e sa\u00edda dos segmentos subseq\u00fcentes ao descrito neste item n\u00e3o s\u00e3o alteradas desde que n\u00e3o ocorram mais varia\u00e7\u00f5es de capacidades dos lotes."}]}}}