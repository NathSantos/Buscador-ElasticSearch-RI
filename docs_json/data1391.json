{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BT.05542"}, {"@name": "filename", "#text": "BTP_1983_26_4_11_Sistema_eletronico.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "SISTEMA ELETR\u00d4NICO DIGITAL DE TELEMEDI\u00c7\u00c3O DE NI'VEL E DE TEMPERATURA DE TANQUES DE ARMAZENAMENTO COM BASE EM MICROPROCESSADOR\nPAULO DE TARSO ARRUDA CORREIA, Setor de Projetos, Divis\u00e3o de Engenharia, Departamento de Transporte.\nRESUMO \u2014 Descreve-se um sistema digital com base em microprocessador, para tele-q \u00c7s U\tmedi\u00e7\u00e3o de n\u00edvel e temperatura de tanques de armazenamento.\n4 \u2018\tO potencial de aplica\u00e7\u00e3o e a capacidade do sistema s\u00e3o caracterizados, sendo\nfeita uma descri\u00e7\u00e3o do funcionamento de suas v\u00e1rias partes.\nSeu projeto e desenvolvimento foram feitos pelo autor e por t\u00e9cnicos do Setor de Instrumenta\u00e7\u00e3o da Divis\u00e3o de Manuten\u00e7\u00e3o do Centro de Pesquisas. Um prot\u00f3tipo foi instalado no Laborat\u00f3rio de Motores desse Centro.\nABSTRACT - A digital system, based on a microprocessor, for the telemetry of storage-tank level and temperature, is described.\nThe application potential and the capacity of the system are characterized, and a description of the operation of its different components is made.\nThe design and development of the system were accomplished by the author and technicians of the Instrumentation Sector of DEMAN and CENPES. A prototype was installed in the Engines Laboratory of CENPES.\n(Originais recebidos em 29-VHI-83.)\n1\t- INTRODU\u00c7\u00c3O\nO presente Sistema foi desenvolvido conjuntamente pelo Departamento de Transporte (DETRAN) e pelo Centro de Pesquisas Leopoldo A. Miguez de Mello (CENPES), da PETROBR\u00c1S, e sua finalidade \u00e9 permitir a leitura remota do n\u00edvel e da temperatura de tanques de armazenamento. Um prot\u00f3tipo do mesmo foi montado e se encontra funcionando h\u00e1 mais de um ano no Laborat\u00f3rio de Motores do CENPES, em um de seus tanques de diesel, localizado a aproximadamente cem metros do laborat\u00f3rio. Este sistema, al\u00e9m de tornar menos complexa, aumenta, sobremaneira, a seguran\u00e7a das opera\u00e7\u00f5es que envolvem tanques em unidades, tais como Terminais e Refinarias, uma vez que permitem ao operador que se encontra na sala de controle dessas unidades conhecer a qualquer instante o n\u00edvel e a temperatura dos tanques.\n2\t- PRINCIPAIS CARACTER\u00cdSTICAS\nCapacidade\nO sistema tem a capacidade de trabalhar com at\u00e9 cem tanques.\nRange\nO range do n\u00edvel \u00e9 de 00,000 a 19,999 m, com resolu\u00e7\u00e3o de 1 mm, e o range de temperatura, de 00,0 a 99,9 \u00b0C, com resolu\u00e7\u00e3o de 0,1 \u00b0C.\nSistema de transmiss\u00e3o\nAs informa\u00e7\u00f5es digitalizadas s\u00e3o transmitidas em loop de corrente com modula\u00e7\u00e3o por largura de pulso (PWM).\nSeguran\u00e7a nas transmiss\u00f5es\nA fim de possibilitar a identifica\u00e7\u00e3o de mensagens deturpadas por ru\u00eddos, ao telegrama de n\u00edvel e temperatura (trem de pulsos \u2014 bites \u2014, que trazem de modo codificado estas informa\u00e7\u00f5es) \u00e9 adicionado um caractere c\u00edclico redundante (CRC \u2014 polin\u00f4mio de Bose Chauduri), e, ao te\nlegrama do endere\u00e7o do tanque a ser lido, s\u00e3o adicionados dois bites de paridade.\nTipo dos transdutores\nO transdutor de n\u00edvel \u00e9 constitu\u00eddo de uma b\u00f3ia que est\u00e1 ligada a discos codificadores, atrav\u00e9s de um sistema de cabo/trena de a\u00e7o, roldanas e de um motor de mola, que mant\u00e9m a trena sempre com uma determinada tens\u00e3o, recolhendo-a em um dado carretei.\nOs discos codificadores s\u00e3o em n\u00famero de dois e trazem gravada em suas superf\u00edcies, sob a form\u00e2 de coroas conc\u00eantricas circulares, a informa\u00e7\u00e3o de n\u00edvel codificada no c\u00f3digo Gray. O processo de fabrica\u00e7\u00e3o dos transdutores \u00e9 id\u00eantico ao empregado para os circuitos impressos e resulta numa superf\u00edcie em que as v\u00e1rias coroas conc\u00eantricas circulares trazem pequenos segmentos de uma fina chapa de cobre, cuja extens\u00e3o e posi\u00e7\u00e3o traduzem o c\u00f3digo.\nO primeiro disco gira livremente e comunica, a cada 120\u00b0 de volta, um passo para o segundo. \u00c9 nele que s\u00e3o fidos os dois algarismos menos significativos, num total de oito bites (cada algarismo \u00e9 codificado por quatro bites; cada bite corresponde a uma coroa na superf\u00edcie do disco). O segundo disco \u00e9 o respons\u00e1vel pelos outros tr\u00eas algarismos mais significativos, num total de nove bites, uma vez que o algarismo mais significativo s\u00f3 assume os valores de zero ou um e assim pode ser representado por um bite.\nOs transdutores de temperatura, em n\u00famero de tr\u00eas, s\u00e3o sensores do tipo AD 590 KH, da \u201cAnalog Devices\u201d, que transformam a informa\u00e7\u00e3o de temperatura em corrente el\u00e9trica, na propor\u00e7\u00e3o de um micro amp\u00e8re por 1 \u00b0C.\nOs tr\u00eas sensores informam a temperatura em diversos pontos do tanque, e a m\u00e9dia da informa\u00e7\u00e3o \u00e9 transmitida como sendo a temperatura do tanque.\n3\t- DESCRI\u00c7\u00c3O DO FUNCIONAMENTO\nO sistema \u00e9 representado de forma esquem\u00e1tica na figura abaixo.\nComo pode ser observado, ele \u00e9 constitu\u00eddo das seguintes partes:\n\u2014 receptor\nCASA\nDE\nCONTROLE\nLED'S DE\nt1\tII\nDISPLAY\n(IO LED'S DE 7 SEGMENTOS)\nERROS\noooo\n(16 TECLAS)\nPONTO CENTRAL\nCAMPO\nSELETOR\nREMOTO\nDE SINAL\nI l PAR DE ALIMENTA\u00c7\u00c3O- IIOVAC |2 PARES\nTANQUES\nSENSORES DE\nT EMPERATURA\nTRANSM.\nO\nTRANSM.\nI\nTRANSM.\n.Ti TZ Tj\nCOD IFICADORES\nTECLADO\nI\n99\nDE\n1\tPAR DE ALIMENTA\u00c7\u00c3O\n2\tPARES DE SINAL\nCADA TANQUE\nFig. 1 \u2014 Esquema geral.\n\u2014\tseletor remoto\n\u2014\ttransmissor\n\u2014\ttransdutores de n\u00edvel e temperatura.\nAbaixo, uma descri\u00e7\u00e3o de como funciona o sistema:\n\u2014\tO operador, atuando no teclado do receptor, seleciona o tanque atrave's do d\u00edgito das dezenas e das unidades correspondentes ao endere\u00e7o do tanque desejado.\n\u2014\tO receptor transmite o endere\u00e7o para o seletor remoto, que o recebe e verifica, atrav\u00e9s da paridade da mensagem, se ocorreu erro na transmiss\u00e3o da mesma. Se nada for constatado, o seletor decodifica o endere\u00e7o e transmite um pulso de sele\u00e7\u00e3o ao transmissor correspondente.\n\u2014\tO transmissor, ao receber o pulso de sele\u00e7\u00e3o, reconhece este e inicia a transmiss\u00e3o do telegrama, que cont\u00e9m a informa\u00e7\u00e3o de n\u00edvel, temperatura e endere\u00e7o do tanque ao qual est\u00e1 afeto.\n\u2014\tAp\u00f3s ter passado pelo seletor remoto, que grupa todas as linhas dos transmissores, o telegrama segue do transmissor para o receptor. Este o recebe e verifica se n\u00e3o foi deturpado devido a ru\u00eddos; a partir da mensagem recebida, o receptor gera um CRC, que \u00e9 comparado com o que foi gerado e enviado pelo transmissor. Havendo coincid\u00eancia entre ambos, a mensagem \u00e9 decodificada e apresentada no display de dez d\u00edgitos \u2014 LED\u2019S de sete segmentos. No caso de ter havido algum erro, este ser\u00e1 anunciado pelo receptor atrav\u00e9s de um dos quatro LED\u2019S de erro.\n4\t- DESCRI\u00c7\u00c3O DO RECEPTOR\nO receptor \u00e9 a parte mais complexa do sistema, e, como se pode verificar na figura 2, constitui-se de:\n\u2014\tuma CPU do tipo 8085: microprocessador de oito ' bites;\n\u2014\tuma \u201cEPROM\u201d do tipo 8755, com 2k byte de capacidade e duas portas de oito bites;\n\u2014\tuma \u201cRAM\u201d do tipo 8155, com 256 bites de capacidade, timer e portas;\n\u2014\tdisplay de dez d\u00edgitos, com LED\u2019S de sete segmentos;\n\u2014\tum teclado alfanum\u00e9rico de dezesseis teclas;\n\u2014\tum quadro de diodos LED\u2019S, para an\u00fancio dos poss\u00edveis erros do sistema;\n\u2014\tinterface com as linhas de entrada e sa\u00edda s\u00e9rie.\nA CPU controla todo o funcionamento do receptor atrav\u00e9s de cinco rotinas para:\n\u2014\trefrescamento do display ou indicador num\u00e9rico;\n\u2014\tvarredura do teclado;\n\u2014\temiss\u00e3o de endere\u00e7o;\n\u2014\trecep\u00e7\u00e3o do telegrama de informa\u00e7\u00f5es e gera\u00e7\u00e3o do c\u00f3digo Bose-Chauduri;\n\u2014\tenchimento da mem\u00f3ria do display e decodifica\u00e7\u00e3o do telegrama de informa\u00e7\u00e3o recebido.\nA seguir, uma descri\u00e7\u00e3o de como funciona o elemento receptor:\nO microprocessador (8085) cumpre constantemente as rotinas de refrescamento do display e de varredura do teclado, at\u00e9 que o acionamento de uma das teclas seja verificado. O microprocessador guarda no registro de endere\u00e7o, na mem\u00f3ria \u201cRAM\u201d, o primeiro d\u00edgito de endere\u00e7o, correspondente \u00e0 tecla acionada, e volta \u00e0 rotina de refrescamento do display. Quando uma segunda tecla for acionada com o segundo d\u00edgito de endere\u00e7o, o micro completa, com este valor, o registro de endere\u00e7o na \u201cRAM\u201d, e passa \u00e0 rotina de emiss\u00e3o de endere\u00e7o, que \u00e9 ent\u00e3o transmitido para o seletor remoto. Al\u00e9m dos bites correspondentes aos d\u00edgitos de endere\u00e7o, esta rotina gera dois bites de pari\ndade, um para cada d\u00edgito, que s\u00e3o tamb\u00e9m transmitidos.\n0 seletor remoto, ao receber a mensagem do endere\u00e7o do tanque, verifica a paridade da mesma, que dever\u00e1 ser par, devido aos bites de paridade nesta inseridos. N\u00e3o se verificando a paridade par, o seletor remoto n\u00e3o completar\u00e1 a sele\u00e7\u00e3o do tanque.\nAp\u00f3s a emiss\u00e3o do endere\u00e7o, o micro passa \u00e0 rotina de recep\u00e7\u00e3o de mensagem, que est\u00e1 assim programada: se decorrido um certo tempo n\u00e3o chegar ao receptor o telegrama com as informa\u00e7\u00f5es de n\u00edvel, temperatura e endere\u00e7o do tanque selecionado, um alarme ser\u00e1 acionado atrav\u00e9s de um LED de erro, e o micro voltar\u00e1 \u00e0 rotina de refrescamento do display.\nA sa\u00edda das informa\u00e7\u00f5es do micro se faz atrav\u00e9s do pino \u201cSOD\u201d ou sa\u00edda de dados serial, ao qual est\u00e3o ligados o conversor tens\u00e3o-corrente e o driver da linha, que constituem a interface 12.\nA mensagem-resposta do transmissor chega ao micro atrav\u00e9s da interface II, dotada de acoplador \u00f3tico, e do pino \u201cSID\u201d ou entrada de dados serial.\nCom a chegada do telegrama, a informa\u00e7\u00e3o passa a ser decodificada e armazenada em posi\u00e7\u00f5es de mem\u00f3ria definidas na \u201cRAM\u201d.\nSimultaneamente, a rotina de recep\u00e7\u00e3o da mensagem gera o CRC correspondente \u00e0s informa\u00e7\u00f5es recebidas e o guarda na \u201cRAM\u201d. Se a mensagem n\u00e3o se completar, a rotina provoca o acendimento de um dos LED\u2019S de erro e\nremete o micro novamente para a rotina de refrescamento do display.\nAp\u00f3s toda a mensagem ter sido recebida (s\u00e3o 45 bites, a saber, 1 da abertura de mensagem, 17 da informa\u00e7\u00e3o de n\u00edvel, 12 da informa\u00e7\u00e3o de temperatura, 8 da informa\u00e7\u00e3o de endere\u00e7o e 7 do CRC), o micro passa \u00e0 rotina de deco-difica\u00e7\u00e3o da mensagem.\nA primeira a\u00e7\u00e3o desta rotina \u00e9 comparar o CRC gerado pela rotina anterior com o CRC transmitido; se n\u00e3o houver coincid\u00eancia entre ambos, a rotina provoca o acendimento de um LED e remete o micro para a rotina de refrescamento do display.\nSe os dois CRC\u2019S coincidirem, a rotina ir\u00e1 converter em c\u00f3digo BCD todo o conte\u00fado das posi\u00e7\u00f5es da mem\u00f3ria \u201cRAM\u201d preenchidas pela rotina para recep\u00e7\u00e3o do telegrama, armazenando estas informa\u00e7\u00f5es em um segmento definido da \u201cRAM\u201d.\nEste segmento, denominado buffer do display, \u00e9 periodicamente varrido pela rotina de refrescamento do display, cuja fun\u00e7\u00e3o \u00e9 levar os valores armazenados no segmento, para indica\u00e7\u00e3o no display.\nFinda a convers\u00e3o, a rotina de decodifica\u00e7\u00e3o remete o micro para a rotina de refrescamento do display. Esta, como j\u00e1 foi mencionado, tem como fun\u00e7\u00e3o apresentar ao display os valores obtidos pelo micro e armazenados em um dado segmento da mem\u00f3ria \u201cRAM\u201d. .\nTal tarefa \u00e9 feita passo a passo, ou seja, as posi\u00e7\u00f5es do seg-\nBUS\nBUS\nBUS\nDE ENDERE\u00c7O\nDE DADOS/ENDERE\u00c7O\nDE CONTROLE\nFig. 2 \u2014 Receptor.\nFig. 3 \u2014 Seletor remoto.\nmento s\u00e3o varridas uma a uma, e os valores s\u00e3o apresentados atrav\u00e9s da porta \u201cA\u201d da mem\u00f3ria \u201cRAM\u201d (8155), juntamente com o n\u00famero de ordem do d\u00edgito no display ao qual se destina aquele valor.\nA porta \u201cA\u201d da \u201cRAM\u201d tem oito bites. Em seus quatro bites mais significativos, \u00e9 colocado o valor em BCD; nos quatro restantes, colocada a ordem do d\u00edgito no display a que se destina o valor em BCD.\nA informa\u00e7\u00e3o em BCD \u00e9 apresentada a um conversor BCD/7 segmentos cuja fun\u00e7\u00e3o \u00e9 acender os segmentos que correspondem a este valor.\nA informa\u00e7\u00e3o da ordem do d\u00edgito \u00e9 apresentada a um conversor BCD/DECIMAL, que, a partir desta, aciona uma dentre dez linhas de sa\u00edda. Dentre os dez d\u00edgitos, estas linhas habilitar\u00e3o somente um a apresentar o valor traduzido pelo conversor BCD/7 segmentos.\n5\t- DESCRI\u00c7\u00c3O DO SELETOR REMOTO\nO seletor remoto \u00e9 apresentado de forma esquem\u00e1tica na figura 3.\nSe\u00fa funcionamento se d\u00e1 da maneira a seguir descrita:\nA informa\u00e7\u00e3o \u00e9 recebida do receptor atrav\u00e9s de uma interface com um acoplador \u00f3tico, que converte os pulsos de corrente em pulsos de tens\u00e3o.\nQuando um pulso de abertura com determinada dura\n\u00e7\u00e3o \u00e9 identificado, o circuito correspondente habilita o decodificador, que converte os pulsos modulados em PWM da mensagem recebida, em n\u00edveis 0 ou 1 l\u00f3gicos, os quais, \u00e0 medida que chegam, s\u00e3o armazenados no registro de deslocamento.\nQuando o \u00faltimo pulso do telegrama de endere\u00e7o tiver sido recebido, o contador dispara o mono est\u00e1vel.\nSe a mensagem recebida estiver com a paridade correta, as c\u00e9lulas de paridade habilitar\u00e3o o gate 1, que, assim, deixa passar o pulso do mono est\u00e1vel.\nA sa\u00edda do gate 1 habilitar\u00e1 o conjunto de gates 2 e 3, que, dessa forma, permitem passar aos conversores BCD/ DECIMAL 1 e 2 as informa\u00e7\u00f5es contidas no registro de deslocamento.\nCada um destes conversores acionar\u00e1 uma dentre suas dez linhas de sa\u00edda. Estas duas linhas, que foram acionadas atrav\u00e9s da matriz de decodifica\u00e7\u00e3o, acionar\u00e3o um dos line driver\u2019s (acionadores de linha), que corresponder\u00e1 ao tanque selecionado.\nTodo este processo ser\u00e1 comandado pelo mono est\u00e1vel, que, desse modo, define o pulso de sele\u00e7\u00e3o ao transmissor selecionado.\nAp\u00f3s o per\u00edodo marcado pelo mono est\u00e1vel, este limpar\u00e1 o conte\u00fado do registro de deslocamento das c\u00e9lulas de paridade e do contador, o que deixa o seletor remoto apto para receber e decodificar novo endere\u00e7o.\nFig. 4 \u2014 Transmissor.\n6\t- DESCRI\u00c7\u00c3O DO TRANSMISSOR\nO transmissor \u00e9 apresentado de forma esquem\u00e1tica na figura 4.\nComo se pode observar, o transmissor se constitui das seguintes partes principais:\n\u2014\tcircuito de temperatura, compreendendo os sensores TI, T2 e T3, o amplificador Al e o conversor anal\u00f3gico digital A/D;\n\u2014\tmultiplexador, cuja fun\u00e7\u00e3o \u00e9 serializar as informa\u00e7\u00f5es de n\u00edvel obtidas dos discos codificadores, de temperatura obtida do conversor A/D e de endere\u00e7o, que \u00e9 programado atrav\u00e9s de chaves;\n\u2014\tcontador, que \u00e9 o principal componente do controle do transmissor. Ele gera, a cada pulso de clock, um novo endere\u00e7o para o multiplexador, que, assim, a cada passo do clock, comunica uma das linhas de entrada a sua sa\u00edda.\nGera tamb\u00e9m o sinal que comanda a entrada do mo-dulador PWM, conectando-a inicialmente \u00e0 sa\u00edda do multiplexador, e a seguir, ap\u00f3s a varredura de todas as linhas de entrada deste, conecta a esta entrada a sa\u00edda do gerador do CRC.\nSua \u00faltima fun\u00e7\u00e3o \u00e9 gerar o sinal de clear ao final da transmiss\u00e3o, que coloca o transmissor em condi\u00e7\u00e3o de receber nova solicita\u00e7\u00e3o de leitura;\n\u2014\tmodulador PWM, que, recebendo o sinal de clock, gera pulsos de largura TI quando em sua entrada existe um n\u00edvel l\u00f3gico 1 e To de largura igual a 1/3 de Tl, quando o n\u00edvel l\u00f3gico na entrada \u00e9 0;\n\u2014\tline driver ou acionador de linha, cuja fun\u00e7\u00e3o \u00e9 converter em pulsos de corrente os pulsos de tens\u00e3o que chegam a sua entrada;\n\u2014\tcircuito de reconhecimento de pulso de sele\u00e7\u00e3o, que tem a fun\u00e7\u00e3o de monitorar a linha de sele\u00e7\u00e3o e reconhecer o pulso emitido pelo seletor remoto.\nReconhecido o pulso, o circuito libera o clock para os v\u00e1rios circuitos do transmissor, iniciando assim a transmiss\u00e3o;\n\u2014\tgerador de clock, que estabelece o passo de funcionamento do circuito.\nAp\u00f3s a descri\u00e7\u00e3o dos circuitos acima, torna-se poss\u00edvel relatar de modo resumido o funcionamento do transmissor.\nAo chegar \u00e0 linha de sele\u00e7\u00e3o do transmissor um pulso de largura T2 definida, o circuito de reconhecimento o reconhece e libera, al\u00e9m do clock para os outros circuitos do transmissor, um pulso de clear que posiciona o contador no seu estado zero, correspondente ao endere\u00e7o da linha 1 do multiplexador.\nO multiplexador, comandado pelo clock e pelos endere\u00e7os gerados no contador, vai, a cada pulso de clock, colocando em sua sa\u00edda o n\u00edvel l\u00f3gico existente em cada uma de suas linhas de entrada.\nEnquanto as informa\u00e7\u00f5es de n\u00edvel, temperatura e endere\u00e7o estiverem sendo transmitidas, o contador estar\u00e1 habilitando a entrada do modulador \u00e0 sa\u00edda do multiplexador, mantendo sua linha controle 1 no n\u00edvel l\u00f3gico 0\nAo mesmo tempo em que os bites est\u00e3o sendo transmitidos, o circuito de gera\u00e7\u00e3o do CRC (caractere de redun\nd\u00e2ncia c\u00edclica) estar\u00e1 elaborando um c\u00f3digo de sete bites obtido pela divis\u00e3o do polin\u00f4mio correspondente ao telegrama das informa\u00e7\u00f5es pelo polin\u00f4mio de Bose Chauduri.\nAo final da transmiss\u00e3o de todos os bites do telegrama das informa\u00e7\u00f5es, o contador eleva sua linha controle 1 para 1 e habilita o acesso da sa\u00edda do circuito de gera\u00e7\u00e3o do CRC \u00e0 entrada do modulador PWM.\nInicia-se assim a transmiss\u00e3o do CRC.\nComo pode ser observado, a linha 1 do multiplexador \u00e9 for\u00e7ada no n\u00edvel 1, isto porque o telegrama deve ser iniciado por um pulso de largura Tl, que funciona, dessa forma, como pulso ou bite de abertura de mensagem.\nO microprocessador no receptor s\u00f3 reconhecer\u00e1 como v\u00e1lida uma mensagem que se inicia com um pulso Tl, aumentando assim a seguran\u00e7a na transmiss\u00e3o.\nOs pulsos na sa\u00edda do modulador PWM ser\u00e3o convertidos pelo line driver V/I em pulsos de corrente, os quais, atrav\u00e9s de um circuito de baixa imped\u00e2ncia (par torcido de fio terminando em uma resist\u00eancia de 100 Ohms no receptor), chegam ao receptor, tendo antes passado pelo seletor remoto, onde todos os circuitos de sa\u00edda dos v\u00e1rios transmissores s\u00e3o grupados em um \u00fanico circuito.\nAo final da transmiss\u00e3o do telegrama, o contador limpa, trav\u00e9s do comando de clear, o gerador do CRC e o circuito de reconhecimento do pulso de sele\u00e7\u00e3o, colocando o transmissor em condi\u00e7\u00f5es de receber nova solicita\u00e7\u00e3o de transmiss\u00e3o.\n7\t- PROT\u00d3TIPO\nA fim de se verificar o desempenho do sistema, um prot\u00f3tipo do mesmo foi montado e instalado no laborat\u00f3rio de motores do Centro de Pesquisas da PETROBR\u00c2S.\nO receptor e o seletor remoto ficaram na sala de controle deste laborat\u00f3rio; o transmissor, por sua vez, foi instalado ao p\u00e9 do tanque TQ-1006, que al\u00e9m de armazenar diesel dista aproximadamente cem metros do laborat\u00f3rio.\nNo tanque 1006, existia um indicador tipo r\u00e9gua, onde um cursor, que corria sobre ele, era ligado, por meio de um cabo de a\u00e7o e roldana, a uma b\u00f3ia no interior do tanque.\nPara que se pudesse proceder \u00e0 instala\u00e7\u00e3o do transmissor, ter-se-ia que instalar antes um indicador que viesse a converter o movimento vertical da b\u00f3ia e de seu cabo em movimento de rota\u00e7\u00e3o, para acionamento dos discos codificadores.\nAssim, seria necess\u00e1rio adquirir um indicador tipo VAREC, figura 2500, o qual, al\u00e9m- de indicar numericamente, no local, a altura do tanque, permite o acoplamento de um eixo a uma roldana interna que recebe a trena de a\u00e7o da b\u00f3ia.\nNeste sistema, a trena \u00e9 mantida tensionada atrav\u00e9s de um motor de mola.\nForam consultados os v\u00e1rios terminais do Departamento de Transporte, obtendo-se sob empr\u00e9stimo um indicador dispon\u00edvel do Terminal Mar\u00edtimo Almirante Soares Dutra (TEDUT).\nAproveitando-se a b\u00f3ia e o sistema de roldanas existentes no tanque 1006, o indicador foi instalado.\nAs placas de circuito impresso dos v\u00e1rios componentes do sistema tiveram seus leiautes desenvolvidos, tendo sido fabricadas, montadas e testadas.\nAs rotinas que constituem o programa do receptor foram desenvolvidas e depuradas em um sistema de desenvolvimento SDK-85, que tamb\u00e9m serviu para, uma vez desenvolvido o programa para tal, gravar a \u201cEPROM\u201d 8755 com o programa do receptor.\nA montagem mais trabalhosa foi a do transmissor, uma vez que, em uma mesma caixa, \u00e0 prova de explos\u00e3o, dever\u00edam ser alojadas a fonte e a placa, bem como os discos codificados, que, por sua vez, dever\u00edam ser acoplados ao indicador.\nForam feitas v\u00e1rias tentativas com sistemas de acoplamento, que, se mal executados, introduziriam histerese e erros n\u00e3o aceit\u00e1veis no sistema.\nFinalmente, um acoplamento, em que eram utilizadas duas juntas universais, para absorver poss\u00edveis desalinha-mentos, e mancais com rolamento, para evitar perdas por atrito, foi empregado com sucesso.\nA interliga\u00e7\u00e3o do transmissor ao receptor e seletor remoto se fez atrav\u00e9s de pares torcidos abrigados em eletro-duto met\u00e1lico.\nDepois de vencidas as dificuldades surgidas durante o acoplamento, o sistema, montado, funcionou a contento, tendo-se executado o seguinte teste:\n\u2014\tatrav\u00e9s de tr\u00eas leituras seguidas por trena, obteve-se a altura do tanque, e, com este n\u00edvel, foram ajustados os discos codificadores;\n\u2014\to tanque TQ-1006 foi alinhado com outro atrav\u00e9s de um medidor de volume tipo deslocamento positivo;\n\u2014\tdeu-se in\u00edcio ao esvaziamento do tanque, e, a cada 300 litros transferidos, lia-se seu n\u00edvel atrav\u00e9s do sistema;\n\u2014\tap\u00f3s a transfer\u00eancia de 3.900 litros, o bombeio foi . revertido, passando-se a encher o tanque TQ-1006;\n\u2014\ta exemplo da opera\u00e7\u00e3o anterior, a cada 300 litros transferidos, procedia-se a uma leitura do n\u00edvel do tanque.\nOs resultados obtidos est\u00e3o indicados abaixo:\n- Esvaziamento\nVolume\tLeitura\tVaria\u00e7\u00e3o\tAltura Tabela\nTransferido\t(m)\t(mm)\tArqueamento\n0 300\t1.958 1.948\t10\t1.944\n600\t1.934\t14\t1.929\n900\t1.920\t14\t1.913\n1.200\t1.904\t16\t1.898\n1.500\t1.890\t14\t1.883\n1.800\t1.877\t13\t1.868\n2.100\t1.860\t17\t1.853\n2.400\t1.846\t14\t1.837\n2.700\t1.828\t18\t1.822\n3.000\t1.814\t14\t1.806\n3.300\t1.798\t16\t1.791\n3.600\t1.782\t16\t1.776\n16\n3.900\t1.766\nLeitura real obtida com trena \u2014 1.765\n- Enchimento Volume\tLeitura\tVaria\u00e7\u00e3o\tAltura Tabela\nTransferido\t(m)\t(mm)\tArqueamento\n300\t1.753\t14\t1.766\n600\t1.767\t14\t1.781\n900\t1.781\t12\t1.797\n1.200\t1.793\t13\t1.812\n1.500 .\t1.806\t15\t1.827\n1.800\t1.821\t14\t1.843\n2.100\t1.835\t13\t1.858\n2.400\t1.852\t14\t1.873\n2.700\t1.866\t16\t1.889\n3.000\t1.882\t16\t1.904\n3.300\t1.898\t18\t1.919\n3.600\t1.916\t16\t1.934\n3.900\t1.932 Leitura real ao final \u2014 1.950\t\t\t1.950\nAnalisando-se os resultados acima, observa-se que o sistema responde de forma coerente e com precis\u00e3o aceit\u00e1vel para fins operacionais.\nA diferen\u00e7a entre a \u00faltima leitura na tabela de esvaziamento e a primeira na de enchimento \u00e9 explicada pelo fato de ter a transfer\u00eancia prosseguido por gravidade ap\u00f3s a paralisa\u00e7\u00e3o da bomba.\nOs resultados podem ser melhorados utilizando-se uma b\u00f3ia melhor dimensionada.\n8\t- PEND\u00caNCIAS\nO prot\u00f3tipo- montado apresenta de forma espor\u00e1dica problemas que tipicamente t\u00eam origem em defici\u00eancias de liga\u00e7\u00e3o el\u00e9trica, j\u00e1 que os conectores utilizados para conex\u00e3o dos m\u00f3dulos dentro do receptor, seletor remoto e transmissor n\u00e3o s\u00e3o de muito boa qualidade (devem ter contatos banhados a ouro).\nAcredita-se que uma montagem mais esmerada, com conectores de boa qualidade, venha a superar estas falhas espor\u00e1dicas.\nO projeto n\u00e3o envolveu o desenvolvimento do indicador local e dos discos codificados \u2014 foram utilizados componentes do sistema VAREC.\nAtualmente, uma firma nacional vem tentando desenvolver os discos codificados com leitura \u00f3tica ao inv\u00e9s de leitura por contatos, onde um pente de pin\u00e7as de arame de a\u00e7o varre a superf\u00edcie do disco.\nA leitura \u00f3tica, al\u00e9m de eliminar o atrito das escovas de leitura, eliminar\u00e1 tamb\u00e9m os problemas de contato.\nO desenvolvimento do indicador local poder\u00eda ser efetuado por uma das firmas nacionais da \u00e1rea de instrumenta\u00e7\u00e3o.\nO objetivo no atual est\u00e1gio \u00e9 tentar industrializar o sistema, selecionando-se duas ou mais firmas, que, recebendo da PETROBR\u00c1S o j\u00e1 desenvolvido, dariam continuidade ao projeto, desenvolvendo o indicador local e os discos codificadores.\n9\t- POTENCIAL DE APLICA\u00c7\u00c3O\nUma vez que o sistema \u00e9 inteligente, ou seja, \u00e9 dotado de um microcomputador, a extens\u00e3o de sua aplica\u00e7\u00e3o \u00e9 ilimitada, bastando para isto desenvolver-se o software de aplica\u00e7\u00e3o e eventualmente acrescentar mais mem\u00f3ria e algum perif\u00e9rico.\nDentre as tarefas que poder\u00edam ser cumpridas pelo sistema estariam:\n\u2014\tc\u00e1lculo do volume a 20 \u00b0C;\n\u2014\tc\u00e1lculo da taxa de enchimento ou esvaziamento do tanque;\n\u2014\tleitura peri\u00f3dica e autom\u00e1tica de todos os tanques;\n\u2014\tcom a adi\u00e7\u00e3o de uma impressora, emiss\u00e3o de boletins;\n\u2014\tpossibilidade de interface com computador para teleprocessamento;\n\u2014\tmonitora\u00e7\u00e3o da ultrapassagem de um dado n\u00edvel."}]}}}