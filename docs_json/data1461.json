{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-BT.04807"}, {"@name": "filename", "#text": "BTP_2004_47_2_4_08_Controle_por_bandas.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "CONTROLE POR BANDAS: CONCEITOS B\u00c1SICOS E APLICA\u00c7\u00c3O NO AMORTECIMENTO DE OSCILA\u00c7\u00d5ES DE CARGA EM UNIDADES DE PRODU\u00c7\u00c3O DE PETR\u00d3LEO\nBAND CONTROL: BASIC CONCEPTS AND APPLICATION IN DAMPENING OSCILLATIONS OF FEED OF PETROLEUM PRODUCTION UNITS\nCONTROL POR BANDAS: CONCEPTOS B\u00c1SICOS Y APLICACI\u00d3NENEL AMORTIGUAMIENTO DE OSCILACIONES DE CARGA EN UNIDADES DE PRODUCCI\u00d3N DE PETR\u00d3LEO\nGiovani Cavalcanti Nunes1\nRESUMO Visando otimizar o tratamento prim\u00e1rio de petr\u00f3leo offshore tem-se proposto que vasos de ac\u00famulo sejam usados como filtros para amortecimento das flutua\u00e7\u00f5es de carga. Para tanto, elaborou-se um algoritmo -Controle por Bandas - cuja id\u00e9ia central \u00e9 a de permitir a oscila\u00e7\u00e3o da vari\u00e1vel controlada dentro de certos limites. Seus conceitos fundamentais s\u00e3o aqui apresentados visando subsidiar os grupos de automa\u00e7\u00e3o. Um estudo de caso de implementa\u00e7\u00e3o de uma vers\u00e3o excessivamente complexa deste algoritmo \u00e9 analisado. Demonstra-se que apesar de muito mais simples a proposta original tem desempenho superior.\nABSTRACT\nThe use of accumulation vessels as filters offeed oscillations has been proposed to optimize the offshore treatment of crude oils. For that an algorithm has been created - Band Control - which promotes level oscillations within certain limits. Its fundamental concepts are presented in this article, with the purpose of guiding implementation teams. A case study of an unnecessarily complex implementation is analyzed. It is demonstrated that besides being simpler, the original algorithm has a superior performance.\nRESUMEN\nEl uso de vasos de acumulaci\u00f3n como filtros de oscilaci\u00f3n de alimentaci\u00f3n ha sido propuesto para optimizar el tratamiento offshore de petr\u00f3leos crudos. Para ese prop\u00f3sito un algoritmo ha sido creado -Control por Bandas - que promueve oscilaciones de nivel dentro de ciertos limites. Sus conceptos fundamentales est\u00e1n presentados en este art\u00edculo, con el prop\u00f3sito de guiar a los equipos de implementaci\u00f3n. Es analizado un estudio de caso de una implementaci\u00f3n innecesariamente compleja. Se demuestra que adem\u00e1s de ser mucho m\u00e1s simple, el algoritmo originalposee un desempeno superior.\n1 Pesquisa e Desenvolvimento de Produ\u00e7\u00e3o, Tecnologia de Processamento Prim\u00e1rio e Avalia\u00e7\u00e3o de Petr\u00f3leo, Centro de Pesquisas (Cenpes) e-mail: giovanicn@petrobras.com.br\n1.\tINTRODU\u00c7\u00c3O\nAs plantas de processamento prim\u00e1rio convencionais, encontradas na ind\u00fastria do petr\u00f3leo, utilizam separadores gravitacionais seja para a separa\u00e7\u00e3o bif\u00e1sica (g\u00e1s-l\u00edquido), seja para a separa\u00e7\u00e3o trif\u00e1sica (g\u00e1s-\u00f3leo-\u00e1gua). Controladores PID - proporcional, integral e derivativo s\u00e3o, via de regra, sintonizados para manter a vari\u00e1vel controlada pr\u00f3xima ao setpoint e, conseq\u00fcentemente, t\u00eam como principal desvantagem o fato de repassarem as oscila\u00e7\u00f5es de carga para a vaz\u00e3o de sa\u00edda. Para sistemas com pequenas oscila\u00e7\u00f5es na carga, a utiliza\u00e7\u00e3o do PID \u00e9 satisfat\u00f3ria. Todavia, as condi\u00e7\u00f5es de estabilidade de vaz\u00e3o nas unidades de produ\u00e7\u00e3o v\u00eam se agravando ao longo dos anos devido \u00e0 matura\u00e7\u00e3o dos campos produtores (produ\u00e7\u00e3o de \u00e1gua e uso de gas-lift) associada \u00e0 produ\u00e7\u00e3o em l\u00e2minas d'\u00e1gua cada vez maiores.\nRecentemente as restri\u00e7\u00f5es de carga e espa\u00e7o em unidades offshore motivaram a pesquisa e o desenvolvimento de equipamentos mais eficientes e compactos como os hidrociclones e coalescedores em linha. Por outro lado, sua compacidade os torna muito sens\u00edveis a oscila\u00e7\u00f5es de carga.\nDesta forma, um algoritmo de controle que permita o amortecimento da carga nos separadores \u00e9 desej\u00e1vel. Esta tem sido a recomenda\u00e7\u00e3o do grupo de processamento do Cenpes/PDP/TE nos diversos embarques para otimiza\u00e7\u00e3o de plataformas efetuados ao longo dos \u00faltimos anos (1 - 4). \u201cA filosofia de ajuste do controlador de n\u00edvel deve ser a de manter a vaz\u00e3o de descarte est\u00e1vel deixando o n\u00edvel flutuar o m\u00e1ximo poss\u00edvel\u201d (4). Traduz-se em mudan\u00e7a de paradigma operacional uma vez que a no\u00e7\u00e3o de n\u00edvel \u201cfixo\u201d foi, durante muito tempo, aceita como estabelecida.\nEstrat\u00e9gias de controle que utilizam o conceito de oscila\u00e7\u00e3o de n\u00edvel para amortecimento de vaz\u00e3o s\u00e3o encontradas na ind\u00fastria e citadas na literatura especializada (5, 6). Diversas propostas (desde a utiliza\u00e7\u00e3o de controle proporcional, controle n\u00e3o-linear, at\u00e9 feedforward) s\u00e3o apresentadas com os mais variados nomes: controle de surge, level averaging control etc. A maioria delas requer a medi\u00e7\u00e3o de vaz\u00e3o, seja de exporta\u00e7\u00e3o ou de carga. Entretanto as condi\u00e7\u00f5es operacionais de uma planta de processamento prim\u00e1rio s\u00e3o tais que ocorrem freq\u00fcentes mudan\u00e7as de carga e altera\u00e7\u00f5es de regime de escoamento na linha de produ\u00e7\u00e3o. Desta forma, o algoritmo ideal \u00e9 aquele que possa se adaptar melhor a essas varia\u00e7\u00f5es. Do ponto de vista operacional, simplicidade \u00e9 tamb\u00e9m desej\u00e1vel.\nEm 2000 elaborou-se um algoritmo alternativo ao qual se deu o nome \u201cControle por Bandas\u201d, cujos conceitos b\u00e1sicos foram apresentados a diversos setores da empresa, entre eles o UN-BC/ST/AUT e E&amp;P-CORP.\nPartiu da opera\u00e7\u00e3o da P-07 a primeira iniciativa na Companhia de solicitar a implementa\u00e7\u00e3o do controlador, conforme recomenda\u00e7\u00e3o feita pelo Cenpes (7, 8). Para tanto, o UN-BC/ST/AUT foi chamado, tendo o Cenpes apresentado a este o projeto conceitual do algoritmo com implementa\u00e7\u00e3o em Matlab (9). Sua concep\u00e7\u00e3o inovadora e simples dispensa as medi\u00e7\u00f5es de vaz\u00e3o, podendo ser aplicada a qualquer vaso de ac\u00famulo. Evitou-se incorrer em erros comuns como o uso de derivadas do n\u00edvel para estimar a vaz\u00e3o de entrada.\nN\u00e3o obstante sua simplicidade e bom desempenho apresentado em simula\u00e7\u00f5es, optou-se por uma implementa\u00e7\u00e3o equivocadamente complexa (10, 11). Ser\u00e3o demonstradas aqui as raz\u00f5es para se evitar esta abordagem pois se introduz uma s\u00e9rie de termos desnecess\u00e1rios, resultando em algoritmo pesado de desempenho inferior \u00e0 proposta original. Pretende-se esclarecer os conceitos por tr\u00e1s da proposta de modo a guiar os grupos de automa\u00e7\u00e3o na implementa\u00e7\u00e3o do algoritmo.\n2.\tDESCRI\u00c7\u00c3O\nPara o controle de n\u00edvel (interface g\u00e1s-l\u00edquido ou interface \u00e1gua-\u00f3leo) ou de press\u00e3o, os controladores PID s\u00e3o sintonizados, na maioria das vezes, para manipular a abertura da v\u00e1lvula no sentido de manter a vari\u00e1vel controlada pr\u00f3xima ao valor desejado - setpoint. Quando h\u00e1 aumento na vaz\u00e3o de entrada do separador, o PID atua abrindo a v\u00e1lvula, aumentando a descarga deste. Portanto a manuten\u00e7\u00e3o da vari\u00e1vel controlada em torno do setpoint aproxima a vaz\u00e3o de sa\u00edda \u00e0 de entrada. Neste caso, a filtragem da carga \u00e9 menor. Inversamente, quanto mais livre para oscilar estiver a vari\u00e1vel controlada, maior a estabilidade da vaz\u00e3o de sa\u00edda - maior a capacidade de filtragem da carga. H\u00e1, por\u00e9m, limites para estas oscila\u00e7\u00f5es. Considere o controle de n\u00edvel em separador bif\u00e1sico (fig.1). Este n\u00e3o pode subir a tal ponto de ocorrer arraste de l\u00edquido pelo g\u00e1s ou descer de modo a permitir a passagem de g\u00e1s com o l\u00edquido. \u00c9 necess\u00e1rio definir uma faixa de atua\u00e7\u00e3o permitida, uma \u201cbanda\u201d.\nNo Controle por Bandas, durante as excurs\u00f5es do n\u00edvel entre o m\u00e1ximo e m\u00ednimo da banda, a vaz\u00e3o de sa\u00edda \u00e9 igual ao valor m\u00e9dio da vaz\u00e3o de entrada. Nos casos em que os limites s\u00e3o ultrapassados, comuta-se para um controlador PID com a\u00e7\u00e3o r\u00e1pida visando garantir o retorno do n\u00edvel para dentro da banda.\nFig. 1 - Controle PID de separador bif\u00e1sico.\nFig. 1 - PID control of two phase separator.\nEstes foram os conceitos fundamentais a partir dos quais se basearam as implementa\u00e7\u00f5es. A diferen\u00e7a entre as propostas vigentes reside no uso do balan\u00e7o de massa para estimativa da vaz\u00e3o de entrada e determina\u00e7\u00e3o de seu valor m\u00e9dio. Estas quest\u00f5es ser\u00e3o aqui exploradas. O foco da an\u00e1lise estar\u00e1 no controle efetuado quando o n\u00edvel se encontra dentro da banda.\n3.\tMODELAGEM DO SEPARADOR COM CONTROLE PID\nConsidere o balan\u00e7o de massa da fase l\u00edquida apenas, equa\u00e7\u00e3o (1):\n= Qin - Qout dt\n(1)\nonde:\nV = volume da fase l\u00edquida\nQin = vaz\u00e3o volum\u00e9trica de entrada Qout = vaz\u00e3o volum\u00e9trica de sa\u00edda\nPara um vaso de comprimento C e di\u00e2metro D, e supondo rela\u00e7\u00e3o linear entre a altura h e o volume tem-se que V = CDh. Pode-se ainda representar a vaz\u00e3o de sa\u00edda pela equa\u00e7\u00e3o da v\u00e1lvula, equa\u00e7\u00e3o (2):\nQout = u Cv J\u00c3P\n(2)\nonde:\nu = a\u00e7\u00e3o de controle na v\u00e1lvula\nCv = coeficiente de vaz\u00e3o\nAP = diferen\u00e7a de press\u00e3o na v\u00e1lvula\nConsiderou-se que a din\u00e2mica da v\u00e1lvula, ou seja, o tempo para que a abertura desta atinja o valor da a\u00e7\u00e3o de controle \u00e9 curto. Isto implica em que a abertura possa ser considerada a pr\u00f3pria a\u00e7\u00e3o de controle u. Assim, a equa\u00e7\u00e3o (1) passa a ser (equa\u00e7\u00e3o 3):\nCD \u2014 = Qin - uCvJ\u00c3P dt\n(3)\ncuja transformada de Laplace est\u00e1 na equa\u00e7\u00e3o (4):\nh(s) =\n1\nCDs\nQin(s) - Cv \u2022 ^/AP u(s))\n(4)\nOs controladores PID, normalmente usados em vasos de ac\u00famulo, s\u00e3o proporcional e integral, ou\nPI. N\u00e3o se usa o termo derivativo para o controle de n\u00edvel. A fun\u00e7\u00e3o de transfer\u00eancia de tal controlador \u00e9 descrita na equa\u00e7\u00e3o (5):\nu (s) = K\t(s) - h(s))\n(5)\nonde r(s) corresponde \u00e0 refer\u00eancia ou setpoint, K e t s\u00e3o os par\u00e2metros do PI. O diagrama de blocos do sistema \u00e9 visto na figura 2.\nFig. 2 - Diagrama de blocos do separador com controle PID.\nFig. 2 - Block diagram of PID applied to a separator.\n4.\tUSO DO BALAN\u00c7O DE MASSA PARA ESTIMATIVA DA VAZ\u00c3O DE ENTRADA E SUA M\u00c9DIA\nSer\u00e3o demonstradas aqui as implica\u00e7\u00f5es decorrentes do uso do balan\u00e7o de massa para estimar a vaz\u00e3o de entrada no desenvolvimento do Controle por Bandas. O estudo feito \u00e9 no dom\u00ednio\ncont\u00ednuo (em oposi\u00e7\u00e3o \u00e0 vers\u00e3o discreta) pois possibilita uma an\u00e1lise mais rigorosa do sistema controlador-planta.\n5.\tCONCEITUA\u00c7\u00c3O MA TEM\u00c1TICA\nO problema de amortecimento de vaz\u00e3o em vaso de ac\u00famulo, sem restri\u00e7\u00f5es (ou regulagem) de n\u00edvel, como mostra o balan\u00e7o material da equa\u00e7\u00e3o (6), tem como solu\u00e7\u00e3o trivial Qout =&lt;Qin>.\ndh\nCD = Qin - Qout\t(6)\ndt\nA vaz\u00e3o de sa\u00edda deve ser a m\u00e9dia temporal da vaz\u00e3o de entrada. Pode-se estimar a vaz\u00e3o de entrada a partir das medi\u00e7\u00f5es de vaz\u00e3o de sa\u00edda, Qout, e da derivada do n\u00edvel h,(equa\u00e7\u00e3o 7)\nQin\nestimado\n= Q<0llm ddo\n+ CD\u2014 dt\n(7)\nmedido\nA m\u00e9dia temporal deve ser efetuada ao longo do per\u00edodo T da perturba\u00e7\u00e3o, (equa\u00e7\u00e3o 8)\nQout = (QWesimado) = J\nt-T\nQinestimado dt\nT\n(8)\nLembrando que os termos \u00e0 direita correspondem a medi\u00e7\u00f5es, doravante os sub\u00edndices ser\u00e3o abandonados. Assim, a lei de controle para a vaz\u00e3o de sa\u00edda \u00e9 (equa\u00e7\u00e3o 9):\nQout = \u2014\nJ (Qout + CD^^dt\n(9)\nt\nT\nEst\u00e1 na equa\u00e7\u00e3o (9) a diferen\u00e7a entre as implementa\u00e7\u00f5es adotadas para o Controle por Bandas. Ser\u00e3o mostradas aqui as raz\u00f5es pela qual n\u00e3o se deve utiliz\u00e1-la tal qual. Considere sua vers\u00e3o discreta (equa\u00e7\u00e3o 10):\nQout =\nQout + CD A- ^At\nT\n(10)\nEsta lei de controle indica os valores de Qout baseados nas suas medi\u00e7\u00f5es e da derivada de h. Sua implementa\u00e7\u00e3o pode ser feita com um controlador de vaz\u00e3o, FIC em cascata cujo setpoint \u00e9 o valor de Qout obtido. Entretanto, o c\u00e1lculo de derivadas, presente no segundo termo \u00e0 direita da equa\u00e7\u00e3o (9), deve ser evitado: primeiro porque amplifica erros de medi\u00e7\u00e3o, fazendo-se necess\u00e1rio o uso de filtros, e segundo porque a m\u00e9dia temporal de Ah/At se reduz \u00e0 diferen\u00e7a entre o valor atual e inicial do n\u00edvel (corresponde \u00e0 derivada da integral no caso cont\u00ednuo), conforme equa\u00e7\u00e3o\n(11), o que requer um esfor\u00e7o computacional muit\u00edssimo menor.\n\u00a3 h(k - i + A~ h(k -i> At = (b(k) -b(k - T))\t(1!)\nH\u00e1 ainda uma desvantagem maior no uso da m\u00e9dia temporal das derivadas (do segundo termo \u00e0 direita da equa\u00e7\u00e3o 9). Aplicando-se a transformada de Laplace \u00e0 equa\u00e7\u00e3o (9), tem-se a equa\u00e7\u00e3o\n(12):\nQout(s) =\n1\t\u2014 Ts\tcd\n\u2014\u2014Qout(s) + C\u2014 (1 - e -Tt )h(s)\nTs\tT\n(12)\nUtilizando a equa\u00e7\u00e3o do balan\u00e7o material (equa\u00e7\u00e3o 6) t\u00eam-se as seguintes fun\u00e7\u00f5es de transfer\u00eancia em malha fechada (equa\u00e7\u00f5es 13 e 14):\nQout(s) = 1 - e Ts Qin(s)\tT s\nh(s) = Ts -1 + e -Ts\nQin(s)\tCDTs2\n(13)\n(14)\nA an\u00e1lise na freq\u00fc\u00eancia mostra que o amortecimento de ondas senoidais \u00e9 preciso, ou seja, Qout fica constante e o n\u00edvel oscila retornando \u00e0 posi\u00e7\u00e3o inicial ap\u00f3s a passagem da onda, desde que T corresponda ao per\u00edodo exato desta. Entretanto raramente pode-se atribuir um per\u00edodo definido a uma golfada. Como conseq\u00fc\u00eancia, a posi\u00e7\u00e3o final do n\u00edvel pode situar-se em qualquer valor, e. g, muito pr\u00f3ximo dos limites da banda, o que \u00e9 indesejado. Este comportamento se deve em parte \u00e0 m\u00e9dia temporal das derivadas.\nNo desenvolvimento matem\u00e1tico desta proposta n\u00e3o houve restri\u00e7\u00f5es que possibilitassem um mecanismo para regulagem do n\u00edvel, resultando num algoritmo com um \u00fanico par\u00e2metro de sintonia, T. Para contornar estas desvantagens faz-se necess\u00e1rio adotar um controlador de n\u00edvel proporcional e integral em paralelo (LC). O diagrama de blocos desta proposta est\u00e1 mostrado na figura 3. Note que a ado\u00e7\u00e3o do LC torna sua sintonia uma tarefa \u00e1rdua, uma vez que este ir\u00e1 concorrer com o c\u00e1lculo das derivadas.\nFig. 3 - Diagrama de blocos.\nFig. 3 - Block diagram.\nConseq\u00fcentemente, obt\u00e9m-se um controlador com cinco par\u00e2metros de sintonia, a saber; dois para o LC, dois para o FC, al\u00e9m de T. A figura 4 mostra a implementa\u00e7\u00e3o.\nFig. 4 - Implementa\u00e7\u00e3o.\nFig. 4 - Implementation.\nConclui-se que o c\u00e1lculo das derivadas do n\u00edvel, o uso de controlador de vaz\u00e3o e controlador de n\u00edvel em paralelo degradam o desempenho desta proposta.\n6.\tCONTROLE POR BANDA: PROPOSTA ORIGINAL\nNa proposta original para a implementa\u00e7\u00e3o do Controle por Bandas (9), a medi\u00e7\u00e3o de Qout \u00e9 evitada partindo-se da equa\u00e7\u00e3o da v\u00e1lvula. Sua substitui\u00e7\u00e3o na equa\u00e7\u00e3o (9) gera uma lei de controle que depende apenas da medi\u00e7\u00e3o de n\u00edvel - lembre-se que u(s) \u00e9 a pr\u00f3pria a\u00e7\u00e3o de controle. Adota-se ainda um controlador proporcional ao n\u00edvel em substitui\u00e7\u00e3o ao segundo termo da equa\u00e7\u00e3o (9) o que, em termos pr\u00e1ticos, implica em corrigir as diferen\u00e7as entre Qout e Qin por um valor proporcional ao ac\u00famulo de l\u00edquido no separador e n\u00e3o mais pela derivada do n\u00edvel. A lei de controle passa a ser (equa\u00e7\u00f5es 15 e 16):\nu( s) =\n(1 - e-Ts)\nTs\nu (s) + K (r (s) - h(s))\n(15)\nKTs\nu(s) = Ts -1 + e-Ts (r(s) - h(s))\n(16)\nDesta forma, valores altos de K propiciam menor filtragem do sinal de entrada (maior flutua\u00e7\u00e3o na vaz\u00e3o de sa\u00edda). Por outro lado, os limites da banda s\u00e3o ultrapassados com menor freq\u00fc\u00eancia.\nVale citar, ainda, que o uso do proporcional (K) tem como conseq\u00fc\u00eancia um erro de regime (offset). Este erro \u00e9 pequeno e, tendo em mente que se est\u00e1 buscando um amortecedor de oscila\u00e7\u00f5es, dificilmente o processo estar\u00e1 pr\u00f3ximo a um estado estacion\u00e1rio. Portanto para o controle de separadores de produ\u00e7\u00e3o recomenda-se o uso da lei de controle da equa\u00e7\u00e3o (16). O modo proporcional e integral poder\u00e1 ser usado em outras situa\u00e7\u00f5es, e.g. onde a varia\u00e7\u00e3o do n\u00edvel n\u00e3o \u00e9 linear com o volume. O diagrama de blocos deste controle, aplicado ao separador, \u00e9 visto na figura 5. As fun\u00e7\u00f5es de transfer\u00eancia em malha fechada s\u00e3o apresentadas nas equa\u00e7\u00f5es (17) e (18):\nu(s)\tKT\n= -\t(17)\nQin(s)\tCD(Ts -1 + e ~Ts) + CvjNPKT\nh(s) =__________Ts -1 + e-Ts_______\nQin( s) = (CD(-1 + e ) + KT)s + CDTs2\n(18)\nNote que nestas fun\u00e7\u00f5es de transfer\u00eancia o termo K possibilita a mudan\u00e7a dos p\u00f3los do sistema. Com base no exposto, pode-se afirmar que apesar de possuir apenas dois par\u00e2metros de sintonia, T e K, este controlador tem desempenho mais adequado para o amortecimento de vaz\u00e3o em vasos de ac\u00famulo.\nFig. 5 - Controle por bandas.\nFig. 5 - Band control.\n7.\tCOMPARA\u00c7\u00c3O ENTRE AS IMPLEMENTA\u00c7\u00d5ES\nUma outra maneira, talvez mais intuitiva, para compara\u00e7\u00e3o dos algoritmos \u00e9 atrav\u00e9s do uso de diagramas de blocos. Considere a implementa\u00e7\u00e3o inicial conforme a figura 3. Supondo que, na melhor das hip\u00f3teses, o controlador de vaz\u00e3o (FIC) tenha desempenho perfeito fornecendo os valores exatos da vaz\u00e3o solicitada, sua fun\u00e7\u00e3o de transfer\u00eancia \u00e9 1/Cv^AP. Desta forma, tem-se o diagrama da figura 6.\nFig.6 - Diagrama de blocos.\nFig. 6 - Block diagram.\nManipulando-se o diagrama de blocos mais uma vez obt\u00e9m-se a figura 7.\nFig. 7 - Diagrama de blocos.\nFig. 7 - Block diagram.\nAtentando para o fato que, conforme demonstrado, a m\u00e9dia temporal da derivada do volume com o tempo \u00e9 a diferen\u00e7a entre o volume atual e o volume inicial, e efetuando os cancelamentos dos termos comuns tem-se o diagrama da figura 8.\nFig. 8 - Diagrama de blocos.\nFig. 8 - Block diagram.\nComparando-se as figuras 8 e 5 poder\u00e1 se perceber que a diferen\u00e7a entre as implementa\u00e7\u00f5es est\u00e1 nos primeiros dois primeiros blocos \u00e0 esquerda: o LC e o c\u00e1lculo de derivadas. \u00c9 lembrado que, conforme demonstrado, deve-se evitar o c\u00e1lculo de derivadas, a elimina\u00e7\u00e3o deste bloco gera a implementa\u00e7\u00e3o original, exceto pelo termo integral do LC. Note que este termo foi inclu\u00eddo para corrigir desvios do n\u00edvel cuja origem parte do c\u00e1lculo de derivadas. Portanto, passa agora a ser desnecess\u00e1rio. Demonstra-se, assim, que o uso do controlador de vaz\u00e3o FIC e o c\u00e1lculo da m\u00e9dia das derivadas s\u00e3o dispens\u00e1veis sobrecarregando desnecessariamente o algoritmo.\n8.\tUMA SIMPLIFICA\u00c7\u00c3O IMPORTANTE\nUma simplifica\u00e7\u00e3o a mais \u00e9 poss\u00edvel utilizando-se a aproxima\u00e7\u00e3o de Pad\u00e9 (equa\u00e7\u00e3o 19):\ne\n-Ts\n2 - Ts\n2 + Ts\n(19)\nSua substitui\u00e7\u00e3o na fun\u00e7\u00e3o de transfer\u00eancia do Controle por Bandas leva \u00e0 equa\u00e7\u00e3o de um controle proporcional e integral (equa\u00e7\u00e3o 20).\nKTs\nTs -1 + e ~Ts\nsK +)\n(20)\nNeste caso, o tempo integral ti \u00e9 T/2. Esta aproxima\u00e7\u00e3o d\u00e1 bons resultados e simplifica muito a implementa\u00e7\u00e3o, uma vez que se pode utilizar o controlador de n\u00edvel PID, existente em todas as plantas. \u00c9 importante ter em mente que neste caso n\u00e3o se deve limitar a integral (reset wind-up) e sua janela de atua\u00e7\u00e3o deve ser igual ao per\u00edodo T.\n9.\tIMPLEMENTA\u00c7\u00c3O E SIMULA\u00c7\u00c3O\nNa figura 9 v\u00ea-se uma das implementa\u00e7\u00f5es do algoritmo do Controle por Bandas em Matlab para controle de n\u00edvel. O bloco COMUTA altera o modo de opera\u00e7\u00e3o caso o n\u00edvel ultrapasse os limites da banda. De modo a evitar varia\u00e7\u00f5es bruscas na a\u00e7\u00e3o de controle durante esta comuta\u00e7\u00e3o, pode-se utilizar a m\u00e9dia entre as a\u00e7\u00f5es do PID e da m\u00e9dia m\u00f3vel. Este controlador possui como par\u00e2metros de sintonia:\n\u2022\tos par\u00e2metros do PID\n\u2022\to per\u00edodo do filtro de m\u00e9dia m\u00f3vel\n\u2022\to tempo de atua\u00e7\u00e3o do PID quando se ultrapassa um dos limites da banda\n\u2022\to per\u00edodo do filtro das a\u00e7\u00f5es de PID e da m\u00e9dia m\u00f3vel\n\u2022\to K do controlador proporcional\n\u2022\tos limites da banda\nO bloco denominado \u201cBanda\u201d da figura 10 encapsula o fluxograma da figura 9\nFig.9 - Fluxograma do controlador por bandas para controle de n\u00edvel.\nFig.9 - Flow diagram of band controller for level control.\nFig. 10 - Fluxograma do controle por bandas aplicado ao Surge de P-07.\nFig. 10 - Flow diagram applied to the Surge of P-07.\nA plataforma de P-07 foi tomada como exemplo para simula\u00e7\u00e3o. O separador atmosf\u00e9rico (Surge) foi escolhido como objeto de estudo para demonstra\u00e7\u00e3o de aplicabilidade e desempenho do Controle por Bandas. Para isto foram efetuadas simula\u00e7\u00f5es no Simulink do Matlab. Na modelagem do Surge de P-07, as n\u00e3o-linearidades foram consideradas. Na figura 11 \u00e9 mostrada a carga do separador atmosf\u00e9rico entre 00:00 e 12:00 do dia 25/01/2004. Verificou-se o maior pico de vaz\u00e3o \u00e0s 9h35min, atingindo 755 m3/h. As flutua\u00e7\u00f5es do n\u00edvel s\u00e3o vistas na figura 12. V\u00ea-se que as grandes oscila\u00e7\u00f5es de n\u00edvel ocorrem no sentido de acompanhar as mudan\u00e7as de vaz\u00e3o m\u00e9dia, cujo per\u00edodo, 2h20min, est\u00e1 bem caracterizado. Para perturba\u00e7\u00f5es com per\u00edodos da ordem de grandeza de minutos, o n\u00edvel pouco oscilou, tendo como conseq\u00fc\u00eancia flutua\u00e7\u00f5es de alta freq\u00fc\u00eancia na vaz\u00e3o de exporta\u00e7\u00e3o (fig. 13).\nFig. 11 - Estimativa de vaz\u00e3o de entrada.\nFig. 11 - Estimated inlet flow rate.\nAs medi\u00e7\u00f5es de n\u00edvel e vaz\u00e3o de sa\u00edda do Surge foram acessadas pela rede interna da Petrobras com freq\u00fc\u00eancia de amostragem de seis segundos. A partir destes dados estimou-se a vaz\u00e3o de carga do Surge.\nFig. 12 - Medi\u00e7\u00e3o de n\u00edvel.\nFig. 12 - Measured level.\nFig. 13 - Medi\u00e7\u00e3o de vaz\u00e3o exporta\u00e7\u00e3o.\nFig. 13 - Measured outlet flow rate.\nNas simula\u00e7\u00f5es em Matlab foi adotada a mesma estimativa de vaz\u00e3o de entrada. Os par\u00e2metros utilizados para o controlador foram:\nM\u00e1x da Banda (m)=1.6\nM\u00edn da Banda (m)=1\nP do PID r\u00e1pido=0.67\nI do PID r\u00e1pido=100\nD do PID r\u00e1pido=0\nPeriodo T (min)=10\nK Cont. Proporcional=0.48\nOs resultados s\u00e3o vistos nas figuras 14 e 15.\nFig. 14 - N\u00edvel entre 0 e 12 horas.\nFig. 14 - Level between 0 and 12 hours.\nFig15. - Vaz\u00e3o de exporta\u00e7\u00e3o entre 0 e 12 horas.\nFig15. - Outlet flow rate between 0 and 12 hours.\nVerifica-se uma filtragem muito boa da carga, com o n\u00edvel oscilando dentro dos limites da banda. Note que os limites adotados (entre 1.6 e 1.0 m) correspondem a determinado volume de filtragem 12,8 m3.\nO mesmo volume pode ser obtido entre outros limites, e.g. 1.4 e 0.79 m, caso seja do interesse da opera\u00e7\u00e3o trabalhar com limites mais baixos. A escala de tempo adequada para avalia\u00e7\u00e3o mais precisa dos ganhos \u00e9 da ordem de minutos. Assim, adotou-se o per\u00edodo entre 5h00 e 6h00 (figs. 16 e 17). A capacidade de estabiliza\u00e7\u00e3o do Controle por Bandas fica nitidamente demonstrada nas figuras citadas.\nFig.16 - N\u00edvel entre 5 e 6 horas.\nFig.16 - Level between 5 and 6 hours.\nFig.17 - Vaz\u00e3o de exporta\u00e7\u00e3o entre 5 e 6 horas.\nFig. 17 - Outlet flow rate between 5 and 6 hour.\n10.\tVANTAGENS E GANHOS DECORRENTES DA UTILIZA\u00c7\u00c3O DO CONTROLE POR BANDAS\nTem-se as seguintes vantagens:\n\u2022\talgoritmo simples que independe de medi\u00e7\u00e3o de vaz\u00e3o de sa\u00edda ou de entrada, de f\u00e1cil implementa\u00e7\u00e3o e intuitivo;\n\u2022\taplic\u00e1vel a todas unidades nos vasos de ac\u00famulo;\n\u2022\taplic\u00e1vel \u00e0s fases oleosa, gasosa ou aquosa;\n\u2022\tpromove a estabiliza\u00e7\u00e3o da vaz\u00e3o de sa\u00edda dos separadores melhorando todo o processamento a jusante - \u00f3leo, g\u00e1s e \u00e1gua;\n\u2022\tmelhoria da qualidade da medi\u00e7\u00e3o de vaz\u00e3o;\n\u2022\testabiliza\u00e7\u00e3o da vaz\u00e3o e press\u00e3o nos oleodutos de exporta\u00e7\u00e3o.\n11.\tCONCLUS\u00c3O\nFoi efetuada a an\u00e1lise conceitual de duas implementa\u00e7\u00f5es distintas do Controle por Bandas:\nUma utiliza o balan\u00e7o de massa do vaso para estimativa da vaz\u00e3o de entrada. Para isto, adota-se o c\u00e1lculo da m\u00e9dia das derivadas do n\u00edvel e um controlador de vaz\u00e3o de sa\u00edda. Mostrou-se que este procedimento, al\u00e9m de in\u00f3cuo, pois resulta na integral da derivada, causa o deslocamento do n\u00edvel de forma aleat\u00f3ria (sem regulagem) no vaso. Esta rota traz como conseq\u00fc\u00eancia a necessidade de um controlador proporcional e integral em paralelo para efetuar a regulagem do n\u00edvel e filtros para evitar a amplifica\u00e7\u00e3o dos erros de medi\u00e7\u00e3o no c\u00e1lculo das derivadas. Viu-se, ainda, que o uso de controlador de vaz\u00e3o \u00e9 desnecess\u00e1rio, sendo suficiente o feedback da a\u00e7\u00e3o de controle. Esta vers\u00e3o do Controle por Bandas foi instalada em P-07.\nA outra implementa\u00e7\u00e3o corresponde \u00e0 concep\u00e7\u00e3o originalmente proposta para o Controle por Bandas onde estes aspectos foram levados em conta. Demonstra-se que a rota adotada, apesar de mais simples, resulta num algoritmo com desempenho superior, pois evita os citados erros. Este controlador possui dois par\u00e2metros, o que facilita sua sintonia. Sua performance \u00e9 demonstrada atrav\u00e9s de simula\u00e7\u00e3o com dados obtidos da planta de P-07. \u00c9 apresentada tamb\u00e9m uma forma alternativa que pode ser implementada como um PID.\nOs esclarecimentos feitos servem para guiar os grupos de automa\u00e7\u00e3o. Recomenda-se um estudo comparativo das implementa\u00e7\u00f5es. Para isto sugere-se instala\u00e7\u00e3o da vers\u00e3o original do algoritmo em P-07 para que se possa avaliar o desempenho de cada proposta. Sua aprova\u00e7\u00e3o dar\u00e1 \u00e0 opera\u00e7\u00e3o da planta um controlador intuitivo e de f\u00e1cil sintonia.\nREFER\u00caNCIAS BIBLIOGR\u00c1FICAS\n(1) LOUVISSE, A. M. T.; RAMALHO, J. B. V. da S.; PEREIRA J\u00daNIOR, O. A. Monitoramento, caracteriza\u00e7\u00e3o e compara\u00e7\u00e3o opera\u00e7\u00e3o-projeto dos sistemas de \u00f3leo e \u00e1gua oleosa da plataforma de Pargo. Rio de Janeiro: CENPES. DIPLOT. SEPROT, 1997. 1 v.\nPEREIRA J\u00daNIOR, O. A. et al. Avalia\u00e7\u00e3o de desempenho dos sistemas de \u00f3leo e de tratamento de \u00e1gua oleosa da plataforma de Namorado-2. Rio de Janeiro: CENPES. DIPLOT. SEPROT, 1997. Comunica\u00e7\u00e3o t\u00e9cnica.\nNUNES, G. C. Caracteriza\u00e7\u00e3o din\u00e2mica da planta de processamento de Pampo para otimiza\u00e7\u00e3o Rio de Janeiro: PETROBRAS. CENPES. PDEP. MC, 2002. 15 f. Comunica\u00e7\u00e3o T\u00e9cnica 019/02.\n______. An\u00e1lise da estrutura de controle da plataforma de Namorado-1, PNA-1. Rio de\nJaneiro: PETROBRAS. CENPES. DIPREX. SEDEM, 1997. 16 f. Comunica\u00e7\u00e3o T\u00e9cnica 021/97.\nSHINSKEY, F. G. Process control systems: application, design and tuning. 3. ed.\nSingapure: McGraw Hill Book, 1988. 526 p.\nLUYBEN, W. L. Process modeling, simulation and control for chemical engineers. 2' ed.\nSingapure: McGraw Hill Book, 1990. 725 p.\nNUNES, G. C. Caracteriza\u00e7\u00e3o din\u00e2mica da planta de processamento de P-07: parte I.\nRio de Janeiro: PETROBRAS. CENPES. PDP. TE, 2003. 9 f.\nComunica\u00e7\u00e3o T\u00e9cnica 004/03.\n(8)\n(9)\n(10)\n(11)\n______. Caracteriza\u00e7\u00e3o din\u00e2mica da planta de processamento de SS-6. Rio de Janeiro:\nPETROBRAS. CENPES. PDP. TE, 2003. Comunica\u00e7\u00e3o T\u00e9cnica 022/03.\n______. Controle por bandas para processamento prim\u00e1rio: aplica\u00e7\u00e3o e conceitos fUndamentais. Rio de Janeiro: PETROBRAS. CENPES. PDP. TE, 2004. Comunica\u00e7\u00e3o t\u00e9cnica 022/04.\nB. FILHO, A. M.; MEIRA, M. A. A.; NUNES, G. C. Controle de n\u00edvel em separadores \u00f3leo/g\u00e1s. S\u00e3o Paulo: ISA Show South America, 2004.\n_______;_______. SINDOTEC, MD - 3010.16-5520-800-PSE-001 (memorial descritivo). [S.l.: s.n.], 2004."}]}}}