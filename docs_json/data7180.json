{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.11377"}, {"@name": "filename", "#text": "16653_001088914.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "UNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL\nINSTITUTO DE INFORM\u00c1TICA\n\nPROGRAMA DE P\u00d3S-GRADUA\u00c7\u00c3O EM MICROELETR\u00d4NICA\n\nLEONARDO BISCH PICCOLI\n\nDesenvolvimento de um Sistema em Chip\nde processamento online para Manuten\u00e7\u00e3o\n\nInteligente\n\nTese apresentada como requisito parcial para a\nobten\u00e7\u00e3o do grau de Doutor em Microeletr\u00f4nica\n\nOrientador: Prof. Dr. Tiago Roberto Balen\nCo-orientador: Prof. Dr. Renato Ventura Bayan\nHenriques\n\nPorto Alegre\n2018\n\n\n\nCIP \u2014 CATALOGA\u00c7\u00c3O NA PUBLICA\u00c7\u00c3O\n\nPiccoli, Leonardo Bisch\n\nDesenvolvimento de um Sistema em Chip de processamento\nonline para Manuten\u00e7\u00e3o Inteligente / Leonardo Bisch Piccoli. \u2013\nPorto Alegre: PGMICRO da UFRGS, 2018.\n\n146 f.: il.\n\nTese (doutorado) \u2013 Universidade Federal do Rio Grande do\nSul. Programa de P\u00f3s-Gradua\u00e7\u00e3o em Microeletr\u00f4nica, Porto\nAlegre, BR\u2013RS, 2018. Orientador: Tiago Roberto Balen; Co-\norientador: Renato Ventura Bayan Henriques.\n\n1. Manuten\u00e7\u00e3o inteligente. 2. Processamento em tempo real.\n3. Circuitos integrados. 4. Toler\u00e2ncia a falhas. 5. Verilog. 6. Mi-\ncroeletr\u00f4nica. I. Balen, Tiago Roberto. II. Henriques, Renato\nVentura Bayan. III. T\u00edtulo.\n\nUNIVERSIDADE FEDERAL DO RIO GRANDE DO SUL\nReitor: Prof. Rui Vicente Oppermann\nVice-Reitora: Profa. Jane Fraga Tutikian\nPr\u00f3-Reitor de P\u00f3s-Gradua\u00e7\u00e3o: Prof. Celso Giannetti Loureiro Chaves\nDiretora do Instituto de Inform\u00e1tica: Profa. Carla Maria Dal Sasso Freitas\nCoordenadora do PGMICRO: Prof. Fernanda Gusm\u00e3o de Lima Kastensmidt\nBibliotec\u00e1ria-chefe do Instituto de Inform\u00e1tica: Beatriz Regina Bastos Haro\n\n\n\nApressa-te a viver bem e pensa que cada dia \u00e9, por si s\u00f3, uma VIDA!\n\n\u2014 S\u00caNECA\n\n\n\n\n\nAGRADECIMENTOS\n\nAo Prof. Dr. Tiago Balen, pela orienta\u00e7\u00e3o, dedica\u00e7\u00e3o, paci\u00eancia e amizade durante\n\ntodo o processo.\n\nAos professores doutores Renato Ventura Bayan Henriques e Carlos Eduardo Pereira,\n\npor todas as contribui\u00e7\u00f5es e pelo cr\u00e9dito dado ao desenvolvimento desta pesquisa.\n\n\u00c0 Escola de Engenharia da Universidade Federal do Rio Grande do Sul (UFRGS),\n\npor ser o local necess\u00e1rio ao desenvolvimento deste trabalho.\n\n\u00c0 minha esposa Cristiane e filha Alice, pelo apoio emocional e espiritual.\n\nAos meus pais pelo aux\u00edlio durante o per\u00edodo de elabora\u00e7\u00e3o deste trabalho.\n\nAos membros do Grupo de Controle Automa\u00e7\u00e3o e Rob\u00f3tica (GCAR) e ao Labora-\n\nt\u00f3rio de Processamento de Sinais e Imagens (LaPSI) da UFRGS, pelo suporte acad\u00eamico.\n\nA todos os participantes da pesquisa, pela indispens\u00e1vel contribui\u00e7\u00e3o.\n\n\n\n\n\nRESUMO\n\nEstrat\u00e9gias de monitoramento, baseadas na an\u00e1lise da condi\u00e7\u00e3o de equipamentos utili-\nzando ferramentas de processamento digital de sinais, intelig\u00eancia artificial e toler\u00e2ncia\na falhas, tornam-se cada vez mais necess\u00e1rias nos processos industriais. As t\u00e9cnicas de\nmanuten\u00e7\u00e3o inteligente conferem confiabilidade, disponibilidade e efic\u00e1cia, e s\u00e3o estuda-\ndas, neste trabalho, no atual estado da arte. Por\u00e9m, grande parte delas utiliza medidas\ncom estados e par\u00e2metros do processo que s\u00e3o dispendiosas e envolvem elevado tempo\nde amostragem e an\u00e1lise. O objetivo deste trabalho \u00e9 desenvolver um novo sistema ca-\npaz de estimar a condi\u00e7\u00e3o de sa\u00fade de um equipamento a partir das leituras de vibra\u00e7\u00e3o\ne torque de sensores, e assim, viabilizar a detec\u00e7\u00e3o, predi\u00e7\u00e3o e identifica\u00e7\u00e3o de falhas\nonline em atuadores el\u00e9tricos utilizados em linhas de transporte de petr\u00f3leo e/ou deri-\nvados. Para isso, foi desenvolvida uma t\u00e9cnica que, por meio de um dispositivo com-\nputacional, possibilita monitorar, considerando ru\u00eddo e, de forma interativa, as varia\u00e7\u00f5es\ndos par\u00e2metros de um processo f\u00edsico, tais como: falhas abruptas, incipientes e intermi-\ntentes. Isso corresponde \u00e0s atividades de detec\u00e7\u00e3o, identifica\u00e7\u00e3o de falhas e previs\u00f5es\nsobre poss\u00edveis problemas que venham a surgir em consequ\u00eancia de pequenos desvios\ndo comportamento normal do sistema. A metodologia empregada \u00e9 baseada na estrutura\ndo modelo Open Systems Architecture for Condition-Based Maintenance (OSA-CBM),\nque permite atuar nas seguintes camadas: 1) Aquisi\u00e7\u00e3o de dados; 2) Manipula\u00e7\u00e3o de da-\ndos; 3) Monitoramento das condi\u00e7\u00f5es; 4) Avalia\u00e7\u00e3o da sa\u00fade. O sistema compreende\na an\u00e1lise simult\u00e2nea das propriedades de tempo e frequ\u00eancia do sinal, extra\u00e7\u00e3o de ca-\nracter\u00edsticas e filtragem adaptativa. Uma bancada de testes foi utilizada para reproduzir\nalgumas falhas t\u00edpicas que podem causar degrada\u00e7\u00e3o na opera\u00e7\u00e3o de atuadores fabricados\nno mercado. O sistema foi denominado Fault Detection System (FDS) e \u00e9 baseado em t\u00e9c-\nnicas de processamento de sinais que tem como sa\u00edda um sinal de res\u00edduo ou erro quando\nna ocorr\u00eancia de uma falha correspondente nos equipamentos monitorados. A vers\u00e3o em\nsoftware do sistema foi registrada no Instituto Nacional da Propriedade Industrial (INPI)\nno \"BR 51 2016 000863-6\". Uma nova vers\u00e3o para prototipagem em hardware do FDS\nem conjunto com um bloco auxiliar denominado Fault Detection Index (FDI), que tam-\nb\u00e9m \u00e9 proposto neste trabalho, foi desenvolvido na linguagem Verilog e implementado\nutilizando uma biblioteca Complementary Metal-Oxide-Semiconductor (CMOS) de 90\nnm visando baixo consumo de energia (? 654 \u00b5W ), baixa utiliza\u00e7\u00e3o de \u00e1rea em sil\u00edcio\n(? 0,14 mm2) e processamento em tempo real. Os resultados demonstram a efic\u00e1cia\ndo m\u00e9todo de detec\u00e7\u00e3o, diagn\u00f3stico e identifica\u00e7\u00e3o de falhas apresentadas em atuadores\nel\u00e9tricos empregados para controle de v\u00e1lvulas.\n\nPalavras-chave: Manuten\u00e7\u00e3o inteligente. Processamento em tempo real. Circuitos inte-\n\ngrados. Toler\u00e2ncia a falhas. Verilog. Microeletr\u00f4nica.\n\n\n\n\n\nABSTRACT\n\nMonitoring strategies based on the analysis of equipment condition with information de-\nrived from digital signal processing, artificial intelligence and fault tolerance tools become\nincreasingly necessary in industrial process. In this context, intelligent maintenance tech-\nniques provide reliability, availability and are being increasingly studied in the current\nstate of the art researches. However, most of them are based on measurements with states\nand process parameters that are costly and involve high sampling and analysis time. In\norder to avoid this problem, this work presents a new system capable of estimating the\nhealth condition of an equipment from the vibration and torque measurements of sensors,\nthus enabling online detection, prediction and identification of faults in electric actua-\ntors. The developed system represents a technique that, by means of a computational\ndevice, allows to monitor the variations of the parameters of a physical process such as\nabrupt, incipient and intermittent failures. This corresponds to the activities of fault de-\ntection, identification and prediction of possible problems that may arise due to minor\ndeviations of the normal behavior state of the system. The methodology is based on the\nOpen Systems Architecture for Condition-Based Maintenance (OSA-CBM) framework,\nwhich allows to act in the following layers: 1) Data acquisition; 2) Data manipulation;\n3) Condition monitoring; 4) Health assessment. The system comprises the simultaneous\nanalysis of signal time and frequency properties, feature extraction and adaptive filter-\ning. A testbench structure has been used to reproduce some typical faults that can cause\ndegradation in the operation of the available commercial actuators. The results show the\neffectiveness of the method of detection, diagnosis and identification of faults that may\noccur in electric valves. The system is denominated Fault Detection System (FDS) and it\nis based on digital signal processing techniques producing a residue signal or error in the\noccurrence of a corresponding fault in the monitored equipment. A software version of\nthe system was registered with the Instituto Nacional da Propriedade Industrial (INPI)\nno \"BR 51 2016 000863-6\". A new version for hardware prototyping of FDS together\nwith the Fault Detection Index (FDI), which is also proposed in this work, was using Ver-\nilog language and implemented in a 90 nm Complementary Metal-Oxide-Semiconductor\n(CMOS) library for low power consumption (? 654 \u00b5W ), low silicon area utilization\n(? 0.14 mm2) and real time processing. The results demonstrate the effectiveness of\nthe method of detection, diagnosis and identification of faults present in electric actuators\nused for controling fluidic valves.\n\nKeywords: Intelligent Maintenance. Real Time Processing. Integrated Circuits. Fault\n\nTolerance. Verilog. Microelectronics.\n\n\n\n\n\nLISTA DE ABREVIATURAS E SIGLAS\n\nA/D Conversor Anal\u00f3gico/Digital\n\nARMA Auto-Regressive Moving Average\n\nASIC Application Specific Integrated Circuit\n\nAWT Adaptive Wavelet Transform\n\nBIST Built-in Self Test\n\nCBM Condition Based Maintenance\n\nCD Correlation Dimension\n\nCDF Cohen Daubechies Feauveau\n\nCEITEC Centro de Excel\u00eancia em Tecnologia Eletr\u00f4nica Avan\u00e7ada\n\nCMOS Complementary Metal-Oxide-Semiconductor\n\nCSN Chip Select Not\n\nCWT Continuous Wavelet Transform\n\nD/A Conversor Digital / Anal\u00f3gico\n\nDC Design Compiler\n\nDRC Design Rule Check\n\nDSP Digital Signal Processing\n\nDWT Discrete Wavelet Transform\n\nEEMD Ensemble Empirical Mode Decomposition\n\nEMD Empirical Mode Decomposition\n\nERC Electrical Rule Check\n\nEWMA Exponentially Weighted Moving Average\n\nFB Filter Banks\n\nFD Fault Detection\n\nFDI Fault Detection Index\n\nFDS Fault Detection System\n\nFIR Finite Impulse Response\n\nFPGA Field Programmable Gate Array\n\nGND Ground\n\nIC Integrated Circuit Compiler\n\nLFSR Linear Feedback Shift Register\n\nLMS Least Mean Squares Algorithm\n\nLS Lifting Scheme\n\n\n\nLVS Layout Versus Schematic\n\nMISO Master In Slave Out\n\nMOSI Master Out Slave In\n\nOSA-CBM Open Systems Architecture for Condition-Based Maintenance\n\nPC Personal Computer\n\nRC Encounter RTL Compiler\n\nRTL Register Transfer Level\n\nSANC Self-Adaptive Noise Cancellation\n\nSCK Serial Clock\n\nSDC Synopsys Design Constraints\n\nSDI Serial Data In\n\nSDO Serial Data Out\n\nSOM Self-Organization Maps\n\nSPI Serial Peripheral Interface\n\nTPG Test Pattern Generation\n\nVHDL VHSIC Hardware Description Language\n\nVHSIC Very High Speed Integrated Circuit\n\n\n\nLISTA DE S\u00cdMBOLOS\n\n?\n\na\nb\n\nSomat\u00f3rio da fra\u00e7\u00e3o\n\n? N\u00edvel 1 de decomposi\u00e7\u00e3o em sub-bandas de frequ\u00eancia da DWT\n\n? N\u00edvel 2 de decomposi\u00e7\u00e3o em sub-bandas de frequ\u00eancia da DWT\n\n? N\u00edvel 3 de decomposi\u00e7\u00e3o em sub-bandas de frequ\u00eancia da DWT\n\n? N\u00edvel 4 de decomposi\u00e7\u00e3o em sub-bandas de frequ\u00eancia da DWT\n\n\u00b5 Passo de adapta\u00e7\u00e3o do filtro adaptativo\n\n? Fator de suaviza\u00e7\u00e3o\n\n\u00b5C Microcontrolador\n\n\n\n\n\nLISTA DE FIGURAS\n\nFigura 1.1 Principais estrat\u00e9gias de manuten\u00e7\u00e3o. ...........................................................21\n\nFigura 2.1 Rela\u00e7\u00e3o entre defeito, falha, erro e falha sist\u00eamica. ......................................28\nFigura 2.2 Falha e consequ\u00eancias....................................................................................29\nFigura 2.3 Arquitetura de um ambiente de inje\u00e7\u00e3o de falhas..........................................30\nFigura 2.4 Curva P-F de resist\u00eancia \u00e0 falha. ...................................................................33\nFigura 2.5 Diferentes t\u00e9cnicas de detec\u00e7\u00e3o e o seu correspondente custo de manu-\n\nten\u00e7\u00e3o. .....................................................................................................................34\nFigura 2.6 Esquema do sistema de manuten\u00e7\u00e3o inteligente tolerante a falhas. ..............35\nFigura 2.7 O esquema do sistema hidr\u00e1ulico para o equipamento de teste experimental.37\nFigura 2.8 Hist\u00f3rico no dom\u00ednio do tempo e espectro FFT sem restri\u00e7\u00e3o de estabi-\n\nlidade sob press\u00e3o piloto de 0,3 MPa......................................................................39\nFigura 2.9 O sistema experimental do motor. .................................................................39\nFigura 2.10 Representa\u00e7\u00e3o gr\u00e1fica do fluxo de sinal do sistema de detec\u00e7\u00e3o de fa-\n\nlhas do motor...........................................................................................................40\nFigura 2.11 Sistema de teste de motor hidr\u00e1ulico de \u00e1gua..............................................40\nFigura 2.12 Gr\u00e1ficos no dom\u00ednio tempo-frequ\u00eancia da CWT de Morlet do sinal\n\nsimulado obtido pela modelagem do sinal de vibra\u00e7\u00e3o em cinco condi\u00e7\u00f5es do\npist\u00e3o. ......................................................................................................................41\n\nFigura 2.13 Esquem\u00e1tico da instala\u00e7\u00e3o do equipamento para teste de rolamento. .........42\nFigura 2.14 Valor m\u00e1ximo normalizado com diferentes m\u00e9todos de teste em rola-\n\nmentos. ....................................................................................................................42\nFigura 2.15 Nove condi\u00e7\u00f5es de falha do rolamento........................................................43\nFigura 2.16 Sinais de vibra\u00e7\u00e3o para diferentes condi\u00e7\u00f5es de degrada\u00e7\u00e3o. .....................44\nFigura 2.17 M\u00e9todo de filtragem de ru\u00eddos com algoritmos SANC e ANC. ..................45\nFigura 2.18 Espectro de freq\u00fc\u00eancia de sinais de falha simulados no transporte fer-\n\nrovi\u00e1rio. ...................................................................................................................46\nFigura 2.19 Espectros de frequ\u00eancia de sinais de ru\u00eddo a diferentes velocidades...........46\nFigura 2.20 Configura\u00e7\u00e3o de hardware do sistema STFDOMS implementado. ............48\nFigura 2.21 Representa\u00e7\u00e3o do modelo de sistemas para detec\u00e7\u00e3o de falhas no Si-\n\nmulink. ....................................................................................................................50\n\nFigura 3.1 Primeiras etapas do CBM para manuten\u00e7\u00e3o inteligente. ...............................54\nFigura 3.2 Arquitetura em hardware para o protocolo SPI.............................................60\n\nFigura 4.1 Evolu\u00e7\u00e3o da produ\u00e7\u00e3o de petr\u00f3leo, por localiza\u00e7\u00e3o (terra e mar). ................61\nFigura 4.2 Transporte e armazenamento de petr\u00f3leo e derivados. ..................................62\nFigura 4.3 Componentes de um t\u00edpico terminal. .............................................................64\nFigura 4.4 Fluxograma simplificado da automa\u00e7\u00e3o de um t\u00edpico terminal.....................64\nFigura 4.5 Redund\u00e2ncia com v\u00e1lvulas em dutos.............................................................67\nFigura 4.6 Componentes externos do atuador. ................................................................68\nFigura 4.7 Detalhes construtivos dos atuadores. .............................................................69\nFigura 4.8 Conjunto de engrenagens sat\u00e9lite do atuador. ...............................................71\nFigura 4.9 Conjunto defeituoso de engrenagens do estudo de caso................................71\nFigura 4.10 Diagrama de causa-efeito para identificar poss\u00edveis modos de falha no\n\nconjunto atuador-v\u00e1lvula. .......................................................................................72\nFigura 4.11 Modelagem do atuador el\u00e9trico, v\u00e1lvula e tubula\u00e7\u00e3o. .................................73\nFigura 4.12 Arquitetura do sistema embarcado para manuten\u00e7\u00e3o inteligente. ...............74\n\n\n\nFigura 4.13 Arquitetura do circuito de predi\u00e7\u00e3o com filtro adaptativo. ..........................75\n\nFigura 5.1 Arquitetura conceitual do sistema nas camadas do OSA-CBM. ...................79\nFigura 5.2 Estrutura do sistema de detec\u00e7\u00e3o de falhas....................................................80\nFigura 5.3 Diagrama de blocos da estrutura LS. .............................................................82\nFigura 5.4 Arquitetura LS em hardware para wavelet 9/7..............................................82\nFigura 5.5 Diagrama de blocos do filtro adaptativo LMS...............................................85\nFigura 5.6 Arquitetura do FDS para s\u00edntese....................................................................87\nFigura 5.7 Diagrama da pinagem do FDS.......................................................................87\nFigura 5.8 Implementa\u00e7\u00e3o na configura\u00e7\u00e3o Galois de 8-bit do LFSR............................88\nFigura 5.9 Gerador de padr\u00f5es de teste para o chip. .......................................................88\nFigura 5.10 Esquema de funcionamento do gerador de padr\u00f5es de teste. ......................89\nFigura 5.11 Arquitetura do FDI para s\u00edntese...................................................................90\nFigura 5.12 Arquitetura do chip FDS para predi\u00e7\u00e3o de falhas com SPI. ........................90\nFigura 5.13 Arquitetura do chip FDS e FDI para predi\u00e7\u00e3o de falhas com SPI...............91\nFigura 5.14 A estrutura geral com uma rede WirelessHARTTM. ....................................92\nFigura 5.15 Configura\u00e7\u00e3o do projeto em rede Modbus...................................................93\nFigura 5.16 Chip para predi\u00e7\u00e3o de falhas com interface SPI. .........................................94\nFigura 5.17 Esquem\u00e1tico do chip para predi\u00e7\u00e3o de falhas com interface SPI. ...............94\nFigura 5.18 Protocolo de comunica\u00e7\u00e3o com o chip. .......................................................95\nFigura 5.19 Procedimento para configura\u00e7\u00e3o do chip.....................................................97\n\nFigura 6.1 Etapas de opera\u00e7\u00e3o para a obten\u00e7\u00e3o de resultados. .....................................100\nFigura 6.2 Entradas e sa\u00eddas da ferramenta Design Compiler. .....................................100\nFigura 6.3 Vis\u00e3o de topo do chip de predi\u00e7\u00e3o de falhas................................................101\nFigura 6.4 Verifica\u00e7\u00e3o da s\u00edntese l\u00f3gica e valida\u00e7\u00e3o da qualidade dos resultados........101\nFigura 6.5 Entradas e sa\u00eddas da ferramenta IC Compiler. ............................................102\nFigura 6.6 S\u00edntese f\u00edsica do chip de predi\u00e7\u00e3o de falhas em 90 nm...............................103\nFigura 6.7 Verifica\u00e7\u00e3o da s\u00edntese f\u00edsica e valida\u00e7\u00e3o da qualidade dos resultados. ........103\nFigura 6.8 Posicionamento e roteamento das c\u00e9lulas. ..................................................104\nFigura 6.9 Distribui\u00e7\u00e3o da densidade de energia consumida. .......................................105\nFigura 6.10 Estrutura da distribui\u00e7\u00e3o da \u00e1rvore de rel\u00f3gio. ..........................................105\nFigura 6.11 S\u00edntese f\u00edsica do chip de predi\u00e7\u00e3o de falhas em 0,6 \u00b5m............................110\nFigura 6.12 Conex\u00e3o do sistema com FPGA e microcontrolador.................................111\nFigura 6.13 Atuador instrumentado na bancada de teste. .............................................114\nFigura 6.14 Inje\u00e7\u00e3o de falhas com freio a disco............................................................115\nFigura 6.15 Engrenagens usadas nos testes para inje\u00e7\u00e3o de falhas...............................115\nFigura 6.16 Localiza\u00e7\u00e3o dos sensores instalados no atuador el\u00e9trico. ..........................116\nFigura 6.17 Espectro de frequ\u00eancia do aceler\u00f4metro em condi\u00e7\u00f5es normais. ..............117\nFigura 6.18 Espectro de frequ\u00eancia do sensor de torque em condi\u00e7\u00f5es normais..........118\nFigura 6.19 Espectro de frequ\u00eancia do sensor de torque com press\u00e3o de 100 kPa. ....118\nFigura 6.20 Espectro de frequ\u00eancia do sensor de torque com press\u00e3o de 300 kPa. ....118\nFigura 6.21 Espectro de frequ\u00eancia do aceler\u00f4metro para engrenagens desgastadas. ..119\nFigura 6.22 Espectro de frequ\u00eancia do aceler\u00f4metro para engrenagens com dentes\n\nfraturados. .............................................................................................................119\nFigura 6.23 Espectro de frequ\u00eancia do aceler\u00f4metro para engrenagens sem lubrifi-\n\nca\u00e7\u00e3o. ....................................................................................................................119\nFigura 6.24 Interface bash script para configurar e executar macros. ..........................120\nFigura 6.25 Intera\u00e7\u00e3o entre o usu\u00e1rio e o sistema para os testes...................................121\nFigura 6.26 Experimento de falha com 100 kPa no disco de freio sobre a v\u00e1lvula.....123\nFigura 6.27 Experimento de falha com 300 kPa no disco de freio sobre a v\u00e1lvula.....124\n\n\n\nFigura 6.28 Experimento de falha com engrenagem de dente desgastado. ..................125\nFigura 6.29 Experimento de falha com engrenagem de dente fraturado. .....................127\nFigura 6.30 Experimento de falha sem lubrifica\u00e7\u00e3o nas engrenagens. .........................128\nFigura 6.31 Experimento de falha sem lubrifica\u00e7\u00e3o nas engrenagens. .........................129\nFigura 6.32 Formas de diagn\u00f3stico extra\u00eddo do histograma. ........................................131\n\n\n\n\n\nLISTA DE TABELAS\n\nTabela 1.1 Caracter\u00edsticas das t\u00e9cnicas propostas. ..........................................................25\n\nTabela 2.1 Principais caracter\u00edsticas das estrat\u00e9gias cl\u00e1ssicas de manuten\u00e7\u00e3o. ..............31\nTabela 2.2 Estado da arte das principais estrat\u00e9gias inteligentes. ...................................52\n\nTabela 3.1 Algor\u00edtimo do filtro LMS. .............................................................................57\nTabela 3.2 Representa\u00e7\u00e3o de n\u00fameros no formato Q......................................................59\nTabela 3.3 Sinais utilizados no protocolo SPI mestre. ....................................................60\n\nTabela 4.1 Procedimentos operacionais de um t\u00edpico terminal. ......................................66\nTabela 4.2 Especifica\u00e7\u00f5es do atuador el\u00e9trico modelo CSR6. ........................................70\n\nTabela 5.1 Pinagem do chip com interface SPI...............................................................94\n\nTabela 6.1 An\u00e1lise de tempo do chip proposto. ............................................................106\nTabela 6.2 \u00c1rea do chip implementado em 90 nm. ......................................................107\nTabela 6.3 Dissipa\u00e7\u00e3o de energia do chip implementado em 90 nm............................107\nTabela 6.4 Circuitos digitais utilizados na s\u00edntese l\u00f3gica..............................................109\nTabela 6.5 Dissipa\u00e7\u00e3o de energia do chip implementado em 0,6 \u00b5m...........................110\nTabela 6.6 Conex\u00e3o entre os m\u00f3dulos de FPGA e microcontrolador. ..........................112\nTabela 6.7 Ocupa\u00e7\u00e3o do chip no dispositivo EP2C5T144C8. ......................................113\nTabela 6.8 Ciclos realizados de testes experimentais....................................................117\nTabela 6.9 Comparativo de consumo aproximado de 50 v\u00e1lvulas para 15 ciclos\n\ndi\u00e1rios......................................................................................................................132\n\n\n\n\n\nSUM\u00c1RIO\n\n1 INTRODU\u00c7\u00c3O ...........................................................................................................21\n1.1 Vis\u00e3o Geral dos Objetivos ......................................................................................24\n1.2 Contribui\u00e7\u00f5es...........................................................................................................24\n1.3 Apresenta\u00e7\u00e3o dos Cap\u00edtulos ...................................................................................25\n2 ESTADO DA ARTE EM T\u00c9CNICAS DE MANUTEN\u00c7\u00c3O INTELIGENTE.....27\n2.1 Toler\u00e2ncia a Falhas .................................................................................................27\n2.1.1 Defini\u00e7\u00f5es de Termos Empregados........................................................................28\n2.1.2 Arquitetura de um Ambiente de Inje\u00e7\u00e3o de Falhas................................................29\n2.2 T\u00e9cnicas de Manuten\u00e7\u00e3o ........................................................................................30\n2.2.1 Manuten\u00e7\u00e3o Baseada na Condi\u00e7\u00e3o ........................................................................31\n2.2.2 Manuten\u00e7\u00e3o Inteligente..........................................................................................34\n2.3 Estado da Arte em Manuten\u00e7\u00e3o Inteligente .........................................................36\n2.3.1 Resumo do Estado da Arte.....................................................................................50\n3 REVIS\u00c3O DE T\u00c9CNICAS E METODOLOGIAS ..................................................53\n3.1 M\u00e9todos de Processamento Digital de Sinais........................................................53\n3.1.1 Transformada Discreta de Wavelet ........................................................................54\n3.1.2 Extra\u00e7\u00e3o de Energia ...............................................................................................55\n3.1.3 Filtro Adaptativo ....................................................................................................56\n3.2 Sistemas de Tempo Real .........................................................................................58\n3.3 Formato dos Dados de Dispositivos Digitais.........................................................58\n3.3.1 Nota\u00e7\u00e3o de Ponto Fixo no Formato Q ...................................................................58\n3.4 O Protocolo de Comunica\u00e7\u00e3o Serial SPI ..............................................................59\n3.4.1 Arquitetura de Hardware do Protocolo SPI ...........................................................60\n4 UTILIZA\u00c7\u00c3O DE V\u00c1LVULAS NO MODAL DUTOVI\u00c1RIO DA IND\u00daS-\n\nTRIA DO PETR\u00d3LEO .......................................................................................61\n4.1 Oferta e Demanda de Petr\u00f3leo ...............................................................................61\n4.2 Transporte e Armazenamento de Petr\u00f3leo e Derivados ......................................62\n4.2.1 Opera\u00e7\u00f5es de um T\u00edpico Terminal .........................................................................63\n4.3 Vis\u00e3o geral do Estudo de Caso...............................................................................67\n4.3.1 Estudo de Caso deste Trabalho ..............................................................................68\n4.3.2 Trabalhos Relacionados ao Estudo de Caso ..........................................................71\n5 PROPOSTA E IMPLEMENTA\u00c7\u00d5ES DO SISTEMA ............................................79\n5.1 Sistema Embarcado FDS e FDI .............................................................................80\n5.2 O Sistema FDS para Detec\u00e7\u00e3o e Predi\u00e7\u00e3o de Falhas ...........................................80\n5.2.1 Transformada Discreta de Wavelet ........................................................................81\n5.2.2 Energia do Sinal .....................................................................................................83\n5.2.3 Filtro Adaptativo LMS...........................................................................................84\n5.3 O Sistema FDI para Diagn\u00f3stico de Falhas ..........................................................85\n5.3.1 \u00cdndice de Detec\u00e7\u00e3o de Falhas.................................................................................85\n5.4 Chip para Predi\u00e7\u00e3o e Detec\u00e7\u00e3o de Falhas.............................................................86\n5.4.1 Arquitetura do FDS................................................................................................86\n5.4.2 Arquitetura para Autoteste Funcional ....................................................................87\n5.4.3 Arquitetura do FDI.................................................................................................89\n5.4.4 Arquitetura do FDS com SPI .................................................................................90\n5.4.5 Arquitetura do FDS e FDI com SPI .......................................................................91\n5.5 Arquitetura para Ind\u00fastria 4.0 ..............................................................................91\n5.6 Descri\u00e7\u00e3o Operacional do Chip .............................................................................93\n5.6.1 Protocolo de Comunica\u00e7\u00e3o SPI para o Chip..........................................................95\n\n\n\n5.6.2 Ajuste dos Par\u00e2metros do Chip..............................................................................96\n6 RESULTADOS OBTIDOS .........................................................................................99\n6.1 Desenvolvimento do Chip na Biblioteca Educacional de 90 nm.......................100\n6.1.1 S\u00edntese L\u00f3gica do Chip ........................................................................................100\n6.1.2 S\u00edntese F\u00edsica do Chip..........................................................................................102\n6.1.3 Resultados da S\u00edntese F\u00edsica ................................................................................106\n6.2 Desenvolvimento do Chip na Biblioteca Comercial de 0,6 \u00b5m .........................107\n6.2.1 S\u00edntese L\u00f3gica do Chip ........................................................................................108\n6.2.2 S\u00edntese F\u00edsica do Chip..........................................................................................109\n6.2.3 Resultados da S\u00edntese F\u00edsica ................................................................................109\n6.3 Desenvolvimento do sistema com Microcontrolador e FPGA ..........................111\n6.3.1 Implementa\u00e7\u00e3o dos algoritmos em FPGA ...........................................................112\n6.3.2 Testes Simulados com FPGA...............................................................................113\n6.4 Experimentos com a Bancada de Teste ...............................................................113\n6.4.1 Descri\u00e7\u00e3o dos Testes ............................................................................................115\n6.4.2 Espectro de Frequ\u00eancia dos Sinais de Teste ........................................................117\n6.5 Simula\u00e7\u00f5es do Chip P\u00f3s-s\u00edntese F\u00edsica ................................................................120\n6.5.1 Simula\u00e7\u00e3o com Falha por Press\u00e3o no Freio de 100 kPa.....................................122\n6.5.2 Simula\u00e7\u00e3o com Falha por Press\u00e3o no Freio de 300 kPa.....................................123\n6.5.3 Simula\u00e7\u00e3o com Falha por Engrenagem de Dente Desgastado.............................125\n6.5.4 Simula\u00e7\u00e3o com Falha por Engrenagem de Dente Fraturado ...............................126\n6.5.5 Simula\u00e7\u00e3o com Falha por Engrenagens sem Lubrifica\u00e7\u00e3o ..................................127\n6.5.6 Simula\u00e7\u00e3o de Autoteste Funcional.......................................................................129\n6.6 Discuss\u00e3o dos Resultados .....................................................................................130\n7 CONSIDERA\u00c7\u00d5ES FINAIS ...................................................................................133\n7.1 CONTRIBUI\u00c7\u00d5ES T\u00c9CNICAS .........................................................................135\n7.2 TRABALHOS SUBMETIDOS OU PUBLICADOS..........................................136\n7.3 TRABALHOS FUTUROS....................................................................................137\nREFER\u00caNCIAS ...........................................................................................................139\n\n\n\n21\n\n1 INTRODU\u00c7\u00c3O\n\nO avan\u00e7o tecnol\u00f3gico permitiu que tarefas repetitivas ou de alto risco na ind\u00fastria,\n\nexecutadas por operadores humanos, fossem automatizadas. Entre os setores mais bene-\n\nficiados, pode-se listar o qu\u00edmico, petroqu\u00edmico, sider\u00fargico, energ\u00e9tico e de saneamento\n\nb\u00e1sico. Esse fen\u00f4meno acarretou o surgimento de plantas industriais mais complexas com\n\npr\u00e1ticas de controle e monitoramento online ou de tempo real. Independente dos avan\u00e7os\n\nobtidos, os equipamentos utilizados na ind\u00fastria est\u00e3o sujeitos \u00e0 degrada\u00e7\u00e3o na medida\n\nem que s\u00e3o utilizados. Contribuem para isso danos causados por operadores, corros\u00e3o,\n\ndesgaste, rachaduras e outros problemas que podem agravar a degrada\u00e7\u00e3o do sistema.\n\nNessa situa\u00e7\u00e3o, reparos devem ser feitos a fim de n\u00e3o comprometer a cadeia produtiva e\n\nmanter um desempenho satisfat\u00f3rio do equipamento (LEE, 2003).\n\nEm sistemas cr\u00edticos como as linhas de transporte de petr\u00f3leo em que sua interrup-\n\n\u00e7\u00e3o ou mau funcionamento representam riscos para vidas humanas, danos ao meio ambi-\n\nente ou custos patrimoniais, adotar estrat\u00e9gias de manuten\u00e7\u00e3o mais eficazes para aliviar\n\nas causas (Figura 1.1), a monitoriza\u00e7\u00e3o, o progn\u00f3stico e diagn\u00f3stico, aliados a sistemas\n\nde tempo real, s\u00e3o de suma import\u00e2ncia.\n\nFigura 1.1: Principais estrat\u00e9gias de manuten\u00e7\u00e3o.\n\nHoje se empregam principalmente dois tipos de manuten\u00e7\u00e3o no ramo petrol\u00edfero:\n\na corretiva e a preventiva. A manuten\u00e7\u00e3o puramente corretiva consiste no conserto ou\n\nsubstitui\u00e7\u00e3o de uma m\u00e1quina ou equipamento ap\u00f3s a quebra ou falha (e como a a\u00e7\u00e3o de\n\nmanuten\u00e7\u00e3o ocorre em rea\u00e7\u00e3o \u00e0 falha, esta alternativa tamb\u00e9m \u00e9 muitas vezes chamada de\n\n\"manuten\u00e7\u00e3o reativa\"). Neste caso, n\u00e3o h\u00e1 tempo ou recursos despendidos entre as falhas,\n\npor\u00e9m o custo da manuten\u00e7\u00e3o torna-se mais elevado e pode haver graves consequ\u00eancias,\n\ncomo riscos aos funcion\u00e1rios e paradas for\u00e7adas no processo produtivo. Na manuten-\n\n\u00e7\u00e3o preventiva assume-se certo n\u00edvel de degrada\u00e7\u00e3o para as m\u00e1quinas e equipamentos,\n\n\n\n22\n\nnormalmente baseado em estat\u00edsticas de falhas anteriores ocorridas com os equipamen-\n\ntos/processos, e realiza-se uma manuten\u00e7\u00e3o peri\u00f3dica. Com esta pr\u00e1tica pode-se substituir\n\nou reparar equipamentos ou pe\u00e7as que ainda teriam condi\u00e7\u00f5es de operar por mais tempo,\n\nmas n\u00e3o se exclui paradas inesperadas por quebra. Nos dois casos os custos s\u00e3o altos e o\n\ntempo de parada pode ser muito longo.\n\nQuando um equipamento desempenha as tarefas ou servi\u00e7os dentro da especifica-\n\n\u00e7\u00e3o para a qual foi projetado, se diz que este est\u00e1 em funcionamento normal. Havendo\n\ndesvio dessa condi\u00e7\u00e3o, se determina a degrada\u00e7\u00e3o de desempenho. Quando se atinge\n\num estado no qual o equipamento deixa de desempenhar suas fun\u00e7\u00f5es de modo nominal,\n\nconsidera-se uma falha. A manuten\u00e7\u00e3o preditiva ocorre em resposta \u00e0s condi\u00e7\u00f5es que n\u00e3o\n\ncorrespondem ao funcionamento normal. Quando essa situa\u00e7\u00e3o \u00e9 detectada a tempo, um\n\ndiagn\u00f3stico da causa pode ser poss\u00edvel e decis\u00f5es apropriadas para reparo s\u00e3o tomadas\n\n(CHOLETTE et al., 2013).\n\nAtualmente \u00e9 poss\u00edvel transpor os limites impostos pela manuten\u00e7\u00e3o cl\u00e1ssica (cor-\n\nretiva, preventiva e preditiva) e avan\u00e7ar na dire\u00e7\u00e3o da manuten\u00e7\u00e3o inteligente (se\u00e7\u00e3o\n\n2.2.2), adicionando-se toler\u00e2ncia a falhas, devido ao desenvolvimento tecnol\u00f3gico dos\n\nsensores, dos sistemas computacionais embarcados e da microeletr\u00f4nica. S\u00e3o caracter\u00eds-\n\nticas da manuten\u00e7\u00e3o inteligente a rapidez e a precis\u00e3o da avalia\u00e7\u00e3o do equipamento. Essas\n\nqualidades possibilitam a detec\u00e7\u00e3o, o diagn\u00f3stico e a predi\u00e7\u00e3o de falhas (BOSA, 2009).\n\nNo caso de uma falha ser detectada, em uma manuten\u00e7\u00e3o inteligente, o sistema\n\npode automaticamente se reconfigurar de forma a continuar operando, ainda que de ma-\n\nneira degradada, at\u00e9 a ocorr\u00eancia da manuten\u00e7\u00e3o (LEE, 1996). Esta caracter\u00edstica de\n\nreconfigura\u00e7\u00e3o permite, por exemplo, limitar o torque, ou a corrente, de um motor com\n\na inten\u00e7\u00e3o de reduzir o esfor\u00e7o sobre os componentes e assim prolongar o tempo de vida\n\n\u00fatil dos sistemas.\n\nConsiderando o interesse em detectar e identificar poss\u00edveis problemas nos proces-\n\nsos industriais em tempo h\u00e1bil, este trabalho vem a contribuir com um sistema composto\n\npor processamento digital de sinais (DSP - Digital Signal Processing) para a atividade de\n\ndetec\u00e7\u00e3o e predi\u00e7\u00e3o de falhas como uma ferramenta de aux\u00edlio \u00e0 manuten\u00e7\u00e3o inteligente.\n\nAs t\u00e9cnicas de DSP em sistemas de tempo discreto v\u00eam sendo cada vez mais\n\nempregadas com os sistemas de controle e manuten\u00e7\u00e3o inteligente. Ser\u00e1 apresentado\n\nneste trabalho o desenvolvimento de um chip que utiliza algumas dessas t\u00e9cnicas, a saber:\n\ntransformada discreta de wavelet (DWT - Discrete Wavelet Transform) (WALNUT, 2002),\n\nextra\u00e7\u00e3o de energia e filtro adaptativo para detec\u00e7\u00e3o de falhas em sistemas de engrenagem.\n\n\n\n23\n\nO Filtro Adaptativo pode possuir uma estrutura de resposta impulsional finita (FIR\n\n- Finite Impulse Response) ou de resposta impulsional infinita (IIR - Infinite Impulse Re-\n\nsponse). Pelo fato da estrutura FIR ser naturalmente est\u00e1vel, por n\u00e3o possuir realimenta-\n\n\u00e7\u00e3o e o m\u00e9todo dos m\u00ednimos quadrados m\u00e9dios (LMS - Least-Mean Square) (HAYKIN,\n\n2001) ser de baixa complexidade, ser\u00e1 adotado neste trabalho a arquitetura de um filtro\n\nadaptativo LMS do tipo FIR.\n\nComo a opera\u00e7\u00e3o do sistema em estudo ocorre online, todos os c\u00e1lculos de proces-\n\nsamento digital devem ocorrer durante o tempo de um per\u00edodo de amostragem na aquisi-\n\n\u00e7\u00e3o dos dados dos sensores, ou seja, em tempo real. Neste sentido, a escolha de algoritmos\n\ntais como DWT e Filtro Adaptativo com algoritmo LMS que apresentam baixa comple-\n\nxidade computacional e bom desempenho tornam-se de grande relev\u00e2ncia (KONEZNY;\n\nRAO, 1995).\n\nNeste trabalho, foi utilizada uma bancada de testes (HENRIQUES et al., 2010)\n\npara validar a t\u00e9cnica desenvolvida em situa\u00e7\u00f5es reais de falha identificadas em campo\n\ndo estudo de caso. O conjunto atuador-v\u00e1lvula em estudo, encontra-se instalado na ban-\n\ncada de teste com um sistema de freio a disco acoplado ao seu eixo. Deste modo, os\n\nesfor\u00e7os mec\u00e2nicos exercidos pelo fluxo de fluidos no interior de uma v\u00e1lvula durante os\n\nmovimentos de abertura ou fechamento podem ser emulados.\n\nO sistema foi instrumentado para possibilitar o monitoramento do esfor\u00e7o exer-\n\ncido pelo atuador nas engrenagens que comandam a abertura e fechamento da v\u00e1lvula,\n\nbem como situa\u00e7\u00f5es at\u00edpicas oriundas do desgaste das engrenagens. Deste modo, senso-\n\nres de torque e vibra\u00e7\u00e3o foram instalados em pontos espec\u00edficos para coletar dados em\n\ncondi\u00e7\u00f5es de opera\u00e7\u00e3o normal, de desgaste e de falha. Visando a predi\u00e7\u00e3o em tempo real\n\ne baixo consumo de energia, os sinais obtidos da varia\u00e7\u00e3o do comportamento din\u00e2mico do\n\nsistema em teste foram aplicados aos algoritmos embarcados em hardware denominados\n\nFault Detection System (FDS) (PICCOLI et al., 2013a; PICCOLI et al., 2015a) e Fault\n\nDetection Index (FDI) (PICCOLI et al., 2015b) e descritos em linguagem Verilog.\n\nA implementa\u00e7\u00e3o em hardware dos algoritmos FDS e FDI para o monitoramento\n\nde condi\u00e7\u00e3o de um sistema possibilitou o desenvolvido em chip para \u00e1rea de manuten-\n\n\u00e7\u00e3o inteligente, agregando em micro escala o baixo consumo de energia, a detec\u00e7\u00e3o e\n\ndiagn\u00f3stico em tempo real. Desta forma, foi testada em laborat\u00f3rio e apresentada uma\n\nproposta inovadora que possa atender a diversos equipamentos no que tange ao processo\n\nde predi\u00e7\u00e3o, diagn\u00f3stico e detec\u00e7\u00e3o de falhas.\n\n\n\n24\n\n1.1 Vis\u00e3o Geral dos Objetivos\n\nO principal objetivo deste trabalho \u00e9 especificar, implementar e avaliar uma nova\n\nsolu\u00e7\u00e3o descrita em hardware capaz de detectar, prever e diagnosticar falhas em tempo\n\nde opera\u00e7\u00e3o de equipamentos industriais. O caso em estudo foi testado em laborat\u00f3rio\n\ncom uma v\u00e1lvula el\u00e9trica comercial utilizada na ind\u00fastria petrol\u00edfera que, durante o seu\n\nfuncionamento, foi submetida \u00e0 inje\u00e7\u00e3o de falhas para emular os principais problemas\n\noperacionais que ocorrem no ambiente industrial.\n\nEste trabalho apresenta os passos para a concep\u00e7\u00e3o de um circuito integrado digital\n\naplicado \u00e0 manuten\u00e7\u00e3o inteligente. Foi iniciado pelo fluxo de projeto, verifica\u00e7\u00e3o e alguns\n\ntestes experimentais realizados com estudo de caso de uma aplica\u00e7\u00e3o real.\n\n1.2 Contribui\u00e7\u00f5es\n\nA principal contribui\u00e7\u00e3o deste trabalho \u00e9 o desenvolvimento de um sistema de\n\nmanuten\u00e7\u00e3o inteligente no padr\u00e3o Open Systems Architecture for Condition-Based Main-\n\ntenance (OSA-CBM) (SWEARINGEN et al., 2007) de comunica\u00e7\u00e3o aberta para sistemas\n\nde monitora\u00e7\u00e3o e diagn\u00f3stico de m\u00e1quinas (se\u00e7\u00e3o 2.2.1 manuten\u00e7\u00e3o baseada na condi-\n\n\u00e7\u00e3o), testado e validado em ambiente de emula\u00e7\u00e3o real atrav\u00e9s de uma bancada de testes.\n\nForam utilizadas t\u00e9cnicas de inje\u00e7\u00e3o de falhas em hardware durante o funcionamento.\n\nEm uma primeira vers\u00e3o denominada de Fault Detection System (FDS), o algo-\n\nritmo opera com t\u00e9cnicas de processamento de sinais em tempo real e monitora o com-\n\nportamento de uma v\u00e1lvula el\u00e9trica industrial at\u00e9 o n\u00edvel de detec\u00e7\u00e3o das condi\u00e7\u00f5es do\n\npadr\u00e3o OSA-CBM.\n\nNeste cen\u00e1rio, uma nova vers\u00e3o melhorada tamb\u00e9m \u00e9 apresentada, adicionando o\n\nFault Detection Index (FDI) (PICCOLI et al., 2015b) ao FDS (PICCOLI et al., 2013a;\n\nPICCOLI et al., 2015a). Com isso, implementa-se a t\u00e9cnica FDS proposta em conjunto\n\ncom FDI para realizar o mesmo monitoramento anterior e classificar os tipos de falhas,\n\nrevelando assim o diagn\u00f3stico e a sa\u00fade do equipamento em forma de gr\u00e1ficos.\n\nAs solu\u00e7\u00f5es propostas neste trabalho prop\u00f5em que as t\u00e9cnicas desenvolvidas em\n\nsoftware (PICCOLI et al., 2013a; PICCOLI et al., 2015a; PICCOLI et al., 2015b) sejam\n\nimplementadas em hardware. Esta tese traz os seguintes avan\u00e7os e contribui\u00e7\u00f5es t\u00e9cnicas:\n\n\n\n25\n\nTabela 1.1: Caracter\u00edsticas das t\u00e9cnicas propostas.\n\nT\u00e9cnica Caracter\u00edstica e Resumo\n\nFDS em hard-\n\nware\n\nApresenta o sistema FDS com processamento de sinais des-\n\ncrito em linguagem de hardware Verilog. No laborat\u00f3rio,\n\nfoi utilizado um conversor de sinal A/D com um sistema de\n\naquisi\u00e7\u00e3o de dados para converter os sinais dos sensores de\n\ntorque e vibra\u00e7\u00e3o em formato digital, e depois processados\n\ncom o algoritmo no computador.\n\nFDS + FDI em\n\nhardware\n\nApresenta os sistemas FDS e FDI em conjunto com proces-\n\nsamento de sinais descrito em linguagem de hardware. O\n\nchip \u00e9 descrito em Verilog, tem a funcionalidade de teste e\n\npode ser acessado via comunica\u00e7\u00e3o serial SPI.\n\n1.3 Apresenta\u00e7\u00e3o dos Cap\u00edtulos\n\nEste trabalho foi divido em tr\u00eas partes, conforme descrito abaixo:\n\nParte I \u2013 Fundamentos p\u00e1gina 27 (Cap\u00edtulos 2 ao 4):\n\n\u2022 Cap\u00edtulo 2 (ESTADO DA ARTE EM T\u00c9CNICAS DE MANUTEN\u00c7\u00c3O INTELI-\n\nGENTE): Apresenta uma breve introdu\u00e7\u00e3o relacionada aos principais conceitos que\n\nenvolvem toler\u00e2ncia a falhas e manuten\u00e7\u00e3o inteligente;\n\n\u2022 Cap\u00edtulo 3 (REVIS\u00c3O DE T\u00c9CNICAS E METODOLOGIAS): Apresenta algumas\n\nt\u00e9cnicas para a detec\u00e7\u00e3o de falhas, principais conceitos de sistema embarcado de\n\ntempo real e ferramentas computacionais usadas na an\u00e1lise e no projeto de circuitos\n\ndigitais.\n\n\u2022 Cap\u00edtulo 4 (UTILIZA\u00c7\u00c3O DE V\u00c1LVULAS NO MODAL DUTOVI\u00c1RIO DA IN-\n\nD\u00daSTRIA DO PETR\u00d3LEO): Aborda a import\u00e2ncia e crescimento do modal duto-\n\nvi\u00e1rio no Brasil e um esquema de abastecimento para um t\u00edpico terminal. Apresenta\n\num dos equipamentos mais cr\u00edticos, utilizado no transporte de derivados de petr\u00f3leo\n\ncomo estudo de caso. Por fim, \u00e9 realizado um levantamento bibliogr\u00e1fico relativo ao\n\nestudo de caso e ao estado da arte na \u00e1rea de manuten\u00e7\u00e3o inteligente que serviram\n\nde inspira\u00e7\u00e3o e refer\u00eancia para este trabalho.\n\n\n\n26\n\nParte II \u2013 Metodologia p\u00e1gina 79 (Cap\u00edtulo 5):\n\n\u2022 Cap\u00edtulo 5 (PROPOSTA E IMPLEMENTA\u00c7\u00d5ES DO SISTEMA): Apresenta as\n\nt\u00e9cnicas FDS e FDI, a implementa\u00e7\u00e3o em hardware proposta neste trabalho, usado\n\npara a atividade de identificar condi\u00e7\u00f5es de falhas a partir do monitoramento na\n\nabertura e fechamento de v\u00e1lvula, sinais de torque e vibra\u00e7\u00e3o, e a degrada\u00e7\u00e3o do\n\nmecanismo acionado pelo rotor de um atuador el\u00e9trico.\n\nParte III - Resultados e Conclus\u00f5es p\u00e1gina 99 (Cap\u00edtulos 6 e 7):\n\n\u2022 Cap\u00edtulo 6 (RESULTADOS OBTIDOS): Apresenta os resultados obtidos a partir\n\nde experimentos com uma bancada de testes e inje\u00e7\u00e3o de falhas reais via hardware\n\natrav\u00e9s da inser\u00e7\u00e3o de pe\u00e7as defeituosas e uso de disco de freio em tempo de exe-\n\ncu\u00e7\u00e3o sobre a v\u00e1lvula el\u00e9trica, onde foi instalado sensores e comunica\u00e7\u00e3o com o\n\nsistema desenvolvido;\n\n\u2022 Cap\u00edtulo 7 (CONSIDERA\u00c7\u00d5ES FINAIS): Apresenta as conclus\u00f5es relacionadas \u00e0s\n\nt\u00e9cnicas submetidas aos testes no cap\u00edtulo anterior, as conclus\u00f5es relacionadas ao\n\ndesenvolvimento desta tese e finalmente sugere alguns trabalhos para serem desen-\n\nvolvidos no futuro.\n\n\n\nPARTE I - FUNDAMENTOS\n\n\n\n27\n\n2 ESTADO DA ARTE EM T\u00c9CNICAS DE MANUTEN\u00c7\u00c3O INTELIGENTE\n\nDevido a consequ\u00eancias catastr\u00f3ficas em aplica\u00e7\u00f5es de equipamentos na presen\u00e7a\n\nde falhas (PANDYA; MALEK, 1998), e a demanda por processamento em tempo real,\n\na quest\u00e3o de toler\u00e2ncia a falhas tem ganhado aten\u00e7\u00e3o da comunidade cient\u00edfica nos \u00fal-\n\ntimos anos. Atualmente, muitos equipamentos requerem resposta r\u00e1pida, correta e uma\n\nmaior confiabilidade, pois enquanto a complexidade e autonomia operacional aumenta, a\n\ninterven\u00e7\u00e3o humana pode ser reduzida.\n\nAp\u00f3s a ocorr\u00eancia de uma falha na atua\u00e7\u00e3o de uma ou mais engrenagens em um\n\nsistema mec\u00e2nico, por exemplo, poder\u00e1 ocorrer uma parada, uma quebra ou tornar esse\n\nsistema incontrol\u00e1vel. A continuidade de execu\u00e7\u00e3o e controle desse sistema \u00e9 fundamental\n\ndo ponto de vista da manuten\u00e7\u00e3o inteligente, principalmente em equipamentos operando\n\nsob condi\u00e7\u00f5es hostis de trabalho e instalados em locais remotos com acesso dif\u00edcil ou\n\ndemorado.\n\nInicialmente, ser\u00e3o abordados alguns fundamentos nos t\u00f3picos de toler\u00e2ncia a fa-\n\nlhas e manuten\u00e7\u00e3o, e posteriormente, com mais detalhe, o estado da arte na \u00e1rea de manu-\n\nten\u00e7\u00e3o inteligente: Toler\u00e2ncia a Falhas na se\u00e7\u00e3o 2.1 (p\u00e1gina 27); T\u00e9cnicas de Manuten\u00e7\u00e3o\n\nna se\u00e7\u00e3o 2.2 (p\u00e1gina 30); Estado da Arte em Manuten\u00e7\u00e3o Inteligente na se\u00e7\u00e3o 2.3 (p\u00e1gina\n\n36).\n\n2.1 Toler\u00e2ncia a Falhas\n\nCom a inser\u00e7\u00e3o dos computadores nos diferentes ramos da sociedade moderna,\n\nos sistemas computacionais tornaram-se ferramentas indispens\u00e1veis, visto os in\u00fameros\n\nbenef\u00edcios alcan\u00e7ados com seu uso (AVIZIENIS, 1997). Tais benef\u00edcios tornaram-se im-\n\nprescind\u00edveis, podendo ter consequ\u00eancias tr\u00e1gicas quando os sistemas computacionais\n\ndeixarem de operar ou funcionarem incorretamente, a exemplo de: aeronaves, ferrovias,\n\ncontrole de tr\u00e1fego de autom\u00f3veis; sistemas de emerg\u00eancia; controle de tr\u00e1fego a\u00e9reo;\n\nsistemas de seguran\u00e7a de usinas nucleares; equipamentos m\u00e9dico-hospitalares (CLARK;\n\nPRADHAN, 1995).\n\nSistemas tolerantes a falhas cont\u00e9m mecanismos para detec\u00e7\u00e3o antes que falhas\n\nocorram. A concep\u00e7\u00e3o dos mecanismos de detec\u00e7\u00e3o exige conhecimento das classes de\n\nfalhas e seus efeitos sobre o comportamento do sistema. Al\u00e9m disso, um estudo de causas\n\ne efeitos ajuda a caracterizar a susceptibilidade de o sistema falhar.\n\n\n\n28\n\nUma abordagem efetiva para alcan\u00e7ar estas metas s\u00e3o os procedimentos de inje-\n\n\u00e7\u00e3o de falhas. Por\u00e9m, para obter resultados consistentes, essa por sua vez, deve prover\n\ntamb\u00e9m um modelo que represente igualmente falhas encontradas em opera\u00e7\u00f5es reais\n\n(MIREMADI; TORIN, 1995).\n\n2.1.1 Defini\u00e7\u00f5es de Termos Empregados\n\nAs falhas s\u00e3o causadas por fen\u00f4menos naturais de origem interna ou externa e\n\na\u00e7\u00f5es humanas acidentais ou intencionais (LAPRIE, 1995). Quando ocorrem defeitos ou\n\nfaltas no sistema, sua manifesta\u00e7\u00e3o interna d\u00e1 origem \u00e0s falhas, que subsequentemente,\n\nem sua manifesta\u00e7\u00e3o externa, resultam em erros. Esses, por sua vez, podem ocasionar\n\nfalhas sist\u00eamicas devido ao desvio do comportamento especificado do sistema, por exem-\n\nplo, parada ou quebra. Portanto, existe uma rela\u00e7\u00e3o de causa-efeito relacionada a estes\n\neventos conforme explicitado na Figura 2.1.1.\n\nFigura 2.1: Rela\u00e7\u00e3o entre defeito, falha, erro e falha sist\u00eamica.\n\nFonte: adaptado de (BALEN; LUBASZEWSKI, 2014).\n\nNa literatura que trata da manuten\u00e7\u00e3o, encontram-se diversas defini\u00e7\u00f5es e concei-\n\ntos apresentados para determinados termos (ABNT, 1994; LAPRIE, 1995). Na aus\u00eancia\n\nde uma palavra diferente de \"falha\" para traduzir failure optou-se por adotar \"falha sist\u00ea-\n\nmica\" neste texto:\n\n\u2022 Degrada\u00e7\u00e3o \u00e9 o processo por envelhecimento e desgaste de pe\u00e7as que aumenta a\n\nprobabilidade de ocorr\u00eancia de falhas e diminui a confiabilidade e desempenho;\n\n\u2022 A falha \u00e9 a manifesta\u00e7\u00e3o interna no sistema de um defeito em fun\u00e7\u00e3o da degrada\u00e7\u00e3o\n\ndo mesmo, mas n\u00e3o necessariamente pode levar a um erro;\n\n\u2022 O erro \u00e9 o mau estado de funcionamento de um sistema que compromete seu de-\n\nsempenho esperado;\n\n\u2022 A falha sist\u00eamica marca o t\u00e9rmino da capacidade do dispositivo ou sistema de de-\n\nsempenhar sua fun\u00e7\u00e3o, levando invariavelmente \u00e0 indisponibilidade;\n\n\n\n29\n\n\u2022 A causa de um erro \u00e9 uma falha e pode levar a uma falha sist\u00eamica pela manifesta-\n\n\u00e7\u00e3o de um ou mais erros no servi\u00e7o entregue;\n\n\u2022 O servi\u00e7o entregue por um sistema \u00e9 o comportamento conforme \u00e9 percebido por\n\noutro sistema, interagindo com o sistema considerado: seu(s) usu\u00e1rio(s).\n\nA Figura 2.2 mostra alguns conceitos relacionados \u00e0 terminologia de toler\u00e2ncia a\n\nfalhas. Quando uma falha causa uma altera\u00e7\u00e3o incorreta no estado da m\u00e1quina, um erro\n\nocorre. O tempo entre a ocorr\u00eancia da falha e a primeira percep\u00e7\u00e3o de um erro \u00e9 chamado\n\nlat\u00eancia da falha. Embora uma falha permane\u00e7a localizada no c\u00f3digo ou circuito afetado,\n\nm\u00faltiplos erros podem se originar da mesma e se propagar atrav\u00e9s do sistema. Se os\n\ndispositivos de detec\u00e7\u00e3o necess\u00e1rios est\u00e3o presentes, a propaga\u00e7\u00e3o do erro ser\u00e1 constatada\n\nap\u00f3s um per\u00edodo de tempo denominado lat\u00eancia dos mecanismos de toler\u00e2ncia a falhas.\n\nQuando os mecanismos de toler\u00e2ncia a falhas detectam um erro, diversas a\u00e7\u00f5es\n\npodem ser iniciadas para a manipula\u00e7\u00e3o da mesma, visando conter os erros. A recupera-\n\n\u00e7\u00e3o ocorre se essas a\u00e7\u00f5es t\u00eam sucesso, caso contr\u00e1rio, o sistema encontra-se com defeito\n\n(CLARK; PRADHAN, 1995).\n\nFigura 2.2: Falha e consequ\u00eancias.\n\nFonte: modificado de (CLARK; PRADHAN, 1995).\n\n2.1.2 Arquitetura de um Ambiente de Inje\u00e7\u00e3o de Falhas\n\nO uso de t\u00e9cnicas de toler\u00e2ncia a falhas em sistemas com caracter\u00edstica de tempo\n\nreal exige que as mesmas sejam validadas. Na valida\u00e7\u00e3o por inje\u00e7\u00e3o de falhas s\u00e3o testa-\n\ndos os mecanismos tolerantes, possibilitando a observa\u00e7\u00e3o do comportamento do sistema\n\nfrente aos est\u00edmulos provocados pelas falhas injetadas (CHILLAREGE; BOWEN, 1989).\n\nUma arquitetura gen\u00e9rica para um ambiente de inje\u00e7\u00e3o de falhas \u00e9 demonstrado\n\nna Figura 2.3 (HSUEH; TSAI; IYER, 1997). Um ambiente de inje\u00e7\u00e3o de falhas consiste\n\nbasicamente em:\n\n\u2022 Controlador: respons\u00e1vel por coordenar todo o ambiente, normalmente \u00e9 um com-\n\nputador que gerencia o processo de testes;\n\n\n\n30\n\n\u2022 Gerador de carga: respons\u00e1vel pelo fornecimento de comandos, os quais devem\n\nser executados pelo sistema alvo, no caso de software utiliza-se uma biblioteca de\n\ncarga de trabalho;\n\n\u2022 Monitor: observa o sistema em teste, executa instru\u00e7\u00f5es quando necess\u00e1rio e faz\n\na interface entre o controlador e o sistema sob teste, disparando a coleta de dados\n\nsempre que necess\u00e1rio;\n\n\u2022 Injetor de falhas: utilizado via software ou hardware para inje\u00e7\u00e3o das falhas, emu-\n\nlando a presen\u00e7a de falhas no sistema alvo;\n\n\u2022 Sistema alvo: sistema sob teste onde as falhas ser\u00e3o injetadas e monitoradas;\n\n\u2022 Coletor de dados: recolhe os dados do sistema;\n\n\u2022 Analisador de dados: respons\u00e1vel por processar e analisar os dados coletados,\n\npodendo trabalhar offline, online ou em tempo real.\n\nFigura 2.3: Arquitetura de um ambiente de inje\u00e7\u00e3o de falhas.\n\nFonte: (HSUEH; TSAI; IYER, 1997)\n\nO injetor de falhas, que pode ser implementado por hardware ou por software,\n\npode suportar diferentes tipos, localiza\u00e7\u00f5es e tempos de falhas.\n\n2.2 T\u00e9cnicas de Manuten\u00e7\u00e3o\n\nCom o advento da Revolu\u00e7\u00e3o Industrial, que permitiu uma transi\u00e7\u00e3o para novos\n\nprocessos de manufatura e a fabrica\u00e7\u00e3o de produtos em larga escala , surgiram necessida-\n\ndes de melhoria e mudan\u00e7as positivas do paradigma da manuten\u00e7\u00e3o (AFFONSO, 2006).\n\nA Tabela 2.1 apresenta os m\u00e9todos cl\u00e1ssicos de manuten\u00e7\u00e3o, dentre os quais a es-\n\n\n\n31\n\ntrat\u00e9gia preditiva \u00e9 mais eficiente, pois pode indicar as condi\u00e7\u00f5es reais de funcionamento\n\ndas m\u00e1quinas com base no monitoramento do equipamento, e assim prever o tempo de\n\nvida \u00fatil dos componentes das m\u00e1quinas e equipamentos e as condi\u00e7\u00f5es para que esse\n\ntempo de vida seja bem aproveitado.\n\nTabela 2.1: Principais caracter\u00edsticas das estrat\u00e9gias cl\u00e1ssicas de manuten\u00e7\u00e3o.\n\nCaracter\u00edsticas\nEstrat\u00e9gias\n\nManuten\u00e7\u00e3o\n\nCorretiva\n\nManuten\u00e7\u00e3o\n\nPreventiva\n\nManuten\u00e7\u00e3o\n\nPreditiva\n\nEstado de opera\u00e7\u00e3o da m\u00e1qui-\n\nna/equipamento\nFora de servi\u00e7o Fora de servi\u00e7o\n\nOperando ou fora\n\nde servi\u00e7o\n\nRaz\u00e3o da interfer\u00eancia Falha\nInspe\u00e7\u00e3o progra-\n\nmada\n\nControle progra-\n\nmado ou cont\u00ednuo\n\nTarefas a serem executadas na\n\nm\u00e1quina/equipamento\n\nReposi\u00e7\u00e3o de pe-\n\n\u00e7as/componentes\n\nDesligamento para\n\ninspe\u00e7\u00e3o/reposi\u00e7\u00e3o\nMonitoramento\n\nObjetivo da interven\u00e7\u00e3o\nRetorno ao traba-\n\nlho\n\nManuten\u00e7\u00e3o do\n\nfuncionamento\n\nPredi\u00e7\u00e3o ou detec-\n\n\u00e7\u00e3o\n\nFonte: (MAR\u00c7AL; SUSIN, 2005).\n\nA engenharia de controle, focada em m\u00e9todos cl\u00e1ssicos de manuten\u00e7\u00e3o e no de-\n\nsenvolvimento de crit\u00e9rios de desempenho tais como a estabilidade e precis\u00e3o, por sua\n\nvez, necessita de algoritmos de detec\u00e7\u00e3o de falhas e isolamento mais precisos e eficien-\n\ntes (LO; WONG; RAD, 2006). Existe uma varia\u00e7\u00e3o da manuten\u00e7\u00e3o preditiva conhecida\n\ncomo manuten\u00e7\u00e3o baseada na condi\u00e7\u00e3o (CBM - Condition Based Maintenance) (Qiu et\n\nal., 2006), em que as a\u00e7\u00f5es de reparos pela equipe de manuten\u00e7\u00e3o s\u00e3o tomadas com base\n\nnas condi\u00e7\u00f5es monitoradas na planta industrial.\n\nA manuten\u00e7\u00e3o poder\u00e1 torna-se proativa, por meio de sensores inteligentes ou fer-\n\nramentas anal\u00edticas de dados desenvolvidos para esse fim. Ent\u00e3o, com o objetivo de con-\n\ntinuar operando de maneira inteligente, o sistema poder\u00e1 ser reconfigurado automatica-\n\nmente quando uma falha \u00e9 detectada e o defeito corrigido antes que se propague para a\n\nsa\u00edda do sistema.\n\n2.2.1 Manuten\u00e7\u00e3o Baseada na Condi\u00e7\u00e3o\n\nA manuten\u00e7\u00e3o baseada na condi\u00e7\u00e3o (CBM - Condition Based Maintenance) \u00e9 uti-\n\nlizada para monitorar a condi\u00e7\u00e3o do equipamento, para reduzir a incerteza das atividades\n\n\n\n32\n\nde manuten\u00e7\u00e3o. Compreende o acompanhamento dos indicadores de funcionalidade do\n\nequipamento em tempo de execu\u00e7\u00e3o online (de tempo real) ou offline, obtendo assim um\n\nindicativo de potenciais problemas e falhas incipientes que fariam com que o equipamento\n\nou componente se desviassem de um n\u00edvel de desempenho aceit\u00e1vel.\n\nA arquitetura aberta Open System Architecture for Condition-Based Maintenance\n\n(OSA-CBM) (SWEARINGEN et al., 2007) para uma interoperabilidade dos componentes\n\ndo CBM \u00e9 descrita em termos de camadas funcionais: desde detec\u00e7\u00e3o e aquisi\u00e7\u00e3o de\n\ndados at\u00e9 suporte de decis\u00e3o. Uma descri\u00e7\u00e3o detalhada das entradas, sa\u00eddas e fun\u00e7\u00f5es\n\ngerais das camadas s\u00e3o especificadas abaixo:\n\n1. Aquisi\u00e7\u00e3o de dados: O m\u00f3dulo de aquisi\u00e7\u00e3o de dados fornece o sistema CBM com\n\ndados do sensor ou transdutor digitalizados;\n\n2. Manipula\u00e7\u00e3o de dados: Este m\u00f3dulo recebe e processa sinais e dados oriundos do\n\nm\u00f3dulo aquisi\u00e7\u00e3o de dados e de outros m\u00f3dulos de manipula\u00e7\u00e3o de dados;\n\n3. Monitoramento das condi\u00e7\u00f5es: O monitor de condi\u00e7\u00e3o recebe dados de m\u00f3dulos\n\nanteriores e de outros tamb\u00e9m monitorados. Seu foco principal \u00e9 de extrair e com-\n\nparar caracter\u00edsticas com os valores esperados ou limites operacionais e indicadores\n\nde condi\u00e7\u00e3o de sa\u00edda (por exemplo, n\u00edvel baixo, n\u00edvel normal e n\u00edvel alto). Tamb\u00e9m\n\ndeve ser capaz de gerar alertas baseadas em limites operacionais predefinidos;\n\n4. Avalia\u00e7\u00e3o da sa\u00fade: Recebe dados de diferentes monitores de condi\u00e7\u00e3o ou de\n\noutros m\u00f3dulos de avalia\u00e7\u00e3o da sa\u00fade. O foco principal de seu trabalho \u00e9 o de\n\nprescrever se a sa\u00fade no componente, no equipamento ou no sistema monitorado,\n\ntem se degradado. Deve ser capaz de gerar registros de diagn\u00f3stico e prever possi-\n\nbilidades de falha. O diagn\u00f3stico deve ser baseado em tend\u00eancias apresentadas no\n\nhist\u00f3rico de sa\u00fade, estado operacional, carga e no hist\u00f3rico de manuten\u00e7\u00e3o;\n\n5. Progn\u00f3stico: a principal fun\u00e7\u00e3o desta camada \u00e9 projetar o estado de sa\u00fade futuro\n\ndo equipamento ou estimar sua vida \u00fatil remanescente e deve ter a possibilidade de\n\ntomar conta de dados de todas as camadas anteriores;\n\n6. Apoio \u00e0 tomada de decis\u00e3o: Recebe dados do m\u00f3dulo de avalia\u00e7\u00e3o de sa\u00fade e\n\nm\u00f3dulo de progn\u00f3stico. Seu foco principal \u00e9 fornecer recomenda\u00e7\u00f5es relacionadas\n\n\u00e0s estrat\u00e9gias de manuten\u00e7\u00e3o e modifica\u00e7\u00e3o da configura\u00e7\u00e3o ou perfis do ativo. O\n\nm\u00f3dulo precisa levar em considera\u00e7\u00e3o o hist\u00f3rico de opera\u00e7\u00f5es, perfis atuais e futu-\n\nros, gerar a\u00e7\u00f5es recomendadas de como executar o ativo at\u00e9 que a miss\u00e3o atual seja\n\nconclu\u00edda sem ocorr\u00eancia de avaria;\n\n\n\n33\n\n7. Interface humana (apresenta\u00e7\u00e3o): O m\u00f3dulo de apresenta\u00e7\u00e3o deve disponibilizar\n\ndados de todos os m\u00f3dulos anteriores. Normalmente o status das camadas mais im-\n\nportantes (avalia\u00e7\u00f5es de sa\u00fade, avalia\u00e7\u00f5es progn\u00f3sticas ou recomenda\u00e7\u00f5es de apoio\n\n\u00e0 decis\u00e3o) e alertas ser\u00e3o exibidos nesta camada, com a capacidade de detalhar as\n\ncamadas dependendo da necessidades de informa\u00e7\u00e3o do usu\u00e1rio.\n\nA manuten\u00e7\u00e3o CBM baseia-se no fato de que a maioria das falhas n\u00e3o ocorrem\n\ninstantaneamente e que muitas vezes \u00e9 poss\u00edvel detect\u00e1-la durante os est\u00e1gios de dete-\n\nriora\u00e7\u00e3o do equipamento. A deteriora\u00e7\u00e3o do equipamento pode ser vista em uma curva\n\ncom dois importantes pontos \"P\"e \"F\", de Potencial ou Dete\u00e7\u00e3o de Falha (Potential for\n\nFailure) e Falha Sist\u00eamica (Failure). A Figura 2.4 mostra essa curva, ap\u00f3s o ponto P, a\n\nfalha iminente pode ser detectada e no ponto F, o equipamento falha. O tempo decor-\n\nrido entre \"F\"e \"P\"define a viabilidade da estrat\u00e9gia de manuten\u00e7\u00e3o CBM, caso n\u00e3o haja\n\ntempo para tomar medidas e evitar as consequ\u00eancias, a manuten\u00e7\u00e3o n\u00e3o pode ser realizada\n\neficientemente e a t\u00e9cnica CBM torna-se invi\u00e1vel.\n\nFigura 2.4: Curva P-F de resist\u00eancia \u00e0 falha.\n\nFonte: Adaptado de (FONTAINE et al., 2013).\n\nA demanda por confiabilidade, aumenta a necessidade da integra\u00e7\u00e3o de t\u00e9cnicas\n\nde sensoriamento para monitoramento das condi\u00e7\u00f5es de m\u00e1quinas rotativas (DUAN et al.,\n\n2016). A sensibilidade de sensoriamento para o diagn\u00f3stico de falhas, tais como sinais de\n\nvibra\u00e7\u00e3o, an\u00e1lise de \u00f3leo e imagem infravermelha s\u00e3o resumidos na curva da Figura 2.5.\n\nQuanto mais incipiente a descoberta da falha e sua origem, naturalmente menores s\u00e3o os\n\ngastos associados a manuten\u00e7\u00e3o.\n\n\n\n34\n\nFigura 2.5: Diferentes t\u00e9cnicas de detec\u00e7\u00e3o e o seu correspondente custo de manuten\u00e7\u00e3o.\n\nFonte: Traduzido de (DUAN et al., 2016).\n\nA manuten\u00e7\u00e3o inteligente leva para os limites mais \u00e0 esquerda da curva P-F, resul-\n\ntando em uma qualidade melhor do produto, mais disponibilidade dos ativos e aumento\n\ndos lucros operacionais.\n\n2.2.2 Manuten\u00e7\u00e3o Inteligente\n\nA manuten\u00e7\u00e3o inteligente, ou proativa, possibilita o monitoramento cont\u00ednuo e sis-\n\ntem\u00e1tico do estado operacional de equipamentos, revelando o comportamento temporal\n\npor meio de indicadores da degrada\u00e7\u00e3o de vari\u00e1veis de interesse. Essas podem prever\n\nriscos de um comportamento inaceit\u00e1vel ao longo do tempo, bem como identificar exa-\n\ntamente quais componentes de uma m\u00e1quina tendem a falhar. S\u00e3o utilizadas ferramentas\n\nde predi\u00e7\u00e3o e avalia\u00e7\u00e3o de desempenho de um determinado equipamento, que em \u00faltima\n\ninst\u00e2ncia, permitem a manuten\u00e7\u00e3o proativa para evitar as avarias, sua quebra e eventual\n\ninterrup\u00e7\u00e3o do processo (LEE, 2003).\n\nGeralmente \u00e9 aplicada em equipamentos mais complexos e cr\u00edticos dentro de um\n\nprocesso industrial, que exigem maior demanda de confiabilidade do sistema, seguran\u00e7a\n\ne menor custo de opera\u00e7\u00e3o. S\u00e3o utilizadas tecnologias tais como: sensores inteligen-\n\ntes (smart sensors), capazes de transmitir informa\u00e7\u00f5es do equipamento; sensores online\n\nreprogram\u00e1veis, projetados para serem reconfigurados; processamento digital de sinais;\n\nalgoritmos gen\u00e9ticos, intelig\u00eancia artificial, l\u00f3gica fuzzy e rede neural, utilizados para\n\nanalisar tend\u00eancias e indicar decis\u00f5es sobre a probabilidade de falha de equipamentos\n\nmonitorados na planta.\n\n\n\n35\n\nA Figura 2.6 mostra o esquema do sistema de manuten\u00e7\u00e3o inteligente tolerante a\n\nfalhas (GAO; CECATI; DING, 2015), em que a supervis\u00e3o est\u00e1 integrada com o diagn\u00f3s-\n\ntico de falhas. O diagn\u00f3stico de falhas em tempo real pode indicar se o sistema est\u00e1 com\n\nfalha, localiz\u00e1-la e avaliar o n\u00edvel de degrada\u00e7\u00e3o do funcionamento do equipamento. Com\n\nbase nas informa\u00e7\u00f5es obtidas, o sistema de supervis\u00e3o pode, portanto, tomar a\u00e7\u00f5es apro-\n\npriadas no que tange \u00e0 toler\u00e2ncia a falhas, como modificar par\u00e2metros para compensar\n\no esfor\u00e7o de um atuador, ajustar ou reconfigurar o controlador ou at\u00e9 mesmo indicar re-\n\nparo para substituir componentes defeituosos, de modo que os efeitos adversos de paradas\n\nsejam amenizados.\n\nFigura 2.6: Esquema do sistema de manuten\u00e7\u00e3o inteligente tolerante a falhas.\n\nFonte: Traduzido de (GAO; CECATI; DING, 2015).\n\nA entrada (u) e sa\u00edda (y) do sistema da Figura 2.6, alimentam o algoritmo de\n\ndiagn\u00f3stico de falha submetido \u00e0 falha do atuador (fa), componente (fc) e sensor (fs). A\n\nconsist\u00eancia das informa\u00e7\u00f5es do processo \u00e9 verificada em tempo real de acordo com as\n\ncaracter\u00edsticas do sistema e, um diagn\u00f3stico da sa\u00fade \u00e9 extra\u00eddo para tomada de decis\u00e3o.\n\nAtrav\u00e9s das t\u00e9cnicas apresentadas neste trabalho, ser\u00e3o explorados ferramentas e\n\nm\u00e9todos de prototipa\u00e7\u00e3o que possibilitar\u00e3o no futuro, al\u00e9m das tarefas de prever e detectar\n\nfalhas, a possibilidade de uma implementa\u00e7\u00e3o de um sistema de sensor inteligente ou\n\nent\u00e3o sensores inteligentes 1, com resposta em tempo real, baixo consumo de energia\n\ne que possa ser aplicado em equipamentos automatizados com controle de feedback de\n\nforma a diminuir os efeitos da degrada\u00e7\u00e3o na presen\u00e7a de falhas em equipamentos.\n\n1O sensor inteligente funciona n\u00e3o apenas como um dispositivo de captura de sinal, mas tamb\u00e9m como\numa m\u00e1quina de classifica\u00e7\u00e3o e an\u00e1lise. Uma abordagem com sistema de sensor inteligente (em ing\u00eas Smart\nSensor System), consiste em elementos integrados de detec\u00e7\u00e3o, dispositivos de captura de sinais, algoritmos\nde processamento de sinais e procedimentos de interpreta\u00e7\u00e3o e tomada de decis\u00e3o. Na aus\u00eancia de um\noperador, o sistema deve processar sinais e indicar o estado do processo e suas altera\u00e7\u00f5es, interpretar a\ninforma\u00e7\u00e3o detectada e decidir a a\u00e7\u00e3o de controle mais apropriada (WANG; GAO, 2006).\n\n\n\n36\n\n2.3 Estado da Arte em Manuten\u00e7\u00e3o Inteligente\n\nAs atividades de manuten\u00e7\u00e3o inteligente s\u00e3o usadas para planejar a\u00e7\u00f5es de manu-\n\nten\u00e7\u00e3o com base em condi\u00e7\u00f5es das m\u00e1quinas, resolvendo os problemas antecipadamente.\n\nAssim, al\u00e9m de evitar falhas, controlam tamb\u00e9m a precis\u00e3o das m\u00e1quinas. Ao aumentar\n\no conhecimento nessa \u00e1rea, as empresas podem economizar dinheiro com menos para-\n\ndas, redu\u00e7\u00e3o no custo de estoques, redu\u00e7\u00e3o nos tempos de reparo e aumento da robustez\n\ndo processo de fabrica\u00e7\u00e3o, levando a um desempenho mais previs\u00edvel (RASTEGARI;\n\nARCHENTI; MOBIN, 2017).\n\nO principal objetivo da pesquisa baseada em condi\u00e7\u00f5es CBM \u00e9 o de desenvolver\n\nsistemas autoajustados e integrados capazes de monitorar v\u00e1rias condi\u00e7\u00f5es de trabalho\n\ne prever falhas com supervis\u00e3o m\u00ednima do operador. Nesse sentido, nos \u00faltimos anos,\n\nconsolidou-se a produ\u00e7\u00e3o cient\u00edfica voltada ao diagn\u00f3stico de falhas em diversas aplica-\n\n\u00e7\u00f5es.\n\nA detec\u00e7\u00e3o limita-se a encontrar a falha via medi\u00e7\u00f5es em tempo real. J\u00e1 o diagn\u00f3s-\n\ntico, al\u00e9m disso, visa descobrir o tipo de falha e sua respectiva causa em fase de opera\u00e7\u00e3o\n\nda m\u00e1quina (online) ou em manuten\u00e7\u00e3o (offline). Muitos s\u00e3o os transdutores que podem\n\nser usados para auxiliar na detec\u00e7\u00e3o de falhas, incluindo os sensores por emiss\u00e3o ac\u00fastica,\n\ntorque, som, vibra\u00e7\u00e3o, temperatura, corrente, entre outros. Os m\u00e9todos de monitoramento\n\nvisam verificar a magnitude do sinal, o valor da raiz quadrada da m\u00e9dia ou a magnitude\n\ndo espectro de pot\u00eancia e s\u00e3o inspecionados, tipicamente, atrav\u00e9s de um limite (WANG;\n\nGAO, 2006). Os m\u00e9todos mais comuns de monitoramento baseados na condi\u00e7\u00e3o, utili-\n\nzam uma gama grande de t\u00e9cnicas de detec\u00e7\u00e3o atrav\u00e9s da an\u00e1lise de sinais de medidas de\n\nsensores de vibra\u00e7\u00e3o e ac\u00fastica, por exemplo.\n\nUm exemplo de aplica\u00e7\u00e3o em sistemas de transiss\u00e3o veicular pelo monitoramento\n\nde dados obtidos por sensor de press\u00e3o, pode ser obtido em Jian et al. (2018). A trans-\n\nmiss\u00e3o autom\u00e1tica tornou-se amplamente utilizada na fabrica\u00e7\u00e3o de caminh\u00f5es onde o\n\nsistema de embreagem-atuador eletro-hidr\u00e1ulico \u00e9 muito utilizado devido \u00e0 excelente de-\n\nmanda de fluxo e capacidade de controle de press\u00e3o. No entanto, a vibra\u00e7\u00e3o induzida\n\npelas caracter\u00edsticas internas n\u00e3o-lineares do movimento da bobina acoplada \u00e0 v\u00e1lvula\n\ncom fluidos din\u00e2micos do sistema hidr\u00e1ulico acarreta em par\u00e2metros inadequados, o que\n\nprovoca instabilidade e consequentemente a deteriora\u00e7\u00e3o do desempenho e inesperados\n\ndanos ao hardware. Jian et al. (2018) apresentou um m\u00e9todo de projeto ideal para a v\u00e1l-\n\nvula de controle de press\u00e3o que garante um desempenho est\u00e1vel e resposta r\u00e1pida do\n\n\n\n37\n\nacionamento da embreagem do sistema.\n\nOutras pesquisas analisaram o tempo de resposta din\u00e2mico e a for\u00e7a de abertura\n\ndas v\u00e1lvulas hidr\u00e1ulicas, mas Jian et al. (2018) analisou os efeitos da press\u00e3o sobre a\n\nestabilidade e a resposta din\u00e2mica do sistema atrav\u00e9s da an\u00e1lise de bifurca\u00e7\u00e3o baseada no\n\nmodelo matem\u00e1tico n\u00e3o linear do sistema hidr\u00e1ulico e realizou uma compara\u00e7\u00e3o entre os\n\nresultados da resposta de press\u00e3o experimental e simula\u00e7\u00e3o do modelo no dom\u00ednio tempo\n\ne frequ\u00eancia.\n\nO esquema do sistema hidr\u00e1ulico para o equipamento de teste experimental \u00e9 mos-\n\ntrado na Figura 2.7(a). A Figura 2.7(b) mostra a imagem do equipamento de teste experi-\n\nmental.\n\nFigura 2.7: O esquema do sistema hidr\u00e1ulico para o equipamento de teste experimental.\n\nbomba\nv\u00e1lvula de \nredu\u00e7\u00e3o de\n\npress\u00e3o\n\nc\u00e1rter\n\ntemperatura\n\ntanque de fluidotermopar\n\naquisi\u00e7\u00e3o \nde dados\n\nv\u00e1lvula de \nal\u00edvio de\npress\u00e3o\n\nbomba\n\nv\u00e1lvula solenoide\n\npist\u00e3ocontrole e aquisi\u00e7\u00e3o de dados\n\na) Esquem\u00e1tico do equipamento de teste (ET). b) Experimento com ET.\n\nFonte: traduzido de (JIAN et al., 2018).\n\n\n\n38\n\nO sistema hidr\u00e1ulico \u00e9 composto por tr\u00eas elementos: uma v\u00e1lvula solenoide, uma\n\nv\u00e1lvula de controle de press\u00e3o operada por piloto e um pist\u00e3o de embreagem. A v\u00e1lvula\n\nsolenoide atua como um est\u00e1gio da v\u00e1lvula piloto com uma press\u00e3o de alimenta\u00e7\u00e3o Ps.\n\nA for\u00e7a eletromagn\u00e9tica gerada pela corrente de controle aciona a v\u00e1lvula solenoide para\n\nabrir e gerar a press\u00e3o de opera\u00e7\u00e3o piloto Pc na c\u00e2mara da v\u00e1lvula de controle de press\u00e3o.\n\nA bobina da v\u00e1lvula de controle de press\u00e3o desliza horizontalmente na v\u00e1lvula para ajustar\n\na taxa de fluxo dentro e fora da c\u00e2mara de pist\u00e3o at\u00e9 que o sistema atinja um novo ponto de\n\nequil\u00edbrio. As portas da v\u00e1lvula est\u00e3o conectadas com a c\u00e2mara do pist\u00e3o da embreagem\n\ne o c\u00e1rter com a mangueiras 1 e 2.\n\nUma bomba de engrenagem \u00e9 acionada por um motor el\u00e9trico para fornecer um\n\nfluxo constante de 160 L/min. Uma v\u00e1lvula de al\u00edvio de press\u00e3o \u00e9 usada para ajustar a\n\npress\u00e3o da linha do sistema e \u00e9 conectada \u00e0 v\u00e1lvula hidr\u00e1ulica de teste pela mangueira de\n\nborracha. Os sensores de press\u00e3o PS1, PS2 e PS3 s\u00e3o usados para medir a press\u00e3o da\n\nlinha, a press\u00e3o operacional do piloto e a sa\u00edda da v\u00e1lvula de controle de press\u00e3o. Para\n\no experimento, os par\u00e2metros como press\u00e3o da linha, temperatura do fluido e par\u00e2metros\n\nda v\u00e1lvula foram definidos como id\u00eanticos aos par\u00e2metros da simula\u00e7\u00e3o.\n\nO experimento da v\u00e1lvula otimizada sem restri\u00e7\u00e3o de estabilidade com press\u00e3o\n\noperacional de 0,3 MPa foi realizado para verificar a caracter\u00edstica de oscila\u00e7\u00e3o da si-\n\nmula\u00e7\u00e3o. Os dados de sa\u00edda no dom\u00ednio do tempo e os espectros de frequ\u00eancia da trans-\n\nformada r\u00e1pida de Fourier (FFT - Fast Fourier Transform correspondentes s\u00e3o mostrados\n\nna Figura 2.8. A frequ\u00eancia de oscila\u00e7\u00e3o do resultado experimental \u00e9 consistente com o\n\nresultado da simula\u00e7\u00e3o. No entanto, a magnitude da oscila\u00e7\u00e3o da press\u00e3o no resultado da\n\nsimula\u00e7\u00e3o \u00e9 um pouco menor do que no resultado experimental.\n\n\n\n39\n\nFigura 2.8: Hist\u00f3rico no dom\u00ednio do tempo e espectro FFT sem restri\u00e7\u00e3o de estabilidade\n\nsob press\u00e3o piloto de 0,3 MPa.\n\nFonte: traduzido de (JIAN et al., 2018).\n\nWang et al. (2013) apresentam um m\u00e9todo baseado em transformada wavelet adap-\n\ntativa (AWT - Adaptive Wavelet Transform), um conjunto de decomposi\u00e7\u00e3o do modo em-\n\np\u00edrico (EEMD - Ensemble Empirical Mode Decomposition) e dimens\u00e3o de correla\u00e7\u00e3o\n\n(CD - Correlation Dimension), para detectar falhas, mesmo com valores de sinal de vi-\n\nbra\u00e7\u00e3o n\u00e3o-estacion\u00e1rio, em motor diesel da Figura 2.9.\n\nFigura 2.9: O sistema experimental do motor.\n\nFonte: (WANG et al., 2013).\n\nA ideia b\u00e1sica da metodologia com processamento de sinais na Figura 2.10 \u00e9 o\n\nde filtrar o ru\u00eddo com AWT, o EEMD para extra\u00e7\u00e3o de caracter\u00edsticas e a identifica\u00e7\u00e3o\n\nde falhas com CD. Os testes foram realizados com um motor a diesel de seis cilindros\n\n\n\n40\n\noperando a 2300 rpm e a 100% de carga, um dinam\u00f4metro, um sistema multi-analisador\n\nLMS SCADA III (amostragem de dados do aceler\u00f4metro de 20 kHz) e um computador.\n\nFigura 2.10: Representa\u00e7\u00e3o gr\u00e1fica do fluxo de sinal do sistema de detec\u00e7\u00e3o de falhas do\n\nmotor.\n\nFonte: traduzido de (WANG et al., 2013).\n\nUm m\u00e9todo para modelar o sinal de vibra\u00e7\u00e3o com base na transformada AWT foi\n\nproposto por Chen, Chua e Lim (2006). Foi desenvolvida a otimiza\u00e7\u00e3o param\u00e9trica da\n\nAWT por um algoritmo gen\u00e9tico (GA - Genetic Algorithm). Desta maneira, conforme a\n\nFigura 2.11, dados de simula\u00e7\u00e3o foram utilizados para extrair caracter\u00edsticas relevantes\n\npara o diagn\u00f3stico de falha de um motor hidr\u00e1ulico \u00e0 \u00e1gua.\n\nFigura 2.11: Sistema de teste de motor hidr\u00e1ulico de \u00e1gua.\n\nFonte: traduzido de (CHEN; CHUA; LIM, 2006).\n\n\n\n41\n\nA Figura 2.12 mostra os gr\u00e1ficos planares no dom\u00ednio tempo-freq\u00fc\u00eancia dos sinais\n\nsimulados obtidos pela modelagem do sinal de vibra\u00e7\u00e3o real em cinco condi\u00e7\u00f5es do pis-\n\nt\u00e3o: (a) em condi\u00e7\u00e3o normal; (b) e (c) com rachaduras curtas de 5 mm na parte inferior e\n\nna parte superior do pist\u00e3o; (d) e (e) com rachaduras longas de 10 mm na parte inferior e\n\nna parte superior do pist\u00e3o. Pode-se observar nos cinco sinais no plano tempo-frequ\u00eancia\n\ngerados pelos cinco pist\u00f5es do motor hidr\u00e1ulico, a mudan\u00e7a da forma de onda e amplitude\n\ndo impulso. Na Figura 2.12, as amplitudes de impulso da transformada cont\u00ednua de wave-\n\nlet (CWT - Continuous Wavelet Transform) dos sinais aumentam de (a) para (e), sendo os\n\nvalores do m\u00f3dulo de coeficiente da CWT dos sinais de vibra\u00e7\u00e3o em condi\u00e7\u00f5es normais\n\nos menores dentre as cinco condi\u00e7\u00f5es do pist\u00e3o.\n\nFigura 2.12: Gr\u00e1ficos no dom\u00ednio tempo-frequ\u00eancia da CWT de Morlet do sinal simulado\n\nobtido pela modelagem do sinal de vibra\u00e7\u00e3o em cinco condi\u00e7\u00f5es do pist\u00e3o.\n\nM\n\u00f3\n\nd\nu\n\nlo\nd\no\n\nc\no\ne\n\nfi\nc\nie\n\nn\nte\n\nM\n\u00f3\n\nd\nu\n\nlo\nd\no\n\nc\no\ne\n\nfi\nc\nie\n\nn\nte\n\nM\n\u00f3\nd\n\nu\nlo\n\nd\no\n\nc\no\n\ne\nfi\nc\nie\n\nn\nte\n\nM\n\u00f3\nd\n\nu\nlo\n\nd\no\n\nc\no\n\ne\nfi\nc\nie\n\nn\nte\n\nFrequ\u00eancia (Hz)\n\nFrequ\u00eancia (Hz)\n\nFrequ\u00eancia (Hz)\n\nFrequ\u00eancia (Hz)\n\nFrequ\u00eancia (Hz) Te\nmpo (sTempo\n\n(s)\n\nTempo\n(s)\n\nTempo\n(s)\n\nTemp\no (s)\n\nTemp\no (s)\n\n(a) Condi\u00e7\u00e3o normal do pist\u00e3o; (b) Rachadura superior curta; (c) Rachadura \nsuperior longa; (d) Rachadura inferior curta; (e) Rachadura inferior longa.\n\nFonte: traduzido de (CHEN; CHUA; LIM, 2006).\n\nComo a \u00e1gua n\u00e3o \u00e9 t\u00f3xica, ambientalmente amig\u00e1vel \u00e0 prova de fogo, e ainda\n\nde baixo custo, prontamente dispon\u00edvel e livremente descart\u00e1vel, ao contr\u00e1rio do \u00f3leo,\n\nlevou muitas ind\u00fastrias a adotarem sistemas hidr\u00e1ulicos \u00e0 \u00e1gua para substituir seus antigos\n\nsistemas hidr\u00e1ulicos a \u00f3leo. O sistema hidr\u00e1ulico \u00e0 \u00e1gua em quest\u00e3o permite o motor de\n\npist\u00e3o axial operar na faixa de 300 a 3000 rpm, a velocidade de rota\u00e7\u00e3o de cada bomba\n\n\n\n42\n\nhidr\u00e1ulica \u00e0 \u00e1gua (no total s\u00e3o 5) \u00e9 de 1450 rpm. Ent\u00e3o a t\u00e9cnica baseia-se nas suas\n\nfrequ\u00eancias fundamentais, que consistem em 55 Hz do motor hidr\u00e1ulico e 120 Hz da\n\nbomba hidr\u00e1ulica. Por\u00e9m, \u00e9 um resultado parcial, visto que, na atualidade, uma bomba\n\nconvencional de pist\u00e3o com motor girat\u00f3rio produz torque e momentos desequilibrados\n\nno eixo e no corpo do cilindro, o que causam grandes vibra\u00e7\u00f5es mec\u00e2nicas e ru\u00eddos que\n\nn\u00e3o foram considerados na simula\u00e7\u00e3o.\n\nAtualmente, na ind\u00fastria as m\u00e1quinas rotativas s\u00e3o amplamente utilizadas, por\u00e9m\n\ndevido a severas condi\u00e7\u00f5es de trabalho que s\u00e3o submetidas, tais como torque, for\u00e7a de im-\n\npacto e alta velocidade de opera\u00e7\u00e3o, seus componentes sofrem inevitavelmente desgastes\n\ne apresentam diversas falhas. Yuan et al. (2017) prop\u00f5e o uso personalizado de m\u00falti-\n\nplas wavelets (PLONKA; STRELA, 1998) adapt\u00e1vel para monitoramento da degrada\u00e7\u00e3o\n\nda sa\u00fade e detec\u00e7\u00e3o de falhas fracas (baixa rela\u00e7\u00e3o sinal/ru\u00eddo), especialmente a iden-\n\ntifica\u00e7\u00e3o quantitativa de assinatura de falha fraca. A Figura 2.13 mostra o experimento\n\nrealizado com rolamento de locomotiva e caixa de redu\u00e7\u00e3o para demonstrar a efic\u00e1cia e\n\nviabilidade do m\u00e9todo proposto.\n\nFigura 2.13: Esquem\u00e1tico da instala\u00e7\u00e3o do equipamento para teste de rolamento.\n\nFonte: traduzido de (YUAN et al., 2017).\n\nO gr\u00e1fico da Figura 2.14 (YUAN et al., 2017) demonstra a capacidade do m\u00e9-\n\ntodo para detectar falha fraca no rolamento em compara\u00e7\u00e3o com outros m\u00e9todos, a saber,\n\nDaubechies wavelets (Db4), Geronmo-Hardin-Massopust (GHM) wavelets e EEMD.\n\nFigura 2.14: Valor m\u00e1ximo normalizado com diferentes m\u00e9todos de teste em rolamentos.\n\n\n\n43\n\nShao et al. (2017) explora o m\u00e9todo de aprendizagem profunda associada a um tipo\n\nde rede neural (autoencoder) aplicado para o diagn\u00f3stico de falhas em caixa de c\u00e2mbio\n\ne rolamentos de locomotivas el\u00e9tricas. Conforme o autor, a complexidade computacional\n\n\u00e9 a principal defici\u00eancia do m\u00e9todo de aprendizado profundo, no entanto, a maioria dos\n\ntestes pode ser conclu\u00edda em menos de 40 s. S\u00e3o apresentados na Figura 2.15 os sinais\n\nde vibra\u00e7\u00e3o (\u00e0 esquerda) e seus respectivos espectros de frequ\u00eancia (\u00e0 direita) de nove\n\ncondi\u00e7\u00f5es de trabalho do rolamento para um motor de 500 rpm.\n\nFigura 2.15: Nove condi\u00e7\u00f5es de falha do rolamento.\n\nFonte: traduzido de (SHAO et al., 2017).\n\nO monitoramento em condi\u00e7\u00e3o dos elementos rolantes em m\u00e1quinas rotativas tem\n\nsido objeto de extensa pesquisa devido ao seu papel crucial na sua opera\u00e7\u00e3o ininterrupta.\n\nRai e Upadhyay (2017) apresentam um m\u00e9todo aplicado a sinais de vibra\u00e7\u00e3o coletados\n\nem testes de rolamentos para avalia\u00e7\u00e3o da degrada\u00e7\u00e3o do desempenho com base em de-\n\n\n\n44\n\ncomposi\u00e7\u00e3o de modo emp\u00edrico (EMD - Empirical Mode Decomposition) e agrupamento\n\nde k-medoids, que por sua vez, \u00e9 uma t\u00e9cnica de particionamento de grupos dividindo\n\ndados compostos de n objetos em grupos definidos de k. Em offline as amostras de sinal\n\nadquiridas s\u00e3o submetidas a t\u00e9cnica EMD. Os vetores de caracter\u00edsticas extra\u00eddas ao longo\n\nda vida \u00fatil de um rolamento degradado s\u00e3o usados para treinar o modelo k-medoids. Fi-\n\nnalmente, \u00e9 realizado o teste online, uma curva de valor de confian\u00e7a \u00e9 gerada entre 0 e 1,\n\nonde valores pr\u00f3ximos de 1 indicam que o rolamento est\u00e1 em condi\u00e7\u00f5es normais e um va-\n\nlor pr\u00f3ximo a 0 indica falha no rolamento. Conforme os gr\u00e1ficos gerados na Figura 2.16,\n\ncom a t\u00e9cnica EMD j\u00e1 na etapa inicial desse trabalho, a degrada\u00e7\u00e3o pode ser interpretada\n\npor um especialista humano sem necessitar de todo o processamento com o agrupamento\n\nde k-medoids.\n\nFigura 2.16: Sinais de vibra\u00e7\u00e3o para diferentes condi\u00e7\u00f5es de degrada\u00e7\u00e3o.\n\nFonte: (RAI; UPADHYAY, 2017).\n\nRai e Upadhyay (2017) tamb\u00e9m realizaram uma revis\u00e3o bibliogr\u00e1fica que demons-\n\ntra que os sinais de vibra\u00e7\u00e3o s\u00e3o amplamente utilizados no monitoramento de condi\u00e7\u00e3o.\n\nNo entanto, \u00e9 muito dif\u00edcil determinar as caracter\u00edsticas de falha em rolamentos necessi-\n\ntando constru\u00e7\u00e3o de representa\u00e7\u00e3o das caracter\u00edsticas no espa\u00e7o funcional que pode limi-\n\n\n\n45\n\ntar a informa\u00e7\u00e3o de falha e sua precis\u00e3o. Por outro lado, os modelos de progn\u00f3stico que\n\nutilizam algoritmos de aprendizagem de m\u00e1quina (redes neurais, mapas auto-organizados,\n\nentre outros) para processar as caracter\u00edsticas de entrada e construir o indicador de sa\u00fade\n\ndo rolamento, consequentemente necessitam menor tempo computacional para serem im-\n\nplementados online.\n\nAtualmente a tecnologia de emiss\u00e3o ac\u00fastica (AE - Acoustic Emission) \u00e9 empre-\n\ngada para investigar t\u00e9cnicas de detec\u00e7\u00e3o de falhas em transporte ferrovi\u00e1rio, pois \u00e9 um\n\nm\u00e9todo eficaz para uso em detec\u00e7\u00e3o n\u00e3o destrutivo e de tempo real. Zhang et al. (2018),\n\napresenta um m\u00e9todo de detec\u00e7\u00e3o de falhas em transporte ferrovi\u00e1rio por algoritmo para\n\ncancelamento adaptativo de ru\u00eddo (ANC - Adaptive Noise Cancellation) com cancela-\n\nmento auto-adaptativo de ru\u00eddo (SANC - Self-Adaptive Noise Cancellation), pois os m\u00e9to-\n\ndos tradicionais s\u00e3o limitados por perderem informa\u00e7\u00f5es \u00fateis dos sinais ou n\u00e3o poderem\n\nadaptar-se \u00e0s varia\u00e7\u00f5es do ru\u00eddo.\n\nUtilizou-se filtro adaptativo para eliminar ru\u00eddos de alta frequ\u00eancia, especialmente\n\npara sobreposi\u00e7\u00f5es de frequ\u00eancia entre sinais de ru\u00eddo e de defeito, e m\u00e9todo de entropia\n\nShannon (por energia) para detectar falhas nos trilhos. Considerando o requisito de tempo\n\nreal na detec\u00e7\u00e3o de falhas, o m\u00e9todo de filtragem adaptativa com algoritmo de tamanho\n\nde passo vari\u00e1vel dos m\u00ednimos quadrados m\u00e9dios (VSS-LMS - Variable Step-Size Least\n\nMean Square) e o processamento por computador foi necess\u00e1rio para analisar grande\n\nvolume de dados.\n\nA t\u00e9cnica de filtragem do ru\u00eddo para compensar a distor\u00e7\u00e3o do sinal do trem na\n\nvelocidade m\u00e1xima de 140 km/h \u00e9 mostrada na Figura 2.17, onde o sinal de refer\u00eancia\n\nest\u00e1 relacionado com o sinal de ru\u00eddo com v\u00e1rias combina\u00e7\u00f5es diferentes de amplitude.\n\nFigura 2.17: M\u00e9todo de filtragem de ru\u00eddos com algoritmos SANC e ANC.\n\nFonte: traduzido de (ZHANG et al., 2018).\n\n\n\n46\n\nEm uma simula\u00e7\u00e3o de falha crescente do monopolo (quebra de l\u00e1pis), foram ad-\n\nquiridos sinais de emiss\u00e3o ac\u00fastica na superf\u00edcie de contato da roda no trilho. O espectro\n\nde freq\u00fc\u00eancia desses sinais s\u00e3o mostrados na Figura 2.3, onde pode-se observar a dispo-\n\nsi\u00e7\u00e3o dos principais componentes de frequ\u00eancia na faixa entre 100 kHz e 400 kHz.\n\nFigura 2.18: Espectro de freq\u00fc\u00eancia de sinais de falha simulados no transporte ferrovi\u00e1rio.\n\nFonte: traduzido de (ZHANG et al., 2018).\n\nA Figura 2.3 mostra sinais de ru\u00eddo com diferentes amplitudes e espectros de\n\nfrequ\u00eancia para velocidades entre 6 km/h e 120 km/h do trem, com um incremento\n\nde 6 km/h para cada teste. Pode-se notar que os componentes de alta e baixa frequ\u00eancia\n\ndos sinais de ru\u00eddo t\u00eam sobreposi\u00e7\u00f5es com os sinais de falha (Figura 2.3), principalmente\n\nem alta velocidade do trem (acima de 78 km/h), podendo causar um efeito maior na\n\ndetec\u00e7\u00e3o de sinais de falha em baixa frequ\u00eancia (entre 100 kHz e 250 kHz) devido \u00e0\n\nfric\u00e7\u00e3o e desgaste da superf\u00edcie de contato da roda \u00e0 ferrovia e ao aumento da for\u00e7a do\n\nru\u00eddo aleat\u00f3rio.\n\nFigura 2.19: Espectros de frequ\u00eancia de sinais de ru\u00eddo a diferentes velocidades.\n\nFonte: traduzido de (ZHANG et al., 2018).\n\n\n\n47\n\nPode-se observar que para o sistema da Figura 2.17, com uma taxa de amostragem\n\ndo sinal igual a 1 kHz, um grande volume de dados \u00e9 necess\u00e1rio para processar o sinal\n\nde refer\u00eancia e o sinal de leitura. Portanto, \u00e9 necess\u00e1rio uma boa esta\u00e7\u00e3o de trabalho para\n\nessa tarefa pesada.\n\nAs m\u00e1quinas rotativas est\u00e3o presentes na produ\u00e7\u00e3o de energia e transporte, entre\n\nin\u00fameras outras aplica\u00e7\u00f5es. O tempo de inatividade, causado por falhas em componen-\n\ntes tais como rolamentos ou engrenagens, reflete diretamente na viabilidade econ\u00f4mica\n\nde grandes sistemas. Sobie, Freitas e Nicolai (2018) abordam diretamente esses desafios\n\ngerando dados de treinamento obtidos com simula\u00e7\u00f5es din\u00e2micas de rolamento com fa-\n\nlhas e o algoritmo de aprendizagem treinado foi validado com conjunto de quatro dados\n\nexperimentais. Foram feitas simula\u00e7\u00f5es em condi\u00e7\u00f5es saud\u00e1vel e de falha externa para\n\nvelocidades de 1260, 1500, 1860 e 2220 rpm. Durante 50 dias foram coletados experi-\n\nmentalmente dados de falha de rolamento de uma turbina de energia e\u00f3lica comercial de\n\n2 MW em opera\u00e7\u00e3o com velocidade do eixo de aproximadamente 1800 rpm. Uma bar-\n\nreira que impede sua implanta\u00e7\u00e3o para o monitoramento de condi\u00e7\u00f5es atrav\u00e9s da apren-\n\ndizagem de m\u00e1quina (machine learning) na ind\u00fastria, \u00e9 a sua depend\u00eancia de dados de\n\nfalha em servi\u00e7o (online). No entanto, essa pesquisa fornece um ponto de partida ao qual\n\nos dados em tempo de execu\u00e7\u00e3o podem ser adicionados ao algoritmo para melhorar ainda\n\nmais o desempenho do classificador.\n\nEm equipamentos de velocidade vari\u00e1vel, como turbina de energia e\u00f3lica e trens,\n\no sinal de vibra\u00e7\u00e3o adquirido \u00e9 n\u00e3o-estacion\u00e1rio e n\u00e3o-linear. As t\u00e9cnicas tradicionais\n\nde processamento de sinais estacion\u00e1rio s\u00e3o ineficientes para diagnosticar as falhas da\n\nm\u00e1quina em condi\u00e7\u00f5es que variam no tempo. Maheswari e Umamaheswari (2017) apre-\n\nsentam uma revis\u00e3o bibliogr\u00e1fica dos m\u00e9todos desenvolvidos nos \u00faltimos 3 anos. Na\n\nt\u00e9cnica parametrizada de an\u00e1lise no tempo-frequ\u00eancia, a transformada discreta de wave-\n\nlet (DWT - Discrete Wavelet Transform) (WALNUT, 2002) \u00e9 usada para decompor o\n\nsinal em bandas de baixa e alta frequ\u00eancia, uma vez que as assinaturas de falhas em altas\n\nfrequ\u00eancias do sinal de vibra\u00e7\u00e3o s\u00e3o dif\u00edceis de detectar. Pode-se utilizar em conjunto\n\ncom outra t\u00e9cnica a exemplo da an\u00e1lise de assinatura atual do motor (MCSA - Motor\n\nCurrent Signature Analysis). Nos modelos de observa\u00e7\u00e3o baseados no conhecimento, os\n\npesos das redes neurais artificiais podem ser ajustados pelo algoritmo de m\u00ednimos quadra-\n\ndos m\u00e9dios (LMS - Least Mean Squares) (HAYKIN, 2001). J\u00e1 o filtro adaptativo LMS\n\nfoi empregado para extrair caracter\u00edsticas estacion\u00e1rias c\u00edclicas de sinais de vibra\u00e7\u00e3o e,\n\nem seguida, a amplitude demodulada \u00e9 analisada para encontrar assinaturas defeituosas\n\n\n\n48\n\nde rolamentos danificados.\n\nConforme Devi e Saravanan (2018), o diagn\u00f3stico de falhas em tempo real \u00e9 im-\n\nportante para turbinas a vapor pois s\u00e3o dispositivos chaves, devido ao fato de que as falhas\n\nresultam na redu\u00e7\u00e3o dr\u00e1stica do fornecimento de energia em uma usina. A Figura 2.20\n\nmostra uma arquitetura de hardware implementada em FPGA para uma t\u00e9cnica existente\n\nde detec\u00e7\u00e3o de falhas de turbina a vapor e sistema de gerenciamento da manuten\u00e7\u00e3o (STF-\n\nDOMS - Steam Turbine Fault Detection and Operation Maintenance System) que pode se\n\ncomunicar, atrav\u00e9s de uma plataforma de prototipagem eletr\u00f4nica de hardware Ardu\u00edno,\n\npor troca de mensagem de falha em uma rede sem fio (GSM - Global System for Mobile\n\nCommunications) para as plantas localizadas em \u00e1reas remotas. Os dados dos sensores\n\ns\u00e3o processados continuamente pelo Ardu\u00edno e um alerta \u00e9 enviado para uma esta\u00e7\u00e3o m\u00f3-\n\nvel, quando algo for detectado. O diagn\u00f3sticos de deteriora\u00e7\u00e3o na efici\u00eancia da turbina\n\ne consumo (em kW ) e suas interpreta\u00e7\u00f5es apropriadas dependem de informa\u00e7\u00f5es confi\u00e1-\n\nveis de 7 par\u00e2metros que s\u00e3o: fluxo do acelerador, a press\u00e3o do acelerador, a press\u00e3o do\n\nprimeiro est\u00e1gio, a press\u00e3o de reaquecimento, a press\u00e3o de cruzamento, a efici\u00eancia das\n\nturbinas de alta e baixa press\u00e3o. Foi projetado em linguagem de programa\u00e7\u00e3o Verilog e\n\nimplementada em hardware FPGA um algoritmo para que quando os dados dos sinais\n\nestejam al\u00e9m de um limite predefinido (threshold), o diagn\u00f3stico seja realizado imediata-\n\nmente.\n\nFigura 2.20: Configura\u00e7\u00e3o de hardware do sistema STFDOMS implementado.\n\nFonte: traduzido de (DEVI; SARAVANAN, 2018).\n\nOs atuadores eletromec\u00e2nicos aeroespaciais (EMA - Aerospace Electromechani-\n\ncal Actuators), por oferecerem melhor manuten\u00e7\u00e3o do que seus equivalentes hidr\u00e1ulicos,\n\nganharam maior relev\u00e2ncia na sua utiliza\u00e7\u00e3o em sistemas de propuls\u00e3o para aeronaves nos\n\n\n\n49\n\n\u00faltimos anos. Arriola e Thielecke (2017) investigaram modelos de monitoramento base-\n\nados em algumas fun\u00e7\u00f5es para detectar e isolar falhas cr\u00edticas. As falhas mais comuns\n\nno atuador operando a 180 Hz foram modeladas de acordo com seus efeitos. Cinco fun-\n\n\u00e7\u00f5es de monitoramento, incluindo efeitos parasitas n\u00e3o-lineares atribu\u00eddos ao sinal, foram\n\nsimuladas e detectadas. Foi verificado que as folgas nos componentes do atuador tem im-\n\npacto forte na defini\u00e7\u00e3o de limiares de detec\u00e7\u00e3o (threshold) devido a incertezas (fric\u00e7\u00e3o\n\nn\u00e3o-linear est\u00e1tica e columbiana).\n\nEm Shahbazi, Poure e Saadate (2018) \u00e9 apresentada e validada uma interface ele-\n\ntr\u00f4nica de pot\u00eancia tolerante a falhas para sistemas de energia e\u00f3lica com geradores de\n\nindu\u00e7\u00e3o duplamente alimentados. As turbinas e\u00f3licas est\u00e3o instaladas em \u00e1reas remotas\n\nonde sua manuten\u00e7\u00e3o \u00e9 cara e demorada, os dispositivos conversores s\u00e3o apontados como\n\numa das partes mais fr\u00e1geis e s\u00e3o respons\u00e1veis por aproximadamente 14% do tempo de\n\ninatividade total das turbinas e\u00f3licas. Muitos dos algoritmos de detec\u00e7\u00e3o de falhas exis-\n\ntentes s\u00e3o ineficientes ou mesmo incapazes de detectar a falha, devido ao fato da corrente\n\ndo rotor ser insuficiente em baixa frequ\u00eancia. Ent\u00e3o, foi empregado um m\u00e9todo de de-\n\ntec\u00e7\u00e3o de falhas que baseia-se na compara\u00e7\u00e3o direta das tens\u00f5es de polo com valores\n\nestimados, ao inv\u00e9s das tradicionais medidas de corrente. Nesse m\u00e9todo da Figura 2.21,\n\nforam realizados as primeiras simula\u00e7\u00f5es no MATLAB/Simulink, os blocos foram com-\n\npilados com todas as funcionalidades para blocos de DSP, onde s\u00e3o utilizados bibliotecas\n\ndesenvolvidas pela Altera para implementar projetos em FPGAs. Desta maneira, todos\n\nos blocos de DSP foram compilados automaticamente e algumas fun\u00e7\u00f5es n\u00e3o dispon\u00edveis\n\nna biblioteca foram desenvolvidas em c\u00f3digos em linguagem de descri\u00e7\u00e3o de hardware\n\n(VHDL - VHSIC Hardware Description Language) para serem integradas no projeto. De-\n\npendendo dos par\u00e2metros do sistema, \u00e9 configurado a vari\u00e1vel N no algoritmo detec\u00e7\u00e3o\n\nde falhas que depende diretamente do atraso total no loop de controle (incluindo senso-\n\nres, A/D, D/A, FPGA e conversores), que est\u00e1 relacionada tamb\u00e9m com a dura\u00e7\u00e3o de\n\num contador. A sa\u00edda deste contador mede o tempo durante o qual o erro de tens\u00e3o foi\n\nsuficientemente alto (maior que 30) para a detec\u00e7\u00e3o de falha. Ent\u00e3o para uma simula\u00e7\u00e3o\n\ncom taxa de amostragem de 1 \u00b5s, na ocorr\u00eancia de uma falha por um longo per\u00edodo de\n\ntempo, o limite de atraso para o diagn\u00f3stico de falha, quando ajustado o par\u00e2metro N do\n\ncontador para 30, corresponde a 30 \u00b5s. Essa t\u00e9cnica, com atraso de 30 \u00b5s de detec\u00e7\u00e3o foi\n\ncomparada com outras de monitoramento em Tempo Real com atrasos de 1,2 ms e 6 ms.\n\n\n\n50\n\nFigura 2.21: Representa\u00e7\u00e3o do modelo de sistemas para detec\u00e7\u00e3o de falhas no Simulink.\n\nFonte: (SHAHBAZI; POURE; SAADATE, 2018).\n\nGon\u00e7alves et al. (2011) prop\u00f4s uma implementa\u00e7\u00e3o em hardware de um m\u00e9todo\n\nde detec\u00e7\u00e3o e diagn\u00f3stico de falha para uma v\u00e1lvula el\u00e9trica. Nesse trabalho, foi consi-\n\nderada uma implementa\u00e7\u00e3o em parte em FPGA e outra no computador (PC - Personal\n\nComputer), limitando assim a aplica\u00e7\u00e3o do sistema em um cen\u00e1rio de baixo consumo de\n\nenergia. O atuador foi modelado por um conjunto de equa\u00e7\u00f5es alg\u00e9bricas e diferenciais, a\n\nfim de avaliar, por meio de simula\u00e7\u00e3o, o seu comportamento em diferentes condi\u00e7\u00f5es de\n\nopera\u00e7\u00e3o, incluindo comportamento normal, de degrada\u00e7\u00e3o e de falhas. A complexidade\n\ndo m\u00e9todo adotado para realizar o diagn\u00f3stico com mapas auto-organiz\u00e1veis pode limitar\n\na aplica\u00e7\u00e3o em tempo real.\n\nOs efeitos da v\u00e1lvula el\u00e9trica em condi\u00e7\u00f5es de falha tamb\u00e9m foram estudados por\n\nmeio de uma arquitetura de fus\u00e3o de sensores, correlacionando sinais de torque e vibra\u00e7\u00e3o\n\npor (FACCIN, 2011), resultando em gr\u00e1ficos estat\u00edstico para avalia\u00e7\u00e3o do mesmo e na\n\nidentifica\u00e7\u00e3o das assinaturas caracter\u00edsticas das falhas por (B\u00d6ESCH, 2011).\n\n2.3.1 Resumo do Estado da Arte\n\nOs m\u00e9todos de an\u00e1lise de sinais para o monitoramento da condi\u00e7\u00e3o da m\u00e1quina e\n\nde reconhecimento de padr\u00f5es com intelig\u00eancia artificial, t\u00eam sido amplamente utilizados\n\npara o diagn\u00f3stico de falhas, por\u00e9m, segundo Shao et al. (2017), apresentam tr\u00eas proble-\n\nmas inerentes: (1) os sinais de vibra\u00e7\u00e3o adquiridos geralmente n\u00e3o s\u00e3o lineares e estacio-\n\nn\u00e1rios. (2) As caracter\u00edsticas sens\u00edveis para aprendizagem s\u00e3o selecionadas manualmente\n\nde acordo com o problema espec\u00edfico para capturar automaticamente o diagn\u00f3stico da\n\nfalha. (3) As arquiteturas de redes neurais, em diagn\u00f3stico de falhas de m\u00e1quinas, s\u00e3o\n\ndif\u00edceis de aprenderem eficazmente e superficiais na representa\u00e7\u00e3o dos relacionamentos\n\ncomplexos n\u00e3o-lineares. Embora Shao et al. (2017) tenham apresentado uma solu\u00e7\u00e3o com\n\nintelig\u00eancia artificial adapt\u00e1vel para detec\u00e7\u00e3o online, boa parte do trabalho deve ser feita\n\n\n\n51\n\noffline.\n\nOutro cen\u00e1rio abordado nas pesquisas atuais nos m\u00e9todos e pr\u00e1ticas de diagn\u00f3stico\n\nde falhas mec\u00e2nicas \u00e9 o de n\u00e3o s\u00f3 estabelecer uma s\u00e9rie de meios efetivos de detec\u00e7\u00e3o de\n\nfalhas durante o est\u00e1gio de vida da m\u00e1quina, mas tamb\u00e9m monitorar falhas devido aos\n\nseguintes aspectos e dificuldades:\n\n\u2022 Os sinais sempre sofrem perturba\u00e7\u00f5es por m\u00faltiplas fontes de ru\u00eddo e s\u00e3o contami-\n\nnados por interfer\u00eancia eletromagn\u00e9tica em instala\u00e7\u00f5es industriais, resultando em\n\numa baixa rela\u00e7\u00e3o sinal-ru\u00eddo (SNR - Signal to Noise Ratio) do sinal de falha;\n\n\u2022 As falhas com potencial de erro ou em est\u00e1gio inicial caracterizam-se por sintomas\n\nn\u00e3o \u00f3bvios e assinaturas de detec\u00e7\u00e3o fr\u00e1geis;\n\n\u2022 Abordagens em sistemas com engrenagens de transmiss\u00e3o complexos onde os sen-\n\nsores s\u00e3o instalados externamente na caixa de redu\u00e7\u00e3o para detectar falhas internas,\n\nreduzem os n\u00edveis de sinais de falha, levando \u00e0 dif\u00edcil identifica\u00e7\u00e3o da assinatura.\n\nEmbora o Estudo de Caso deste trabalho esteja focado em Atuador El\u00e9trico para\n\ncontrole de abertura e fechamento de v\u00e1lvula, a maior parte das m\u00e1quinas pesquisadas,\n\nseja na ind\u00fastria aeron\u00e1utica ou ferrovi\u00e1ria, seja na de produ\u00e7\u00e3o de energia e\u00f3lica ou\n\nde petr\u00f3leo, opera em frequ\u00eancias pr\u00f3ximas (centenas de Hertz) e possui engrenagens ou\n\ncomponentes mec\u00e2nicos que possam apresentar falhas internas (engrenagens desgastadas,\n\nquebradas, rolamentos gastos ou fraturados) ou externas (sobrecarga mec\u00e2nica, v\u00e1lvula\n\nbloqueada) de origem similar.\n\nA Tabela 2.2 mostra um resumo do estado da arte das principais estrat\u00e9gias inte-\n\nligentes abordadas neste cap\u00edtulo, apresentando sua plataforma de implementa\u00e7\u00e3o (PC,\n\nFPGA ou ASIC), o tipo de detec\u00e7\u00e3o de falha (offline, online ou tempo real) e o sensor\n\nutilizado.\n\nDentre tantas t\u00e9cnicas existentes, n\u00e3o se pode afirmar qual \u00e9 a melhor, algumas\n\ns\u00e3o extremamente complexas e por isso operam offline, outras nem tanto e podem ope-\n\nrar online e ainda outras t\u00eam a capacidade de apresentar resultado em tempo real. O\n\nque nenhuma t\u00e9cnica aborda ainda \u00e9 que, al\u00e9m de todas as qualidades que possa ter, a\n\nde consumir a menor energia poss\u00edvel para operar, \u00e9 essencial para funcionar de forma\n\nsustent\u00e1vel.\n\n\n\n52\n\nTabela 2.2: Estado da arte das principais estrat\u00e9gias inteligentes.\n\nAutor Aplica\u00e7\u00e3o Sensor Plata-\n\nforma\n\nDetec\u00e7\u00e3o\n\nJian et al. (2018) Atuador eletro-\n\nhidr\u00e1ulico\n\nPress\u00e3o PC offline\n\nWang et al. (2013) Motor a diesel Vibra\u00e7\u00e3o PC offline\n\nChen, Chua e Lim (2006) Motor hidr\u00e1ulico Vibra\u00e7\u00e3o PC offline\n\nYuan et al. (2017) Locomotiva Vibra\u00e7\u00e3o PC offline\n\nShao et al. (2017) Locomotiva Vibra\u00e7\u00e3o PC offline\n\nRai e Upadhyay (2017) M\u00e1quina rotativa Vibra\u00e7\u00e3o PC online\n\nShao et al. (2018) Locomotiva Vibra\u00e7\u00e3o PC offline\n\nHu et al. (2018) Big Data Dados brutos PC offline\n\nZhang et al. (2018) Transporte ferro-\n\nvi\u00e1rio\n\nEmiss\u00e3o ac\u00fastica PC online\n\nSobie, Freitas e Nicolai (2018) Turbina e\u00f3lica Vibra\u00e7\u00e3o PC offline\n\nMaheswari e Umamaheswari (2017) Turbina e\u00f3lica Vibra\u00e7\u00e3o PC offline\n\nDevi e Saravanan (2018) Turbina a vapor Diversos FPGA tempo real\n\nArriola e Thielecke (2017) Atuadores eletro-\n\nmec\u00e2nicos\n\nCorrente FPGA tempo real\n\nShahbazi, Poure e Saadate (2018) Turbina e\u00f3lica Tens\u00e3o FPGA tempo real\n\nGon\u00e7alves et al. (2011) Atuador el\u00e9trico Simulado PC\n\nFPGA\n\noffline\n\nEste trabalho Atuador el\u00e9trico Vibra\u00e7\u00e3o torque ASIC\n\nFPGA\n\ntempo real\n\nFonte: o autor.\n\nEm termos tecnol\u00f3gicos, a proposta e o objetivo desse trabalho \u00e9 contribuir para a\n\n\u00e1rea de detec\u00e7\u00e3o autom\u00e1tica de falhas em sistemas din\u00e2micos, atrav\u00e9s da proposta de uma\n\nnova arquitetura com caracter\u00edsticas de baixo consumo de energia e de processamento\n\nem tempo real, que poder\u00e1 ser incorporada a um sensor. Para a obten\u00e7\u00e3o desse objetivo,\n\nfoi projetado um sistema que utiliza algoritmo de otimiza\u00e7\u00e3o estoc\u00e1stico, adapt\u00e1vel para\n\nqualquer equipamento mec\u00e2nico com engrenagens cujas vari\u00e1veis de estado s\u00e3o desco-\n\nnhecidas ou indeterminadas.\n\n\n\n53\n\n3 REVIS\u00c3O DE T\u00c9CNICAS E METODOLOGIAS\n\nAs ferramentas matem\u00e1ticas utilizadas atualmente para o desenvolvimento de sis-\n\ntemas de manuten\u00e7\u00e3o inteligente (que possam identificar as poss\u00edveis falhas, al\u00e9m de\n\ngerenciar suas consequ\u00eancias), permeiam as \u00e1reas de estat\u00edstica, processamento de sinais,\n\nde intelig\u00eancia artificial e de filtragem adaptativa. Necessitam, basicamente, de senso-\n\nres instalados nos equipamentos e o acesso aos sinais gerados por estes, que aliados a\n\naplicativos e simuladores, permitem a an\u00e1lise e predi\u00e7\u00e3o de eventos de falha.\n\nNeste cap\u00edtulo, s\u00e3o abordados alguns conceitos e t\u00e9cnicas na \u00e1rea de microele-\n\ntr\u00f4nica, utilizados como suporte para este trabalho, visando uma contextualiza\u00e7\u00e3o sobre\n\nalguns temas relevantes para sua maior clareza e compreens\u00e3o. Est\u00e3o sendo apresentados\n\nconceitos b\u00e1sicos relativos ao processamento digital de sinais, sistemas de tempo real,\n\nformato de dados e protocolo de comunica\u00e7\u00e3o.\n\n3.1 M\u00e9todos de Processamento Digital de Sinais\n\nO processamento digital de sinais (DSP - Digital Signal Processing) baseia-se na\n\nan\u00e1lise ou modifica\u00e7\u00e3o do sinal, seja ele anal\u00f3gico ou digital, tornando-o mais apropriado\n\npara algumas aplica\u00e7\u00f5es como determina\u00e7\u00e3o ou predi\u00e7\u00e3o de algum fen\u00f4meno. Se os\n\ndados processados forem continuamente monitorados e analisados, pode-se predizer qual\n\ncomponente de uma m\u00e1quina provavelmente ir\u00e1 falhar, reduzindo o tempo de parada para\n\nmanuten\u00e7\u00e3o.\n\nAs ferramentas de DSP tamb\u00e9m s\u00e3o muito utilizadas na extra\u00e7\u00e3o de caracter\u00edsticas,\n\nno reconhecimento de padr\u00f5es e na detec\u00e7\u00e3o e predi\u00e7\u00e3o de falhas (CHOLETTE et al.,\n\n2013), quando usadas em conjunto com t\u00e9cnicas estat\u00edsticas, de intelig\u00eancia artificial ou\n\nde filtragem adaptativa.\n\nA Figura 3.1 mostra as tr\u00eas primeiras etapas da manuten\u00e7\u00e3o baseada na condi-\n\n\u00e7\u00e3o (CBM - Condition Based Maintenance) com exemplos de t\u00e9cnicas de DSP utilizadas\n\nneste trabalho para identificar falhas em um equipamento. A implementa\u00e7\u00e3o destes al-\n\ngoritmos ser\u00e1 descrita no Cap\u00edtulo 5, onde tamb\u00e9m ser\u00e1 abordado o algoritmo para FDI\n\n(PICCOLI et al., 2015b), desenvolvido com o prop\u00f3sito de tratar uma quarta etapa de\n\nCBM, a avalia\u00e7\u00e3o da sa\u00fade do equipamento.\n\n\n\n54\n\nFigura 3.1: Primeiras etapas do CBM para manuten\u00e7\u00e3o inteligente.\n\nNas se\u00e7\u00f5es a seguir ser\u00e3o descritos os algoritmos utilizados em cada uma das eta-\n\npas: Manipula\u00e7\u00e3o de dados, com a transformada discreta de wavelet; Extra\u00e7\u00e3o das\n\ncaracter\u00edsticas, com energia do sinal; e Condi\u00e7\u00e3o do equipamento, com filtro adapta-\n\ntivo.\n\n3.1.1 Transformada Discreta de Wavelet\n\nAs wavelets possibilitam alterar o tamanho da janela temporal em sinais que apre-\n\nsentam grande varia\u00e7\u00e3o de frequ\u00eancia, implementando uma janela temporal maior para\n\nan\u00e1lise de sinais de baixa frequ\u00eancia e uma menor para as de alta frequ\u00eancia (VALINS,\n\n2004). Assim, a transformada wavelet aplica-se para o estudo de fen\u00f4menos transit\u00f3rios,\n\nn\u00e3o estacion\u00e1rios ou variantes no tempo (SCHUCK, 1998). A transformada wavelet de\n\numa fun\u00e7\u00e3o arbitr\u00e1ria f(t) \u00e9 definida pela integral de convolu\u00e7\u00e3o:\n\nw(a,b) =\n\n? b\n\na\n\nf(t)??s,?(t)dt (3.1)\n\nOnde a fun\u00e7\u00e3o wavelet ?s,? \u00e9 dilatada por um fator de escala s e transladada de\n\n? no dom\u00ednio do tempo. A transformada discreta de wavelet de uma fun\u00e7\u00e3o cont\u00ednua\n\nf(t) \u00e9 definida como uma discretiza\u00e7\u00e3o de valores amostrados uniformemente em k\n\nper\u00edodos deslocados de ? numa escala fixa s de uma exponencial 2j, cujas dilata\u00e7\u00f5es s\u00e3o\n\nm\u00faltiplas. Portanto, se 2j assume valores menores que um, detalhes s\u00e3o perdidos e s\u00e3o\n\nobtidos informa\u00e7\u00f5es de baixa frequ\u00eancia. Se maior que um, s\u00e3o obtidos informa\u00e7\u00f5es de\n\nalta frequ\u00eancia.\n\nPortanto, a fun\u00e7\u00e3o wavelet ? e fun\u00e7\u00e3o de escala ? podem ser expressas como:\n\n?(2j?1, t) =\n?\n\ngj(k)? ??(2\njt?k)\n\n?(2j?1, t) =\n?\n\nhj(k)? ??(2\njt?k)\n\n(3.2)\n\n\n\n55\n\nOs coeficientes da fun\u00e7\u00e3o ? s\u00e3o calculados a partir dos coeficientes da fun\u00e7\u00e3o ?\n\ncom se segue:\n\ngn = (?1)\nnhL?1?n\n\nn = 0,1, ...,L?1\n(3.3)\n\nOnde L \u00e9 o n\u00famero de coeficientes. O conjunto de coeficientes hj e gj define a\n\nfun\u00e7\u00e3o escala da wavelet.\n\nA an\u00e1lise de wavelet consiste na aproxima\u00e7\u00e3o e detalhes dos coeficientes. Ela\n\npode ser aplicada a partir da constru\u00e7\u00e3o de diferentes bases ortogonais. As componentes\n\nde baixa frequ\u00eancia s\u00e3o obtidas a partir de valores aproximados e as componentes de alta\n\nfrequ\u00eancia a partir de aumento no detalhamento.\n\n3.1.2 Extra\u00e7\u00e3o de Energia\n\nAp\u00f3s a transforma\u00e7\u00e3o do sinal com wavelets, a energia resultante dos coeficientes\n\n\u00e9 utilizada para a extra\u00e7\u00e3o de suas caracter\u00edsticas. Uma vez que exista a condi\u00e7\u00e3o de\n\nconserva\u00e7\u00e3o da energia pelo equil\u00edbrio de Parseval 1 para a transformada de wavelet, o\n\nsinal discreto no tempo x(n) para uma janela -N a N \u00e9 determinada pela express\u00e3o a\n\nseguir:\n\nEtot = lim\nN??\n\nN\n?\n\nn=?N\n\n|x(n)|\n2 (3.4)\n\nOnde N \u00e9 a amostra cujo total de elementos \u00e9 2N+1.\n\nPara sinais peri\u00f3dicos, \u00e9 mais conveniente computar a energia m\u00e9dia ou pot\u00eancia:\n\nPtot = lim\nN??\n\n1\n\n(2N + 1)\n\nN\n?\n\nn=?N\n\n|x(n)|\n2 (3.5)\n\n1Em matem\u00e1tica, o teorema de Parseval comumente se refere ao operador unit\u00e1rio do resultado da\ntransformada de Fourier. A integral do quadrado de uma fun\u00e7\u00e3o deve ser igual a integral do quadrado\nde sua transformada. Dese modo, a pot\u00eancia m\u00e9dia de um sinal pode ser considerada como a soma das\npot\u00eancias associadas a cada componente da frequ\u00eancia. J\u00e1 na transformada de wavelet, \u00e9 requerido tamb\u00e9m\nque seja ortogonal em rela\u00e7\u00e3o as fun\u00e7\u00f5es dilatadas e transladadas, e que o quadrado do sinal em an\u00e1lise seja\nintegr\u00e1vel.\n\n\n\n56\n\n3.1.3 Filtro Adaptativo\n\nO filtro adaptativo atende a crit\u00e9rios, tais como processar sinais estoc\u00e1sticos e de-\n\ntectar anormalidades estat\u00edsticas das caracter\u00edsticas dos dados da extra\u00e7\u00e3o de energia, an-\n\nteriormente descritos. Dentre as ferramentas de filtragem adaptativa, tais como: os filtros\n\nde Wiener, filtros adaptativos ou os filtros de Kalman, destacam-se os filtros adaptativos\n\n(HAYKIN, 2001; NEGREIROS, 1994; WIDROW; STEARNS, 1985).\n\nOs filtros adaptativos s\u00e3o filtros com coeficientes que variam ao longo do tempo,\n\nadaptando-se automaticamente aos sinais de entrada. Geralmente, o processo de adapta-\n\n\u00e7\u00e3o \u00e9 baseado em um filtro de resposta a impulso finita (FIR - Finite Impulse Response)\n\ncom m\u00e9todo dos m\u00ednimos quadrados m\u00e9dios (LMS - Least-Mean Square) (HAYKIN,\n\n2001).\n\nO Algoritmo Adaptativo LMS com Filtro FIR\n\nExistem duas implementa\u00e7\u00f5es eficientes adot\u00e1veis para filtros de resposta a im-\n\npulso finita (FIR - Finite Impulse Response): implementa\u00e7\u00e3o no dom\u00ednio do tempo e\n\nimplementa\u00e7\u00e3o no dom\u00ednio da frequ\u00eancia.\n\nA implementa\u00e7\u00e3o no dom\u00ednio do tempo utiliza poucos coeficientes do filtro e efe-\n\ntua a filtragem atrav\u00e9s de uma convolu\u00e7\u00e3o do sinal de entrada com estes coeficientes. Esta\n\nimplementa\u00e7\u00e3o \u00e9 bastante eficiente quando a ordem do filtro n\u00e3o \u00e9 elevada (tipicamente\n\nabaixo de 32). Devido a este fato, o algoritmo de m\u00ednimos quadrados m\u00e9dios (LMS -\n\nLeast Mean Squares) (HAYKIN, 2001) foi escolhido.\n\nNeste m\u00e9todo, o vetor de entrada possui N medidas nos respectivos instantes de\n\ntempo. O objetivo do LMS \u00e9 obter a curva que se aproxime o quanto poss\u00edvel dos dados\n\nde entrada. O ponto \u00f3timo \u00e9 atingido quando a soma dos quadrados da diferen\u00e7a entre\n\nos valores estimados ao longo do tempo \u00e9 minimizada. O filtro adaptativo baseado neste\n\nm\u00e9todo \u00e9 descrito pela equa\u00e7\u00e3o:\n\nW (n + 1) = W (n) + \u00b5(n)e(n)X (n)\n\ne(n) = d(n)?WTX (n)\n(3.6)\n\n\n\n57\n\nonde W (n) = [w0 w1 ... wL?1 (n)]\nT\nX (n) \u00e9 o vetor de coeficientes, e(n) \u00e9 o\n\nerro do sinal X (n) = [x [n] x(n?1) ... x(n?L + 1)]T \u00e9 a sa\u00edda do vetor de sinal e\n\n\u00b5(n) \u00e9 o tamanho do passo (DINIZ, 2013).\n\nA fun\u00e7\u00e3o J a ser minimizada \u00e9 a soma dos quadrados dos erros:\n\nJ =\nn\n\n?\n\ni=0\n\n|e(n)|\n2 (3.7)\n\nO resumo do algoritmo LMS (BOROUJENY, 1998), \u00e9 apresentado como segue:\n\nTabela 3.1: Algor\u00edtimo do filtro LMS.\n\nDados:\n\nN ? n\u00famero de coeficientes;\n\n\u00b5 ? par\u00e2metro de adapta\u00e7\u00e3o;\n\nn ? instante no tempo.\n\n0 &lt;\u00b5 &lt;2\nfor\u00e7a adaptativa\n\n,\n\nonde for\u00e7a adaptativa =\n?M?1\n\nk=0 E[|\u00b5(n?k)|\n2]\n\nInicializa\u00e7\u00e3o:\n\nx(0) = w(0) = [0 0 . . . 0]T\n\nExecu\u00e7\u00e3o:\n\nx(n) = [x(n) x(n?1) . . . x(n?N + 1)]T\n\nw(n) = [w0(n) w1(n) . . . wN?1(n)]\nT\n\nSempre para para n ? 0 {\n\nFiltragem : y(n) = wT (n)x(n)\n\nou seja y(n) =\n?N?1\n\ni=0 wi(n).x(n? i)\n\nEstima\u00e7\u00e3o de erro : e(n) = d(n)?y(n)\n\nCoeficiente de Adapta\u00e7\u00e3o : w(n + 1) = w(n) + \u00b5x(n)e(n)\n\n}\n\n\n\n58\n\n3.2 Sistemas de Tempo Real\n\nSistemas de tempo real caracterizam-se pela necessidade fundamental de atuar de\n\nacordo com a din\u00e2mica de estados do processo. A chave do sucesso em sistemas de tempo\n\nreal \u00e9 a oportunidade de execu\u00e7\u00e3o de tarefas e processamento de dados, normalmente dis-\n\ntribuidos e com requisitos rigorosos de tempo, se comunicarem para realizar um objetivo\n\nem comum (MALCOLM; ZHAO, 1994).\n\nTais sistemas n\u00e3o dependem s\u00f3 do resultado l\u00f3gico de computa\u00e7\u00e3o, mas tamb\u00e9m\n\ndo tempo em que os resultados s\u00e3o produzidos, onde diversas tarefas s\u00e3o executadas e o\n\nescalonamento em fun\u00e7\u00e3o das restri\u00e7\u00f5es temporais \u00e9 um grande problema. Tarefas rece-\n\nbem dados de entrada, executam um algoritmo e geram sa\u00eddas. A tarefa est\u00e1 logicamente\n\ncorreta se gerar uma sa\u00edda correta em fun\u00e7\u00e3o dos dados de entrada em um prazo temporal\n\npr\u00e9-determinado (RAMAMRITHAM; STANKOVIC, 1994).\n\nDevido a isso pode-se afirmar que, o tempo \u00e9 o recurso mais precioso utilizado por\n\nsistemas de tempo real, pois as tarefas executadas pelo processador devem ser conclu\u00eddas\n\nantes de seu limite temporal (deadline) (SHIN; RAMANATHAN, 1994).\n\n3.3 Formato dos Dados de Dispositivos Digitais\n\nOs n\u00fameros empregados no c\u00e1lculo com dispositivos digitais podem ser de dois ti-\n\npos: n\u00fameros inteiros e n\u00fameros em ponto-flutuante (n\u00fameros reais em matem\u00e1tica). S\u00e3o\n\nrepresentados internamente nestes circuitos em um formato bin\u00e1rio, como uma sequ\u00eancia\n\nde 0s e 1s. Al\u00e9m disso, as opera\u00e7\u00f5es aritm\u00e9ticas no c\u00e1lculo computacional utilizam-se de\n\npalavras com um n\u00famero limitado de bits. Assim os n\u00fameros s\u00e3o representados somente\n\nem uma faixa de N bits.\n\nUm n\u00famero inteiro decimal pode sempre ser representado exatamente por um in-\n\nteiro bin\u00e1rio, mas isso n\u00e3o \u00e9 verdade para os n\u00fameros fracion\u00e1rios. Para tratar desta\n\nquest\u00e3o, este trabalho adotou o Formato Q.\n\n3.3.1 Nota\u00e7\u00e3o de Ponto Fixo no Formato Q\n\nO Formato Q da empresa Texas Instrument (TEXAS INSTRUMENTS INCOR-\n\nPORATED, 1988) consiste em transformar os n\u00fameros reais, cujo sistema de numera\u00e7\u00e3o\n\n\n\n59\n\ndecimal \u00e9 representado na base bin\u00e1ria no computador, do formato em ponto-flutuante\n\npara o formato em ponto-fixo.\n\nNeste formato, a primeira parte dos bits da palavra \u00e9 a parte inteira do n\u00famero, e\n\na segunda, a fracion\u00e1ria. Na Tabela 3.2 est\u00e1 representado um n\u00famero de 16 bits (GAN;\n\nKUO, 2007), da direita para esquerda, do menos significativo para o mais significativo. A\n\nletra S representa o sinal do n\u00famero, I a parte inteira e F a parte fracion\u00e1ria.\n\nTabela 3.2: Representa\u00e7\u00e3o de n\u00fameros no formato Q.\n15 14 13 12 11 10 9 8 7 6 5 4 3 2 1\nS I I I I I F F F F F F F F F\n\nPara representar os n\u00fameros neste formato, um n\u00famero no Formato Q(N.M) \u00e9\n\nrepresentado por uma palavra de B bits:\n\nPalavra = B = N + M\n\nTamanho da Palavra do formato Q.\n(3.8)\n\nOnde:\n\n\u2022 N bits \u00e9 usado para parte de n\u00fameros inteiros;\n\n\u2022 M bits \u00e9 usado para parte de n\u00fameros fracion\u00e1rios.\n\nPara converter um n\u00famero de ponto-flutuante para ponto-fixo, basta multiplicar\n\npor [2M] e arredondar a parte fracion\u00e1ria:\n\nponto fixo = absoluto([2M]?ponto flutuante)\n\nConvers\u00e3o de ponto-flutuante para ponto-fixo.\n(3.9)\n\n3.4 O Protocolo de Comunica\u00e7\u00e3o Serial SPI\n\nA comunica\u00e7\u00e3o da interface perif\u00e9rica serial (SPI - Serial Peripheral Interface) \u00e9\n\num protocolo s\u00edncrono utilizado para comunica\u00e7\u00e3o entre um dispositivo mestre e um ou\n\nmais dispositivos escravos. O SPI n\u00e3o permite o endere\u00e7amento. A comunica\u00e7\u00e3o s\u00f3 pode\n\nser feita entre dois pontos, sendo um deles o dispositivo mestre que \u00e9 definido em geral\n\ncomo um microcontrolador que fornece o sinal de rel\u00f3gio para o escravo que \u00e9 composto\n\npor um circuito integrado qualquer. Em modo mestre, o microcontrolador al\u00e9m de enviar\n\no sinal de rel\u00f3gio, deve ter um pino de entrada/sa\u00edda para habilita\u00e7\u00e3o de cada perif\u00e9rico.\n\n\n\n60\n\n3.4.1 Arquitetura de Hardware do Protocolo SPI\n\nA arquitetura de hardware para o protocolo SPI apresenta duas linhas de controle\n\ne duas linhas de dados:\n\n\u2022 Linhas de controle: Chip Select Not (CSN) e Serial Clock (SCK);\n\n\u2022 Linhas de dados: Serial Data In (SDI) e Serial Data Out (SDO).\n\nA transmiss\u00e3o de dados \u00e9 controlada pelo microcontrolador, selecionando o dis-\n\npositivo SPI escravo (uma FPGA na Figura 3.2) pelo pino CSN, normalmente ativo em\n\nn\u00edvel baixo, os dados s\u00e3o enviados pelo pino SDO e recebidos pelo pino SDI. Quando o\n\ndispositivo n\u00e3o est\u00e1 ativo, seu pino SDO entra em estado de alta imped\u00e2ncia.\n\nFigura 3.2: Arquitetura em hardware para o protocolo SPI.\n\nConforme a Figura 3.2, o equipamento mestre com SPI \u00e9 um microcontolador,\n\nesse opera no modo full-duplex e \u00e9 composto por 4 sinais, a saber na Tabela 3.3 a seguir:\n\nTabela 3.3: Sinais utilizados no protocolo SPI mestre.\n\nSinal Significado Sentido\nMOSI Master Out Slave In Mestre ? Escravo\nMISO Master In Slave Out Escravo ? Mestre\nSCK Serial Clock Mestre ? Escravo\nSS Slave Select Mestre ? Escravo\n\nMais detalhes sobre estes e outros conceitos utilizados no desenvolvimento deste\n\ntrabalho s\u00e3o encontrados na literatura.\n\n\n\n61\n\n4 UTILIZA\u00c7\u00c3O DE V\u00c1LVULAS NO MODAL DUTOVI\u00c1RIO DA IND\u00daSTRIA\n\nDO PETR\u00d3LEO\n\nNeste cap\u00edtulo ser\u00e1 abordada a log\u00edstica de abastecimento do sistema Petrobras,\n\ncom uma aten\u00e7\u00e3o especial \u00e0s opera\u00e7\u00f5es de terminais e oleodutos, o crescimento da explo-\n\nra\u00e7\u00e3o do segmento de petr\u00f3leo e a relev\u00e2ncia do modal dutovi\u00e1rio que possibilita agili-\n\ndade, seguran\u00e7a e capacidade de fluxo na movimenta\u00e7\u00e3o dos combust\u00edveis entre refinarias\n\ne terminais. Tamb\u00e9m ser\u00e1 abordado o conjunto atuador-v\u00e1lvula como estudo de caso, por\n\nser um equipamento cr\u00edtico nas opera\u00e7\u00f5es de transporte e armazenamento de petr\u00f3leo e\n\nderivados.\n\n4.1 Oferta e Demanda de Petr\u00f3leo\n\nA evolu\u00e7\u00e3o do crescimento da produ\u00e7\u00e3o de petr\u00f3leo nacional pode ser observada\n\nna Figura 4.1, com destaque ao fato de que a maior parte da produ\u00e7\u00e3o nacional \u00e9 extra\u00edda\n\nde campos mar\u00edtimos. Cabe ressaltar que uma maior taxa de explora\u00e7\u00e3o ocorreu a partir\n\ndo ano de 2013, ap\u00f3s a cria\u00e7\u00e3o da Pr\u00e9-Sal Petr\u00f3leo pela Lei 12.304/10, com destaque para\n\na explora\u00e7\u00e3o do pr\u00e9-sal do campo de Lula (denominado campo Tupi antes de 2010), na\n\nBacia de Santos, relativamente o maior produtor de petr\u00f3leo e g\u00e1s com 1,5 milh\u00f5es de\n\nbarris de \u00f3leo equivalente (\u00f3leo e g\u00e1s) por dia em 2018 (PETROBRAS, 2018).\n\nFigura 4.1: Evolu\u00e7\u00e3o da produ\u00e7\u00e3o de petr\u00f3leo, por localiza\u00e7\u00e3o (terra e mar).\n\nFonte: adaptado de (ANP, 2018).\n\n\n\n62\n\n4.2 Transporte e Armazenamento de Petr\u00f3leo e Derivados\n\nO petr\u00f3leo bruto \u00e9 separado em fra\u00e7\u00f5es, processado e convertido em derivados\n\nem uma instala\u00e7\u00e3o industrial denominada refinaria, que manufatura produtos acabados\n\na partir de petr\u00f3leo, \u00f3leos inacabados, l\u00edquidos de g\u00e1s natural (LGN), \u00e1lcool e outros\n\nhidrocarbonetos.\n\nUma vez produzidos os derivados de petr\u00f3leo nas refinarias, esses produtos s\u00e3o\n\ntransportados por dutos e armazenados em tanques e esferas (no caso de g\u00e1s) em termi-\n\nnais para posterior distribui\u00e7\u00e3o. Nas bases de distribui\u00e7\u00e3o, os produtos s\u00e3o vendidos ao\n\nmercado, sendo o transporte realizado pelas empresas distribuidoras por meio rodovi\u00e1rio\n\nou ent\u00e3o transportados para outras bases de distribui\u00e7\u00e3o, via duto, ferrovia ou rodovia.\n\nAs opera\u00e7\u00f5es de transporte e armazenamento da Figura 4.2, permeiam todas as\n\netapas da cadeia produtiva e s\u00e3o realizados pelos modais dutovi\u00e1rio, ferrovi\u00e1rio, rodo-\n\nvi\u00e1rio e mar\u00edtimo, ou seja, por dutos, vag\u00f5es-tanque, caminh\u00f5es-tanque e navios-tanque,\n\nrespectivamente. Cabe a tarefa de distribui\u00e7\u00e3o \u00e0s atividades de transporte dos derivados\n\nde petr\u00f3leo at\u00e9 os pontos de venda (RUSSO, 2004).\n\nFigura 4.2: Transporte e armazenamento de petr\u00f3leo e derivados.\n\nDe acordo com a Ag\u00eancia Nacional do Petr\u00f3leo, G\u00e1s Natural e Biocombust\u00edveis\n\n(ANP) (ANP, 2018), em 2017, o parque de refino brasileiro contava com 17 refinarias,\n\n102 terminais autorizados a funcionar, sendo 55 terminais aquavi\u00e1rios (com 1.403 tan-\n\nques) e 47 terminais terrestres (com 516 tanques), totalizando 1.919 tanques com capaci-\n\ndade nominal de armazenamento de 13,5 milh\u00f5es m3. Estes n\u00fameros denotam a grande\n\nquantidade de componentes existentes para viabilizar a produ\u00e7\u00e3o e transporte. Conforme\n\no relat\u00f3rio de inova\u00e7\u00f5es da Coester (COESTER, 2018), uma empresa fornecedora de atu-\n\nadores el\u00e9tricos para a Transpetro (TRANSPETRO, 2018), no ano de 2012, detinha mais\n\n\n\n63\n\nde 15 mil atuadores em opera\u00e7\u00e3o no mercado.\n\nNo que tange o modal dutovi\u00e1rio, o transporte de petr\u00f3leo \u00e9 gerenciado pela Trans-\n\npetro atrav\u00e9s de um sistema supervis\u00f3rio, sistemas de supervis\u00e3o e aquisi\u00e7\u00e3o de dados\n\n(SCADA - Supervisory Control and Data Acquisition) (BOSA, 2009). O sistema possui\n\numa rede de comunica\u00e7\u00e3o para monitorar as informa\u00e7\u00f5es operacionais e permite interati-\n\nvidade para que os t\u00e9cnicos de opera\u00e7\u00e3o comandem as v\u00e1lvulas e os equipamentos (p. ex.,\n\nligar e desligar bombas, abrir e fechar v\u00e1lvulas, alterar fluxo nas malhas, al\u00e9m de detectar\n\nvazamentos e realizar as simula\u00e7\u00f5es operacionais).\n\n4.2.1 Opera\u00e7\u00f5es de um T\u00edpico Terminal\n\nOs terminais, conforme exemplo mostrado na Figura 4.2, s\u00e3o de extrema impor-\n\nt\u00e2ncia dentro da cadeia produtiva, pois s\u00e3o respons\u00e1veis por receber, armazenar e enviar\n\nos produtos manipulados. A Figura 4.3 mostra um esquema simplificado para um t\u00edpico\n\nterminal contendo os principais componentes utilizados, com destaque do uso de v\u00e1lvulas\n\nnas linhas de distribui\u00e7\u00e3o e no controle dos tanques de armazenamento.\n\nAo analisar-se a o fluxo de opera\u00e7\u00e3o da planta, a detec\u00e7\u00e3o de falhas em tempo real\n\nde v\u00e1lvulas torna-se especialmente necess\u00e1rio em terminais com polidutos. Nos sistemas\n\nde transporte e armazenamento em que a v\u00e1lvula permite a passagem de fluido indevida-\n\nmente, pode causar a contamina\u00e7\u00e3o do conte\u00fado de um tanque, por exemplo, implicando\n\nem s\u00e9rias perdas econ\u00f4micas. O bloqueio de passagem do fluido por um v\u00e1lvula quando\n\ndeveria permitir, tamb\u00e9m tem um potencial de perda econ\u00f4mica com preju\u00edzo na progra-\n\nma\u00e7\u00e3o e log\u00edstica operacional.\n\nPara estudar o fluxo de uma aplica\u00e7\u00e3o em tempo real do transporte de produtos,\n\num modelo simplificado das instala\u00e7\u00f5es de um t\u00edpico terminal (Figura 4.3) \u00e9 apresentado\n\nem forma de fluxograma na Figura 4.4. Fazem parte do modelo n\u00e3o s\u00f3 os tanques, mas\n\nprincipalmente as v\u00e1lvulas, pois elas atuam na passagem ou bloqueio do flu\u00eddo, determi-\n\nnando o fluxo dentro do processo e qual opera\u00e7\u00e3o est\u00e1 ocorrendo. Outros equipamentos\n\ncomo bombas, tanques de al\u00edvio e auxiliares n\u00e3o foram representados.\n\n\n\n64\n\nFigura 4.3: Componentes de um t\u00edpico terminal.\n\nFonte: traduzido de (CONSERVATION, 2016).\n\nFigura 4.4: Fluxograma simplificado da automa\u00e7\u00e3o de um t\u00edpico terminal.\n\n\n\n65\n\nNo esquema da Figura 4.4, os derivados de petr\u00f3leo (diesel e gasolina) chegam da\n\nrefinaria atrav\u00e9s de um poliduto (oleoduto que transporta m\u00faltiplos produtos). As setas\n\nindicam a dire\u00e7\u00e3o e sentido do fluxo da gasolina ou diesel recebidos ou enviados. As\n\nv\u00e1lvulas direcionam os produtos para serem armazenados em tanques espec\u00edficos (TQ-01,\n\nTQ-02 ou TQ-03) e, posteriormente, enviados para as companhias distribuidoras.\n\nExistem v\u00e1rios tipos e modelos de v\u00e1lvulas para a opera\u00e7\u00e3o de um terminal. O\n\nesquema simplificado apresentado na Figura 4.4, ilustra dois tipos de v\u00e1lvulas: uma com\n\ns\u00edmbolo de uma letra \u201cM\u201d para v\u00e1lvulas eletromec\u00e2nicas com motores, aos quais possuem\n\nsensores e instrumenta\u00e7\u00e3o para indica\u00e7\u00e3o de sua posi\u00e7\u00e3o em tempo real; outras s\u00e3o v\u00e1l-\n\nvulas com apenas componentes mec\u00e2nicos que dever\u00e3o ser acionadas manualmente em\n\ncaso de alguma falha nas v\u00e1lvulas eletromec\u00e2nicas.\n\nAs v\u00e1lvulas eletromec\u00e2nicas V-04 a V-7 s\u00e3o respons\u00e1veis pelo recebimento, arma-\n\nzenamento e envio de gasolina dos tanques TQ-01 e TQ-02, enquanto as v\u00e1lvulas eletro-\n\nmec\u00e2nicas V-08 e V-09 s\u00e3o respons\u00e1veis pelas mesmas opera\u00e7\u00f5es para o tanque TQ-03\n\ncom \u00f3leo diesel.\n\nAlguns importantes cuidados operacionais devem ser levados em conta:\n\n1. Para o melhor controle de volume enviado e para evitar que produtos de diferentes\n\nespecifica\u00e7\u00f5es se misturem, dois ou mais tanques n\u00e3o podem ao mesmo tempo\n\nenviar para a mesma companhia;\n\n2. Da mesma forma, dois ou mais tanques n\u00e3o podem receber produtos ao mesmo\n\ntempo da refinaria, pois cada produto possui suas pr\u00f3prias especifica\u00e7\u00f5es e quali-\n\ndades.\n\nDeste modo, o terminal realiza basicamente dois procedimentos operacionais, o\n\nde receber para armazenar e o de enviar o estoque. Com o devido cuidado operacional,\n\n\u00e9 poss\u00edvel realizar a medida de volume dos produtos transportados, sua identifica\u00e7\u00e3o,\n\nrastreamento e evitar que os produtos armazenados se misturem, mediante as seguintes\n\nopera\u00e7\u00f5es:\n\n\u2022 Opera\u00e7\u00e3o de recebimento: um produto chega atrav\u00e9s do poliduto (diesel ou ga-\n\nsolina) para um tanque correspondente. Para o recebimento de gasolina no tanque\n\nTQ-01 e evitar que o produto seja enviado para outros tanques, por exemplo, as\n\nv\u00e1lvulas V-01, V-02 e V-04 dever\u00e3o permanecer com obturador aberto e as v\u00e1lvulas\n\nV-06 e V-08 dever\u00e3o permanecer com obturador fechado. A v\u00e1lvula V-05 tamb\u00e9m\n\ndever\u00e1 estar com obturador fechado para que o produto n\u00e3o escoe para as compa-\n\n\n\n66\n\nnhias distribuidoras ou ent\u00e3o contamine o combust\u00edvel do tanque TQ-02.\n\n\u2022 Opera\u00e7\u00e3o de Envio: determinado produto (diesel ou gasolina) \u00e9 enviado de um tan-\n\nque para uma companhia distribuidora. Para o envio de gasolina do tanque TQ-02,\n\npor exemplo, as v\u00e1lvulas V-02 e V-10 dever\u00e3o permanecer com obturador aberto. A\n\nv\u00e1lvula V-05 dever\u00e1 permanecer com obturador fechado para impedir o escoamento\n\ndo produto ao TQ-01, assim como a v\u00e1lvula V-06 tamb\u00e9m dever\u00e1 permanecer com\n\nobturador fechado para impedir entrada de produto no tanque TQ-02.\n\nA Tabela 4.1 apresenta as poss\u00edveis opera\u00e7\u00f5es de envio e recebimento de produ-\n\ntos com as determinadas posi\u00e7\u00f5es das v\u00e1lvulas (esquema da Figura 4.4), observando os\n\ndevidos cuidados operacionais citados anteriormente.\n\nTabela 4.1: Procedimentos operacionais de um t\u00edpico terminal.\n\nTanque TQ-01 TQ-02 TQ-03\n\nV\u00e1lvula Envia Recebe Envia Recebe Envia Recebe\n\nV-01 A - A - A -\n\nV-02 A - A - - -\n\nV-03 - - - - A -\n\nV-04 A F F - F -\n\nV-05 F A - F - -\n\nV-06 F - A F F -\n\nV-07 - F F A - -\n\nV-08 F - F - A F\n\nV-09 - F - F F A\n\nV-10 - A - A - -\n\nV-11 - - - - - A\n\nLegenda: V\u00e1lvula com obturador aberto (A); V\u00e1lvula com obturador fechado (F).\n\nDentro dos ciclos de opera\u00e7\u00e3o dos sistemas de transporte e armazenamento em\n\nterminais, as v\u00e1lvulas sofrem in\u00fameras perturba\u00e7\u00f5es que caracterizam o processo como\n\ndin\u00e2mico. A implementa\u00e7\u00e3o de t\u00e9cnicas de detec\u00e7\u00e3o de falhas em tempo real ou online\n\npermite, por exemplo, que operadores da planta suspendam uma opera\u00e7\u00e3o, programem\n\numa manuten\u00e7\u00e3o ou simplesmente acionem v\u00e1lvulas mec\u00e2nicas de emerg\u00eancia como \u00e9 o\n\ncaso das v\u00e1lvulas V-02, V-03, V-10 e V-11 do esquema da Figura 4.4.\n\nNote-se que as v\u00e1lvulas mec\u00e2nicas tamb\u00e9m necessitam de sistemas de detec\u00e7\u00e3o\n\nde falhas, pois podem apresentar desgastes nas engrenagens de redu\u00e7\u00e3o para abertura e\n\n\n\n67\n\nfechamento manual. Na se\u00e7\u00e3o 4.3.2 foram abordadas as for\u00e7as que atuam sobre a v\u00e1lvula\n\ne favorecem a abertura do obturador, sendo no entando, o vazamento o principal problema.\n\nO esquema abordado pode ter uma nova configura\u00e7\u00e3o com maior confiabilidade ao\n\nse adotar o uso de recurso redundante, ou seja, possibilitar que o sistema tolere a parada ou\n\no mau funcionamento de uma v\u00e1lvula. Ent\u00e3o uma segunda v\u00e1lvula estar\u00e1 imediatamente\n\ndispon\u00edvel para uso quando uma v\u00e1lvula prim\u00e1ria do sistema apresentar falha.\n\nA Figura 4.5 ilustra uma segunda v\u00e1lvula alternativa V-02 em s\u00e9rie com V-01. No\n\ncaso de detec\u00e7\u00e3o de falhas em uma v\u00e1lvula ou da necessidade de prote\u00e7\u00e3o, essa poder\u00e1\n\nser desativada e permanecer mecanicamente com obturador aberto no modo manual para\n\nposterior desacopla\u00e7\u00e3o e manuten\u00e7\u00e3o do atuador el\u00e9trico. Ent\u00e3o a opera\u00e7\u00e3o remota do\n\nsistema supervis\u00f3rio, por exemplo, ser\u00e1 transferido integralmente \u00e0 segunda v\u00e1lvula.\n\nFigura 4.5: Redund\u00e2ncia com v\u00e1lvulas em dutos.\n\nNo caso de detec\u00e7\u00e3o de falhas em ambas as v\u00e1lvulas, simultaneamente as mesmas\n\ndever\u00e3o ser desativadas para posterior desacopla\u00e7\u00e3o e manuten\u00e7\u00e3o do atuador el\u00e9trico.\n\nNesse \u00faltimo caso, enquanto a manuten\u00e7\u00e3o \u00e9 realizada, a planta dever\u00e1 conter tamb\u00e9m\n\nv\u00e1lvulas paralelas na tubula\u00e7\u00e3o que isolem esse ponto do sistema da rede. Em uma grande\n\ninstala\u00e7\u00e3o industrial, por exemplo, poder\u00e1 existir tamb\u00e9m v\u00e1lvulas direcionais na tubula-\n\n\u00e7\u00e3o para o produto ser distribu\u00eddo a outros pontos da rede enquanto o processo apresentar\n\nfalhas.\n\n4.3 Vis\u00e3o geral do Estudo de Caso\n\nAs v\u00e1lvulas est\u00e3o presentes nas mais diversas aplica\u00e7\u00f5es e t\u00eam como finalidade\n\ncontrolar o fluxo de fluidos em uma tubula\u00e7\u00e3o (\u00e1gua, esgoto ou petr\u00f3leo). Uma planta\n\nindustrial pode conter centenas de v\u00e1lvulas. Um setor espec\u00edfico como o petroqu\u00edmico\n\nou de saneamento b\u00e1sico pode conter milhares de v\u00e1lvulas instaladas. Existem diversos\n\ntipos de v\u00e1lvulas: gaveta, esfera, ou globo, cada uma indicada para um tipo de aplica\u00e7\u00e3o\n\nem particular. Podem estar operando sob condi\u00e7\u00f5es de press\u00e3o e temperatura altas, por\n\n\n\n68\n\nexemplo, ou mesmo em locais remotos com acesso dif\u00edcil ou demorado.\n\nNo exemplo de um t\u00edpico terminal na se\u00e7\u00e3o anterior 4.2.1, a integridade do funci-\n\nonamento das v\u00e1lvulas \u00e9 uma quest\u00e3o estrat\u00e9gica, visto que uma indisponibilidade ope-\n\nrativa pode representar, em termos de custos, muitas vezes mais do que custaria reparar\n\na pr\u00f3pria falha. Em geral, quando as v\u00e1lvulas falham de forma indesejada, podem cau-\n\nsar grandes preju\u00edzos no modal dutovi\u00e1rio. Logo, \u00e9 importante que se tenha informa\u00e7\u00f5es\n\nsobre o estado do equipamento com a anteced\u00eancia necess\u00e1ria para que a equipe de ma-\n\nnuten\u00e7\u00e3o planeje e chegue antes da falha (HENRIQUES et al., 2010).\n\n4.3.1 Estudo de Caso deste Trabalho\n\nAtuadores el\u00e9tricos s\u00e3o dispositivos eletromec\u00e2nicos capazes de controlar o n\u00edvel\n\nde abertura de v\u00e1lvulas, dampers, comportas e similares. O atuador el\u00e9trico pode ser\n\nacoplado atrav\u00e9s de unidades de adapta\u00e7\u00e3o ou redutores, sendo sua principal fun\u00e7\u00e3o o\n\ncontrole do movimento da haste da v\u00e1lvula, que controla o fluxo de produto dentro da\n\ntubula\u00e7\u00e3o em que atua (COESTER AUTOMA\u00c7\u00c3O, 2001).\n\nExternamente o dispositivo \u00e9 composto por uma carca\u00e7a, com volante mec\u00e2nico\n\nmanual, um acoplamento para v\u00e1lvula com caixa de engrenagens, uma caixa de bornes\n\npara conectar o motor a um compartimento de circuito eletr\u00f4nico de controle de aciona-\n\nmento do atuador e um painel frontal com visor e comando local, conforme a Figura 4.6.\n\nFigura 4.6: Componentes externos do atuador.\n\nFonte: Coester (COESTER AUTOMA\u00c7\u00c3O, 2001)\n\n\n\n69\n\nA representa\u00e7\u00e3o esquem\u00e1tica da Figura 4.7, apresenta os componentes internos\n\ndos atuadores da linha CSR 1, com sistema de engrenagens diferenciais que garantem\n\nauto-travamento, alta capacidade de redu\u00e7\u00e3o e acionamento manual atrav\u00e9s de acopla-\n\nmento com alavanca. Cada item est\u00e1 numerado na figura sendo que os componentes de\n\n(1) a (5) destinam-se ao acionamento el\u00e9trico e os componentes de (6) a (12) ao aciona-\n\nmento manual e mec\u00e2nico.\n\nFigura 4.7: Detalhes construtivos dos atuadores.\n\nFonte: Coester (COESTER AUTOMA\u00c7\u00c3O, 2001)\n\nO sistema de transmiss\u00e3o mec\u00e2nica apresenta tr\u00eas tipos de redu\u00e7\u00f5es cinem\u00e1ticas,\n\ndenominadas de prim\u00e1ria, secund\u00e1ria e terci\u00e1ria: O motor (1), respons\u00e1vel pelo movi-\n\nmento do equipamento, aciona o conjunto das engrenagens sat\u00e9lites (2), nas quais se\n\nprocessa a redu\u00e7\u00e3o prim\u00e1ria. O movimento continua no par sem-fim (3) e coroa (5), que\n\nacionam o acoplador deslizante (9), respons\u00e1vel pelo movimento da manga de sa\u00edda (13)\n\nocorrendo ent\u00e3o a redu\u00e7\u00e3o secund\u00e1ria. Uma terceira redu\u00e7\u00e3o ocorre no redutor de sa\u00edda\n\n(14) acoplado \u00e0 sa\u00edda da manga. O Volante manual (10), respons\u00e1vel pelo movimento do\n\nequipamento, aciona o acoplador deslizante (9), quando o knob seletor (11), estiver na\n\nposi\u00e7\u00e3o comando manual. Caso seja acionado o comando el\u00e9trico, o comando manual\n\n\u00e9 automaticamente desativado atrav\u00e9s do prato de desacoplamento (12), garantindo total\n\nseguran\u00e7a ao operador.\n\nO atuador el\u00e9trico deste estudo de caso \u00e9 um modelo inteligente CSR6, o mesmo\n\nutilizado nos trabalhos de (FACCIN, 2011), (B\u00d6ESCH, 2011), (LAZZARETTI, 2012),\n\n1As solu\u00e7\u00f5es da linha CSR da empresa Coester, se aplicam \u00e0s v\u00e1lvulas tipo gaveta, globo e outros\nequipamentos similares (COESTER, 2018).\n\n\n\n70\n\n(GIACOMOLLI, 2014), (STEIN, 2014), (MARIMON, 2014) e (ROCHA, 2016) com ca-\n\npacidade m\u00e1xima de 60 N.m, motor tipo gaiola de esquilo para o acionamento, rota\u00e7\u00e3o de\n\n42 rpm, carca\u00e7a em alum\u00ednio Copper Free, controle inteligente atrav\u00e9s de uma unidade\n\nde processamento local, sensores e sistema de autodiagn\u00f3stico, al\u00e9m de capacidade de\n\ncomunica\u00e7\u00e3o via uma rede Modbus. As especifica\u00e7\u00f5es desse atuador est\u00e3o resumidas na\n\nTabela 4.2.\n\nTabela 4.2: Especifica\u00e7\u00f5es do atuador el\u00e9trico modelo CSR6.\n\nAtuador CSR6 Unidade Valor\n\nTorque m\u00e1ximo N.m 60\n\nTorque de trabalho N.m 60\n\nTens\u00e3o de opera\u00e7\u00e3o V 220\n\nTempo de opera\u00e7\u00e3o s 46\n\nRota\u00e7\u00e3o rpm 42\n\nPot\u00eancia do motor kW 0,18\n\nRota\u00e7\u00e3o do motor rpm 3600\n\nA fun\u00e7\u00e3o de autodiagn\u00f3stico dispon\u00edvel nos atuadores inteligentes da Coester \u00e9 a\n\nde monitorar e detectar diversos problemas tais como, o torque excessivo exercido sobre\n\na v\u00e1lvula, sobreaquecimento e falta de fase do motor.\n\nOs atuadores inteligentes podem registrar as 500 \u00faltimas opera\u00e7\u00f5es realizadas na\n\nsua mem\u00f3ria interna com os valores de torque exercido na haste (com resolu\u00e7\u00e3o de 1\n\nN.m) por percentual de abertura da v\u00e1lvula (a cada 5% de abertura) para posterior an\u00e1-\n\nlise. O torque m\u00e1ximo exercido pelo atuador \u00e9 dado pelo modelo do atuador, mas o limite\n\nem que o atuador cessa o movimento pode ser configurado por software (COESTER AU-\n\nTOMA\u00c7\u00c3O, 2001).\n\nO sistema de transmiss\u00e3o mec\u00e2nica do atuador em estudo \u00e9 formado por quatro\n\ntipos de engrenagens cil\u00edndricas projetadas para transmitir movimento: uma de dentes\n\nretos, um par coroa sem-fim e um conjunto de engrenagens helicoidais e planet\u00e1rias (for-\n\nmando um sistema de transmiss\u00e3o diferencial) (GON\u00c7ALVES et al., 2011).\n\nAs engrenagens cil\u00edndricas de dentes retos internos fazem parte do conjunto de\n\nengrenagens sat\u00e9lite do atuador. O conjunto apresentado na Figura 4.8 \u00e9 respons\u00e1vel pela\n\ntransmiss\u00e3o do movimento do motor para a haste da v\u00e1lvula, onde encontra-se posicio-\n\nnado tamb\u00e9m o sensor de torque.\n\n\n\n71\n\nFigura 4.8: Conjunto de engrenagens sat\u00e9lite do atuador.\n\nFonte: Coester (COESTER AUTOMA\u00c7\u00c3O, 2001)\n\nDevido ao sistema de redu\u00e7\u00e3o cinem\u00e1tica, o conjunto de engrenagens sat\u00e9lite do\n\natuador realiza grande esfor\u00e7o. Com o decorrer do tempo e da utiliza\u00e7\u00e3o dos atuadores\n\nem campo, verifica-se a ocorr\u00eancia de desgaste ou fratura de dentes nas engrenagens so-\n\nlicitadas ou at\u00e9 mesmo quebra do eixo sem-fim devido ao torque excessivo. Um conjunto\n\ndefeituoso de engrenagens cil\u00edndricas de dentes retos, cedido pela empresa Coester, \u00e9\n\nilustrado na Figura 4.9.\n\nFigura 4.9: Conjunto defeituoso de engrenagens do estudo de caso.\n\nFonte: (FACCIN, 2011; B\u00d6ESCH, 2011; PICCOLI et al., 2012)\n\n4.3.2 Trabalhos Relacionados ao Estudo de Caso\n\n\u00c0 medida que os equipamentos no transporte dutovi\u00e1rio s\u00e3o utilizados, ficam su-\n\njeitos a v\u00e1rios tipos de degrada\u00e7\u00e3o: desgaste, sujeira, corros\u00e3o, rachaduras e outras ano-\n\nmalias. Os trabalhos (GON\u00c7ALVES et al., 2011; BOSA, 2009) em parceria com as\n\nempresas Transpetro e Coester utilizaram ferramentas para an\u00e1lise de uma manuten\u00e7\u00e3o\n\ncentrada em confiabilidade RCM (Reliability Centred Maintenance) e realizaram um le-\n\n\n\n72\n\nvantamento hist\u00f3rico de manuten\u00e7\u00e3o, aplicando t\u00e9cnicas quantitativas para determina\u00e7\u00e3o\n\nde componentes mais cr\u00edticos no sistema. Ent\u00e3o foi aplicado m\u00e9todo qualitativo por dia-\n\ngramas de causa-efeito (FMECA - Failure Mode, Effects, and Criticality Analysis) ao es-\n\ntudo de caso escolhido no est\u00e1gio anterior. O diagrama gerado \u00e9 mostrado na Figura 4.10,\n\nonde s\u00e3o associados poss\u00edveis modos de falha em atuadores el\u00e9tricos acoplados a v\u00e1lvulas\n\nde dutos da Transpetro com um risco em potencial, ou seja, o vazamento da v\u00e1lvula.\n\nFigura 4.10: Diagrama de causa-efeito para identificar poss\u00edveis modos de falha no con-\n\njunto atuador-v\u00e1lvula.\n\nFonte: (GON\u00c7ALVES et al., 2011)\n\nAs falhas no conjunto atuador v\u00e1lvula t\u00eam as mais diversas causas que variam de\n\ndefeitos internos na v\u00e1lvula (desgastes nas engrenagens, umidade, corros\u00e3o, etc.), defei-\n\ntos no atuador el\u00e9trico (rompimento de bobina do motor, rolamentos, curtos circuitos,\n\numidade, sobre torque, etc.) at\u00e9 defeitos internos no obturador (obstru\u00e7\u00e3o do obturador,\n\nsedimentos na base, vazamentos, etc.) (BOSA, 2009).\n\nTrabalhos com Modelagem Matem\u00e1tica\n\nFoi realizado em Gon\u00e7alves et al. (2011) uma modelagem do estudo de caso, com\n\numa s\u00e9rie de for\u00e7as que atuam para que ocorra o movimento de abertura ou fechamento\n\ndo obturador da v\u00e1lvula. As for\u00e7as s\u00e3o mostradas na Figura 4.11, onde: A for\u00e7a do\n\natuador \u00e9 aquela transmitida pelo motor atrav\u00e9s do sistema de engrenagens; a for\u00e7a de\n\natrito corresponde ao atrito existente entre a haste e a gaxeta (pe\u00e7a usada para impedir\n\nvazamentos); a for\u00e7a da mola serve para fazer com que a gaveta da v\u00e1lvula retorne \u00e0 sua\n\nposi\u00e7\u00e3o inicial na aus\u00eancia de alimenta\u00e7\u00e3o; a for\u00e7a do fluido que \u00e9 determinada a partir\n\ndo escoamento de um fluido atrav\u00e9s da tubula\u00e7\u00e3o.\n\n\n\n73\n\nFigura 4.11: Modelagem do atuador el\u00e9trico, v\u00e1lvula e tubula\u00e7\u00e3o.\n\nFonte: adaptado de (COESTER AUTOMA\u00c7\u00c3O, 2001; GON\u00c7ALVES et al., 2011).\n\nJuntamente com a ferramenta Watchdog Agent (DJURDJANOVIC; LEE; NI, 2003),\n\nforam implementados em MATLAB (MATrix LABoratory) o modelo matem\u00e1tico com da-\n\ndos de torque do atuador e posi\u00e7\u00e3o do obturador da v\u00e1lvula (GON\u00c7ALVES et al., 2011;\n\nBOSA, 2009). A ferramenta Watchdog Agent possui um conjunto de ferramentas para\n\no processamento de sinais (transformada wavelet packet), a extra\u00e7\u00e3o de caracter\u00edsticas e\n\no recurso de fus\u00e3o de dados de sensores. Quando bem treinada pelo operador, realiza\n\nc\u00e1lculos de desempenho (m\u00e9todo da regress\u00e3o log\u00edstica e de reconhecimento estat\u00edstico\n\nde padr\u00f5es), predi\u00e7\u00e3o de falhas e diagn\u00f3stico de sa\u00fade dos equipamentos. Ent\u00e3o, foram\n\nrealizadas simula\u00e7\u00f5es das condi\u00e7\u00f5es de comportamento do atuador e v\u00e1lvula (normal,\n\ndegrada\u00e7\u00e3o e falha) com inje\u00e7\u00e3o de falhas, alterando os par\u00e2metros Kh (coeficiente de\n\nredu\u00e7\u00e3o cinem\u00e1tica na haste), Km (coeficiente de Hook da mola) e Ca (constante de atrito\n\nentre a haste e a gaxeta da v\u00e1lvula gaveta) do modelo matem\u00e1tico.\n\nBosa (2009) construiu um prot\u00f3tipo implementado em linguagem de descri\u00e7\u00e3o\n\nde hardware (VHDL - VHSIC Hardware Description Language) do algoritmo de mapa\n\nauto-organiz\u00e1vel (SOM - Self-Organization Maps) sintetiz\u00e1vel em FPGA. A Figura 4.12\n\nmostra a arquitetura do sistema embarcado para prototipar o sistema de manuten\u00e7\u00e3o inte-\n\nligente em uma placa de desenvolvimento FPGA da Xilinx. O SOM \u00e9 um tipo de Rede\n\nNeural utilizado para representa\u00e7\u00e3o de dados multidimensionais, o que facilita a visuali-\n\nza\u00e7\u00e3o de grande quantidade de informa\u00e7\u00f5es. O neur\u00f4nio vencedor (W) tem a fun\u00e7\u00e3o de\n\nlocalizar a menor dist\u00e2ncia Euclidiana no padr\u00e3o do mapa (J) e atualizar a vizinhan\u00e7a para\n\numa representa\u00e7\u00e3o gr\u00e1fica que permita a visualiza\u00e7\u00e3o topol\u00f3gica de neur\u00f4nios cooperati-\n\n\n\n74\n\nvos. Ent\u00e3o, para desempenhar as tarefas de detec\u00e7\u00e3o de anormalidades e diagn\u00f3stico de\n\nfalhas no estudo de caso, os dados de entrada aplicados nesse prot\u00f3tipo foram os sinais de\n\nenergia (obtidos a partir da transformada wavelet packet) gerados na ferramenta Watchdog\n\nAgent.\n\nFigura 4.12: Arquitetura do sistema embarcado para manuten\u00e7\u00e3o inteligente.\n\nFonte: adaptado de (BOSA, 2009; GON\u00c7ALVES et al., 2011).\n\nEm Gon\u00e7alves et al. (2011), os sinais de energia (obtidos a partir da transfor-\n\nmada wavelet packet) gerados na ferramenta Watchdog Agent al\u00e9m de serem repassados\n\nao SOM embarcado da Figura 4.12, tamb\u00e9m foram aplicados a filtragem adaptativa para\n\na realiza\u00e7\u00e3o das etapas de detec\u00e7\u00e3o, classifica\u00e7\u00e3o, predi\u00e7\u00e3o de falhas e determina\u00e7\u00e3o do\n\ntempo de vida \u00fatil do atuador el\u00e9trico. A Figura 4.13 mostra a arquitetura do filtro adap-\n\ntativo e a m\u00e1quina de estados do circuito de predi\u00e7\u00e3o do VHDL embarcado. Compara-\n\ntivamente, os resultados de desempenho do SOM e filtro adaptativo foram satisfat\u00f3rios\n\ne aproximadamente iguais em termos qualitativos nas tarefas de detec\u00e7\u00e3o e predi\u00e7\u00e3o de\n\nfalhas. Nos termos de n\u00famero de Slices, Flip Flops, Luts, blocos de entrada/sa\u00edda e de\n\nmem\u00f3ria (BRAM - Block Random Access Memory) utilizados, o circuito desenvolvido a\n\npartir do filtro adaptativo ocupou uma \u00e1rea menor na FPGA e apresentou menor tempo de\n\nprocessamento em rela\u00e7\u00e3o ao circuito SOM.\n\n\n\n75\n\nFigura 4.13: Arquitetura do circuito de predi\u00e7\u00e3o com filtro adaptativo.\n\nFonte: (GON\u00c7ALVES et al., 2011).\n\nTrabalhos com Bancada de Teste\n\nUma bancada de testes foi desenvolvida em HENRIQUES et al. (2010), no \u00e2mbito\n\nde um projeto de pesquisa cooperativa entre o Grupo de Controle Automa\u00e7\u00e3o e Rob\u00f3-\n\ntica (GCAR) com as empresas Transpetro e Coester, para realizar ensaios e experimentos\n\nde degrada\u00e7\u00e3o real dos componentes de um atuador eletromec\u00e2nico para v\u00e1lvulas. S\u00e3o\n\ndescritos na se\u00e7\u00e3o 6.4 os procedimentos utilizados, neste e demais trabalhos (FACCIN,\n\n2011; B\u00d6ESCH, 2011; PICCOLI et al., 2013a; LAZZARETTI, 2012; GIACOMOLLI,\n\n2014; STEIN, 2014; MARIMON, 2014; ROCHA, 2016), para emular poss\u00edveis esfor\u00e7os\n\nque a v\u00e1lvula sofre de acordo com a passagem de fluido no tubo e falhas comuns encontra-\n\ndas na aplica\u00e7\u00e3o no campo, onde o equipamento se torna suscet\u00edvel \u00e0 a\u00e7\u00e3o de degrada\u00e7\u00e3o,\n\ntais como envelhecimento, corros\u00e3o, rachaduras e danos causados por operadores.\n\nFaccin (2011) realizou a an\u00e1lise dos tipos de falha na abertura e fechamento da\n\nv\u00e1lvula com fus\u00e3o de sensores. O procedimento de fus\u00e3o de sensores seguiu as etapas:\n\nprocessamento de sinais (pacotes wavelets), extra\u00e7\u00e3o de caracter\u00edsticas (energia do sinal)\n\ne avalia\u00e7\u00e3o de desempenho (regress\u00e3o log\u00edstica). Para esta tarefa, a ferramenta Watchdog\n\nAgent foi utilizada e comparada em duas plataformas diferentes, LabVIEW e MATLAB.\n\nNa t\u00e9cnica, tamb\u00e9m foi calculado para cada sensor (de torque e vibra\u00e7\u00e3o) o valor pico-a-\n\n\n\n76\n\n-pico, o pico m\u00e1ximo, o pico m\u00ednimo, o n\u00edvel de corrente cont\u00ednua, o valor da raiz qua-\n\ndrada da m\u00e9dia (RMS - Root Mean Square), m\u00e9dia aritm\u00e9tica e dados estat\u00edsticos como\n\na obliquidade e curtose. As falhas injetadas pelo freio apresentaram not\u00f3rias altera\u00e7\u00f5es\n\nno valor RMS dos sensores, j\u00e1 os sensores com aceler\u00f4metro apresentaram altera\u00e7\u00f5es de\n\nfrequ\u00eancia com engrenagens de dente desgastado ou fraturado. Por fim, demonstrou que\n\nse projetada corretamente, a arquitetura de fus\u00e3o de sensores pode melhorar a qualidade\n\ndo sensoriamento do processo.\n\nB\u00f6esch (2011) apresentou um sistema elaborado com rotinas em MATLAB para\n\ndetec\u00e7\u00e3o de falhas aplicado aos dados coletados de sensores com a bancada de teste. O\n\nprograma analisou se h\u00e1 correla\u00e7\u00e3o cruzada de cada sinal com os sinais de refer\u00eancia,\n\ntanto de falha quanto de opera\u00e7\u00e3o normal e se apresentam caracter\u00edsticas identific\u00e1veis\n\n\u00e0s assinaturas das falhas inseridas no sistema. Foi verificado os sinais de vibra\u00e7\u00e3o para\n\nopera\u00e7\u00e3o do sistema em condi\u00e7\u00e3o normal e na presen\u00e7a de falhas, como por exemplo\n\nengrenagens desgastadas ou quebradas, onde apareceram frequ\u00eancias de vibra\u00e7\u00e3o maiores\n\ndo que em opera\u00e7\u00e3o normal.\n\nUtilizando ferramentas de gera\u00e7\u00e3o autom\u00e1tica de c\u00f3digo, Lazzaretti (2012) con-\n\nverteu os algoritmos (energia da transformada wavelet packet e regress\u00e3o log\u00edstica) dis-\n\npon\u00edveis na ferramenta Watchdog Agent em software ou hardware embarcado. Entre as\n\nplataformas MATLAB (com MATLAB Coder, Embedded Coder e HDL Coder) e Lab-\n\nVIEW (com CompactRIO) utilizadas para gerar o hardware embarcado, obteve \u00eaxito ape-\n\nnas com uma ferramenta para linguagem de descri\u00e7\u00e3o de hardware (HDL Coder - Hard-\n\nware Description Language Coder) do MATLAB aplicado ao algor\u00edtimo de regress\u00e3o\n\nlog\u00edstica. Enquanto para software embarcado, obteve \u00eaxito com ambos algoritmos (ener-\n\ngia da transformada wavelet packet e regress\u00e3o log\u00edstica). O desempenho dos sistemas\n\nde manuten\u00e7\u00e3o gerados em software/hardware embarcados foram comparados atrav\u00e9s de\n\npar\u00e2metros como tempo de execu\u00e7\u00e3o e ocupa\u00e7\u00e3o de mem\u00f3ria ou de \u00e1rea na FPGA. O\n\nmonitoramento dos dados de vibra\u00e7\u00e3o em conjunto com as t\u00e9cnicas de processamento de\n\nsinais utilizadas no sistema de manuten\u00e7\u00e3o inteligente Watchdog Agent mostrou-se capaz\n\nde detectar corretamente as falhas induzidas no atuador.\n\nEm continuidade ao trabalho de fus\u00e3o de sensores aplicada \u00e0 manuten\u00e7\u00e3o inte-\n\nligente (FACCIN, 2011), Marimon (2014) comparou a ferramenta Watchdog Agent nas\n\nplataformas LabVIEW e MATLAB. A vers\u00e3o da ferramenta Watchdog Agent para Lab-\n\nVIEW foi mais indicada para o controle e an\u00e1lise do sistema analisado, pois permitiu\n\nmelhor compatibilidade e versatilidade. Os testes realizados com a v\u00e1lvula operando e\n\n\n\n77\n\nrealizando os ciclos apresentaram resultados expressivos, atrav\u00e9s do monitoramento em\n\ntempo real ativando um sinal amarelo ou vermelho para indicar quando o sistema neces-\n\nsita de manuten\u00e7\u00e3o. Tamb\u00e9m foi realizada uma an\u00e1lise de viabilidade econ\u00f4mica consi-\n\nderando o custo de implementa\u00e7\u00e3o do sistema e a economia obtida com a substitui\u00e7\u00e3o da\n\nterceiriza\u00e7\u00e3o do servi\u00e7o de manuten\u00e7\u00e3o preditiva, indicando uma recupera\u00e7\u00e3o estimada\n\ndo investimento do sistema na empresa em cerca de 20 meses.\n\nO trabalho de Rocha (2016) descreve uma abordagem para auxiliar na determina-\n\n\u00e7\u00e3o dos ciclos de vida do produto com sinais de vibra\u00e7\u00e3o coletados em tempo real. Atrav\u00e9s\n\nde assinaturas de diferentes tipos de falhas, s\u00e3o analisadas sua varia\u00e7\u00e3o entre amostras de\n\num mesmo lote e classificadas por tipos diferentes de falha. Com a identifica\u00e7\u00e3o das fa-\n\nlhas e seus respectivos componentes, foi determinado o estado do equipamento dentro da\n\ncurva de tempo in\u00edcio da vida (BOL - Beginning-of-Life), meio da vida (MOL - Middle-of-\n\n-Life) e fim da vida (EOL - End-of-Life). A abordagem proposta foi constru\u00edda em cima de\n\nexperi\u00eancias anteriores (LAZZARETTI, 2012; MARIMON, 2014) em desenvolvimento\n\nno projeto de Integra\u00e7\u00e3o de Sistemas Inteligentes de Manuten\u00e7\u00e3o e Cadeia de Forneci-\n\nmento de Pe\u00e7as Sobressalentes (I2MS2C). Descartando a fus\u00e3o de sensores na an\u00e1lise, no\n\nexperimento foram utilizados apenas os dados do aceler\u00f4metro acoplado ao eixo do motor\n\ndo atuador. Pois, conforme outros estudos (LAZZARETTI, 2012), estes apresentam os\n\nmelhores resultados na detec\u00e7\u00e3o de degrada\u00e7\u00e3o das engrenagens do atuador.\n\nStein (2014) desenvolveu um m\u00f3dulo com objetivo de ampliar as capacidades exis-\n\ntentes na ferramenta Watchdog Agent. Para isso, introduziu um c\u00f3digo em MATLAB ca-\n\npaz de estimar o tempo de vida \u00fatil de uma determinada pe\u00e7a, analisando dados obtidos\n\nde sensores de vibra\u00e7\u00e3o acoplados \u00e0 v\u00e1lvula el\u00e9trica. A partir do uso de modelo auto-\n\nregressivo de m\u00e9dias m\u00f3veis (ARMA - Auto-Regressive Moving Average), p\u00f4de determi-\n\nnar uma prov\u00e1vel data de quebra de uma pe\u00e7a ou equipamento baseando-se no comporta-\n\nmento pr\u00e9vio (no caso, dados obtidos por simula\u00e7\u00e3o a partir de um padr\u00e3o de degrada\u00e7\u00e3o\n\nadotado). O m\u00f3dulo desenvolvido para predi\u00e7\u00e3o de sa\u00fade em MATLAB, tem a possibi-\n\nlidade de oferecer informa\u00e7\u00f5es para uma redu\u00e7\u00e3o de custos do processo de manuten\u00e7\u00e3o.\n\nO sistema permite a redu\u00e7\u00e3o de gastos com estoques, insumos e mat\u00e9ria-prima no ambi-\n\nente de produ\u00e7\u00e3o, por exemplo, pois os sistemas de otimiza\u00e7\u00e3o de cadeias de suprimento\n\nobt\u00eam as informa\u00e7\u00f5es reais necess\u00e1rias para a reposi\u00e7\u00e3o de pe\u00e7as.\n\n\n\nPARTE II - METODOLOGIA\n\n\n\n78\n\n\n\n79\n\n5 PROPOSTA E IMPLEMENTA\u00c7\u00d5ES DO SISTEMA\n\nA metodologia proposta apresenta conceitos baseados no modelo de arquitetura\n\naberta para sistemas de manuten\u00e7\u00e3o CBM (OSA-CBM - Open System Architecture for\n\nCondition-Based Maintenance) (SWEARINGEN et al., 2007), de manuten\u00e7\u00e3o centrada\n\nem confiabilidade e t\u00e9cnicas de processamento de sinais reunidas num sistema inteligente\n\nde apoio \u00e0 tomada de decis\u00e3o. O OSA-CBM \u00e9 uma implementa\u00e7\u00e3o da especifica\u00e7\u00e3o fun-\n\ncional ISO-13374 e define seis blocos de funcionalidade, ilustrados e enumerados na Fi-\n\ngura 5.1. O sistema desenvolvido aborda os quatro primeiros blocos do modelo: 1) Aqui-\n\nsi\u00e7\u00e3o de dados; 2) Manipula\u00e7\u00e3o de dados; 3) Monitoramento das condi\u00e7\u00f5es ; 4) Avalia\u00e7\u00e3o\n\nda sa\u00fade.\n\nFigura 5.1: Arquitetura conceitual do sistema nas camadas do OSA-CBM.\n\nSensor (vibra\u00e7\u00e3o ou torque)\n\nO\nS\n\nA\n-C\n\nB\nM\n\n1) Aquisi\u00e7\u00e3o de dados\n\n2) Manipula\u00e7\u00e3o de dados\n\n3) Monitoramento das condi\u00e7\u00f5es\n\n4) Avalia\u00e7\u00e3o da sa\u00fade do sistema\n\n5) Progn\u00f3stico\n\n6) Apoio \u00e0 tomada de decis\u00e3o\n\nFDS - Detec\u00e7\u00e3o\n\nFDI - Diagn\u00f3stico\n\nTrabalhos futuros\n\nFonte: adaptado de (JOHNSTON; WONG, 2018)\n\nAs arquiteturas para a concep\u00e7\u00e3o do projeto do circuito integrado dos sistemas\n\nFault Detection System (FDS) (PICCOLI et al., 2015a) dos blocos 1 ao 3 e Fault Detection\n\nIndex (FDI) (PICCOLI et al., 2015b) do bloco 4 para as tarefas de detec\u00e7\u00e3o e diagn\u00f3s-\n\ntico de falhas, bem como a comunica\u00e7\u00e3o com o m\u00f3dulo em hardware ser\u00e3o descritos\n\nnas se\u00e7\u00f5es a seguir. As propostas foram implementadas na linguagem Verilog seguindo\n\norienta\u00e7\u00f5es e expertise de Tumbush (2005) com algoritmos para concep\u00e7\u00e3o de DSP em\n\nhardware. Os testes com o estudo de caso (v\u00e1lvula el\u00e9trica) para valida\u00e7\u00e3o da proposta\n\nescolhida da Figura 5.17, ser\u00e3o abordados no Cap\u00edtulo 6.\n\n\n\n80\n\n5.1 Sistema Embarcado FDS e FDI\n\nA escolha de algoritmos tais como DWT (WALNUT, 2002) e Filtro Adaptativo\n\ncom LMS (HAYKIN, 2001) foi relevante para o desenvolvimento do sistema em hard-\n\nware, pois apresentam baixa complexidade computacional e bom desempenho (KONEZNY;\n\nRAO, 1995). Neste sentido, o processo de detec\u00e7\u00e3o de falhas com FDS (se\u00e7\u00e3o 5.2) com-\n\npreende, na an\u00e1lise simult\u00e2nea das propriedades do sinal em ambos os dom\u00ednios de tempo\n\ne frequ\u00eancia, a extra\u00e7\u00e3o de caracter\u00edsticas e filtragem adaptativa. O diagn\u00f3stico das fa-\n\nlhas com FDI (se\u00e7\u00e3o 5.3), atrav\u00e9s do valor de uma integral sobre a detec\u00e7\u00e3o ao longo de\n\numa janela de tempo, produz um \u00edndice para identifica\u00e7\u00e3o da falha e o estado de sa\u00fade do\n\nequipamento.\n\n5.2 O Sistema FDS para Detec\u00e7\u00e3o e Predi\u00e7\u00e3o de Falhas\n\nVisando a aplica\u00e7\u00e3o da detec\u00e7\u00e3o e predi\u00e7\u00e3o de falhas em tempo real, este trabalho\n\nprop\u00f5e o uso de FDS em hardware. Conforme mostra a Fig. 5.2, o sistema realiza as\n\nopera\u00e7\u00f5es de uma DWT, extra\u00e7\u00e3o de energia do sinal e filtragem adaptativa.\n\nFigura 5.2: Estrutura do sistema de detec\u00e7\u00e3o de falhas.\n\nFDS\n\ns(n)\nl(n)\n\nh(n)\n\nx(n) e(n)\n\n\u00b5\n\nPOT\u00caNCIADWT\nFILTRO\n\nLMS\n\nFonte: (PICCOLI et al., 2015a)\n\nNos processos industriais, alguns fen\u00f4menos manifestam informa\u00e7\u00f5es observ\u00e1-\n\nveis que podem ser caracterizados com sinais s(n) (de vibra\u00e7\u00e3o ou torque) obtidos de\n\ntransdutores. No esquema da Fig. 5.2, o bloco DWT \u00e9 respons\u00e1vel pela decomposi\u00e7\u00e3o do\n\nsinal de entrada em diversos componentes, localizados no tempo e na frequ\u00eancia. Para al-\n\ncan\u00e7ar um resultado desejado, de acordo com as caracter\u00edsticas do sinal 1, o coeficiente de\n\naproxima\u00e7\u00e3o l(n) ou de detalhe h(n) \u00e9 repassado ao bloco POT\u00caNCIA, onde a ener-\n\ngia do sinal \u00e9 extra\u00edda. Em seguida, um filtro adaptativo LMS \u00e9 utilizado para predizer\n\n1Conforme o tipo de sensor utilizado para esta t\u00e9cnica, o sinal de entrada pode apresentar maior sen-\nsibilidade na varia\u00e7\u00e3o de amplitude (coeficiente de aproxima\u00e7\u00e3o da DWT com sensor de torque) ou de\nfrequ\u00eancia (coeficiente de detalhe da DWT com sensor de vibra\u00e7\u00e3o).\n\n\n\n81\n\nos valores do sinal de entrada do filtro x(n) com a pr\u00f3pria resposta desejada, ou seja, o\n\nsinal de entrada atrasado em um n\u00famero espec\u00edfico de amostras. O passo de adapta\u00e7\u00e3o do\n\nfiltro adaptativo \u00e9 configurado para controlar a estabilidade e velocidade de converg\u00eancia\n\ne, assim, obter a sensibilidade da varia\u00e7\u00e3o em regime transit\u00f3rio no dom\u00ednio tempo do\n\nsistema. \u00c9 importante observar que nesta aplica\u00e7\u00e3o, o sinal de sa\u00edda, ou seja o erro e(n),\n\nrepresenta a detec\u00e7\u00e3o das poss\u00edveis falhas nos sinais observados.\n\n5.2.1 Transformada Discreta de Wavelet\n\nAs vantagens da transformada de wavelet para determinadas aplica\u00e7\u00f5es frente \u00e0s\n\nconvencionais, como a transformada de Fourier, j\u00e1 s\u00e3o bem conhecidas. Devido \u00e0 pos-\n\nsibilidade que oferece em obter uma representa\u00e7\u00e3o no dom\u00ednio tempo-frequ\u00eancia, essa\n\ntransformada \u00e9 amplamente utilizada para an\u00e1lise de sinais.\n\nExistem dois m\u00e9todos principais para sua produ\u00e7\u00e3o e implementa\u00e7\u00e3o, um no do-\n\nm\u00ednio do tempo e outro no dom\u00ednio da frequ\u00eancia. O m\u00e9todo baseado na frequ\u00eancia\n\n\u00e9 denominado de Filter Banks (FB) e, o baseado no tempo \u00e9 denominado de Lifting\n\nScheme (LS).\n\nNa estrutura FB, em geral, os coeficientes do filtro s\u00e3o n\u00fameros fracion\u00e1rios, por-\n\ntanto, eles n\u00e3o s\u00e3o apropriados para a implementa\u00e7\u00e3o em hardware. Al\u00e9m disso, o n\u00famero\n\nde c\u00e1lculos aritm\u00e9ticos no m\u00e9todo FB \u00e9 elevado. Portanto, neste trabalho ser\u00e1 abordado\n\no m\u00e9todo LS.\n\nEstrutura LS\n\nNa estrutura LS, inicialmente as amostras do sinal de entrada s\u00e3o divididas em\n\namostras pares e \u00edmpares. A fun\u00e7\u00e3o P (predi\u00e7\u00e3o da amostra \u00edmpar) \u00e9 aplicada na amostra\n\npar. A diferen\u00e7a entre a predi\u00e7\u00e3o e o valor real da amostra \u00edmpar, gera a parte do sinal de\n\nalta frequ\u00eancia que \u00e9 denominado de coeficientes de detalhe (d). Em seguida, \u00e9 aplicada\n\na fun\u00e7\u00e3o U ao sinal de detalhe e o resultado combinado com as amostras \u00edmpares para\n\natualiz\u00e1-la de modo a obter os coeficientes de aproxima\u00e7\u00e3o (a) com as propriedades de-\n\nsejadas. Normalmente, coeficientes de aproxima\u00e7\u00e3o cont\u00eam as mesmas propriedades do\n\nsinal de entrada (x), mas com a metade do tamanho, ou seja, comprimido.\n\n\n\n82\n\nFigura 5.3: Diagrama de blocos da estrutura LS.\n\nPara o bloco de predi\u00e7\u00e3o P (Prediction) tem-se:\n\nd = xodd ?P(xeven) (5.1)\n\nPara o bloco de atualiza\u00e7\u00e3o U (Update) tem-se:\n\ns = xeven + U(d) (5.2)\n\nO n\u00famero e composi\u00e7\u00e3o dos blocos P e U na estrutura LS s\u00e3o diferentes para cada\n\ntipo de wavelet. A Figura 5.4 mostra uma arquitetura proposta em (JOU; SHIAU; LIU,\n\n2001) para a wavelet 9/7.\n\nFigura 5.4: Arquitetura LS em hardware para wavelet 9/7.\n\nFonte: (JOU; SHIAU; LIU, 2001)\n\nA implementa\u00e7\u00e3o em particular da DWT deste trabalho \u00e9 similar \u00e0 utilizada em\n\ncompress\u00e3o de imagem com perdas JPEG2000 (TAUBMAN; MARCELLIN, 2002) e\n\n(BARUA et al., 2005), composta por Cohen-Daubechies-Feauveau 9/7 (CDF 9/7) (DAU-\n\nBECHIES; SWELDENS, 1998). Os valores pr\u00f3ximos das opera\u00e7\u00f5es do JPEG2000 para\n\npredi\u00e7\u00e3o P e atualiza\u00e7\u00e3o U adotados especialmente neste trabalho, que permitem exclusi-\n\nvamente a simplifica\u00e7\u00e3o do circuito atrav\u00e9s de opera\u00e7\u00f5es de deslocamento aritm\u00e9tico, s\u00e3o\n\n\n\n83\n\nlistados a seguir:\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\n?\n\nP1 = ?.(1 + z); onde ? = ?(2\n0 + 2?1 + 2?4 + 2?6 + 2?7) = ?1,5859375\n\nU1 = ?.(z\n?1 + 1); onde ? = ?(2?5 + 2?6 + 2?8 + 2?9) = ?0,052734375\n\nP2 = ?.(1 + z); onde ? = (2\n?1 + 2?2 + 2?3 + 2?7) = 0,8828125\n\nU2 = ?.(z\n?1 + 1); onde ? = (2?2 + 2?3 + 2?4) = 0,4375\n\nK0 = K = (2\n0 + 2?2) = 1,25\n\nK1 = K\n?1 = (2?1 + 2?2 + 2?4) = 0,8125\n\n(5.3)\n\n5.2.2 Energia do Sinal\n\nAo aplicar uma transformada com uma base ortonormal, base essa formada por\n\nvetores unit\u00e1rios dois a dois ortogonais, como \u00e9 o caso da transformada de Walvelet, a\n\nrela\u00e7\u00e3o de energia do sinal \u00e9 mantida, dessa forma o teorema de Parseval afirma que pode-\n\n-se obter essa mesma energia para sinais de tempo discretos (equa\u00e7\u00e3o 3.4 no Cap\u00edtulo 3).\n\nPara sinais peri\u00f3dicos, a pot\u00eancia pode ser estimada em uma abordagem baseada\n\nna detec\u00e7\u00e3o de consumo anormal com c\u00e1lculo interativo da m\u00e9dia m\u00f3vel exponencial\n\nponderada (EWMA - Exponentially Weighted Moving Average) (MARTINEZ-ORTIZ;\n\nBECK; WILDE, 2011). O algoritmo EWMA pode ser utilizado tamb\u00e9m como parte da\n\ndetec\u00e7\u00e3o de falhas proposta por Mansouri et al. (2018).\n\nA Equa\u00e7\u00e3o 5.4 foi adaptada para obter o sinal de pot\u00eancia com o algoritmo EWMA\n\nsem a necessidade de utilizar muitos recursos de mem\u00f3ria para a implementa\u00e7\u00e3o da pro-\n\nposta em hardware:\n\np[k] = (1??)\u00d7p[k ?1] + ?\u00d7u2[k]\n\n? =\n2\n\n(N + 1)\n\n(5.4)\n\nA vari\u00e1vel u[k] \u00e9 composta por frequ\u00eancias baixas ou altas do bloco anterior\n\nDWT, representado respectivamente, pelas vari\u00e1veis de detalhe d[k] ou aproxima\u00e7\u00e3o\n\na[k]. O par\u00e2metro ? \u00e9 um fator de suaviza\u00e7\u00e3o com n\u00famero N de per\u00edodos unit\u00e1rios. Os\n\nvalores para ? s\u00e3o selecionados arbitrariamente na faixa de 0 a 1 (0 ? ? &lt;1), que comp\u00f5e\n\numa janela exponencialmente decrescente do sinal de entrada elevado ao quadrado u[k]2.\n\n\n\n84\n\nO valor adotado neste trabalho para o par\u00e2metro N foi de 7 per\u00edodos (pr\u00f3ximo ao n\u00famero\n\nde taps do filtro adaptativo da se\u00e7\u00e3o abaixo), com isso, o valor de ? foi de \"2?2 = 0.25\" e\n\n\"(1??) de \"(2?1+2?2) = 0.75\", o que permite a simplifica\u00e7\u00e3o do circuito com opera\u00e7\u00f5es\n\nde deslocamento aritm\u00e9tico no sistema bin\u00e1rio (base 2).\n\n5.2.3 Filtro Adaptativo LMS\n\nQuando o processo aleat\u00f3rio \u00e9 estacion\u00e1rio, o filtro adaptativo pode facilmente\n\nmodelar os coeficientes de modo a apresentar uma sa\u00edda de erro nulo, pois as proprieda-\n\ndes estat\u00edsticas do sinal n\u00e3o variam ao longo do tempo. Apesar de ser um \u00f3timo estimador\n\nrecursivo para modelos lineares estoc\u00e1sticos, a sa\u00edda do filtro adaptativo pode apresentar\n\nsinal de erro e(z) caso o processo se transforme ligeiramente em n\u00e3o estacion\u00e1rio ou di-\n\nn\u00e2mico. Esse comportamento deve-se ao fato que os sistemas din\u00e2micos sofrem influ\u00ean-\n\ncia n\u00e3o s\u00f3 de entradas conhecidas, como tamb\u00e9m agem sobre eles, problemas que causam\n\nefeitos e n\u00e3o podem ser controlados, nem modelados deterministicamente, tais como:\n\nmecanismos de falha nos equipamentos que podem causar deforma\u00e7\u00f5es mec\u00e2nicas e va-\n\nria\u00e7\u00f5es no rendimento, falha na transmiss\u00e3o de sinais por interfer\u00eancias eletromagn\u00e9ticas,\n\nreverbera\u00e7\u00f5es e ru\u00eddos de outras fontes.\n\nDesta forma, assim como o algoritmo SANC da Figura 2.17 (Cap\u00edtulo 2), proposto\n\npor Zhang et al. (2018) para cancelar ru\u00eddos, neste trabalho o filtro adaptativo foi utilizado,\n\nna tarefa de predi\u00e7\u00e3o com o sinal de refer\u00eancia atrasado para determinar e adaptar-se \u00e0\n\ncondi\u00e7\u00e3o futura do processo. Deste modo, o algoritmo LMS trabalha juntamente com o\n\nfiltro FIR, fazendo o ajuste dos coeficientes do filtro para minimizar o erro no sentido da\n\nm\u00e9dia dos quadrados. Ent\u00e3o, a velocidade de converg\u00eancia pode ser ajustada, atrav\u00e9s do\n\npar\u00e2metro \u00b5 de passo do filtro adaptativo LMS contido no algoritmo, para obter uma boa\n\nabrang\u00eancia na detec\u00e7\u00e3o de poss\u00edveis falhas.\n\nA arquitetura proposta ser\u00e1 desenvolvida a partir do diagrama do Filtro Adapta-\n\ntivo LMS. Esse consiste em dois blocos principais, um de Filtro FIR e outro composto do\n\nAlgoritmo LMS. O diagrama de blocos representativo do Filtro Adaptativo LMS desen-\n\nvolvido encontra-se na Figura 5.5. A sa\u00edda y(z) \u00e9 subtra\u00edda do sinal desejado d(z) para\n\ngerar o sinal de erro e(z). Este, por sua vez, \u00e9 utilizado pelo algoritmo LMS, juntamente\n\ncom o par\u00e2metro de adapta\u00e7\u00e3o \u00b5, para calcular o pr\u00f3ximo conjunto de coeficientes a ser\n\nutilizado pelo Filtro FIR.\n\n\n\n85\n\nFigura 5.5: Diagrama de blocos do filtro adaptativo LMS.\n\nEm algumas aplica\u00e7\u00f5es, as estruturas adaptativas apresentam uma grande quanti-\n\ndade de coeficientes para adapta\u00e7\u00e3o do filtro (ZHANG et al., 2018), por\u00e9m seu aumento\n\npode causar maior custo computacional do m\u00e9todo em hardware. Logo, foi adotado neste\n\ntrabalho a dimens\u00e3o do tap (n\u00famero de atrasadores) do filtro FIR na ordem de 5. Esse\n\nvalor est\u00e1 relacionado com a quantidade de coeficientes do filtro e com sua fun\u00e7\u00e3o de\n\ntransfer\u00eancia idealmente finita aplicada ao sinal de entrada (sinal de sensores acoplados a\n\num sistema mec\u00e2nico ideal de quinta ordem).\n\n5.3 O Sistema FDI para Diagn\u00f3stico de Falhas\n\nO \u00edndice de detec\u00e7\u00e3o de falhas ou Fault Detection Index (FDI) (PICCOLI et al.,\n\n2015b) obt\u00e9m uma informa\u00e7\u00e3o probabil\u00edstica e compactada do tipo de falha detectada\n\nno bloco FDS para determinar, de uma forma diferenciada, a grandeza das amostras de\n\nfalha a serem analisadas dentro de uma janela de tempo durante o teste. Os c\u00e1lculos\n\ns\u00e3o realizados dentro do per\u00edodo de amostragem, obtendo-se assim o risco potencial e as\n\ncausas da falha em tempo real. Deste modo, a degrada\u00e7\u00e3o do equipamento e o tipo de\n\nfalha podem ser monitorados constantemente pela probabilidade de sua ocorr\u00eancia, e sua\n\nseveridade, pelo \u00edndice que corresponde \u00e0 gravidade do efeito da falha.\n\n5.3.1 \u00cdndice de Detec\u00e7\u00e3o de Falhas\n\nA amplitude do sinal do resultado do bloco anterior FDS (entre 0 e 1) \u00e9 compa-\n\nrado com um limite pr\u00e9-configurado (0,25 ou 2\n9\n\n211\nneste caso, descartando os 9 bits menos\n\nsignificativos do sinal de erro) no bloco FDI, de forma que um flag indique uma detec-\n\n\u00e7\u00e3o (FD - Fault Detection). O FDI soma o n\u00famero de detec\u00e7\u00f5es em um dado conjunto\n\nde amostras (frame) de tamanho N (256 neste trabalho). Como a sa\u00edda do FDI tamb\u00e9m\n\n\n\n86\n\n\u00e9 um sinal compactado em N vezes a taxa de dados do sinal FDS, pode ser mais facil-\n\nmente analisado ou at\u00e9 mesmo transmitido por redes sem fio (por exemplo, protocolo\n\nWirelessHARTTM), economizando energia e banda de transmiss\u00e3o de dados. O sistema\n\nobedece \u00e0 Equa\u00e7\u00e3o 5.5 abaixo:\n\nFDI[j] =\n\nN\u00d7(j+1)?1\n?\n\nk=N\u00d7j\n\nFD[k] (5.5)\n\nOnde FD[k] \u00e9 uma flag de \u00edndice [k] que indica se uma falha \u00e9 detectada\n\n(quando o sinal de erro excede um determinado limiar) em cada amostra na sa\u00edda do FDS,\n\no \u00edndice [k] refere-se a um instante atual de tempo discreto, N \u00e9 o n\u00famero de medidas\n\ndiscretas e [j] \u00e9 a amostra de tamanho N.\n\n5.4 Chip para Predi\u00e7\u00e3o e Detec\u00e7\u00e3o de Falhas\n\nA arquitetura conceitual \u00e9 respons\u00e1vel pelo processamento das quatro primeiras\n\ncamadas do modelo OSA-CBM, ou seja, captura de dados e processamento inteligente\n\n(que inclui processamento de sinais, monitora\u00e7\u00e3o de condi\u00e7\u00e3o e diagn\u00f3stico). Divide-\n\n-se o sistema em duas aplica\u00e7\u00f5es claramente diferenciadas: a aplica\u00e7\u00e3o de detec\u00e7\u00e3o de\n\nfalhas com FDS e a aplica\u00e7\u00e3o de diagn\u00f3stico com FDI. Para formar sensores inteligentes,\n\nvisto na se\u00e7\u00e3o 2.2.2, tais aplica\u00e7\u00f5es podem ser conectadas entre si em conjunto com um\n\nconversor de dados A/D. Nas subse\u00e7\u00f5es, a seguir, foram abordadas as arquiteturas para\n\nimplementa\u00e7\u00e3o em hardware: O sistema FDS e FDI; O sistema FDS e FDI com um\n\nm\u00f3dulo de convers\u00e3o A/D e o protocolo de comunica\u00e7\u00e3o SPI; O sistema FDS com o\n\nprotocolo de comunica\u00e7\u00e3o SPI; O sistema FDS com FDI e protocolo de comunica\u00e7\u00e3o\n\nSPI, que posteriormente, ser\u00e1 apresentado em detalhes.\n\n5.4.1 Arquitetura do FDS\n\nDependendo do resultado desejado e do tipo de sinal, o sistema permite que o\n\nusu\u00e1rio escolha o uso dos coeficientes de aproxima\u00e7\u00e3o (amplitude do sinal da leitura\n\nde torque) ou os coeficientes de detalhe (frequ\u00eancias do sinal da leitura de vibra\u00e7\u00e3o) da\n\nDWT para serem enviados ao bloco de POT\u00caNCIA, no qual a energia do sinal \u00e9 cal-\n\nculada. Caso o bloco gerador de padr\u00f5es de teste (TPG - Test Pattern Generation) seja\n\n\n\n87\n\nselecionado, o sinal a ser processado ser\u00e1 substitu\u00eddo por uma sequ\u00eancia pseudoaleat\u00f3ria.\n\nO esquema do FDS sintetizado aplicado ao estudo de caso \u00e9 apresentado na Fi-\n\ngura 5.6. Cont\u00e9m um pino de rel\u00f3gio (clk), um pino de modo aproxima\u00e7\u00e3o ou de-\n\ntalhe (mad), um pino de reiniciar (rst), um pino para realizar autoteste (tst), um\n\npino para habilitar o chip e sua m\u00e1quina de estados (en), doze pinos de entrada de si-\n\nnal (in[11:0]), dezesseis pinos para o par\u00e2metro \u00b5 (step[15:0]), que \u00e9 o passo de\n\nadapta\u00e7\u00e3o do filtro LMS; e finalmente o sinal de detec\u00e7\u00e3o de sa\u00edda (erro[15:0]). Con-\n\nforme a Figura 5.7, este esquema necessita de 49 pinos de fun\u00e7\u00e3o e dois de alimenta\u00e7\u00e3o\n\ntotalizando 51 pinos.\n\nFigura 5.6: Arquitetura do FDS para s\u00edntese.\n\nA imagem de topo com os sinais de entrada e sa\u00edda do FDS encontra-se na Fi-\n\ngura 5.7.\n\nFigura 5.7: Diagrama da pinagem do FDS.\n\n5.4.2 Arquitetura para Autoteste Funcional\n\nEmbutido na arquitetura do chip, foi utilizado um gerador de est\u00edmulos (veto-\n\nres de teste) usando registradores de deslocamento com realimenta\u00e7\u00e3o (LFSR - Linear\n\nFeedback Shift Register), conforme Figura 5.8, com o polin\u00f4mio primitivo caracter\u00edstico\n\n\n\n88\n\nf(x) = x8 + x4 + x3 + x2 + 1, que \u00e9 ativado na condi\u00e7\u00e3o de autoteste do circuito emu-\n\nlando uma sequ\u00eancia de sinal pseudoaleat\u00f3ria, obtendo-se assim um ru\u00eddo como sinal de\n\nentrada. O LFSR da Figura 5.8 \u00e9 de configura\u00e7\u00e3o Galois (KHAN, 2013), que permite um\n\nmelhor desempenho em termos de velocidade, combinado com a t\u00e9cnica de clock gating\n\nna implementa\u00e7\u00e3o de hardware, permite tamb\u00e9m menor consumo de energia. O LFSR\n\natua como um contador de 8 bits, possui registradores de deslocamento e realimenta\u00e7\u00e3o\n\nlinear que utiliza 8 flip-flops e, quando uma fun\u00e7\u00e3o primitiva \u00e9 configurada, pode imple-\n\nmentar 255 (28?1) estados (menos o zero) sem repeti\u00e7\u00f5es destes (BEZERRA; VARGAS;\n\nGOUGH, 2001).\n\nFigura 5.8: Implementa\u00e7\u00e3o na configura\u00e7\u00e3o Galois de 8-bit do LFSR.\n\nA Figura 5.9 exibe a arquitetura do gerador de padr\u00f5es de teste (TPG - Test Pattern\n\nGeneration) para o circuito sobre teste (CUT - Circuit Under Test), que por sua vez, \u00e9\n\ncomposto pelos blocos do chip, entre eles o FDS, FDI e SPI.\n\nFigura 5.9: Gerador de padr\u00f5es de teste para o chip.\n\nO autoteste funcional do chip \u00e9 realizado conforme o esquem\u00e1tico da Figura 5.10.\n\nInicialmente o chip deve estar habilitado (pino EN), ter um sinal de rel\u00f3gio (pino CLK)\n\ne o autoteste ser selecionado (pino TST). O teste pode ser reinicializado pela op\u00e7\u00e3o de\n\nreiniciar o chip (pino RST).\n\n\n\n89\n\nFigura 5.10: Esquema de funcionamento do gerador de padr\u00f5es de teste.\n\nSempre que o autoteste for inicializado, o algoritmo LFSR receber\u00e1 um valor\n\ninicial denominado de semente. Conforme o andamento dos pulsos de rel\u00f3gio, vetores\n\npseudoaleat\u00f3rios do LFSR s\u00e3o gerados at\u00e9 coincidir com o valor da semente. Ent\u00e3o, o\n\ncomparador ativa o contador de 8 bits para incrementar um valor at\u00e9 que chegue no limite\n\nde 256 (28), neste momento, a semente \u00e9 zerada para que n\u00e3o haja mais a gera\u00e7\u00e3o dos\n\nvetores pseudoaleat\u00f3rios. Deste modo, a sequ\u00eancia de teste \u00e9 encerrada com dados que\n\npermitem a produ\u00e7\u00e3o de um gr\u00e1fico ou histograma, onde visualmente o padr\u00e3o de teste\n\npode ser verificado.\n\n5.4.3 Arquitetura do FDI\n\nO sistema FDI foi elaborado para ser acoplado ao FDS e ampliar sua capacidade.\n\nEm sua estrutura, cont\u00e9m dois contadores e um comparador, onde um contador determina\n\no n\u00famero de amostras, enquanto o outro realiza a contagem do n\u00famero de detec\u00e7\u00f5es. O\n\ncircuito sintetiz\u00e1vel \u00e9 apresentado na Figura 5.11. Seu funcionamento \u00e9 similar ao traba-\n\nlho de Shahbazi, Poure e Saadate (2018). Note que a vari\u00e1vel de detec\u00e7\u00e3o de erro ?k0 da\n\nFigura 2.21 (Cap\u00edtulo 2), neste trabalho \u00e9 denominado FD. \u00c9 realizada uma compara\u00e7\u00e3o\n\ncom um limiar no bloco \"> h\", e o mesmo ocorre com o bloco comparador na implemen-\n\nta\u00e7\u00e3o da Figura 5.11. A vari\u00e1vel N \u00e9 utilizada nos dois trabalhos da mesma forma para\n\nrealizar contagem de detec\u00e7\u00f5es, s\u00f3 que em (SHAHBAZI; POURE; SAADATE, 2018), \u00e9\n\nutilizado tamb\u00e9m para sincronizar e reconfigurar o processo, j\u00e1 que o sistema foi montado\n\nem malha fechada.\n\n\n\n90\n\nFigura 5.11: Arquitetura do FDI para s\u00edntese.\n\n5.4.4 Arquitetura do FDS com SPI\n\nUma vez que o escopo deste trabalho \u00e9 a parte digital do sistema, o m\u00f3dulo A/D\n\nfoi removido, assim a compila\u00e7\u00e3o e s\u00edntese do c\u00f3digo fica limitada somente \u00e0 parte digital.\n\nA Figura 5.12 \u00e9 apresentada a arquitetura com FDS e SPI sintetizada.\n\nFigura 5.12: Arquitetura do chip FDS para predi\u00e7\u00e3o de falhas com SPI.\n\nO diagrama da pinagem do chip \u00e9 apresentado na Figura 5.16 e uma lista dos\n\nsinais de entrada e sa\u00edda na Tabela Tabela 5.1. Com esta nova estrutura, a pinagem do\n\nchip ficou reduzida, apresentando seis pinos de fun\u00e7\u00e3o e dois de alimenta\u00e7\u00e3o. O SPI\n\nescravo desenvolvido utiliza 16 bits para transmiss\u00e3o, compat\u00edvel com um SPI mestre\n\ncomercial que opere com 8 bits de transmiss\u00e3o. Conforme o protocolo de comunica\u00e7\u00e3o\n\ndo chip (se\u00e7\u00e3o 5.6.1), o rel\u00f3gio do chip \u00e9 alimentado pela pr\u00f3pria interface SPI e os 16\n\nbits recebidos serialmente representam o sinal ou coeficiente de adapta\u00e7\u00e3o do filtro LMS\n\nmais a op\u00e7\u00e3o de sele\u00e7\u00e3o de coeficientes de aproxima\u00e7\u00e3o ou detalhe da DWT. Os 16 bits\n\n\n\n91\n\nenviados serialmente no modo full duplex, representam a detec\u00e7\u00e3o de falhas do chip.\n\n5.4.5 Arquitetura do FDS e FDI com SPI\n\nA arquitetura para o sistema FDI (se\u00e7\u00e3o 5.3) cont\u00e9m dois contadores e um compa-\n\nrador, um contador determina o n\u00famero de amostras, enquanto o outro realiza a contagem\n\ndo n\u00famero de detec\u00e7\u00f5es.\n\nO FDI foi integrado e sintetizada ao FDS com o m\u00f3dulo SPI (se\u00e7\u00e3o 5.4.4) e \u00e9\n\napresentado na Figura 5.13:\n\nFigura 5.13: Arquitetura do chip FDS e FDI para predi\u00e7\u00e3o de falhas com SPI.\n\nEsta estrutura apresenta a mesma pinagem do chip anterior e o mesmo diagrama\n\nda Figura 5.16. Adicionalmente para este esquem\u00e1tico com FDI, foi inclu\u00eddo um pino\n\nSTS de status, que \u00e9 ativado sempre que seu valor for superior ou igual a 75% ( (2\n7+26)\n28\n\n).\n\nA Tabela Tabela 5.1 apresenta a lista dos sinais de entrada e sa\u00edda.\n\n5.5 Arquitetura para Ind\u00fastria 4.0\n\nO monitoramento do funcionamento de equipamentos, atrav\u00e9s do chip de predi\u00e7\u00e3o\n\nde falhas, permite identificar problemas antes que se tornem graves, possibilitando uma\n\nmaior efici\u00eancia na linha de produ\u00e7\u00e3o. Evita-se, dessa maneira, perdas financeiras em\n\nfuturas f\u00e1bricas que estejam diretamente ligados \u00e0 coleta e an\u00e1lise de grande volume de\n\ndados sempre que seja utilizado o paradigma da Internet das coisas industrial (IIoT -\n\nIndustrial Internet of Things) (BOYES et al., 2018) e Ind\u00fastria 4.0 (HOFMANN; R\u00fcSCH,\n\n\n\n92\n\n2017), por exemplo.\n\nDiferentes dispositivos podem comunicar-se com um \u00fanico microcontrolador atra-\n\nv\u00e9s do protocolo SPI (se\u00e7\u00e3o 6.3), pois sempre haver\u00e1 um mestre (um microcontrolador)\n\ne um ou mais escravos (nesse caso, FPGAs ou chips para predi\u00e7\u00e3o e detec\u00e7\u00e3o de falhas).\n\nDeste modo, pode-se implementar no microcontrolador protocolos seguros de rede tais\n\ncomo Modbus, WirelessHartTM, entre outros, que, por sua vez, possuem tamb\u00e9m ferra-\n\nmentas de diagn\u00f3stco.\n\nO escravo poder\u00e1 operar em baixa frequ\u00eancia pelo ajuste do rel\u00f3gio da comuni-\n\nca\u00e7\u00e3o serial, uma vez que, para a transmiss\u00e3o WirelessHartTM, os dados de detec\u00e7\u00e3o de\n\nfalhas podem ser enviados com uma taxa m\u00e1xima de 250 kbit/s. J\u00e1 em uma rede para\n\ncomunica\u00e7\u00e3o a longas dist\u00e2ncias e com consumo baixo de energia (LoRa - Long Range)\n\n(MIKHAYLOV; PETAEJAEJAERVI; HAENNINEN, 2016), por exemplo, a taxa m\u00e1xima\n\nde transmiss\u00e3o \u00e9 de 50 kbit/s.\n\nA estrutura geral de uma rede WirelessHARTTM com dispositivos de detec\u00e7\u00e3o de\n\nfalha foi abordada por Piccoli et al. (2013b) e pode ser visualizada na Figura 5.14. Nela,\n\n\u00e9 poss\u00edvel identificar os elementos fundamentais al\u00e9m do handheld (com ou sem fio, para\n\ncomissionamento e inspe\u00e7\u00e3o) e da liga\u00e7\u00e3o com o barramento de dados da planta. Nesta\n\nFigura, o gerenciador de rede, o gateway (que possibilita a comunica\u00e7\u00e3o entre a aplica\u00e7\u00e3o\n\nhost da planta e os dispositivos de campo) e o ponto de acesso est\u00e3o contidos em um \u00fanico\n\nequipamento, o que tem sido utilizado comercialmente.\n\nFigura 5.14: A estrutura geral com uma rede WirelessHARTTM.\n\nFonte: (PICCOLI et al., 2013b).\n\n\n\n93\n\nA rede de comunica\u00e7\u00e3o da Figura 5.15 com protocolo de linha serial Modbus RTU\n\n(Remote Terminal Unit) foi proposta por Piccoli et al. (2013a), que utilizaram um gestor\n\nde rede, ou mestre, respons\u00e1vel por iniciar a transmiss\u00e3o. O dispositivo para detec\u00e7\u00e3o\n\nde falhas, denominado de escravo, ficou dispon\u00edvel para consulta e respondeu \u00e0s requi-\n\nsi\u00e7\u00f5es do mestre. Nesse protocolo, somente um mestre por vez pode ser conectado ao\n\nbarramento, enquanto que at\u00e9 247 n\u00f3s escravos podem ser ligados a este barramento.\n\nFigura 5.15: Configura\u00e7\u00e3o do projeto em rede Modbus.\n\nFonte: (PICCOLI et al., 2013a).\n\nOs prot\u00f3tipos dos m\u00f3dulos mestre/escravo deste sistema, s\u00e3o compostos por mi-\n\ncrocontroladores e redes de comunica\u00e7\u00e3o que utilizam circuitos integrados, transceptores\n\npara converter os sinais nos padr\u00f5es RS-485 como meio f\u00edsico de transmiss\u00e3o. O proto-\n\ncolo Modbus RTU foi implementado em software e embarcado nos microcontroladores.\n\nO sistema teve um n\u00f3 mestre que emitiu comandos para um ou mais n\u00f3s escravos com\n\nsistema de detec\u00e7\u00e3o e predi\u00e7\u00e3o de falhas, que por sua vez processaram as respostas.\n\n5.6 Descri\u00e7\u00e3o Operacional do Chip\n\nA imagem de topo com os sinais de entrada e sa\u00edda do FDS da Figura 5.7 (se\u00e7\u00e3o\n\n5.4.1) com ou sem acoplamento do FDI (se\u00e7\u00e3o 5.4.3) e a interface de comunica\u00e7\u00e3o SPI,\n\nfica reduzida a fun\u00e7\u00e3o de sete pinos como mostra a Figura 5.16.\n\n\n\n94\n\nFigura 5.16: Chip para predi\u00e7\u00e3o de falhas com interface SPI.\n\nO esquem\u00e1tico da Figura 5.17 apresenta o diagrama de blocos internos do chip.\n\nEle cont\u00e9m uma interface de comunica\u00e7\u00e3o serial atrav\u00e9s do protocolo SPI, que realiza\n\numa convers\u00e3o serial/paralelo dos dados de entrada e sa\u00edda, e \u00e9 estimulado pelo gerador\n\nde rel\u00f3gio serial do dispositivo mestre, conectado ao barramento. Possui ainda a op\u00e7\u00e3o de\n\nhabilitar ou n\u00e3o o chip, reinici\u00e1-lo e coloc\u00e1-lo no estado de teste.\n\nFigura 5.17: Esquem\u00e1tico do chip para predi\u00e7\u00e3o de falhas com interface SPI.\n\nA comunica\u00e7\u00e3o do chip via SPI com um mestre, visto na se\u00e7\u00e3o 3.4, cont\u00e9m as\n\nprincipais conex\u00f5es para a arquitetura proposta. A Tabela 5.1 lista e descreve os sinais de\n\nentrada e sa\u00edda (E/S) do chip.\n\nTabela 5.1: Pinagem do chip com interface SPI.\n\nNome E/S Bits Ativo Descri\u00e7\u00e3o\n\nRST E 1 Alto Zera a mem\u00f3ria e todos os sinais\n\nSDI E 1 - Dados de entrada Serial\n\nSDO S 1 - Dados de sa\u00edda Serial\n\nSCK E 1 - Rel\u00f3gio Serial para o SPI\n\nTST E 1 - Autoteste funcional do chip\n\nSTS S 1 - Status\n\nCSN E 1 Baixo Inicializa\u00e7\u00e3o ou sele\u00e7\u00e3o do chip\n\nTotal 7 pinos de fun\u00e7\u00e3o e 2 de alimenta\u00e7\u00e3o (VDD e VSS)\n\n\n\n95\n\n5.6.1 Protocolo de Comunica\u00e7\u00e3o SPI para o Chip\n\nPor padr\u00e3o a comunica\u00e7\u00e3o SPI permite a configura\u00e7\u00e3o das bordas de comunica\u00e7\u00e3o\n\ndo rel\u00f3gio SCK atrav\u00e9s de sua polaridade (CPOL - Clock Polarity) e fase (CPHA - Clock\n\nPhase). A configura\u00e7\u00e3o estabelecida no dispositivo embarcado foi 0 (zero) para ambos\n\nCPOL e CPHA, com borda de troca na subida, ocorrendo a transi\u00e7\u00e3o no meio do bit.\n\nA posi\u00e7\u00e3o do bit mais significativo (MSB - Most Significant Bit) foi estabelecida como\n\no primeiro bit da comunica\u00e7\u00e3o. \u00c9 poss\u00edvel observar na Figura 5.18 todas essas caracte-\n\nr\u00edsticas pelo tra\u00e7ado vertical entre a borda de subida do rel\u00f3gio e a sequencia de dados\n\ntransmitidos (MISO) e/ou recebidos (MOSI).\n\nFigura 5.18: Protocolo de comunica\u00e7\u00e3o com o chip.\n\nO chip comunica-se atrav\u00e9s do protocolo SPI com microcontroladores atrav\u00e9s de\n\n14 bits de dados e 2 bits de controle, enviando para o microcontrolador 16 bits de dados\n\ncorrespondente ao sinal de detec\u00e7\u00e3o de falhas:\n\n1. O bit C02 (em bin\u00e1rio a posi\u00e7\u00e3o [15]) do MOSI \u00e9 utilizado para identificar os\n\ndados de entrada. Caso o valor seja \u201c1\u201d, os dados representam o sinal adquirido\n\ndo sensor. Quando \u201c0\u201d, os dados equivalem ao n\u00famero do coeficiente de ajuste do\n\nfiltro adaptativo;\n\n2. O bit C01 (em bin\u00e1rio a posi\u00e7\u00e3o [14]) do MOSI \u00e9 reservado para a sele\u00e7\u00e3o entre\n\nos coeficientes de aproxima\u00e7\u00e3o ou de detalhe da transformada DWT;\n\n3. Os bits X01 e X02 do MOSI e X01 a X08 do MISO s\u00e3o reservados para algum outro\n\nuso;\n\n\n\n96\n\n4. Os bits D01 a D12 do MOSI representam o sinal ou coeficiente, dependendo de\n\nC02. Estes n\u00fameros devem estar anotados em ponto fixo no formato Q5.11 (Qm.n:\n\nm \u00e9 a parte inteira e n a fracion\u00e1ria, ver se\u00e7\u00e3o 3.3.1).\n\n5. Os bits D01 a D08 do MISO representam n\u00fameros inteiros de detec\u00e7\u00e3o do bloco\n\nFDI.\n\n5.6.2 Ajuste dos Par\u00e2metros do Chip\n\nUma an\u00e1lise sobre o algoritmo FDS e FDI apresentado neste trabalho, revela que o\n\nprocessamento dos sinais no chip \u00e9 limitado com uma certa quantidade de bits. Portanto,\n\npara evitar satura\u00e7\u00e3o ou estouro da capacidade de armazenamento de um registrador e\n\nevitar perda de precis\u00e3o dos c\u00e1lculos no chip, \u00e9 necess\u00e1rio, principalmente, o ajuste de\n\num valor razo\u00e1vel de ganho do sinal do sensor de entrada.\n\nLevando em conta que os dados de entrada do circuito s\u00e3o representados em um\n\nn\u00famero limitado de bits, na representa\u00e7\u00e3o de ponto fixo do sinal, o peso do bit mais signi-\n\nficativo deve ser fixado de acordo com a din\u00e2mica do valor do sinal do sensor. A otimiza-\n\n\u00e7\u00e3o no formato Q, do peso do bit menos significativo, \u00e9 realizado atrav\u00e9s do truncamento\n\ndo tamanho ou comprimento da palavra, assim pode-se manter uma certa precis\u00e3o dos\n\nc\u00e1lculos no chip e diminuir sua complexidade em n\u00edvel de hardware.\n\nO procedimento para configura\u00e7\u00e3o do chip (ou treinamento do sistema de detec-\n\n\u00e7\u00e3o de falhas) da Figura 5.19, deve ocorrer durante a condi\u00e7\u00e3o de opera\u00e7\u00e3o normal do\n\nequipamento, ou seja, com o sistema funcionando sem falha. Inicialmente, \u00e9 necess\u00e1rio\n\nadquirir os dados do sensor e quantific\u00e1-los no formato de ponto fixo, durante a opera\u00e7\u00e3o\n\nnormal do sistema monitorado.\n\nA seguir o chip deve apresentar um valor de erro estacion\u00e1rio, para isso, o ganho\n\ndo sensor \u00e9 ajustado em um valor mais alto e o par\u00e2metro de adapta\u00e7\u00e3o do filtro adaptativo\n\nLMS em um valor mais baixo. Feito isso, o valor do ganho do sinal de entrada \u00e9 diminu\u00eddo\n\nat\u00e9 que o erro de estado estacion\u00e1rio seja nulo.\n\nEnt\u00e3o, o valor do passo de adapta\u00e7\u00e3o do filtro deve ser aumentado at\u00e9 aparecer o\n\nerro novamente. Em seguida, o valor do \u00faltimo ajuste do par\u00e2metro, enquanto o chip n\u00e3o\n\nindicava sinal de erro, deve ser configurado no chip.\n\n\n\n97\n\nFigura 5.19: Procedimento para configura\u00e7\u00e3o do chip.\n\nO usu\u00e1rio pode realizar a configura\u00e7\u00e3o do chip, enviando os par\u00e2metros via co-\n\nnex\u00e3o SPI. Os comandos inseridos no protocolo para ativar o modo de configura\u00e7\u00e3o do\n\nchip, s\u00e3o apresentados na se\u00e7\u00e3o 5.6.1. Uma vez que a comunica\u00e7\u00e3o \u00e9 estabelecida entre\n\no chip e o microcontrolador (se\u00e7\u00e3o 6.3) o chip processa os dados recebidos do microcon-\n\ntrolador, analisa e devolve via conex\u00e3o SPI em tempo real. A visualiza\u00e7\u00e3o dos resultados\n\n\u00e9 realizada pelo usu\u00e1rio em um histograma no computador.\n\n\n\nPARTE III - RESULTADOS E CONCLUS\u00d5ES\n\n\n\n98\n\n\n\n99\n\n6 RESULTADOS OBTIDOS\n\nA linguagem Verilog suporta v\u00e1rios n\u00edveis de abstra\u00e7\u00e3o e estilos de descri\u00e7\u00e3o es-\n\ntrutural, comportamental e de fluxo de dados. Todas essas formas s\u00e3o simul\u00e1veis, por\u00e9m\n\nnem toda abstra\u00e7\u00e3o tem representa\u00e7\u00e3o v\u00e1lida sintetiz\u00e1vel para uma netlist final na bibli-\n\noteca de fabrica\u00e7\u00e3o escolhida. O projeto deste trabalho levou em conta este fator, com\n\na maior parte da descri\u00e7\u00e3o em n\u00edvel estrutural, poucas implementa\u00e7\u00f5es em n\u00edvel com-\n\nportamental e 0% utilizando outras descri\u00e7\u00f5es de hardware (esquem\u00e1ticos e blocos de\n\npropriedade intelectual ou de terceiros).\n\nPara a elabora\u00e7\u00e3o do leiaute de um circuito integrado de aplica\u00e7\u00e3o espec\u00edfica\n\n(ASIC), O projeto foi particionado em m\u00f3dulos e sub-m\u00f3dulos hier\u00e1rquicos baseados\n\nna funcionalidade de cada bloco do sistema. Foram criados blocos para a DWT, EWMA,\n\nTPG (com LFSR), Filtro LMS, FDI e SPI de modo que as l\u00f3gicas com caracter\u00edsticas\n\nsimilares foram agrupadas e conectadas para melhorar a qualidade da s\u00edntese. A hierar-\n\nquia do projeto e o modo com que este \u00e9 particionado podem influenciar no resultado da\n\ns\u00edntese, ent\u00e3o, quantas vezes foram necess\u00e1rias, toda essa descri\u00e7\u00e3o depois de simulada\n\nfoi sintetizada, otimizada e simulada novamente.\n\nA s\u00edntese l\u00f3gica do projeto foi realizada com as ferramentas das empresas Sy-\n\nnopsys (para a biblioteca de 90 nm) e Cadence (para a biblioteca de 0,6 \u00b5m), a seguir, foi\n\nprojetada a \u00e1rvore de distribui\u00e7\u00e3o do sinal de rel\u00f3gio do circuito. De posse da descri\u00e7\u00e3o\n\nnetlist do circuito desenvolvido, foi realizada a simula\u00e7\u00e3o deste, utilizando a ferramenta\n\nVerilog Compiler and Simulator (VCS) da Synopsys e vsim da Mentor Graphics a fim\n\nde verificar as atividades de chaveamento do circuito.\n\nVisando a elabora\u00e7\u00e3o de um leiaute para a solu\u00e7\u00e3o proposta em ASIC, ser\u00e1 apre-\n\nsentada tamb\u00e9m, sua implementa\u00e7\u00e3o utilizando a tecnologia FPGA de hardware progra-\n\nm\u00e1vel em conjunto com um microcontrolador. O microcontrolador realizou a convers\u00e3o\n\ndos valores entre os formatos de ponto fixo e ponto flutuante, e serviu como uma ponte de\n\ncomunica\u00e7\u00e3o entre a FPGA e a esta\u00e7\u00e3o de trabalho do usu\u00e1rio, neste caso um computador,\n\nmas poderia ser tamb\u00e9m outro equipamento ou hardware espec\u00edfico.\n\nConforme a Figura 6.2, a s\u00edntese f\u00edsica do chip foi realizada na etapa de leiaute,\n\nutilizando as ferramentas de s\u00edntese das empresas mencionadas anteriormente e analisadas\n\nas estimativas de tempo, \u00e1rea e consumo de energia do circuito. Ao final dessa etapa, o\n\nleiaute com a descri\u00e7\u00e3o f\u00edsica do circuito foi validado mediante testes com as ferramentas\n\nexistentes para que ele possa ser fabricado.\n\n\n\n100\n\nFigura 6.1: Etapas de opera\u00e7\u00e3o para a obten\u00e7\u00e3o de resultados.\n\nNa etapa de experimenta\u00e7\u00e3o com bancada de teste, os dados de opera\u00e7\u00e3o do atu-\n\nador el\u00e9trico foram coletados em condi\u00e7\u00f5es normais e de falha. Finalmente, a simula\u00e7\u00e3o\n\np\u00f3s-s\u00edntese do leiaute f\u00edsico foi realizada com dados do estudo de caso obtidos na etapa\n\nanterior em conjunto com um testbench. De posse dos resultados dessa etapa, os gr\u00e1ficos\n\npara an\u00e1lise foram gerados na ferramenta Scilab.\n\n6.1 Desenvolvimento do Chip na Biblioteca Educacional de 90 nm\n\nNo desenvolvimento do chip na biblioteca educacional de 90 nm desta pesquisa,\n\nforam utilizadas duas ferramentas de software da Synopsys de s\u00edntese, chamadas de De-\n\nsign Compiler (DC) e Integrated Circuit Compiler (IC).\n\n6.1.1 S\u00edntese L\u00f3gica do Chip\n\nA ferramenta Design Compiler (DC) foi utilizada na s\u00edntese l\u00f3gica. A Figura 6.2\n\nmostra os dados de entrada e sa\u00edda utilizados nessa s\u00edntese. Dentre os arquivos de entrada\n\npodem ser citados: a biblioteca da synopsys SAED 90 nm (extens\u00e3o .library); Arqui-\n\nvos fontes em Verilog (.v); Arquivo de restri\u00e7\u00f5es (.sdc). A ferramenta DC foi utilizada\n\npara optimizar o circuito, analisar problemas da arquitetura e gravar os resultados nos\n\nformatos de sa\u00edda (.v , .sdc, .rep).\n\nFigura 6.2: Entradas e sa\u00eddas da ferramenta Design Compiler.\n\nFoi habilitada a op\u00e7\u00e3o para a t\u00e9cnica de clock gating da ferramenta DC com a di-\n\n\n\n101\n\nretiva insert_clock_gating. Deste modo, um sinal de controle que \u00e9 repassado ao banco\n\nde registradores e implementado automaticamente \u00e0 logica de distribui\u00e7\u00e3o do sinal de\n\nrel\u00f3gio. J\u00e1 o processo de otimiza\u00e7\u00e3o da \u00e1rea do projeto foi realizado com a op\u00e7\u00e3o com-\n\npile_ultra e diretiva para esfor\u00e7o m\u00e1ximo area_effort_high_script. Assim, pode-se redu-\n\nzir a dissipa\u00e7\u00e3o de energia e a \u00e1rea do projeto (reduzindo \u00e0 l\u00f3gica combinacional), o que\n\npermite aumentar a frequ\u00eancia m\u00e1xima de opera\u00e7\u00e3o do circuito.\n\nA Figura 6.3 ilustra a vis\u00e3o de topo do chip gerado pela ferramenta DC.\n\nFigura 6.3: Vis\u00e3o de topo do chip de predi\u00e7\u00e3o de falhas.\n\nA ferramenta Formality da Synopsys da Figura 6.4 foi utilizada para valida\u00e7\u00e3o e\n\nverifica\u00e7\u00e3o de equival\u00eancia frontend (entre RTL e netlist gerados), obtendo assim uma\n\ncorrela\u00e7\u00e3o precisa da qualidade dos resultados (QoR - Qality of Results) antes e ap\u00f3s a\n\ns\u00edntese l\u00f3gica: temporiza\u00e7\u00e3o, \u00e1rea e pot\u00eancia utilizada. As palavras (Verification Suc-\n\nceeded) indicam que a verifica\u00e7\u00e3o dos requisitos de tempo foi bem sucedida e ambos os\n\nprojetos s\u00e3o equivalentes.\n\nFigura 6.4: Verifica\u00e7\u00e3o da s\u00edntese l\u00f3gica e valida\u00e7\u00e3o da qualidade dos resultados.\n\n\n\n102\n\n6.1.2 S\u00edntese F\u00edsica do Chip\n\nA ferramenta Integrated Circuit Compiler (IC) foi utilizada na s\u00edntese f\u00edsica. A\n\nFigura 6.5 mostra os dados de entrada e sa\u00edda utilizados nessa s\u00edntese. Dentre os arquivos\n\nde entrada pode-se citar: a biblioteca da Synopsys SAED 90 nm (extens\u00e3o .library);\n\nArquivos netlist (.ddc); Arquivo de restri\u00e7\u00f5es (.sdc); Informa\u00e7\u00e3o parasitas dos compo-\n\nnentes (.map); Informa\u00e7\u00f5es espec\u00edficas da tecnologia, tais como os nomes, caracter\u00edsti-\n\ncas (f\u00edsicas e el\u00e9tricas) para cada camada de metal (.tf); Informa\u00e7\u00f5es de energia, c\u00e9lula\n\nl\u00f3gica, tempo (.db).\n\nEssa ferramenta foi utilizada para elabora\u00e7\u00e3o do leiaute e preparar os dados se-\n\nguindo todas as etapas de fluxo de projeto: Floorplanning, Power Planning, Placement,\n\nClock Tree Distribution, Routing, Physical Verification e gravar os resultados em formato\n\nde arquivo com a descri\u00e7\u00e3o do circuito integrado (.v , .gds, .spef), usado pelas foun-\n\ndries como refer\u00eancia para sua fabrica\u00e7\u00e3o.\n\nFigura 6.5: Entradas e sa\u00eddas da ferramenta IC Compiler.\n\nO processo de s\u00edntese f\u00edsica da Figura 6.6, otimizado para atender \u00e0s especifica\u00e7\u00f5es\n\nexigidas, consiste em 9 camadas de metal nas quais as camadas met\u00e1licas \u00edmpares s\u00e3o\n\nusadas somente para conex\u00f5es horizontais e as pares somente para conex\u00f5es verticais. A\n\ncamada de metal 1 foi usada para posicionar c\u00e9lulas padr\u00e3o; A camada de metal 2 foi\n\nusada para rel\u00f3gio vertical e roteamento de sinal; A camada de metal 3 foi usada para\n\nrel\u00f3gio horizontal e roteamento de sinal; Da camada de metal 4 at\u00e9 a camada de metal 9\n\nforam usadas principalmente para trilhas de energia e aterramento; Parte do roteamento do\n\nsinal tamb\u00e9m foi utilizado entre as camadas de metal 4 e 7 para evitar erros na verifica\u00e7\u00e3o\n\nde regras de projeto (DRC - Design Rule Checking).\n\n\n\n103\n\nFigura 6.6: S\u00edntese f\u00edsica do chip de predi\u00e7\u00e3o de falhas em 90 nm.\n\nA ferramenta Formality da Synopsys da Figura 6.7, tamb\u00e9m foi utilizada no fluxo\n\nde projeto para valida\u00e7\u00e3o e verifica\u00e7\u00e3o de equival\u00eancia backend (entre netlist e leiaute\n\ngerados). As palavras (Verification Succeeded) indicam que a verifica\u00e7\u00e3o dos requisitos\n\nde tempo foi bem sucedida e ambos os projetos s\u00e3o equivalentes.\n\nFigura 6.7: Verifica\u00e7\u00e3o da s\u00edntese f\u00edsica e valida\u00e7\u00e3o da qualidade dos resultados.\n\n\n\n104\n\nA Figura 6.8 abaixo, ilustra o modo de visualiza\u00e7\u00e3o de posi\u00e7\u00e3o dos blocos do\n\nsistema, ap\u00f3s a conclus\u00e3o da s\u00edntese f\u00edsica com a ferramenta IC. As barras coloridas desta\n\nferramenta s\u00e3o histogramas e indicam a propor\u00e7\u00e3o de c\u00e9lulas padr\u00e3o utilizadas para cada\n\nbloco do projeto. Pode-se observar, a partir dessa ilustra\u00e7\u00e3o, que a maior parte da \u00e1rea\n\nocupada no chip \u00e9 devido ao bloco do filtro adaptativo LMS com 6101 do total de 7596\n\nc\u00e9lulas padr\u00e3o, totalizando 80,32% de ocupa\u00e7\u00e3o. J\u00e1 o bloco TPG para autoteste funcional\n\ncom 62 c\u00e9lulas padr\u00e3o ocupou 0,81% do total.\n\nFigura 6.8: Posicionamento e roteamento das c\u00e9lulas.\n\nA distribui\u00e7\u00e3o de densidade de energia consumida do esquem\u00e1tico mapeado na\n\nbiblioteca educacional da Synopsys SAED 90 nm, incluindo os registradores de entrada\n\ne sa\u00edda que sincronizam o circuito, \u00e9 mostrado na Figura 6.9. Poucos objetos apresenta-\n\nram energia consumida por unidade de \u00e1rea acima de 174057 (\u00b5W/cm2), sendo que 4\n\napresentaram maior densidade de consumo no valor de 348113 (\u00b5W/cm2), por\u00e9m todos\n\nesses pontos cr\u00edticos encontram-se dispersos ao longo do circuito integrado, o que vem a\n\nminimizar seus efeitos.\n\n\n\n105\n\nFigura 6.9: Distribui\u00e7\u00e3o da densidade de energia consumida.\n\nA estrutura da distribui\u00e7\u00e3o da \u00e1rvore de rel\u00f3gio da Figura 6.10 mostra o sinal\n\nde rel\u00f3gio serial SCK dividido em 12 n\u00edveis dentro do chip. As barras coloridas desta\n\nferramenta s\u00e3o histogramas e indicam a propor\u00e7\u00e3o de objetos para cada n\u00edvel na \u00e1rvore de\n\nrel\u00f3gio. Pode-se observar, a partir dessa ilustra\u00e7\u00e3o, que o primeiro dom\u00ednio (Level 0) do\n\nrel\u00f3gio serial SCK \u00e9 estabelecido para dois objetos dentro da \u00e1rea do SPI (registradores de\n\nentrada e sa\u00edda). O s\u00e9timo dom\u00ednio (Level 6) est\u00e1 distribu\u00eddo dentro da \u00e1rea ocupada pelo\n\nfiltro adaptativo LMS com 633 objetos, dentre os diferentes dom\u00ednios \u00e9 onde se encontra\n\na maior quantidade de objetos conectados.\n\nFigura 6.10: Estrutura da distribui\u00e7\u00e3o da \u00e1rvore de rel\u00f3gio.\n\n\n\n106\n\n6.1.3 Resultados da S\u00edntese F\u00edsica\n\nA s\u00edntese f\u00edsica do chip com a biblioteca de c\u00e9lulas padr\u00e3o SAED 90 nm (GOLD-\n\nMAN et al., 2009) foi realizada, sem a necessidade de adicionar na sua implementa\u00e7\u00e3o,\n\nblocos de propriedade intelectual ou de terceiros, processadores ou algum tipo de soft-\n\nware embarcado. Esta vers\u00e3o implementada no ASIC foi capaz de processar os dados dos\n\nsensores com um rel\u00f3gio m\u00ednimo de 4 kHz (permitindo o recurso de baixo consumo de\n\nenergia) para detectar v\u00e1rios tipos de falhas mec\u00e2nicas no estudo de caso.\n\nComo as opera\u00e7\u00f5es do sistema ocorrem em tempo real, todos os c\u00e1lculos de pro-\n\ncessamento digital s\u00e3o processados durante o tempo de um per\u00edodo de amostragem na\n\naquisi\u00e7\u00e3o dos dados dos sensores. A amostragem do sinal dos sensores processada foi de\n\n256 Hz (onde, a frequ\u00eancia m\u00ednima de 4 kHz \u00e9 de 256 Hz \u00d7 16 bits da comunica\u00e7\u00e3o\n\nserial s\u00edncrona), o suficiente para satisfazer a frequ\u00eancia de nyquist na amostragem dos\n\nsinais, considerando a faixa de frequ\u00eancia de interesse para o atuador el\u00e9trico da Coester.\n\nA efic\u00e1cia do hardware proposto pode ser comprovada a partir dos resultados do\n\nprocesso de s\u00edntese e an\u00e1lise de temporiza\u00e7\u00e3o est\u00e1tica do projeto. Os resultados apre-\n\nsentados abaixo foram obtidos considerando um per\u00edodo de rel\u00f3gio de 250 \u00b5s, restri\u00e7\u00f5es\n\nde rel\u00f3gio com 10% de margem (25 \u00b5s setup e hold) e 10% margem para atrasos de\n\nentrada/sa\u00edda, e p\u00f3s-s\u00edntese nas condi\u00e7\u00f5es t\u00edpicas de opera\u00e7\u00e3o com tens\u00e3o de alimenta\u00e7\u00e3o\n\nde 1,20 V e 25 ?C de temperatura. Considerou-se tamb\u00e9m, o pior e o melhor caso das\n\ncondi\u00e7\u00f5es de opera\u00e7\u00e3o, com tens\u00e3o de alimenta\u00e7\u00e3o de 0,70 V e 1,32 V , e temperatura de\n\n125 ?C e -40 ?C, respectivamente.\n\nA Tabela 6.1 mostra de forma resumida resultados de an\u00e1lise est\u00e1tica de tempo, a\n\nfim de se determinar os valores m\u00e1ximos de tempos de chegada, de subida e de descida e\n\nos valores m\u00ednimos de tempos requeridos de subida e de descida do circuito.\n\nTabela 6.1: An\u00e1lise de tempo do chip proposto.\n\nPar\u00e2metro Tempo (ps)\n\nTempo requerido dos dados 235000,00\n\nTempo dos dados de chegada 125000,56\n\nSlack 109999,44\n\nO termo slack da Tabela 6.1, com quantidade folgada de tempo 0,11 \u00b5s, \u00e9 definido\n\ncomo a diferen\u00e7a entre o tempo em que um sinal \u00e9 necess\u00e1rio em um caminho mais cr\u00edtico\n\ndo circuito (tempo requerido) e o tempo em que o sinal chega de fato neste ponto (tempo\n\n\n\n107\n\nde chegada), considerando o per\u00edodo do rel\u00f3gio.\n\nA Tabela 6.2 mostra a \u00e1rea m\u00ednima do sistema proposto (144493,67 \u00b5m2). O\n\natraso de propaga\u00e7\u00e3o m\u00e1ximo do caminho cr\u00edtico \u00e9 resultante do bloco SPI (5,95 ns).\n\nAssim, a frequ\u00eancia m\u00e1xima de opera\u00e7\u00e3o do circuito \u00e9 de 168,07 MHz.\n\nTabela 6.2: \u00c1rea do chip implementado em 90 nm.\n\nPar\u00e2metro \u00c1rea (\u00b5m2)\n\n\u00c1rea de l\u00f3gica combinacional 107112,96\n\n\u00c1rea n\u00e3o combinacional 23977,26\n\n\u00c1rea de interconex\u00f5es 13403,44\n\n\u00c1rea total da c\u00e9lula 131090,22\n\n\u00c1rea total 144493,67\n\nA divis\u00e3o da \u00e1rea total ocupada em termos de cada bloco foi de 12,9% para a\n\nDWT, 0,8% para o TPG, 7,0% para a EWMA, 76,6% para o FILTRO LMS, 0,9% para o\n\nFDI, 1,3% para o SPI e 0,5% para as portas de interface (tristate, mux e latch).\n\nDevido \u00e0 baixa frequ\u00eancia de rel\u00f3gio e \u00e0 implementa\u00e7\u00e3o de clock gating, foi obtido\n\nbaixo consumo de energia din\u00e2mica. Portanto, pode-se notar na Tabela 6.3, a influ\u00eancia\n\nda corrente de fuga no gasto de energia deste projeto.\n\nTabela 6.3: Dissipa\u00e7\u00e3o de energia do chip implementado em 90 nm.\n\nPot\u00eancia\n\nest\u00e1tica (\u00b5W )\n\nPot\u00eancia\n\ndin\u00e2mica (nW )\n\nPot\u00eancia\n\ntotal (\u00b5W )\n\n654,37 26,61 654,39\n\nA divis\u00e3o do consumo total em termos de cada bloco foi de 12,5% para a DWT,\n\n0,8% para o TPG, 5,8% para a EWMA, 77,6% para o FILTRO LMS, 1,0% para o FDI,\n\n1,6% para o SPI e 0,7% para as portas de interface (tristate, mux e latch).\n\n6.2 Desenvolvimento do Chip na Biblioteca Comercial de 0,6 \u00b5m\n\nNesta etapa de desenvolvimento do trabalho havia a possibilidade de submeter\n\neste trabalho ao Projeto Multiusu\u00e1rio Brasileiro (PMUB) no Centro de Excel\u00eancia em\n\nTecnologia Eletr\u00f4nica Avan\u00e7ada (CEITEC) (CEITEC, 2018). Por isso, as s\u00ednteses do\n\ncircuito tamb\u00e9m foram realizadas nas ferramentas da Cadence denominadas de RC (En-\n\n\n\n108\n\ncounter RTL Compiler) e EDI (Encounter Digital Implementation) considerando a biblio-\n\nteca XC06 da empresa X-FAB (X-FAB, 2018) para fabrica\u00e7\u00e3o de um ASIC na tecnologia\n\nCMOS de 0,6 \u00b5m.\n\n6.2.1 S\u00edntese L\u00f3gica do Chip\n\nA s\u00edntese l\u00f3gica foi realizada na ferramenta RC, onde a descri\u00e7\u00e3o do sistema com-\n\npleto em um n\u00edvel de abstra\u00e7\u00e3o usando uma linguagem de descri\u00e7\u00e3o de hardware (HDL -\n\nHardware Description Language), com informa\u00e7\u00f5es do comportamento do circuito inte-\n\ngrado e a montagem do leiaute RTL foi transformada em um arquivo de baixo n\u00edvel imple-\n\nmentado em termos de interliga\u00e7\u00f5es entre portas l\u00f3gicas (Gate-Level Netlist), correspon-\n\ndentes \u00e0s dispon\u00edveis na biblioteca XC06, processo intermediado pela empresa CEITEC\n\nS.A. (CEITEC, 2018).\n\nPara iniciar o fluxo do RC na biblioteca comercial XC06, al\u00e9m da implementa\u00e7\u00e3o\n\nem RTL, os seguintes arquivos foram necess\u00e1rios:\n\n\u2022 Bibliotecas no formato Liberty Timing Files: Contendo informa\u00e7\u00f5es de temporiza-\n\n\u00e7\u00e3o, de dissipa\u00e7\u00e3o de energia interna e est\u00e1tica das c\u00e9lulas. Arquivos fontes D_-\n\nCELLS_typ_3_3V_25C.lib e IO_ CELLS_F_typ_3_3V_25C.lib.\n\n\u2022 Bibliotecas no formato Library Exchange Format: Contendo informa\u00e7\u00f5es f\u00edsicas\n\ndas camadas de metal presentes (dimens\u00f5es e vias utilizadas para interliga\u00e7\u00e3o entre\n\ncamadas) e o formato de cada c\u00e9lula (pinagem e sua distribui\u00e7\u00e3o nas camadas de\n\nmetal). Arquivos fontes xc06_m3_FE.lef, D_CELLS.lef e IO_CELLS_F.lef.\n\nToda a elabora\u00e7\u00e3o da s\u00edntese l\u00f3gica do projeto foi executada atrav\u00e9s de fun\u00e7\u00f5es,\n\nscripts e macros escritos na linguagem de comandos de uma ferramenta (TCL - Tool\n\nCommand Language).\n\nDessa forma, tamb\u00e9m foram gerados arquivos de restri\u00e7\u00f5es de projeto referentes \u00e0\n\nbilioteca da tecnologia adotada para o pr\u00f3ximo passo no fluxo de projeto que corresponde\n\n\u00e0 s\u00edntese f\u00edsica do circuito. O comando report gates foi utilizado para extra\u00e7\u00e3o do relat\u00f3rio\n\nda Tabela 6.4.\n\n\n\n109\n\nTabela 6.4: Circuitos digitais utilizados na s\u00edntese l\u00f3gica.\n\nCircuitos digitais Inst\u00e2ncias \u00c1rea (\u00b5m2)\n\nl\u00f3gico 5817 3216095,52\n\nsequencial 655 790817,28\n\ninversor 1155 140870,40\n\nbuffer 48 8743,68\n\ntristate 1 303,60\n\nclock gating 4 2914,56\n\nTotal 7680 4159745,04\n\n6.2.2 S\u00edntese F\u00edsica do Chip\n\nA ferramenta EDI foi utilizada com os arquivos de projeto Gate-Level Netlist e\n\nde restri\u00e7\u00f5es da Synopsys (SDC - Synopsys Design Constraints) gerados na ferramenta\n\nRC da s\u00edntese anterior. Deste modo, foram seguidas todas as etapas do fluxo de projeto\n\npara elabora\u00e7\u00e3o do leiaute funcional com base nas informa\u00e7\u00f5es da bilioteca XC06: posi-\n\ncionamento dos blocos, defini\u00e7\u00e3o dos pinos de alimenta\u00e7\u00e3o, cria\u00e7\u00e3o do anel e linhas de\n\nalimenta\u00e7\u00e3o, roteamento dos sinais de alimenta\u00e7\u00e3o, coloca\u00e7\u00e3o das c\u00e9lulas padr\u00e3o de cada\n\nbloco, roteamento entre todas as c\u00e9lulas e verifica\u00e7\u00e3o das regras do projeto.\n\n6.2.3 Resultados da S\u00edntese F\u00edsica\n\nO processo de s\u00edntese f\u00edsica da Figura 6.11, otimizado para atender \u00e0s especifica-\n\n\u00e7\u00f5es exigidas, consiste em 3 camadas de metais para o roteamento. As barras de alimenta-\n\n\u00e7\u00e3o verticais foram adicionadas na camada de metal 1 e conectadas ao anel de alimenta\u00e7\u00e3o\n\nna camada de metal 2; Ao redor do circuito, os an\u00e9is de alimenta\u00e7\u00e3o foram posicionados\n\nnas camadas de metal 2 e 3 para trilhas horizontais e verticais, respectivamente; Para evi-\n\ntar erros na verifica\u00e7\u00e3o de regras de projeto (DRC - Design Rule Checking), o roteamento\n\nde sinal e da \u00e1rvore de rel\u00f3gio ocorreu entre as camadas de metal 1, 2 e 3.\n\nComo principais resultados da s\u00edntese f\u00edsica do chip, podem ser destacados a \u00e1rea\n\ntotal de c\u00e9lulas de 4153612,32 \u00b5m2, o consumo de energia estimado de 43,61596 \u00b5W\n\npara um rel\u00f3gio de 20 kHz e o tempo para estabilizar o sinal no caminho combinacional\n\nmais longo (caminho cr\u00edtico do bloco SPI) de 25 ms (25002287 ps). Como o per\u00edodo\n\n\n\n110\n\ndo sinal de rel\u00f3gio \u00e9 de 50 \u00b5s e 10% de margem para atraso externo de 5 \u00b5s, tem-se\n\numa margem de 19,99 \u00b5s, denominada de slack. Deste modo, a frequ\u00eancia m\u00e1xima de\n\nopera\u00e7\u00e3o do circuito \u00e9 de 39,99 MHz.\n\nFigura 6.11: S\u00edntese f\u00edsica do chip de predi\u00e7\u00e3o de falhas em 0,6 \u00b5m.\n\nA dissipa\u00e7\u00e3o de energia do chip \u00e9 mostrada na Tabela 6.5, onde o maior consumo\n\nde energia \u00e9 da l\u00f3gica combinacional. Isso deve ao fato que o maior n\u00famero de inst\u00e2ncias\n\ne \u00e1rea ocupada pertencem aos circuitos l\u00f3gicos, ver Tabela 6.4.\n\nTabela 6.5: Dissipa\u00e7\u00e3o de energia do chip implementado em 0,6 \u00b5m.\n\nPot\u00eancia\n\nest\u00e1tica (\u00b5W )\n\nPot\u00eancia\n\ndin\u00e2mica (\u00b5W )\n\nPot\u00eancia\n\ntotal (\u00b5W )\n\n40,31 3,31 43,62\n\nA diferen\u00e7a dos resultados de s\u00edntese entre as bibliotecas de 90 nm da Tabela 6.3 e\n\n0,6 \u00b5m da Tabela 6.5, deve-se \u00e0 diferen\u00e7a de tens\u00e3o de alimenta\u00e7\u00e3o (1,2 V e 3,30 V , res-\n\npectivamente), de rel\u00f3gio (4 kHz e 20 kHz, respectivamente), de \u00e1rea (144493,67 \u00b5m2\n\ne 4159745,04 \u00b5m2, respectivamente) e da quantidade de portas l\u00f3gicas ou blocos espec\u00ed-\n\nficos implementados da biblioteca utilizada.\n\n\n\n111\n\n6.3 Desenvolvimento do sistema com Microcontrolador e FPGA\n\nO objetivo da prototipa\u00e7\u00e3o em FPGA \u00e9 obter um hardware funcional que possa ser\n\nvalidado em trabalhos futuros utilizando a bancada existente, e que possa tamb\u00e9m facilitar\n\na sua implementa\u00e7\u00e3o em outras aplica\u00e7\u00f5es.\n\nA arquitetura do projeto proposta para aplica\u00e7\u00f5es distribu\u00eddas da se\u00e7\u00e3o 5.5 s\u00e3o\n\nposs\u00edveis atrav\u00e9s da uni\u00e3o entre dois m\u00f3dulos. O primeiro trata dos algoritmos FDS e FDI\n\ncom interface de comunica\u00e7\u00e3o SPI embarcados em FPGA, onde os c\u00e1lculos para detec\u00e7\u00e3o\n\ne predi\u00e7\u00e3o de falhas s\u00e3o realizados em tempo real, o segundo, sobre o microcontrolador\n\nque serve de interface de funcionamento e comunica\u00e7\u00e3o. A prototipa\u00e7\u00e3o do projeto com\n\nos m\u00f3dulos de FPGA (Escravo no protocolo de comunica\u00e7\u00e3o SPI) e microcontrolador\n\n(Mestre) s\u00e3o mostrados na Figura 6.12.\n\nFigura 6.12: Conex\u00e3o do sistema com FPGA e microcontrolador.\n\nA comunica\u00e7\u00e3o entre os dispositivos foi realizada com o protocolo SPI, utilizando\n\nos pinos de entrada e sa\u00edda do microcontrolador (mestre) e do FPGA (escravo). O co-\n\nmando SPI.transfer16 da biblioteca do microcontrolador foi utilizado para enviar e re-\n\nceber dados de dois bytes entre os dispositivos. A seguir, \u00e9 listado o c\u00f3digo da fun\u00e7\u00e3o\n\nsetupFPGA, utilizado para configurar a plataforma.\n\n1 v o i d setupFPGA ( ) {\n\npinMode ( CS , OUTPUT ) ; / / c o n f i g u r a o p i n o s e l e t o r como s a \u00ed d a\n\n3 d i g i t a l W r i t e ( CS , LOW) ; / / c o l o c a o p i n o do e s c r a v o em n \u00ed v e l b a i x o\n\nS P I . b e g i n ( ) ; / / i n g r e s s a a o b a r r a m e n t o S P I\n\n5 S P I . s e t D a t a M o d e ( SPI_MODE0 ) ; / / d e f i n e o modo d e c o m u n i c a \u00e7 a? o\n\nS P I . s e t C l o c k D i v i d e r ( SPI_CLOCK_DIV2 ) ; / / d i v i s o r do c l o c k p r i n c i p a l\n\n7 S P I . s e t F r e q u e n c y ( 4 0 0 0 ) ; / / A j u s t a f r e q u \u00ea n c i a ( 4 kHz )\n\nS P I . s e t B i t O r d e r ( MSBFIRST ) ; / / B i t m a i s s i g n i f i c a t i v o p r i m e i r o\n\n9 }\n\n\n\n112\n\nA conex\u00e3o e fun\u00e7\u00e3o de cada pino entre os dispositivos da Figura 6.12 s\u00e3o mostra-\n\ndas na seguinte Tabela 6.6.\n\nTabela 6.6: Conex\u00e3o entre os m\u00f3dulos de FPGA e microcontrolador.\n\nNodeMCU\n\n\u00b5C\n\nMestre\n\n? Placas ?\n\nEP2C5\n\nFPGA\n\nEscravo\n\nDescri\u00e7\u00e3o Pino Nome Conex\u00e3o Pino Nome\n\nMassa (terra) G GND ? terra ? 2 GND\n\nAutoteste funcional do chip - - Bot\u00e3o do FPGA 144 TST\n\nStatus - - LED-0 do FPGA 3 STS\n\nReiniciar chip 2 D4 Mestre ? Escravo 44 RST\n\nRel\u00f3gio de sincroniza\u00e7\u00e3o 14 D5 Mestre ? Escravo 43 SCK\n\nDados do Escravo para Mestre 12 D6 Escravo ? Mestre 42 SDO\n\nDados do Mestre para Escravo 13 D7 Mestre ? Escravo 41 SDI\n\nSele\u00e7\u00e3o do Escravo 15 D8 Mestre ? Escravo 40 CSN\n\nO modelo de FPGA da empresa Altera do kit de desenvolvimento EP2C5 mini-\n\nboard \u00e9 o EP2C5T144C8, que \u00e9 um dispositivo de baixo custo comercial e possui poucos\n\nrecursos dentro da fam\u00edlia Cyclone II, com apenas 4.608 unidades l\u00f3gicas internas, mas o\n\nsuficiente para este projeto. A placa NodeMCU \u00e9 uma plataforma de baixo custo para a\n\nInternet das coisas, de c\u00f3digo aberto, possui um microcontrolador ESP8266 de arquitetura\n\ncom um conjunto reduzido de instru\u00e7\u00f5es (RISC - Reduced Instruction Set Computer) de\n\n32 bits, suporte integrado \u00e0 rede WiFiTMe servi\u00e7os de comunica\u00e7\u00e3o serial SPI.\n\n6.3.1 Implementa\u00e7\u00e3o dos algoritmos em FPGA\n\nO projeto do chip em hardware, com sistema FDI, FDS e uma interface de co-\n\nmunica\u00e7\u00e3o SPI, foi implementado e sintetizado na ferramenta Altera Quartus II v9.1. A\n\nfrequ\u00eancia m\u00e1xima de opera\u00e7\u00e3o obtida fmax foi de 52,59 MHz (periodo de 19,014 ns),\n\ne os resultados de ocupa\u00e7\u00e3o no dispositivo considerado s\u00e3o apresentados na Tabela 6.7.\n\nO resultado nulo para blocos de mem\u00f3ria utilizados e o baixo n\u00famero de elementos\n\nl\u00f3gicos, revelam que o sistema \u00e9 adequado para uma implementa\u00e7\u00e3o eficiente (do ponto\n\nde vista de ocupa\u00e7\u00e3o de \u00e1rea) em ASIC. Isso porque em um projeto com biblioteca de\n\nc\u00e9lulas padr\u00e3o para ASIC, os circuitos digitais s\u00e3o elaborados com base em portas l\u00f3gicas\n\n\n\n113\n\nelementares, sendo assim, as mem\u00f3rias sintetizadas consomem muito mais espa\u00e7o na\n\npastilha que os demais circuitos. Portanto, este projeto sintetizado em FPGA pode ser\n\nconvertido e validado tamb\u00e9m em um leiaute de ASIC.\n\nTabela 6.7: Ocupa\u00e7\u00e3o do chip no dispositivo EP2C5T144C8.\n\nUtilizados Dispon\u00edveis Ocupa\u00e7\u00e3o\n\nTotal de elementos l\u00f3gicos 894 4608 19 %\n\nTotal de fun\u00e7\u00f5es combinacionais 775 4608 17 %\n\nTotal de registradores l\u00f3gicos 407 4608 9 %\n\nTotal de pinos 9 89 10 %\n\nTotal de mem\u00f3ria (bits) 0 119808 0 %\n\nMultiplicadores embarcados 24 26 92 %\n\nPLLs 0 2 0 %\n\n6.3.2 Testes Simulados com FPGA\n\nOs testes foram realizados em kits de baixo custo comerciais EP2C5 mini-board e\n\nNodeMCU no valor de U$ 17 e U$ 8, respectivamente, totalizando U$ 25 d\u00f3lares (SER-\n\nVICES, 2018). O NodeMCU consegue se comunicar com o PC enviando e recebendo\n\ndados atrav\u00e9s do barramento serial universal (USB - Universal Serial Bus). Atrav\u00e9s de\n\num monitor serial no ambiente de desenvolvimento integrado (IDE - Integrated Develop-\n\nment Environment) do dispositivo para o PC, alguns valores foram trocados a fim de testar\n\no sistema.\n\n6.4 Experimentos com a Bancada de Teste\n\nAs t\u00e9cnicas de manuten\u00e7\u00e3o inteligente, para que sejam validadas em diversas situ-\n\na\u00e7\u00f5es ocorridas quando em opera\u00e7\u00e3o de um sistema em ambiente de produ\u00e7\u00e3o industrial,\n\nprecisam de ensaios com poss\u00edveis comportamentos do equipamento sejam estes de ope-\n\nra\u00e7\u00e3o normal, degrada\u00e7\u00e3o ou falha.\n\nDesta forma, a bancada de testes do Laborat\u00f3rio de Controle, Automa\u00e7\u00e3o e Rob\u00f3-\n\ntica (LASCAR), proposta por HENRIQUES et al. (2010), foi desenvolvida para a reali-\n\nza\u00e7\u00e3o de ensaios de esfor\u00e7os, inje\u00e7\u00e3o de falhas e verifica\u00e7\u00e3o do comportamento din\u00e2mico\n\ndo atuador da empresa Coester Automa\u00e7\u00e3o.\n\n\n\n114\n\nA Figura 6.13 mostra o conjunto de equipamentos instalados na bancada, proje-\n\ntados para configurar comportamentos e situa\u00e7\u00f5es similares aos defeitos mais comuns\n\nencontrados em campo, onde o equipamento torna-se suscet\u00edvel \u00e0 a\u00e7\u00e3o da degrada\u00e7\u00e3o tais\n\ncomo: desgaste, corros\u00e3o, trincas e danos causados por operadores.\n\nFigura 6.13: Atuador instrumentado na bancada de teste.\n\nA bancada \u00e9 composta por um atuador el\u00e9trico CSR6 da empresa Coester Automa-\n\n\u00e7\u00e3o, aceler\u00f4metros 8705A50M1 da empresa Kistler, posicionados em pontos espec\u00edficos\n\ndo atuador, uma controlador CompactRIO NI cRIO-9004 com placa de aquisi\u00e7\u00e3o de da-\n\ndos da empresa National Instruments (ARCHITECTURES; PRACTICES, 2009), uma\n\nv\u00e1lvula de ar comprimido MPT40 da empresa Parker e um disco de freio.\n\nO equipamento CompactRIO foi utilizado em conjunto com o software LAB-\n\nVIEW (SUMATHI; SUREKHA, 2007) para controle da abertura e fechamento da v\u00e1lvula\n\npelo atuador el\u00e9trico e aquisi\u00e7\u00e3o de dados dos sensores de vibra\u00e7\u00e3o e torque.\n\nOs esfor\u00e7os mec\u00e2nicos exercidos pelo atuador e a simula\u00e7\u00e3o do fluxo de fluidos\n\nno interior da v\u00e1lvula durante os movimentos de abertura ou fechamento, s\u00e3o regulados\n\npela v\u00e1lvula de ar comprimido que, por sua vez, exerce press\u00e3o no sistema de freio a disco\n\nacoplado ao eixo do atuador.\n\n\n\n115\n\n6.4.1 Descri\u00e7\u00e3o dos Testes\n\nUm tipo de teste para inje\u00e7\u00e3o de falhas com a bancada, causando varia\u00e7\u00f5es no\n\ntorque e vibra\u00e7\u00e3o do conjunto atuador v\u00e1lvula, foi realizado com o uso do disco de freio.\n\nO mesmo, ver Figura 6.14, encontra-se instalado junto ao rolamento onde est\u00e1 conectada\n\na haste da v\u00e1lvula, sendo acionado e regulado por meio de uma v\u00e1lvula proporcional\n\npneum\u00e1tica que controla o fluxo de ar comprimido vindo de um compressor.\n\nDeste modo, \u00e9 poss\u00edvel realizar uma simula\u00e7\u00e3o de poss\u00edveis esfor\u00e7os que a v\u00e1lvula\n\nexerce ao ser acionada pelo atuador, situa\u00e7\u00e3o essa enfrentada na presen\u00e7a de falhas e em\n\nfun\u00e7\u00e3o da passagem dos flu\u00eddos na tubula\u00e7\u00e3o.\n\nFigura 6.14: Inje\u00e7\u00e3o de falhas com freio a disco.\n\n(a) V\u00e1lvula pneum\u00e1tica. (b) Freio a disco.\n\nComparando as falhas injetadas utilizadas para simular os diversos tipos de esfor-\n\n\u00e7os a que o conjunto se submete em campo, a varia\u00e7\u00e3o brusca do torque pode indicar\n\num evento de falha como a quebra de uma pe\u00e7a, obstru\u00e7\u00e3o na passagem do corpo da v\u00e1l-\n\nvula (sede da v\u00e1lvula), por exemplo. Diferentes n\u00edveis de press\u00e3o no freio, podem indicar\n\ntamb\u00e9m uma condi\u00e7\u00e3o de degrada\u00e7\u00e3o do sistema ao longo de sua utiliza\u00e7\u00e3o.\n\nA simula\u00e7\u00e3o do atuador na bancada de teste com inje\u00e7\u00e3o de falhas, tamb\u00e9m foi\n\nrealizada atrav\u00e9s da substitui\u00e7\u00e3o de engrenagens com n\u00edveis diferentes de degrada\u00e7\u00e3o. As\n\nengrenagens utilizadas no estudo de caso s\u00e3o ilustradas na Figura 6.15, uma engrenagem\n\nem condi\u00e7\u00e3o normal e outras duas apresentando falhas por desgastes e dentes fraturados.\n\nFigura 6.15: Engrenagens usadas nos testes para inje\u00e7\u00e3o de falhas.\n\nEngrenagem normal,\n\ncom dentes desgastados,\n\ncom dentes fraturados.\n\n\n\n116\n\nEngrenagens de redu\u00e7\u00e3o, eixos articulados e rolamentos, tipicamente s\u00e3o os pri-\n\nmeiros componentes a sofrerem falhas, devido ao desgaste de uso e a cargas aplicadas\n\n(BEGG; BYINGTON; MAYNARD, 2000; ZAKRAJSEK; LEWICKI, 1998). Nesses ca-\n\nsos, os estudos demonstram a exist\u00eancia de mudan\u00e7as no padr\u00e3o de vibra\u00e7\u00e3o do equipa-\n\nmento em decorr\u00eancia da degrada\u00e7\u00e3o dos dentes das engrenagens. A degrada\u00e7\u00e3o come\u00e7a\n\ncom desgaste e uma fissura no dente da engrenagem, apresentando um pequeno entalhe\n\nna \u00e1rea do filete de um dente at\u00e9 evoluir em alguns segundos na sua ruptura, desde que\n\nmantida uma determinada carga.\n\nDessa forma, o atuador na bancada de teste est\u00e1 instrumentado com sensores tanto\n\nde torque (visando os ensaios com press\u00e3o no disco de freio) quanto de vibra\u00e7\u00e3o (visando\n\na obten\u00e7\u00e3o dos n\u00edveis de vibra\u00e7\u00e3o da estrutura com diferentes engrenagens).\n\nDe acordo com os trabalhos anteriores (B\u00d6ESCH, 2011; FACCIN, 2011; PICCOLI\n\net al., 2012), o aceler\u00f4metro acoplado ao eixo do motor \u00e9 o que apresenta melhores resul-\n\ntados em termos de sinal de vibra\u00e7\u00e3o para a detec\u00e7\u00e3o da degrada\u00e7\u00e3o das engrenagens do\n\natuador. Com isso, as informa\u00e7\u00f5es foram coletadas no sistema de aquisi\u00e7\u00e3o de dados por\n\nmeio de um sensor de vibra\u00e7\u00e3o e outro de torque distribu\u00eddos no equipamento conforme\n\nmostra a Figura 6.16.\n\nFigura 6.16: Localiza\u00e7\u00e3o dos sensores instalados no atuador el\u00e9trico.\n\n(a) Sensor de torque no compartimento do motor do\natuador el\u00e9trico.\n\n(b) Aceler\u00f4metro fixado na carca\u00e7a, pr\u00f3ximo ao mo-\ntor.\n\nPara a realiza\u00e7\u00e3o dos testes do estudo de caso, a Tabela 6.8 mostra as opera\u00e7\u00f5es\n\nefetuadas, que simulam os ciclos de abertura e fechamento da v\u00e1lvula sob condi\u00e7\u00f5es\n\nnormais e de falha.\n\n\n\n117\n\nTabela 6.8: Ciclos realizados de testes experimentais.\n\nCondi\u00e7\u00e3o Descri\u00e7\u00e3o\n\nNormal Ciclo normal a vazio e sem esfor\u00e7o externo sobre o sistema\n\nFalha tipo 1 Ciclo com press\u00e3o no freio equivalente a 100 kPa\n\nFalha tipo 2 Ciclo com press\u00e3o no freio equivalente a 300 kPa\n\nFalha tipo 3 Ciclo executado usando duas engrenagens desgastadas\n\nFalha tipo 4 Ciclo executado utilizando uma engrenagem com tr\u00eas dentes fraturados\n\nFalha tipo 5 Ciclo executado com engrenagens boas, mas sem lubrifica\u00e7\u00e3o\n\nO ciclo normal de acionamento do atuador el\u00e9trico, consiste em um movimento\n\ncompleto de abertura e fechamento do obturador da v\u00e1lvula, isso sem interrup\u00e7\u00e3o e sem\n\nesfor\u00e7o adicional. O ciclo com press\u00e3o no freio equivale \u00e0 for\u00e7a exercida do obturador\n\ncom a passagem do fluido, obstru\u00e7\u00f5es, sedimentos na base, entre outros. O ciclo execu-\n\ntado com substitui\u00e7\u00e3o de engrenagens simula a degrada\u00e7\u00e3o ocorrida no acoplamento da\n\ncaixa de redu\u00e7\u00e3o do atuador e nos rolamentos. J\u00e1 a falta de lubrifica\u00e7\u00e3o das engrenagens,\n\nsimula demais defeitos apresentados pela aus\u00eancia de manuten\u00e7\u00e3o na v\u00e1lvula.\n\n6.4.2 Espectro de Frequ\u00eancia dos Sinais de Teste\n\nConsiderando os fundamentos te\u00f3ricos de DSP, mais especificamente a transfor-\n\nmada discreta de Fourier das amostradas dos sinais de opera\u00e7\u00e3o normal e com falhas\n\nrealizados experimentalmente, podem-se elaborar os gr\u00e1ficos de opera\u00e7\u00e3o da v\u00e1lvula em\n\ncondi\u00e7\u00f5es normais: na Figura 6.17 com sensor de vibra\u00e7\u00e3o; e na Figura 6.18 com sensor\n\nde torque.\n\nFigura 6.17: Espectro de frequ\u00eancia do aceler\u00f4metro em condi\u00e7\u00f5es normais.\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n1 000\n\n200\n\n400\n\n600\n\n800\n\n1 200\n\n1 400\n\n1 600\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\nit\n\nu\nd\n\ne\n\nInflu\u00eancia\nredu\u00e7\u00e3o de\nsa\u00edda em \n\n42 rpm\n\nRota\u00e7\u00e3o\ndo motor\n3600 rpm\n\nSinais\nde ru\u00eddo\n\nZoom na \nmagnitude 120\n\n0-800 -600 -400 -200 200 400 600 800\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\nO modelo CSR6 do atuador da Coester tem rota\u00e7\u00e3o de sa\u00edda no redutor de 42 rpm\n\ne rota\u00e7\u00e3o do motor de 3600 rpm (se\u00e7\u00e3o 4.3.1), frequ\u00eancia angular de 377 rad/s e 4,4\n\n\n\n118\n\nrad/s, respectivamente. Pode-se notar, que em condi\u00e7\u00f5es normais, a presen\u00e7a de ru\u00eddos\n\ns\u00e3o mais intensos com os sinais de vibra\u00e7\u00e3o (Figura 6.17) do que com os sinais de torque\n\n(Figura 6.18). Em ambas leituras, a influ\u00eancia das harm\u00f4nicas da caixa de redu\u00e7\u00e3o tem\n\npicos elevados.\n\nFigura 6.18: Espectro de frequ\u00eancia do sensor de torque em condi\u00e7\u00f5es normais.\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n200\n\n400\n\n100\n\n300\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\nit\n\nu\nd\n\ne\n\nInflu\u00eancia\nredu\u00e7\u00e3o de\nsa\u00edda em \n\n42 rpm\n\nRota\u00e7\u00e3o\ndo motor\n3600 rpm\n\nSinais\nde ru\u00eddo\n\nZoom na \nmagnitude 120\n\n0-800 -600 -400 -200 200 400 600 800\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\nOs gr\u00e1ficos de opera\u00e7\u00e3o da v\u00e1lvula com inje\u00e7\u00e3o de falhas e leitura do sensor de\n\ntorque \u00e9 apresentado na Figura 6.19 por press\u00e3o no disco de freio de 100 kPa, e na\n\nFigura 6.20 com press\u00e3o de 300 kPa.\n\nFigura 6.19: Espectro de frequ\u00eancia do sensor de torque com press\u00e3o de 100 kPa.\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n200\n\n400\n\n600\n\n100\n\n300\n\n500\n\n700\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\nit\n\nu\nd\n\ne\n\nZoom na \nmagnitude 120\n\n0-800 -600 -400 -200 200 400 600 800\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\nPode-se notar em geral, que os sinais de ru\u00eddo permanecem com mesma magni-\n\ntude, por\u00e9m nas frequ\u00eancias menores que 400 rad/s da Figura 6.20 aumentam em rela\u00e7\u00e3o\n\n\u00e0 Figura 6.19.\n\nFigura 6.20: Espectro de frequ\u00eancia do sensor de torque com press\u00e3o de 300 kPa.\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\n\nit\nu\n\nd\ne\n\nZoom na \nmagnitude 120\n\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n1 000\n\n200\n\n400\n\n600\n\n800\n\n1 200\n\n0-800 -600 -400 -200 200 400 600 800\n\nOs gr\u00e1ficos de opera\u00e7\u00e3o da v\u00e1lvula com inje\u00e7\u00e3o de falhas e leitura do sensor de\n\n\n\n119\n\nvibra\u00e7\u00e3o, \u00e9 apresentado na Figura 6.21 por engrenagem com dente desgastado, na Fi-\n\ngura 6.22 por engrenagem com dente fraturado, e na Figura 6.23 por engrenagens sem\n\nlubrifica\u00e7\u00e3o.\n\nFigura 6.21: Espectro de frequ\u00eancia do aceler\u00f4metro para engrenagens desgastadas.\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\nit\n\nu\nd\n\ne\n\nZoom na\nmagnitude 120\n\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n1 000\n\n200\n\n400\n\n600\n\n800\n\n1 200\n\n1 400\n\n1 600\n\n0-800 -600 -400 -200 200 400 600 800\n\nFigura 6.22: Espectro de frequ\u00eancia do aceler\u00f4metro para engrenagens com dentes fratu-\n\nrados.\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\n\nit\nu\n\nd\ne\n\nZoom na \nmagnitude 120\n\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n1 000\n\n200\n\n400\n\n600\n\n800\n\n1 200\n\n1 400\n\n0-800 -600 -400 -200 200 400 600 800\n\nFigura 6.23: Espectro de frequ\u00eancia do aceler\u00f4metro para engrenagens sem lubrifica\u00e7\u00e3o.\n\nFrequ\u00eancia Angular Normalizada\n\nM\na\ng\nn\n\nit\nu\n\nd\ne\n\nZoom na \nmagnitude 120\n\n0\n\n100\n\n20\n\n40\n\n60\n\n80\n\n120\n\n0-4 000 -2 000 2 000 4 000-5 000 -3 000 -1 000 1 000 3 000 5 000\n\n0\n\n1 000\n\n200\n\n400\n\n600\n\n800\n\n1 200\n\n1 400\n\n0-800 -600 -400 -200 200 400 600 800\n\nSalvo as medidas realizadas pelo sensor de torque, os gr\u00e1ficos demonstram que\n\npela an\u00e1lise espectral de frequ\u00eancia deste estudo de caso, n\u00e3o se consegue extrair muita\n\ninforma\u00e7\u00e3o. Nas leituras de vibra\u00e7\u00e3o, dificilmente um especialista, seja humano ou por\n\nintelig\u00eancia artificial, sem um bom treinamento conseguir\u00e1 tomar decis\u00f5es baseadas nes-\n\ntes resultados, a n\u00e3o ser que utilize outras t\u00e9cnicas tais como FDS e FDI validadas na\n\npr\u00f3xima se\u00e7\u00e3o 6.5. Essa dificuldade \u00e9 apontada por in\u00fameros artigos recentes, seja no\n\ntransporte, na aeron\u00e1utica e na gera\u00e7\u00e3o de energia, que o problema mais comum encon-\n\ntrado em diversas aplica\u00e7\u00f5es reais \u00e9 a sua baixa rela\u00e7\u00e3o sinal e ru\u00eddo encontrada entre\n\ninterfer\u00eancias n\u00e3o-estacion\u00e1rias e n\u00e3o-lineares.\n\n\n\n120\n\n6.5 Simula\u00e7\u00f5es do Chip P\u00f3s-s\u00edntese F\u00edsica\n\nO prop\u00f3sito principal da simula\u00e7\u00e3o p\u00f3s-s\u00edntese f\u00edsica \u00e9 a de verificar com maior\n\nexatid\u00e3o, o desempenho da implementa\u00e7\u00e3o do ASIC da se\u00e7\u00e3o 6.1.3, e se o projeto est\u00e1\n\ndentro das especifica\u00e7\u00f5es pretendidas.\n\nFoi desenvolvido no computador uma aplica\u00e7\u00e3o em linguagem bash script para\n\nque todo o processo de teste do ASIC, desde a configura\u00e7\u00e3o at\u00e9 o armazenamento e exibi-\n\n\u00e7\u00e3o dos resultados em forma de gr\u00e1fico, pudesse ser automatizado. A Figura 6.24 mostra\n\nsua interface, onde o usu\u00e1rio pode selecionar o tipo de teste, configurar o modo de opera-\n\n\u00e7\u00e3o do chip (aproxima\u00e7\u00e3o ou detalhe), o ganho do sensor e o coeficiente de adapta\u00e7\u00e3o.\n\nFigura 6.24: Interface bash script para configurar e executar macros.\n\nUma vez instalado um sensor com o sistema de predi\u00e7\u00e3o de falhas no equipamento,\n\no usu\u00e1rio pode realizar os ajustes de par\u00e2metros relevantes para o processo (tens\u00e3o de re-\n\nfer\u00eancia para o sensor e o valor do par\u00e2metro de adapta\u00e7\u00e3o do filtro do FDS), ver se\u00e7\u00e3o\n\n5.6.2. Os valores padr\u00f5es recomendados j\u00e1 v\u00eam predefinidos no chip, no entanto, o usu\u00e1-\n\nrio pode modific\u00e1-los para melhorar a detec\u00e7\u00e3o de falhas, ou seja, realizar o treinamento\n\ndo sistema para o estudo de caso ou processo em particular.\n\nEm seguida, nos primeiros segundos de opera\u00e7\u00e3o, deve ser selecionado o tipo de\n\nteste a ser realizado. Nos experimentos com a bancada (Tabela 6.8), foram aplicados ao\n\nsistema um ciclo normal com abertura e fechamento da v\u00e1lvula e em sequ\u00eancia, os ciclos\n\n\n\n121\n\nde falha espec\u00edfica. O sinal capturado foi armazenado e quantificado no formato Q de 16\n\nbits para ser testado no leiaute f\u00edsico da arquitetura FDS e FDI do chip.\n\nPara regular a abrang\u00eancia na detec\u00e7\u00e3o de poss\u00edveis falhas, conforme mostrado na\n\nse\u00e7\u00e3o 5.6.2, foi definido o modo de opera\u00e7\u00e3o do chip (aproxima\u00e7\u00e3o ou detalhe) e ajustado\n\no valor do par\u00e2metro de adapta\u00e7\u00e3o do filtro adaptativo LMS. Deste modo, a detec\u00e7\u00e3o e\n\npredi\u00e7\u00e3o de falha p\u00f4de ser produzida na primeira fase com o bloco FDS e, na segunda\n\nfase, o diagn\u00f3stico com FDI p\u00f4de ser realizado em forma de histograma.\n\nA Figura 6.25 mostra o fluxograma utilizado com os dados experimentais da ban-\n\ncada de teste da se\u00e7\u00e3o 6.4.1, representando as etapas de intera\u00e7\u00e3o entre o usu\u00e1rio e o\n\nsistema a ser testado.\n\nFigura 6.25: Intera\u00e7\u00e3o entre o usu\u00e1rio e o sistema para os testes.\n\nNa interface bash script, s\u00e3o selecionados os dados obtidos na banca de teste e\n\ncriado um arquivo teste.hex e outro arquivo modo.txt com demais configura\u00e7\u00f5es a serem\n\nutilizadas. Feito isso, uma caixa de simula\u00e7\u00e3o em linha de comando inicia automati-\n\ncamente a compila\u00e7\u00e3o de uma macro chip.do na aplica\u00e7\u00e3o vsim (\"vsim -c -do\n\nchip.do\"). Ent\u00e3o um algoritmo testebench em Verilog, respons\u00e1vel por simular um SPI\n\nmestre, por configurar o chip, por enviar os valores dos sensores do equipamento sob teste\n\ne por capturar o resultado da sa\u00edda do circuito, gera um arquivo de sa\u00edda fdi.hex com a\n\nsimula\u00e7\u00e3o do ASIC deste trabalho.\n\n\n\n122\n\nPr\u00f3ximo passo, o comando \"scilab -nw -f chip.sci\" com uma macro\n\nchip.sci \u00e9 executado automaticamente no bash script, baseado nos arquivos carrega-\n\ndos (teste.hex, fds.hex e fdi.hex), gera gr\u00e1ficos com informa\u00e7\u00f5es do sinal do sensor, do\n\nFDS e do FDI com um histograma do teste realizado.\n\nDeste modo, a ferramenta Scilab (NAGAR, 2017) \u00e9 utilizada com o objetivo\n\napenas de elucidar a interpreta\u00e7\u00e3o dos resultados dos testes em forma de gr\u00e1ficos, onde\n\ns\u00e3o carregados os dados brutos obtidos com as informa\u00e7\u00f5es produzidas pelo sistema na\n\nferramenta vsim (MENTOR GRAPHICS CORPORATION, 2008) ou VCS com Cos-\n\nmosScope da Synopsys (BHATNAGAR, 2002).\n\nFinalmente, de posse dos resultados no formato de um histograma, o usu\u00e1rio pode\n\nvisualizar o estado de funcionamento do sistema com o \u00edndice de sa\u00fade do equipamento\n\nmonitorado. Este procedimento foi utilizado em todos os testes das pr\u00f3ximas subse\u00e7\u00f5es.\n\nO mesmo m\u00e9todo tamb\u00e9m foi descrito em artigos e relat\u00f3rios anteriores, at\u00e9 a primeira\n\nfase com FDS (PICCOLI et al., 2015a) e at\u00e9 a segunda com FDI (PICCOLI et al., 2015b).\n\n6.5.1 Simula\u00e7\u00e3o com Falha por Press\u00e3o no Freio de 100 kPa\n\nNessa simula\u00e7\u00e3o, foram usados dados do sensor de torque armazenados no com-\n\nputador do experimento, realizado na bancada de teste com press\u00e3o no freio equivalente\n\na 100 kPa. A aplica\u00e7\u00e3o em linguagem bash script descrita anteriormente, utilizou o al-\n\ngoritmo testebench juntamente com os dados do sinal de torque, para simular o hardware\n\np\u00f3s sintese via interface SPI do leiaute f\u00edsico do chip.\n\nA Figura 6.27(a) mostra o gr\u00e1fico gerado pela ferramenta vsim, onde o primeiro\n\nsinal representa o status (pino STS), o segundo sinal o valor do sensor recebido pela serial\n\n(pino SDI), o terceiro sinal mostra a sa\u00edda do bloco FDI do chip pela serial (pino SDO) e\n\no quarto sinal a resposta do bloco FDS do circuito representando ou n\u00e3o a falha detectada.\n\nPode-se notar que o sensor posicionado para medir o torque, apresenta um r\u00e1pido\n\ne elevado aumento de amplitude, causado principalmente pelo arranque do motor. Por\u00e9m,\n\nisso n\u00e3o reflete necessariamente uma falha (falso positivo) para o algoritmo FDS. Ao\n\npasso que, quando o motor entra em regime permanente sob press\u00e3o constante no freio de\n\n100 kPa, a falha \u00e9 sinalizada corretamente pelo valor de erro de sa\u00edda do FDS, tanto no\n\nprocesso de abertura, quanto no de fechamento da v\u00e1lvula. O sinal de status foi ativado\n\nalgumas vezes seguidas durante o teste de inje\u00e7\u00e3o de falhas.\n\n\n\n123\n\nFigura 6.26: Experimento de falha com 100 kPa no disco de freio sobre a v\u00e1lvula.\n\nSDI\n\nSDO\n\nFDS\n\nSTS\n\nSDI\n\nSDO\n\nFDS\n\nSTS\n\nSDI\n\nSDO\n\nFDS\n\nSTS\n\nCiclo normal Ciclo de teste (press\u00e3o de 100kPa no freio)\n\nstatus intermitente\n\n(a) Sinais nos pinos do ASIC no Vsim.\n\nTempo (s)\n\nCiclo normal Ciclo de teste (press\u00e3o de 100kPa no freio)\n\n0 25 50 75\n\nF\nD\n\nI\n(D\n\ne\nc\n\nim\na\nl)\n\nAbertura Fechamento Abertura Fechamento\n\nT\ne\n\nn\ns\n\u00e3\n\no\n(V\n\n)\n\n0,50\n\n0,45\n\n0,40\n\n0,35\n\n0,30\n\n0,25\n\n0,20\n\n0,15\n\n0,10\n\n0,05\n\n0\n\n256\n\n192\n\n128\n\n64\n\n0\n\n(b) Sinal de torque de entrada e sinal FDI no Scilab. (c) Histograma do sinal do FDI no Scilab.\n\nConforme a Figura 6.27(b), o erro foi sinalizado para este tipo de falha. O his-\n\ntograma gerado na Figura 6.27(c), demostra que a detec\u00e7\u00e3o ficou um pouco distribu\u00edda\n\ndevido \u00e0 repentina eleva\u00e7\u00e3o do valor de press\u00e3o. Nesta simula\u00e7\u00e3o, a energia foi extra\u00edda\n\ndos coeficientes de aproxima\u00e7\u00e3o utilizados da DWT, com valor de ganho do sinal de en-\n\ntrada igual a 1,1 e o coeficiente de adapta\u00e7\u00e3o do filtro LMS igual a 0,12 ( 00FF\n211\n\n), totalizando\n\n435 detec\u00e7\u00f5es de 1563 leituras do FDI.\n\n6.5.2 Simula\u00e7\u00e3o com Falha por Press\u00e3o no Freio de 300 kPa\n\nO mesmo procedimento da simula\u00e7\u00e3o anterior foi repetido, por\u00e9m com press\u00e3o\n\naplicada no freio equivalente a 300 kPa.\n\nA Figura 6.28(a) mostra o gr\u00e1fico produzido no vsim, onde o primeiro sinal re-\n\npresenta o status (pino STS), o segundo sinal o valor do sensor recebido pela serial (pino\n\nSDI), o terceiro sinal mostra a sa\u00edda do bloco FDI do chip pela serial (pino SDO) e o\n\n\n\n124\n\nquarto sinal a resposta do bloco FDS do circuito representando ou n\u00e3o a falha detectada.\n\nAo aplicar a press\u00e3o de 300 kPa e ativar o freio, o n\u00edvel do sinal do sensor de\n\ntorque tornou-se ligeiramente elevado. Ent\u00e3o o processo passou para um novo estado,\n\noperando em uma situa\u00e7\u00e3o mais exaustiva de falha. Na teoria, o valor do sensor deveria\n\nser estacion\u00e1rio, mas a medi\u00e7\u00e3o no ambiente real mostra que existe a presen\u00e7a do ru\u00eddo,\n\no que n\u00e3o impede o FDS de trabalhar adequadamente. O sinal de status sempre ficou\n\nativado durante a inje\u00e7\u00e3o de falhas do teste realizado.\n\nFigura 6.27: Experimento de falha com 300 kPa no disco de freio sobre a v\u00e1lvula.\n\nSDI\n\nSDO\n\nFDS\n\nSTS\n\nSDI\n\nSDO\n\nFDS\n\nSTS\n\nSDI\n\nSDO\n\nFDS\n\nSTS\n\nSDI\n\nSD?\n\nFDS\n\nSTS\n\nCiclo normal Ciclo de teste (press\u00e3o de 300 kPa no freio)\n\nstatus ativo\n\n(a) Sinais nos pinos do ASIC no Vsim.\n\nCiclo normal Ciclo de teste (press\u00e3o de 300kPa no freio)\n\n0 25 50 75\n\nF\n?\n?\n\n(?\n\ne\nc\n\nim\na\n\nl)\n\nAbertura Fechamento Abertura Fechamento\n\n256\n\n192\n\n128\n\n64\n\n0\n\n0,7\n\n0,6\n\n0,5\n\n0,4\n\n0,3\n\n0,2\n\n0,1\n\n0\n\n0,9\n\n0,8\n\n1,0\n\nT\n\ne\nn\n\ns\n\u00e3\n\no\n(V\n\n)\n\nTe??? (s)\n\n(b) Sinal de torque de entrada e sinal FDI no Scilab. (c) Histograma do sinal do FDI no Scilab.\n\nConforme a Figura 6.28(b), o erro foi sinalizado para este tipo de falha. As barras\n\ndo histograma gerado na Figura 6.28(c), demostram que a detec\u00e7\u00e3o ficou concentrada \u00e0\n\ndireita devido \u00e0 press\u00e3o mais acentuada no disco de freio, com o triplo do valor utilizado\n\nem rela\u00e7\u00e3o ao teste anterior. Nesta simula\u00e7\u00e3o, a energia foi extra\u00edda dos coeficientes de\n\naproxima\u00e7\u00e3o utilizados da DWT, com valor de ganho do sinal de entrada igual a 1,1 e o\n\ncoeficiente de adapta\u00e7\u00e3o do filtro LMS igual a 0,12, totalizando 744 detec\u00e7\u00f5es (pratica-\n\nmente o dobro da simula\u00e7\u00e3o anterior) de 1563 leituras do FDI.\n\n\n\n125\n\n6.5.3 Simula\u00e7\u00e3o com Falha por Engrenagem de Dente Desgastado\n\nNessa simula\u00e7\u00e3o, foram usados dados do sensor de vibra\u00e7\u00e3o, armazenados no\n\ncomputador do experimento realizado na bancada de teste com uma engrenagem boa da\n\ncaixa de transmiss\u00e3o do atuador, substitu\u00edda por outra com dentes severamente desgasta-\n\ndos. A aplica\u00e7\u00e3o em linguagem bash script utilizou o algoritmo testebench juntamente\n\ncom dados do sensor de vibra\u00e7\u00e3o, para simular o hardware p\u00f3s sintese via interface SPI\n\ndo leiaute f\u00edsico do chip.\n\nA Figura 6.29(a) mostra o gr\u00e1fico gerado pela ferramenta vsim, onde o primeiro\n\nsinal representa o status (pino STS), o segundo sinal o valor do sensor recebido pela serial\n\n(pino SDI), o terceiro sinal mostra a sa\u00edda do bloco FDI do chip pela serial (pino SDO) e\n\no \u00faltimo sinal a resposta do bloco FDS do circuito representando ou n\u00e3o a falha detectada.\n\nFigura 6.28: Experimento de falha com engrenagem de dente desgastado.\n\nSDI\n\nSDO\n\nFD?\n\nSTS\n\n?DI\n\n?DO\n\nFDS\n\nSTS\n\nCiclo normal Ciclo de teste (dentes desgastados)\n\nstatus intermitente\n\n(a) Sinais nos pinos do ASIC no Vsim.\n\n256\n\n192\n\n128\n\n64\n\n0\n\nF\nD\n\nI\n(D\n\ne\nc\n\nim\na\nl)\n\nT\ne\n\nn\ns\n\u00e3\n\no\n(V\n\n)\n\n(b) Sinal de vibra\u00e7\u00e3o de entrada e sinal FDI no Scilab. (c) Histograma do sinal do FDI no Scilab.\n\n\n\n126\n\nConforme a caracter\u00edstica do sinal de erro apresentado pelo sistema FDS, tamb\u00e9m\n\npode-se detectar antecipadamente qual o tipo de falha que est\u00e1 ocorrendo. No gr\u00e1fico da\n\nFigura 6.29(a), por exemplo, ao longo do tempo verifica-se a presen\u00e7a de varia\u00e7\u00f5es no\n\nsinal de detec\u00e7\u00e3o de falhas no FDS, o que pode caracterizar um folga no acionamento das\n\nengrenagens devido ao seu desgaste. O sinal de status foi ativado duas vezes durante o\n\nteste de inje\u00e7\u00e3o de falhas.\n\nOs resultados da Figura 6.29(b), demonstram que o erro foi sinalizado para este\n\ntipo de falha. As barras do histograma gerado na Figura 6.29(c), demostram que a de-\n\ntec\u00e7\u00e3o ficou mais distribu\u00edda devido ao desgaste homog\u00eaneo nos dentes da engrenagem.\n\nNesta simula\u00e7\u00e3o, a energia foi extra\u00edda dos coeficientes de detalhe utilizados da DWT,\n\ncom valor de ganho do sinal de entrada igual a 1,1 e o coeficiente de adapta\u00e7\u00e3o do filtro\n\nLMS igual a 0,12, totalizando 674 detec\u00e7\u00f5es de 1563 leituras do FDI.\n\n6.5.4 Simula\u00e7\u00e3o com Falha por Engrenagem de Dente Fraturado\n\nO mesmo procedimento da simula\u00e7\u00e3o anterior foi repetido, por\u00e9m com dados do\n\nexperimento realizado na bancada de teste com uma engrenagem boa da caixa de trans-\n\nmiss\u00e3o do atuador, substitu\u00edda por outra com dentes fraturados. O testebench, juntamente\n\ncom dados do sensor de vibra\u00e7\u00e3o, foi utilizado para simular o hardware p\u00f3s sintese via\n\ninterface SPI do leiaute f\u00edsico do chip.\n\nA Figura 6.30(a) mostra o gr\u00e1fico produzido no vsim, onde o primeiro sinal re-\n\npresenta o status (pino STS), o segundo sinal o valor do sensor recebido pela serial (pino\n\nSDI), o terceiro sinal mostra a sa\u00edda do bloco FDI do chip pela serial (pino SDO) e o\n\n\u00faltimo sinal, a resposta do bloco FDS do circuito representando ou n\u00e3o a falha detectada.\n\nConforme a caracter\u00edstica do sinal de erro apresentado pelo sistema FDS, tamb\u00e9m\n\npode-se detectar antecipadamente qual o tipo de falha que est\u00e1 ocorrendo, por exemplo\n\nno gr\u00e1fico da Figura 6.29(b) ao longo do tempo, ocorrem picos intercalados no sinal\n\ndo FDS, o que caracteriza a assinatura da falha correspondente aos dentes fraturados da\n\nengrenagem. O sinal de status foi ativado tr\u00eas vezes durante o teste de inje\u00e7\u00e3o de falhas.\n\n\n\n127\n\nFigura 6.29: Experimento de falha com engrenagem de dente fraturado.\n\nS??\n\nS?O\n\nF?S\n\nSTS\n\nCiclo norm?l Ciclo ?? teste (??d??? fratu???o??\n\nstatu? inte?mrtente\n\n(a) Sinais nos pinos do ASIC no Vsim.\n\n0,2\n\n0,0\n\n-0,2\n-0,4\n-0,6\n-0,8\n-1,0\n\n1,0\n\n0,8\n\n0,6\n\n0,4\n\nCiclo de teste (dentes frat\t\na?os)Ciclo normal\n\n25 50 75 Temp? (\n?\n\nT\ne\n\nn\ns\n\u00e3\no\n\n(V\n)\n\nF\nD\nI\n(D\n\ne\nc\nim\n\na\nl)\n\n256\n\n192\n\n128\n\n64\n\n0\n\n(b) Sinal de vibra\u00e7\u00e3o de entrada e sinal FDI no Scilab. (c) Histograma do sinal do FDI no Scilab.\n\nO sistema sinalizou a detec\u00e7\u00e3o da falha injetada pela nota\u00e7\u00e3o mais \u00e0 esquerda\n\nda distribui\u00e7\u00e3o das barras no histograma da Figura 6.30(c). A concentra\u00e7\u00e3o do \u00edndice\n\nde detec\u00e7\u00e3o mais \u00e0 esquerda deve-se ao fato de que a falha \u00e9 detectada apenas quando\n\nos dentes danificados est\u00e3o participando da transmiss\u00e3o do movimento, sendo assim um\n\nevento mais espor\u00e1dico. Nesta simula\u00e7\u00e3o, a energia foi extra\u00edda dos coeficientes de de-\n\ntalhe utilizados da DWT, com ganho do sinal de entrada igual a 1,1 e o coeficiente de\n\nadapta\u00e7\u00e3o do filtro LMS igual a 0,12, totalizando 267 detec\u00e7\u00f5es de 1563 leituras do FDI.\n\n6.5.5 Simula\u00e7\u00e3o com Falha por Engrenagens sem Lubrifica\u00e7\u00e3o\n\nNessa simula\u00e7\u00e3o, foram usados dados do sensor de vibra\u00e7\u00e3o armazenados no com-\n\nputador do experimento, realizado na bancada de teste com as engrenagens da caixa de\n\ntransmiss\u00e3o do atuador trabalhadas a seco sem lubrifica\u00e7\u00e3o. O algoritmo testebench junta-\n\n\n\n128\n\nmente com dados do sensor de vibra\u00e7\u00e3o, foi utilizado para simular o hardware p\u00f3s sintese\n\nvia interface SPI do leiaute f\u00edsico do chip.\n\nA Figura 6.31(a) mostra o gr\u00e1fico gerado pela ferramenta vsim, onde o primeiro\n\nsinal representa o status (pino STS), o segundo sinal o valor do sensor recebido pela serial\n\n(pino SDI), o terceiro sinal mostra a sa\u00edda do bloco FDI do chip pela serial (pino SDO) e o\n\n\u00faltimo sinal, a resposta do bloco FDS do circuito representando ou n\u00e3o a falha detectada.\n\nConforme a Figura 6.31(b), o efeito do atrito nas engrenagens sem lubrifica\u00e7\u00e3o\n\ngerou mudan\u00e7as sutis na vibra\u00e7\u00e3o da m\u00e1quina, mas o suficiente para o FDI identificar a\n\nsua falha. O sinal de status oscilou rapidamente durante o teste de inje\u00e7\u00e3o de falhas.\n\nFigura 6.30: Experimento de falha sem lubrifica\u00e7\u00e3o nas engrenagens.\n\nS??\n\nS?O\n\nF?S\n\nSTS\n\nS??\n\nS?O\n\nF?S\n\nSTS\n\nS??\n\nS?O\n\nF?S\n\nSTS\n\nS??\n\nS??\n\nF?S\n\nSTS\n\nCiclo norm?l Cicl? ?? teste (sem l??\t\nfica\u00e7\u00e3o)\n\nstatus intermitente\n\n(a) Sinais nos pinos do ASIC no Vsim.\n\nCiclo normal Ciclo de teste (sem lubrifica?\u00e3o)\n\n0 25 50 75\n\nF\nD\nI\n(D\n\ne\nc\nim\n\na\nl)\n\nAbertura Fechamento Abertura Fechamento 256\n\n192\n\n128\n\n64\n\n0\n\nTe?\n? (s)\n\n0,2\n\n0,0\n\n-0,2\n-0,4\n-0,6\n-0,8\n-1,0\n\n1,0\n\n0,8\n\n0,6\n\n0,4\n\nT\ne\nn\ns\n\u00e3\no\n\n(V\n)\n\n(b) Sinal de vibra\u00e7\u00e3o de entrada e sinal FDI no Scilab. (c) Histograma do sinal do FDI no Scilab.\n\nPode-se observar na Figura 6.31(c), que o erro foi sinalizado para este tipo de\n\nfalha. As barras do histograma gerado demostram que a detec\u00e7\u00e3o ficou distribu\u00edda mais\n\n\u00e0 direita devido ao efeito do atrito (maior vibra\u00e7\u00e3o e for\u00e7a exigida) nas superf\u00edcies das\n\nengrenagens. Nesta simula\u00e7\u00e3o, a energia foi extra\u00edda dos coeficientes de aproxima\u00e7\u00e3o\n\n\n\n129\n\nutilizados da DWT, com valor de ganho do sinal de entrada igual a 1,1 e o coeficiente de\n\nadapta\u00e7\u00e3o do filtro LMS igual a 0,12, totalizando 749 detec\u00e7\u00f5es de 1563 leituras do FDI.\n\n6.5.6 Simula\u00e7\u00e3o de Autoteste Funcional\n\nNessa simula\u00e7\u00e3o, o autoteste (pino TST), descrito na se\u00e7\u00e3o 5.4.1, foi ativado. Com\n\nisso, o algoritmo testebench passou a operar em fun\u00e7\u00e3o de um vetor aleat\u00f3rio gerado\n\ninternamente no circuito.\n\nA Figura 6.32(a) mostra o gr\u00e1fico gerado pela ferramenta vsim, onde o primeiro\n\nsinal representa o status (pino STS), o segundo sinal mostra a sa\u00edda do bloco FDI do chip\n\npela serial (pino SDO), o terceiro sinal mostra a resposta do bloco FDS do circuito repre-\n\nsentando ou n\u00e3o a falha detectada, o quarto sinal mostra o valor do vetor pseudoaleat\u00f3rio\n\nde teste na sa\u00edda do bloco TPG do chip e o \u00faltimo sinal, o valor do bloco contador interno\n\ndo chip que registra o n\u00famero de eventos combinados entre a semente e o vetor do LFSR.\n\nFigura 6.31: Experimento de falha sem lubrifica\u00e7\u00e3o nas engrenagens.\n\nL?S?\n\nS?O\n\nF?S\n\nCONT\n\nSTS statu? ati?ostatu? inter?itente\n\n(a) Sinais nos pinos do ASIC no Vsim.\n\nTeste com  etor ???\t\n\n0 25000 50000 75000\n\nF\nD\nI\n(D\n\ne\nc\nim\n\na\nl)\n\n256\n\n192\n\n128\n\n64\n\n0\n\nRe\n\u00f3gio\n\nV\na\nlo\n\n?\nd\no\n\nL\nF\nS\n\n?\n\n256\n\n192\n\n128\n\n64\n\n0\n\n(b) Sinal TPG interno e sinal FDI no Scilab.\n\n10 20 30 40 50 60 70 80 90 100\n\nP\n\n\n?\nc e\n\nn\nta\n\n??\n\nm\n\n??\n\u00edn\n??\nc e\n\n??\nD\n\ne\nte\n\nc\n\n\u00e7?\n\n(%\n)\n\nHis??????? ????????ado do F?I (%)\n\n70\n\n60\n\n50\n\n40\n\n30\n\n20\n\n10\n\n0\n\n(c) Histograma do sinal do FDI no Scilab.\n\n\n\n130\n\nA Figura 6.32(b) mostra, na ferramenta gr\u00e1fica Scilab, o sinal interno do TPG\n\nat\u00e9 65280 pulsos (255 \u00d7 256 igual aos estados do LFSR multiplicados pelo limite do\n\ncontador) e o histograma, que por sua vez, revela o padr\u00e3o de comportamento do circuito\n\nem modo autoteste. Durante o autoteste realizado, inicialmente o sinal de status ficou\n\ndesligado, logo que o mesmo come\u00e7ou a oscilar rapidamente, foi ativado at\u00e9 que fosse\n\ncessada a gera\u00e7\u00e3o de vetores pseudoaleat\u00f3rio do bloco TPG.\n\nEnt\u00e3o a gera\u00e7\u00e3o de vetores de teste est\u00e1 embutida no circuito, enquanto que a\n\nverifica\u00e7\u00e3o da assinatura do autoteste \u00e9 realizada pela observa\u00e7\u00e3o da Figura 6.32(c) em\n\nforma de um histograma. O controle do teste \u00e9 realizado na interface do circuito e na\n\ncomunica\u00e7\u00e3o serial SPI pelo algoritmo testebench: pino CS para habilitar o circuito; pino\n\nSCK para fornecer pulso de rel\u00f3gio; pino RST para reiniciar o teste. Com isso, pode-\n\n-se desempenhar uma verifica\u00e7\u00e3o funcional da mesma forma que em uma arquitetura de\n\nautoteste integrado (BIST - Built-in Self-Test) gen\u00e9rica (BEZERRA; VARGAS; GOUGH,\n\n2001), onde os m\u00f3dulos respons\u00e1veis pela gera\u00e7\u00e3o de vetores de teste, compara\u00e7\u00e3o da\n\nresposta (assinatura) e controle do fluxo de teste s\u00e3o incorporados em hardware. Ressalta-\n\n-se que a estrutura desenvolvida tem como objetivo realizar apenas um teste funcional\n\n(faltando um teste estrutural completo), obtendo assim a garantia de que os blocos internos\n\ndo chip estejam funcionando conforme suas especifica\u00e7\u00f5es.\n\n6.6 Discuss\u00e3o dos Resultados\n\nOs resultados apresentados neste cap\u00edtulo demonstram, no escopo de toler\u00e2ncia a\n\nfalhas, que a arquitetura proposta fornece uma boa percep\u00e7\u00e3o ao usu\u00e1rio dos problemas\n\nocorridos no sistema.\n\nConforme as simula\u00e7oes realizadas, a evolu\u00e7\u00e3o da falha no sistema, em decorr\u00ean-\n\ncia do aumento do esfor\u00e7o envolvido na opera\u00e7\u00e3o do atuador el\u00e9trico, pode ser facilmente\n\nacompanhada pela an\u00e1lise do histograma da Figura 6.33(a). Assim, a distribui\u00e7\u00e3o das\n\nbarras desse gr\u00e1fico localizada mais \u00e0 esquerda, representa menos deteriora\u00e7\u00e3o do equi-\n\npamento. J\u00e1 a distribui\u00e7\u00e3o localizada mais \u00e0 direita, demonstra uma deteriora\u00e7\u00e3o mais\n\nsevera. Deste modo, com o deslocamento \u00e0 direita do gr\u00e1fico, a percep\u00e7\u00e3o do restante da\n\nvida \u00fatil do equipamento \u00e9 compreendida pelo aumento do torque exercido na transmiss\u00e3o\n\nda haste para a gaveta da v\u00e1lvula e a for\u00e7a exercida pelo fluido.\n\n\n\n131\n\nFigura 6.32: Formas de diagn\u00f3stico extra\u00eddo do histograma.\n\n(a) Modo aproxima\u00e7\u00e3o e sensor de torque.\n\n(b) Modo detalhe e sensor de vibra\u00e7\u00e3o.\n\nO diagn\u00f3stico produzido no histograma da Figura 6.33(b), proveniente dos dados\n\nde vibra\u00e7\u00e3o do sistema, \u00e9 um pouco mais complexo. A distribui\u00e7\u00e3o das barras desse\n\ngr\u00e1fico localizada mais a esquerda, representa falha nas engrenagens em decorr\u00eancia de\n\ndentes fraturados. A distribui\u00e7\u00e3o centrada das barras, representa falha nas engrenagens\n\nem decorr\u00eancia de dentes desgastados. J\u00e1 a distribui\u00e7\u00e3o localizada mais \u00e0 direita, uma\n\ndeteriora\u00e7\u00e3o com as engrenagens sem lubrifica\u00e7\u00e3o.\n\nEm ambos os gr\u00e1ficos mencionados anteriormente, em algum momento o sinal de\n\nstatus foi ativado durante os testes de inje\u00e7\u00e3o de falhas. Foi sinalizado de forma cons-\n\ntante nos resultados mais \u00e0 direita da distribui\u00e7\u00e3o das barras e de forma intermitente aos\n\nresultados mais \u00e0 esquerda da distribui\u00e7\u00e3o das barras.\n\nOutro ponto ressaltado pela metodologia proposta neste trabalho \u00e9 na redu\u00e7\u00e3o do\n\nconsumo de energia pela utiliza\u00e7\u00e3o de circuitos integrados. Em uma empresa como a Pe-\n\ntrobras, com milhares de v\u00e1lvulas sejam el\u00e9tricas ou n\u00e3o, pode-se estimar que com o uso\n\ndo FDS ocorreria uma vantagem significativa do ponto de vista do consumo de energia.\n\n\n\n132\n\nPara obter-se uma estimativa, levando em conta que as principais t\u00e9cnicas consideradas\n\ns\u00e3o baseadas nas plataformas de ASIC, FPGA ou PCs, o consumo ser\u00e1 calculado.\n\nSupondo uma pequena \u00e1rea da Transpetro, que contenha aproximadamente 50 atu-\n\nadores funcionando com uma m\u00e9dia de 15 ciclos de abertura e fechamento por dia, a\n\nenergia (em Wh) consumida \u00e9 estimada na Tabela 6.9. Considerando que cada ciclo de\n\nabertura e fechamento da v\u00e1lvula demanda 2 minutos, isso representa um tempo de 750\n\nhoras mensais de consumo em funcionamento e 35.250 horas de consumo em espera.\n\nAo final de cada m\u00eas o consumo total para uma t\u00e9cnica utilizando ASIC seria\n\nde 0,02 kWh, o consumo utilizando somente FPGA seria de 14,03 kWh e o consumo\n\nutilizando computador PC seria de 8.850 kWh. Conforme dados atualizados em (EU-\n\nROSTAT, 2017) da energia el\u00e9trica na Europa, que podem ser obtidos pelo pre\u00e7o atual de\n\nenergia em U$/kWh, custa em m\u00e9dia 0,220 U$/kWh. Ent\u00e3o, para uma t\u00e9cnica, utilizando\n\nASIC, o consumo de energia mensal seria de U$ 5\u00d710?3, utilizando somente FPGA seria\n\nde U$ 3,09 e, com computador PC de U$ 1947.\n\nTabela 6.9: Comparativo de consumo aproximado de 50 v\u00e1lvulas para 15 ciclos di\u00e1rios.\n\nPlataforma\nConsumo para operar Consumo parado Total no m\u00eas\n\nW Wh W Wh kWh U$\n\nASIC 8,67\u00d710?8 6,5\u00d710?5 6,45\u00d710?4 22,74 0,02 5\u00d710?3\n\nFPGA 0,04 33,64 0,40 13.996,72 14,03 3,09\n\nPC 50,00 37.500,00 250,00 8.812.500,00 8.850,00 1947\n\nConsiderando o per\u00edodo de 12 meses, para uma t\u00e9cnica utilizando ASIC, o con-\n\nsumo de energia seria de U$ 60\u00d710?3 e com computador PC um fator de 389214 maior,\n\nou seja, de U$ 23364,00. Em menos de um ano, s\u00f3 a economia do ponto de vista de con-\n\nsumo de energia cobre os investimentos com a aquisi\u00e7\u00e3o desses equipamentos para ma-\n\nnuten\u00e7\u00e3o. Conforme visto na se\u00e7\u00e3o 6.3.2, o custo de cada sistema composto por FPGA\n\ne microcontrolador com interface wireless, o investimento chegaria a U$ 1250,00 (U$\n\n50,00?50 dispositivos). A mesma an\u00e1lise do ponto de vista de investimento na aquisi\u00e7\u00e3o\n\nde PCs por v\u00e1lvula, torna-se invi\u00e1vel.\n\nDeste modo, na medida em que se extrapola o racioc\u00ednio para tempos maiores ou\n\nmesmo uma quantidade maior de atuadores, como uma refinaria inteira, a economia de\n\nenergia e investimento podem ser bem consider\u00e1veis.\n\n\n\n133\n\n7 CONSIDERA\u00c7\u00d5ES FINAIS\n\nEste trabalho apresentou o desenvolvimento de uma metodologia para concep\u00e7\u00e3o\n\nde um circuito integrado aplicado \u00e0 manuten\u00e7\u00e3o inteligente, visando ao diagn\u00f3stico e pos-\n\ns\u00edvel progn\u00f3stico de falhas como aux\u00edlio \u00e0 tomada de decis\u00e3o. Para alcan\u00e7ar uma melhor\n\nqualidade e produtividade do complexo de distribui\u00e7\u00e3o de petr\u00f3leo e seus derivados, me-\n\nlhorando sua confiabilidade e disponibilidade, a metodologia foi concebida e validada em\n\num equipamento cr\u00edtico existente na opera\u00e7\u00e3o da malha dutovi\u00e1ria de terminais. Trata-se\n\ndo conjunto atuador-v\u00e1lvula como estudo de caso.\n\nPara validar o hardware proposto utilizou-se uma bancada instrumentada. Foram\n\nrealizados ensaios de esfor\u00e7os no atuador el\u00e9trico acoplado a um sistema de freio a disco\n\ne engrenagens defeituosas para a inje\u00e7\u00e3o de falhas de modo a replicar condi\u00e7\u00f5es mais\n\nfrequentes levantadas em campo. Em todos os experimentos, a falha injetada foi detectada\n\ncom o bloco FDS e o seu diagn\u00f3stico produzido atrav\u00e9s de diferentes assinaturas de falha\n\ncom o bloco FDI permitindo a constru\u00e7\u00e3o de um histograma.\n\nO sistema implementado opera em duas fases. Na primeira, atrav\u00e9s do FDS, \u00e9\n\nrealizada a detec\u00e7\u00e3o instant\u00e2nea da falha, ou seja, a percep\u00e7\u00e3o de que algo est\u00e1 errado e\n\npode estar levando o processo a algum desvio mais significativo do seu funcionamento\n\nnormal. Neste ponto ainda n\u00e3o se sabe a localiza\u00e7\u00e3o ou o motivo que ocasionou a falha.\n\nNesta fase, os testes demonstraram que o modelo constitu\u00eddo pelo filtro adaptativo,\n\nquando apresenta discrep\u00e2ncias em compara\u00e7\u00e3o ao processo real, produz uma estimativa\n\nigualmente deficit\u00e1ria, seja nas condi\u00e7\u00f5es din\u00e2micas ou estacion\u00e1rias, produzindo a de-\n\ntec\u00e7\u00e3o correta das falhas. Isto pode ser conclu\u00eddo de acordo com os valores dos res\u00edduos\n\nou erros muito pr\u00f3ximos a zero em funcionamento normal do processo. No momento que\n\na falha ocorre, os res\u00edduos refletem o comportamento esperado de falha nos testes.\n\nA partir do sinal de sa\u00edda do FDS, \u00e9 poss\u00edvel monitorar varia\u00e7\u00f5es dos par\u00e2metros\n\ndo processo f\u00edsico com falhas abruptas, incipientes e intermitentes, o que corresponde \u00e0s\n\natividades de detec\u00e7\u00e3o e identifica\u00e7\u00e3o. A etapa de diagn\u00f3stico, nessa fase, necessita de\n\ninterpreta\u00e7\u00f5es pela representatividade visual dos sinais de sa\u00edda em modo de falha.\n\nA segunda fase, atrav\u00e9s do FDI, \u00e9 a identifica\u00e7\u00e3o da falha. O diagn\u00f3stico \u00e9 simpli-\n\nficado atrav\u00e9s de conclus\u00f5es diretas indicadas em um histograma, que permite verificar o\n\ncomponente ou local f\u00edsico dentro do sistema onde o problema detectado no passo anterior\n\nse encontra. Neste momento pode-se classificar as falhas.\n\nO sistema \u00e9 respons\u00e1vel pelo processamento das quatro primeiras camadas do\n\n\n\n134\n\nmodelo OSA-CBM, ou seja, captura de dados e processamento inteligente (que inclui\n\nprocessamento de sinais, monitora\u00e7\u00e3o de condi\u00e7\u00e3o e diagn\u00f3stico). Dessa forma, pode-se\n\nacompanhar o desenvolvimento de uma falha, evitando que a mesma surpreenda e cause\n\ndanos mais expressivos. Considerando a quantifica\u00e7\u00e3o das anormalidades detectadas e a\n\nlocaliza\u00e7\u00e3o f\u00edsica destas no processo, de maneira direta, esta t\u00e9cnica tamb\u00e9m pode ser \u00fatil\n\npara o progn\u00f3stico de falhas e da qualidade do processo.\n\nA estrutura proposta composta pelo FDS e FDI \u00e9 uma alternativa eficiente para se\n\ndetectar falhas ocorrendo em um sistema. Destaca-se ainda que a estrutura apresentada\n\npossui a capacidade de aplica\u00e7\u00e3o em ambientes reais, considerando ru\u00eddo. Como a solu-\n\n\u00e7\u00e3o proposta se baseia em um algoritmo de estima\u00e7\u00e3o do filtro para sinais estoc\u00e1sticos,\n\numa consequ\u00eancia natural e direta \u00e9 a capacidade de seu funcionamento mesmo diante da\n\npresen\u00e7a de ru\u00eddos de medi\u00e7\u00e3o de processos.\n\nO sistema pode ser implementado como um sequ\u00eancia de instru\u00e7\u00f5es executadas\n\npor um microprocessador de prop\u00f3sito geral ou mesmo embarcado em FPGA. De acordo\n\ncom os resultados obtidos na implementa\u00e7\u00e3o utilizando uma FPGA (se\u00e7\u00e3o 6.3) em con-\n\njunto com um microcontrolador de uso geral como interface de comunica\u00e7\u00e3o, o projeto\n\napresenta-se vi\u00e1vel tamb\u00e9m para a implementa\u00e7\u00e3o em aplica\u00e7\u00f5es distribu\u00eddas (se\u00e7\u00e3o 5.5).\n\nNo entanto, objetivando circuitos de baixo consumo, com linguagem de hardware,\n\npode ser implementado em um circuito integrado personalizado para a produ\u00e7\u00e3o de um\n\nchip. Na elabora\u00e7\u00e3o de um leiaute f\u00edsico foi abordado o escalonamento din\u00e2mico de\n\nfrequ\u00eancia e clock gating. Considerando a frequ\u00eancia mais baixa de opera\u00e7\u00e3o de 4 kHz\n\npara a bilioteca educacional de 90 nm, os resultados demonstram ap\u00f3s a s\u00edntese f\u00edsica a\n\ndissipa\u00e7\u00e3o est\u00e1tica e din\u00e2mica de 654,37 \u00b5W e 26,61 nW , respectivamente. Limitando-\n\n-se ao caminho cr\u00edtico pela comunica\u00e7\u00e3o serial da interface SPI, a frequ\u00eancia m\u00e1xima de\n\nopera\u00e7\u00e3o obtida foi de at\u00e9 168 MHz. Com isso, pode-se dizer que o sistema apresenta\n\npotencial para processar grandes quantidades de dados em tempo real e baixo consumo\n\nde energia.\n\nFinalmente, conforme abordado na se\u00e7\u00e3o 4.2.1, esse trabalho permite auxiliar na\n\nsolu\u00e7\u00e3o de um problema de impacto econ\u00f4mico e extremamente relevante na opera\u00e7\u00e3o\n\nda movimenta\u00e7\u00e3o de petr\u00f3leo, que consiste em garantir a qualidade e continuidade do\n\nbombeio de petr\u00f3leo e derivados em dutos para o suprimento de terminais e refinarias.\n\nAliado a procedimentos tolerantes e redundantes, decis\u00f5es podem ser tomadas em tempo\n\nde execu\u00e7\u00e3o (online) antes que a linha de produ\u00e7\u00e3o pare ou mesmo misture os diferentes\n\nsubprodutos de petr\u00f3leo utilizados.\n\n\n\n135\n\n7.1 CONTRIBUI\u00c7\u00d5ES T\u00c9CNICAS\n\nO principal benef\u00edcio e diferencial desse trabalho, comparado com outras abor-\n\ndagens relacionadas com o estudo de caso no suprimento de petr\u00f3leo (se\u00e7\u00e3o 4.3.2), \u00e9 a\n\napresenta\u00e7\u00e3o de uma solu\u00e7\u00e3o nas primeiras camadas OSA-CBM totalmente embarcada\n\nem hardware que possa obter uma otimiza\u00e7\u00e3o de consumo de energia e operar em tempo\n\nreal. As informa\u00e7\u00f5es providas dessa solu\u00e7\u00e3o tamb\u00e9m v\u00eam enriquecer a forma como se\n\nmonitora a sa\u00fade dos equipamentos nos processos industriais, permitindo uma an\u00e1lise\n\nfacilitada do desempenho e das condi\u00e7\u00f5es dos equipamentos para \u00e1rea da manuten\u00e7\u00e3o\n\ninteligente.\n\nDentre as contribui\u00e7\u00f5es observadas, pode-se destacar:\n\n\u2022 Um projeto ASIC de um sistema de diagn\u00f3stico e detec\u00e7\u00e3o de falhas em tempo real\n\naplicado a v\u00e1lvulas eletromec\u00e2nicas;\n\n\u2022 Descri\u00e7\u00e3o do circuito integrado em n\u00edvel estrutural, sem utilizar outras descri\u00e7\u00f5es\n\nde hardware, esquem\u00e1ticos, blocos de propriedade intelectual ou de terceiros;\n\n\u2022 Baixo consumo de energia em decorr\u00eancia das otimiza\u00e7\u00f5es de hardware;\n\n\u2022 A simplifica\u00e7\u00e3o do circuito atrav\u00e9s de opera\u00e7\u00f5es de deslocamento aritm\u00e9tico e pro-\n\ncessamento em ponto-fixo no formato Q;\n\n\u2022 A degrada\u00e7\u00e3o do equipamento pode ser monitorada pela frequ\u00eancia de detec\u00e7\u00e3o de\n\nfalha e sua severidade pelo \u00edndice que corresponde \u00e0 gravidade do efeito da falha;\n\n\u2022 O sistema pode ser integrado a futuros modelos de f\u00e1brica 4.0, por meio do proto-\n\ncolo de comunica\u00e7\u00e3o industrial sem fio WirelessHARTTM;\n\n\u2022 A visualiza\u00e7\u00e3o de sintomas que indicam a forma\u00e7\u00e3o de uma falha incipiente, tais\n\ncomo a falta de lubrifica\u00e7\u00e3o ou o simples desgaste de uma engrenagem;\n\n\u2022 Simplifica\u00e7\u00e3o do processo de diagn\u00f3stico, a partir de conclus\u00f5es diretas indicadas\n\npela representatividade de um histograma em modo de falha;\n\n\u2022 Valida\u00e7\u00e3o da proposta atrav\u00e9s de experimentos como o estudo de caso, onde se\n\nverifica a presen\u00e7a de ru\u00eddos de medi\u00e7\u00e3o e de processo;\n\n\u2022 A possibilidade de detectar a ocorr\u00eancia de diferentes falhas, sejam abruptas, inci-\n\npientes ou intermitentes, mesmo que ocorram simultaneamente;\n\n\u2022 A import\u00e2ncia de realizar tarefas de detec\u00e7\u00e3o e diagn\u00f3stico de falhas em tempo real\n\nde maneira online, viabilizando opera\u00e7\u00f5es sob \u00f3tica da toler\u00e2ncia a falhas;\n\n\u2022 A an\u00e1lise de desempenho com diversas ferramentas de s\u00edntese de um ASIC, que\n\n\n\n136\n\nde algum modo, satisfazem os requisitos requeridos de cada bloco da arquitetura\n\nproposta;\n\n\u2022 A necessidade de conhecer o equipamento, o tipo certo de sensor e o seu devido\n\nposicionamento pr\u00f3ximo a locais em que possam ocorrer as falhas.\n\n7.2 TRABALHOS SUBMETIDOS OU PUBLICADOS\n\nForam publicados trabalhos completos em anais de eventos cient\u00edficos, um artigo\n\nsubmetido para an\u00e1lise, dois cap\u00edtulos de livro e um registro de software.\n\nInicialmente \u00e9 apresentado os trabalhos publicados em anais de eventos:\n\n\u2022 Leonardo B. Piccoli, Eduardo L. Schneider, Renato V. Henriques, Carlos E. Pereira.\n\nDesenvolvimento de um Sistema Embarcado para Predi\u00e7\u00e3o e Detec\u00e7\u00e3o de Fa-\n\nlhas em V\u00e1lvula de Transmiss\u00e3o de Petr\u00f3leo e Derivados. Em: Workshop em\n\nSistemas Embarcados para a Ind\u00fastria de \u00d3leo, G\u00e1s e Energia - WES2012. Rio\n\ngrande, RS, Brasil: [s.n.], 2012.\n\n\u2022 Leonardo B. Piccoli, Eduardo L. Schneider, Renato V. Henriques, Carlos E. Pereira.\n\nPredi\u00e7\u00e3o e Detec\u00e7\u00e3o de Falhas em Atuadores El\u00e9tricos Atrav\u00e9s de um Sistema\n\nEmbarcado. Em: IV PCIC BR - Petroleum, Chemical Industry Technical Confe-\n\nrence. Rio de Janeiro, RJ, Brasil: [s.n.], 2012.\n\n\u2022 Leonardo B. Piccoli, Renato V. Henriques, Carlos E. Pereira, Eduardo L. Schneider.\n\nUma Solu\u00e7\u00e3o Embarcada para a Predi\u00e7\u00e3o e Detec\u00e7\u00e3o de Falhas em V\u00e1lvula de\n\nTransmiss\u00e3o de Petr\u00f3leo e Derivados. Em: XIX Congresso Brasileiro de Auto-\n\nm\u00e1tica - CBA. Campina Grande, PB, Brasil: [s.n.], 2012.\n\n\u2022 Leonardo B. Piccoli, Carlos S. Guimaraes, Renato Ventura B. Henriques, Carlos\n\nE. Pereira. Proposal of an Embedded Distributed System for Fault Detection.\n\nIFAC Proceedings Volumes, v. 46, n. 7, p. 144-149, 2013.\n\n\u2022 Leonardo B. Piccoli, Carlos S. Guimar\u00e3es Jr., Renato Ventura B. Henriques, Jean\n\nMichel Winter, Ivan Muller, Jo\u00e3o C. Netto, Carlos E. Pereira. Embedded Fault\n\nDetection System Using WirelessHART Networks. Em: Simp\u00f3sio em Compu-\n\nta\u00e7\u00e3o e Automa\u00e7\u00e3o para Ind\u00fastria Naval, Offshore e Subaqu\u00e1tica - Navcomp. Rio\n\ngrande, RS, Brasil: [s.n.], 2013.\n\n\u2022 Edzel R. Lapira, Behrad Bagheri, Wenyu Zhao, Jay Lee, Renato VB Henriques,\n\nCarlos E. Pereira, Leonardo Piccoli, CSS Guimar\u00e3es. A systematic approach to\n\n\n\n137\n\nintelligent maintenance of production systems with a framework for embedded\n\nimplementation. IFAC Proceedings Volumes, v. 46, n. 7, p. 23 \u2013 28, 2013.\n\nPosteriormente s\u00e3o apresentados os cap\u00edtulos de livro:\n\n\u2022 Leonardo Piccoli, Renato Ventura Bayan Henriques, Eric Ericson Fabris, Edu-\n\nardo Schneider, Carlos Pereira. Embedded Systems Solutions for Fault De-\n\ntection, Prediction in Electrical Valves. Em: Engineering Asset Management.\n\nCham: Springer International Publishing, 2015. cap. 1, p. 493\u2013504. ISBN\n\n9783319024615.\n\n\u2022 Leonardo Piccoli, Renato Ventura Bayan Henriques, Clayton Rocha, Eric Ericson\n\nFabris, Carlos Pereira. Proposal of a Quality Index Applied to Fault Detection\n\nMethod in Electrical Valves. Em: Engineering Asset Management. Cham: Sprin-\n\nger International Publishing, 2015. cap. 1, p. 401\u2013412. ISBN 9783319095066.\n\nEm seguida o registro de software efetivado:\n\n\u2022 Carlos Eduardo, Leonardo Piccoli e Renato Ventura Bayan Henriques. Fault De-\n\ntection System. 2016. 51 2016 000863-6080. Dispon\u00edvel em:&lt;http://www.inpi.\n\ngov.br>. Acesso em: 09 de outubro de 2018.\n\nFinalmente o artigo submetido para revista Journal of Integrated Circuits, Systems.\n\n\u2022 Leonardo Piccoli, Eduardo Schneider, Renato V. Henriques, Tiago R. Balen. De-\n\nsign of an On-Chip System for Real-Time Fault Detection, Diagnosis in Electro-\n\nmechanical Valves. 2018.\n\n7.3 TRABALHOS FUTUROS\n\nAl\u00e9m das contribui\u00e7\u00f5es apresentadas, devido \u00e0 heterogeneidade de \u00e1reas dentro do\n\nescopo deste estudo, a proposta pode receber outras melhorias e adapta\u00e7\u00f5es para poss\u00edveis\n\ntrabalhos futuros. Para que haja tamb\u00e9m uma quantidade maior de informa\u00e7\u00f5es \u00e9 neces-\n\ns\u00e1rio que as abordagens deste trabalho sejam ampliadas para outras aplica\u00e7\u00f5es. A seguir,\n\nalguns estudos que ficar\u00e3o para serem desenvolvidos posteriormente \u00e0 apresenta\u00e7\u00e3o desta\n\ntese:\n\n\u2022 Mesmo que o objeto principal seja a predi\u00e7\u00e3o e diagn\u00f3stico de falhas em equipa-\n\nmentos, o sistema pode ser adaptado para tomar decis\u00f5es com base em mecanismos\n\nde toler\u00e2ncia a falhas (se\u00e7\u00e3o 4.2.1);\n\nhttp://www.inpi.gov.br\nhttp://www.inpi.gov.br\n\n\n138\n\n\u2022 Integra\u00e7\u00e3o com ferramentas (BOUSDEKIS et al., 2018) voltadas ao progn\u00f3stico e\n\ngerenciamento das falhas no equipamento;\n\n\u2022 Adapta\u00e7\u00e3o da proposta com redund\u00e2ncia de informa\u00e7\u00f5es em uma rede de sensores,\n\nvisando adicionar a detec\u00e7\u00e3o, diagn\u00f3stico e corre\u00e7\u00e3o de falha nos transdutores;\n\n\u2022 Verifica\u00e7\u00e3o da integridade dos dados transmitidos utilizando os 2 bits reservados do\n\nprotocolo (se\u00e7\u00e3o 5.6.1);\n\n\u2022 Estudo do aumento da quantidade de sensores (FACCIN, 2011) e a identifica\u00e7\u00e3o\n\ndos locais adequados para a sua instala\u00e7\u00e3o (mais pr\u00f3ximo a uma engrenagem ou\n\nrolamento);\n\n\u2022 Execu\u00e7\u00e3o do aumento da precis\u00e3o do c\u00e1lculo realizado de 16 bits do algoritmo\n\nembarcado no ASIC. Essa quantidade foi definida em virtude da resolu\u00e7\u00e3o do con-\n\nversor A/D de 12 bits utilizado;\n\n\u2022 Possibilidade de implementa\u00e7\u00e3o do algoritmo com base em uma interface padr\u00e3o\n\npara sensor inteligente (LEE, 1998), permitindo maior escalabilidade do sistema\n\npela conex\u00e3o em rede facilitada;\n\n\u2022 Explora\u00e7\u00e3o de outras maneiras de falha que possam ser analisadas e adicionadas a\n\neste estudo;\n\n\u2022 A exist\u00eancia de uma base de dados da avalia\u00e7\u00e3o da sa\u00fade, \u00e0 medida que for grande\n\no suficiente, far\u00e1 com que o progn\u00f3stico da vida \u00fatil restante de um equipamento\n\nseja realizado adicionando outras t\u00e9cnicas (ex.: modelos ARMA (STEIN, 2014));\n\n\u2022 Realiza\u00e7\u00e3o de ensaios de compatibilidade eletromagn\u00e9tica (EMC - Electromagnetic\n\nCompatibility) para validar o sistema implementado atrav\u00e9s de uma FPGA e um\n\nmicrocontrolador. Esses ensaios visam verificar a susceptibilidade do sistema pro-\n\nposto \u00e0 interfer\u00eancia eletromagn\u00e9tica (EMI - Electromagnetic interference), ou seja,\n\nqual \u00e9 a sua capacidade em detectar e diagnostar falhas quando operando em um\n\nambiente de alto ru\u00eddo eletromagn\u00e9tico.\n\nFinalmente, sugere-se, com base na experi\u00eancia na elabora\u00e7\u00e3o de um ASIC desse\n\ntrabalho, que este tipo de t\u00e9cnica possa ser fabricada industrialmente.\n\n\n\n139\n\nREFER\u00caNCIAS\n\nAFFONSO, L. O. A. Equipamentos mec\u00e2nicos: an\u00e1lise de falhas e solu\u00e7\u00e3o de\nproblemas. 2. ed. [S.l.]: QUALITYMARK, 2006. 336 p. ISBN 9788573036343.\n\nANP. Ag\u00eancia Nacional do Petr\u00f3leo, G\u00e1s Natural e Biocombust\u00edveis. 2018. Dispon\u00edvel\nem:&lt;http://www.anp.gov.br/dados-estatisticos>. Acesso em: 09 de outubro de 2018.\n\nARCHITECTURES, R. L.; PRACTICES, D. CompactRIO Developers Guide. System,\nNational Instruments, December 2009.\n\nARRIOLA, D.; THIELECKE, F. Model-based design and experimental verification of\na monitoring concept for an active-active electromechanical aileron actuation system.\nMechanical Systems and Signal Processing, v. 94, n. Supplement C, p. 322\u2013345, 2017.\nISSN 0888-3270.\n\nASSOCIA\u00c7\u00c3O BRASILEIRA DE NORMAS T\u00c9CNICAS. NBR 5462: Confiabilidade\ne mantenabilidade. Rio de Janeiro, 1994. 37 p.\n\nAVIZIENIS, A. Toward Systematic Design of Fault-Tolerant Systems. IEEE Computer,\nv. 30, n. 4, p. 51\u201358, 1997.\n\nBALEN, T.; LUBASZEWSKI, M. Teste e Projeto Visando a Testabilidade de Circuitos\ne Sistemas Integrados. In: . T\u00f3picos em Micro e Nano Eletr\u00f4nica. 1. ed. Iju\u00ed/RS:\nEditora Unijui, 2014. v. 1, cap. 8, p. 219\u2013264. ISBN 978-85-419-0010-9.\n\nBARUA, S. et al. An efficient architecture for lifting-based two-dimensional discrete\nwavelet transforms. Integration, v. 38, n. 3, p. 341\u2013352, 2005. ISSN 0167-9260. ACM\nGreat Lakes Symposium on VLSI.\n\nBEGG, C. D.; BYINGTON, C. S.; MAYNARD, K. P. Dynamic simulation of mechanical\nfault transition. In: 54th meeting of the Society for Machinery Failure Prevention\nTechnology. Virginia Beach, VA: Society for Machinery Failure Prevention Technology,\n2000. p. 203\u2013212.\n\nBEZERRA, E. A.; VARGAS, F.; GOUGH, M. P. Improving reconfigurable systems\nreliability by combining periodical test and redundancy techniques: A case study.\nJournal of Electronic Testing, v. 17, n. 2, p. 163\u2013174, Apr 2001.\n\nBHATNAGAR, H. Advanced ASIC Chip Synthesis: Using Synopsys\u2019 Design\nCompiler and PrimeTime. 2. ed. [S.l.]: Springer, 2002. ISBN 978-0-306-47507-8.\n\nB\u00d6ESCH, K. Detec\u00e7\u00e3o de falhas por fus\u00e3o de sensores em atuadores el\u00e9tricos.\nCorrela\u00e7\u00e3o entre sinais de torque e vibra\u00e7\u00e3o. Disserta\u00e7\u00e3o (Trabalho de diploma\u00e7\u00e3o)\n\u2014 Departamento de Engenharia El\u00e9trica. Escola de Engenharia. Universidade Federal\ndo Rio Grande do Sul, Porto Alegre, 2011.\n\nBOROUJENY, F. B. Adaptive Filters: Theory and Applications. [S.l.]: John Wiley &amp;\nSons, UK, 1998.\n\nhttp://www.anp.gov.br/dados-estatisticos\n\n\n140\n\nBOSA, J. L. Sistema Embarcado para a Manuten\u00e7\u00e3o Inteligente de Atuadores\nEl\u00e9tricos. Disserta\u00e7\u00e3o (Mestrado) \u2014 Universidade Federal do Rio Grande do Sul,\nInstituto de Inform\u00e1tica, Programa de P\u00f3s-Gradua\u00e7\u00e3o em Computa\u00e7\u00e3o, Porto Alegre,\n2009.\n\nBOUSDEKIS, A. et al. Enabling condition-based maintenance decisions with proactive\nevent-driven computing. Computers in Industry, v. 100, p. 173 \u2013 183, 2018. ISSN\n0166-3615.\n\nBOYES, H. et al. The industrial internet of things (iiot): An analysis framework.\nComputers in Industry, v. 101, p. 1 \u2013 12, 2018. ISSN 0166-3615.\n\nCEITEC. Centro de Excel\u00eancia em Tecnologia Eletr\u00f4nica Avan\u00e7ada. 2018. Dispon\u00edvel\nem:&lt;http://www.ceitec-sa.com>. Acesso em: 09 de outubro de 2018.\n\nCHEN, H.; CHUA, P. S.; LIM, G. Adaptive wavelet transform for vibration signal\nmodelling and application in fault diagnosis of water hydraulic motor. Mechanical\nSystems and Signal Processing, v. 20, n. 8, p. 2022\u20132045, 2006. ISSN 0888-3270.\n\nCHILLAREGE, R.; BOWEN, N. S. Understanding large system failures-a fault injection\nexperiment. In: [1989] The Nineteenth International Symposium on Fault-Tolerant\nComputing. Digest of Papers. [S.l.: s.n.], 1989. p. 356\u2013363.\n\nCHOLETTE, M. E. et al. Condition Monitoring and Operational Decision Making in\nSemiconductor Manufacturing. IEEE Transactions on Semiconductor Manufacturing,\nv. 26, n. 4, p. 454\u2013464, Nov 2013.\n\nCLARK, J. A.; PRADHAN, D. K. Fault Injection: A Method for Validating\nComputer-System Dependability. IEEE Computer, v. 28, n. 6, p. 47\u201356, 1995.\n\nCOESTER. Coester Automa\u00e7\u00e3o Ltda. 2018. Dispon\u00edvel em:&lt;http://www.coester.com.\nbr/br/produtos/detalhes/14>. Acesso em: 09 de outubro de 2018.\n\nCOESTER AUTOMA\u00c7\u00c3O. Coester Automa\u00e7\u00e3o, Manual Atuador - Linha CSR CSR\n12- CSR 25 - CSR 50 Integral. [S.l.], 2001.\n\nCONSERVATION, A. D. of E. Aboveground Storage Tank Operator Handbook. 3.\ned. Alaska, US: State of Alaska, 2016.\n\nDAUBECHIES, I.; SWELDENS, W. Factoring Wavelet Transforms into Lifting Steps.\nJournal of Fourier Analysis and Applications, v. 4, n. 3, p. 245\u2013267, 1998.\n\nDEVI, S.; SARAVANAN, M. An innovative modular device and wireless control system\nenabling thermal and pressure sensors using FPGA on real-time fault diagnostics of\nsteam turbine functional deterioration. Mechanical Systems and Signal Processing,\nv. 102, n. Supplement C, p. 312\u2013328, 2018. ISSN 0888-3270.\n\nDINIZ, P. S. R. Adaptive Filtering: Algorithms and Practical Implementation. 4. ed.\nSecaucus, NJ, USA: Springer-Verlag New York, Inc., 2013. ISBN 9781461441069.\n\nDJURDJANOVIC, D.; LEE, J.; NI, J. Watchdog agent - an infotronics-based prognostics\napproach for product performance degradation assessment and prediction. Advanced\nEngineering Informatics, v. 17, n. 3-4, p. 109\u2013125, 2003.\n\nhttp://www.ceitec-sa.com\nhttp://www.coester.com.br/br/produtos/detalhes/14\nhttp://www.coester.com.br/br/produtos/detalhes/14\n\n\n141\n\nDUAN, L. et al. Segmented infrared image analysis for rotating machinery fault\ndiagnosis. Infrared Physics &amp; Technology, v. 77, p. 267\u2013276, 2016.\n\nCarlos Eduardo, Leonardo Piccoli e Renato Ventura Bayan Henriques. Fault Detection\nSystem. 2016. 51 2016 000863-6080. Dispon\u00edvel em:&lt;http://www.inpi.gov.br>. Acesso\nem: 09 de outubro de 2018.\n\nEUROSTAT. Electricity price statistics. 2017. Dispon\u00edvel em:&lt;http://ec.europa.eu/\neurostat/statistics-explained/index.php/Electricity_price_statistics>. Acesso em: 22 de\ndezembro de 2017.\n\nFACCIN, F. C. Manuten\u00e7\u00e3o Inteligente: Fus\u00e3o de sensores aplicada na detec\u00e7\u00e3o de\nfalhas em atuadores el\u00e9tricos. Disserta\u00e7\u00e3o (Trabalho de diploma\u00e7\u00e3o) \u2014 Departamento\nde Engenharia El\u00e9trica. Escola de Engenharia. Universidade Federal do Rio Grande do\nSul, Porto Alegre, 2011.\n\nFONTAINE, M. D. et al. Ieee / esw applying reliability centered maintenance (rcm) to\nelectrical equipment critical to worker safety. In: 2013 IEEE IAS Electrical Safety\nWorkshop. [S.l.: s.n.], 2013. p. 105\u2013112. ISSN 2326-330X.\n\nGAN, W.-S.; KUO, S. M. Embedded Signal Processing with the Micro Signal\nArchitecture. [S.l.]: Wiley-IEEE Press, 2007. ISBN 0471738417.\n\nGAO, Z.; CECATI, C.; DING, S. X. A Survey of Fault Diagnosis and Fault-Tolerant\nTechniques - Part I: Fault Diagnosis With Model-Based and Signal-Based Approaches.\nIEEE Trans. Industrial Electronics, v. 62, n. 6, p. 3757\u20133767, 2015.\n\nGIACOMOLLI, A. A. Proposta de Arquitetura Orientada a Servi\u00e7os para um\nSistema de Manuten\u00e7\u00e3o Inteligente. Disserta\u00e7\u00e3o (Disserta\u00e7\u00e3o de mestrado) \u2014\nDepartamento de Engenharia El\u00e9trica. Programa de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia\nEl\u00e9trica. Universidade Federal do Rio Grande do Sul, Porto Alegre, 2014.\n\nGOLDMAN, R. et al. Synopsys\u2019 open educational design kit: Capabilities, deployment\nand future. In: IEEE International Conference on Microelectronic Systems\nEducation, MSE \u201909, San Francisco, CA, USA, July 25-27, 2009. [S.l.: s.n.], 2009. p.\n20\u201324.\n\nGON\u00c7ALVES, L. F. et al. Fault Detection, Diagnosis and Prediction in Electrical Valves\nUsing Self-Organizing Maps. J. Electron. Test., Kluwer Academic Publishers, Norwell,\nMA, USA, v. 27, n. 4, p. 551\u2013564, ago. 2011. ISSN 0923-8174.\n\nHAYKIN, S. Adaptive Filter Theory. 4. ed. [S.l.]: Prentice Hall, 2001. Hardcover.\nISBN 0130901261.\n\nHENRIQUES, R. V. B. et al. Detec\u00e7\u00e3o de Falhas em atuadores nas linhas de transporte\nde petr\u00f3leo e/ou derivados. In: ANAIS DO BRAZIL AUTOMATION ISA 2010. 14th\nCongresso Internacional e Exposi\u00e7\u00e3o Sul-Americana de Automa\u00e7\u00e3o, Sistemas e\nInstrumenta\u00e7\u00e3o. S\u00e3o Paulo, Brasil, 2010.\n\nHOFMANN, E.; R\u00fcSCH, M. Industry 4.0 and the current status as well as future\nprospects on logistics. Computers in Industry, v. 89, p. 23 \u2013 34, 2017. ISSN 0166-3615.\n\nhttp://www.inpi.gov.br\nhttp://ec.europa.eu/eurostat/statistics-explained/index.php/Electricity_price_statistics\nhttp://ec.europa.eu/eurostat/statistics-explained/index.php/Electricity_price_statistics\n\n\n142\n\nHSUEH, M.-C.; TSAI, T. K.; IYER, R. K. Fault Injection Techniques and Tools. IEEE\nComputer, v. 30, n. 4, p. 75\u201382, 1997.\n\nHU, G. et al. A deep boltzmann machine and multi-grained scanning forest ensemble\ncollaborative method and its application to industrial fault diagnosis. Computers in\nIndustry, v. 100, p. 287 \u2013 296, 2018. ISSN 0166-3615.\n\nJIAN, H. et al. Optimization of a pressure control valve for high power automatic\ntransmission considering stability. Mechanical Systems and Signal Processing, v. 101,\nn. Supplement C, p. 182\u2013196, 2018. ISSN 0888-3270.\n\nJOHNSTON, A. T.; WONG, P. Open System Architecture for Condition-Based\nMaintenance. An Operations and Maintenance Information Open System Alliance,\n2018. Dispon\u00edvel em:&lt;www.mimosa.org/mimosa-osa-cbm>. Acesso em: 09 de outubro\nde 2018.\n\nJOU, J. M.; SHIAU, Y.-H.; LIU, C.-C. Efficient VLSI Architectures for The Biorthogonal\nWavelet Transform by Filter Bank and Lifting Scheme. Circuits and Systems, 2001.\nISCAS 2001. The 2001 IEEE International Symposium on, p. vol.2, pp.529\u2013532, 2001.\n\nKHAN, Y. Power Optimization of Linear Feedback Shift Register Using Clock Gating.\nInternational Journal of Electronics and Communication Technology (IJECT), v. 4,\np. 109\u2013115, 2013.\n\nKONEZNY, M.; RAO, S. Improving the DWT-LMS algorithm: boundary filter DWT\nmatrix construction. In: Signals, Systems and Computers, 1995. 1995 Conference\nRecord of the Twenty-Ninth Asilomar Conference on. [S.l.: s.n.], 1995. v. 1, p. 75\u201381\nvol.1.\n\nLAPRIE, J. C. DEPENDABLE COMPUTING AND FAULT TOLERANCE :\nCONCEPTS AND TERMINOLOGY. In: Fault-Tolerant Computing, 1995,\nHighlights from Twenty-Five Years., Twenty-Fifth International Symposium on.\n[S.l.: s.n.], 1995. p. 2\u2013.\n\nLAZZARETTI, E. P. Avalia\u00e7\u00e3o de Desempenho de Implementa\u00e7\u00f5es em Hardware\ne Software de Algoritmos para Aplica\u00e7\u00f5es de Manuten\u00e7\u00e3o Inteligente. Disserta\u00e7\u00e3o\n(Disserta\u00e7\u00e3o de mestrado) \u2014 Departamento de Engenharia El\u00e9trica. Programa de\nP\u00f3s-Gradua\u00e7\u00e3o em Engenharia El\u00e9trica. Universidade Federal do Rio Grande do Sul,\nPorto Alegre, 2012.\n\nLEE, J. Measurement of machine performance degradation using a neural network\nmodel. Comput. Ind., Elsevier Science Publishers B. V., Amsterdam, The Netherlands,\nThe Netherlands, v. 30, n. 3, p. 193\u2013209, out. 1996. ISSN 0166-3615.\n\nLEE, J. E-manufacturing-fundamental, tools and transformation. In: LSEVIER (Ed.).\nPointlike structures inside and outside hadrons. Milwaukee, WI, USA: Science\nDirect, 2003. p. 501\u2013507.\n\nLEE, K. IEEE Standard for a smart transducer interface for sensors and actuators -\ntransducer to microprocessor communication protocols and transducer electronic data\nsheet (TEDS) formats. IEEE Std 1451.2-1997, 1998.\n\nwww.mimosa.org/mimosa-osa-cbm\n\n\n143\n\nLO, C. H.; WONG, Y.-K.; RAD, A. B. Intelligent system for process supervision and\nfault diagnosis in dynamic physical systems. IEEE Trans. Industrial Electronics, v. 53,\nn. 2, p. 581\u2013592, 2006.\n\nMAHESWARI, R. U.; UMAMAHESWARI, R. Trends in non-stationary signal\nprocessing techniques applied to vibration analysis of wind turbine drive train \u2013 A\ncontemporary survey. Mechanical Systems and Signal Processing, v. 85, n. Supplement\nC, p. 296\u2013311, 2017. ISSN 0888-3270.\n\nMALCOLM, N.; ZHAO, W. The Timed-Token Protocol for Real-Time Communications.\nIEEE Computer, v. 27, n. 1, p. 35\u201341, 1994.\n\nMANSOURI, M. et al. Wavelet optimized EWMA for fault detection and application to\nphotovoltaic systems. Solar Energy, v. 167, p. 125\u2013136, 2018. ISSN 0038-092X.\n\nMAR\u00c7AL, R.; SUSIN, A. Detecting Incipient Faults in Rotating Machines. Revista\nGest\u00e3o Industrial, p. 83\u201392, 2005. ISSN 1808-0448.\n\nMARIMON, G. C. Fus\u00e3o de Sensores Aplicada \u00e0 Manuten\u00e7\u00e3o Inteligente.\nDisserta\u00e7\u00e3o (Trabalho de diploma\u00e7\u00e3o) \u2014 Departamento de Engenharia El\u00e9trica. Escola\nde Engenharia. Universidade Federal do Rio Grande do Sul, Porto Alegre, 2014.\n\nMARTINEZ-ORTIZ, C.; BECK, M.; WILDE, P. D. Ewma based approaches for\nautomated building energy analysis. In: 2011 IEEE International Symposium on\nSignal Processing and Information Technology (ISSPIT). [S.l.: s.n.], 2011. p.\n562\u2013566. ISSN 2162-7843.\n\nMENTOR GRAPHICS CORPORATION. Modelsim SE Reference Manual 6.3f. [S.l.],\n2008. Dispon\u00edvel em:&lt;www.mentor.com/products/fv/modelsim>. Acesso em: 03 de\nagosto de 2015.\n\nMIKHAYLOV, K.; PETAEJAEJAERVI, . J.; HAENNINEN, T. Analysis of capacity and\nscalability of the lora low power wide area network technology. In: European Wireless\n2016; 22th European Wireless Conference. [S.l.: s.n.], 2016. p. 1\u20136.\n\nMIREMADI, G.; TORIN, J. Evaluating processor-behavior and three error-detection\nmechanisms using physical fault-injection. IEEE Transactions on Reliability, v. 44,\nn. 3, p. 441\u2013454, Sep 1995. ISSN 0018-9529.\n\nNAGAR, S. Introduction to Scilab: For Engineers and Scientists. 1st. ed. Berkely,\nCA, USA: Apress, 2017.\n\nNEGREIROS, M. Filtros adaptativos aplicados \u00e0 separa\u00e7\u00e3o de sinais. Disserta\u00e7\u00e3o\n(Mestrado) \u2014 Universidade Federal do Rio Grande do Sul. Escola de Engenharia.\nPrograma de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia Metalurgica e dos Materiais, Porto Alegre,\n1994.\n\nPANDYA, M.; MALEK, M. Minimum Achievable Utilization for Fault-Tolerant\nProcessing of Periodic Tasks. IEEE Trans. Computers, v. 47, n. 10, p. 1102\u20131112,\n1998.\n\nPETROBRAS. Petr\u00f3leo Brasileiro S.A. 2018. Dispon\u00edvel em:&lt;http://www.petrobras.\ncom.br>. Acesso em: 09 de outubro de 2018.\n\nwww.mentor.com/products/fv/modelsim\nhttp://www.petrobras.com.br\nhttp://www.petrobras.com.br\n\n\n144\n\nPICCOLI, L. et al. Embedded Systems Solutions for Fault Detection and Prediction in\nElectrical Valves. In: Engineering Asset Management. Cham: Springer International\nPublishing, 2015. cap. 1, p. 493\u2013504. ISBN 9783319024615.\n\nPICCOLI, L. et al. Proposal of a Quality Index Applied to Fault Detection Method in\nElectrical Valves. In: Engineering Asset Management. Cham: Springer International\nPublishing, 2015. cap. 1, p. 401\u2013412. ISBN 9783319095066.\n\nPICCOLI, L. B. et al. Proposal of an Embedded Distributed System for Fault Detection.\nIFAC Proceedings Volumes, v. 46, n. 7, p. 144\u2013149, 2013. ISSN 1474-6670.\n\nPICCOLI, L. B. et al. Embedded Fault Detection System Using WirelessHART\nNetworks. In: Simp\u00f3sio em Computa\u00e7\u00e3o e Automa\u00e7\u00e3o para Ind\u00fastria Naval,\nOffshore e Subaqu\u00e1tica - Navcomp. Rio grande, RS, Brasil: [s.n.], 2013.\n\nPICCOLI, L. B. et al. Desenvolvimento de um Sistema Embarcado para Predi\u00e7\u00e3o e\nDetec\u00e7\u00e3o de Falhas em V\u00e1lvula de Transmiss\u00e3o de Petr\u00f3leo e Derivados. In: Workshop\nem Sistemas Embarcados para a Ind\u00fastria de \u00d3leo, G\u00e1s e Energia - WES2012. Rio\ngrande, RS, Brasil: [s.n.], 2012.\n\nPLONKA, G.; STRELA, V. Construction of multiscaling functions with approximation\nand symmetry. SIAM Journal on Mathematical Analysis, v. 29, n. 2, p. 481\u2013510, 1998.\n\nQiu, H. et al. Wavelet filter-based weak signature detection method and its application on\nrolling element bearing prognostics. Journal of Sound Vibration, v. 289, p. 1066\u20131090,\nfev. 2006.\n\nRAI, A.; UPADHYAY, S. Bearing performance degradation assessment based on a\ncombination of empirical mode decomposition and k-medoids clustering. Mechanical\nSystems and Signal Processing, v. 93, n. Supplement C, p. 16\u201329, 2017. ISSN\n0888-3270.\n\nRAMAMRITHAM, K.; STANKOVIC, J. A. Scheduling algorithms and operating\nsystems support for real-time systems. Proceedings of the IEEE, v. 82, n. 1, p. 55\u201367,\nJan 1994. ISSN 0018-9219.\n\nRASTEGARI, A.; ARCHENTI, A.; MOBIN, M. Condition based maintenance of\nmachine tools: Vibration monitoring of spindle units. In: 2017 Annual Reliability and\nMaintainability Symposium (RAMS). [S.l.: s.n.], 2017. p. 1\u20136.\n\nROCHA, C. G. M. An\u00e1lise da Variabilidade de Vibra\u00e7\u00e3o em Atuadores El\u00e9tricos.\nDisserta\u00e7\u00e3o (Disserta\u00e7\u00e3o de mestrado) \u2014 Departamento de Engenharia El\u00e9trica.\nPrograma de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia El\u00e9trica. Universidade Federal do Rio\nGrande do Sul, Porto Alegre, 2016.\n\nRUSSO, E. E. R. e. a. A Realidade Virtual na Ind\u00fastria de Explora\u00e7\u00e3o e Produ\u00e7\u00e3o\nde Petr\u00f3leo. [S.l.]: Editora Mania de Livro. S\u00e3o Paulo, SP: Realidade Virtual: Conceitos\ne Tend\u00eancias, 2004. 283\u2013288 p.\n\nSCHUCK, A. An\u00e1lise e processamento de sinais de voz disf\u00f4nica atrav\u00e9s da\ntransformada wavelet discreta. Tese (Doutorado) \u2014 Universidade Federal do Rio\nGrande do Sul, Escola de Engenharia, Programa de P\u00f3s-Gradua\u00e7\u00e3o em Engenharia\nEl\u00e9trica, Porto Alegre, 1998.\n\n\n\n145\n\nSERVICES, A. W. Shop HiLetgo. 2018. Dispon\u00edvel em:&lt;https://www.amazon.com/l/\nHiLetgo>. Acesso em: 01 de setembro de 2018.\n\nSHAHBAZI, M.; POURE, P.; SAADATE, S. Real-time power switch fault diagnosis\nand fault-tolerant operation in a DFIG-based wind energy system. Renewable Energy,\nv. 116, n. Part B, p. 209\u2013218, 2018. ISSN 0960-1481.\n\nSHAO, H. et al. Rolling bearing fault detection using continuous deep belief network\nwith locally linear embedding. Computers in Industry, v. 96, p. 27 \u2013 39, 2018. ISSN\n0166-3615.\n\nSHAO, H. et al. A novel deep autoencoder feature learning method for rotating\nmachinery fault diagnosis. Mechanical Systems and Signal Processing, v. 95, n.\nSupplement C, p. 187\u2013204, 2017. ISSN 0888-3270.\n\nSHIN, K. G.; RAMANATHAN, P. Real-time computing: a new discipline of computer\nscience and engineering. Proceedings of the IEEE, v. 82, n. 1, p. 6\u201324, Jan 1994. ISSN\n0018-9219.\n\nSOBIE, C.; FREITAS, C.; NICOLAI, M. Simulation-driven machine learning: Bearing\nfault classification. Mechanical Systems and Signal Processing, v. 99, n. Supplement\nC, p. 403\u2013419, 2018. ISSN 0888-3270.\n\nSTEIN, F. da S. Desenvolvimento de M\u00f3dulo de Predi\u00e7\u00e3o de Comportamento para\nManuten\u00e7\u00e3o Inteligente de Atuador El\u00e9trico. Disserta\u00e7\u00e3o (Trabalho de diploma\u00e7\u00e3o)\n\u2014 Departamento de Engenharia El\u00e9trica. Escola de Engenharia. Universidade Federal\ndo Rio Grande do Sul, Porto Alegre, 2014.\n\nSUMATHI, S.; SUREKHA, P. LabVIEW based Advanced Instrumentation Systems.\n[S.l.]: Springer Verlag, 2007. 728 p.\n\nSWEARINGEN, K. et al. An Open System Architecture for Condition Based\nMaintenance Overview. In: Aerospace Conference, 2007 IEEE. [S.l.: s.n.], 2007.\np. 1\u20138. ISSN 1095-323X.\n\nTAUBMAN, D. S.; MARCELLIN, M. W. JPEG2000: standard for interactive imaging.\nProceedings of the IEEE, v. 90, n. 8, p. 1336\u20131357, 8 2002. ISSN 0018-9219.\n\nTEXAS INSTRUMENTS INCORPORATED. First generation TMS320 user\u2019s\nguide. [S.l.]: Texas Instruments ; Englewood Cliffs, N.J. : Prentice-Hall, 1988. ISBN\n2868860249.\n\nTRANSPETRO. Petrobras Transporte S.A. 2018. Dispon\u00edvel em:&lt;www.transpetro.\ncom.br>. Acesso em: 09 de outubro de 2018.\n\nTUMBUSH, G. Signed arithmetic in verilog 2001 - opportunities and hazards. In: . San\nJos\u00e9, CA, US: Design and Verification Conference and Exhibition, 2005.\n\nVALINS, T. F. Rel\u00e9 digital de dist\u00e2ncia baseado na teoria de ondas viajantes e\ntransformada Wavelet. Disserta\u00e7\u00e3o (Mestrado) \u2014 Universidade de S\u00e3o Paulo. Escola\nde Engenharia de S\u00e3o Carlos. Engenharia El\u00e9trica., Porto Alegre, 2004.\n\nhttps://www.amazon.com/l/HiLetgo\nhttps://www.amazon.com/l/HiLetgo\nwww.transpetro.com.br\nwww.transpetro.com.br\n\n\n146\n\nWALNUT, D. F. An introduction to wavelet analysis. [S.l.]: Birkh\u00e4user Basel, 2002.\n(Applied and Numerical Harmonic Analysis). ISBN 9780817639624.\n\nWANG, L.; GAO, R. X. Condition Monitoring and Control for Intelligent\nManufacturing (Springer Series in Advanced Manufacturing). Secaucus, NJ, USA:\nSpringer-Verlag New York, Inc., 2006. ISBN 1846282683.\n\nWANG, X. et al. Fault diagnosis of diesel engine based on adaptive wavelet packets and\nEEMD-fractal dimension. Mechanical Systems and Signal Processing, v. 41, n. 1, p.\n581\u2013597, 2013. ISSN 0888-3270.\n\nWIDROW, B.; STEARNS, S. D. Adaptive Signal Processing. Englewood Cliffs, NJ:\nPrentice-Hall, 1985.\n\nX-FAB. Analog/Mixed-Signal Semiconductor Foundry. 2018. Dispon\u00edvel em:\n<https://www.xfab.com/technology/cmos/06-um-xc06/>. Acesso em: 09 de outubro de\n2018.\n\nYUAN, J. et al. Weak fault detection and health degradation monitoring using\ncustomized standard multiwavelets. Mechanical Systems and Signal Processing, v. 94,\nn. Supplement C, p. 384\u2013399, 2017. ISSN 0888-3270.\n\nZAKRAJSEK, J. J.; LEWICKI, D. G. Detecting gear tooth fatigue cracks in advance of\ncomplete fracture. Tribotest, v. 4, n. 4, p. 407\u2013422, 6 1998.\n\nZHANG, X. et al. An improved AE detection method of rail defect based on multi-level\nANC with VSS-LMS. Mechanical Systems and Signal Processing, v. 99, n.\nSupplement C, p. 420\u2013433, 2018. ISSN 0888-3270.\n\nhttps://www.xfab.com/technology/cmos/06-um-xc06/\n\n\tAgradecimentos\n\tResumo\n\tAbstract\n\tLista de Abreviaturas e Siglas\n\tLista de S\u00edmbolos\n\tLista de Figuras\n\tLista de Tabelas\n\tSum\u00e1rio\n\t1 INTRODU\u00c7\u00c3O\n\t1.1 Vis\u00e3o Geral dos Objetivos\n\t1.2 Contribui\u00e7\u00f5es\n\t1.3 Apresenta\u00e7\u00e3o dos Cap\u00edtulos\n\n\t2 ESTADO DA ARTE EM T\u00c9CNICAS DE MANUTEN\u00c7\u00c3O INTELIGENTE\n\t2.1 Toler\u00e2ncia a Falhas\n\t2.1.1 Defini\u00e7\u00f5es de Termos Empregados\n\t2.1.2 Arquitetura de um Ambiente de Inje\u00e7\u00e3o de Falhas\n\n\t2.2 T\u00e9cnicas de Manuten\u00e7\u00e3o\n\t2.2.1 Manuten\u00e7\u00e3o Baseada na Condi\u00e7\u00e3o\n\t2.2.2 Manuten\u00e7\u00e3o Inteligente\n\n\t2.3 Estado da Arte em Manuten\u00e7\u00e3o Inteligente\n\t2.3.1 Resumo do Estado da Arte\n\n\n\t3 REVIS\u00c3O DE T\u00c9CNICAS E METODOLOGIAS\n\t3.1 M\u00e9todos de Processamento Digital de Sinais\n\t3.1.1 Transformada Discreta de Wavelet\n\t3.1.2 Extra\u00e7\u00e3o de Energia\n\t3.1.3 Filtro Adaptativo\n\n\t3.2 Sistemas de Tempo Real\n\t3.3 Formato dos Dados de Dispositivos Digitais\n\t3.3.1 Nota\u00e7\u00e3o de Ponto Fixo no Formato Q\n\n\t3.4 O Protocolo de Comunica\u00e7\u00e3o Serial SPI\n\t3.4.1 Arquitetura de Hardware do Protocolo SPI\n\n\n\t4 UTILIZA\u00c7\u00c3O DE V\u00c1LVULAS NO MODAL DUTOVI\u00c1RIO DA IND\u00daSTRIA DO PETR\u00d3LEO\n\t4.1 Oferta e Demanda de Petr\u00f3leo\n\t4.2 Transporte e Armazenamento de Petr\u00f3leo e Derivados\n\t4.2.1 Opera\u00e7\u00f5es de um T\u00edpico Terminal\n\n\t4.3 Vis\u00e3o geral do Estudo de Caso\n\t4.3.1 Estudo de Caso deste Trabalho\n\t4.3.2 Trabalhos Relacionados ao Estudo de Caso\n\n\n\t5 PROPOSTA E IMPLEMENTA\u00c7\u00d5ES DO SISTEMA\n\t5.1 Sistema Embarcado FDS e FDI\n\t5.2 O Sistema FDS para Detec\u00e7\u00e3o e Predi\u00e7\u00e3o de Falhas\n\t5.2.1 Transformada Discreta de Wavelet\n\t5.2.2 Energia do Sinal\n\t5.2.3 Filtro Adaptativo LMS\n\n\t5.3 O Sistema FDI para Diagn\u00f3stico de Falhas\n\t5.3.1 \u00cdndice de Detec\u00e7\u00e3o de Falhas\n\n\t5.4 Chip para Predi\u00e7\u00e3o e Detec\u00e7\u00e3o de Falhas\n\t5.4.1 Arquitetura do FDS\n\t5.4.2 Arquitetura para Autoteste Funcional\n\t5.4.3 Arquitetura do FDI\n\t5.4.4 Arquitetura do FDS com SPI\n\t5.4.5 Arquitetura do FDS e FDI com SPI\n\n\t5.5 Arquitetura para Ind\u00fastria 4.0\n\t5.6 Descri\u00e7\u00e3o Operacional do Chip\n\t5.6.1 Protocolo de Comunica\u00e7\u00e3o SPI para o Chip\n\t5.6.2 Ajuste dos Par\u00e2metros do Chip\n\n\n\t6 RESULTADOS OBTIDOS\n\t6.1 Desenvolvimento do Chip na Biblioteca Educacional de 90 nm\n\t6.1.1 S\u00edntese L\u00f3gica do Chip\n\t6.1.2 S\u00edntese F\u00edsica do Chip\n\t6.1.3 Resultados da S\u00edntese F\u00edsica\n\n\t6.2 Desenvolvimento do Chip na Biblioteca Comercial de 0,6 m\n\t6.2.1 S\u00edntese L\u00f3gica do Chip\n\t6.2.2 S\u00edntese F\u00edsica do Chip\n\t6.2.3 Resultados da S\u00edntese F\u00edsica\n\n\t6.3 Desenvolvimento do sistema com Microcontrolador e FPGA\n\t6.3.1 Implementa\u00e7\u00e3o dos algoritmos em FPGA\n\t6.3.2 Testes Simulados com FPGA\n\n\t6.4 Experimentos com a Bancada de Teste\n\t6.4.1 Descri\u00e7\u00e3o dos Testes\n\t6.4.2 Espectro de Frequ\u00eancia dos Sinais de Teste\n\n\t6.5 Simula\u00e7\u00f5es do Chip P\u00f3s-s\u00edntese F\u00edsica\n\t6.5.1 Simula\u00e7\u00e3o com Falha por Press\u00e3o no Freio de 100 kPa\n\t6.5.2 Simula\u00e7\u00e3o com Falha por Press\u00e3o no Freio de 300 kPa\n\t6.5.3 Simula\u00e7\u00e3o com Falha por Engrenagem de Dente Desgastado\n\t6.5.4 Simula\u00e7\u00e3o com Falha por Engrenagem de Dente Fraturado\n\t6.5.5 Simula\u00e7\u00e3o com Falha por Engrenagens sem Lubrifica\u00e7\u00e3o\n\t6.5.6 Simula\u00e7\u00e3o de Autoteste Funcional\n\n\t6.6 Discuss\u00e3o dos Resultados\n\n\t7 CONSIDERA\u00c7\u00d5ES FINAIS\n\t7.1 CONTRIBUI\u00c7\u00d5ES T\u00c9CNICAS\n\t7.2 TRABALHOS SUBMETIDOS OU PUBLICADOS\n\t7.3 TRABALHOS FUTUROS\n\n\tRefer\u00eancias"}]}}}