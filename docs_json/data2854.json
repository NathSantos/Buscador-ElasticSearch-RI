{"add": {"doc": {"field": [{"@name": "docid", "#text": "BR-TU.06616"}, {"@name": "filename", "#text": "11164_Nogueira_ReinaldoGoncalves_M.pdf"}, {"@name": "filetype", "#text": "PDF"}, {"@name": "text", "#text": "Universidade Estadual de Campinas\nFaculdade de Engenharia El\u00e9trica\nDepartamento de Sistemas e Controle de Energia\nControle de Posi\u00e7\u00e3o e Orienta\u00e7\u00e3o de um Manipulador atrav\u00e9s de um Mouse Espacial\n\tAutor: Reinaldo Gon\u00e7alves Nogueira\nOrientador:\tProf. Dr. \u00c1lvaro Geraldo Badan Palhares\nDisserta\u00e7\u00e3o submetida \u00e0 Faculdade de Engenharia El\u00e9trica da Universidade Estadual de Campinas, para preenchimento dos pr\u00e9-requisitos parciais para obten\u00e7\u00e3o do T\u00edtulo de Mestre em Engenharia El\u00e9trica .\n3 de mar\u00e7o de 1995\nM *\tJ\n\u25a0C\u00a3 WfW.L, Jj\nUrMICAMP\tUniversidade Estadual de Campinas Faculdade de Engenharia El\u00e9trica Departamento de Sistemas e Controle de Energia\nTese\t: Controle de Posi\u00e7\u00e3o e Orienta\u00e7\u00e3o de um Manipulador atrav\u00e9s de um Mouse Espacial\nAutor\t: Reinaldo Gon\u00e7alves Nogueira\nOrientador\t: \u00c1lvaro Geraldo Badan Palhares\nAprovada em 3 de mar\u00e7o de 1995 pela banca examinadora\nProf. Dr. \u00c1lvaro Geraldo Badan Palhares (Presidente)\nProf. Dr. Edson Moschim - UNICAMP\nDr. Cesar de Souza Lima - PETROBRAS/CENPES\n/los meus pais Jair e Anna Maria, meus irm\u00e3os Eduardo, Cristina e Andrea, meu sobrinho Luis Henrique e minha esposa Maria Assima.\nResumo\nSistemas robot izados tem sido cada vez mais utilizados nas ind\u00fastrias, principalmente em se tratando de tarefas em que a opera\u00e7\u00e3o humana torna-se perigosa. A Petrobras \u00e9 urna empresa que vem utilizando esta tecnologia e, para tal, possui em seu Centro de Pesquisas e Desenvolvimento um manipulador que \u00e9 utilizado para desenvolvimentos onde geralmente atua como um robo tele operado visando a realiza\u00e7\u00e3o de tarefas submarinas em \u00e1guas intermediarias e profundas.\nO rob\u00f3 tele-operado \u00e9 um sistema Master-Slave, onde o Master, que \u00e9 um manipulador em escala reduzida, tem a fun\u00e7\u00e3o de enviar sinais de comando ao Slave, quando manipulado por um operador na sala de controle localizada na superficie. 0 sistema, entretanto, possui o inconveniente de necessitar de uma perfeita sincroniza\u00e7\u00e3o entre os \u00e1ngulos das juntas do Master e do Slave no inicio de cada opera\u00e7\u00e3o, o que demanda um certo tempo.\nEste trabalho teve como objetivo desenvolver urna nova op\u00e7\u00e3o de controle para o manipulador, com a utiliza\u00e7\u00e3o de um Mouse Espacial em substitui\u00e7\u00e3o ao Master, o que permitiu mini-mizar os tempos de inicializa\u00e7\u00e3o de tarefas, visto n\u00e3o serem mais necess\u00e1rias as correspond\u00eancias angulares .\nO sistema foi implementado em um microcomputador compat\u00edvel com a linha IBM-PC-AT de forma modular, possibilitando altera\u00e7\u00f5es, como a substitui\u00e7\u00e3o do manipulador ou do Mouse Espacial.\nAbstract\nRobotic systems have been more and more used in industries, mainly in tasks where human operations became dangerous. Petrobras, the Brazilian state owned petroleum industry, has been using this tecnology and, for that, has a manipulator in its Research &amp; Development Center which is used like a tele-operated robot to perform underwater tasks in medium and deep seawaters.\nA tele-operated robot is a Master-Slave system, where the Master, a manipulator in reduced scale, has the function of sending the command signals to the Slave, when manipulated by an operator in the control room on the surface. The system, however, has the necessity of a perfect synchronization between Master\u2019s and Slave\u2019s joint angles at the beginning of each op eration as a great inconvenient, and this operation demands a certain time.\nThis work has the objective to develop a new control option to the manipulator, using a Spatial Mouse instead of the Master, which allows to minimize the initiation times of tasks, since no more angular correspondence is necessary.\nThe system was implemented in a microcomputer compatible with the IBM-PC-AT line in a modular form, making possible alterations such as the manipulator or the Spatial Mouse replacements .\nAgradecimentos\n\u2014\tAo professor \u00c1lvaro Geraldo Badan Palhares, pela orienta\u00e7\u00e3o e incentivo em todas as etapas do trabalho.\n\u2014\tAo professor Jo\u00e3o Maur\u00edcio Ros\u00e1rio, pela colabora\u00e7\u00e3o paciente e elucidativa e pela estrutura cedida para o desenvolvimento deste trabalho.\n\u2014\tAo CNPq, pelo apoio financeiro durante a maior parte do trabalho.\n\u2014\t\u00c0 PETROBRAS, pelos equipamentos utilizados e pelo apoio financeiro na etapa final do trabalho.\n\u2014\tAos amigos da FEE, por proporcionarem in\u00fameros e indispens\u00e1veis momentos de descontra\u00e7\u00e3o.\n- A todos que, direta ou indiretamente, contribu\u00edram para a conclus\u00e3o deste trabalho.\nConte\u00fado\nRESUMO\ti\nABSTRACT\tii\nAGRADECIMENTOS\tiii\nCONTE\u00daDO\tiv\nLISTA DE FIGURAS\tvii\nLISTA DE TABELAS\tix\n1\t- Introdu\u00e7\u00e3o\t1\n1.1\tIntrodu\u00e7\u00e3o...........................................................     1\n2\t- An\u00e1lise de Deslocamento de Manipuladores Rob\u00f3ticos Industriais\t6\n2.1\tIntrodu\u00e7\u00e3o...........................................................     6\n2.2\tTrigonometria Esf\u00e9rica.................................................   7\n2.2.1\tDefini\u00e7\u00f5es...........................................    ,\t7\n2.2.2\tTri\u00e2ngulos\tEsf\u00e9ricos..............................................  7\n2.2.3\tAs Leis do Seno, Seno-cosseno e Cosseno para Tri\u00e2ngulos Esf\u00e9ricos.  9\n2.2.4\tAs Leis do Seno, Seno-cosseno e Cosseno para Tri\u00e2ngulos Polares... 13\n2.2.5\tAlgumas Propriedades dos Tri\u00e2ngulos Esf\u00e9ricos e Polares .......... 13\n2.2.6\tEqua\u00e7\u00f5es para o Quadril\u00e1tero Esf\u00e9rico . .......................... 15\n2.2.7\tEqua\u00e7\u00f5es\tpara o Pol\u00edgono Esf\u00e9rico de n Lados........................ 17\n2.2.8\tEqua\u00e7\u00f5es\tSubsidi\u00e1rias do Pol\u00edgono Esf\u00e9rico de\tn\tLados .............. 18\n2.2.9\tEqua\u00e7\u00f5es para o Quadril\u00e1tero Polar................................... 19\n2.2.10\tEqua\u00e7\u00f5es\tpara o Pol\u00edgono Polar de n Lados........................... 20\n2.2.11\tEqua\u00e7\u00f5es\tSubsidi\u00e1rias do Pol\u00edgono Polar de n\tLados ..................21\n2.3\tPol\u00edgonos Espaciais  ......................................................  23\n2.3.1\tEqua\u00e7\u00e3o de Malha Fechada para Pol\u00edgonos Espaciais Ortogonais..........23\n2.3.2\tCadeia Espacial Ortogonal Aberta..................................... 25\n2.3.3\tEqua\u00e7\u00f5es Secund\u00e1rias para Pol\u00edgonos Espaciais ......................  20\n2.3.4\tTri\u00e2ngulo Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno.................. 28\n2.3.5\tQuadril\u00e1tero Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno............... 28\n2.3.6\tPent\u00e1gono Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno ................. 29\n2.3.7\tHex\u00e1gono Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno..................  30\n2.3.8\tHept\u00e1gono Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno ................  30\n2.4\tManipuladores Rob\u00f3ticos .................................................... 32\n2.4.1\tFechamento do Mecanismo Espacial : Solu\u00e7\u00e3o Inversa................... 34\n2.4.2\tPosicionamento da Garra: Solu\u00e7\u00e3o do Problema Cinem\u00e1tico Direto ...... 37\n3\t-\tModelagem\t38\n3.1\tIntrodu\u00e7\u00e3o ...............................................................   38\n3.2\tProblema Cinem\u00e1tico Inverso . ...........................................,\t. 39\n3.2.1\tAn\u00e1lise\tdo\tMecanismo Espacial RRRR-R-RR.............................. 45\n3.2.2\tEqua\u00e7\u00e3o de Entrada-SaTda (\u00cd7X\u00cd1). . ............................      45\n3.3\tProblema Cinem\u00e1tico Direto ................................................  51\n4\t-\tInterface Homem-M\u00e1quina\t53\n4.1\tMaster Slave .............................................................   55\n4.1.1\tCalibra\u00e7\u00e3o .........................................................  55\n4.1.2\tMonitoramento........................................................ 55\n4.2\tMicro Computador....................................................... 57\n4.2.1\tControle .........................................................57\n4.2.2\tAnima\u00e7\u00e3o.....................................................    .\t61\n4.2.3\tPar\u00e2metros....................................................... 61\n4.3\tTeste de Hardware...................................................    61\n5\t- Resultados e Conclus\u00f5es\t63\n5.1\tTestes e Resultados.................................................... 63\n5.1.1\tControle Via Master...........................................    63\n5.1.2\tControle Via Teclado...........................................   63\n5.1.3\tControle no Modo Autom\u00e1tico....................................   64\n5.1.4\tControle Via Mouse Espacial.....................................  64\n5.2\tConclus\u00f5es ...........................................................  65\n5.3\tSugest\u00f5es para Trabalhos Futuros....................................... 65\nBIBLIOGRAFIA\t67\nAP\u00caNDICE\t68\nA\t- Caracter\u00edsticas T\u00e9cnicas do Manipulador Kraft\t68\nA.l Especifica\u00e7\u00f5es Gerais..................................................  68\nA.2 Efetuador..............................................................  68\nA.3 Movimento das Juntas ....................................................  69\nB - Listagem dos Modelos Implementados\n70\nLista de Figuras\n1.1\tManipulador Kraft............................................................ 2\n1.2\tDispositivo de Controle Master............................................... 3\n1.3\tEsquema do Mouse Espacial.................................................... 4\n2.1\tEixo Polar e P\u00f3los...................................................... 7\n2.2\tTri\u00e2ngulos Esf\u00e9rico e Polar ................................................. 8\n2.3\tTri\u00e2ngulos Anti-Polares...................................................... 9\n2.4\tTri\u00e2ngulo Esf\u00e9rico.......................................................... 10\n2.5\tObten\u00e7\u00e3o do Sistema XYZ a partir do Sistema\txyz............................. 11\n2.6\tTri\u00e2ngulo Polar...........................................................   14\n2.7\tQuadril\u00e1tero Esf\u00e9rico.................................................       16\n2.8\tPol\u00edgono Esf\u00e9rico de n Lados................................................ 17\n2.9\tQuadril\u00e1tero Esf\u00e9rico: Equa\u00e7\u00f5es Fundamentais\te\tSubsidi\u00e1rias................. 19\n2.10\tQuadril\u00e1tero Polar ......................................................   20\n2.11\tPol\u00edgono Polar de n Lados................................................... 21\n2.12\tQuadril\u00e1tero Polar: Equa\u00e7\u00f5es Fundamentais\te Subsidi\u00e1rias ...................23\n2.13\tPol\u00edgono Espacial Ortogonal com n Lados.....................................24\n2.14\tCadeia Espacial Ortogonal Aberta .........................................  25\n2.15\tTri\u00e2ngulo Espacial ......................................................   26\n2.16\tManipulador Gen\u00e9rico . ..................................................   33\n3.2\tPar\u00e2metros para a Representa\u00e7\u00e3o Geom\u00e9trica Gen\u00e9rica de um Manipulador ..... 41\n3.3\tRepresenta\u00e7\u00e3o Geom\u00e9trica do Manipulador Kraft..............................  42\n3.4\tPent\u00e1gonos Esf\u00e9rico e Polar  .............................................   46\n4.1\tConfigura\u00e7\u00e3o Inicial do Sistema............................................. 53\n4.2\tPrimeiro Menu do Programa...............................................     54\n4.3\tDiagrama de Blocos do Programa.............................................  54\n4.4\tTela Inicial do Modo Master Slave.........................................   55\n4.5\tTela de Calibra\u00e7\u00e3o...........................................................56\n4.6\tTela de Monitoramento......................................................  56\n4.7\tTela Inicial do Controle Via Microcomputador. .............................. 58\n4.8\tTela de Controle Via Mouse Espacial. . ....................................  59\n4.9\tTela de Controle Via Teclado................................................ 60\n4.10\tTela do Movimento Direto.....................................................61\n4.11\tTela de Anima\u00e7\u00e3o Via Teclado..............................................   62\nA.l Movimentos das Juntas do Manipulador Kraft.................................   69\nLista de Tabelas\n3.1\tSimplifica\u00e7\u00f5es Inerentes ao Manipulador Kraft\n43\nCap\u00edtulo 1\nIntrodu\u00e7\u00e3o\n1.1\tIntrodu\u00e7\u00e3o\nA Automa\u00e7\u00e3o Industrial \u00e9 um assunto que tem despertado grande interesse em in\u00fameros profissionais envolvidos com a ind\u00fastria brasileira, por exemplo, engenheiros, empres\u00e1rios e cientistas. Isto est\u00e1 ocorrendo devido \u00e0 necessidade incontest\u00e1vel de moderniza\u00e7\u00e3o de massas industriais, visando um aumento significativo da produtividade e da qualidade. A automa\u00e7\u00e3o j\u00e1 est\u00e1 sendo introduzida nas ind\u00fastrias aqui no Brasil e n\u00e3o h\u00e1 d\u00favidas que sua utiliza\u00e7\u00e3o crescer\u00e1 exponencialmente nos anos vindouros. Dentro deste contexto, a Rob\u00f3tica tem um papel fundamental devido \u00e0 sua alta aplicabilidade na automa\u00e7\u00e3o de ind\u00fastrias manufaturei ras.\nA robotiza\u00e7\u00e3o de ambientes de dif\u00edcil acesso, como o fundo do mar. e em tarefas hostis ao homem, como opera\u00e7\u00f5es repetitivas, em ambientes polu\u00eddos ou com riscos de acidentes, tem sido cada vez mais objeto de interesse e pesquisa em todo o mundo e, no Brasil, a Petrobras tem sido a pioneira na utiliza\u00e7\u00e3o de sistemas rob\u00f3ticos em \u00e1guas submarinas profundas.\nAutomatizar tarefas submarinas significa criar um sistema dedicado, remotamente controlado e capaz de realizar determinadas opera\u00e7\u00f5es , como manobreis ou reparos em equipamentos ou instala\u00e7\u00f5es. Por se tratarem de tarefas nem sempre repetitivas e realizadas em ambientes remotos, perigosos ou mesmo inacess\u00edveis ao homem, surge a necessidade de utiliza\u00e7\u00e3o de rob\u00f4s ou manipuladores submarinos tele-operados.\n0 manipulador Kraft, mostrado na figura 1.1 e cujas caracter\u00edsticas t\u00e9cnicas [2] podem ser vistas no ap\u00eandice A, \u00e9 projetado para executar tarefas gerais em ambiente submarino ou em outros ambientes hostis. Este sistema rob\u00f3tico \u00e9 classificado como tele-operad o, dado que seus movimentos s\u00e3o comandados \u00e0 dist\u00e2ncia por um dispositivo de controle denominado \u201dmas-ter\u201d e localizado na base de controle, que envia sinais de movimentos a serem reproduzidos pelo manipulador e cujas trajet\u00f3rias podem ser definidas em parte pela a\u00e7\u00e3o do operador, em parte por programa\u00e7\u00f5es pr\u00e9 definidas na tarefas padr\u00f5es de localiza\u00e7\u00e3o e fixa\u00e7\u00e3o do manipulador ao seu ambiente de trabalho. 0 sistema completo rob\u00f4 tele-operado \u00e9 denominado Sistema Rob\u00f3tico\nMaster-Slave.\nFigura 1.1: Manipulador Kraft.\nNo Sistema Kraft, o dispositivo de controle utilizado \u00e9 um \u2019\u2019minimaster\u201d ou simplesmente \u2019\u2019master\u201d mostrado na figura 1.2, que \u00e9 um modelo em escala reduzida do manipulador Kraft. Este modo de controle possui algumas vantagens, como o fato de trabalhar diretamente com os \u00e2ngulos de juntas, ou seja, os \u00e2ngulos lidos no \u2019\u2019master\u201d s\u00e3o enviados para o manipulador (\u2019\u2019slave\u201d). Mas uma grande dificuldade deste sistema \u00e9 a inicializa\u00e7\u00e3o: \u2019\u2019master\u201d e \u2019\u2019slave\u201d devem estar sincronizados, ou seja, devem possuir os mesmos \u00e2ngulos de juntas no in\u00edcio de cada opera\u00e7\u00e3o e esta sincroniza\u00e7\u00e3o demanda um certo tempo, o que pode ser indesej\u00e1vel quando a rapidez for um dos requisitos da tarefa executada.\nFigura 1.2: Dispositivo de Controle Mas ter.\nCom a preocupa\u00e7\u00e3o de minimizar esta dificuldade, principalmente pelo fato de que as tarefas que exigem rapidez tem apresentado uma demanda cada vez maior, estamos propondo neste trabalho um m\u00e9todo alternativo que viabilize o sistema sem que os problemas de inicializa\u00e7\u00e3o prejudiquem o desempenho desejado, no que diz respeito ao tempo de resposta do sistema aos comandos do master.\nUm sitema desenvolvido pelo CENPES - Centro de Pesquisas e Desenvolvimento da Petrobras, denominado Mouse Espacial, \u00e9 mostrado esquematicamente na figura 1.3. \u00c9 um sistema que gera sinais de deslocamentos em coordenadas cartesianas no espa\u00e7o tridimensional, que s\u00e3o enviados a um microcomputador, a fim de controlar a posi\u00e7\u00e3o e orienta\u00e7\u00e3o do manipulador. A denomina\u00e7\u00e3o Mouse Espacial \u00e9 feita por analogia aos mouses bidimensionais tradicionalmente utilizados em microcomputadores. O sistema \u00e9 composto, basicamente, de manipulo, fios, molas e potenci\u00f3metros, cujos valores de tens\u00e3o chegam ao microcomputador atrav\u00e9s de uma porta serial. Estes valores, devidamente tratados, s\u00e3o transformados em posi\u00e7\u00e3o e orienta\u00e7\u00e3o do manipulo em rela\u00e7\u00e3o a um sistema de coordenadas X}.\\Yp, Zp, mostrado na mesma figura.\nFigura 1.3: Esquema do Mouse Espacial.\nO objetivo deste trabalho \u00e9 contribuir para a viabiliza\u00e7\u00e3o de um sistema \u2019\u2019inaster-slave\u201d mais eficiente e amig\u00e1vel de inicializa\u00e7\u00e3o instant\u00e2nea, ou melhor, bem mais r\u00e1pida que a atual, substituindo o mini manipulador \u2019\u2019master\u201d pelo Mouse Espacial acima descrito. Para isto, desenvolveremos uma interface de comunica\u00e7\u00e3o entre o Mouse Espacial e o manipulador Kraft, juntamente com um \u2019\u2019software\u20191 de opera\u00e7\u00e3o que permita ao usu\u00e1rio acessar facilmente todas as formas de comando do sistema. Este \u2019\u2019software\u201d \u00e9 constitu\u00eddo de telas gr\u00e1ficas com menus oferecendo op\u00e7\u00f5es para cada tipo de tarefa a ser executada. Constam atualmente nos menus algumas das tarefas t\u00edpicas solicitadas e utilizadas pela Petrobras, mas existe a possibilidade de ampliar o conjunto de fun\u00e7\u00f5es, na medida em que surjam novas demandas de tarefas.\nPara o desenvolvimento deste trabalho procuramos organizar um texto que contenha um estudo preliminar dos Fundamentos Matem\u00e1ticos das rela\u00e7\u00f5es geom\u00e9tricas e cinem\u00e1ticas dos manipuladores quanto \u00e0 sua orienta\u00e7\u00e3o, posicionamento e velovidade de resposta, a fim de que o usu\u00e1rio possa compreender melhor como utilizar o sistema e eventualmente desenvolver novas fun\u00e7\u00f5es para ampliar o menu principal. Este estudo est\u00e1 apresentado no cap\u00edtulo 2 - An\u00e1lise de Deslocamentos de Manipuladores Rob\u00f3ticos Industriais, onde s\u00e3o desenvolvidas express\u00f5es para as leis do seno, seno-cosseno e cosseno de pol\u00edgonos esf\u00e9ricos e polares, as quais s\u00e3o tamb\u00e9m aplic\u00e1veis aos manipuladores rob\u00f3ticos, e no cap\u00edtulo 3 ~ Modelagem, onde \u00e9 feita a adapta\u00e7\u00e3o das equa\u00e7\u00f5es encontradas no cap\u00edtulo 2 para o caso do manipulador Kraft.\nAp\u00f3s este estudo preliminar, apresentamos o desenvolvimento da interface proposta, descrita com detalhes no cap\u00edtulo 4 - Interface Homem-M\u00e1quina e, finalmente, os resultados obtidos e conclus\u00f5es, no cap\u00edtulo 5,\nCap\u00edtulo 2\nAn\u00e1lise de Deslocamento de Manipuladores Rob\u00f3ticos Industri\u00e1is\n2.1\tIntrodu\u00e7\u00e3o\nOs rob\u00f4s industriais s\u00e3o equipamentos multifuncionais reprogram\u00e1veis e oferecem grande flexibilidade de opera\u00e7\u00e3o. A programa\u00e7\u00e3o destes rob\u00f4s atualmente \u00e9 feita, na maioria das vezes, atrav\u00e9s de uma \u2019\u2019caixa de ensino\u201d, que \u00e9 usada de modo a conduzir o rob\u00f4 atrav\u00e9s das posi\u00e7\u00f5es cr\u00edticas do ciclo de opera\u00e7\u00e3o. As informa\u00e7\u00f5es sobre essas posi\u00e7\u00f5es s\u00e3o armazenadas numa unidade de mem\u00f3ria, possibilitando assim a repeti\u00e7\u00e3o do movimento original quantas vezes for necess\u00e1rio.\nA programa\u00e7\u00e3o por caixa de ensino tem duas grandes limita\u00e7\u00f5es: ela utiliza o rob\u00f4 no per\u00edodo da programa\u00e7\u00e3o - muitas vezes longos - quando ele poderia estar produzindo; e n\u00e3o permite um controle mais preciso sobre a trajet\u00f3ria da garra ou ferramenta de trabalho do manipulador rob\u00f3tico.\nA programa\u00e7\u00e3o \u201doff-line\u201d, por sua vez, n\u00e3o apresenta as duas limita\u00e7\u00f5es anteriores por ser realizada em um computador digital, utilizando-se apenas um modelo matem\u00e1tico. A tend\u00eancia \u00e9 de que esse tipo de programa\u00e7\u00e3o seja cada vez mais utilizado e, em se tratando de um rob\u00f4 \u2019\u2019inteligente\u201d (ou \u2019\u2019sensorial\u201d), a programa\u00e7\u00e3o \u201doff-line\u201d torna-se obrigat\u00f3ria.\n0 modelo matem\u00e1tico cont\u00e9m informa\u00e7\u00f5es sobre a geometria do sistema. Por isso, ele \u00e9 chamado de modelo cinem\u00e1tico. Se as velocidades e acelera\u00e7\u00f5es envolvidas no movimento do rob\u00f4 forem suficientemente altas, caracterizando uma classe de rob\u00f4s denominados rob\u00f4s de alto desempenho, a utiliza\u00e7\u00e3o de um modelo din\u00e2mico tamb\u00e9m se faz necess\u00e1ria para que se tenha uma opera\u00e7\u00e3o mais precisa e est\u00e1vel.\nApresenta-se, a seguir, uma metodologia para se chegar ao modelo cinem\u00e1tico de qualquer manipulador rob\u00f3tico industrial. Para se obter tal modelo, a malha aberta formada pelos elos e juntas do manipulador \u00e9 fechada acrescentando-se a ele mais uma junta e mais um elo imagin\u00e1rios, resultando em um mecanismo espacial que passa a servir de base para a deriva\u00e7\u00e3o do modelo\ncinem\u00e1tico desejado. Esta metodologia, apresentada neste cap\u00edtulo e no seguinte, \u00e9 baseada no trabalho de Duffy [4],\n2.2\tTrigonometria Esf\u00e9rica\n2.2.1\tDefini\u00e7\u00f5es\n\u2014\tPlano central - plano que passa pelo centro de uma esfera;\n\u2014\tGrande-c\u00edrculo - interse\u00e7\u00e3o de uma esfera com um plano central;\n\u2014\tPequeno-c\u00edrculo - interse\u00e7\u00e3o de uma esfera com um plano que n\u00e3o seja central;\n\u2014\tEsfera unit\u00e1ria - a que tem raio unit\u00e1rio. Nesta metodologia, a esfera considerada ser\u00e1 sempre unit\u00e1ria;\n\u2014\tEixo polar - reta orientada passando pelo centro de um pequeno ou grande c\u00edrculo e perpendicular ao plano deste c\u00edrculo;\n\u2014\tP\u00f3los - as duas interse\u00e7\u00f5es entre um eixo polar e uma esfera (figura 2.1). Para a metodologia apresentada, o p\u00f3lo P ser\u00e1 sempre o considerado.\nFigura 2.1: Eixo Polar e P\u00f3los\n2.2.2\tTri\u00e2ngulos Esf\u00e9ricos\n, #2 e $3 s\u00e3o considerados positivos quando orientados por uma rota\u00e7\u00e3o tipo parafuso pela m\u00e3o direita, em torno e nos sentidos dos versores S4, S_z e S3, respectivamente. Os eixos polares a12, n23 e 03!, perpendiculares aos planos centrais definidos respectivamente por e 52, S_2 e \u00a33, e e Sj, interceptam a esfera nos p\u00f3los 1\u2019, 2\u2019 e 3\u2019 e possuem orienta\u00e7\u00f5es definidas pelo produtos vetoriais entre 5, e formando assim um segundo tri\u00e2ngulo, denominado tri\u00e2ngulo polar, com lados 02 e #3 e \u00e2ngulos externos qi2, o23 e 0:31, os quais s\u00e3o considerados positivos quando orientados por uma rota\u00e7\u00e3o tipo parafuso pela m\u00e3o direita, em torno e no sentido dos eixos polares u12, n23 e respectivamente. Qualquer teorema v\u00e1lido para tri\u00e2ngulos esf\u00e9ricos valem tamb\u00e9m para os polares M-\nFigura 2.2: Tri\u00e2ngulos Esf\u00e9rico e Polar\nOs tri\u00e2ngulos 123 e 1\u201d2\u201d3\u201d (figura 2.3) cujos v\u00e9rtices s\u00e3o diametralmente opostos s\u00e3o chamados tri\u00e2ngulos anti-polares. Todos os elementos dos dois tri\u00e2ngulos s\u00e3o iguais mas eles n\u00e3o s\u00e3o congruentes, pois n\u00e3o podem se superpor um ao outro. Diz-se, portanto, que eles s\u00e3o \u2019\u2019simetricamente iguais\u201d ou \u2019\u2019inversos\u201d.\n\u00c9 correto concluir-se que dois tri\u00e2ngulos numa mesma esfera e com lados menores que tt s\u00e3o congruentes ou inversos quando se souber que tr\u00eas determinados elementos de um dos tri\u00e2ngulos s\u00e3o respectivamente iguais aos do outro. Tais elementos podem ser:\n\u2014\tDois lados e o \u00e2ngulo por eles formado;\n\u2014\tOs tr\u00eas lados;\n\u2014\tDois \u00e2ngulos e o lado a eles comum; ou\n\u2014 Os tr\u00eas \u00e2ngulos.\n12 = 1\"2\"\n23 = 2T\n31 = 3T'\nFigura 2.3: Tri\u00e2ngulos Anti-Polares\nE apropriado notar que o \u00faltimo caso n\u00e3o tem correspond\u00eancia na geometria plana.\n2.2.3\tAs Leis do Seno, Seno-cosseno e Cosseno para Tri\u00e2ngulos Esf\u00e9ricos\nConsidere um sistema de coordenadas cartesianas XYZ tal que X = a12 e, consequentemente, Z = Sx, visto que u12 \u00e9 perpendicular ao plano\tAs coordenadas dos v\u00e9rtices do\ntri\u00e2ngulo esf\u00e9rico da figura 2.4, neste sistema cartesiano, podem ser descritas em termos dos \u00e2ngulos Oi e &amp;ij como mostrado.\nSuponha que desejamos obter as coordenadas do v\u00e9rtice 3. Teremos, ent\u00e3o, as componentes S3x, S3y e S3- do vetor \u00a33, cujo m\u00f3dulo \u00e9 unit\u00e1rio (o v\u00e9rtice 3 pertence a uma esfera unit\u00e1ria) dadas na seguinte forma:\n$3x\t\u2014\t\u00ab31\t\u00ab1\n^3y\t\u2022=\t\u00ab31\tCl\t(2.1)\n$3z\t=\tC31\nonde \u201ds\u201d e \u201dc\u201d representam o seno e o cosseno, respectivamente, do \u00e2ngulo indicado pelo \u00edndice, ou seja, 031 ou Oi, E importante lembrar que o eixo X \u00e9 perpendicular ao plano definido por e S2.\nFigura 2.4: Tri\u00e2ngulo Esf\u00e9rico\nObviamente as componentes de S3 tamb\u00e9m podem ser expressas em fun\u00e7\u00e3o de 012, 02 e a23- (\u00c9 importante observar que o eixo Y est\u00e1 no plano definido por Sj e S2). P^a isso, posiciona-se um sistema xyz de coordenadas de modo que sua origem coincida com a origem \u201d0\u201d de XYZ, seu eixo \u201dz\u201d tenha o mesmo sentido de S3 e o eixo V tenha o mesmo sentido de S2 x S3. As proje\u00e7\u00f5es do vetor S3 nesse novo sistema s\u00e3o:\nS^x = 0\nS^y \u2014\t0\nSsz =\t1\nAplicando tr\u00eas rota\u00e7\u00f5es consecutivas ao sistema xyz pode-se faz\u00ea-lo coincidir com XYZ. Consideremos as seguintes rota\u00e7\u00f5es utilizando a regra da m\u00e3o direita, as quais s\u00e3o ilustradas na figura 2.5:\n-\tI - rota\u00e7\u00e3o de -a23 em torno de xz xyz xy'z' (figura 2.5 a b);\n-\tII - rota\u00e7\u00e3o de -#2 em torno de z\u2019: xy\u2018\u2019z'> \u2014>\u25a0 x^y^z' (figura 2.5 b \u2014 c);\n-\tIII - rota\u00e7\u00e3o de -o12 em torno de x\\ x'y\u201dz'\t= XYZ (figura 2.5 c - d).\n\n(C)\t(d)\nFigura 2.5: Obten\u00e7\u00e3o do Sistema XYZ a partir do Sistema xyz\nPortanto, as componentes do vetor no sistema XYZ s\u00e3o:\n' s3x \u2019\t\t' 1\t0\t0\t\t' c2\t-^2\t0 \u2018\t\t\" 1\t0\t0\t\t\u2019 0 \u2018\n\t\t0\tCl 2\t-512\t\t\u00ab2\t\u00ab2\t0\t\t0\t\u00ab23\t\u201c523\t\t0\n. &amp;\t\t. 0\t\u00bf12\t\u00ab12 .\t\t. 0\t0\t1 _\t\t. 0\t523\t\u00ab23\t\t. 1 _\nFazendo-se as multiplica\u00e7\u00f5es, obt\u00e9m-se:\n$3z\t=\t-$2332\n$3y\t~\t-~(<S12C23 + ^12^23^2)\n$3z\t=\t\u20ac12c23 ~~ -S12S23C2\n(2-2)\nIgualando-se a equa\u00e7\u00e3o 2.1 \u00e0 2.2, tem-se:\nYo =\u00bb\t^23^2 = $31\n53y => \"\u201c(312^23 + C12323C2) = 331^1\t(2.3)\n$3z =>\tC12C23 - 312323^2\t=\t<31\nque s\u00e3o as equa\u00e7\u00f5es do seno, seno-cosseno e cosseno, respectivamente. Essas equa\u00e7\u00f5es podem ser reescritas da seguinte forma:\nX2 = T\u00c7 = z% ~\n33131\n331 Cl\nC31\n(2.4)\nonde\n%2\t\u2014\t32332\ny2\t=\t\u2014 (si2c23 + C12323C2)\t(2.5)\nZ2\t=\tC12C23 \u2014 312323^2\nSe aplicarmos uma rota\u00e7\u00e3o de o12 no sistema XYZ (figura 2.4) em torno do eixo X, ent\u00e3o as coordenadas de S3 passam a ser, a partir das equa\u00e7\u00f5es 2.4:\n\u201c S3x \u201c\t\t' 1\t0\t0\t\t\t t\t\t\u2019 1\t0\t0\t\t33131\n\t\u2014\t0\t<12\t312\t\tr2\t\t0\tC12\t312\t\t331 Cl\n. $3; .\t\t_ 0\t\t<12 .\t\t\t\t. 0\t\u2014 312\t<12 .\t\t.\t<31\t.\nIntroduzindo-se as equa\u00e7\u00f5es 2.5 acima, resulta:\n$3x\t\u2014\t32332\t=\t331 \u00abi\n~^3y\t=\t323C2\t=\t\u2014 (312C31 + C12S31C1)\t(2.6)\n$3z\t~\t<23\t~\t<12<31 \u2014 312331C1\nou, rearranjando e pondo numa forma semelhante \u00e0 das equa\u00e7\u00f5es 2.4, tem-se:\n{ \u00a73x} => Yi \u2014\tS23S2\n{-^3y} Y1 =\t323C2\n{\t=> Zx =\tc23\n(2.7)\nonde:\nX1 =\t331^1\nY1 =\t\u2014(s12C31 + C12\u00d331C1)\nZx =\tC12C31 \u2014 312331C1\n(2.8)\nE fundamental observar que as barras em X2 , \u00a52 e Z2 nas equa\u00e7\u00f5es 2,5 indicam que no percurso do tri\u00e2ngulo esf\u00e9rico a partir de S3 em dire\u00e7\u00e3o ao eixo Z, passando por S2, a ordem dos v\u00e9rtices \u00e9 decrescente. Em contraposi\u00e7\u00e3o, Xj , Ei e Z\\ nap possuem as barras, pois a ordem dos v\u00e9rtices \u00e9 crescente no percurso de para Z (S2) que inclui\n2.2.4\tAs Leis do Seno, Seno-cosseno e Cosseno para Tri\u00e2ngulos Polares\nNa figura 2.6 v\u00ea-se o tri\u00e2ngulo polar correspondente ao tri\u00e2ngulo esf\u00e9rico da figura 2.4. Um sistema UVW de coordenadas \u00e9 fixado ao tri\u00e2ngulo polar de maneira que W h a12 eU = Si. Portanto, tem-se tamb\u00e9m U = Z, V = -Y e W = X.\nComo o posicionamento do sistema UVW \u00e9 equivalente ao posicionamento de XYZ para as equa\u00e7\u00f5es 2.7 e 2.8, fica f\u00e1cil escrever as equa\u00e7\u00f5es do seno, sen o-cosseno e cosseno para o tri\u00e2ngulo polar:\n\t{\u00ab23u} {\u201c\u00ab23V} {\u00ab23 H'}\t\tC31 V31 W31\t=\tS2S12 ~ \u00ab2^12 = C2\t(~ \u00ab23Z) (- a23y) (= G23X)\t(2-9)\nonde:\t\t\t\t\t\t\nU31\t\u2014\t53531\nV31\t=\t-~(5ic3 + C1S3C31)\t(2.10)\nW31\t=\tcjc3 - S1S3C31\n\u00c9 importante notar que os alfas e os tetas foram intercambiados no tri\u00e2ngulo polar e que os \u00edndices de U, V e W s\u00e3o formados por dois algarismos, tornando-se, assim, desnecess\u00e1ria a utiliza\u00e7\u00e3o de barras, uma vez que a ordem dos v\u00e9rtices j\u00e1 est\u00e1 expl\u00edcita nos pr\u00f3prios \u00edndices. (Os \u00edndices procuram indicar a presen\u00e7a dos respectivos tetas na express\u00e3o: A'i , Ei e Zj t\u00eam ; V31 e W31 t\u00eam $3 e #1 ; \u00ed/3i foge parcialmente \u00e0 regra e s\u00f3 cont\u00e9m 03).\n2.2.5\tAlgumas Propriedades dos Tri\u00e1ngulos Esf\u00e9ricos e Polares\nPara tri\u00e2ngulos esf\u00e9ricos com 0&lt;\t, ij = 12, 23, 31, s\u00e3o v\u00e1lidas as seguintes\ndesigualdades:\nFigura 2.6: Tri\u00e2ngulo Polar\n<*12\t+\t<*23\t>\t<*31\n<*23\t+\t<*31\t>\t<*12\n\u00ab12\t+\t<*31\t>\t<*23\n(2.11)\nEm outras palavras, a soma de dois lados quaisquer \u00e9 sempre maior que o terceiro se 0&lt;\t&lt;7r.\nOutra propriedade indica que a soma dos tr\u00eas lados \u00e9 menor que 2tt, ou seja:\n&lt;2?r ;\t= 12,23,31\nn (2.12)\n0 &lt;aij &lt;r\t7\nNaturalmente essas propriedades se aplicam de forma equivalente aos tri\u00e2ngulos polares.\nUma vez que aqui os tri\u00e2ngulos s\u00e3o sempre formados em esferas unit\u00e1rias, tem-se que:\nx22 + y2 +\t= 1\ne, similarmente,\n&lt;+ c\u00e1 + W3\\ = 1\nDe acordo com a nota\u00e7\u00e3o que est\u00e1 sendo usada, temos:\n^2 \u2014 C23C12 \u2014 ^23'512c2\n(2.15)\ne, comparando-se as equa\u00e7\u00f5es 2.15 e 2.5, pode-se concluir que:\nZ2 = Z2\n(2.16)\nA nota\u00e7\u00e3o utilizada tamb\u00e9m permite escrever:\nW13 = c3ci ~ S3S1 Cu\ne, comparando-se as equa\u00e7\u00f5es 2.17 e 2.10, tem-se que:\n2.2.6 Equa\u00e7\u00f5es para o Quadril\u00e1tero Esf\u00e9rico\nA figura 2.7 ilustra um quadril\u00e1tero esf\u00e9rico subdividido nos tri\u00e2ngulos 124 e 234. Para o primeiro tri\u00e2ngulo, pode-se escrever, por analogia \u00e0s equa\u00e7\u00f5es obtidas para o tri\u00e2ngulo esf\u00e9rico (2.3), que:\ns42^2'\t\u2014\t'\"11 \u25a0\u2018il\n-(\u25a0$12^42 + C12S42C2')\t=\t^4iCl\nC12C42 - S12S42C2'\t=\tC41\ne para o tri\u00e2ngulo 234, por analogia \u00e1s equa\u00e7\u00f5es 2.4, temos:\n(2.19)\n^3\t-\t542-S2\u201d\n5\t=\t\u00f342Cr\t(2-2\u00b0)\nz^\t~\tC42\nA partir da figura 2.7, pode-se concluir que x - 0'2 = 0\u20192 ~ 02. Portanto,\ns2> ~\nc2> =\n(52\u201dc2 \u2014 ^2\u201d52);\n\u2122(c2\u201dC2 + S2\u201d32)\nSubstituindo 2.21 em 2.19 e reagrupando os termos, obt\u00e9m-se:\n(342^2\u201d )<^2 \u201c (\u00ab42C2\u201d)S2\t=\nc12 {(^42^2\u201d )$2 + (^42C2\u2019\u2019)C2} ~~ ^12^42\t=\n312 {(^4232\u201d )\u00f32 + (C42C2\u201d)C2} + \u00bf12^42\t\u2014\n341^1\n\u00ab41^1\nC41\n(2.22)\nW3I = W13\nSubstituindo 2.20 em 2.22, tem-se:\nFigura 2.7: Quadril\u00e1tero Esf\u00e9rico\n^3C2 \u2014 ^3^2\t=\nC12(^3^2 + I3C2) ~~ \u00ab12^3\t=\t\u00ab41cl\n^12(^3^2 + I3C2) + Cj2^3\t=\tC41\nque s\u00e3o as equa\u00e7\u00f5es do seno, seno-cosseno e cosseno para o quadril\u00e1tero esf\u00e9rico, as quais podem ser expressas da seguinte forma:\n{^4r}\t=>\tA32\t=\tS4161\n{S4jJ\t=>\tI32\t=\t*541 Cj\n\u00ed^4z}\t^32\t=\t^41\nComo est\u00e1 indicado, essas equa\u00e7\u00f5es representam as coordenadas do vetor S4 no sistema XYZ. \u00c9 importante enfatizar que X32, I32 \u00ca ^32 s\u00e3o apenas uma representa\u00e7\u00e3o abreviada das express\u00f5es do lado esquerdo das equa\u00e7\u00f5es 2.23.\nConv\u00e9m observar que:\nX3 -\n>3 =\n\u00bf3 =\n^34 53\n\u201c(^23^34 + C23534C3)\nC23C34 \u2014 ^23^34^3\ne tamb\u00e9m:\nX322 + *\u00a3 + Z322 = 1\nZ32\t==\t^23\n2.2.7\tEqua\u00e7\u00f5es para o Pol\u00edgono Esf\u00e9rico de n Lados\nEstabelecendo o procedimento da se\u00e7\u00e3o anterior para o pol\u00edgono esf\u00e9rico de n lados da figura 2.8, tem-se as seguinte equa\u00e7\u00e3o do seno, seno-cosseno e cosseno:\n{\u25a0Sw}\t=>\t-^(n-l)(n-2)...2\t~\tsnl^l\n=>\tF(n\u2014l)(n\u20142J...2\t~\t5nl C1\n{^nz}\t=>\u2022\t^(n-l)(n-2)...2\t~\tcnl\nFigura 2.8: Pol\u00edgono Esf\u00e9rico de n Lados\n0 desdobramento do lado esquerdo dessas equa\u00e7\u00f5es d\u00e1-se da seguinte forma:\n-^(n-l)(n~2)...2 = ^(n-l)(n-2)...3 c2 ~ P(n-l)(n-2)...3 52\n^(n\u2014l)(n\u20142)...3 \u201c -^(n\u2014l)(n\u20142)...4 ^3 ~\tl)(n\u20142)...4 ^3\n...etc\nP(n-l)(n-2)...2 \u2014\tc12(^(n-l)(n-2)...3 $2 + P(n-l)(n-2)...3&lt;-2)\t'$12^(n-l)(n-2)...3\nP(n-l)(n-2)...3 = c23(-^(n-l)(n-2)...4 53 + P(n-l)(n~2)...4 c3) \u201c ^23^(n-l)(n-2)...4\n..... etc\n^(n-l)(n-2)...2 \u2014 s12(X(n- 1 )(n-2)...3 5 2 + ^(n-l)(n-2)...3 c2) + c12^(n-l)(n-2)...3 ^(n~l)(n\u20142J...3 ~ \u00ab23(X(\u201e_1j^n_2j 4 s3 + Y(n_i)(n-2)...4 c3) + c23^(n-l)(n-2)...4 ..... etc\ne, finalmente:\nA\"(n\u20141)\t=\t^(n\u2014l)n 5(n\u20141)\n'\"('s(n\u201d-2)(n\u20141) c(n\u2014l)n d\u201d c(n\u20142)(n\u20141) ^(n\u2014l)n \u00a3(n\u20141)) ^(n~l)\t\u00a3(n\u20142)(n\u20141) ^(n\u2014l)n\t^(n\u20142)(n\u20141) ^(n\u2014l)n ^(n\u20141)\n2.2.8\tEqua\u00e7\u00f5es Subsidi\u00e1rias do Pol\u00edgono Esf\u00e9rico de n Lados\nAs igualdades 2.25, que s\u00e3o as equa\u00e7\u00f5es do seno, seno-cosseno e cosseno do pol\u00edgono esf\u00e9rico de n lados e tamb\u00e9m chamadas de equa\u00e7\u00f5es fundamentais, representam as coordenadas do vetor S_n no sistema XYZ com eixo Z no sentido de Sj e eixo X no sentido de a12. Aplicando-se uma rota\u00e7\u00e3o de cq2 em torno do eixo X no sistema XYZ obt\u00e9m-se as equa\u00e7\u00f5es subsidi\u00e1rias 1, que representam as coordenadas de Sj no novo sistema de coordenadas. Aplicando-se uma segunda rota\u00e7\u00e3o de 02 em torno do eixo Z, obt\u00e9m-se as equa\u00e7\u00f5es subsidi\u00e1rias 2. Uma rota\u00e7\u00e3o seguinte de Q'23 em torno de X conduz \u00e0s equa\u00e7\u00f5es subsidi\u00e1rias 3, e assim por diante, at\u00e9 chegar-se ao conjunto de equa\u00e7\u00f5es subsidi\u00e1rias (2n \u2014 1). Os quatro primeiros conjuntos de equa\u00e7\u00f5es subsidi\u00e1rias s\u00e3o:\n\u2014 Conjunto 1 (ap\u00f3s a rota\u00e7\u00e3o de Oj2)\t\t\n\u2022tr A (n\u2014l)(n~2)..,2\t\u2014\t\t\n^(*n-l)(n-2)...2\t=\t-Kr\t(2.26)\n^(n-l)(n-2)...3\t~\tZi\t\n\u2014 Conjunto 2 (ap\u00f3s as rota\u00e7\u00f5es de a12 e 02)\t\t\n^(n-l)(n-2)...3\t=\tX12\t\nY(n-l)(n\u20142)...3\t=\tv*\t(2.27)\n^(n-l)(n-2)...3\t=\t\t\n\u2014 Conjunto 3 (ap\u00f3s a rota\u00e7\u00f5es de cq2 , #2 e 023)\t\t\n-X(n\u2014l)(n-2)...3\t\u201c\tx12\t\n^(n\u2014l)(n\u20142)...3\t\u2122bi2\t(2.28)\n^(n-l)(n-2)...4\t\u201c\tZ12\t\n\u2014 Conjunto 4 (ap\u00f3s a rota\u00e7\u00f5es de oj2 , #2 \u2022> \u00ab23 e #3)\t\t\n-^(n-l)(n~2)...4\t=\t-X123\t\n^(n-l)(n\u21222)...4\t=\tV* _yV123\t(2.29)\nl)(n\u20142)...4\t=\t^12\t\nonde\nXi2 = Xi\u00f32 + Y1C2 , e assim por diante.\nA figura 2.9 mostra os sete conjuntos de equa\u00e7\u00f5es subsidi\u00e1rias e o conjunto de equa\u00e7\u00f5es fundamentais para o quadril\u00e1tero esf\u00e9rico.\n\tFUNDAMENTAIS\t\tSUBS. 4\n\tX\t\tz\n\tXJ!=s.,s,(=X,)\t\t0 \u2014 X ia\n\tj Xj2 =S41CS ( = -XJ\t\t\n\t7 2 \u2122\t\u00a1Vi\tJ 2\n\tZ32=C41\t\tv34 = Zj 12\nz\t\t\t\n\t\t\tX\n\tSUBS. 1\t\tSUBS. 5\nXj\t\tz\t\n\t~~~>3 X32=Xj\tK\t^>3\t0 \u201d X 123\n[\t\\\tx;2=-y5\tb\t0 \u00ab Y123\n\triri/i ~\t\t__ri2\n\tx z3 =z,\t\t1\t= ^123\n\tz\t\u00ed\tX\n\tSUBS. 2\t\tSUBS. 6\n\t\t\tz\t\n\tx,= XB\tK\t,\tx32,= o\n\tx 1 y3 ~-x;2\t\t4-x\tYs21_0\nA\trix2 \u201c\t\u2122\t1\tJ 2\n\t\\ Z3 = Z3\t\tz32I\u00ab 1\n\tz\t\t\n\tSUBS. 3\t\tSUBS. 7\n-\tri (X=) S,\u201es .= X\u201e\t\tXM1= 0\nri-\t|\t(Xj~) ~ S34C3\tYj2\t(z\t\u201dr*x\tX32 -\niV\t\t\t-ri2\n\tC\"= z,2\t\tZ32 - C4!\n\t\tz\t\nObs.: Os n\u00fameros 1,2,3 e 4 nos v\u00e9rtices dos quadril\u00e1teros indicam a localiza\u00e7\u00e3o de\nFigura 2.9: Quadril\u00e1tero Esf\u00e9rico: Equa\u00e7\u00f5es Fundamentais e Subsidi\u00e1rias\n2.2.9\tEqua\u00e7\u00f5es para o Quadril\u00e1tero Polar\nO quadril\u00e1tero polar da figura 2.10 foi obtido a partir do quadril\u00e1tero esf\u00e9rico da figura 2.7. A posi\u00e7\u00e3o do sistema de coordenadas UVW \u00e9 determinada de maneira que U = Z, V = -Y e W ~ X. Atrav\u00e9s de um procedimento an\u00e1logo ao utilizado na se\u00e7\u00e3o 2.2.6 para o quadril\u00e1tero esf\u00e9rico,\npode-se chegar \u00e0s seguintes equa\u00e7\u00f5es de seno, seno-cosseno e cosseno para o quadril\u00e1tero polar da figura 2.10:\n^321\t\u2014\t54\tS41\ny32i\t=\t54\tC41\nW32l\t-\tC4\n(2.30)\nonde,\nfel\t=\tU32\tC12 \u2014 ^32\t512\nV32I\t=\t\u20ac1(^32\t^12 + V32\tC12)\t-&lt;\u00a71\tW32\t(2.31)\nW321\t=\t31(1732\t312 + V32\tC12)\t+ Ci\tH'32\n\u00ca importante entender que as equa\u00e7\u00f5es (2.30) representam as componentes do vetor n34 no sistema de coordenadas obtido pela rota\u00e7\u00e3o de UVW de -#1 em torno de U, de modo que o eixo W passe a coincidir com .\nFigura 2.10: Quadril\u00e1tero Polar\n2.2.10\tEqua\u00e7\u00f5es para o Pol\u00edgono Polar de n Lados\nPor indu\u00e7\u00e3o, a partir da equa\u00e7\u00e3o (2.30), pode-se chegar \u00e0s seguintes equa\u00e7\u00f5es do seno, seno-cosseno e cosseno para o pol\u00edgono polar de n lados mostrado na figura 2.11:\n\u00ed^(n\u2014l)(n\u20142)...l\t= sn 3ni\n^(n\u2014l)(n\u20142)...l\t\u2014\tCni\nl)(n\u20142)...l\t\u201c Cn\n(2.32)\nonde,\n^(n-l)(n-2)...l\t=\t^(n-l)(n-2)..,2\tc12\tP(n-l)(n-2)...2\t512\nP(n-1 )(n-2)...l\t=\tCl(P(n-l)(n~2)...2\t-$12\t+\tV(n-l)(n-2)...2\tc12) ~ ^1\tWZ(n-l)(n-2)...2\t(2.33)\nW(n-l)(n-2)...l\t=\tSl(P(n-l)(n-2)...2\t512\t+\tP(n-l)(n~2)...2\tc12) + Cl\t^(n-l)(n-2)...2\nsendo que ambos os lados de (2.32) correspondem \u00e0s componentes do vetor\tno sistema\nUVW da figura 2.11 rotacionado de ~&amp;i em torno de U, de modo que o eixo W coincida com anl.\nFigura 2.11: Pol\u00edgono Polar de n Lados\n2.2.11\tEqua\u00e7\u00f5es Subsidi\u00e1rias do Pol\u00edgono Polar de n Lados\nDe forma semelhante \u00e0 descrita na se\u00e7\u00e3o 2.2.8 para pol\u00edgonos esf\u00e9ricos, \u00e9 poss\u00edvel obter-se as equa\u00e7\u00f5es subsidi\u00e1rias para o pohgono polar de n lados atrav\u00e9s de rota\u00e7\u00f5es sucessivas do sistema UVW. Os quatro primeiros conjuntos s\u00e3o:\n\u2014 Conjunto 1 (ap\u00f3s a rota\u00e7\u00e3o de 0\u00c7\nW(n-1 )(r\u00a1 \u20142J...2\t=\nUm\n-Vm\n(2.34)\n\u2014\tConjunto 2 (ap\u00f3s as rota\u00e7\u00f5es de 0y e oi2)\n^(n-l)(n-2)...2\t\u2122\t^nl2\nV(n-l)(n-2)...2\t=\t~^nl2\nW(n-l)(n~2)..,2\t~\tWnl\n\u2014\tConjunto 3 (ap\u00f3s as rota\u00e7\u00f5es de 0-[, 03 2 e 02)\nU(n~l)(n \u2014 2)...2\t\u2014\tUn\\2\n^(n-l)(n-2)...2\t=\t~^nl2\nWZ(n-l)(n\u21222)...3\t~\tWnl2\n(2.35)\n(2.36)\n- Conjunto 4 (ap\u00f3s as rota\u00e7\u00f5es de o12, #2 e o23)\nU(n-l)(n-2)...3\t~~\n^(n-l)(n-2)...3\t=\nW(n-1)(\u201e-2)...3\t-\nb7nl23\n~^nl23\nWm2\n(2.37)\nonde,\n^(n-l)(n-2).\u201e2 ^12 + ^(n~l)(7\u00ed-2)...2 c32 Um$\\2 + Vnlci2 , e assim por diante.\nNa figura 2.12 est\u00e3o apresentadas as equa\u00e7\u00f5es fundamentais e subsidi\u00e1rias dril\u00e1tero polar.\npara o qua-\nObs.: Os n\u00fameros 1,2, 3 e 4 nos v\u00e9rtices dos quadril\u00e1teros indicam a localiza\u00e7\u00e3o de\n6\ne\nFigura 2.12: Quadril\u00e1tero Polar: Equa\u00e7\u00f5es Fundamentais e Subsidi\u00e1rias\n2.3\tPol\u00edgonos Espaciais\n2.3.1\tEqua\u00e7\u00e3o de Malha Fechada para Pol\u00edgonos Espaciais Ortogonais\nNa figura 2.13 v\u00ea-se um pol\u00edgono espacial ortogonal com n lados (n12, a23,anl) e n excentricidades (5i,52, ...,5n), sendo que os vetores e 5, associados aos lados e excentricidades desse pol\u00edgono s\u00e3o os mesmos vetores dos pol\u00edgonos polar e esf\u00e9rico de n lados. Esse pol\u00edgono \u00e9 dito ortogonal porque uma excentricidade e um lado adjacentes s\u00e3o perpendiculares entre si. Como os \u00e2ngulos cris e $'s s\u00e3o os mesmos dos pol\u00edgonos esf\u00e9rico e polar correspondentes, as equa\u00e7\u00f5es v\u00e1lidas para esses pol\u00edgonos s\u00e3o tamb\u00e9m v\u00e1lidas para o pol\u00edgono espacial ortogonal.\nFigura 2.13: Pol\u00edgono Espacial Ortogonal com n Lados\nA equa\u00e7\u00e3o de malha fechada para o pol\u00edgono espacial da figura 2.13 \u00e9 a seguinte:\n(\u2018S'l *\u00a31 + $2 S_2 + -\u2022 + $n \u00bfn) +\n(\u00ab12 \u00ab12 + \u00ab23 \u00ab23 + ... +\t+ anl \u00dcnl)\t== 0\n(2.38)\nOs cossenos diretores dos vetores unit\u00e1rios da equa\u00e7\u00e3o 2.38 para alguns pol\u00edgonos s\u00e3o mostradas a seguir:\n\u2014 Tri\u00e2ngulo Espacial (n=3) - (o,o,i)\nS2 ~\t(0 , -\u00ab12 , C12)\n\u00a33 = (T2, F2, Z2)\n\u00ab12 = (1,0,0)\n\u00ab23\t\u2014\t(c2 , \u2014 U21 , ^21)\n\u00ab31 = (\u00ab1 , \u2014\u2022$] , 0)\nQuad\tril\u00e1tero Espacial (n=4)\t\t\n\u00a31\t= (0,0,1)\t\u201412\t= (1,0,0)\nS-2\t= (0 , -\u00cd12 , C12)\t^23\t= (c2, -v2i , e21)\n\t= (X2, y2 , Z2)\t\u00ab34\t=\t(1^32 , ~U3n , \u00a31321)\nS4\t= (X32, y32, Z32)\t\u00ab41\t= (\u00ab1 , -\u00ab1 , 0)\n\u2014 Pent\u00e1gono Espacial (n=5)\n= (0,0,1)\n^2\t_ (Q , \u2014 6]2 , C12)\n\u00a33 = (X2, y2, Z2)\n\u00a34 = (^32, r32, z32) S5 \u2014\t(^432 , ^432 , Z432)\n\u00ab12 = (1,0, 0)\n\u00ab23\t\u2122\t(c2 , -#21 > ^21)\n\u00a334\t=\t(WZ32 , \u201417321 , 1/321)\n\u00ab45\t=\t(1^432 , ~^4321 , ^4321)\n\u00ab51\t=\t(C1 , \u201451 , 0)\nonde 1/21 = \u201c62 \u00ab12 e Z/2i = s2 $21-\nComo a equa\u00e7\u00e3o 2.38 \u00e9 vetorial, pode ser desdobrada em tr\u00eas equa\u00e7\u00f5es alg\u00e9bricas.\n2.3.2\tCadeia Espacial Ortogonal Aberta\nA cadeia da figura 2.14 foi obtida removendo-se o lado anl e a excentricidade Sn do pol\u00edgono espacial da figura 2.13. O vetor posi\u00e7\u00e3o R^n^n da extremidade pode ser expresso por:\n-\t(\u00a31\t\u00a311)\u00a31 + S2 S_2 +...+ \u00a3(n-l)\t+\t(2 39)\n+ \u00ab12 \u00ab12 + \u00ab23 \u00ab23 + \u2022\u2022\u2022 + \u00ab(n-l)n \u00ab(n-l)n\nA raz\u00e3o da introdu\u00e7\u00e3o de Sn ficar\u00e1 clara posteriormente. A equa\u00e7\u00e3o vetorial 2.39 tamb\u00e9m pode ser desdobrada em tr\u00eas equa\u00e7\u00f5es alg\u00e9brica\nFigura 2.14: Cadeia Espacial Ortogonal Aberta\n2.3.3\tEqua\u00e7\u00f5es Secund\u00e1rias para Pol\u00edgonos Espaciais\nAs equa\u00e7\u00f5es secund\u00e1rias do seno, seno-cosseno e cosseno para pol\u00edgonos espaciais representam, respectivamente, os momentos em rela\u00e7\u00e3o aos eixos X, Y e Z da reta orientada definida por qualquer uma das excentricidades. Aqui interessam apenas as equa\u00e7\u00f5es secund\u00e1rias do cosseno, as quais s\u00e3o muito importantes para a deriva\u00e7\u00e3o das equa\u00e7\u00f5es de entrada-sa\u00edda para a grande maioria dos mecanismos espaciais.\nConsiderando-se o momento em rela\u00e7\u00e3o ao eixo Z da reta que cont\u00e9m a excentricidade definida por no tri\u00e2ngulo espacial da figura 2.15, tem-se:\n\n(-SlSi \u2122 031 O31)x\u00a33-\u00e0\n\u00abSl\u00ed&amp;X^).* + 031 (\u00a33X031). i\nFigura 2,15: Tri\u00e2ngulo Espacial\nOs coeficientes de S} e 031 na equa\u00e7\u00e3o 2,40 podem ser calculados da seguinte forma: t(Si) - (Xj , -X* , cai) x (0,0,1) . (0,0,1) = 0 ;\nPara o c\u00e1lculo de r(a31) \u00e9 conveniente utilizar um novo sistema X\u2019Y\u2019Z\u2019 de coordenadas\ncujo eixo Z\u2019 seja paralelo a Z e 5beo eixo X\u2019 seja paralelo a o31. Assim, tem-se:\n^(\u00ab31)\t=\tx\t. (\u00bf)x'Y'Z' =\n=\t(0 , s31 , c31) x (1 , 0 , 0) . (0,0,1) = -s31\nPortanto, a equa\u00e7\u00e3o 2.40 resume-se a:\nO momento expresso pela equa\u00e7\u00e3o 2.40 tamb\u00e9m pode ser calculado da seguinte forma:\nZj2x\u00bf3\u2018\u2014 \u2014\t(\u00ab12 \u00ab12 4~ S2S.2 d\" tt23 \u00ab23)x^3*^\n~\t\u00ab12(\u00ae12x^3)'\u00bf + ^(^xSg).^ + \u00ab23(\u00ab23x^3)-j&amp;\nonde r(a12) = (1 , 0,0) x (X2 , Y2 , Z2) . (0 , 0 , 1) = K2\nPara o c\u00e1lculo de r(S2) \u00e9 conveniente utilizar um sistema X\u2019Y\u2019Z\u2019 cujo eixo Z\u2019 seja paralelo a 52 eo eixo X\u2019 seja paralelo aq12. Desta forma, tem-se:\nt(52) = (0,0,1)x (X2 , X2 , \u20ac23) \u25a0 (0 , ^12 , C12) = Si2 X2\nPara o c\u00e1lculo de t(\u00ab23) o sistema X\u2019Y\u2019Z\u2019 a ser utilizado tem o eixo Z\u2019 paralelo a 53 e o eixo X\u2019 paralelo a 023- Assim, obt\u00e9m-se:\nr(a23) = (1 , 0 , 0) x (0,0,1) . (X2 , ~Y2 , Z2) = Y2\nA equa\u00e7\u00e3o 2.42 resume-se agora a:\nr.2x^3\u2018k \u2014 \u00ab12 Y2 + S2 5j2 X2~ + \u00ab23 Y2 \u2014 Zo2\nIgualando-se as equa\u00e7\u00f5es 2.41 e 2.43 chega-se \u00e0 seguinte equa\u00e7\u00e3o secund\u00e1ria do cosseno:\n-^02 \u2014 \u2014\u00ab31 531\n\u00c9 oportuno ressaltar que Z02 = Zo2- De forma geral, \u00e9 \u00f3bvio que:\nZopqr...\nZo..,rqp\nDeve ser tamb\u00e9m observado o fato de que para o c\u00e1lculo de um coeficiente h\u00e1, geralmente, duas posi\u00e7\u00f5es convenientes para o sistema X\u2019Y\u2019Z\u2019, podendo-se, portanto, obter duas express\u00f5es distintas para o coeficiente. Por exemplo, se para o c\u00e1lculo de r(S2) o eixo X\u2019 for paralelo a \u00ab23, ao inv\u00e9s de q12, tem-se:\nt(52) - (0,0 , 1) x (0 , -s23 , c23) \u2022 (X2 , -X2* , c12) = s23 X2\nDeve ficar claro, no entanto, que s23 X2 = 612 X2.\nO procedimento para encontrar as equa\u00e7\u00f5es 2.41 e 2.43 pode ser igualmente aplicado a qualquer pol\u00edgono espacial ortogonal. \u00c9 \u00fatil saber que o n\u00famero de termos principais nas express\u00f5es dos momentos \u00e9 sempre \u00edmpar e que estes termos obedecem certa simetria em rela\u00e7\u00e3o ao termo central. Este fato facilita bastante a deriva\u00e7\u00e3o de express\u00f5es de momento mais complexas e pode ser observado na igualdade 2.43, onde u12 Y2 \u00e9 sim\u00e9trico de \u00ab23 Y2 em rela\u00e7\u00e3o a S2.\n2.3.4\tTri\u00e2ngulo Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno\nPara o tri\u00e2ngulo espacial da figura 2.15, com a excentricidade Si no eixo Z, pode-se obter duas equa\u00e7\u00f5es secund\u00e1rias do cosseno: uma delas considera o momento da excentricidade 82 em rela\u00e7\u00e3o a Z, e a outra refere-se ao momento da excentricidade S3. Esta \u00faltima, conforme demonstrado anteriormente, \u00e9 a seguinte:\n(2.46)\ne a outra, que considera o momento da excentricidade 82, tem a seguinte forma:\nZ^o3 \u2014 \u201c Cl 12 \u00ae \u00a12\nonde. Zro ~a31 Y3 4- S3 s 31X34*^223^3\nAs igualdades 2.47 s\u00e3o muito semelhantes \u00e0s igualdades 2.46. De fato, elas diferem apenas pelos \u00edndices. Para os pol\u00edgonos nas pr\u00f3ximas se\u00e7\u00f5es, apenas algumas equa\u00e7\u00f5es secund\u00e1rias do cosseno ser\u00e3o mostradas.\n2.3.5\tQuadril\u00e1tero Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno\nConsiderando-se o momento da excentricidade S3, tem-se:\n7\t= 7\n^04\t^02\nonde. ZM = ci41Y4 4- S4 S43X44-CI34Y4\ne = Y2 4* S2 S \u00a12X 24~ O23Y2\n(2.48)\nConsiderando-se, agora, o momento da excentricidade 84. tem-se:\nS41\nonde. Z \u2014 12 Y32 S 2 s j2 X 32 4~\n+ aB (c ,2Y3 + x; Z3) +\n+ CI34Y23 4* S3 S34X 23\nPode-se observar na \u00faltima igualdade de 2.49 a simetria entre os dois primeiros e os dois \u00faltimos termos em rela\u00e7\u00e3o ao termo central referente as lado a.23.\n2.3.6\tPent\u00e1gono Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno\n3\tonde: Zw32~~ c*J2Y43:3+ S2Sj2X432+\t(c\u00a12 Y434-X2 Z43)\n- s3 (x2x:3+y2 x43) +\n4- CI45Y234+S4 S45X 234+ ^34 (C45 Yzj 4- X 4 Z ,3)\nOutra equa\u00e7\u00e3o secund\u00e1ria do cosseno pode so:\n4\n05 \u2014 ^032\u201d ^]2Yj24S2 Si2X32 4-\n+ a23(c32Y3 + x;Z3) +\n+ ^*34X23 4 S3 S34X23\nonde. Z\u00fc5 \u2014 d5] y5 4-S3 S51X54'a45Y5\n(2.51)\n2.3,7\tHex\u00e1gono Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno\nZ\n05432\"\n^61 $\u00a161\nonde: Z05432\u2014o 12Y5432+S2 s 12X5432+Y543+X2 Z543)\n- S3 (X2X\u00ab+Y2Xm)\n+ aM(Z 2 Ym+X\u00e3Z 54)\n- S4 (X.XJa+Y, X\u201e)\n+ ^6 Y2345+S 5 850X2345+ ^45(^50 Y234+X5 Z 2J4,\n(2.52)\nA equa\u00e7\u00e3o resultante quando o momento da excentricidade S5 \u00e9 considerado \u00e9 o seguinte:\nonde: ZKi \u2014 cj6;Y6 + S6 sfc;Xfi+\n(2.53)\n2.3.8\tHept\u00e1gono Espacial: Equa\u00e7\u00f5es Secund\u00e1rias do Cosseno\nAs seis equa\u00e7\u00f5es secund\u00e1rias do cosseno podem ser obtidas para o hept\u00e1gono espacial quando o eixo Z \u00e9 mantido fixo \u00e0 excentricidade Si, s\u00e3o apresentadas a seguir.\n\u2014 Momento da excentricidade S7:\n^'065432==~ G71 873\n065432\n- S3 (X2 X 6543 +Y2 X&lt;5543 ) + C\u00c74 (Z 2X54+ X 23 Z ,554)\n- S4 ( X 23X \u00a154+Y23 X 654 )\n\u2014 Momento da excentricidade S&amp;:\nonde: Z07 \u2014 o71 Y7 4- S7 S7iX74\u00bbafi7Y7\n(2.55)\n- Momento da excentricidade S$:\nonde: Z^., = o71Ygz + 87871X57\n+ ^(0,, y6 +x;z6)\n4- ^sfiY^ 4- Sg 855X76\n(2.56)\nMomento da excentricidade S4:\n+\u25a0 O23 (c 12Y3 4 X2 Z3) 4\n4- a^Ya 4- 83 S 34X23\nonde. ZG5(^ = q7j Y^-4 S7 S7lX567 4- ^37(c7j Y56 4X7 Z%)\n- S6 (XX+Y; XJ +\n\u2014 Momento da excentricidade S3:\n~ Z\n04567\t02\n- S6 (X7 X 456+Y7 X456)\n+ a56(Z7 y45+x;6z45)\n\u2014 ^*71 Y4567+ S7X 4567 +^6?(C7] Y4564- X 7 Z456)\n+ Pj4Y7654 +S41X7654+ Cl4S ( C34 Y765 + X4 Z765)\ne: ZO2=a32Y2 + S2s32X2+a^Y2\n(2.58)\n\u2014 Momento da excentricidade S2:\nZ 034567-----ai2S12\n2.4\tManipuladores Rob\u00f3ticos\nA figura 2.16 ilustra um manipulador rob\u00f3tico cujas juntas s\u00e3o movimentadas por atu-adores, sendo que cada atuador controla e aciona um grau de liberdade em um par cinem\u00e1tico. A mobilidade M ou o n\u00famero de graus de liberdade (g.d.l.) da garra em rela\u00e7\u00e3o \u00e0 base \u00e9 igual \u00e0 soma dos g.d.l. de todas as juntas.\nPara que a garra possa ser posicionada de forma arbitr\u00e1ria no espa\u00e7o, \u00e9 necess\u00e1rio que M seja, no m\u00ednimo, igual a seis. Existem manipuladores com M &lt;6 e outros com M > 6. Os com M &lt;6 possuem uma capacidade de movimenta\u00e7\u00e3o limitada. Por exemplo, o manipulador pode ser capaz apenas de realizar movimentos coplanares com a garra (M \u2014 3). O n\u00famero de graus de liberdade extras dos manipuladores com M > 6 pode ser chamado de manobrabilidade, uma vez que eles d\u00e3o ao manipulador uma maior capacidade para evitar obst\u00e1culos.\nFigura 2.16: Manipulador Gen\u00e9rico\nA capacidade de abrir e fechar a garra corresponde a mais um movimento que, contudo, n\u00e3o influencia no posicionamento e orienta\u00e7\u00e3o da mesma, n\u00e3o sendo, por este motivo, considerado mais um g.d.l. da cadeia.\n2.4.1\tFechamento do Mecanismo Espacial : Solu\u00e7\u00e3o Inversa\nA localiza\u00e7\u00e3o da garra ou da extremidade de trabalho de um manipulador pode ser especificada pelas coordenadas de um ponto da garra (figura 2.16) RET\te Pe_\nlos cossenos diretores a(n_1)n (X(*n_1)n, Y*nZ(*n_i)n) e \u00a3\u00ab\tNa an\u00e1lise a seguir,\nassume-se que o valor num\u00e9rico desses nove par\u00e2metros s\u00e3o conhecidos e que o manipulador tem mobilidade M = 6.\nPara qualquer posi\u00e7\u00e3o e orienta\u00e7\u00e3o da extremidade de trabalho do manipulador \u00e9 poss\u00edvel obter um mecanismo espacial imaginando-se um lado anl e excentricidades Snn e \u00bf\u201915 que fecham a malha do mecanismo. Esse mecanismo possui mobilidade M = 1, \u00e2ngulo de entrada 0n e \u00e2ngulo de sa\u00edda\nA transforma\u00e7\u00e3o {(X\u00a3r,\tZ^T), (X(*n_1)n,y(*\u201e1)n, Z(*n_1)n), (X*,yn*,Z*)} =>\n{0n, anl, (0j \u2014&lt;^i), Snn->\tser\u00e1 mostrada detalhadamente. Conhecendo-se a equa\u00e7\u00e3o de en-\ntrada e sa\u00edda do mecanismo espacial resultante, \u00e9 poss\u00edvel, ent\u00e3o, computar um conjunto de valores para 0^ (o n\u00famero de solu\u00e7\u00f5es depende do grau da equa\u00e7\u00e3o de entrada-sa\u00edda) e conjuntos correspondentes de valores para as vari\u00e1veis restamos (#2,#3,---)- ^sse procedimento permite, geralmente, uma escolha de configura\u00e7\u00f5es geom\u00e9tricas alternativas do manipulador para uma dada posi\u00e7\u00e3o qualquer da extremidade de trabalho. Isi o \u00e9 prefer\u00edvel a obter uma \u00fanica configura\u00e7\u00e3o atrav\u00e9s de um processo num\u00e9rico interativo. Al\u00e9m disso, o processo interativo pode tornar-se inst\u00e1vel e requer um tempo computacional maior que o processo direto aqui considerado.\nPrimeiramente ser\u00e1 derivada a seguinte transforma\u00e7\u00e3o:\n{(^n-Dn^rn-Dn^tVtJn) > (X^Y^Z*)}\t{&amp;n, Qnl, (^ -\t)}\nOs sistemas de coordenadas X*y*Z* e XYZ (figura 2.16) est\u00e3o relacionados pela matriz de rota\u00e7\u00e3o da seguinte forma:\n/\n\nX*\nyr*\n' x\nY\n. Z\n\n\nz\n/\n\nonde\ncos\u00e7h\n\n\u2014 senfii COS(fa\n0\n(2.60)\n(2.61)\n0 '\n0\n1\nSubstituindo em 2.60 as coordenadas de\tno sistema XYZ, tem-se:\n^(*n-i)n = CO5(#i -&lt;Mcos0n ~~ sen(ffi \u2014 (/>i)s\u20acn0ncosani\n(2.62)\n\u201c [se7i(0i - ^cos&amp;n +\t-&lt;Ai )sen0ncosanl]\n^(n-i)n = senOnsenanl\n(2.64)\ne substituindo-se em 2.60 as coordenadas de \u00a3n no sistema XYZ, resulta:\nX\u201c = senanlsen(0i -&lt;^)\n(2.65)\nyn* ~ senanlcos(0i -&lt;h)\n(2.66)\nZ* = cosanJ\nMultiplicando-se 2.63 por sen($j \u2014&lt;Ai) e 2.62 por cos($i \u2014 ^i) e fazendo-se a subtra\u00e7\u00e3o dos dois resultados, obt\u00e9m-se:\nX(n-i)n C0s(&amp;i ~\t~ Y(n_i)n senifft - -&lt;&amp;)\t= cos8n\nMultiplicando-se a equa\u00e7\u00e3o anterior por senani e subtraindo-se nela as equa\u00e7\u00f5es 2.65 e\n2.66, obt\u00e9m-se:\n(n\u2014ljn^n I COS0nSCnOLn\\\n(2.68)\nonde\nAs equa\u00e7\u00f5es 2.64 a 2.68 levam ao seguinte conjunto de equa\u00e7\u00f5es:\nanl = co5ml(Z*)\n(2.69)\n(2.70)\n== -(>? - $enanl)/X*\nt3(en/2) = Z^JQX^Y^ + sena^\n(2.71)\nOs valores de an3, (#i \u2122\t) e &amp;n podem ser computados pelas solu\u00e7\u00f5es sequenciais das\nequa\u00e7\u00f5es de 2.69 a 2.71, para qualquer orienta\u00e7\u00e3o especificada da extremidade de trabalho.\nO vetor Ret que localiza um ponto determinado da extremidade de trabalho (figura 2.16) pode ser escrito da seguinte forma:\n(2.72)\nonde:\n\u00abnl = (^nl,ynl^nl) ~ (cos(^i - ^ ), ~5en(^i -\t0) e\n= (xr,^*,^*) = (o,o,i)\nDesta forma, as componentes de Ret s\u00e3o:\n%ET\nV*\n*ET\nZET\n~(SnnX* +\n-(s^ + a^KA)\n\u2014(SnnZ* + 5ji)\n(2.73)\nDas express\u00f5es de X(*n_1)n e K(* _1)n da equa\u00e7\u00e3o 2.73, tem-se que:\n(2.74)\n\u00edlnl\n(2.75)\ne da express\u00e3o de Z%T, tem-se:\nSn = -(SnnZ: + Z\u00a3T)\t(2.76)\nE importante observar que na situa\u00e7\u00e3o particular em que Sn // Sj, os valores de Snn e Sn dados pelas equa\u00e7\u00f5es anteriores ficam indeterminados. Neste caso, pode-se atribuir qualquer valor para 5n\u201e, por exemplo 0, e calcular\u00e1n.\n2.4.2 Posicionamento da Garra: Solu\u00e7\u00e3o do Problema Cinem\u00e1tico Direto\nA solu\u00e7\u00e3o do problema cinem\u00e1tico direto consiste no c\u00e1lculo da posi\u00e7\u00e3o e orienta\u00e7\u00e3o da extremidade de trabalho quando s\u00e3o conhecidos os deslocamentos dos pares cinem\u00e1ticos ou juntas. Esta solu\u00e7\u00e3o \u00e9 relativamente simples comparada \u00e0 solu\u00e7\u00e3o do problema cinem\u00e1tico inversa.\nUtilizando-se a matriz de rota\u00e7\u00e3o 2.61, tem-se:\n\n\nX\ny*\n(n\u2014l)n y*\n(n\u2014l)n\nZ(n-l)n\n\u25a0^(n\u2014l)n r(n-l)n ^(n\u2014l)n\n\n\n\ne\n/\na':\nyz*\n* n\nX\n(2.77)\n<\nZ* n\n\n(2.78)\nVale observar que \u00c0n,Kn eZn podem ser calculados pelo lado esquerdo das equa\u00e7\u00f5es 2.25, e\te i)n pelo lado esquerdo das equa\u00e7\u00f5es 2.32.\nO vetor posi\u00e7\u00e3o do ponto referencial da extremidade de trabalho \u00e9 dado por:\nn\u20141\tn\n&amp;ET = (\u00a31~~S11)\u00a31 + 52 SrSr + 52a(r~l)r^(r-l)r\nt=2\tt=2\nAqui tamb\u00e9m os versores Sr e a^r_iy podem ser calculados no sistema XYZ atrav\u00e9s do lado esquerdo das equa\u00e7\u00f5es 2.25 e 2.32, respectivamente.\nCap\u00edtulo 3\nModelagem\n3.1\tIntrodu\u00e7\u00e3o\nPara a implementa\u00e7\u00e3o de um sistema de controle, faz-se necess\u00e1rio o conhecimento de uma rela\u00e7\u00e3o que forne\u00e7a a posi\u00e7\u00e3o e orienta\u00e7\u00e3o espacial da garra para urna dada configura\u00e7\u00e3o de juntas, assim como o inverso, ou seja, uma rela\u00e7\u00e3o que forne\u00e7a os \u00e1ngulos de junta correspondentes a urna dada configura\u00e7\u00e3o espacial.\nA execu\u00e7\u00e3o de uma tarefa pr\u00e9-programada por um manipulador depende do previo conhecimento da localiza\u00e7\u00e3o do objeto a ser manipulado e da orienta\u00e7\u00e3o que o elemento terminal deve ter em rela\u00e7\u00e3o a este objeto. Isto torna necess\u00e1ria a determina\u00e7\u00e3o de um modelo completo para o manipulador.\nO modelo direto consiste no c\u00e1lculo da posi\u00e7\u00e3o e orienta\u00e7\u00e3o do elemento final (X) como fun\u00e7\u00e3o das vari\u00e1veis generalizadas (vari\u00e1veis de juntas, 0), ou seja:\nX = X(0)\t(3.1)\nonde:\t0 ~\t\u00e9 o vetor posi\u00e7\u00e3o angular das juntas ( vari\u00e1veis generalizadas\nno caso de todas as juntas serem rotacionais);\nX ~\t(x.y,\t\u00e9 o vetor posi\u00e7\u00e3o/orienta\u00e7\u00e3o do elemento terminal.\n0 problema cinem\u00e1tico inverso consiste na determina\u00e7\u00e3o de valores para as vari\u00e1veis generalizadas (\u00e1ngulos de juntas neste caso, 0) de modo que a garra do manipulador assuma uma dada posi\u00e7\u00e3o e orienta\u00e7\u00e3o (X).. A solu\u00e7\u00e3o do problema cinem\u00e1tico inverso \u00e9 bem mais complexa que o direto, e \u00e9 expresso atrav\u00e9s de uma equa\u00e7\u00e3o do tipo:\nCap\u00edtulo 3: Modelagem\nA solu\u00e7\u00e3o da equa\u00e7\u00e3o 3.2 pode n\u00e3o ser \u00fanica, ou at\u00e9 mesmo nem existir. Geralmente \u00e9 necess\u00e1rio a utiliza\u00e7\u00e3o de algoritmos que cheguem a uma \u00fanica solu\u00e7\u00e3o , em fun\u00e7\u00e3o dos limites f\u00edsicos das juntas do manipulador.\nUma forma muito utilizada \u00e9 a que trabalha com transforma\u00e7\u00f5es homog\u00eaneas e a sistem\u00e1tica de Denavit-Hartenberg [1], que permite descrever a posi\u00e7\u00e3o sucessiva das coordenadas de cada \u2019\u2019link\u201d atrav\u00e9s da utiliza\u00e7\u00e3o de determinados par\u00e2metros pr\u00e9-definidos.\nNeste trabalho, fez-se a op\u00e7\u00e3o pela metodologia de Duffy [4], que transforma o manipulador em um mecanismo espacial do malha fechada. Tal metodologia foi escolhida pelo fato de n\u00e3o fazer uso de muitas opera\u00e7\u00f5es matriciais e, consequentemente, demandar menor tempo computacional.\n3.2\tProblema Cinem\u00e1tico Inverso\nA figura 3.1 mostra uma representa\u00e7\u00e3o geom\u00e9trica gen\u00e9rica de um manipulador com seis juntas rotativas. Com rela\u00e7\u00e3o a esta figura, s\u00e3o oportunos os seguintes coment\u00e1rios:\n1.\tOs versores (z \u2014 1...6) representam a dire\u00e7\u00e3o e o sentido dos eixos de rota\u00e7\u00e3o das juntas;\n2.\tOs versores representam a dire\u00e7\u00e3o da perpendicular comum a e ou seja,\nx S-j\u2019,\n3.\tAs constantes representam os \u00e2ngulos entre S_z e medidos de Si para S \u25a0 e satisfazendo a condi\u00e7\u00e3o 2;\n4.\tAs vari\u00e1veis representam os \u00e2ngulos entre e h = i-1 e j - i+1, medidos de g^\npara g^j e satisfazendo\tx\n5.\t0 sistema X\u00b0YOZ\u00b0 \u00e9 fixo \u00e0 base. O eixo Z\u00b0 tem o mesmo sentido de S_} e o eixo Xo (ou Y\u00b0) pode ter um sentido apropriado qualquer. A origem deste sistema tamb\u00e9m \u00e9 arbitr\u00e1ria ao longo do eixo S j;\n6.\tA junta 7 \u00e9 fict\u00edcia. Seu eixo, 57, fica definido ap\u00f3s a escolha de g^ (que deve ser perpendicular a Sg). Isto feito, a71 pode ser determinado;\n7.\tAs constantes escalares correspondem ao \u2019\u2019offset\u201d entre as juntas i e j;\n8.\tAs constantes escalares Si correspondem ao comprimento do \u2019\u2019link\u201d i;\n9.\tPara facilitar a visualiza\u00e7\u00e3o, os par\u00e2metros que representam comprimentos est\u00e3o indicados na figura 3.2.\nFigura 3.1: Representa\u00e7\u00e3o Geom\u00e9trica Gen\u00e9rica de um Manipulador\nFigura 3.2: Par\u00e2metros para a Representa\u00e7\u00e3o Geom\u00e9trica Gen\u00e9rica de um Manipulador\nNesta figura (3.2), Si pode ser negativo, mas S% a S7 s\u00e3o todos n\u00e3o negativos, e \u00abc~ \u00e9 nulo.\nO objetivo da inclus\u00e3o da junta fict\u00edcia (junta 7) \u00e9 fechar a cadeia cinem\u00e1tica do manipulador de modo a obter, no instante considerado, um mecanismo espacial com um grau de liberdade. Isto feito, a pr\u00f3xima meta passa a ser a determina\u00e7\u00e3o da equa\u00e7\u00e3o de entrada-sa\u00edda que permitir\u00e1 calcular o \u00e2ngulo de sa\u00edda do mecanismo (#}) para um dado valor do \u00e2ngulo de entrada 67. Para um manipulador gen\u00e9rico como o representado pela figura 3.1, a equa\u00e7\u00e3o de entrada-sa\u00edda \u00e9 um problema muito dif\u00edcil. Teoricamente, esta equa\u00e7\u00e3o seria um polin\u00f3mio de grau 32. Felizmente, o manipulador Kraft em estudo \u00e9 um caso particular do manipulador da figura 3.1, pois alguns \u00e2ngulos assumem valores 0 ou m\u00faltiplos de 7r/2, e alguns comprimentos tamb\u00e9m assumem valor nulo (figura 3.3). As simplifica\u00e7\u00f5es conseguidas neste \u00faltimo caso s\u00e3o mostradas na tabela 3.1.\nFigura 3.3: Representa\u00e7\u00e3o Geom\u00e9trica do Manipulador Kraft\nO objetivo agora \u00e9 encontrar express\u00f5es para os par\u00e2metros fict\u00edcios a67l 071 o7j. (^\u00bbj -0j), U7i e St, sendo que \u00e9o \u00e2ngulo que relaciona os dois sistemas cartesianos (X\u00b0Y0Z0 e XYZ) mostrados na figura 3.3. Isto pode ser feito da seguinte forma:\nPar\u00e2metros conhecidos:\n~ \u00bfL\u00ea e\n\u2014\tVetor posi\u00e7\u00e3o do ponto G da garra = (G'x , Gy , Gz)\n\u2014\tVersor Og7 ~ (\u00aberx , \u00ab67Y , \u00ab67z)\n\u2014\tVersor S_7c \u2014 (S7cx , S7cy , S7cz) - x S$\n\u00c2ngulos\t\t\tComprimentos\t\n\u00ab12\t\u2014\t?r/2\tS2 =\t0\n\u00ab23\t=\t0\ts3 =\t0\n\u00ab34\t=\t0\tII\t0\n\u00ab45\t=\t3tt/2\t\u00ab12\t=\t0\n\u00ab56\t=\ttt/2\t\u00ab56\t\u2014\t0\n\u00ab67\t=\ttt/2 ou 37t/2\t\u00ab67\t=\t0\n\u00ab71\t\u00e9\tvari\u00e1vel\t\t\nTabela 3.1: Simplifica\u00e7\u00f5es Inerentes ao Manipulador Kraft\nComo nesta se\u00e7\u00e3o somente o sistema X\u00b0Y\u00b0Z\u00b0 ser\u00e1 considerado (figura 3.3), os \u00edndices das componentes vetoriais poder\u00e3o ter sua nota\u00e7\u00e3o simplificada. Por exemplo, Gx = Gx\u00b0-\nPrimeiramente, \u00e9 necess\u00e1rio determinar a perpendicular comum entre a reta que passa pelo ponto \u201dG\u201d com dire\u00e7\u00e3o S7c e a reta que passa pela origem O com dire\u00e7\u00e3o Z (ou Isto pode ser feito atrav\u00e9s do seguinte produto vetorial (ver tamb\u00e9m figura 3.2:\n[(\u00a3 + AS7c) - T/Sj] x g71c = 0\t(3.3)\nonde \u00ab71c \u00e9 o produto vetorial entre os versores S7c e igual a (S7cy , -S7cx , 0)\nExpandindo-se a equa\u00e7\u00e3o vetorial 3.3, obt\u00e9m-se as seguintes equa\u00e7\u00f5es alg\u00e9bricas:\n^7cX(Gz +\n\u00c0S7cz - r\u00e7) = 0\n(3-4)\nS7cy(Gz +\n^S7cz - 7?) = o\n(3-5)\n\u2014 S7cx(Gx + M>7cX) ~ S7cy(Gy + \u00c0S7cy) \u2014 0\nO valor de \u00c0 pode ser determinado atrav\u00e9s da equa\u00e7\u00e3o 3.6. e tj atrav\u00e9s das equa\u00e7\u00f5es 3.4 e 3.5 da seguinte forma:\nGxS7cX + GyS7cy\n(S7cx)2 + (S7cY)2\n(3.7)\nEstas duas \u00faltimas equa\u00e7\u00f5es valem se o produto vetorial 57c x Sj 7^ 0. Quando S7c e S_r assumem a mesma dire\u00e7\u00e3o, A fica indeterminado, podendo assumir qualquer valor. Neste caso pode-se fazer A = 0 e T] = Gg-\n\u00c9 oportuno frisar que S7 = |A| e Si = So \u2014 g. Desta \u00faltima igualdade pode-se concluir que 5i pode ser negativo, quando o ponto de interse\u00e7\u00e3o I (figura 3.3) ficar acima da junta 2.\nUma vez conhecidos A er\u00e7, pode-se calcular 57, a71 e a7x. Assim:\n57 = s\u00ed?(A).57c\t\t\t(3-9)\n\t\u00ed 1 se A > 0\t\t\nonde sg(A)\t1 \u20141 se A &lt;0\t\t\n\t\t\u00ab71 ~ IM-71II\t(3.10)\nonde A71 -\t=\t~ (G + A57c)\t\t\ne\t\t\t\n\t0.71 \u25a0 =\tA7~i -\t,\tse A7i 0 \u00ab71\t(3.11)\nSe A7i \u2014 0\t, ent\u00e3o:\t\t\n\tu7i = 5 7\tx 53\tse 5 7 x 51\t0\t(3-12)\nou\t\t\t\n\t\u00ab71\t\u2014\tse 57 x 5X = 0\t(3.13)\n\tOs \u00e2ngulos 067, 3? e\t~~\tpodem ser calculados utilizando-se\t\tas seguinte f\u00f3rmulas:\n\tO67 =\t\t(3.14)\n= atan2(a71.sg(X).S6la71.a67)\t(3,15)\n(<\u00bf>i~0i) = atan2(a71Y,a71X)\na71\t= atan2(S_1.(a7i x ^y),^.^)\n= atan2(a7ix-S7Y ~ a7iY-S7x,S7z)\n3.2.1\tAn\u00e1lise do Mecanismo Espacial RRRR-R-RR\n0 manipulador da figura 3.3 foi transformado no mecanismo espacial RRRR-R-RR pela inclus\u00e3o de uma s\u00e9tima junta rotativa (fict\u00edcia). Esse mecanismo possui tr\u00eas juntas paralelas, indicadas por R-R-R na nota\u00e7\u00e3o acima, e apenas um grau de liberdade (mobilidade igual a um), conforme demonstrado abaixo\nn\nM = ]C/\u00ed - 6 = 7- 6= 1\t(3.18)\n\u00ed=l\nonde,\nM \u2014 Mobilidade de um mecanismo espacial com \u2019\u2019single loop\u201d e n juntas;\nfi = graus de liberdade da ?-\u00e9sima junta.\nPortanto, \u00e9 poss\u00edvel encontrar a equa\u00e7\u00e3o que relaciona o \u00e2ngulo de entrada. 07 com o \u00e2ngulo de sa\u00edda ou seja, dada uma posi\u00e7\u00e3o e orienta\u00e7\u00e3o da garra, pode-se determinar pela equa\u00e7\u00e3o 3.15 o \u00e2ngulo de entrada 07 do mecanismo espacial fict\u00edcio associado \u00e0 referida posi\u00e7\u00e3o e orienta\u00e7\u00e3o da garra e, ent\u00e3o, pela equa\u00e7\u00e3o de entrada e sa\u00edda que ser\u00e1 deduzida a seguir, determinar o valor do \u00e2ngulo de sa\u00edda Oj e, consequentemente, o valor de Ser\u00e3o tamb\u00e9m mostradas equa\u00e7\u00f5es para os demais \u00e2ngulos (i\u20142...6) que, juntamente com , representam a solu\u00e7\u00e3o para o problema cinem\u00e1tico inverso.\n3.2.2\tEqua\u00e7\u00e3o de Entrada-Sa\u00edda (07 x \u00bfA)\nA equa\u00e7\u00e3o de entrada-sa\u00edda do mecanismo espacial RRRR-R-RR (figura 3.3) pode ser deduzida a partir da componente Z da equa\u00e7\u00e3o vetorial para o \u2019\u2019loop\u201d do mecanismo. A localiza\u00e7\u00e3o deste sistema XYZ na junta 2 deve-se ao fato de termos as juntas 2, 3 e 4 com eixos de rota\u00e7\u00e3o paralelos, o que simplifica os c\u00e1lculos a serem feitos. Portanto, utilizando-se o sistema XYZ indicado na figura 3.3, tem-se:\n+ S7Z\\ + ^71 \u00a3^12 = 0\nonde,\nZn \u00e9 a componente Z do versor\nZ\\ \u00e9 a componente Z do versor 57;\n{712 \u00e9 a componente Z (ou U) do versor a71.\nsendo que foram considerados os seguintes pent\u00e1gonos esf\u00e9rico e polar:\nU\u201c Z\nVE - Y\nWE X\nFigura 3.4: Pent\u00e1gonos Esf\u00e9rico e Polar\nExpandindo Z71, Z\\ e Z712, tem-se:\nZ7i \u2014 si2(Y7si 4- YrCj) + ci2Z7 \u2014 A7sj + V7C1\t(3.20)\nonde S{j = \u00aben(a,j), st- = sen(6{), c, = cos{9,) e a12 = tr/2, conforme visto anteriormente na tabela 3.1.\nZi \u2014 C12C71 - 512^71 Ci \u2014 \u2014 ^71 ci\nU12 = S1S12 =\t(3.22)\nSubstituindo-se as equa\u00e7\u00f5es 3.20, 3.21 e 3.22 na equa\u00e7\u00e3o 3.19, tem-se:\n(sgXy +&lt;271 )$i + (SqY? \u2014 S7\u00f37)ci = 0\nE poss\u00edvel, agora, calcular o \u00e2ngulo atrav\u00e9s da seguinte express\u00e3o:\n#i = atan2(S7S7\u00ed - 56Y7.,56X7 + \u00abri)\t(3.23)\nonde X7 ~ $q7s7 e Y7 \u2014 \u2014 c7\\\u00f4q7c7.\nUtilizando-se o valor de (\u00e7b - 0j) calculado pela equa\u00e7\u00e3o 3.16, tem-se:\n<\u00bf>1 = (^i -0i) +\t(3.24)\nConsiderando novamente o pent\u00e1gono esf\u00e9rico da figura 3.4, \u00e9 poss\u00edvel obter-se tr\u00eas igualdades para as componentes X, Y e Z do versor 5c:\n{Sex} =\tX71\t=\t(3.25)\nonde o = 02 + ^3 d\" ^4 \u2022\n{S6y} =\t-Yti\t=\tX5*a\t(3.26)\n{S6Z} s\tZn\t=\tZ5\t(3.27)\nsendo que JV71, Y71 e ^71 s\u00e3o fun\u00e7\u00f5es de 07 e\tpodendo ser calculados. Os demais elementos s\u00e3o\ndados por:\n-X,5a \u2014\t5^a Yg-S^\t(3.28)\nonde .Y5 = SseSs e Y5 = ~(545C56 + C45S56C5). Substituindo-se os valores de a45 e o56 da tabela\n3.1,\ttem-se:\n\n+ YgCQ \u2014 $$$&amp;\n(3.30)\ne, finalmente,\n\u2014 C45C56 \u2014&lt;$45\u00e256cS \u2014 c5\nPela substitui\u00e7\u00e3o de 3.29, 3.30 e 3.31 em 3.25, 3.26 e 3.27. respectivamente, tem-se:\ncQ = Xn/s5\n(3.32)\n\u00bfa = -Y71/s5\nZ71 = c5\nPosicionando agora o sistema XYZ no pent\u00e1gono esf\u00e9rico conforme a seguir, obt\u00e9m-se:\nonde,\ni S2X)\tX 37 \u2014 X%\n{ S2Y }\tYj7 = - X56\n{S2Z}\tZ37=Z5\nX56\t\u2014 X5C6 \u2014 15S6\n=\tS45S5C6 + (S56C45 + C56S45C5)s6\n~\t\u201c^5^6\nX55 \u2014 Xg<$6 + Y5C6 =\nZg \u2014 C56C45 \u2014 656^45^5 = Cg\nSubstituindo 3.36, 3.37 e 3.38 em 3.35, resulta:\nXi7 \u2014 \u2014SsCe\n(3.35)\n(3.36)\n(3.37)\n(3.38)\n(3.39)\nK17 - S5S6\n(3.40)\nZ17 = Cg\nDividindo-se Y17 por X17, obt\u00e9m-se:\ntge6 =\t=\nC6\nV17\nA17\nsendo que\n-Xj.7\t= XiC7 \u2014 Y1-S7\n\u2014\t>S12'\u2018H\u00cd>7 + (-S71C12 + C7iS12C1)aS7\n= SjC? + C71C1S7\n\u00a517\t=\tC67(Xi$7 4- Y1C7) \u2014 Se7^1\n\u2014\tS67S71C1\nSubstituindo-se K17 e X17 na equa\u00e7\u00e3o 3.42, obt\u00e9m-se o valor do \u00e2ngulo 0G:\n06 = atan2(\u2014Yi7,Xi7) #5 pode agora ser calculado atrav\u00e9s das equa\u00e7\u00f5es 3.39, 3.40 e 3.41:\t(3.43)\n05 = atan2( --Xi7/c6, Zi7), se cG 0\t(3-44)\n05 ~ G/an2(y17/\u00f36,Zi7), se c6 = 0\nOnde Zi7 = ^67\u00cd5157 \u2014 c71clc7)-\nConsiderando a figura 3.3 e os pent\u00e1gonos esf\u00e9rico e polar da figura 3.4, \u00e9 poss\u00edvel obter as seguintes equa\u00e7\u00f5es alg\u00e9bricas que representam as componentes em X e \u00a5 da equa\u00e7\u00e3o vetorial da malha fechada para o mecanismo espacial da figura 3.3:\n\u00ed!?!\t=\t(0 , S12 1 C12)\t\u201423\t=\t(C2 ,52,0)\n5$\t=\t(<$45Sq , ~~S45Ca ,\tCa)\t034\t=\t(C2+3 , 52+3\t,\t0)\njSg \u2014\t(-X7I ,\t\u00a571 , ^71)\t^45\t= (^cr ,\t, 0)\nS7\t=\t(Xi , -\u00a51 , z?i)\ta71\t=\t(cj , \u2014S1C12\t,\t51S12)\nonde C2+3 ~ cos(02 + #3) e \u00bf2+3 - sen(02 + #3)-\n\u2014 Componentes em X:\n\u00ab23^2 + \u00ab34C2+3 + \u00dc45Ca ~ ^5^a + \u2018$6-^71 + \u00a37X1 + \u00abnCl = 0\t(3.45)\nComponentes em Y:\nG23S2 + a34<52+3 + a45'\u2018\u2019a + SsCa \u2014\t\u201c \u00abS^Yl + Sj = 0\t(3.46)\nSubstituindo 3.32 e 3.33 em 3.45 e 3.46, tem-se:\nG23C2 + ^34c2+3 = ~~P\t(3-47)\na23s2 + a3452+3 ~ Q\t(3.48)\nSomando-se os quadrados de 3.47 e 3.48, chega-se ao valor de 03:\ne3 = \u00b1co.s-^2 + ^-t\u00e0 + ^) 2g23\u00b034\t(3.49)\nonde:\nP ~\t^6)\tfs^71 +\t4- \u00ab71Cj\nQ =\t+ s\u00ab) Yn ~\t+ s?Yi - 5,\nA71\t=\t\u00c367S7C1 + 5g7C7iC7^j\ny7\u00ed = S67S71C7\nXj =\t$7131\n\u201c\t-\u00ab71\nCabe aqui frisar que \u00bf5 (sen#5) \u00e9 sempre / 0e^ \u00e9 sempre &lt;0, devido aos limites f\u00edsicos para os \u00e2ngulos do manipulador Kraft.\nExpandindo-se C2+3 e ^2+3 nas equa\u00e7\u00f5es 3.47 e 3.48, chega-se ao seguinte sistema de equa\u00e7\u00f5es:\n(\u00ab23 + \u00ab34\u00ab3)\u00ab2\t\u00ab34^3^2\t=\n-P\n\u00ab3453c2 + (\u00ab23 + \u00ab34\u00ab3)'s2\t\u2014 Q\nResolvendo-se este sistema de equa\u00e7\u00f5es, resulta:\n\u2014\t^g34^3 ~ ^(g23 + \u00ab34\u00abs)\n(\u00ab23 + \u00ab34C3)2 + (\u00ab34-S3)2\n\u2014\ta34c3)c2\n\u00ab34*3\nDas equa\u00e7\u00f5es 3.51 e 3.52, tem-se a express\u00e3o para o c\u00e1lculo de 02'.\n02 \u2014 atan2(s2^ C2)\n(3.50)\n(3.51)\n(3.52)\n(3.53)\nFinalmente, atrav\u00e9s das equa\u00e7\u00f5es 3,32 e 3.33, pode-se chegar a uma express\u00e3o para o c\u00e1lculo de \u00a34, o \u00faltimo \u00e2ngulo procurado:\n3.3\tProblema Cinem\u00e1tico Direto\nComo o pr\u00f3prio nome sugere, o problema aqui \u00e9 obter a posi\u00e7\u00e3o e orienta\u00e7\u00e3o da garra, sendo dados os \u00e2ngulos das juntas do manipulador, ou seja, com refer\u00eancia \u00e0 figura 3.3, dados os \u00e2ngulos&lt;/>i, #i, #2, #3, #4, $5 e&lt;96, procura-se obter as coordenadas do ponto G e os versores 5^ e Oq7, Da referida figura, pode-se facilmente tirar as componentes dos versores \u00ab23, e \u00ab45, referentes ao sistema de coordenadas XYZ fixo na junta de n\u00famero dois e mostradas a seguir:\n\u00ab23\t=\t(c2 , S2 , 0)\nU34\t=\t(c2+3 , ^24-3 , 0)\n\u00dc45\t\u2014 (\u00abcr \u2022> y 0)\nonde a = 02 + #3 + @4-\nAinda no sistema XYZ, os versores S_$ e S6 s\u00e3o calculados da seguinte forma:\n\nC\u00ab45\nS&amp;X ~\t~ X5Q \u2014 X5CQ\tY 5<$'q \u2014 - ^*56^5^0 4\u201c [*^<>45 ^\u00ab56 + d- \u00a3(*45\tcsJsq ~\nS^y -\t~ X\u00a3a \u2014 X^Sct+YsCa = ~\t^a^^5sa\t4\u201c -\t^s)^a\n56, =\t= Z5 = C0,46CQf56\t^0-45 ^a5S Cg) \u2014 = cs)\nDe posse dos versores 033, \u00ab34, c^5, S_5 e 5$, pode-se calcular as coordenadas do ponto G, tamb\u00e9m no sistema XYZ, como a seguir:\nGj. ~ \u00ab23 \u00ab23^ + \u00ab34 a34x 4~ a45 \u00ab45x + .95 55r + S6 56.c; Gy = \u00ab23 \u00ab23y + \u00ab34 \u00ab34y + \u00ab45 \u00ab45^ + 55 S5y + 56 56y; Gz = \u00ab23 \u00ab23^ + \u00ab34 \u00ab34z + \u00ab45\u00ab45z + 55 55z + 56 56z:\n(3.55)\nonde aij e Si s\u00e3o par\u00e2metros mostrados na figura 3.2.\nResta, agora, calcular o versor para que a solu\u00e7\u00e3o do problema cinem\u00e1tico direto esteja resolvido. As componentes deste versor em XYZ s\u00e3o dadas por:\n4\"\t4\u201c l^GS^or\nCtg7y \u2014\t4-\tj 4- W(55Sq\n\u00ae67\u00ed\t=\t\u00a3^65^0(45 ~ ^65^045\nTem-se agora, as coordenadas do ponto G e os versores S&amp; e ftg7 no sistema de coordenadas fixo na junta dois.\nPara que se possa fazer uso destes elementos, deve-se t\u00ea-los em coordenadas do sistema fixo na base do manipulador XaYoZ\u00b0, tamb\u00e9m mostrado na figura 3.3. Basta, ent\u00e3o, montar a matriz que fa\u00e7a a transforma\u00e7\u00e3o de rota\u00e7\u00e3o entre os dois sistemas, a qual \u00e9 composta de duas rota\u00e7\u00f5es : a primeira de 90 graus em torno de X seguida de uma rota\u00e7\u00e3o de graus em torno do novo Z. A matriz resultante R \u00e9 mostrada a seguir:\n1\n0\n0\n0\n0\n1\n0\n0\n1\ns<tn\nc<h\n0\n0\n-1\n0\n0\n0 1 0\nOs versores S# e expressos acima no sistema XYZ podem, agora, ser transformados para o sistema XC,YOZ\u00b0 , pr\u00e9-multiplicando-os pela matriz [R] anterior. As coordenadas do ponto G no sistema X\u00b0Y\u00b0Z\u00b0 ficam determinados pela transforma\u00e7\u00e3o :\n\n\nT XYZ\nCap\u00edtulo 4\nInterface Homem-M\u00e1quina\nNeste cap\u00edtulo s\u00e3o descritos os m\u00f3dulos criados e/ou modificados a partir da configura\u00e7\u00e3o inicial do Sistema Kraft [3], cujo diagrama de blocos pode ser visto na figura 4.1, com a finalidade de viabilizar a utiliza\u00e7\u00e3o do microcomputador como op\u00e7\u00e3o de controle para o manipulador, tanto atrav\u00e9s do teclado quanto com a utiliza\u00e7\u00e3o do Mouse Espacial.\nA estrutura e op\u00e7\u00f5es dos menus apresentados foram feitos de modo a possibilitar ao usu\u00e1rio um acesso mais r\u00e1pido \u00e0s fun\u00e7\u00f5es necess\u00e1rias e dispon\u00edveis.\nonde: MSC\tM\u00f3dulo de Controle do Sistema do Master;\nRSD\tM\u00f3dulo Driver Remoto;\nKMC\tChassis da Eletr\u00f4nica Kraft;\nA/D\tConversor Anal\u00f3gico/Digital;\nD/A\tConversor Digital/Anal\u00f3gico.\nFigura 4.1: Configura\u00e7\u00e3o Inicial do Sistema\n\u00ed'-: \u2019\u25a0'\u00bfr' \u2018i\n\n\u25a0 r P. *\" v * *T*.. \u201c1'r *r' \u201d \u201c\u00bf\u2018\t\u2018A A,i \u2022 T f'\n\nFigura 4.2: Primeiro Menu do Programa.\nFigura 4.3: Diagrama de Blocos do Programa\n4.1\tMaster Slave\nEsta op\u00e7\u00e3o mant\u00e9m a possibilidade de controlar o manipulador atrav\u00e9s do Master, como descrito no cap\u00edtulo 1. A tela inicial deste modo de controle pode ser vista na figura 4.4,\n$\nI\n\" *\u2019 *\u25a0* * * \u201c \"\u2019 v > ?\t:\t\n\t\n\t\n\t\n\n\n\n\n\n\nFigura 4.4: Tela Inicial do Modo Master Slave.\n4.1.1\tCalibra\u00e7\u00e3o\nTem por finalidade fazer a correspond\u00eancia entre os valores m\u00e1ximos e m\u00ednimos dos \u00e2ngulos de junta do Master e do Slave. A calibra\u00e7\u00e3o \u00e9 feita junta por junta, conforme instru\u00e7\u00f5es mostradas na tela (figura 4.5), e armazenadas em um arquivo.\n4.1.2\tMonitoramento\nEsta tela, mostrada na figura 4.6, monitora todas as tens\u00f5es dos potenci\u00f3metros do master e do slave, os quais s\u00e3o mostrados atrav\u00e9s de gr\u00e1ficos. Apresenta ainda uma janela com os valores dos \u00e2ngulos das juntas do manipulador e uma outra com a posi\u00e7\u00e3o e orienta\u00e7\u00e3o da garra, obtidos via modelo cinem\u00e1tico direto.\nApresenta ainda as seguintes fun\u00e7\u00f5es :\nR<> \u00ed: irs\u00bb tint C\u00bb3\n$\t\u2014 Fi-\u00ab!Ls; jow a fe- 1-a C\u00ed7S.\nKfSiC\u00cdO 13\u2019s\u00bb \u00bb juri\u00edi\u00bb a \u00ab\u00ab;{-ftju\u00ed.t?:\tp s: !av<\"\nPr\u00ed-.s-\u00ed-sont ENTER7 A.\u00edms\u00ed\u00ed t? \u00cdl.ip\u00edier fe pres.s;o!W E'\u00edH3\u2019. .\nrio\tT erm j rvs\u00bb 1 :\n<:\u00bb1 t tir\nna rsos trao irsip \u00ed w f .\nFigura 4.5: Tela de Calibra\u00e7\u00e3o .\n\u00ed?\n\u00bfJ15V\nK i ' +\u20ac.\u00datX 7. \u2019 */ : -3\u00dc8. \u00a3\n\t. Jyrit a? l<\u00ae auJS?\t\n\u25a0 *1 :\t*2-5\ts\t+2.5\n-\u25a0 tf2. s\t*75*2 -.\ti\t\u25a0 - *52.7\n73 ;\t\u201c2I:*S\t- :-\tHrS \u00ed\t'131.1\n\n3 A\ne\n\n\nS'+t S5:>i\u00bf t&lt;:-:->\u00ed\u00ed \u00ed\" i im 1 -\nFigura 4.6: Tela de Monitoramento\n\u2014\tF1 : Ativa a anima\u00e7\u00e3o do master ou do slave, de acordo com os valores das tens\u00f5es lidas dos p ot en ci\u00f4met ros.\n\u2014\tF2 : Ativa a grava\u00e7\u00e3o de trajet\u00f3ria. Quando acionada esta tecla, todos os pontos passam a ser guardados em um arquivo cujo nome \u00e9 escolhido pelo operador. A grava\u00e7\u00e3o termina quando outra tecla \u00e9 acionada.\n\u2014\tF3 : Ao primeiro toque, abre um arquivo cujo nome \u00e9 escolhido pelo operador e grava a posi\u00e7\u00e3o atual. A Patir da\u00ed, a cada vez que F3 \u00e9 acionada \u00e9 feito o armazenamento da posi\u00e7\u00e3o atual no mesmo arquivo.\n4.2\tMicro Computador\nEsta op\u00e7\u00e3o passa o controle do manipulador do Master para o computador, e d\u00e1 ao operador as seguintes op\u00e7\u00f5es :\n-\tControle;\n-\tAnima\u00e7\u00e3o ;\n-\tPar\u00e2metros.\n4.2.1\tControle\nS\u00e3o apresentadas tr\u00eas formas de opera\u00e7\u00e3o paia o manipulador, sendo que as duas primeiras, via teclado e via mouse espacial, s\u00e3o manuais, e a terceira, \u00e9 o modo autom\u00e1tico, conforme mostrado na figura 4.7.\nControle Via Mouse Espacial\nNeste modo, o manipulador \u00e9 controlado diretamente pelo Mouse Espacial. Assim que esta op\u00e7\u00e3o \u00e9 acionada, o microcomputador l\u00ea os \u00e2ngulos atuais das juntas do manipulador, os quais s\u00e3o enviados para o modelo cinem\u00e1tico direto. Deste modelo, descrito no cap\u00edtulo 3, obt\u00e9m-se a posi\u00e7\u00e3o e orienta\u00e7\u00e3o atuais da extremidade do manipulador (garra),\nQuando o acoplamento do Mouse \u00e9 feito, o sistema calcula e guarda os cossenos diretores (Xeg, Yeg e Zeg) e as coordenadas do ponto central do manipulo, mostrado na figura 1.3. Isto feito, sempre que o Mouse \u00e9 acionado, \u00e9 poss\u00edvel obter a matriz de transforma\u00e7\u00e3o que leva o manipulo da posi\u00e7\u00e3o inicial para a final, bem como a varia\u00e7\u00e3o na posi\u00e7\u00e3o do ponto central. Esta matriz \u00e9 aplicada \u00e0 matriz de orienta\u00e7\u00e3o do manipulador, leva \u00e0 nova orienta\u00e7\u00e3o do mesmo. De posse da nova orienta\u00e7\u00e3o e da nova posi\u00e7\u00e3o da garra (posi\u00e7\u00e3o inicial acrescida da varia\u00e7\u00e3o das coordenadas do\nFigura 4.7: Tela Inicial do Controle Via Microcomputador.\nponto central do manipulo), pode-se enviar ao manipulador os novos \u00e2ngulos das juntas, calculados atrav\u00e9s do modelo cinem\u00e1tico inverso.\nA tela aprensentada neste modo \u00e9 mostrada na figura 4.8, e \u00e9 composta dos seguintes itens:\n\u2014\tSeis gr\u00e1ficos mostrando as impuls\u00f5es dos potenci\u00f3metros do manipulador;\n\u2014\tUma janela mostrando a posi\u00e7\u00e3o e orienta\u00e7\u00e3o da garra;\n\u2014\tUma janela mostrando os \u00e2ngulos das juntas do manipulador.\nAl\u00e9m disto, existe ainda um menu na parte superior da tela com as seguintes op\u00e7\u00f5es :\n\u2014\tTeclado: muda o controle do modo mouse espacial para o modo teclado;\n\u2014\tGrava Posi\u00e7\u00e3o: grava em um arquivo, cujo nome \u00e9 escolhido pelo operador, a posi\u00e7\u00e3o atual do manipulador;\n\u2014\tGrava Trajet\u00f3ria: grava todas as mudan\u00e7as de posi\u00e7\u00e3o do manipulador a partir do momento em que \u00e9 acionada at\u00e9 que outra op\u00e7\u00e3o seja ativada. 0 nome do arquivo \u00e9 escolhido pelo operador;\n\u2014\tTV: mostra uma tela reservada para a imagem de uma c\u00e2mera a ser instalada no manipulador.\nFigura 4.8: Tela de Controle Via Mouse Espacia].\nControle Via Teclado\nNeste modo, o controle \u00e9 feito diretamente atrav\u00e9s do teclado. Ao ser acionada, o sistema l\u00ea a posi\u00e7\u00e3o atual do manipulador e fica aguardando algum comando via teclado. A tela montada para esta op\u00e7\u00e3o \u00e9 mostrada na figura 4.9, e possui os seguintes itens:\n-\tSeis gr\u00e1ficos mostrando as impuls\u00f5es dos potenci\u00f3metros do manipulador;\n-\tUma janela mostrando a posi\u00e7\u00e3o e orienta\u00e7\u00e3o da garra;\n-\tUma janela mostrando os \u00e2ngulos das juntas do manipulador.\nApresenta na parte superior da tela um menu com as seguintes op\u00e7\u00f5es :\n-\tMouse: muda o controle do modo teclado para o modo mouse espacial;\n-\tDefine Reta: define a reta entre dois pontos escolhidos pelo operador. Estes pontos, devidamente tratados, formam uma trajet\u00f3ria que \u00e9 armazenada e pode ser enviada ao manipulador;\n-\tGrava Posi\u00e7\u00e3o: grava em um arquivo, cujo nome \u00e9 escolhido pelo operador, a posi\u00e7\u00e3o atual\ndo manipulador; ---------- _\t.... \" \u2019\t\u2019\t\u2019\nFigura 4.9: Tela de Controle Via Teclado.\n\u2014\tGrava Pontos: ao primeiro toque, abre um arquivo cujo nome \u00e9 escolhido pelo operador, e guarda a posi\u00e7\u00e3o do manipulador. Cada subsequente chamada da fun\u00e7\u00e3o armazena a posi\u00e7\u00e3o atual no mesmo arquivo;\n-\tTV: mostra uma tela reservada para a imagem de uma c\u00e2mera a ser instalada no manipulador.\nApresenta ainda uma fun\u00e7\u00e3o acionada pelas teclas ALT D que ativa o Movimento Direto e desativa o menu acima descrito.\nUma vez ativado o Movimento Direto (figura 4.10), passa-se a ter a possibilidade de movimentar cada uma das juntas separadamente ou fazer movimentos nas dire\u00e7\u00f5es X, Y ou Z da orienta\u00e7\u00e3o da garra, conforme instru\u00e7\u00f5es na pr\u00f3pria tela.\nControle Autom\u00e1tico\nEsta op\u00e7\u00e3o possibilita ao operador enviar ao manipulador trajet\u00f3rias previamente tratadas e armazenadas, de forma a n\u00e3o causarem movimentos bruscos.\nPodem ser enviadas trajet\u00f3rias \u00fanicas ou um conjunto de trajet\u00f3rias, formando uma tarefa espec\u00edfica. Esta possibilidade foi criada para suprir problemas em que a mem\u00f3ria do com-\nFigura 4.10: Tela do Movimento Direto.\nputador n\u00e3o seja suficiente para armazenar todos os pontos de uma determinada trajet\u00f3ria a ser enviada.\n4.2.2\tAnima\u00e7\u00e3o\nApresenta as mesmas op\u00e7\u00f5es do controle, sendo que as varia\u00e7\u00f5es nos \u00e2ngulos das juntas somente s\u00e3o usados na anima\u00e7\u00e3o , sem afetar o manipulador. A figura 4.11 mostra a tela com a anima\u00e7\u00e3o do manipulador no modo teclado.\n4.2.3\tPar\u00e2met ros\nOp\u00e7\u00e3o criada para permitir a mudan\u00e7a nos valores tidos como \u2019\u2019default\u201d de alguns par\u00e2metros do Mouse Espacial e do teclado.\n4.3\tTeste de Hardware\nPermite testar elementos do hardware utilizado, tais como conversores anal\u00f3gicos/digitais e digitais/anal\u00f3gicos (A/D e D/A), entradas e sa\u00eddas digitais, modos de opera\u00e7\u00e3o e porta serial de conex\u00e3o do Mouse Espacial.\nFigura 4.11: Tela de Anima\u00e7\u00e3o Via Teclado.\nCap\u00edtulo 5\nResultados e Conclus\u00f5es\nPara finalizar o presente trabalho, o programa foi testado usando o Sistema Kraft no CENPES - Centro de Pesquisas e Desenvolvimento da Petrobras. Descreve-se, a seguir, os principais testes realizados, os resultados obtidos e as conclus\u00f5es finais do trabalho.\n5.1\tTestes e Resultados\n5.1.1\tControle Via Master Foi o primeiro modo a ser testado, devido a ser o mais conhecido e o \u00fanico utilizado\nsem o uso do microcomputador.\nForam verificadas todas as fun\u00e7\u00f5es do controle via \u2019\u2019master\u201d e as op\u00e7\u00f5es criadas para a aquisi\u00e7\u00e3o de pontos e grava\u00e7\u00e3o de trajet\u00f3rias.\n5.1.2\tControle Via Teclado\n\tForam verificadas as op\u00e7\u00f5es de aquisi\u00e7\u00e3o de pontos para gera\u00e7\u00e3o de trajet\u00f3rias \u201doff line\u201d\n(como no modo anterior) e, principalmente, o controle individual de cada junta via teclado, bem como da abertura, fechamento e rota\u00e7\u00e3o cont\u00ednua da garra.\nNeste modo de controle, o microcomputador faz o papel do \u2019\u2019master\u201d, como descrito no cap\u00edtulo 4. Por este motivo, foi necess\u00e1rio criar uma rotina que, no momento de transi\u00e7\u00e3o do modo de controle via microcomputador para o modo de controle via \u2019\u2019master\u201d, verifica se a posi\u00e7\u00e3o do manipulador corresponde \u00e0 do \u2019\u2019master\u201d. Caso n\u00e3o seja, \u00e9 executada uma trajet\u00f3ria que leva o manipulador para a posi\u00e7\u00e3o atual do \u2019\u2019master\u201d. Tal rotina foi criada e testada.\n5.1.3\tControle no Modo Autom\u00e1tico\nPara testar este modo, foram criadas trajet\u00f3rias \u2019\u2019offline\u201d a partir de arquivos de pontos obtidos atrav\u00e9s dos modos de controle via \"master' e via teclado, bem como foram gravadas trajet\u00f3ria cont\u00ednuas no modo \u201dm \u00e1ster\u201d. Al\u00e9m disto, para testar a possibilidade de enviar trajet\u00f3rias consecutivas, foram criadas trajet\u00f3rias que fossem continua\u00e7\u00e3o da anterior.\nEstas trajet\u00f3rias foram enviadas ao manipulador das duas formas poss\u00edveis (simples ou composta), sendo que na composta existe a possibilidade de abrir ou fechar a garra no final de cada peda\u00e7o da trajet\u00f3ria maior. Este modo de envio possibilitou a composi\u00e7\u00e3o de tarefas a partir pequenas trajet\u00f3rias gravadas em qualquer um dos modos de controle.\n5.1.4\tControle Via Mouse Espacial\nObjetivo principal do trabalho, foi o \u00faltimo modo a ser testado, uma vez que dependia do bom funcionamento das fun\u00e7\u00f5es de controle via teclado.\nComo os \u00e2ngulos de junta s\u00e3o calculados a partir dos valores das tens\u00f5es dos potenci\u00f3metros, foram necess\u00e1rios ajustes nos valores de tens\u00e3o lidos do manipulador antes de transform\u00e1-los em \u00e2ngulos e aplic\u00e1-los aos modelos direto e inverso, devido \u00e0 depend\u00eancia das juntas 2 e 3 ( os potenci\u00f3metros destas duas juntas est\u00e3o localizados no eixo de rota\u00e7\u00e3o da junta 2). Da mesma forma, transforma\u00e7\u00e3o oposta \u00e9 necess\u00e1ria para obter os valores de tens\u00e3o a serem enviados ao manipulador a partir dos \u00e2ngulos obtidos no modelo inverso.\nAs tens\u00f5es lidas nos potenci\u00f3metros do manipulador s\u00e3o proporcionais \u00e0s tens\u00f5es enviadas pelo \"niaster\" ou microcomputador, e estas proporcionalidades s\u00e3o obtidas na calibra\u00e7\u00e3o do sistema e armazenadas na caixa de controle de Kraft. Portanto, para cada calibra\u00e7\u00e3o existe um conjunto de constantes diferentes.\nComo o modelo inverso trabalha com \u00e2ngulos (tens\u00f5es) obtidas diretamente do manipulador, foi necess\u00e1rio descobrir a rela\u00e7\u00e3o existente entre estes \u00e2ngulos e a tens\u00e3o enviada pelo microcomputador (na fun\u00e7\u00e3o de \u201dmaster\u201d) para obten\u00e7\u00e3o de tais \u00e2ngulos, ou seja, obter os par\u00e2metros Ki e Ci da seguinte equa\u00e7\u00e3o :\nOi = K\u00edT\u00ed + Ci\t(5.1)\nonde :\n-\t&amp;i = \u00e2ngulo da i-\u00e9sima junta do manipulador; e\n\u2014\tTi = tens\u00e3o a ser enviada pelo microcomputador para a i-\u00e9sima junta.\nPara isto, utilizando a rotina de calibra\u00e7\u00e3o , foram obtilos dois valores distintos de\ntens\u00e3o do \u2019\u2019master\u201d e do \u2019\u2019slave\u201d (\u00edndices 1 e 2 na equa\u00e7\u00e3o 5.2) para cada junta, e as constantes puderam ser calculadas resolvendo os seguintes sistemas de equa\u00e7\u00f5es :\n(5-2)\nIsto feito, foi poss\u00edvel calcular a tens\u00e3o necess\u00e1ria para levar o manipulador para a posi\u00e7\u00e3o desejada:\n(5.3)\nFeitas as devidas transforma\u00e7\u00f5es , o sistema foi ligado e testado.\n5.2\tConclus\u00f5es\n\u2014\tO sistema no modo \u201dm \u00e1ster-slave\u201d manteve todas as fun\u00e7\u00f5es originais e ganhou a possibilidade de arquivar trajet\u00f3rias inteiras ou pontos para cria\u00e7\u00e3o de trajet\u00f3rias \u2019\u2019offline\u201d;\n\u2014\t0 modo de controle via teclado mostrou-se bastante \u00fatil para movimentos nas proximidades do objeto, quando apenas determinada junta deve ser movimentada;\n\u2014\t0 modo de controle autom\u00e1tico mostrou ser poss\u00edvel e bastante \u00fatil armazenar trajet\u00f3rias para posterior uso;\n\u2014\tO modo de controle via Mouse Espacial mostrou-se bastante \u00fatil e pr\u00e1tico, principalmente em se tratando de movimentos com maior exig\u00eancia de controle na orienta\u00e7\u00e3o da garra;\n\u2014\t0 modelo implementado mostrou-se bastante eficaz e r\u00e1pido, n\u00e3o sendo fator limitante na quest\u00e3o de resposta em tempo real;\n\u2014\t0 sistema Kraft tem uma grande depend\u00eancia do \u2019\u2019master\u201d, mas o controle via microcomputador mostrou-se vi\u00e1vel e bastante \u00fatil, tanto no modo de controle via teclado quanto no modo de controle via Mouse Espacial,\n5.3\tSugest\u00f5es para Trabalhos Futuros\n\u2014\tUm dos objetivos do trabalho foi a minimiz a\u00e7\u00e3o do tempo de inicializa\u00e7\u00e3o do sistema atrav\u00e9s do uso do Mouse Espacial. Uma possibilidade de melhorar ainda mais este tempo seria construir uma nova caixa de controle para o sistema, de forma que a depend\u00eancia do \u2019\u2019master\u201d pudesse ser eliminada.\n\u2014\tUm dos motivos da escolha do modelo implementado foi o esfor\u00e7o computacional. Seria interessante uma compara\u00e7\u00e3o quantitativa entre este modelo e o modelo usando a sistem\u00e1tica de Denavit-Hartenberg, o qual ainda \u00e9 bastante usado atualmente.\n\u2014\tSeria interessante a implementa\u00e7\u00e3o de um Mouse Espacial com realimenta\u00e7\u00e3o de for\u00e7a, o que seria muito \u00fatil para aplica\u00e7\u00f5es deste tipo.\n\u2014\tSeria interessante implementar um sistema no qual o Mouse Espacial fosse impedido de continuar o movimento quando algum \u00e2ngulo de junta estivesse para sair do limite permitido pelo modelo inverso do manipulador. Isto evitaria des acoplamentos indesejados.\nBibliografia\n[1]\tSpong, M. W.; Vidyasagar, M.; Robot Dynamics and Control; John Wiley &amp; Sons, Inc.;\n1989.\n[2]\tUnderwater Manipulator System; Kraft TeleRobotics, Inc.; 1985.\n[3]\tCruz, J.M Projeto e Desenvolvimento de um Sistema de Gera\u00e7\u00e3o Autom\u00e1tica de Trajet\u00f3ria para Manipuladores; Tese de Mestrado; 1993.\n[4]\tDuffy, J.; Analysis of Mechanisms and Robot Manipulators; John Wiley &amp; Sons, Inc,; 1980.\nAp\u00eandice A\nCaracter\u00edsticas T\u00e9cnicas do Manipulador\nKraft\nA.l Especifica\u00e7\u00f5es Gerais\nM\u00e1ximo alcance Capacidade de carga com o bra\u00e7o extendido Graus de liberdade de movimento\t130 cm 34 kg 6 (+ abrir/fechar garra)\nA.2 Efetuador\nPadr\u00e3o Abertura m\u00e1xima da garra For\u00e7a de fechamento da garra M\u00e9todo de controle\tGarra paralela 10 cm 90 kg For\u00e7a proporcional\nA.3 Movimento das Juntas\nEixos\tExcurs\u00e3o (graus)\tVelocidade (graus/s)\nShoulder azimuth\t180\t80\nShoulder elevation\t120\t65\nElbow pivot\t110\t50\nWrist pitch\t100\t100\nWrist yaw\t105\t115\nWrist rotate:\t\t\nMo do 1 (slaved)\t180\t200\nMo do 2 (continuo)\t\u2014\t210\nEstes movimentos s\u00e3o mostrados na figura A.l a seguir.\nWRIST PITCH\nDA\nSHOULDER\nAZIMUTH\n* SHOULDER ELEVATE\nWRIST ROTATE\nMODO 3 (CONTINUO)\nMAXIMA\nABERTURA GARRA (10 em)\nWRIST ROTATE\nMODO 1 (SLAVED)\nFigura A.l: Movimentos das Juntas do Manipulador Kraft.\nAp\u00eandice B\nListagem dos Modelos Implementados\n#include&lt;stdio.h>\n#include&lt;conio.h>\n#include&lt;stdlib.h>\n#include&lt;dos.h>\n#include&lt;math.h>\n#include \"beginl.h.\"\nint Kraftlnv (double *G_, double *S6_, double *a67_,double *phi\u201etetas); void KraftDir (double *phi_tetas, double *G_, double *S6_, double *a67_); void trassforma(double beta, double X[3], double X0[3]);\nvoid salva\u201ephitetas(void);\ndouble sup3,phi_tetas [8] ,G_[3] ,omi_[3] ;\ndouble S6_[3],a67_[3],si[3];\nint I;\n/**********************************************************************\n* MODELO CINEMATICO INVERSO\t4\n************************************************************* *********y,'\n#define DotProd(x,y) (x[0]*y[0] + x(l]*y[l] + x[2]*y\u00a32j)\n#define sign(x) ((x>-0)~(x<0))\n#define quad(x) ((x)*(x))\n/ *************************************************************************\n*\t-\tA \u00eduncao deve retomar\tum valor inteiro\tnao\tnulo\tse\texistir\tsolucao.*\n*\t-\t0 array phi_tetas deve\tter espa\u00e7o\tpara\t8\tcomponentes,\tou\tseja:\t*\n*\tphi_tetas\u00a30] - phii\t*\n*\tph.i_tetas [1.. . 7] = tetal...teta7\t*\n*************************************************************************/\nint Kraftlnv (double *G_, double *S6_, double *a67_,\ndouble *phi\u201etetas)\n<\ndouble /*ld_keep,*/keep,keep2; /* variavel de uso generico e tempor\u00e1rio \u2666/\ndouble S7i\u201e[3j; /* 0 underscore indica que a variavel e um vetor com componentes nos eixos x, y e 2. 0 \"i\u201d substitui a interroga\u00e7\u00e3o usada no desenvolvimento anal\u00edtico,\nou seja, S7i\u201e aqui = S7? la. */\ndouble DEU;\t/* denominador da eq.(S) \u2666/\ndouble S7, SI, a71, lambda, sig.lam;\ndouble S7\u201e[3], a71_[3], ALFA71, ALFA67;\ndouble eta;\ndouble A71_C3];\ndouble /*X7, Y7,*/ X17, Y17, teta6, teta6_linha,teta5;\ndouble P,Q,c2,s2,/*Xl,Yl,*/X71,Y71,Z17;\nS7i\u201e[0] = a67_[1]*S6_[2] - S6\u201e[l]*a67\u201e[2] ;\nS7i_[lJ = a67\u201e [2] *S6\u201e [0] - S6_ [2] *a67_ [0] ;\nS7i_C2] = a67_C0]*S6_[ll - S6_[0]*a67_ [1] ;\n******************************\n* Calculo de teta[7] => phi\u201etetas[7j * *************************************/\nDEN = quad(S7i\u201e [0] ) + quad(S7i\u201e[l] ) ;\nif ((0<=DEN) &amp;&amp; (DENO3.0E-8)) /\u2666 conforme analise feita para a eq.(5) */\n<\nS7 = 0; /* comprimento do lado do pol\u00edgono espacial ao longo do vetor S7_ */ S7_[0] = S7i_t0];\nS7\u201e[l] = S7i_Cl];\nS7_[2] = S7i\u201e[2];\nSI = SO - G_[2] ;\na71 = sqrt( quad(G_[0]) + quad(G_[l]) );\nif (a71==0)\n<\na71\u201e[0j \u00ab a67_[0];\na71_[lj = a67_[lj;\na71_[2] = a67_[2];\nelse\n<\na71_\u00a30] = -G_[0]/a71;\na71_[lj = -G_[l]/a71;\na71_[2] = 0;\nALFA67 - PI_2;\nkeep - DotProd(a71\u201e>a67\u201e);\nif (fabs(keep)<=1.OE-8)\nphi_tetas[7] ~ PI\u201e2 * sign(DotProd(a71_>S6\u201e)); else\nphi_tetas[7] * atan2(DotProd(a71_,S6\u201e) ,keep) ;\nif (S7\u201e[2]<0)\nALFA71 - PI;\nelse\nALFA71 - 0;\n}\nelse\t/\u2666 DEN fora do intervalo considerado zero \u2666/\n<\nlambda = ~(G_[0]*S7i_[0] + G_[l] *S7i_[l] )/DEN;\nS7 - fabs(lambda);\nsig\u201elam = sign(lambda);\nS7_[0] = sig\u201elam*S7i_[0] ;\nS7_\u00a31J = sig\u201elam*S7i_[l] ;\nS7-E2J = sig\u201elam*S7i_[2];\neta = G_[2] + lambda*S7i_[2];\t/* eq,(6) */\nSI ~ S0 - eta;\t/* eq.(10) */\nA71_[0] = -(G\u201e[0] + lambda*S7i_\u00a30j );\nA71_[lj = -(G\u201e[1J + lambda*S7i\u201e[l]);\nA71_[2] = eta - (G_ [2] + lambda*S7i_[2]);\na71 = sqrt (quad(A71_ [0] )+quad(A7\u00ed_[l] )+quad(A71_ [2] ) ) ; /\u2666 eq.(13) */ i\u00ed (a7K=1.0E-8)\n<\na71_\u00a30] = S7_\u00a3ll; a71_[l] = - S7\u201e[0]; a71_[2] = 0;\n/\u2666 eq.(15\u2019) */\nelse\na71_\u00a30j = A71_[0]/a71;\na71\u201e[l] = A71_\u00a3l]/a71;\na71_[2] = A71_[2]/a7\u00ed;\n>\nALFA67 = PI_2 * (2 - sign(lambda)); keep - DotProd(a71_,a67_);\nif (fabs(keep)<=1.OE-8)\nph.i_tetas\u00a37] = PI_2 * sign(lambda)*sign(DotProd(a71_,S6_)); /*\nelse\t.....\"..\t. ---\t-\n/*\n/*\neq.(IS)\neq.(16)\n*/\n\u2666/\neq.(17) */\nphi_tetas[7] = sign(lambda)*atan2(DotProd(a71_f S6_) ,keep) ;\nALFA71 = atan2(a71__[0]*S7_[l] - a71_ [1] *S7\u201e[0] ,S7\u201e[2] );\t/* eq.(18) */\n}\n/*********************************\n*\tCalculo de phi => phi_tetas[O] *\n*********************************/\n/* phil-tetal (eq.18) sera armazenado temporariamante em phi_tetas[O]\n(lugar de ph.il) ate que tetal seja calculado */\nphi_tetas[O] = atan2(a71\u201e[1] ,a71\u201e[0] ) ; /* (-PI^PI] */\nphi_tetas[O] s= phi_tetas[Oj + PI2*(phi_tetas[0]<0); /* [0,2PI) */\n/*************************************\n*\tCalculo de tetaCl] => phi_tetas[l] *\n*************************************/\n/********************\n*\tCalculo de phi[l] *\n********************/\nkeep2 = S6*sin(ALFA67)*sin(phi\u201etetas[7j)ta71;\nkeep = S7*sin(ALFA71) +S6*cos (ALFA71)*sin(ALFA67)*cos(phi_tetas [7] ) ;\nif ( (fabs(keep)<=:l. 0E\"12)&amp;&amp;(fabs (keep2)<=l. OE-12) )\nreturn 1;\t/* Teta[l] indeterminado \u2666/\nkeep = atan2(keep,keep2);\t/* tetal (-PI.PI] */\nkeep2 ~ keep + phi_tetas[0];\t/* phil (~PI,3PI] \u2666/\nkeep2 = keep2 - PI2*(keep2>PI); /\u2666 phil (~PI,PI] */\nif ((infl>keep2) II (keep2>supl))\t/* teste dos limites \u2666/\n{\t/* de phi[lj\t*/\nkeep2 ~ keep2 + PI; /* segunda solucao para phil (0,2PIj */ phi_tetas[O] = keep2 - PI2*(keep2>PI);\t/* phil (-PIjPI] */\nkeep = keep + PI; /*tetal (0>2PI) */\nphi_tetas[l] - keep - PI2*(keep>PI);\t/* tetal (-PI,PI] */\nif ((infl>phi_tetas[Oj) II (phi_tetas[O]>supl))\nreturn 11;\nelse /\u2666 Primeira solucao boa. A segunda cert ament e esta fora dos limites*/\nphi_tetas[Oj - keep2; /* phil (-PI,PI) */\nphi_tetas[l] = keep; /* tetal (\"PI^PI) */\n>\n/***#******#********+*\n*\tCalculo de teta[6] *\n**********^**********/\nX17 = sin(phi\u201etetas [11 )*cos(phi_tetas [7] )+cos(ALFA71)*cos(phi_tetas [1] ) *sin(phi_tetas[7]);\nY17 = sin(ALFA67)*sin(ALFA71)*cos(phi\u201etetas[1]);\nteta6 = atan2(Y17,~X17);\t/* teta6 (~PI,PIJ */\nteta.6_li.nha = teta6 + PI;\t/* teta6_linha C0>2PI) */\nteta6\u201elinha = teta6_linha ~ PI2*(teta6_linha>PI); /* teta6\u201elinha (-PIjPI]*/\nZ17 = sin(ALFA67)*(sin(phi_tetas[l] )*sin(phi_tetas[73 )\n-cos(ALFA71)*cos(phi\u201etetas[1])*cos(phi_tetas[7] ));\nif(fabs(cos(teta6))>.71) /* Icos(teta6)I>Isen(teta6)| */\ntetaS = atan2(-X17/cos(teta\u00f4) ,Z17);\t/* (\"PI,PI] (eq.55)*/\nelse\ntetaS = atan2(Y17/sin(teta6) ,Z17) ;\t/* (~PI,PI] (eq.56)*/\nif ((teta6>-inf6) &amp;&amp; (teta6<-sup6))\n<\n/+*#***+++*+******+***\n*\tCalculo de teta[S3 \u2666\n****************+****/\nif ((inf5<=teta5) &amp;&amp; (teta5<=sup5)) /* teste dos limites */\n\u2022{ phi_tetas[6] - tetaS; phi_tetas [5]=teta5;}\t/* de teta[5] \u2666/\nelse\nif ((inf6<=teta6_lmha) &amp;&amp; (teta6_linha<=sup6))\n<\ntetaS = -tetaS; /* [~PI,PI) eq.SS \u2666/\nif((teta5>=infS)&amp;&amp;(tetaS<=supS) )\ni phi_tetas[63 =teta6_linha; phi_tetas[5]=teta5;}\nelse\nreturn 55;\t/* teta[5] fora dos limites */\n}\nelse\nreturn 66;\t/* teta[53 e teta[63 fora dos limites \u2666/\nelse\n<\nif ( (t et a6 _1inha>- inf 6 )\t(t e t a6 _1 inha<\u201c sup6 ) )\n<\ntetaS = -tetaS;\nif ((teta5>=inf 5)&amp;&amp;(teta5<=sup5))\n{ phi_tetas[6]-teta6_linha; phi.tetas[53-tetaS;} else\nreturn 55;\n}\nelse\nreturn 66;\n}\n/*********************\n*\tCalculo de teta [3] *\nX71 = sin(ALFA67)*sin(phi\u201etetas[7] )*cos (phi\u201etetas [1] ) +\nsin(ALFA67)*cos(ALFA71)*cos(phi__tetas [7] )*sin(phi_tetas[1] ) ;\nY71 = sin(ALFA67)*sin(ALFA71)*cos(phi_tetas [73 ) ;\nkeep = (a45/sin(phi_tetas[5]))+S6;\nP = keep*X71+(S5/sin(phi_tetas[5] ) )*Y71+S7*sin(ALFA71)*sin(phi._tetas [1] )\n+a7l*cos(phi_tetas[1]);\nQ = keep*Y71-(S5/sin(phi_tetas[5] ))*X71-S7*cos(ALFA71)-Sl;\nkeep=(P*P+Q*Q-a23*a23~a34*a34)/(2.0*a23*a34);\nif((keep<\"l)I I(keep)>l)\nreturn 99;\nphi\u201etetas[33 = -acos(keep);\nif (finf3>phi\u201etetas[33) II (phi_tetas[3]>sup3_maior)) /* teste dos limites*/\nreturn 33;\t/* de teta[33\t*/\n/\u2666 Para sabermos se teta3 esta ok, precisamos saber o valor de teta2,\npois o limite superior de teta3 depende de teta2*/\n/*+*++*+++*+*****+****\n*\tCalculo de teta[2] *\n***#*****************/\nkeep=a23+a34*cos (ph.i_tetas [3]);\nkeep2=a34*sin(phi_tetas[33);\nc2 = (Q*keep2~P*keep)/(quad(keep)+quad(keep2));\ns2 ~ (P+keep*c2)/keep2;\n* ou :\t*\n* s2 - (Q-keep2*c2)/keep;\t*\n+ ^**3(t*ii:* + ^*4: + + ** + **** + **4:*** + ** + + *********** + **4:**^^**:#****/\nphi\u201etetas[2] - atan2(s2,c2);\t/* (-PI,PI) */\nif ( (inf 2>phi_tetas [2] ) El (phi_tetas [2] >sup2))\t/* teste dos limites */\nreturn 22;\t/\u2666 de teta[2]\t*/\nsup3 = sup3_maior-(phi_tetas [2]-inf2)*(sup3_maior-sup3_menor)/(sup2-inf 2) ;\nif (phi_tetas [3] >sup3)\nreturn 33;\n/a*********************\n* Calculo de teta[4] *\n#$*******************/\nif((fabs(X71)<=i.0E-12)&amp;&amp;(fabs(Y7i)<=1.0E~12))\nreturn 4;\t/* Teta[4] indeterminado */\nphi_tetas[4] = atan2(-Y71 ,X71) - (phi_tetas [2]+phi_tetas [3] );\t/* (~PI,PI) */\nif ( (inf4>phi_tetas [4] ) II (phi_tetas[4]>sup4)) /* teste dos limites*/ return 44;\t/\u2666 de teta[4] */\nreturn 8;\n}\n/** + ************** + ************************ ******* + *************4:******\n* MODELO CINEMATICO DIRETO\t*\n***************************$***************+**************************/\nvoid KraftDir (double *phi_tetas, double *G_t double *S6_, double *a67_)\n<\ndouble temp, tempi;\ndouble /*Si\u201e[3ji*/ a23_[3j, a34\u201e[3], a45_t3], S5_[3],\na67_linhaE3] , G_linha[3] , S6_linhaE3] ;\n/* S1_CO] = 0; Sl\u201e[l] - 0;\tSl_[2] = 1;*/\na23_[0] - cos (phi_tetas [2] );\ta23_[i] = sin(phi_tetas [2] ) ; a23_[2] = 0;\ntempi = phi_tetas[2] + phi_tetas [3] ;\na34_[0] = cos(templ); a34_[l] = sin(templ); a34_[2] - 0;\ntemp = tempi + phi_tetas [4] ;\na45\u201e[0j = cos(temp); a45_[l] = sin(temp); a45_[21 = 0;\nS5_ [01 = \u2014 sin(temp); S5\u201e[ll = cos(temp); S5_[21 = 0;\nS6\u201elinha[01 - sin(phi_tetas[51)*cos(temp);\nS6_linhaEl] = sin(phi_tetas [5] )*sin(temp);\nS6\u201elinha[21 - cos (phi\u201etetas [5] ) ;\na67_linha [0] = -sin(temp)*sin(phi_tetas [6] )+cos(temp)*cos(phi_tetas [5j ) *cos(phi_tetas[61);\na67_linha[ll = cos(temp)*sin(phi\u201etetas[6] )+sin(temp)*cos(phi__tetas [51 ) \u2666cos(phi\u201etetas[61);\na67_linha[2] = -~s in (phi_tetas [51 )*cos (phi_tetas [6] ) ;\nG\u201elinha[Oj = a23*a23\u201e[01+a34*a34\u201e[01+a45+a45_[01+S5*S5_[0] +S6*S6_linha[0];\nG_linha[ll = a23*a23\u201e[ll+a34*a34_[l] +a45*a45_ [1]+S5+S5_ [1] +S6*S6_linha[1] ;\nG_linha[2j = a23*a23_ [21 +a34*a34_ [2] +a45*a45_ [2]+S5+S5_[2] +S6*S6_linha[2] ;\ntrans\u00ed orma (phi _t etas [01,a67_linha, a67__) ; transforma(phi_tetas[01 ,S6_linha,S6_);\ntrans\u00ed orma (phi _t etas [01,G_linha,G_) ;\nG_ [21 = G_[21 + SO;\nsi[01 = - a67_[l]*S6_[2] + S6_[ll*a67_[2] ;\nsi[l] = - a67_[21*S6_[0] + S6_ [21 *a67_ [0] ;\nsi[21 = - a67\u201e[01*S6_[l] + S6_[0>a67_[l] ;\n}\nvoid trans forma (double teta, double X[3j, double X0[3])\n<\nX0[0j = X[01*cos(teta) + X[21*sin(teta);\nX0[l] = X[0]*sin(teta) - X[21*cos(teta);\nX0[2j = XCU;\n>"}]}}}